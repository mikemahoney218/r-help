From Jason.Law at portlandoregon.gov  Thu May  1 01:45:40 2014
From: Jason.Law at portlandoregon.gov (Law, Jason)
Date: Wed, 30 Apr 2014 16:45:40 -0700
Subject: [R] help using extrafont package | R graphics
In-Reply-To: <535C1D08.80609@gmail.com>
References: <535C1D08.80609@gmail.com>
Message-ID: <0EFBC7C31DB4F24F8CAC48136A1762D7018F4C2706DE@MAIL2.rose.portland.local>

On my system, the name of the Garamond font file is GARA.TTF. 

Thus,
font_import(pattern = 'GARA') 

will work, but 
font_import(pattern="gara") 

won't.  Unfortunately, font_import seems to fail rather ungracefully when there is no match to a pattern.

Jason

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Evan Cooch
Sent: Saturday, April 26, 2014 1:55 PM
To: r-help at r-project.org
Subject: [R] help using extrafont package | R graphics

Greetings --

Submitted this a little while ago -- for some reason, still being held up by the moderator. Trying again...


For a host of reasons, I need to use/embed Garamond font with various R 
graphics for a particular publication. I've figured out how to more or 
less get there from here, using the following sequence:


library(extrafont)

Then, I need to import the system fonts (Windoze box, R 3.1.0).

So, I use

font_import()

But, this takes a *huge* amount of time, and often throws errors as it 
chokes on various fonts (I have probably 250+ fonts installed). I only 
want *one* font (Garamond). But, for the life of me, I can't figure out 
how to get font_import to select only the single font I want. In theory

font_import(paths = NULL, recursive = TRUE, prompt = TRUE, pattern = NULL)

as defaults, where pattern is a regex that font filenames must match.

The file name for Garamong is gara.ttf, so I tried

font_import(pattern="gara")

R responds with 'Importing fonts make take a few minutes, depending on 
the...etc, etc'.
Continue? [y/n]

Hit 'y', and am presented with

Scanning ttf files in C:\Windows\Fonts ...
Extracting .afm files from .ttf files...
Error in data.frame(fontfile = ttfiles, FontName = "", stringsAsFactors 
= FALSE) :
   arguments imply differing number of rows: 0, 1

I have no idea what to do with this.

Suggestions/pointers to the obvious welcome. And I thought futzing with 
fonts in LaTeX was fun! ;-)


	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From Scott.Waichler at pnnl.gov  Thu May  1 03:03:56 2014
From: Scott.Waichler at pnnl.gov (Waichler, Scott R)
Date: Thu, 1 May 2014 01:03:56 +0000
Subject: [R] Using apply with more than one matrix
In-Reply-To: <95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
Message-ID: <074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>

Here is a working example with no random parts.  Thanks for your patience and if I'm still off the mark with my presentation I'll drop the matter.  

v <- c(NA, 1.5, NA, NA,
       NA, 1.1, 0.5, NA,
       NA, 1.3, 0.4, 0.9)
a1 <- array(v, dim=c(2,2,3))
m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
condition1 <- !is.na(m1)& m1 > m2

ans <- matrix(NA, ncol=2, nrow=2) # initialize
for(i in 1:2) {
  for(j in 1:2) {
    ind.not.na <- which(!is.na(a1[i,j,]))
    if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <- a1[i,j,ind.not.na[1]] + m2[i,j]
  }
}
ans
     [,1] [,2]
[1,]   NA 1.66
[2,] 3.14   NA

Let me try asking again in words.  If I have multiple matrices or slices of 3d arrays that are the same dimension, is there a way to pass them all to apply, and have apply take care of looping through i,j?  I understand that apply has just one input object x.  I want to work on more than one array object at once using a custom function that has this characteristic:  in order to compute the answer at i,j I need a result from higher order array at the same i,j.  This is what I tried to demonstrate in my example above.

Thanks,
Scott


From dulcalma at bigpond.com  Thu May  1 04:00:40 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Thu, 1 May 2014 12:00:40 +1000
Subject: [R] set axis limit in lattice
In-Reply-To: <CAMk+s2SUaxCCVttFHTbcHBx+m+dfbxGUCRNG4VbvPcAOf8P_eA@mail.gmail.com>
References: <CAMk+s2Q88uNjabzeTGiZeHE4vzWczREaB25BVFt1Bzc=epTxpA@mail.gmail.com>	<000601cf6400$f927dab0$eb779010$@bigpond.com>
	<CAMk+s2SUaxCCVttFHTbcHBx+m+dfbxGUCRNG4VbvPcAOf8P_eA@mail.gmail.com>
Message-ID: <001201cf64e1$27dda4d0$7798ee70$@bigpond.com>

If you just want to limit the axis just insert as arguments
for the x axis
xlim = c(min, max), 
and for the y
ylim = c(min,max) ,
where min and max correspond to the appropriate min and max  for the x and y axes

As for the panel.groups you mention medians where I was using means - if you want medians you will have to amend means to medians  

Make sure for the groups you have the right mode numeric/ factor ?
I do not know what igra is

Duncan

-----Original Message-----
From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com] 
Sent: Thursday, 1 May 2014 03:54
To: Duncan Mackay
Subject: Re: [R] set axis limit in lattice

Dear Duncan,
these solutions are actually splitting the drawing in different panels
and the scale=free is giving different limits to each panel. I still
need the relation=same but just to input myself the fixed limits of
the axis. It should go into the scale argument but i don't know the
actual syntax.
As for the segments, you were perfectly right, there was a problem
with my script so the medians did not match the actual data. Your
solution using panel.groups works on the example, but when I copied it
to the actual dataframe I am working with it did not work despite the
fact of being of quite a general syntax. could you please give a look
at the dataframe I have attached and see where I made a mistake in
applying your solution? what I wrote is:

  my.data.IP10<-subset(my.data, gene=="i" & stimulus != "Unstimulated")

stripplot(
   my.data.IP10$ratio ~
factor(my.data.IP10$igra)|factor(my.data.IP10$stimulus, levels =
c("ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
         my.data,
         group = my.data.IP10$igra,
         hor=F,
        layout = c(7,1),
         scales = list(x = list(draw=FALSE)),
   jitter.data=TRUE,
   pch=c(1,16),
   col="black",
         ylab=expression(bold("Ratio GOI/RG")),
         xlab=expression(bold("Antigen stimulation")),
         main="IP10 expression",
         par.settings = list(strip.background=list(col="light grey")),
             par.strip.text=list(font=2),
       key = list(space="top", columns=2, text=list(c("IGRA Negative",
"IGRA Positive"), col="black"), points=list(pch=c(1,16),
col="black")),

 panel = panel.superpose,
        panel.groups = function(x, y, group.number, ...) {

                        panel.segments(x0= x-0.25, x1=x+0.25,
y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
                         lwd=c(2:1)[group.number], col = c(1:2)[group.number])

                        panel.stripplot(x,y, ...)
              }
)


### Many thanks
### Best regards
Luigi


On Wed, Apr 30, 2014 at 12:15 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
> Hi Luigi
>
> This produces plenty of white space for the y axes
>
> Y<-max(my.data$copy)
>
> stripplot(
>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>        my.data,
>        group = positivity,
>        hor=F,
>        layout = c(8,1),
>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>                      y= list(relation = "free")),
>        jitter.data=TRUE, pch=c(16,1), col="black",
>        ylab=expression(bold("Copy")),
>        xlab=expression(bold("Stimulation")),
>        main="Plot",
>        par.settings = list(strip.background=list(col="white")),
>        par.strip.text=list(font=2),
>        key = key.plot,
>        panel = function(x, y, ...)
>   {
>             pnl = panel.number()
>   k<-0
>   for (i in 1:2){
>    datme<-subset(datmeA, positivity==i-1)
>              w<-i+k
>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],
>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>                   k=k+1
>
>       panel.stripplot(x,y, ...)
>    }
>              }
>        )
> You could limit the y-axis to your levels
> stripplot(
>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>        my.data,
>        group = positivity,
>        hor=F,
>        layout = c(8,1),
>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>                      y= list(relation = "free",
>                                  limits = list(c(0, max panel 1),
>                                                      c(0, max panel 2),
>                                                     ...
>                                                    c(0, max panel 8)),
>       )),
>        jitter.data=TRUE, pch=c(16,1), col="black",
>        ylab=expression(bold("Copy")),
>        xlab=expression(bold("Stimulation")),
>        main="Plot",
>        par.settings = list(strip.background=list(col="white")),
>        par.strip.text=list(font=2),
>        key = key.plot,
>        panel = function(x, y, ...)
>   {
>             pnl = panel.number()
>   k<-0
>   for (i in 1:2){
>    datme<-subset(datmeA, positivity==i-1)
>              w<-i+k
>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],
>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>                   k=k+1
>
>       panel.stripplot(x,y, ...)
>    }
>              }
>        )
>
> Sorting the stimulation groups shows that some of them can be loosely grouped so reordering the factors
>
> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>        my.data,
>        group = positivity,
>        hor=F,
>        layout = c(2,4),
>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>                      y= list(relation = "free")),
>        jitter.data=TRUE, pch=c(16,1), col="black",
>        ylab=expression(bold("Copy")),
>        xlab=expression(bold("Stimulation")),
>        main="Plot",
>        par.settings = list(strip.background=list(col="white")),
>        par.strip.text=list(font=2),
>        key = key.plot,
>        panel = function(x, y, ...)
>   {
>             pnl = panel.number()
>   k<-0
>   for (i in 1:2){
>    datme<-subset(datmeA, positivity==i-1)
>              w<-i+k
>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],
>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>                   k=k+1
>
>       panel.stripplot(x,y, ...)
>    }
>              }
>        )
>
> or using panel.groups
>
> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>        my.data,
>        group = positivity,
>        hor=F,
>        layout = c(2,4),
>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>                      y= list(relation = "free")),
>        jitter.data=TRUE, pch=c(16,1), col="black",
>        ylab=expression(bold("Copy")),
>        xlab=expression(bold("Stimulation")),
>        main="Plot",
>        par.settings = list(strip.background=list(col="white")),
>        par.strip.text=list(font=2),
>        key = key.plot,
>        panel = panel.superpose,
>        panel.groups = function(x, y, group.number, ...) {
>
>                         panel.segments(x0= x-0.25, x1=x+0.25, y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
>                         lwd=c(2:1)[group.number], col = c(1:2)[group.number])
>
>                         panel.stripplot(x,y, ...)
>              }
>       )
>
> Regards
>
> Duncan Mackay
>
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Luigi Marongiu
> Sent: Wednesday, 30 April 2014 03:58
> To: r-help at r-project.org
> Subject: [R] set axis limit in lattice
>
> Dear all,
>
> I would like to set the axis of a figure using the max() so to have
> more control on the limits of the axis -- this because in the actual
> case more independent figures are generated from the same dataframe
> and these must have the same axis scale.
>
> Since the figure is generated using lattice device, the syntax is too
> complicated for me: when I place the xlim=c(0,Y) in the arguments ?
> where Y is obtained using max(data) ? there is no result. In basic R
> this argument would work virtually in any position.
>
> Any tip?
>
> Best regards
>
> Luigi
>
>  ####CODE
> ### open plot library
> library(lattice)
> my.data<-structure(list(
>    column_1 = 1:120,
>    column_2 = structure(c(
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8,
>  1,2,3,4,5,6,7,8), .Label = c("Unst.", "ESAT6", "CFP10", "Rv3615c",
> "Rv2654", "Rv3879", "Rv3873", "PHA"), class = "factor"),
>  column_3 = structure(c(
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 1,1,1,1,1,1,1,1,
> 0,0,0,0,0,0,0,0)),
>      column_4 = c(
>  192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
>  2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
>  870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
>  0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
>  142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
>  3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
>  1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
>  208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
>  4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
>  2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
>  0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
>  97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
>  5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
>  3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
>  2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
> .Names = c("row", "stimulation", "positivity", "copy"), row.names =
> c(NA, -120L),
>  class = "data.frame")
>
> key.plot<-list(
>   space="top", columns=2,
>   text=list(c("Positive", "Negative"), col="black"),
>   points=list(pch=c(16,1), col="black"))
>
> datmeA <- aggregate(copy ~ positivity+stimulation, my.data, median, na.rm = T)
>
> X<-c(0.7, 1.3, 1.7, 2.3)
>
> Y<-max(copy)
>
> stripplot(
>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>        my.data,
>        group = positivity,
>        hor=F,
>        layout = c(8,1),
>        scales = list(x = list(at = c(1,2), labels = c("N","P"))),
>        jitter.data=TRUE, pch=c(16,1), col="black",
>        ylab=expression(bold("Copy")),
>        xlab=expression(bold("Stimulation")),
>        main="Plot",
>        par.settings = list(strip.background=list(col="white")),
>        par.strip.text=list(font=2),
>        key = key.plot,
>        panel = function(x, y, ...)
>   {
>             pnl = panel.number()
>   k<-0
>   for (i in 1:2){
>    datme<-subset(datmeA, positivity==i-1)
>              w<-i+k
>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],
>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>                   k=k+1
>
>       panel.stripplot(x,y, ...)
>    }
>              }
>        )
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From rmh at temple.edu  Thu May  1 04:57:35 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Wed, 30 Apr 2014 22:57:35 -0400
Subject: [R] Using apply with more than one matrix
In-Reply-To: <074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
Message-ID: <CAGx1TMAQ0mM1DLs7Dk-Sj1w0xU3-Jytd3HEuPrQUP+ZQD3mheQ@mail.gmail.com>

Try
?mapply

Description:

     'mapply' is a multivariate version of 'sapply'.  'mapply' applies
     'FUN' to the first elements of each ...  argument, the second
     elements, the third elements, and so on.  Arguments are recycled
     if necessary.

Rich

On Wed, Apr 30, 2014 at 9:03 PM, Waichler, Scott R
<Scott.Waichler at pnnl.gov> wrote:
> Here is a working example with no random parts.  Thanks for your patience and if I'm still off the mark with my presentation I'll drop the matter.
>
> v <- c(NA, 1.5, NA, NA,
>        NA, 1.1, 0.5, NA,
>        NA, 1.3, 0.4, 0.9)
> a1 <- array(v, dim=c(2,2,3))
> m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> condition1 <- !is.na(m1)& m1 > m2
>
> ans <- matrix(NA, ncol=2, nrow=2) # initialize
> for(i in 1:2) {
>   for(j in 1:2) {
>     ind.not.na <- which(!is.na(a1[i,j,]))
>     if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <- a1[i,j,ind.not.na[1]] + m2[i,j]
>   }
> }
> ans
>      [,1] [,2]
> [1,]   NA 1.66
> [2,] 3.14   NA
>
> Let me try asking again in words.  If I have multiple matrices or slices of 3d arrays that are the same dimension, is there a way to pass them all to apply, and have apply take care of looping through i,j?  I understand that apply has just one input object x.  I want to work on more than one array object at once using a custom function that has this characteristic:  in order to compute the answer at i,j I need a result from higher order array at the same i,j.  This is what I tried to demonstrate in my example above.
>
> Thanks,
> Scott
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Thu May  1 05:45:34 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 30 Apr 2014 20:45:34 -0700
Subject: [R] Using apply with more than one matrix
In-Reply-To: <074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
Message-ID: <A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>


On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:

> Here is a working example with no random parts.  Thanks for your patience and if I'm still off the mark with my presentation I'll drop the matter.  
> 
> v <- c(NA, 1.5, NA, NA,
>       NA, 1.1, 0.5, NA,
>       NA, 1.3, 0.4, 0.9)
> a1 <- array(v, dim=c(2,2,3))
> m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> condition1 <- !is.na(m1)& m1 > m2
> 
> ans <- matrix(NA, ncol=2, nrow=2) # initialize
> for(i in 1:2) {
>  for(j in 1:2) {
>    ind.not.na <- which(!is.na(a1[i,j,]))
>    if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <- a1[i,j,ind.not.na[1]] + m2[i,j]
>  }
> }
> ans
>     [,1] [,2]
> [1,]   NA 1.66
> [2,] 3.14   NA

I would ask you to look at this loop-free approach and ask if this is not equally valid?

ans <- matrix(NA, ncol=2, nrow=2) 
ind.not.na <- which(!is.na(a1))
ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal dimensions, one logical.
 ans
     [,1] [,2]
[1,]   NA 1.66
[2,] 2.74   NA
> 
> Let me try asking again in words.  If I have multiple matrices or slices of 3d arrays that are the same dimension, is there a way to pass them all to apply, and have apply take care of looping through i,j?

I don't think `apply` is the correct function for this. Either `mapply` or basic matrix operation seem more likely to deliver correct results:


> I understand that apply has just one input object x.  I want to work on more than one array object at once using a custom function that has this characteristic:  in order to compute the answer at i,j I need a result from higher order array at the same i,j.  

If you want to iterate over matrix indices you can either use the vector version e.g. m2[3] or the matrix version, m2[2,1[.

vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )



> This is what I tried to demonstrate in my example above.
> 
> Thanks,
> Scott

David Winsemius
Alameda, CA, USA


From yixuan.qiu at cos.name  Thu May  1 03:33:29 2014
From: yixuan.qiu at cos.name (Yixuan Qiu)
Date: Wed, 30 Apr 2014 21:33:29 -0400
Subject: [R] help using extrafont package | R graphics
In-Reply-To: <535C1D08.80609@gmail.com>
References: <535C1D08.80609@gmail.com>
Message-ID: <CAFr_7yECFZ9u-ATSgM-9wPR_6uCf6r5a_dFcFMMCFqN-_of_=A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140430/ea46c5fc/attachment.pl>

From Scott.Waichler at pnnl.gov  Thu May  1 06:32:34 2014
From: Scott.Waichler at pnnl.gov (Waichler, Scott R)
Date: Thu, 1 May 2014 04:32:34 +0000
Subject: [R] Using apply with more than one matrix
In-Reply-To: <A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
Message-ID: <074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>

> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
> dimensions, one logical.
>  ans
>      [,1] [,2]
> [1,]   NA 1.66
> [2,] 2.74   NA

Thanks, I am learning something.  I didn't know you could multiply a logical object by a numerical one.  But notice the answer is not the same as mine, because I am doing an operation on the vector of values a1[i,j,] first.  

I tried a modification on sapply below, but it doesn't work  because I haven't referenced the 3d array a1 properly.  So I guess I must try to get a 2d result from a1 first, then use that in matrix arithmetic.

Sapply or mapply may work, I haven't used these much and will try to learn better how to use them.  Your use of sapply looks good; but I'm trying to understand if and how I can bring in the operation on a1.  This doesn't work:

evaluate <- function(idx) {
  ind.not.na <- which(!is.na(a1[idx,])) ]))  # doesn't work; improper indexing for a1
  if(length(ind.not.na) > 0) {
    return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))  # doesn't work; improper indexing for a1
  }
}
vec <- sapply(seq(length(m2)), evaluate)

Scott Waichler

> -----Original Message-----
> From: David Winsemius [mailto:dwinsemius at comcast.net]
> Sent: Wednesday, April 30, 2014 8:46 PM
> To: Waichler, Scott R
> Cc: Bert Gunter; r-help at r-project.org
> Subject: Re: [R] Using apply with more than one matrix
> 
> 
> On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
> 
> > Here is a working example with no random parts.  Thanks for your
> patience and if I'm still off the mark with my presentation I'll drop the
> matter.
> >
> > v <- c(NA, 1.5, NA, NA,
> >       NA, 1.1, 0.5, NA,
> >       NA, 1.3, 0.4, 0.9)
> > a1 <- array(v, dim=c(2,2,3))
> > m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> > m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> > condition1 <- !is.na(m1)& m1 > m2
> >
> > ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {  for(j
> > in 1:2) {
> >    ind.not.na <- which(!is.na(a1[i,j,]))
> >    if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
> > a1[i,j,ind.not.na[1]] + m2[i,j]  } } ans
> >     [,1] [,2]
> > [1,]   NA 1.66
> > [2,] 3.14   NA
> 
> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
> dimensions, one logical.
>  ans
>      [,1] [,2]
> [1,]   NA 1.66
> [2,] 2.74   NA
> >
> > Let me try asking again in words.  If I have multiple matrices or slices
> of 3d arrays that are the same dimension, is there a way to pass them all
> to apply, and have apply take care of looping through i,j?
> 
> I don't think `apply` is the correct function for this. Either `mapply` or
> basic matrix operation seem more likely to deliver correct results:
> 
> 
> > I understand that apply has just one input object x.  I want to work on
> more than one array object at once using a custom function that has this
> characteristic:  in order to compute the answer at i,j I need a result
> from higher order array at the same i,j.
> 
> If you want to iterate over matrix indices you can either use the vector
> version e.g. m2[3] or the matrix version, m2[2,1[.
> 
> vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
> 
> 
> 
> > This is what I tried to demonstrate in my example above.
> >
> > Thanks,
> > Scott
> 
> David Winsemius
> Alameda, CA, USA


From dwinsemius at comcast.net  Thu May  1 06:55:00 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 30 Apr 2014 21:55:00 -0700
Subject: [R] Using apply with more than one matrix
In-Reply-To: <074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
Message-ID: <243D0D55-6273-4200-9070-1AC08025B961@comcast.net>


On Apr 30, 2014, at 9:32 PM, Waichler, Scott R wrote:

>> I would ask you to look at this loop-free approach and ask if this is not
>> equally valid?
>> 
>> ans <- matrix(NA, ncol=2, nrow=2)
>> ind.not.na <- which(!is.na(a1))
>> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
>> dimensions, one logical.
>> ans
>>     [,1] [,2]
>> [1,]   NA 1.66
>> [2,] 2.74   NA
> 
> Thanks, I am learning something.  I didn't know you could multiply a logical object by a numerical one.  But notice the answer is not the same as mine, because I am doing an operation on the vector of values a1[i,j,] first.  
> 
> I tried a modification on sapply below, but it doesn't work  because I haven't referenced the 3d array a1 properly.  So I guess I must try to get a 2d result from a1 first, then use that in matrix arithmetic.
> 
> Sapply or mapply may work, I haven't used these much and will try to learn better how to use them.  Your use of sapply looks good; but I'm trying to understand if and how I can bring in the operation on a1.  This doesn't work:
> 
> evaluate <- function(idx) {
>  ind.not.na <- which(!is.na(a1[idx,])) ]))  # doesn't work; improper indexing for a1
>  if(length(ind.not.na) > 0) {
>    return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))  # doesn't work; improper indexing for a1
>  }
> }
> vec <- sapply(seq(length(m2)), evaluate)

Are we to assume that the length of `which(!is.na(a1[idx,])) ]))` is guaranteed to equal the length of the two other matrices? If not then what sort of relationships should be assumed?

-- 
David.

> 
> Scott Waichler
> 
>> -----Original Message-----
>> From: David Winsemius [mailto:dwinsemius at comcast.net]
>> Sent: Wednesday, April 30, 2014 8:46 PM
>> To: Waichler, Scott R
>> Cc: Bert Gunter; r-help at r-project.org
>> Subject: Re: [R] Using apply with more than one matrix
>> 
>> 
>> On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
>> 
>>> Here is a working example with no random parts.  Thanks for your
>> patience and if I'm still off the mark with my presentation I'll drop the
>> matter.
>>> 
>>> v <- c(NA, 1.5, NA, NA,
>>>      NA, 1.1, 0.5, NA,
>>>      NA, 1.3, 0.4, 0.9)
>>> a1 <- array(v, dim=c(2,2,3))
>>> m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
>>> m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
>>> condition1 <- !is.na(m1)& m1 > m2
>>> 
>>> ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {  for(j
>>> in 1:2) {
>>>   ind.not.na <- which(!is.na(a1[i,j,]))
>>>   if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
>>> a1[i,j,ind.not.na[1]] + m2[i,j]  } } ans
>>>    [,1] [,2]
>>> [1,]   NA 1.66
>>> [2,] 3.14   NA
>> 
>> I would ask you to look at this loop-free approach and ask if this is not
>> equally valid?
>> 
>> ans <- matrix(NA, ncol=2, nrow=2)
>> ind.not.na <- which(!is.na(a1))
>> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
>> dimensions, one logical.
>> ans
>>     [,1] [,2]
>> [1,]   NA 1.66
>> [2,] 2.74   NA
>>> 
>>> Let me try asking again in words.  If I have multiple matrices or slices
>> of 3d arrays that are the same dimension, is there a way to pass them all
>> to apply, and have apply take care of looping through i,j?
>> 
>> I don't think `apply` is the correct function for this. Either `mapply` or
>> basic matrix operation seem more likely to deliver correct results:
>> 
>> 
>>> I understand that apply has just one input object x.  I want to work on
>> more than one array object at once using a custom function that has this
>> characteristic:  in order to compute the answer at i,j I need a result
>> from higher order array at the same i,j.
>> 
>> If you want to iterate over matrix indices you can either use the vector
>> version e.g. m2[3] or the matrix version, m2[2,1[.
>> 
>> vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
>> 
>> 
>> 
>>> This is what I tried to demonstrate in my example above.
>>> 
>>> Thanks,
>>> Scott
>> 
>> David Winsemius
>> Alameda, CA, USA
> 

David Winsemius
Alameda, CA, USA


From marc_grt at yahoo.fr  Thu May  1 08:44:53 2014
From: marc_grt at yahoo.fr (Marc Girondot)
Date: Thu, 01 May 2014 08:44:53 +0200
Subject: [R] outer() problem
Message-ID: <5361ED65.8060603@yahoo.fr>

Dear list-members,

Can someone explains me why the last command gives an error. Thanks a lot:
 > outer(0:1, 0:1, FUN=function(x, y) {x+y})
      [,1] [,2]
[1,]    0    1
[2,]    1    2
 > outer(0:1, 0:1, FUN=function(x, y) {x})
      [,1] [,2]
[1,]    0    0
[2,]    1    1
 > outer(0:1, 0:1, FUN=function(x, y) {1})
Erreur dans outer(0:1, 0:1, FUN = function(x, y) { :
   dims [produit 4] ne correspond pas ? la longueur de l'objet [1]

Of course I simplify a lot my problem.

Thanks a lot

Marc


From ken.knoblauch at inserm.fr  Thu May  1 09:52:24 2014
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 1 May 2014 07:52:24 +0000
Subject: [R] outer() problem
References: <5361ED65.8060603@yahoo.fr>
Message-ID: <loom.20140501T094620-607@post.gmane.org>

Marc Girondot <marc_grt <at> yahoo.fr> writes:
>  > outer(0:1, 0:1, FUN=function(x, y) {1})
> Erreur dans outer(0:1, 0:1, FUN = function(x, y) { :
>    dims [produit 4] ne correspond pas ? la longueur de l'objet [1]

Because whatever the dimensions of your 2 input vectors,
this function simply returns the value 1 and outer expects
to generate an output that has a value for each pair of x and
y values, not a single value for the whole  set of xy pairs.

Note the lines in the source where the error occurs

 robj <- FUN(X, Y, ...)
 dim(robj) <- c(dX, dY)

where dX and dY are the lengths of x and y, respectively
in your case;

> Thanks a lot
> 
> Marc
> 
-- 
Kenneth Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From bhh at xs4all.nl  Thu May  1 10:02:23 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 1 May 2014 10:02:23 +0200
Subject: [R] outer() problem
In-Reply-To: <5361ED65.8060603@yahoo.fr>
References: <5361ED65.8060603@yahoo.fr>
Message-ID: <2EB9A9CD-E976-4F87-940D-4373A866EBB0@xs4all.nl>


On 01-05-2014, at 08:44, Marc Girondot <marc_grt at yahoo.fr> wrote:

> Dear list-members,
> 
> Can someone explains me why the last command gives an error. Thanks a lot:
> > outer(0:1, 0:1, FUN=function(x, y) {x+y})
>     [,1] [,2]
> [1,]    0    1
> [2,]    1    2
> > outer(0:1, 0:1, FUN=function(x, y) {x})
>     [,1] [,2]
> [1,]    0    0
> [2,]    1    1
> > outer(0:1, 0:1, FUN=function(x, y) {1})
> Erreur dans outer(0:1, 0:1, FUN = function(x, y) { :
>  dims [produit 4] ne correspond pas ? la longueur de l'objet [1]
> 
> Of course I simplify a lot my problem.

As the documentation for outer says the function arguments x and y are vectors not scalars.
Try this to see that

outer(0:1, 0:1, FUN=function(x, y) {print(x);x}) 
outer(0:1, 0:1, FUN=function(x, y) {print(x);print(y);x}) 

You are returning a scalar whereas outer expects the function to return a vector of the correct length.

A possible solution would be

outer(0:1, 0:1, FUN=function(x, y) {1+0*x}) 
outer(0:1, 0:1, FUN=function(x, y) {rep(1,length(x))}) 

Berend

From djnordlund at frontier.com  Thu May  1 10:09:38 2014
From: djnordlund at frontier.com (Daniel Nordlund)
Date: Thu, 1 May 2014 01:09:38 -0700
Subject: [R] A combinatorial assignment problem
In-Reply-To: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <F81A5ACD933A4A99A1868D119A817A6F@Aragorn>

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Ravi Varadhan
> Sent: Wednesday, April 30, 2014 10:49 AM
> To: r-help at r-project.org
> Subject: [R] A combinatorial assignment problem
> 
> Hi,
> 
> I have this problem:  K candidates apply for a job.  There are R referees
> available to review their resumes and provide feedback.  Suppose that we
> would like M referees to review each candidate (M < R).  How would I
> assign candidates to referees (or, conversely, referees to candidates)?
> There are two important cases:  (a) K > (R choose M) and (b) K < (R
> chooses M).
> 
> Case (a) actually reduces to case (b), so we only have to consider case
> (b).  Without any other constraints, the problem is quite easy to solve.
> Here is an example that shows this.
> 
> require(gtools)
> set.seed(12345)
> K <- 10  # number of candidates
> R <- 7    # number of referees
> M <- 3   # overlap, number of referees reviewing  each candidate
> 
> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
> assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE), ]
> assignment
> > assignment
>       [,1] [,2] [,3]
> [1,]    3    4    5
> [2,]    3    5    7
> [3,]    5    6    7
> [4,]    3    5    6
> [5,]    1    6    7
> [6,]    1    2    7
> [7,]    1    4    5
> [8,]    3    6    7
> [9,]    2    4    5
> [10,]    4    5    7
> >
> 
> Here each row stands for a candidate and the column stands for the
> referees who review that candidate.
> 
> Of course, there are some constraints that make the assignment
> challenging.  We would like to have an even distribution of the number of
> candidates reviewed by each referee.  For example, the above code produces
> an assignment where referee #2 gets only 2 candidates and referee #5 gets
> 7 candidates.  We would like to avoid such uneven assignments.
> 
> > table(assignment)
> assignment
> 1 2 3 4 5 6 7
> 3 2 4 4 7 4 6
> >
> 
> Note that in this example there are 35 possible triplets of referees and
> 10 candidates.  Therefore, a perfectly even assignment is not possible.
> 
> I tried some obvious, greedy search methods but they are not guaranteed to
> work.   Any hints or suggestions would be greatly appreciated.
> 
> Best,
> Ravi
> 

Well, if you don't need clever, a brute force approach could work (depending on the values of k, r, and m).  Something like this 


assignment <- function(k,r,m,max_iter=120) {
   n <- 0
   cmb <- combn(r,m)
   repeat {
     n <- n+1 
     tbl <- table(map<-cmb[,sample(1:choose(r,m),k)])
     if(min(tbl) == max(tbl)-1) break
     if(n > max_iter) break
   }
   return(t(map))
}
a <- assignment(10,7,3)


Dan

Daniel Nordlund
Bothell, WA USA


From djnordlund at frontier.com  Thu May  1 10:29:41 2014
From: djnordlund at frontier.com (Daniel Nordlund)
Date: Thu, 1 May 2014 01:29:41 -0700
Subject: [R] A combinatorial assignment problem
In-Reply-To: <F81A5ACD933A4A99A1868D119A817A6F@Aragorn>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
	<F81A5ACD933A4A99A1868D119A817A6F@Aragorn>
Message-ID: <B01D45653DBD40B99CF743FCE047A732@Aragorn>




> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Daniel Nordlund
> Sent: Thursday, May 01, 2014 1:10 AM
> To: r-help at r-project.org
> Subject: Re: [R] A combinatorial assignment problem
> 
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> > On Behalf Of Ravi Varadhan
> > Sent: Wednesday, April 30, 2014 10:49 AM
> > To: r-help at r-project.org
> > Subject: [R] A combinatorial assignment problem
> >
> > Hi,
> >
> > I have this problem:  K candidates apply for a job.  There are R
> referees
> > available to review their resumes and provide feedback.  Suppose that we
> > would like M referees to review each candidate (M < R).  How would I
> > assign candidates to referees (or, conversely, referees to candidates)?
> > There are two important cases:  (a) K > (R choose M) and (b) K < (R
> > chooses M).
> >
> > Case (a) actually reduces to case (b), so we only have to consider case
> > (b).  Without any other constraints, the problem is quite easy to solve.
> > Here is an example that shows this.
> >
> > require(gtools)
> > set.seed(12345)
> > K <- 10  # number of candidates
> > R <- 7    # number of referees
> > M <- 3   # overlap, number of referees reviewing  each candidate
> >
> > allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
> > assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE),
> ]
> > assignment
> > > assignment
> >       [,1] [,2] [,3]
> > [1,]    3    4    5
> > [2,]    3    5    7
> > [3,]    5    6    7
> > [4,]    3    5    6
> > [5,]    1    6    7
> > [6,]    1    2    7
> > [7,]    1    4    5
> > [8,]    3    6    7
> > [9,]    2    4    5
> > [10,]    4    5    7
> > >
> >
> > Here each row stands for a candidate and the column stands for the
> > referees who review that candidate.
> >
> > Of course, there are some constraints that make the assignment
> > challenging.  We would like to have an even distribution of the number
> of
> > candidates reviewed by each referee.  For example, the above code
> produces
> > an assignment where referee #2 gets only 2 candidates and referee #5
> gets
> > 7 candidates.  We would like to avoid such uneven assignments.
> >
> > > table(assignment)
> > assignment
> > 1 2 3 4 5 6 7
> > 3 2 4 4 7 4 6
> > >
> >
> > Note that in this example there are 35 possible triplets of referees and
> > 10 candidates.  Therefore, a perfectly even assignment is not possible.
> >
> > I tried some obvious, greedy search methods but they are not guaranteed
> to
> > work.   Any hints or suggestions would be greatly appreciated.
> >
> > Best,
> > Ravi
> >
> 
> Well, if you don't need clever, a brute force approach could work
> (depending on the values of k, r, and m).  Something like this
> 
> 

I apologize for the noise.  I made some last second edits and cut and pasted the wrong code in the first email.  Obviously, you would want to add some error checking to the code to trap incompatible parameter specification.


assignment <- function(k,r,m,max_iter=120) {
   n <- 0
   cmb <- combn(r,m)
   repeat {
     n <- n+1 
     tbl <- table(map<-cmb[,sample(1:choose(r,m),k)])
     if((max(tbl)-min(tbl)) <= 1) break
     if(n > max_iter) break
   }
   return(t(map))
}
a <- assignment(10,7,3)


Dan

Daniel Nordlund
Bothell, WA USA


From gunter.berton at gene.com  Thu May  1 10:49:08 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 1 May 2014 01:49:08 -0700
Subject: [R] A combinatorial assignment problem
In-Reply-To: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <CACk-te1JtuqowDR8D3oy+Bu9Fc-_YJ18BzbwL3a=XG_z-L4V8g@mail.gmail.com>

This is not really a combinatorial problem, I'll use small letters
instead of caps.

Arrange the r referees in a circle.

start <- 1
Replicate k times{
end <- (start + m-1)%% r
output: c(start,end)
start <- (end+1)%% r
}

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, Apr 30, 2014 at 10:48 AM, Ravi Varadhan <ravi.varadhan at jhu.edu> wrote:
> Hi,
>
> I have this problem:  K candidates apply for a job.  There are R referees available to review their resumes and provide feedback.  Suppose that we would like M referees to review each candidate (M < R).  How would I assign candidates to referees (or, conversely, referees to candidates)?  There are two important cases:  (a) K > (R choose M) and (b) K < (R chooses M).
>
> Case (a) actually reduces to case (b), so we only have to consider case (b).  Without any other constraints, the problem is quite easy to solve.  Here is an example that shows this.
>
> require(gtools)
> set.seed(12345)
> K <- 10  # number of candidates
> R <- 7    # number of referees
> M <- 3   # overlap, number of referees reviewing  each candidate
>
> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
> assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE), ]
> assignment
>> assignment
>       [,1] [,2] [,3]
> [1,]    3    4    5
> [2,]    3    5    7
> [3,]    5    6    7
> [4,]    3    5    6
> [5,]    1    6    7
> [6,]    1    2    7
> [7,]    1    4    5
> [8,]    3    6    7
> [9,]    2    4    5
> [10,]    4    5    7
>>
>
> Here each row stands for a candidate and the column stands for the referees who review that candidate.
>
> Of course, there are some constraints that make the assignment challenging.  We would like to have an even distribution of the number of candidates reviewed by each referee.  For example, the above code produces an assignment where referee #2 gets only 2 candidates and referee #5 gets 7 candidates.  We would like to avoid such uneven assignments.
>
>> table(assignment)
> assignment
> 1 2 3 4 5 6 7
> 3 2 4 4 7 4 6
>>
>
> Note that in this example there are 35 possible triplets of referees and 10 candidates.  Therefore, a perfectly even assignment is not possible.
>
> I tried some obvious, greedy search methods but they are not guaranteed to work.   Any hints or suggestions would be greatly appreciated.
>
> Best,
> Ravi
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Thu May  1 11:02:51 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 1 May 2014 02:02:51 -0700
Subject: [R] A combinatorial assignment problem
In-Reply-To: <CACk-te1JtuqowDR8D3oy+Bu9Fc-_YJ18BzbwL3a=XG_z-L4V8g@mail.gmail.com>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
	<CACk-te1JtuqowDR8D3oy+Bu9Fc-_YJ18BzbwL3a=XG_z-L4V8g@mail.gmail.com>
Message-ID: <CACk-te07VUdh4WwkwF3Po0nrpKWewCuE4kumiS0NJZBs1QMZNQ@mail.gmail.com>

I had  trouble with my email and it went before it should. Here's the
solution I meant to send:

Arrange the r referees in a circle.

start <- 0
Replicate k times{
end <- (start + m-1)%% r
output: c(start,end) +1
start <- (end+1)%% r
}


The start and end pairs give the subsets of referees around the
circle. The distributes the referees to the candidates as evenly as
possible. I leave it to you to translate this into code. It should be
very fast as no combinatorics are required.


-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch


> On Wed, Apr 30, 2014 at 10:48 AM, Ravi Varadhan <ravi.varadhan at jhu.edu> wrote:
>> Hi,
>>
>> I have this problem:  K candidates apply for a job.  There are R referees available to review their resumes and provide feedback.  Suppose that we would like M referees to review each candidate (M < R).  How would I assign candidates to referees (or, conversely, referees to candidates)?  There are two important cases:  (a) K > (R choose M) and (b) K < (R chooses M).
>>
>> Case (a) actually reduces to case (b), so we only have to consider case (b).  Without any other constraints, the problem is quite easy to solve.  Here is an example that shows this.
>>
>> require(gtools)
>> set.seed(12345)
>> K <- 10  # number of candidates
>> R <- 7    # number of referees
>> M <- 3   # overlap, number of referees reviewing  each candidate
>>
>> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
>> assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE), ]
>> assignment
>>> assignment
>>       [,1] [,2] [,3]
>> [1,]    3    4    5
>> [2,]    3    5    7
>> [3,]    5    6    7
>> [4,]    3    5    6
>> [5,]    1    6    7
>> [6,]    1    2    7
>> [7,]    1    4    5
>> [8,]    3    6    7
>> [9,]    2    4    5
>> [10,]    4    5    7
>>>
>>
>> Here each row stands for a candidate and the column stands for the referees who review that candidate.
>>
>> Of course, there are some constraints that make the assignment challenging.  We would like to have an even distribution of the number of candidates reviewed by each referee.  For example, the above code produces an assignment where referee #2 gets only 2 candidates and referee #5 gets 7 candidates.  We would like to avoid such uneven assignments.
>>
>>> table(assignment)
>> assignment
>> 1 2 3 4 5 6 7
>> 3 2 4 4 7 4 6
>>>
>>
>> Note that in this example there are 35 possible triplets of referees and 10 candidates.  Therefore, a perfectly even assignment is not possible.
>>
>> I tried some obvious, greedy search methods but they are not guaranteed to work.   Any hints or suggestions would be greatly appreciated.
>>
>> Best,
>> Ravi
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From arne.henningsen at gmail.com  Thu May  1 11:14:12 2014
From: arne.henningsen at gmail.com (Arne Henningsen)
Date: Thu, 1 May 2014 11:14:12 +0200
Subject: [R] Tobit model with panel data
In-Reply-To: <1398892016204-4689760.post@n4.nabble.com>
References: <1398892016204-4689760.post@n4.nabble.com>
Message-ID: <CAMTWbJg-Q7MDxgRbPpeW5Xwx5uWNn4Zkfi64nV+MGMGSWtx=TA@mail.gmail.com>

Hi Phil

On 30 April 2014 23:06, phil <quijote at gmx.net> wrote:
> I just started to work with R a couple of weeks ago. Right now I would like
> to regress an independent variable on a couple of explanatory variables. The
> dependent variable is left censored in the sense that all negative values
> and zero are set equal to one.

That is most likely not a suitable data transformation.

> This is done because I want to take the logarithm which, as you all know,
> is only defined for values bigger than zero.
>
> However, what I don't know now is how to compute this on R. Does anybody
> know how to proceed? I already checked
> http://cran.r-project.org/web/packages/censReg/vignettes/censReg.pdf
> <http://cran.r-project.org/web/packages/censReg/vignettes/censReg.pdf>   but
> I am not able to apply the commands shown on page 8 correctly on my data
> set.
>
> Hence, I would really appreciate if somebody could give me a step-by-step
> instruction for my own dataset.

1st step: load the data set into R (see
http://cran.r-project.org/doc/manuals/r-release/R-data.html)

2nd step: use pdata.frame() or plm.data() to specify the panel
structure (see http://www.jstatsoft.org/v27/i02/)

3rd step: use censReg() to estimate the model (see
http://cran.r-project.org/web/packages/censReg/vignettes/censReg.pdf)

Please do read the posting guide http://www.R-project.org/posting-guide.html

Best regards,
Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From smartpink111 at yahoo.com  Thu May  1 11:49:50 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 1 May 2014 02:49:50 -0700 (PDT)
Subject: [R] Using apply with more than one matrix
In-Reply-To: <074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
Message-ID: <1398937790.37506.YahooMailNeo@web142606.mail.bf1.yahoo.com>



Hi,

You may try:
evaluate <- function(arr, mat1, mat2) {
??? if (!all(dim(mat1) == dim(mat2))) {
??????? stop("both matrices should have equal dimensions")
??? }
??? indx1 <- as.matrix(do.call(expand.grid, lapply(dim(arr), sequence)))
??? indx2 <- paste0(indx1[, 1], indx1[, 2])
??? condition1 <- !is.na(mat1) & mat1 > mat2
??? ans <- sapply(seq_along(unique(indx2)), function(i) {
??????? x1 <- indx1[indx2 %in% unique(indx2)[i], ]
??????? indx3 <- which(!is.na(arr[x1]))[1]
??????? if (condition1[i] && !is.na(indx3)) {
??????????? arr[x1][indx3] + m2[i]
??????? } else NA
??? })
??? dim(ans) <- dim(mat1)
??? ans
}
evaluate(a1,m1,m2)
#???? [,1] [,2]
#[1,]?? NA 1.66
#[2,] 3.14?? NA

A.K.


On Thursday, May 1, 2014 2:53 AM, "Waichler, Scott R" <Scott.Waichler at pnnl.gov> wrote:
> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> dimensions, one logical.
>? ans
>? ? ? [,1] [,2]
> [1,]?  NA 1.66
> [2,] 2.74?  NA

Thanks, I am learning something.? I didn't know you could multiply a logical object by a numerical one.? But notice the answer is not the same as mine, because I am doing an operation on the vector of values a1[i,j,] first.? 

I tried a modification on sapply below, but it doesn't work? because I haven't referenced the 3d array a1 properly.? So I guess I must try to get a 2d result from a1 first, then use that in matrix arithmetic.

Sapply or mapply may work, I haven't used these much and will try to learn better how to use them.? Your use of sapply looks good; but I'm trying to understand if and how I can bring in the operation on a1.? This doesn't work:

evaluate <- function(idx) {
? ind.not.na <- which(!is.na(a1[idx,])) ]))? # doesn't work; improper indexing for a1
? if(length(ind.not.na) > 0) {
? ? return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))? # doesn't work; improper indexing for a1
? }
}
vec <- sapply(seq(length(m2)), evaluate)

Scott Waichler


> -----Original Message-----
> From: David Winsemius [mailto:dwinsemius at comcast.net]
> Sent: Wednesday, April 30, 2014 8:46 PM
> To: Waichler, Scott R
> Cc: Bert Gunter; r-help at r-project.org
> Subject: Re: [R] Using apply with more than one matrix
> 
> 
> On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
> 
> > Here is a working example with no random parts.? Thanks for your
> patience and if I'm still off the mark with my presentation I'll drop the
> matter.
> >
> > v <- c(NA, 1.5, NA, NA,
> >? ? ?  NA, 1.1, 0.5, NA,
> >? ? ?  NA, 1.3, 0.4, 0.9)
> > a1 <- array(v, dim=c(2,2,3))
> > m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> > m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> > condition1 <- !is.na(m1)& m1 > m2
> >
> > ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {? for(j
> > in 1:2) {
> >? ? ind.not.na <- which(!is.na(a1[i,j,]))
> >? ? if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
> > a1[i,j,ind.not.na[1]] + m2[i,j]? } } ans
> >? ?  [,1] [,2]
> > [1,]?  NA 1.66
> > [2,] 3.14?  NA
> 
> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> dimensions, one logical.
>? ans
>? ? ? [,1] [,2]
> [1,]?  NA 1.66
> [2,] 2.74?  NA
> >
> > Let me try asking again in words.? If I have multiple matrices or slices
> of 3d arrays that are the same dimension, is there a way to pass them all
> to apply, and have apply take care of looping through i,j?
> 
> I don't think `apply` is the correct function for this. Either `mapply` or
> basic matrix operation seem more likely to deliver correct results:
> 
> 
> > I understand that apply has just one input object x.? I want to work on
> more than one array object at once using a custom function that has this
> characteristic:? in order to compute the answer at i,j I need a result
> from higher order array at the same i,j.
> 
> If you want to iterate over matrix indices you can either use the vector
> version e.g. m2[3] or the matrix version, m2[2,1[.
> 
> vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
> 
> 
> 
> > This is what I tried to demonstrate in my example above.
> >
> > Thanks,
> > Scott
> 
> David Winsemius
> Alameda, CA, USA

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From sergio.fonda99 at gmail.com  Thu May  1 11:57:52 2014
From: sergio.fonda99 at gmail.com (Sergio Fonda)
Date: Thu, 1 May 2014 11:57:52 +0200
Subject: [R] Unbalanced manova
In-Reply-To: <web-507333880@cgpsrv2.cis.mcmaster.ca>
References: <CAJRuHoq31tVOSt_-46vrmAd=E91QE4WGeJLRv84e7aka_ok=5g@mail.gmail.com>
	<CAJRuHopHvLcm56gB=ZMJnjhtLfAgja63pPvfZ0ZzxBB1AWcG6Q@mail.gmail.com>
	<web-507333880@cgpsrv2.cis.mcmaster.ca>
Message-ID: <CAJRuHornXaDxWoNO_bO=vcUTo+PC1J3QTmMxZGrFxMhSnu-KeQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/43625624/attachment.pl>

From statistics84 at hotmail.com  Thu May  1 09:34:08 2014
From: statistics84 at hotmail.com (pari hesabi)
Date: Thu, 1 May 2014 07:34:08 +0000
Subject: [R] Legendre quadrature
Message-ID: <DUB125-W83109C181D06620E700BA2C6400@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/237fd0a9/attachment.pl>

From statistics84 at hotmail.com  Thu May  1 09:43:14 2014
From: statistics84 at hotmail.com (pari hesabi)
Date: Thu, 1 May 2014 07:43:14 +0000
Subject: [R] legendre quadrature
Message-ID: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/2ac09b32/attachment.pl>

From Matthias.Kohl at stamats.de  Thu May  1 12:41:24 2014
From: Matthias.Kohl at stamats.de (Prof. Dr. Matthias Kohl)
Date: Thu, 01 May 2014 12:41:24 +0200
Subject: [R] legendre quadrature
In-Reply-To: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>
References: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>
Message-ID: <536224D4.8070504@stamats.de>

you could use package distrEx:

library(distrEx)
GLIntegrate(function(x) x^2, lower = -1, upper = 1, order = 50)

hth
Matthias

On 01.05.2014 09:43, pari hesabi wrote:
> Hello everybody
> I need to approximate the amount of integral by using
>   legendre quadrature. I have written a program which doesn't give me a
> logical answer; Can anybody help me and send the correct program? For
> example  the approximated amount of integral of ( x ^2)  on (-1,1) based
>   on legendre quad rule.
>
>
>
>
> integrand<-function(x) {x^2}
> rules <- legendre.quadrature.rules( 50 )
> order.rule <- rules[[50]]
> chebyshev.c.quadrature(integrand, order.rule, lower = -1, upper = 1)
>
> Thank you
> Diba 		 	   		   		 	   		
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Prof. Dr. Matthias Kohl
www.stamats.de


From es at enricoschumann.net  Thu May  1 14:04:48 2014
From: es at enricoschumann.net (Enrico Schumann)
Date: Thu, 01 May 2014 14:04:48 +0200
Subject: [R] legendre quadrature
In-Reply-To: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl> (pari hesabi's
	message of "Thu, 1 May 2014 07:43:14 +0000")
References: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>
Message-ID: <87siotpuvz.fsf@enricoschumann.net>

On Thu, 01 May 2014, pari hesabi <statistics84 at hotmail.com> writes:

> Hello everybody
> I need to approximate the amount of integral by using
>  legendre quadrature. I have written a program which doesn't give me a 
> logical answer; Can anybody help me and send the correct program? For 
> example  the approximated amount of integral of ( x ^2)  on (-1,1) based
>  on legendre quad rule. 
>   

One possibility:

  require("NMOF")
  xw <-xwGauss(10, "legendre")

  fun <- function(x)
      x^2

  sum(fun(xw$nodes) * xw$weights)

>
>
> integrand<-function(x) {x^2}
> rules <- legendre.quadrature.rules( 50 )

  Error: object 'legendre.quadrature.rules' not found

PLEASE "provide commented, minimal, self-contained, reproducible code".

> order.rule <- rules[[50]]
> chebyshev.c.quadrature(integrand, order.rule, lower = -1, upper = 1) 
>
> Thank you
> Diba 		 	   		   		 	   		  

-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From Sicotte.Hugues at mayo.edu  Thu May  1 14:58:57 2014
From: Sicotte.Hugues at mayo.edu (Sicotte, Hugues, Ph.D.)
Date: Thu, 01 May 2014 12:58:57 +0000
Subject: [R] Tobit model with L1 and L2 penalties (elastic net)
Message-ID: <3dfcdc$gk9tjf@ironport9.mayo.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/cb7567d9/attachment.pl>

From smartpink111 at yahoo.com  Thu May  1 15:23:48 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 1 May 2014 06:23:48 -0700 (PDT)
Subject: [R] Using apply with more than one matrix
In-Reply-To: <1398937790.37506.YahooMailNeo@web142606.mail.bf1.yahoo.com>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
	<1398937790.37506.YahooMailNeo@web142606.mail.bf1.yahoo.com>
Message-ID: <1398950628.93029.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi,
Sorry, a typo in the previous function:
---------------------------------
if (condition1[i] && !is.na(indx3)) {
??????????? arr[x1][indx3] + m2[i]? ###### should be mat2[i]
??????? } else NA
?
-----------

Also, you can try:
library(plyr)
evaluateNew <- function(arr, mat1, mat2){
if (!all(dim(mat1) == dim(mat2))) {
??????? stop("both matrices should have equal dimensions")
??? }
?indx1 <- unlist(alply(arr, c(1,2), function(x) {x[!is.na(x)][1]}))
condition1 <- !is.na(mat1) & mat1 > mat2
ifelse(condition1, indx1+mat2, NA)
}
evaluateNew(a1, m1, m2)

#??? [,1] [,2]
#[1,]?? NA 1.66
#[2,] 3.14?? NA
A.K.




On Thursday, May 1, 2014 5:49 AM, arun <smartpink111 at yahoo.com> wrote:


Hi,

You may try:
evaluate <- function(arr, mat1, mat2) {
??? if (!all(dim(mat1) == dim(mat2))) {
??????? stop("both matrices should have equal dimensions")
??? }
??? indx1 <- as.matrix(do.call(expand.grid, lapply(dim(arr), sequence)))
??? indx2 <- paste0(indx1[, 1], indx1[, 2])
??? condition1 <- !is.na(mat1) & mat1 > mat2
??? ans <- sapply(seq_along(unique(indx2)), function(i) {
??????? x1 <- indx1[indx2 %in% unique(indx2)[i], ]
??????? indx3 <- which(!is.na(arr[x1]))[1]
??????? if (condition1[i] && !is.na(indx3)) {
??????????? arr[x1][indx3] + m2[i]
??????? } else NA
??? })
??? dim(ans) <- dim(mat1)
??? ans
}
evaluate(a1,m1,m2)
#???? [,1] [,2]
#[1,]?? NA 1.66
#[2,] 3.14?? NA

A.K.



On Thursday, May 1, 2014 2:53 AM, "Waichler, Scott R" <Scott.Waichler at pnnl.gov> wrote:
> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> dimensions, one logical.
>? ans
>? ? ? [,1] [,2]
> [1,]?? NA 1.66
> [2,] 2.74?? NA

Thanks, I am learning something.? I didn't know you could multiply a logical object by a numerical one.? But notice the answer is not the same as mine, because I am doing an operation on the vector of values a1[i,j,] first.? 

I tried a modification on sapply below, but it doesn't work? because I haven't referenced the 3d array a1 properly.? So I guess I must try to get a 2d result from a1 first, then use that in matrix arithmetic.

Sapply or mapply may work, I haven't used these much and will try to learn better how to use them.? Your use of sapply looks good; but I'm trying to understand if and how I can bring in the operation on a1.? This doesn't work:

evaluate <- function(idx) {
? ind.not.na <- which(!is.na(a1[idx,])) ]))? # doesn't work; improper indexing for a1
? if(length(ind.not.na) > 0) {
? ? return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))? # doesn't work; improper indexing for a1
? }
}
vec <- sapply(seq(length(m2)), evaluate)

Scott Waichler


> -----Original Message-----
> From: David Winsemius [mailto:dwinsemius at comcast.net]
> Sent: Wednesday, April 30, 2014 8:46 PM
> To: Waichler, Scott R
> Cc: Bert Gunter; r-help at r-project.org
> Subject: Re: [R] Using apply with more than one matrix
> 
> 
> On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
> 
> > Here is a working example with no random parts.? Thanks for your
> patience and if I'm still off the mark with my presentation I'll drop the
> matter.
> >
> > v <- c(NA, 1.5, NA, NA,
> >? ? ?? NA, 1.1, 0.5, NA,
> >? ? ?? NA, 1.3, 0.4, 0.9)
> > a1 <- array(v, dim=c(2,2,3))
> > m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> > m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> > condition1 <- !is.na(m1)& m1 > m2
> >
> > ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {? for(j
> > in 1:2) {
> >? ? ind.not.na <- which(!is.na(a1[i,j,]))
> >? ? if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
> > a1[i,j,ind.not.na[1]] + m2[i,j]? } } ans
> >? ?? [,1] [,2]
> > [1,]?? NA 1.66
> > [2,] 3.14?? NA
> 
> I would ask you to look at this loop-free approach and ask if this is not
> equally valid?
> 
> ans <- matrix(NA, ncol=2, nrow=2)
> ind.not.na <- which(!is.na(a1))
> ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> dimensions, one logical.
>? ans
>? ? ? [,1] [,2]
> [1,]?? NA 1.66
> [2,] 2.74?? NA
> >
> > Let me try asking again in words.? If I have multiple matrices or slices
> of 3d arrays that are the same dimension, is there a way to pass them all
> to apply, and have apply take care of looping through i,j?
> 
> I don't think `apply` is the correct function for this. Either `mapply` or
> basic matrix operation seem more likely to deliver correct results:
> 
> 
> > I understand that apply has just one input object x.? I want to work on
> more than one array object at once using a custom function that has this
> characteristic:? in order to compute the answer at i,j I need a result
> from higher order array at the same i,j.
> 
> If you want to iterate over matrix indices you can either use the vector
> version e.g. m2[3] or the matrix version, m2[2,1[.
> 
> vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
> 
> 
> 
> > This is what I tried to demonstrate in my example above.
> >
> > Thanks,
> > Scott
> 
> David Winsemius
> Alameda, CA, USA

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From roger.bos at rothschild.com  Thu May  1 16:05:59 2014
From: roger.bos at rothschild.com (Bos, Roger)
Date: Thu, 1 May 2014 14:05:59 +0000
Subject: [R] R 3.1 changes to type.convert causing strings where I used
 to get numeric
In-Reply-To: <53615FAC.5000301@gmail.com>
References: <0765308CD028654885F30322557308D81EC062F6@NYCSM0208.rth.ad.rothschild.com>
	<53615FAC.5000301@gmail.com>
Message-ID: <0765308CD028654885F30322557308D81EC07208@NYCSM0208.rth.ad.rothschild.com>

Duncan,

Yes, I admit I haven't updated since 2.15.2 so I was behind.  I am seeing the same problem with reading from RODBC (sql server) tables.  I write data to a table and then read it back.  In R 2.15 it would come in numeric.  Under R 3.1 it comes in as a string.

Thanks,

Roger


-----Original Message-----
From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
Sent: Wednesday, April 30, 2014 4:40 PM
To: Bos, Roger; r-help at r-project.org
Subject: Re: [R] R 3.1 changes to type.convert causing strings where I used to get numeric

On 30/04/2014, 4:20 PM, Bos, Roger wrote:
> Dear R-help,
>
> I recently upgraded to R 3.1 patched and code that ran fine previously and now giving a lot of errors because the data is coming in as strings instead of numeric.  I can fix my code to wrapping each item I want to use with as.numeric(), but that seems very inefficient.
>
> I looked at the change list for R 3.1 and I see the first item is a change in type.convert() that seems to be causing me grief.  The suggestion is to use colClasses, but when I try to do so I get an error regarding the quotes again...
>
>>        ann1  <- read.table(driveletter %+% "/snap/ann/snap_fyr_ann1_"
>> %+% i %+% ".txt", header=TRUE, quote="", as.is=TRUE,
>> colClasses='numeric')
> Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :
>    scan() expected 'a real', got '"1033.7"'
>
> Does anyone have any suggestions?

This sounds like two separate problems.  The first is the change to type.convert().  That's going to be dealt with (it's already in R-devel, will eventually be handled in R-patched and 3.1.1).  You deserve part of the blame for this for never testing the pre-release version.  It would have been easier to fix before release, but nobody who tested then bothered to report it.

The second problem is one I don't recall hearing reported before.  If you have a .csv file containing the lines

X
"1"

then it should be readable as a .csv, because the quotes should be stripped.  In fact it is readable now if you *don't* specify that the column is numeric, and it will be converted to a numeric value.
However, if you do use colClasses="numeric" you'll get an error.  That looks wrong, though it is consistent with ?read.table.

 > x <- c("X", '"1"')
 > read.csv(textConnection(x))
   X
1 1
 > read.csv(textConnection(x), colClasses="numeric") Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :
   scan() expected 'a real', got '"1"'
 >


Duncan Murdoch

>
>
> CHANGES IN R 3.1.0:
> NEW FEATURES
>
>
> type.convert() (and hence by default read.table()) returns a character vector or factor when representing a numeric input as a double would lose accuracy. Similarly for complex inputs.
> If a file contains numeric data with unrepresentable numbers of decimal places that are intended to be read as numeric, specify colClasses in read.table() to be"numeric".
>
>
> ***************************************************************
> This message is for the named person's use only. It may
> contain confidential, proprietary or legally privileged
> information. No right to confidential or privileged treatment
> of this message is waived or lost by an error in transmission.
> If you have received this message in error, please immediately
> notify the sender by e-mail, delete the message and all
> copies from your system and destroy any hard copies.  You must
> not, directly or indirectly, use, disclose, distribute,
> print or copy any part of this message if you are not
> the intended recipient.
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


***************************************************************
This message is for the named person's use only. It may
contain confidential, proprietary or legally privileged
information. No right to confidential or privileged treatment
of this message is waived or lost by an error in transmission.
If you have received this message in error, please immediately
notify the sender by e-mail, delete the message and all
copies from your system and destroy any hard copies.  You must
not, directly or indirectly, use, disclose, distribute,
print or copy any part of this message if you are not
the intended recipient.

From gunter.berton at gene.com  Thu May  1 16:45:52 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 1 May 2014 07:45:52 -0700
Subject: [R] A combinatorial assignment problem
In-Reply-To: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C27EC@DOM-EB-MAIL2.win.ad.jhu.edu>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
	<2F9EA67EF9AE1C48A147CB41BE2E15C30E2C27EC@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <CACk-te0Ws9VYE=k838xtamGrsi50zzyDU5kMA3farVsc4SmGXw@mail.gmail.com>

Ravi:

You cannot simultaneously have balance and guarantee random mixing.
That is, you would need to specify precisely what you mean by balance
and random mixing in this context, as these terms are now subjective
and undefined.

You could, of course, randomize the initial assignment of referees to
positions and note also that some mixing of referee groups would occur
if m does not divide r evenly. More explicitly, note that a very fast
way to generate the groups I described is:

rmk <- function(nrefs,size,ncands){
  n <- ncands * size
  matrix(rep(seq_len(nrefs), n %/% nrefs +1)[seq_len(n)],nrow=
ncands,byrow=TRUE)
}
## corner case checks and adjustments need to be made to this, of course.

>  rmk(7,3,10)
      [,1] [,2] [,3]
 [1,]    1    2    3
 [2,]    4    5    6
 [3,]    7    1    2
 [4,]    3    4    5
 [5,]    6    7    1
 [6,]    2    3    4
 [7,]    5    6    7
 [8,]    1    2    3
 [9,]    4    5    6
[10,]    7    1    2

You could then modify this by randomly reordering the referees every
time a complete cycle of the groupings occurred, i.e. after each
nrefs/gcd(nrefs,size) candidates = rows. This would give variable
groups and even assignment. This algorithm could be further fiddled
with by choosing nrefs and size to assure they are relatively prime
and then adding and removing further refs randomly during the cycling.
etc.

Cheers,
Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 1, 2014 at 6:09 AM, Ravi Varadhan <ravi.varadhan at jhu.edu> wrote:
> Thank you, Dan and Bert.
>
>
>
> Bert ? Your approach provides a solution.  However, it has the undesired
> property of referees lumping together (I apologize that I did not state this
> as a condition).  In other words, it does not "mix" the referees in some
> random fashion.
>
>
>
> Dan ? your approach attempts to have the desired properties, but is not
> guaranteed to work.  Here is a counterexample:
>
>
>
>> set.seed(1234)
>
>> a <- assignment(40,15,3)
>
>> table(a)
>
> a
>
> 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
>
> 10  7 12  7  4 10  8  6  8 13  7  7 11  3  7
>
>
>
> Notice that the difference between maximum and minimum candidates for
> referees is 13 ? 3 = 10.  Of course, I have to increase the # iters to get a
> better solution, but for large  K and R this may not converge at all.
>
>
>
> Best regards,
>
> Ravi
>
>
>
> From: Ravi Varadhan
> Sent: Wednesday, April 30, 2014 1:49 PM
> To: r-help at r-project.org
> Subject: A combinatorial assignment problem
>
>
>
> Hi,
>
>
>
> I have this problem:  K candidates apply for a job.  There are R referees
> available to review their resumes and provide feedback.  Suppose that we
> would like M referees to review each candidate (M < R).  How would I assign
> candidates to referees (or, conversely, referees to candidates)?  There are
> two important cases:  (a) K > (R choose M) and (b) K < (R chooses M).
>
>
>
> Case (a) actually reduces to case (b), so we only have to consider case (b).
> Without any other constraints, the problem is quite easy to solve.  Here is
> an example that shows this.
>
>
>
> require(gtools)
>
> set.seed(12345)
>
> K <- 10  # number of candidates
>
> R <- 7    # number of referees
>
> M <- 3   # overlap, number of referees reviewing  each candidate
>
>
>
> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
>
> assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE), ]
>
> assignment
>
>> assignment
>
>       [,1] [,2] [,3]
>
> [1,]    3    4    5
>
> [2,]    3    5    7
>
> [3,]    5    6    7
>
> [4,]    3    5    6
>
> [5,]    1    6    7
>
> [6,]    1    2    7
>
> [7,]    1    4    5
>
> [8,]    3    6    7
>
> [9,]    2    4    5
>
> [10,]    4    5    7
>
>>
>
>
>
> Here each row stands for a candidate and the column stands for the referees
> who review that candidate.
>
>
>
> Of course, there are some constraints that make the assignment challenging.
> We would like to have an even distribution of the number of candidates
> reviewed by each referee.  For example, the above code produces an
> assignment where referee #2 gets only 2 candidates and referee #5 gets 7
> candidates.  We would like to avoid such uneven assignments.
>
>
>
>> table(assignment)
>
> assignment
>
> 1 2 3 4 5 6 7
>
> 3 2 4 4 7 4 6
>
>>
>
>
>
> Note that in this example there are 35 possible triplets of referees and 10
> candidates.  Therefore, a perfectly even assignment is not possible.
>
>
>
> I tried some obvious, greedy search methods but they are not guaranteed to
> work.   Any hints or suggestions would be greatly appreciated.
>
>
>
> Best,
>
> Ravi
>
>


From Scott.Waichler at pnnl.gov  Thu May  1 17:00:09 2014
From: Scott.Waichler at pnnl.gov (Waichler, Scott R)
Date: Thu, 1 May 2014 15:00:09 +0000
Subject: [R] Using apply with more than one matrix
In-Reply-To: <243D0D55-6273-4200-9070-1AC08025B961@comcast.net>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
	<243D0D55-6273-4200-9070-1AC08025B961@comcast.net>
Message-ID: <074C83DAD4825242A20B2D83FDBCB88808A2BF@EX10MBOX03.pnnl.gov>

> > Sapply or mapply may work, I haven't used these much and will try to
> learn better how to use them.  Your use of sapply looks good; but I'm
> trying to understand if and how I can bring in the operation on a1.  This
> doesn't work:
> >
> > evaluate <- function(idx) {
> >  ind.not.na <- which(!is.na(a1[idx,])) ]))  # doesn't work; improper
> > indexing for a1
> >  if(length(ind.not.na) > 0) {
> >    return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))  # doesn't
> > work; improper indexing for a1  } } vec <- sapply(seq(length(m2)),
> > evaluate)
> 
> Are we to assume that the length of `which(!is.na(a1[idx,])) ]))` is
> guaranteed to equal the length of the two other matrices? If not then what
> sort of relationships should be assumed?

ind.not.na is just a vector that could be any length.  It is a selection on the vector a1[i,j,].  I want to get the first element of that selection.  The key relationship is that the dimensions of the matrices and the first two dimensions of the 3d arrays are the same.  That is, i and j have the same range for all of them.  

Scott


From Scott.Waichler at pnnl.gov  Thu May  1 17:30:11 2014
From: Scott.Waichler at pnnl.gov (Waichler, Scott R)
Date: Thu, 1 May 2014 15:30:11 +0000
Subject: [R] Using apply with more than one matrix
In-Reply-To: <1398950628.93029.YahooMailNeo@web142602.mail.bf1.yahoo.com>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
	<1398937790.37506.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<1398950628.93029.YahooMailNeo@web142602.mail.bf1.yahoo.com>
Message-ID: <074C83DAD4825242A20B2D83FDBCB88808A2E0@EX10MBOX03.pnnl.gov>

Thank you, A.K.  I learned from both of your solutions.  I find the one that uses alply easier to follow and understand intuitively.  I guess I'll want to learn more about what plyr can do.  I've been using R for years but hadn't pushed vectorization far enough in my code.  Now my computing will be more efficient.  

Thanks also to David and the others who responded to my question.  It all helped.  --Scott Waichler

> -----Original Message-----
> From: arun [mailto:smartpink111 at yahoo.com]
> Sent: Thursday, May 01, 2014 6:24 AM
> To: R. Help
> Cc: Waichler, Scott R
> Subject: Re: [R] Using apply with more than one matrix
> 
> Hi,
> Sorry, a typo in the previous function:
> ---------------------------------
> if (condition1[i] && !is.na(indx3)) {
> ??????????? arr[x1][indx3] + m2[i]? ###### should be mat2[i]
> ??????? } else NA
> 
> -----------
> 
> Also, you can try:
> library(plyr)
> evaluateNew <- function(arr, mat1, mat2){ if (!all(dim(mat1) ==
> dim(mat2))) {
> ??????? stop("both matrices should have equal dimensions")
> ??? }
> ?indx1 <- unlist(alply(arr, c(1,2), function(x) {x[!is.na(x)][1]}))
> condition1 <- !is.na(mat1) & mat1 > mat2 ifelse(condition1, indx1+mat2,
> NA) } evaluateNew(a1, m1, m2)
> 
> #??? [,1] [,2]
> #[1,]?? NA 1.66
> #[2,] 3.14?? NA
> A.K.
> 
> 
> 
> 
> On Thursday, May 1, 2014 5:49 AM, arun <smartpink111 at yahoo.com> wrote:
> 
> 
> Hi,
> 
> You may try:
> evaluate <- function(arr, mat1, mat2) {
> ??? if (!all(dim(mat1) == dim(mat2))) {
> ??????? stop("both matrices should have equal dimensions")
> ??? }
> ??? indx1 <- as.matrix(do.call(expand.grid, lapply(dim(arr), sequence)))
> ??? indx2 <- paste0(indx1[, 1], indx1[, 2])
> ??? condition1 <- !is.na(mat1) & mat1 > mat2
> ??? ans <- sapply(seq_along(unique(indx2)), function(i) {
> ??????? x1 <- indx1[indx2 %in% unique(indx2)[i], ]
> ??????? indx3 <- which(!is.na(arr[x1]))[1]
> ??????? if (condition1[i] && !is.na(indx3)) {
> ??????????? arr[x1][indx3] + m2[i]
> ??????? } else NA
> ??? })
> ??? dim(ans) <- dim(mat1)
> ??? ans
> }
> evaluate(a1,m1,m2)
> #???? [,1] [,2]
> #[1,]?? NA 1.66
> #[2,] 3.14?? NA
> 
> A.K.
> 
> 
> 
> On Thursday, May 1, 2014 2:53 AM, "Waichler, Scott R"
> <Scott.Waichler at pnnl.gov> wrote:
> > I would ask you to look at this loop-free approach and ask if this is
> > not equally valid?
> >
> > ans <- matrix(NA, ncol=2, nrow=2)
> > ind.not.na <- which(!is.na(a1))
> > ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> >dimensions, one logical.
> >? ans
> >? ? ? [,1] [,2]
> > [1,]?? NA 1.66
> > [2,] 2.74?? NA
> 
> Thanks, I am learning something.? I didn't know you could multiply a
> logical object by a numerical one.? But notice the answer is not the same
> as mine, because I am doing an operation on the vector of values a1[i,j,]
> first.
> 
> I tried a modification on sapply below, but it doesn't work? because I
> haven't referenced the 3d array a1 properly.? So I guess I must try to get
> a 2d result from a1 first, then use that in matrix arithmetic.
> 
> Sapply or mapply may work, I haven't used these much and will try to learn
> better how to use them.? Your use of sapply looks good; but I'm trying to
> understand if and how I can bring in the operation on a1.? This doesn't
> work:
> 
> evaluate <- function(idx) {
> ? ind.not.na <- which(!is.na(a1[idx,])) ]))? # doesn't work; improper
> indexing for a1
> ? if(length(ind.not.na) > 0) {
> ? ? return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))? # doesn't work;
> improper indexing for a1
> ? }
> }
> vec <- sapply(seq(length(m2)), evaluate)
> 
> Scott Waichler
> 
> 
> > -----Original Message-----
> > From: David Winsemius [mailto:dwinsemius at comcast.net]
> > Sent: Wednesday, April 30, 2014 8:46 PM
> > To: Waichler, Scott R
> > Cc: Bert Gunter; r-help at r-project.org
> > Subject: Re: [R] Using apply with more than one matrix
> >
> >
> > On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
> >
> > > Here is a working example with no random parts.? Thanks for your
> > patience and if I'm still off the mark with my presentation I'll drop
> > the matter.
> > >
> > > v <- c(NA, 1.5, NA, NA,
> > >? ? ?? NA, 1.1, 0.5, NA,
> > >? ? ?? NA, 1.3, 0.4, 0.9)
> > > a1 <- array(v, dim=c(2,2,3))
> > > m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
> > > m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
> > > condition1 <- !is.na(m1)& m1 > m2
> > >
> > > ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {
> > >for(j  in 1:2) {
> > >? ? ind.not.na <- which(!is.na(a1[i,j,]))
> > >? ? if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
> > >a1[i,j,ind.not.na[1]] + m2[i,j]? } } ans
> > >? ?? [,1] [,2]
> > > [1,]?? NA 1.66
> > > [2,] 3.14?? NA
> >
> > I would ask you to look at this loop-free approach and ask if this is
> > not equally valid?
> >
> > ans <- matrix(NA, ncol=2, nrow=2)
> > ind.not.na <- which(!is.na(a1))
> > ans[] <- condition1*a1[,,ind.not.na[1]]+ m2? # two matrices of equal
> >dimensions, one logical.
> >? ans
> >? ? ? [,1] [,2]
> > [1,]?? NA 1.66
> > [2,] 2.74?? NA
> > >
> > > Let me try asking again in words.? If I have multiple matrices or
> > > slices
> > of 3d arrays that are the same dimension, is there a way to pass them
> > all to apply, and have apply take care of looping through i,j?
> >
> > I don't think `apply` is the correct function for this. Either
> > `mapply` or basic matrix operation seem more likely to deliver correct
> results:
> >
> >
> > > I understand that apply has just one input object x.? I want to work
> > > on
> > more than one array object at once using a custom function that has
> > this
> > characteristic:? in order to compute the answer at i,j I need a result
> > from higher order array at the same i,j.
> >
> > If you want to iterate over matrix indices you can either use the
> > vector version e.g. m2[3] or the matrix version, m2[2,1[.
> >
> > vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
> >
> >
> >
> > > This is what I tried to demonstrate in my example above.
> > >
> > > Thanks,
> > > Scott
> >
> > David Winsemius
> > Alameda, CA, USA
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ccberry at ucsd.edu  Thu May  1 18:16:13 2014
From: ccberry at ucsd.edu (Charles Berry)
Date: Thu, 1 May 2014 16:16:13 +0000
Subject: [R] A combinatorial assignment problem
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <loom.20140501T180447-439@post.gmane.org>

Ravi Varadhan <ravi.varadhan <at> jhu.edu> writes:

> 
> Hi,
> 
> I have this problem:  K candidates apply for a job.  There are R referees
available to review their resumes and
> provide feedback.  Suppose that we would like M referees to review each
candidate (M < R).  How would I assign
> candidates to referees (or, conversely, referees to candidates)?  There
are two important cases:  (a) K >
> (R choose M) and (b) K < (R chooses M).
> 
> Case (a) actually reduces to case (b), so we only have to consider case
(b).  Without any other constraints,
> the problem is quite easy to solve.  Here is an example that shows this.
> 
> require(gtools)
> set.seed(12345)
> K <- 10  # number of candidates
> R <- 7    # number of referees
> M <- 3   # overlap, number of referees reviewing  each candidate
> 
> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
> assignment <- allcombs[sample(1:nrow(allcombs), size=K, replace=FALSE), ]
> assignment
> > assignment
>       [,1] [,2] [,3]
> [1,]    3    4    5
> [2,]    3    5    7
> [3,]    5    6    7
> [4,]    3    5    6
> [5,]    1    6    7
> [6,]    1    2    7
> [7,]    1    4    5
> [8,]    3    6    7
> [9,]    2    4    5
> [10,]    4    5    7
> >
> 


Isn't this the problem of constructing a balanced incomplete block design?

The problem and an R package to handle it are described here:

http://www.r-bloggers.com/generating-balanced-incomplete-block-designs-bibd/

As noted there, you cannot always get balance.

A Google Scholar search on  "balanced incomplete block design" will
pop up many classical works on this problem.

Maybe try the ExperimentalDesigns Task view. 


HTH,

Chuck


From wdunlap at tibco.com  Thu May  1 18:45:38 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Thu, 1 May 2014 09:45:38 -0700
Subject: [R] Using apply with more than one matrix
In-Reply-To: <074C83DAD4825242A20B2D83FDBCB88808A2E0@EX10MBOX03.pnnl.gov>
References: <074C83DAD4825242A20B2D83FDBCB88808A13C@EX10MBOX03.pnnl.gov>
	<CACk-te1UR0QtEYVyzPeVeZOcCrWOWutDfxJXv_tUbBD=bENcbg@mail.gmail.com>
	<074C83DAD4825242A20B2D83FDBCB88808A16F@EX10MBOX03.pnnl.gov>
	<95083300-E91C-4BF3-B733-028A387ABF5C@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A231@EX10MBOX03.pnnl.gov>
	<A37BC0AD-98F5-478C-A932-E4174B22BB6D@comcast.net>
	<074C83DAD4825242A20B2D83FDBCB88808A264@EX10MBOX03.pnnl.gov>
	<1398937790.37506.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<1398950628.93029.YahooMailNeo@web142602.mail.bf1.yahoo.com>
	<074C83DAD4825242A20B2D83FDBCB88808A2E0@EX10MBOX03.pnnl.gov>
Message-ID: <CAF8bMcaA7bZUHAvA=pvy6x+VT4LhG0mKc50jiHH4exV4D+hOPA@mail.gmail.com>

> Thank you, A.K.  I learned from both of your solutions.  I find the one that uses alply easier to follow and understand intuitively.

Another approach is to only loop over the 3rd dimensional slices of
a1.  Your original code, converted to a function so it is easier to
test and think about is

f0 <- function(a1, m1, m2) {
    stopifnot(length(dim(a1))==3, length(dim(m1))==2, length(dim(m2))==2,
              all(dim(m1)==dim(m2)), all(dim(m1)==dim(a1)[1:2]),
              dim(a1)[3] > 1)
    condition1 <- !is.na(m1)& m1 > m2
    ans <- array(NA_real_, dim(m1)) # initialize
    for(i in seq_len(dim(m1)[1])) {
        for(j in seq_len(dim(m1)[2])) {
            ind.not.na <- which(!is.na(a1[i,j,]))
            if(condition1[i,j] && length(ind.not.na) > 0) {
                ans[i,j] <- a1[i,j,ind.not.na[1]] + m2[i,j]
            }
        }
    }
    ans
}

I believe the following is an equivalent function, but I haven't
checked it much.
Note that the only loop is over the third dimension of a1, which I assume is not
too big.  That updating loop could probably be replaced by a call to Reduce.

f1 <- function(a1, m1, m2) {
    stopifnot(length(dim(a1))==3, length(dim(m1))==2, length(dim(m2))==2,
              all(dim(m1)==dim(m2)), all(dim(m1)==dim(a1)[1:2]),
              dim(a1)[3] > 1)

    firstGoodInA1 <- array(NA_real_, dim(a1)[1:2])
    for(k in seq_len(dim(a1)[3])) {
        isStillBad <- is.na(firstGoodInA1)
        firstGoodInA1[isStillBad] <- a1[, ,k][isStillBad]
    }
    condition1 <- !is.na(firstGoodInA1) & !is.na(m1) & (m1 > m2)
    ans <- array(NA_real_, dim(m1))
    ans[condition1] <- firstGoodInA1[condition1] + m2[condition1]
    ans
}


Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Thu, May 1, 2014 at 8:30 AM, Waichler, Scott R
<Scott.Waichler at pnnl.gov> wrote:
> Thank you, A.K.  I learned from both of your solutions.  I find the one that uses alply easier to follow and understand intuitively.  I guess I'll want to learn more about what plyr can do.  I've been using R for years but hadn't pushed vectorization far enough in my code.  Now my computing will be more efficient.
>
> Thanks also to David and the others who responded to my question.  It all helped.  --Scott Waichler
>
>> -----Original Message-----
>> From: arun [mailto:smartpink111 at yahoo.com]
>> Sent: Thursday, May 01, 2014 6:24 AM
>> To: R. Help
>> Cc: Waichler, Scott R
>> Subject: Re: [R] Using apply with more than one matrix
>>
>> Hi,
>> Sorry, a typo in the previous function:
>> ---------------------------------
>> if (condition1[i] && !is.na(indx3)) {
>>             arr[x1][indx3] + m2[i]  ###### should be mat2[i]
>>         } else NA
>>
>> -----------
>>
>> Also, you can try:
>> library(plyr)
>> evaluateNew <- function(arr, mat1, mat2){ if (!all(dim(mat1) ==
>> dim(mat2))) {
>>         stop("both matrices should have equal dimensions")
>>     }
>>  indx1 <- unlist(alply(arr, c(1,2), function(x) {x[!is.na(x)][1]}))
>> condition1 <- !is.na(mat1) & mat1 > mat2 ifelse(condition1, indx1+mat2,
>> NA) } evaluateNew(a1, m1, m2)
>>
>> #    [,1] [,2]
>> #[1,]   NA 1.66
>> #[2,] 3.14   NA
>> A.K.
>>
>>
>>
>>
>> On Thursday, May 1, 2014 5:49 AM, arun <smartpink111 at yahoo.com> wrote:
>>
>>
>> Hi,
>>
>> You may try:
>> evaluate <- function(arr, mat1, mat2) {
>>     if (!all(dim(mat1) == dim(mat2))) {
>>         stop("both matrices should have equal dimensions")
>>     }
>>     indx1 <- as.matrix(do.call(expand.grid, lapply(dim(arr), sequence)))
>>     indx2 <- paste0(indx1[, 1], indx1[, 2])
>>     condition1 <- !is.na(mat1) & mat1 > mat2
>>     ans <- sapply(seq_along(unique(indx2)), function(i) {
>>         x1 <- indx1[indx2 %in% unique(indx2)[i], ]
>>         indx3 <- which(!is.na(arr[x1]))[1]
>>         if (condition1[i] && !is.na(indx3)) {
>>             arr[x1][indx3] + m2[i]
>>         } else NA
>>     })
>>     dim(ans) <- dim(mat1)
>>     ans
>> }
>> evaluate(a1,m1,m2)
>> #     [,1] [,2]
>> #[1,]   NA 1.66
>> #[2,] 3.14   NA
>>
>> A.K.
>>
>>
>>
>> On Thursday, May 1, 2014 2:53 AM, "Waichler, Scott R"
>> <Scott.Waichler at pnnl.gov> wrote:
>> > I would ask you to look at this loop-free approach and ask if this is
>> > not equally valid?
>> >
>> > ans <- matrix(NA, ncol=2, nrow=2)
>> > ind.not.na <- which(!is.na(a1))
>> > ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
>> >dimensions, one logical.
>> >  ans
>> >      [,1] [,2]
>> > [1,]   NA 1.66
>> > [2,] 2.74   NA
>>
>> Thanks, I am learning something.  I didn't know you could multiply a
>> logical object by a numerical one.  But notice the answer is not the same
>> as mine, because I am doing an operation on the vector of values a1[i,j,]
>> first.
>>
>> I tried a modification on sapply below, but it doesn't work  because I
>> haven't referenced the 3d array a1 properly.  So I guess I must try to get
>> a 2d result from a1 first, then use that in matrix arithmetic.
>>
>> Sapply or mapply may work, I haven't used these much and will try to learn
>> better how to use them.  Your use of sapply looks good; but I'm trying to
>> understand if and how I can bring in the operation on a1.  This doesn't
>> work:
>>
>> evaluate <- function(idx) {
>>   ind.not.na <- which(!is.na(a1[idx,])) ]))  # doesn't work; improper
>> indexing for a1
>>   if(length(ind.not.na) > 0) {
>>     return(condition1*(a1[idx,ind.not.na[1]] + m2[idx]))  # doesn't work;
>> improper indexing for a1
>>   }
>> }
>> vec <- sapply(seq(length(m2)), evaluate)
>>
>> Scott Waichler
>>
>>
>> > -----Original Message-----
>> > From: David Winsemius [mailto:dwinsemius at comcast.net]
>> > Sent: Wednesday, April 30, 2014 8:46 PM
>> > To: Waichler, Scott R
>> > Cc: Bert Gunter; r-help at r-project.org
>> > Subject: Re: [R] Using apply with more than one matrix
>> >
>> >
>> > On Apr 30, 2014, at 6:03 PM, Waichler, Scott R wrote:
>> >
>> > > Here is a working example with no random parts.  Thanks for your
>> > patience and if I'm still off the mark with my presentation I'll drop
>> > the matter.
>> > >
>> > > v <- c(NA, 1.5, NA, NA,
>> > >       NA, 1.1, 0.5, NA,
>> > >       NA, 1.3, 0.4, 0.9)
>> > > a1 <- array(v, dim=c(2,2,3))
>> > > m1 <- matrix(c(NA, 1.5, 2.1, NA), ncol=2, byrow=T)
>> > > m2 <- matrix(c(1.56, 1.64, 1.16, 2.92), ncol=2)
>> > > condition1 <- !is.na(m1)& m1 > m2
>> > >
>> > > ans <- matrix(NA, ncol=2, nrow=2) # initialize for(i in 1:2) {
>> > >for(j  in 1:2) {
>> > >    ind.not.na <- which(!is.na(a1[i,j,]))
>> > >    if(condition1[i,j] && length(ind.not.na) > 0) ans[i,j] <-
>> > >a1[i,j,ind.not.na[1]] + m2[i,j]  } } ans
>> > >     [,1] [,2]
>> > > [1,]   NA 1.66
>> > > [2,] 3.14   NA
>> >
>> > I would ask you to look at this loop-free approach and ask if this is
>> > not equally valid?
>> >
>> > ans <- matrix(NA, ncol=2, nrow=2)
>> > ind.not.na <- which(!is.na(a1))
>> > ans[] <- condition1*a1[,,ind.not.na[1]]+ m2  # two matrices of equal
>> >dimensions, one logical.
>> >  ans
>> >      [,1] [,2]
>> > [1,]   NA 1.66
>> > [2,] 2.74   NA
>> > >
>> > > Let me try asking again in words.  If I have multiple matrices or
>> > > slices
>> > of 3d arrays that are the same dimension, is there a way to pass them
>> > all to apply, and have apply take care of looping through i,j?
>> >
>> > I don't think `apply` is the correct function for this. Either
>> > `mapply` or basic matrix operation seem more likely to deliver correct
>> results:
>> >
>> >
>> > > I understand that apply has just one input object x.  I want to work
>> > > on
>> > more than one array object at once using a custom function that has
>> > this
>> > characteristic:  in order to compute the answer at i,j I need a result
>> > from higher order array at the same i,j.
>> >
>> > If you want to iterate over matrix indices you can either use the
>> > vector version e.g. m2[3] or the matrix version, m2[2,1[.
>> >
>> > vec <- sapply(seq(length(m2) , function(idx) m2[idx]*condition1[idx] )
>> >
>> >
>> >
>> > > This is what I tried to demonstrate in my example above.
>> > >
>> > > Thanks,
>> > > Scott
>> >
>> > David Winsemius
>> > Alameda, CA, USA
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From evan.cooch at gmail.com  Thu May  1 15:47:44 2014
From: evan.cooch at gmail.com (Evan Cooch)
Date: Thu, 01 May 2014 09:47:44 -0400
Subject: [R] help using extrafont package | R graphics
In-Reply-To: <CAFr_7yECFZ9u-ATSgM-9wPR_6uCf6r5a_dFcFMMCFqN-_of_=A@mail.gmail.com>
References: <535C1D08.80609@gmail.com>
	<CAFr_7yECFZ9u-ATSgM-9wPR_6uCf6r5a_dFcFMMCFqN-_of_=A@mail.gmail.com>
Message-ID: <53625080.9010902@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/3a20c8e7/attachment.pl>

From ravi.varadhan at jhu.edu  Thu May  1 15:09:22 2014
From: ravi.varadhan at jhu.edu (Ravi Varadhan)
Date: Thu, 1 May 2014 13:09:22 +0000
Subject: [R] A combinatorial assignment problem
In-Reply-To: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C27EC@DOM-EB-MAIL2.win.ad.jhu.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/0f025bdf/attachment.pl>

From ravi.varadhan at jhu.edu  Thu May  1 17:58:45 2014
From: ravi.varadhan at jhu.edu (Ravi Varadhan)
Date: Thu, 1 May 2014 15:58:45 +0000
Subject: [R] A combinatorial assignment problem
In-Reply-To: <CACk-te0Ws9VYE=k838xtamGrsi50zzyDU5kMA3farVsc4SmGXw@mail.gmail.com>
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
	<2F9EA67EF9AE1C48A147CB41BE2E15C30E2C27EC@DOM-EB-MAIL2.win.ad.jhu.edu>
	<CACk-te0Ws9VYE=k838xtamGrsi50zzyDU5kMA3farVsc4SmGXw@mail.gmail.com>
Message-ID: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C28D8@DOM-EB-MAIL2.win.ad.jhu.edu>

Thanks, Bert.   
I have written this simple code, which is crude, but seems to do a decent job.  It works perfectly when M is a factor of R. Otherwise, it gives decent balance (of course, balance is not guaranteed).  I guess it is possible to take the results, that are somewhat unbalanced and then reshuffle it semi-randomly to get better balance.  Any improvements are appreciated! 

assign <- function(K, R, M, iseed=1234) {
  assignment <- matrix(NA, K, M)
  N <- R %/% M
  Nrem <- R %% M
  iseq <- seq(1,K,N)
  for (i in iseq){
  	size <- ifelse(K-i >= N, R-Nrem, M*(K-i+1))
  	sel <- sample(1:R, size=size, replace=FALSE)
  	end <- min((i+N-1),K)
  	assignment[i:end, ] <- sel
  	}
assignment
}

sol <- assign(40,16,3)
table(sol)

Thanks,
Ravi

-----Original Message-----
From: Bert Gunter [mailto:gunter.berton at gene.com] 
Sent: Thursday, May 01, 2014 10:46 AM
To: Ravi Varadhan
Cc: r-help at r-project.org; djnordlund at frontier.com
Subject: Re: A combinatorial assignment problem

Ravi:

You cannot simultaneously have balance and guarantee random mixing.
That is, you would need to specify precisely what you mean by balance and random mixing in this context, as these terms are now subjective and undefined.

You could, of course, randomize the initial assignment of referees to positions and note also that some mixing of referee groups would occur if m does not divide r evenly. More explicitly, note that a very fast way to generate the groups I described is:

rmk <- function(nrefs,size,ncands){
  n <- ncands * size
  matrix(rep(seq_len(nrefs), n %/% nrefs +1)[seq_len(n)],nrow=
ncands,byrow=TRUE)
}
## corner case checks and adjustments need to be made to this, of course.

>  rmk(7,3,10)
      [,1] [,2] [,3]
 [1,]    1    2    3
 [2,]    4    5    6
 [3,]    7    1    2
 [4,]    3    4    5
 [5,]    6    7    1
 [6,]    2    3    4
 [7,]    5    6    7
 [8,]    1    2    3
 [9,]    4    5    6
[10,]    7    1    2

You could then modify this by randomly reordering the referees every time a complete cycle of the groupings occurred, i.e. after each
nrefs/gcd(nrefs,size) candidates = rows. This would give variable groups and even assignment. This algorithm could be further fiddled with by choosing nrefs and size to assure they are relatively prime and then adding and removing further refs randomly during the cycling.
etc.

Cheers,
Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge is certainly not wisdom."
H. Gilbert Welch




On Thu, May 1, 2014 at 6:09 AM, Ravi Varadhan <ravi.varadhan at jhu.edu> wrote:
> Thank you, Dan and Bert.
>
>
>
> Bert ? Your approach provides a solution.  However, it has the 
> undesired property of referees lumping together (I apologize that I 
> did not state this as a condition).  In other words, it does not "mix" 
> the referees in some random fashion.
>
>
>
> Dan ? your approach attempts to have the desired properties, but is 
> not guaranteed to work.  Here is a counterexample:
>
>
>
>> set.seed(1234)
>
>> a <- assignment(40,15,3)
>
>> table(a)
>
> a
>
> 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
>
> 10  7 12  7  4 10  8  6  8 13  7  7 11  3  7
>
>
>
> Notice that the difference between maximum and minimum candidates for 
> referees is 13 ? 3 = 10.  Of course, I have to increase the # iters to 
> get a better solution, but for large  K and R this may not converge at all.
>
>
>
> Best regards,
>
> Ravi
>
>
>
> From: Ravi Varadhan
> Sent: Wednesday, April 30, 2014 1:49 PM
> To: r-help at r-project.org
> Subject: A combinatorial assignment problem
>
>
>
> Hi,
>
>
>
> I have this problem:  K candidates apply for a job.  There are R 
> referees available to review their resumes and provide feedback.  
> Suppose that we would like M referees to review each candidate (M < 
> R).  How would I assign candidates to referees (or, conversely, 
> referees to candidates)?  There are two important cases:  (a) K > (R choose M) and (b) K < (R chooses M).
>
>
>
> Case (a) actually reduces to case (b), so we only have to consider case (b).
> Without any other constraints, the problem is quite easy to solve.  
> Here is an example that shows this.
>
>
>
> require(gtools)
>
> set.seed(12345)
>
> K <- 10  # number of candidates
>
> R <- 7    # number of referees
>
> M <- 3   # overlap, number of referees reviewing  each candidate
>
>
>
> allcombs <- combinations(R, M, set=TRUE, repeats.allowed=FALSE)
>
> assignment <- allcombs[sample(1:nrow(allcombs), size=K, 
> replace=FALSE), ]
>
> assignment
>
>> assignment
>
>       [,1] [,2] [,3]
>
> [1,]    3    4    5
>
> [2,]    3    5    7
>
> [3,]    5    6    7
>
> [4,]    3    5    6
>
> [5,]    1    6    7
>
> [6,]    1    2    7
>
> [7,]    1    4    5
>
> [8,]    3    6    7
>
> [9,]    2    4    5
>
> [10,]    4    5    7
>
>>
>
>
>
> Here each row stands for a candidate and the column stands for the 
> referees who review that candidate.
>
>
>
> Of course, there are some constraints that make the assignment challenging.
> We would like to have an even distribution of the number of candidates 
> reviewed by each referee.  For example, the above code produces an 
> assignment where referee #2 gets only 2 candidates and referee #5 gets 
> 7 candidates.  We would like to avoid such uneven assignments.
>
>
>
>> table(assignment)
>
> assignment
>
> 1 2 3 4 5 6 7
>
> 3 2 4 4 7 4 6
>
>>
>
>
>
> Note that in this example there are 35 possible triplets of referees 
> and 10 candidates.  Therefore, a perfectly even assignment is not possible.
>
>
>
> I tried some obvious, greedy search methods but they are not guaranteed to
> work.   Any hints or suggestions would be greatly appreciated.
>
>
>
> Best,
>
> Ravi
>
>

From varinsacha at yahoo.fr  Thu May  1 13:47:14 2014
From: varinsacha at yahoo.fr (varin sacha)
Date: Thu, 1 May 2014 12:47:14 +0100 (BST)
Subject: [R] error using polymars argument
Message-ID: <1398944834.460.YahooMailNeo@web171305.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/fca8b00e/attachment.pl>

From Wade.A.Wall at usace.army.mil  Thu May  1 16:00:22 2014
From: Wade.A.Wall at usace.army.mil (Wall, Wade A ERDC-RDE-CERL-IL)
Date: Thu, 1 May 2014 14:00:22 +0000
Subject: [R] Understanding power analysis in glm and binomial proportion test
Message-ID: <C1524BE4BF45454293B8DF38FB9B5ECA1763799A@MS-EX1VKS.erdc.dren.mil>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/63b3b854/attachment.pl>

From gunter.berton at gene.com  Thu May  1 20:42:14 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 1 May 2014 11:42:14 -0700
Subject: [R] Understanding power analysis in glm and binomial proportion
	test
In-Reply-To: <C1524BE4BF45454293B8DF38FB9B5ECA1763799A@MS-EX1VKS.erdc.dren.mil>
References: <C1524BE4BF45454293B8DF38FB9B5ECA1763799A@MS-EX1VKS.erdc.dren.mil>
Message-ID: <CACk-te2oZ9QFoiGdzqE4zSCHK5m42FmQsZstMc2TQqwcE1__rw@mail.gmail.com>

While R is certainly used for statistical simulations as you showed,
this list is really for questions about R programming, not statistics.
While they certainly overlap and someone may respond here, I suggest
you post this to stats.stackexchange.com or other statistics site that
is specifically for such issues.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 1, 2014 at 7:00 AM, Wall, Wade A ERDC-RDE-CERL-IL
<Wade.A.Wall at usace.army.mil> wrote:
> Hi all,
>
> I am trying to run a power analysis using simulated data to compare the power of a glm versus a binomial proportion test to detect differences in proportions. For example, suppose you have some proportion that decreases by some amount over X number of time steps.
> .4,.39,.38,.37 . . . . .01 and simulate data over those time steps based on the decrease. Does a glm approach (differences in slope) "outperform" an approach whereby you simply look at proportional differences. I ran simulations and basically summed up the number of times p<.05 divided by the number of trials.  I was expecting that a glm approach would have more power because it would be utilizing all the data across multiple time steps, whereas a binomial proportion test is only comparing two populations ( the beginning and the end points).
>
> However the results indicated that a binomial proportion test had more power relative to a glm at fewer time steps and that, depending on the simulated decrease in proportions, the relationship between glm power and binomial proportion test power changed. Interestingly, a greater decreases, a binomial proportion test seems have greater power compared to a glm, which to me is counterintuitive since the slope should be greater.
>
> I am attaching the code below my questions in case anyone is interested.
>
> My questions are:
>
>
> (1)    Am I interpreting the results and p-values correctly?
>
> (2)    If I am interested in trends, does glm results really have lower power and, if so, is there a way to combine the two tests?
>
> I know that I am ignoring a lot of issues such as autocorrelation, but I am really just trying to understand the output.
>
> Any suggestions or insights would be appreciated.
>
> ##### Attempt at using glm model ######
> ltProb <- 0.4                       ## longterm average of nest survival probability
> change <- c(.01,.03,.05)
> yrs <- seq(1,20, by=1)                                                    ## Years of inquiry, probability of detecting a yearly change nest survival
> samplesize <- 50                                               ## Reasonable sample size range
> reps <- 1000                                                                       ## of simulations per
> SurvProb <- ltProb                                                           ## initiating survival probablity for later use, nuisance
> power <- matrix(nrow=length(change)*length(yrs)*length(samplesize), ncol=5) ## creating a matrix to hold data
>
> scenario <- 0                                                                      ## initializing scenarios which will be a placeholder later on
> for (a in 1:length(change)){                                                         ## loop through yearly pop change scenarios
>   for (c in 1:length(samplesize)){                                                                ## loop through sample size scenarios
>     for (b in 1:length(yrs)){                                                                              ## loop through years sceanarios
>       scenario=scenario+1
>       power[scenario,1] <- change[a]                                                                                                                                                                                          ## filling matrix with pop change used
>       power[scenario,2]<-ltProb*((1-change[a])**yrs[b])
>       power[scenario,3] <- yrs[b]                                                                                                                                                                                  ## filling matrix with number of years used
>       power[scenario,4] <- samplesize[c]                                                                                                                                                                                   ## filling matrix with sample size used
>     }
>   }
> }
> colnames(power) <- c("PopChange", "Proportion2","yrs", "Sample_Size", "Power")
> power=as.data.frame(power)
> power$Sample_Size=as.numeric(power$Sample_Size)
>
> scenario=levels(as.factor(power$PopChange)) ## To subset power
> ps = levels(as.factor(power$Sample_Size))
> results <- matrix(nrow=0, ncol=5) ## final matrix
> results=as.data.frame(results)
> reps=1000 ## set number of reps
>
> for (k in 1:length(scenario)){
>   for (m in 1:length(ps)){
>     sub=power[(power$PopChange==scenario[k]) & power$Sample_Size==ps[m],] ## Subset by scenario and sample size
>     probs = matrix(nrow=1000,ncol=16) ## this is matrix for probabilities.
>     dat=matrix(nrow=0,ncol=3,NA)
>     dat=as.data.frame(dat)
>     for (l in 1:reps){ ##This should be for the replicates
>       dat=matrix(nrow=0,ncol=3,NA)
>       dat=as.data.frame(dat)
>       print(l)
>       for (j in 1:nrow(sub)){
>         tmp=rbinom(n=sub$Sample_Size[j],size=1,prob=sub[j,2])
>         tmp.dat=cbind(tmp,rep(sub$yrs[j],sub$Sample_Size[j]),rep(sub$Proportion2[j],sub$Sample_Size[j]))
>         dat=rbind(dat,tmp.dat)
>         if (sub$yrs[j]>4){
>           x=(glm(dat[,1]~dat[,2],family=binomial))
>           probs[l,j-4]=ifelse(summary(x)$coefficients[2,4]<.05,1,0)
>         }
>       }
>     }
>     sub$Power[5:20]=apply(probs,2,sum)/nrow(probs)
>     results=rbind(results,sub)
>   }
> }
>
> tmp=results[!is.na(results$Power),] ### remove NAs
> tmp$SampleSize_Decline=paste(tmp$Sample_Size,tmp$PopChange,sep=":")
> tmp$SampleSize_Decline=as.factor(tmp$SampleSize_Decline)
>
> ### Now do the same using prop.test #####
> tmp$PropPower = NA
> for (i in 1:nrow(tmp)){
>   print(i)
>   x=0
>   for (j in 1:1000){
>     a = rbinom(tmp$Sample_Size[i],1,prob = (tmp$Proportion2[i]))
>     b=binom.test(sum(a),length(a),p=.4,conf.level=.95,alternative="less")
>     if (b$p.value < .05) {x=x+1}
>   }
>   tmp$PropPower[i] = x/1000
> }
>
> ##### graph results
> d=unique(tmp$PopChange)
> for (i in 1:length(d)){
>   par(mfcol = c(1,2))
>   sub = tmp[tmp$PopChange == d[i],]
>   plot(sub$yrs,sub$Power,col="red", main = d[i], xlab = "Number of years",ylab="Power")
>   points(sub$yrs,sub$PropPower,col="black")
>   plot(sub$PropPower,sub$Power,xlab="Binomial Proportion Power", ylab="GLM Power",main=d[i])
>   abline(0,1)
>   readline("Press <return to continue")
> }
>
>
> ##### End Code #####
>
>
>
> Wade A. Wall
> US Army ERDC-CERL
> P.O. Box 9005
> Champaign, IL  61826-9005
> 1-217-373-4420
> Wade.A.Wall at usace.army.mil<mailto:Wade.A.Wall at usace.army.mil>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From Wade.A.Wall at usace.army.mil  Thu May  1 20:51:55 2014
From: Wade.A.Wall at usace.army.mil (Wall, Wade A ERDC-RDE-CERL-IL)
Date: Thu, 1 May 2014 18:51:55 +0000
Subject: [R] [EXTERNAL] Re: Understanding power analysis in glm and
 binomial proportion test
In-Reply-To: <CACk-te2oZ9QFoiGdzqE4zSCHK5m42FmQsZstMc2TQqwcE1__rw@mail.gmail.com>
References: <C1524BE4BF45454293B8DF38FB9B5ECA1763799A@MS-EX1VKS.erdc.dren.mil>
	<CACk-te2oZ9QFoiGdzqE4zSCHK5m42FmQsZstMc2TQqwcE1__rw@mail.gmail.com>
Message-ID: <C1524BE4BF45454293B8DF38FB9B5ECA17637AE6@MS-EX1VKS.erdc.dren.mil>

Thanks for the information. I will pose the question on Stack Exchange.

Wade A. Wall
US Army ERDC-CERL
P.O. Box 9005
Champaign, IL  61826-9005
1-217-373-4420
Wade.A.Wall at usace.army.mil




-----Original Message-----
From: Bert Gunter [mailto:gunter.berton at gene.com] 
Sent: Thursday, May 01, 2014 1:42 PM
To: Wall, Wade A ERDC-RDE-CERL-IL
Cc: r-help at stat.math.ethz.ch
Subject: [EXTERNAL] Re: [R] Understanding power analysis in glm and binomial proportion test

While R is certainly used for statistical simulations as you showed, this list is really for questions about R programming, not statistics.
While they certainly overlap and someone may respond here, I suggest you post this to stats.stackexchange.com or other statistics site that is specifically for such issues.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge is certainly not wisdom."
H. Gilbert Welch




On Thu, May 1, 2014 at 7:00 AM, Wall, Wade A ERDC-RDE-CERL-IL <Wade.A.Wall at usace.army.mil> wrote:
> Hi all,
>
> I am trying to run a power analysis using simulated data to compare the power of a glm versus a binomial proportion test to detect differences in proportions. For example, suppose you have some proportion that decreases by some amount over X number of time steps.
> .4,.39,.38,.37 . . . . .01 and simulate data over those time steps based on the decrease. Does a glm approach (differences in slope) "outperform" an approach whereby you simply look at proportional differences. I ran simulations and basically summed up the number of times p<.05 divided by the number of trials.  I was expecting that a glm approach would have more power because it would be utilizing all the data across multiple time steps, whereas a binomial proportion test is only comparing two populations ( the beginning and the end points).
>
> However the results indicated that a binomial proportion test had more power relative to a glm at fewer time steps and that, depending on the simulated decrease in proportions, the relationship between glm power and binomial proportion test power changed. Interestingly, a greater decreases, a binomial proportion test seems have greater power compared to a glm, which to me is counterintuitive since the slope should be greater.
>
> I am attaching the code below my questions in case anyone is interested.
>
> My questions are:
>
>
> (1)    Am I interpreting the results and p-values correctly?
>
> (2)    If I am interested in trends, does glm results really have lower power and, if so, is there a way to combine the two tests?
>
> I know that I am ignoring a lot of issues such as autocorrelation, but I am really just trying to understand the output.
>
> Any suggestions or insights would be appreciated.
>
> ##### Attempt at using glm model ######
> ltProb <- 0.4                       ## longterm average of nest survival probability
> change <- c(.01,.03,.05)
> yrs <- seq(1,20, by=1)                                                    ## Years of inquiry, probability of detecting a yearly change nest survival
> samplesize <- 50                                               ## Reasonable sample size range
> reps <- 1000                                                                       ## of simulations per
> SurvProb <- ltProb                                                           ## initiating survival probablity for later use, nuisance
> power <- matrix(nrow=length(change)*length(yrs)*length(samplesize), 
> ncol=5) ## creating a matrix to hold data
>
> scenario <- 0                                                                      ## initializing scenarios which will be a placeholder later on
> for (a in 1:length(change)){                                                         ## loop through yearly pop change scenarios
>   for (c in 1:length(samplesize)){                                                                ## loop through sample size scenarios
>     for (b in 1:length(yrs)){                                                                              ## loop through years sceanarios
>       scenario=scenario+1
>       power[scenario,1] <- change[a]                                                                                                                                                                                          ## filling matrix with pop change used
>       power[scenario,2]<-ltProb*((1-change[a])**yrs[b])
>       power[scenario,3] <- yrs[b]                                                                                                                                                                                  ## filling matrix with number of years used
>       power[scenario,4] <- samplesize[c]                                                                                                                                                                                   ## filling matrix with sample size used
>     }
>   }
> }
> colnames(power) <- c("PopChange", "Proportion2","yrs", "Sample_Size", 
> "Power")
> power=as.data.frame(power)
> power$Sample_Size=as.numeric(power$Sample_Size)
>
> scenario=levels(as.factor(power$PopChange)) ## To subset power ps = 
> levels(as.factor(power$Sample_Size))
> results <- matrix(nrow=0, ncol=5) ## final matrix
> results=as.data.frame(results)
> reps=1000 ## set number of reps
>
> for (k in 1:length(scenario)){
>   for (m in 1:length(ps)){
>     sub=power[(power$PopChange==scenario[k]) & power$Sample_Size==ps[m],] ## Subset by scenario and sample size
>     probs = matrix(nrow=1000,ncol=16) ## this is matrix for probabilities.
>     dat=matrix(nrow=0,ncol=3,NA)
>     dat=as.data.frame(dat)
>     for (l in 1:reps){ ##This should be for the replicates
>       dat=matrix(nrow=0,ncol=3,NA)
>       dat=as.data.frame(dat)
>       print(l)
>       for (j in 1:nrow(sub)){
>         tmp=rbinom(n=sub$Sample_Size[j],size=1,prob=sub[j,2])
>         tmp.dat=cbind(tmp,rep(sub$yrs[j],sub$Sample_Size[j]),rep(sub$Proportion2[j],sub$Sample_Size[j]))
>         dat=rbind(dat,tmp.dat)
>         if (sub$yrs[j]>4){
>           x=(glm(dat[,1]~dat[,2],family=binomial))
>           probs[l,j-4]=ifelse(summary(x)$coefficients[2,4]<.05,1,0)
>         }
>       }
>     }
>     sub$Power[5:20]=apply(probs,2,sum)/nrow(probs)
>     results=rbind(results,sub)
>   }
> }
>
> tmp=results[!is.na(results$Power),] ### remove NAs
> tmp$SampleSize_Decline=paste(tmp$Sample_Size,tmp$PopChange,sep=":")
> tmp$SampleSize_Decline=as.factor(tmp$SampleSize_Decline)
>
> ### Now do the same using prop.test ##### tmp$PropPower = NA for (i in 
> 1:nrow(tmp)){
>   print(i)
>   x=0
>   for (j in 1:1000){
>     a = rbinom(tmp$Sample_Size[i],1,prob = (tmp$Proportion2[i]))
>     b=binom.test(sum(a),length(a),p=.4,conf.level=.95,alternative="less")
>     if (b$p.value < .05) {x=x+1}
>   }
>   tmp$PropPower[i] = x/1000
> }
>
> ##### graph results
> d=unique(tmp$PopChange)
> for (i in 1:length(d)){
>   par(mfcol = c(1,2))
>   sub = tmp[tmp$PopChange == d[i],]
>   plot(sub$yrs,sub$Power,col="red", main = d[i], xlab = "Number of years",ylab="Power")
>   points(sub$yrs,sub$PropPower,col="black")
>   plot(sub$PropPower,sub$Power,xlab="Binomial Proportion Power", ylab="GLM Power",main=d[i])
>   abline(0,1)
>   readline("Press <return to continue") }
>
>
> ##### End Code #####
>
>
>
> Wade A. Wall
> US Army ERDC-CERL
> P.O. Box 9005
> Champaign, IL  61826-9005
> 1-217-373-4420
> Wade.A.Wall at usace.army.mil<mailto:Wade.A.Wall at usace.army.mil>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From ccberry at ucsd.edu  Thu May  1 23:19:30 2014
From: ccberry at ucsd.edu (Charles Berry)
Date: Thu, 1 May 2014 21:19:30 +0000
Subject: [R] A combinatorial assignment problem
References: <2F9EA67EF9AE1C48A147CB41BE2E15C30E2C25C1@DOM-EB-MAIL2.win.ad.jhu.edu>
	<2F9EA67EF9AE1C48A147CB41BE2E15C30E2C27EC@DOM-EB-MAIL2.win.ad.jhu.edu>
	<CACk-te0Ws9VYE=k838xtamGrsi50zzyDU5kMA3farVsc4SmGXw@mail.gmail.com>
	<2F9EA67EF9AE1C48A147CB41BE2E15C30E2C28D8@DOM-EB-MAIL2.win.ad.jhu.edu>
Message-ID: <loom.20140501T230450-135@post.gmane.org>

Ravi Varadhan <ravi.varadhan <at> jhu.edu> writes:

> 
> Thanks, Bert.   
> I have written this simple code, which is crude, but seems to do a decent
job.  It works perfectly when M is a
> factor of R. Otherwise, it gives decent balance (of course, balance is not
guaranteed).  I guess it is
> possible to take the results, that are somewhat unbalanced and then
reshuffle it semi-randomly to get
> better balance.  Any improvements are appreciated! 
> 
> assign <- function(K, R, M, iseed=1234) {
>   assignment <- matrix(NA, K, M)
>   N <- R %/% M
>   Nrem <- R %% M
>   iseq <- seq(1,K,N)
>   for (i in iseq){
>   	size <- ifelse(K-i >= N, R-Nrem, M*(K-i+1))
>   	sel <- sample(1:R, size=size, replace=FALSE)
>   	end <- min((i+N-1),K)
>   	assignment[i:end, ] <- sel
>   	}
> assignment
> }
> 
> sol <- assign(40,16,3)
> table(sol)
> 
> Thanks,
> Ravi
> 


crossdes::find.BIB() seems to do better wrt balance and 'mixing' than
assign().

If you consider the usage of pairs of reviewers in this case,
find.BIB() comes closer to equal usage.
 

> assgn <- t(apply(assign(40,16,3),1,sort))
> bib <- find.BIB(16,40,3)
> adf <- data.frame(r1=factor(assgn[,c(1,1,2)],1:16),
+    r2 = factor(assgn[,c(2,3,3)],1:16))
> bdf <- data.frame(r1=factor(bib[,c(1,1,2)],1:16),
+ r2 = factor(bib[,c(2,3,3)],1:16))
> table(xtabs(~.,adf)[upper.tri(diag(16))])

 0  1  2  3  4 
44 42 26  6  2 
> table(xtabs(~.,bdf)[upper.tri(diag(16))])

  0   1   2 
  5 110   5 
>



In the assign(10,7,3) case, the balance is typically better with 
find.BIB(7,10,3):

 apply(replicate(10,table(assign(10,7,3))),2,range)
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    3    2    2    3    3    3    2    3    3     3
[2,]    5    5    5    5    5    5    5    5    5     5
> apply(replicate(10,table(find.BIB(7,10,3))),2,range)
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    4    4    4    4    4    4    4    4    4     4
[2,]    5    5    5    5    5    5    5    5    5     5
> 


You will pay a price for find.BIB in CPU time, however.

HTH,

Chuck


From jim at bitwrit.com.au  Thu May  1 23:19:55 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 02 May 2014 07:19:55 +1000
Subject: [R] error using polymars argument
In-Reply-To: <1398944834.460.YahooMailNeo@web171305.mail.ir2.yahoo.com>
References: <1398944834.460.YahooMailNeo@web171305.mail.ir2.yahoo.com>
Message-ID: <5362BA7B.9050802@bitwrit.com.au>

On 05/01/2014 09:47 PM, varin sacha wrote:
> Hi Dear all,
> I got an error when I try to do a MARS regression with the "polymars" argument on the A matrix and the V vector here below.
> I don't understand the error, I have nrow=22 for the response variable and for the predictor matrix.
> So if somebody could tell me what is going wrong, it would be very nice.
>
> A=matrix(c(74.711,64.614,83.514,78.187,71.327,86.197,49.986,69.012,79.591,83.158,65.437,56.225,54.485,90.531,93.357,79.15,63.611,73.133,53.497,56.328,89.585,56.289,10.92,8.08,11.92,10.75,12.08,10.58,9.33,14.17,13.25,14.33,6.92,12.42,7.17,13.75,16.83,13.67,5.25,10,7.08,10.83,14.58,11.75,nrow=22,ncol=2))
>
> V=c(44986,18288,56147,44488,41018,40631,27301,39025,45688,47172,12300,21558,16103,48874,67245,36119,10398,42630,12879,34058,84443,30639)
>
> polymars(V,A)
> Erreur dans polymars(V, A) :
>    The number of rows (cases) of the response and predictor matricies should be the same
>
Hi varin,
You have a misplaced parenthesis in your definition of A. It should be:

A<-matrix(c(74.711,64.614,83.514,78.187,71.327,86.197,49.986,69.012,
  79.591,83.158,65.437,56.225,54.485,90.531,93.357,79.15,63.611,73.133,
  53.497,56.328,89.585,56.289,10.92,8.08,11.92,10.75,12.08,10.58,9.33,
  14.17,13.25,14.33,6.92,12.42,7.17,13.75,16.83,13.67,5.25,10,7.08,10.83,
  14.58,11.75),nrow=22,ncol=2)

Jim


From dwinsemius at comcast.net  Thu May  1 23:33:33 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 1 May 2014 14:33:33 -0700
Subject: [R] outer() problem
In-Reply-To: <5361ED65.8060603@yahoo.fr>
References: <5361ED65.8060603@yahoo.fr>
Message-ID: <53F01A44-C716-4791-9A03-52A0B550ED9D@comcast.net>


On Apr 30, 2014, at 11:44 PM, Marc Girondot wrote:

> Dear list-members,
> 
> Can someone explains me why the last command gives an error. Thanks a lot:
> > outer(0:1, 0:1, FUN=function(x, y) {x+y})
>     [,1] [,2]
> [1,]    0    1
> [2,]    1    2
> > outer(0:1, 0:1, FUN=function(x, y) {x})
>     [,1] [,2]
> [1,]    0    0
> [2,]    1    1
> > outer(0:1, 0:1, FUN=function(x, y) {1})
> Erreur dans outer(0:1, 0:1, FUN = function(x, y) { :
>  dims [produit 4] ne correspond pas ? la longueur de l'objet [1]
> 
> Of course I simplify a lot my problem.

Try using rep() to get a vector of the correct length:

> outer(0:1, 0:1, FUN=function(x, y) {rep(1, length(x))})
     [,1] [,2]
[1,]    1    1
[2,]    1    1



> 
> Thanks a lot
> 
> Marc
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From kristi.glover at hotmail.com  Fri May  2 02:00:39 2014
From: kristi.glover at hotmail.com (Kristi Glover)
Date: Thu, 1 May 2014 21:00:39 -0300
Subject: [R] how to extract a part of objects from list ?
Message-ID: <COL130-W53F19A5441AE281C17EA87FA430@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/dab7beb7/attachment.pl>

From jorgeivanvelez at gmail.com  Fri May  2 02:35:58 2014
From: jorgeivanvelez at gmail.com (Jorge I Velez)
Date: Fri, 2 May 2014 10:35:58 +1000
Subject: [R] how to extract a part of objects from list ?
In-Reply-To: <COL130-W53F19A5441AE281C17EA87FA430@phx.gbl>
References: <COL130-W53F19A5441AE281C17EA87FA430@phx.gbl>
Message-ID: <CAKL8G3EH6cUcbe+WSLGVs6MBCefhs71zgC4jJQnEpM5XX6Mf_Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/87947679/attachment.pl>

From davidm.team at gmail.com  Thu May  1 20:14:16 2014
From: davidm.team at gmail.com (David Moskowitz)
Date: Thu, 1 May 2014 14:14:16 -0400
Subject: [R] How do I create multiple orthogonal designs with the Conjoint
	package?
Message-ID: <CAD_KbnDw0p8Gx5Hr8uwEtY-DqT-JWPOdp6MaMw92dqAoUXpKPQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/799f687f/attachment.pl>

From weitaiyun at gmail.com  Thu May  1 20:08:01 2014
From: weitaiyun at gmail.com (Taiyun Wei)
Date: Fri, 2 May 2014 02:08:01 +0800
Subject: [R] help using extrafont package | R graphics
In-Reply-To: <CAFr_7yECFZ9u-ATSgM-9wPR_6uCf6r5a_dFcFMMCFqN-_of_=A@mail.gmail.com>
References: <535C1D08.80609@gmail.com>
	<CAFr_7yECFZ9u-ATSgM-9wPR_6uCf6r5a_dFcFMMCFqN-_of_=A@mail.gmail.com>
Message-ID: <CAM4FiqGh0N2BvYyXh5PZrwpC4C=XRgS8XM0VBsa3ukd6qm_2-w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/9388b80f/attachment.pl>

From Ortiz-Bobea at rff.org  Thu May  1 21:48:12 2014
From: Ortiz-Bobea at rff.org (Ortiz-Bobea, Ariel)
Date: Thu, 1 May 2014 19:48:12 +0000
Subject: [R] speeding up applying hist() over rows of a matrix
Message-ID: <909C6632267EF54E9F6C133B5A3F8CAD0104CB44@RFF-Mail1>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/de2042b1/attachment.pl>

From sahinmerv at gmail.com  Thu May  1 22:38:20 2014
From: sahinmerv at gmail.com (=?UTF-8?B?TWVydmUgxZ5haGlu?=)
Date: Thu, 1 May 2014 23:38:20 +0300
Subject: [R] Simulative data production
In-Reply-To: <CALxY2LcxHk1ap6dqaUOveaUnNeMGJnSg3K=fY7VQsmCczKAkeg@mail.gmail.com>
References: <CALxY2LcxHk1ap6dqaUOveaUnNeMGJnSg3K=fY7VQsmCczKAkeg@mail.gmail.com>
Message-ID: <CAGSOz1ur1vggLvDzWVxMUJtcgyjOQJj9h766HKeDrO6AcKNOTw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/a58977b5/attachment.pl>

From varinsacha at yahoo.fr  Thu May  1 23:37:54 2014
From: varinsacha at yahoo.fr (varin sacha)
Date: Thu, 1 May 2014 22:37:54 +0100 (BST)
Subject: [R] error using polymars argument
In-Reply-To: <5362BA7B.9050802@bitwrit.com.au>
References: <1398944834.460.YahooMailNeo@web171305.mail.ir2.yahoo.com>
	<5362BA7B.9050802@bitwrit.com.au>
Message-ID: <1398980274.98313.YahooMailNeo@web171306.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/ea2ee7ec/attachment.pl>

From james at crosb.ie  Fri May  2 00:26:01 2014
From: james at crosb.ie (jcrosbie)
Date: Thu, 1 May 2014 15:26:01 -0700 (PDT)
Subject: [R] R and GML data from the Canadian Goverment
Message-ID: <1398983161145-4689843.post@n4.nabble.com>

I'm trying to create a map of transmission lines in Alberta. In addition, I'm
very new to creating maps.

The data can be found at: http://geogratis.gc.ca/site/eng/download

http://ftp2.cits.rncan.gc.ca/pub/canvec/doc/CanVec_distribution_formats_en.pdf

Would someone be able to point me in the right direction? I haven't been
able to find an R package which is able to work with the GML data on the
webset.  Does anyone know of which package I should use and a good example
out there?

Thank you



--
View this message in context: http://r.789695.n4.nabble.com/R-and-GML-data-from-the-Canadian-Goverment-tp4689843.html
Sent from the R help mailing list archive at Nabble.com.


From quijote at gmx.net  Fri May  2 02:56:36 2014
From: quijote at gmx.net (phil)
Date: Thu, 1 May 2014 17:56:36 -0700 (PDT)
Subject: [R] Tobit model with panel data
In-Reply-To: <CAMTWbJg-Q7MDxgRbPpeW5Xwx5uWNn4Zkfi64nV+MGMGSWtx=TA@mail.gmail.com>
References: <1398892016204-4689760.post@n4.nabble.com>
	<CAMTWbJg-Q7MDxgRbPpeW5Xwx5uWNn4Zkfi64nV+MGMGSWtx=TA@mail.gmail.com>
Message-ID: <1398992196714-4689846.post@n4.nabble.com>

Hi Arne,

thanks a lot for your reply, it was really helpful!

Now, after having managed to apply the censReg to my data, I get the
following error message when I enter the command "summary()":

Error in printCoefmat(coef(x, logSigma = logSigma), digits = digits) : 
  'x' must be coefficient matrix/data frame

What does that mean? Actually, I fear that maybe the number of observations
(total: 52; uncensored: 48) is too small. Is that possible?





--
View this message in context: http://r.789695.n4.nabble.com/Tobit-model-with-panel-data-tp4689760p4689846.html
Sent from the R help mailing list archive at Nabble.com.


From quijote at gmx.net  Fri May  2 03:23:21 2014
From: quijote at gmx.net (phil)
Date: Thu, 1 May 2014 18:23:21 -0700 (PDT)
Subject: [R] Tobit model with panel data
In-Reply-To: <1398992196714-4689846.post@n4.nabble.com>
References: <1398892016204-4689760.post@n4.nabble.com>
	<CAMTWbJg-Q7MDxgRbPpeW5Xwx5uWNn4Zkfi64nV+MGMGSWtx=TA@mail.gmail.com>
	<1398992196714-4689846.post@n4.nabble.com>
Message-ID: <1398993801926-4689847.post@n4.nabble.com>

Hi Arne,

it's me once again. I just tried the same regression with less predictors
since so far I have used 16 for 52 observations. Having used less
predictors, R showed me some output for the command "summary()". Without
doubt, it was clear beforehand that this ratio between dependent and
independent variable(s) is not adequate. Haven't thought about that...

I think you will see it the same way.

Thanks in advance.

Regards,

Phil



--
View this message in context: http://r.789695.n4.nabble.com/Tobit-model-with-panel-data-tp4689760p4689847.html
Sent from the R help mailing list archive at Nabble.com.


From preciousprachi229 at gmail.com  Fri May  2 04:11:53 2014
From: preciousprachi229 at gmail.com (prachi jain)
Date: Thu, 1 May 2014 19:11:53 -0700
Subject: [R] Fwd: Difficulty in finding some R functions
In-Reply-To: <CADe6M00X2+ns_7O-HLXuc1aHoT=izz732wvkoc_bfEffa7ESGw@mail.gmail.com>
References: <CADe6M02EJJFCDT7JbHMe4mXN7-9LegL=z=RM8s=jzFZb5tHX1A@mail.gmail.com>
	<CADe6M01D-YY_qUDHzJ-6Xw4N_u4opWExXhO5q3ZOyH_XFykGJA@mail.gmail.com>
	<CADe6M00X2+ns_7O-HLXuc1aHoT=izz732wvkoc_bfEffa7ESGw@mail.gmail.com>
Message-ID: <CADe6M00mg2YBfKnM6XODM8GTDBDwddWGBNzzEtnOU3kzaPqDYg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140501/a97b978f/attachment.pl>

From kridox at ymail.com  Fri May  2 09:00:56 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Fri, 2 May 2014 16:00:56 +0900
Subject: [R] Fwd: Difficulty in finding some R functions
In-Reply-To: <CADe6M00mg2YBfKnM6XODM8GTDBDwddWGBNzzEtnOU3kzaPqDYg@mail.gmail.com>
References: <CADe6M02EJJFCDT7JbHMe4mXN7-9LegL=z=RM8s=jzFZb5tHX1A@mail.gmail.com>
	<CADe6M01D-YY_qUDHzJ-6Xw4N_u4opWExXhO5q3ZOyH_XFykGJA@mail.gmail.com>
	<CADe6M00X2+ns_7O-HLXuc1aHoT=izz732wvkoc_bfEffa7ESGw@mail.gmail.com>
	<CADe6M00mg2YBfKnM6XODM8GTDBDwddWGBNzzEtnOU3kzaPqDYg@mail.gmail.com>
Message-ID: <CAAcyNCw3GpjK==qxXdu6KVW4CKk8yBzZx7j+rBU9s5_4CD9gnQ@mail.gmail.com>

Hello,

Maybe from here ?
http://www.ie.boun.edu.tr/~hormannw/BounQuantitiveFinance/Thesis/SilaHALULU.pdf

HTH
Pascal

On Fri, May 2, 2014 at 11:11 AM, prachi jain
<preciousprachi229 at gmail.com> wrote:
> Hey, I am trying to find some of the following functions in R packages:
>
> MLEt
>
> pt3
>
> cormatrix2vector
>
> ParameterEst
>
> tCopula
>
> riskBT
>
> I have checked every package from this link:
> http://cran.r-project.org/web/packages/available_packages_by_name.html but
> is unable to find the above functions. These functions belong to a code for
> calculating Value-at-risk and expected shortfall using copula function and
> backtesting the model.
>
> Could you please help me find these functions by naming the packages they
> belong to. Its really urgent for me so please reply asap.
>
> If required i can send the entire code for better understanding.
>
> If this is not the right place to mail a query, please do let me know where
> can I send my query, its really urgent for me.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From mbmiller+l at gmail.com  Fri May  2 09:17:49 2014
From: mbmiller+l at gmail.com (Mike Miller)
Date: Fri, 2 May 2014 02:17:49 -0500
Subject: [R] extracting the first few eigenvectors
Message-ID: <alpine.DEB.2.00.1405020159250.11630@taxa.psych.umn.edu>

I have a symmetric matrix, X, and I just want the first K eigenvectors 
(those associated with the K largest eigenvalues).  Clearly, this works:

eigs <- eigen( X, symmetric=TRUE )

K_eigenvectors <- eigs$vectors[ , 1:K ]
K_eigenvalues <- eigs$values[ 1:K ]

rm(eigs)

In order to do that, I have to create the matrix eigs$vectors which is the 
same size as X.  Sometimes X has 100 million elements or more.  Usually I 
want only the first 10 eigenvectors instead of all 10,000.  Is there any R 
function that will allow me to extract just the few that I want?  This 
would be analogous to the [V,d] = eigs(X,K) function in Octave/MATLAB.

Best,
Mike

-- 
Michael B. Miller, Ph.D.
Minnesota Center for Twin and Family Research
Department of Psychology
University of Minnesota
http://scholar.google.com/citations?user=EV_phq4AAAAJ


From matthias.weber at fnt.de  Fri May  2 09:17:15 2014
From: matthias.weber at fnt.de (Mat)
Date: Fri, 2 May 2014 00:17:15 -0700 (PDT)
Subject: [R] substring if a record has a "\"
Message-ID: <1399015035091-4689857.post@n4.nabble.com>

Hello togehter, 

i have a litte problem. I have a data.frame with a view entries like this
one:
      1
A   Marius Muller -\nIT Services
B   Rockwood\nBrockhues
C   Microlog Services\nMarcos
D   Firefox Services

I now want only the first description in the column until the "\n". How can
i do this?

The solution look like this one:

      1
A   Marius Muller -
B   Rockwood
C   Microlog Services
D   Firefox Services

Thank you.

Best regards. Mat.



--
View this message in context: http://r.789695.n4.nabble.com/substring-if-a-record-has-a-tp4689857.html
Sent from the R help mailing list archive at Nabble.com.


From kridox at ymail.com  Fri May  2 09:32:30 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Fri, 2 May 2014 16:32:30 +0900
Subject: [R] substring if a record has a "\"
In-Reply-To: <1399015035091-4689857.post@n4.nabble.com>
References: <1399015035091-4689857.post@n4.nabble.com>
Message-ID: <CAAcyNCwEtWbLz89Q0vsp+pUG5EXk35K-XQbBDZ9Lav3g_H-PcA@mail.gmail.com>

Hello,

Something like that?

x <- c('Marius Muller -\nIT Services','Rockwood\nBrockhues','Microlog
Services\nMarcos','Firefox Services')
x <- sapply(strsplit(x, '\n'), '[', 1)
x
[1] "Marius Muller -"   "Rockwood"          "Microlog Services"
[4] "Firefox Services"

Regards,
Pascal

On Fri, May 2, 2014 at 4:17 PM, Mat <matthias.weber at fnt.de> wrote:
> Hello togehter,
>
> i have a litte problem. I have a data.frame with a view entries like this
> one:
>       1
> A   Marius Muller -\nIT Services
> B   Rockwood\nBrockhues
> C   Microlog Services\nMarcos
> D   Firefox Services
>
> I now want only the first description in the column until the "\n". How can
> i do this?
>
> The solution look like this one:
>
>       1
> A   Marius Muller -
> B   Rockwood
> C   Microlog Services
> D   Firefox Services
>
> Thank you.
>
> Best regards. Mat.
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/substring-if-a-record-has-a-tp4689857.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From matthias.weber at fnt.de  Fri May  2 09:37:33 2014
From: matthias.weber at fnt.de (Mat)
Date: Fri, 2 May 2014 00:37:33 -0700 (PDT)
Subject: [R] substring if a record has a "\"
In-Reply-To: <CAAcyNCwEtWbLz89Q0vsp+pUG5EXk35K-XQbBDZ9Lav3g_H-PcA@mail.gmail.com>
References: <1399015035091-4689857.post@n4.nabble.com>
	<CAAcyNCwEtWbLz89Q0vsp+pUG5EXk35K-XQbBDZ9Lav3g_H-PcA@mail.gmail.com>
Message-ID: <1399016253839-4689860.post@n4.nabble.com>

works perfect, thank you :-)



--
View this message in context: http://r.789695.n4.nabble.com/substring-if-a-record-has-a-n-tp4689857p4689860.html
Sent from the R help mailing list archive at Nabble.com.


From nevil.amos at gmail.com  Fri May  2 10:46:21 2014
From: nevil.amos at gmail.com (nevil amos)
Date: Fri, 2 May 2014 18:46:21 +1000
Subject: [R] Return "TRUE" only for first match of values between matrix and
	vector.
Message-ID: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/8b0a0648/attachment.pl>

From bhh at xs4all.nl  Fri May  2 10:48:23 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 2 May 2014 10:48:23 +0200
Subject: [R] extracting the first few eigenvectors
In-Reply-To: <alpine.DEB.2.00.1405020159250.11630@taxa.psych.umn.edu>
References: <alpine.DEB.2.00.1405020159250.11630@taxa.psych.umn.edu>
Message-ID: <7E897004-9D4F-4068-AD26-CEE1B94E6CE5@xs4all.nl>


On 02-05-2014, at 09:17, Mike Miller <mbmiller+l at gmail.com> wrote:

> I have a symmetric matrix, X, and I just want the first K eigenvectors (those associated with the K largest eigenvalues).  Clearly, this works:
> 
> eigs <- eigen( X, symmetric=TRUE )
> 
> K_eigenvectors <- eigs$vectors[ , 1:K ]
> K_eigenvalues <- eigs$values[ 1:K ]
> 
> rm(eigs)
> 
> In order to do that, I have to create the matrix eigs$vectors which is the same size as X.  Sometimes X has 100 million elements or more.  Usually I want only the first 10 eigenvectors instead of all 10,000.  Is there any R function that will allow me to extract just the few that I want?  This would be analogous to the [V,d] = eigs(X,K) function in Octave/MATLAB.
> 

You can find possibly relevant stuff with

library(sos)
findFn("eigenvalue?)

which is how I found package rARPACK, which may be exactly what you need/want.

Berend

> Best,
> Mike
> 
> -- 
> Michael B. Miller, Ph.D.
> Minnesota Center for Twin and Family Research
> Department of Psychology
> University of Minnesota
> http://scholar.google.com/citations?user=EV_phq4AAAAJ
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From b.rowlingson at lancaster.ac.uk  Fri May  2 13:06:10 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri, 2 May 2014 12:06:10 +0100
Subject: [R] R and GML data from the Canadian Goverment
In-Reply-To: <d8129767d915412290ec31da0ac24cb7@EX-1-HT0.lancs.local>
References: <d8129767d915412290ec31da0ac24cb7@EX-1-HT0.lancs.local>
Message-ID: <CANVKczPAJNp03H=+RNL7cdbisUgw+qYhtc+ZPuvQXirR5cqEPw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/e564890f/attachment.pl>

From smartpink111 at yahoo.com  Fri May  2 13:51:16 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 2 May 2014 04:51:16 -0700 (PDT)
Subject: [R] Return "TRUE" only for first match of values between matrix
	and	vector.
In-Reply-To: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>
References: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>
Message-ID: <1399031476.55536.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,
Try:
indx <- A==B
t(apply(indx,1,function(x) {x[duplicated(x) & !is.na(x)] <- FALSE; x}))
#????? [,1]? [,2]? [,3]
#[1,]? TRUE FALSE FALSE
#[2,] FALSE??? NA FALSE
#[3,]??? NA??? NA??? NA
#[4,]? TRUE??? NA FALSE
#[5,] FALSE? TRUE FALSE

A.K.




On Friday, May 2, 2014 4:47 AM, nevil amos <nevil.amos at gmail.com> wrote:
I wish to return " True" in a matrix for only the first match of a value
per row where the value equals that in a vector with the same number of
values as rosw in the matrix

eg:
A<-matrix(c(2,3,2,1,1,2,NA,NA,NA,5,1,0,5,5,5),5,3)
B<-c(2,1,NA,1,5)
desired result:

? ? ? [,1] [,2]? [,3]
[1,]? TRUE FALSE FALSE
[2,] FALSE?  NA FALSE
[3,]? ? NA?  NA? ? NA
[4,]? TRUE?  NA FALSE
[5,] FALSE TRUE? FALSE

however A==B returns:
? ? ? [,1] [,2]? [,3]
[1,]? TRUE TRUE FALSE
[2,] FALSE?  NA FALSE
[3,]? ? NA?  NA? ? NA
[4,]? TRUE?  NA FALSE
[5,] FALSE TRUE? TRUE
and
apply(A,1,function(x) match (B,x))
returns
? ?  [,1] [,2] [,3] [,4] [,5]
[1,]? ? 1?  NA? ? 1?  NA?  NA
[2,]? ? 3?  NA?  NA? ? 1? ? 1
[3,]?  NA? ? 2? ? 2? ? 2?  NA
[4,]? ? 3?  NA?  NA? ? 1? ? 1
[5,]?  NA?  NA? ? 3? ? 3? ? 2

thanks

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From jorgeivanvelez at gmail.com  Fri May  2 15:04:50 2014
From: jorgeivanvelez at gmail.com (Jorge I Velez)
Date: Fri, 2 May 2014 23:04:50 +1000
Subject: [R] Return "TRUE" only for first match of values between matrix
 and vector.
In-Reply-To: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>
References: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>
Message-ID: <CAKL8G3GLP0CeWwNx7BBHw4uL8iAen6sXObLNkW+Z-3uAaxNEag@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/a859761e/attachment.pl>

From guido.hooiveld at wur.nl  Fri May  2 15:21:53 2014
From: guido.hooiveld at wur.nl (Hooiveld, Guido)
Date: Fri, 2 May 2014 13:21:53 +0000
Subject: [R] package for 'positive' incremental AUC determination?
Message-ID: <EB992C246EB7BF449BC1E6B12AF7F6501F62AA0A@SCOMP0933.wurnet.nl>

Hello,
I am analyzing a dataset that is comprised of sequential measurements in plasma glucose levels after consumption of different food stuffs by multiple subjects.
I would like to determine the so-called glycemic index, i.e. the area over the baseline (=fasting glucose level) under the curve, ignoring area beneath the baseline (the 'positive' incremental AUC). [see attached PDF, alternatively Figure 11c in http://dx.doi.org/10.1079/NRR2005100].
Ideally, significance of the difference of the positive iAUC between treatments as well as the time point of the maximum plasma glucose level for each treatment are also reported.

I know of the function auc() in the package "PK", which in principle can be used to calculate the incremental AUC, but unfortunately it cannot ignore the area beneath the baseline nor does it provide info on differences between the time point of the (glucose) peak.

Therefore any pointer is appreciated!
Guido

---------------------------------------------------------
Guido Hooiveld, PhD
Nutrition, Metabolism & Genomics Group
Division of Human Nutrition
Wageningen University
Biotechnion, Bomenweg 2
NL-6703 HD Wageningen
the Netherlands
tel: (+)31 317 485788
fax: (+)31 317 483342
email:      guido.hooiveld at wur.nl
internet:   http://nutrigene.4t.com
http://scholar.google.com/citations?user=qFHaMnoAAAAJ
http://www.researcherid.com/rid/F-4912-2010

-------------- next part --------------
A non-text attachment was scrubbed...
Name: pos_iAUC_method.pdf
Type: application/pdf
Size: 74781 bytes
Desc: pos_iAUC_method.pdf
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/57f8ad8d/attachment.pdf>

From davidm.team at gmail.com  Fri May  2 09:43:19 2014
From: davidm.team at gmail.com (David Moskowitz)
Date: Fri, 2 May 2014 03:43:19 -0400
Subject: [R]  creating multiple orthogonal plans
Message-ID: <CAD_KbnCb4g7t4LF2goy0=NtMsnygFk4GTrCd1cmsPNg1V6+3Jg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/ac4859aa/attachment.pl>

From smartpink111 at yahoo.com  Fri May  2 12:58:13 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 2 May 2014 03:58:13 -0700 (PDT)
Subject: [R] substring if a record has a "\"
In-Reply-To: <1399015035091-4689857.post@n4.nabble.com>
References: <1399015035091-4689857.post@n4.nabble.com>
Message-ID: <1399028293.9122.YahooMailNeo@web142601.mail.bf1.yahoo.com>

Hi,
Try:
dat <- structure(list(`1` = c("Marius Muller -\nIT Services", "Rockwood\nBrockhues", 
"Microlog Services\nMarcos", "Firefox Services")), .Names = "1", class = "data.frame", row.names = c("A", 
"B", "C", "D"))

dat$`1` <- gsub("\n.*","",dat$`1`)
dat
#????????????????? 1
#A?? Marius Muller -
#B????????? Rockwood
#C Microlog Services
#D? Firefox Services


A.K.


On Friday, May 2, 2014 3:19 AM, Mat <matthias.weber at fnt.de> wrote:
Hello togehter, 

i have a litte problem. I have a data.frame with a view entries like this
one:
? ? ? 1
A?  Marius Muller -\nIT Services
B?  Rockwood\nBrockhues
C?  Microlog Services\nMarcos
D?  Firefox Services

I now want only the first description in the column until the "\n". How can
i do this?

The solution look like this one:

? ? ? 1
A?  Marius Muller -
B?  Rockwood
C?  Microlog Services
D?  Firefox Services

Thank you.

Best regards. Mat.



--
View this message in context: http://r.789695.n4.nabble.com/substring-if-a-record-has-a-tp4689857.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From yixuan.qiu at cos.name  Fri May  2 14:34:55 2014
From: yixuan.qiu at cos.name (Yixuan Qiu)
Date: Fri, 2 May 2014 08:34:55 -0400
Subject: [R] extracting the first few eigenvectors
In-Reply-To: <7E897004-9D4F-4068-AD26-CEE1B94E6CE5@xs4all.nl>
References: <alpine.DEB.2.00.1405020159250.11630@taxa.psych.umn.edu>
	<7E897004-9D4F-4068-AD26-CEE1B94E6CE5@xs4all.nl>
Message-ID: <CAFr_7yG7iix=x5_FnAcNTs7To01YAMvMHs+f5U9Mqnx1+84N9Q@mail.gmail.com>

Exactly.
The syntax is intended to mimic eigs() in Matlab and Octave.

library(rARPACK)
eigs(X, 10)           # If your X is of class "dsyMatrix"
eigs_sym(X, 10)   # If X is of class "matrix"


Best,
Yixuan

2014-05-02 4:48 GMT-04:00 Berend Hasselman <bhh at xs4all.nl>:
>
> On 02-05-2014, at 09:17, Mike Miller <mbmiller+l at gmail.com> wrote:
>
>> I have a symmetric matrix, X, and I just want the first K eigenvectors (those associated with the K largest eigenvalues).  Clearly, this works:
>>
>> eigs <- eigen( X, symmetric=TRUE )
>>
>> K_eigenvectors <- eigs$vectors[ , 1:K ]
>> K_eigenvalues <- eigs$values[ 1:K ]
>>
>> rm(eigs)
>>
>> In order to do that, I have to create the matrix eigs$vectors which is the same size as X.  Sometimes X has 100 million elements or more.  Usually I want only the first 10 eigenvectors instead of all 10,000.  Is there any R function that will allow me to extract just the few that I want?  This would be analogous to the [V,d] = eigs(X,K) function in Octave/MATLAB.
>>
>
> You can find possibly relevant stuff with
>
> library(sos)
> findFn("eigenvalue?)
>
> which is how I found package rARPACK, which may be exactly what you need/want.
>
> Berend
>
>> Best,
>> Mike
>>
>> --
>> Michael B. Miller, Ph.D.
>> Minnesota Center for Twin and Family Research
>> Department of Psychology
>> University of Minnesota
>> http://scholar.google.com/citations?user=EV_phq4AAAAJ
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Yixuan Qiu <yixuan.qiu at cos.name>
Department of Statistics,
Purdue University


From smartpink111 at yahoo.com  Fri May  2 15:57:03 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 2 May 2014 06:57:03 -0700 (PDT)
Subject: [R] Adding a column with a count of unique values
Message-ID: <1399039023.40140.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,
Try:
dat <- read.table(text="Person ??? Time ??? Change
2 ??? 0 ??? 3
2 ??? 10 ??? 5
2 ??? 15 ??? 7
3 ??? 0 ??? 4
3 ??? 5 ??? 2",sep="",header=TRUE)
dat1 <- transform(dat,Count= ave(rep(1,nrow(dat)), Person, FUN=cumsum))
#or
##If it is ordered by Person
dat2 <- transform(dat, Count= setNames(sequence(table(Person)),NULL))
#or
dat3 <- transform(dat,Count= ave(seq_along(Person), Person, FUN=seq_along))
all.equal(dat1,dat2)
#[1] TRUE
?all.equal(dat1,dat3)
#[1] TRUE

A.K.


I have a dataframe that looks like this:
Person ??? Time ??? Change
2 ??? 0 ??? 3
2 ??? 10 ??? 5
2 ??? 15 ??? 7
3 ??? 0 ??? 4
3 ??? 5 ??? 2
I would like to add a column that counts each row for each person, like this:
Person ??? Time ??? Change ??? Count
2 ??? 0 ??? 3 ??? 1
2 ??? 10 ??? 5 ??? 2
2 ??? 15 ??? 7 ??? 3
3 ??? 0 ??? 4 ??? 1
3 ??? 5 ??? 2 ??? 2
Thanks in advance! 



From wdunlap at tibco.com  Fri May  2 18:23:12 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Fri, 2 May 2014 09:23:12 -0700
Subject: [R] speeding up applying hist() over rows of a matrix
In-Reply-To: <909C6632267EF54E9F6C133B5A3F8CAD0104CB44@RFF-Mail1>
References: <909C6632267EF54E9F6C133B5A3F8CAD0104CB44@RFF-Mail1>
Message-ID: <CAF8bMcY_QtpUGApGYYxrxSoJG4X-3Z4s25CLEhAUhjdukS0zPA@mail.gmail.com>

Your original code, as a function of 'm' and 'bins' is
f0 <- function (m, bins) {
    t(apply(m, 1, function(x) hist(x, breaks = bins, plot = FALSE)$counts))
}
and the time it takes to run on your m1 is about 5 s. on my machine
> system.time(r0 <- f0(m1,bins))
   user  system elapsed
   4.95    0.00    5.02


hist(x,breaks=bins) is essentially tabulate(cut(x,bins),nbins=length(bins)-1).
See how much it speeds things up by replacing hist() with tabulate(cut()):
f1 <- function (m, bins)
{
    nbins <- length(bins) - 1L
    t(apply(m, 1, function(x) tabulate(cut(x, bins), nbins = nbins)))
}
That doesn't help with the time, but it does give the same output
> system.time(r1 <- f1(m1,bins))
   user  system elapsed
   4.85    0.10    5.35
> identical(r0, r1)
[1] TRUE

Now try speeding it up by calling cut() on the whole matrix first
and then applying tabulate to each row, as in
f2 <- function (m, bins)  {
    nbins <- length(bins) - 1L
    m <- array(as.integer(cut(m, bins)), dim = dim(m))
    t(apply(m, 1, tabulate, nbins = nbins))
}
That saves quite a bit of time and gives the same output
> system.time(r2 <- f2(m1,bins))
   user  system elapsed
   0.25    0.00    0.25
> identical(r0, r2)
[1] TRUE

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Thu, May 1, 2014 at 12:48 PM, Ortiz-Bobea, Ariel <Ortiz-Bobea at rff.org> wrote:
> Hello everyone,
>
>
>
> I'm trying to construct bins for each row in a matrix. I'm using apply() in combination with hist() to do this. Performing this binning for a 10K-by-50 matrix takes about 5 seconds, but only 0.5 seconds for a 1K-by-500 matrix. This suggests the bottleneck is accessing rows in apply() rather than the calculations going on inside hist().
>
>
>
> My initial idea is to process as many columns (as make sense for the intended use) at once. However, I still have many many rows to process and I would appreciate any feedback on how to speed this up.
>
>
>
> Any thoughts?
>
>
>
> Thanks,
>
>
>
> Ariel
>
>
>
> Here is the illustration:
>
>
>
> # create data
>
> m1 <- matrix(10*rnorm(50*10^4), ncol=50)
>
> m2 <- matrix(10*rnorm(50*10^4), ncol=500)
>
>
>
> # compute bins
>
> bins <- seq(-100,100,1)
>
> system.time({ out1 <- t(apply(m1,1, function(x) hist(x,breaks=bins, plot=FALSE)$counts)) })
>
> system.time({ out2 <- t(apply(m2,1, function(x) hist(x,breaks=bins, plot=FALSE)$counts)) })
>
>
> ---
> Ariel Ortiz-Bobea
> Fellow
> Resources for the Future
> 1616 P Street, N.W.
> Washington, DC 20036
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Fri May  2 18:30:43 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Fri, 2 May 2014 09:30:43 -0700
Subject: [R] speeding up applying hist() over rows of a matrix
In-Reply-To: <CAF8bMcY_QtpUGApGYYxrxSoJG4X-3Z4s25CLEhAUhjdukS0zPA@mail.gmail.com>
References: <909C6632267EF54E9F6C133B5A3F8CAD0104CB44@RFF-Mail1>
	<CAF8bMcY_QtpUGApGYYxrxSoJG4X-3Z4s25CLEhAUhjdukS0zPA@mail.gmail.com>
Message-ID: <CAF8bMcb4eOH-E6Sh47rfHKjki7yZ+vZ8yX=NHZJZcADQv491wA@mail.gmail.com>

And since as.integer(cut(x,bins)) is essentially findInterval(x,bins)
(since we throw away the labels made by cut()), I tried using
findInterval instead of cut() and it cut the time by more than half,
so your 5.0 s. is now c. 0.1 s.
f3 <- function (m, bins)
{
    nbins <- length(bins) - 1L
    m <- array(findInterval(m, bins), dim = dim(m))
    t(apply(m, 1, tabulate, nbins = nbins))
}
> system.time(r3 <- f3(m1,bins))
   user  system elapsed
   0.09    0.00    0.09
> identical(r0,r3)
[1] TRUE

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, May 2, 2014 at 9:23 AM, William Dunlap <wdunlap at tibco.com> wrote:
> Your original code, as a function of 'm' and 'bins' is
> f0 <- function (m, bins) {
>     t(apply(m, 1, function(x) hist(x, breaks = bins, plot = FALSE)$counts))
> }
> and the time it takes to run on your m1 is about 5 s. on my machine
>> system.time(r0 <- f0(m1,bins))
>    user  system elapsed
>    4.95    0.00    5.02
>
>
> hist(x,breaks=bins) is essentially tabulate(cut(x,bins),nbins=length(bins)-1).
> See how much it speeds things up by replacing hist() with tabulate(cut()):
> f1 <- function (m, bins)
> {
>     nbins <- length(bins) - 1L
>     t(apply(m, 1, function(x) tabulate(cut(x, bins), nbins = nbins)))
> }
> That doesn't help with the time, but it does give the same output
>> system.time(r1 <- f1(m1,bins))
>    user  system elapsed
>    4.85    0.10    5.35
>> identical(r0, r1)
> [1] TRUE
>
> Now try speeding it up by calling cut() on the whole matrix first
> and then applying tabulate to each row, as in
> f2 <- function (m, bins)  {
>     nbins <- length(bins) - 1L
>     m <- array(as.integer(cut(m, bins)), dim = dim(m))
>     t(apply(m, 1, tabulate, nbins = nbins))
> }
> That saves quite a bit of time and gives the same output
>> system.time(r2 <- f2(m1,bins))
>    user  system elapsed
>    0.25    0.00    0.25
>> identical(r0, r2)
> [1] TRUE
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Thu, May 1, 2014 at 12:48 PM, Ortiz-Bobea, Ariel <Ortiz-Bobea at rff.org> wrote:
>> Hello everyone,
>>
>>
>>
>> I'm trying to construct bins for each row in a matrix. I'm using apply() in combination with hist() to do this. Performing this binning for a 10K-by-50 matrix takes about 5 seconds, but only 0.5 seconds for a 1K-by-500 matrix. This suggests the bottleneck is accessing rows in apply() rather than the calculations going on inside hist().
>>
>>
>>
>> My initial idea is to process as many columns (as make sense for the intended use) at once. However, I still have many many rows to process and I would appreciate any feedback on how to speed this up.
>>
>>
>>
>> Any thoughts?
>>
>>
>>
>> Thanks,
>>
>>
>>
>> Ariel
>>
>>
>>
>> Here is the illustration:
>>
>>
>>
>> # create data
>>
>> m1 <- matrix(10*rnorm(50*10^4), ncol=50)
>>
>> m2 <- matrix(10*rnorm(50*10^4), ncol=500)
>>
>>
>>
>> # compute bins
>>
>> bins <- seq(-100,100,1)
>>
>> system.time({ out1 <- t(apply(m1,1, function(x) hist(x,breaks=bins, plot=FALSE)$counts)) })
>>
>> system.time({ out2 <- t(apply(m2,1, function(x) hist(x,breaks=bins, plot=FALSE)$counts)) })
>>
>>
>> ---
>> Ariel Ortiz-Bobea
>> Fellow
>> Resources for the Future
>> 1616 P Street, N.W.
>> Washington, DC 20036
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From schmidt.dietlinde at web.de  Fri May  2 16:09:08 2014
From: schmidt.dietlinde at web.de (Dietlinde Schmidt)
Date: Fri, 02 May 2014 16:09:08 +0200
Subject: [R] matafor package: adding additional information under a forest
 plot
In-Reply-To: <077E31A57DA26E46AB0D493C9966AC730CBD70349C@UM-MAIL4112.unimaas.nl>
References: <077E31A57DA26E46AB0D493C9966AC730CBD70349C@UM-MAIL4112.unimaas.nl>
Message-ID: <5363A704.1040108@web.de>

Dear R-Users,

i have to questions about plotting a forest plot with the metafor package:

1) Is there a (text()) function to add additional information (e.g. 
heterogeneity statistics) under the forest plot?
2) I want to add various columns of additional information about each 
study (e.g. quality, time point, measure....). I thought i could do that 
with the ilab-argument, but i keep getting in the way with the line that 
restricts the plot and although i tweaked everything around, I do not 
succeed. Basecally, i want the format of the forest plot to be rather 
wide than tall, because i have little studies but many columns with 
additional study information. Does someone know how to solve that (over 
xlim, ylim???)?

Thanks a lot for your help

Linde


From chan_william at email.com  Fri May  2 19:17:20 2014
From: chan_william at email.com (starcraz)
Date: Fri, 2 May 2014 10:17:20 -0700 (PDT)
Subject: [R] Parsing XML file to data frame
Message-ID: <1399051040647-4689883.post@n4.nabble.com>

Hi all - I am trying to parse out the attached XML file into a data frame.
The file is extracted from Hadoop File Services (HFS). I am new in using the
XML package so need some help in parsing out the data. Below is some code
that I explore to get the attribute into a data frame. Any help is
appreciated.

library(XML)
temp <- xmlParseDoc("sample.xml")
temp.root <- xmlRoot(temp)
xmlName(temp.root)
xmlSize(temp.root) #21 child nodes
temp.root[[2]] #headers
temp.root[[2]][[2]] #extracts just the revision
temp.2 <- xmlToList(temp.root[[2]]) #extracts the info in temp.root[[2]]
into a list
temp.2
temp.2.df <- xmlToDataFrame(temp.root[[2]]) #data frame of the list
temp.2.df
xmlValue(temp.root[[2]]) #string the values of the node inside [[2]]

temp.revision <- xmlValue(temp.root[[2]][["Revision"]])
temp.revision

test <- xmlTreeParse("sample.xml")
test




--
View this message in context: http://r.789695.n4.nabble.com/Parsing-XML-file-to-data-frame-tp4689883.html
Sent from the R help mailing list archive at Nabble.com.


From changjiang.h.xu at gmail.com  Fri May  2 20:34:52 2014
From: changjiang.h.xu at gmail.com (ChangJiang Xu)
Date: Fri, 2 May 2014 14:34:52 -0400
Subject: [R] How to fix the format in write.csv
Message-ID: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/d27a305b/attachment.pl>

From jamie.f.olson at gmail.com  Fri May  2 20:50:27 2014
From: jamie.f.olson at gmail.com (Jamie Olson)
Date: Fri, 2 May 2014 14:50:27 -0400
Subject: [R] Writing to gzcon with rawConnection
Message-ID: <CAJ_cGTrzi2pO+T174K57x5Jyo716e6XYip+Bz06yjj=9a-nTNw@mail.gmail.com>

I would like to encode/decode some text with deflate/gzip, but I'm
having trouble.

Decoding values from a rawConnection is fairly straightforward, but
I'm having trouble encoding values and then retrieving them.

> gz_out <- gzcon(raw_out <- rawConnection(raw(0),open="wb"))
> writeLines("test",con=gz_out)
> flush(gz_out)
> rawConnectionValue(raw_out)
Error: cannot allocate vector of size 131069.2 Gb
> raw_out <- rawConnection(raw(0),open="wb")
> writeLines("test",con=raw_out)
> rawConnectionValue(raw_out)
[1] 74 65 73 74 0a


Has anyone had success doing this?

--Jamie


From gunter.berton at gene.com  Fri May  2 21:06:39 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 2 May 2014 12:06:39 -0700
Subject: [R] How to fix the format in write.csv
In-Reply-To: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>
References: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>
Message-ID: <CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>

Read your Excel documentation. AFAIK, R just writes text files -- you
need to tell Excel how to read them in.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 2, 2014 at 11:34 AM, ChangJiang Xu
<changjiang.h.xu at gmail.com> wrote:
> By dafault, write.csv will change the characters such as "5/38" as a date
> "May-38". How can I not change the format?
> Thanks.
>
> ChangJiang
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Fri May  2 22:56:44 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 2 May 2014 13:56:44 -0700
Subject: [R] How to fix the format in write.csv
In-Reply-To: <CAPf0vWc1CoQ8-xBWXwbrBkPsSX2Se_W1j56H=ZRm_1DBdGgY7A@mail.gmail.com>
References: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>
	<CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>
	<CAPf0vWc1CoQ8-xBWXwbrBkPsSX2Se_W1j56H=ZRm_1DBdGgY7A@mail.gmail.com>
Message-ID: <CACk-te2HOYaiGn5UiBS2x2Y1nheE11vy3EKM8pt24BBJOwJO8w@mail.gmail.com>

ChangJiang:

Open the .csv file with Notepad or other plain vanilla text processor,
NOT EXCEL. You will find that the columns are text. Excel
automatically converts them to dates. Read Excel's docs or get help
from someone to learn how to convert the dates back to text.

-- Bert



Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 2, 2014 at 12:35 PM, ChangJiang Xu
<changjiang.h.xu at gmail.com> wrote:
> Thanks. I still didn't get the solution. For example, I have a data frame,
> called temp
>> temp
>   Chr Ref Var     AFF    UNAFF AFF.test     pvalue
> 1  10   A   G  2/1/24    0/0/190        5/49  2.429e-09
> 2  18   G   A  1/9/17  0/23/167       11/43  2.484e-04
> 3   1   G   A  2/2/22    0/8/176         6/46  4.293e-04
> 4  11   T   G  1/1/25    0/2/188          3/51 1.193e-03
> 5   2   A   T 1/10/16   38/90/60       12/42  2.220e-03
> 6   3   G   A 1/16/10  8/49/133        18/36 4.549e-03
>
> Then I want to write a csv file using R function write.csv, as follows:
>> write.csv(temp, file="temp.csv", row.names = FALSE)
>
> and the csv file, temp.csv, looks like the below, not same as original data
> Chr    Ref    Var    AFF           UNAFF        AFF.test    pvalue
> 10        A    G    02/01/2024    0/0/190        May-49        2.43E-09
> 18        G    A    01/09/2017    0/23/167      Nov-43        0.0002484
> 1          G    A    02/02/2022    0/8/176        Jun-46        0.0004293
> 11         T    G    01/01/2025    0/2/188        Mar-51        0.001193
> 2          A    T    01/10/2016    38/90/60       Dec-42        0.00222
> 3          G    A    1/16/10        8/49/133       18/36          0.004549
>
>
> On Fri, May 2, 2014 at 3:06 PM, Bert Gunter <gunter.berton at gene.com> wrote:
>>
>> Read your Excel documentation. AFAIK, R just writes text files -- you
>> need to tell Excel how to read them in.
>>
>> Cheers,
>> Bert
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Fri, May 2, 2014 at 11:34 AM, ChangJiang Xu
>> <changjiang.h.xu at gmail.com> wrote:
>> > By dafault, write.csv will change the characters such as "5/38" as a
>> > date
>> > "May-38". How can I not change the format?
>> > Thanks.
>> >
>> > ChangJiang
>> >
>> >         [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>
>


From jim at bitwrit.com.au  Fri May  2 23:21:21 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Sat, 03 May 2014 07:21:21 +1000
Subject: [R] How to fix the format in write.csv
In-Reply-To: <CACk-te2HOYaiGn5UiBS2x2Y1nheE11vy3EKM8pt24BBJOwJO8w@mail.gmail.com>
References: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>	<CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>	<CAPf0vWc1CoQ8-xBWXwbrBkPsSX2Se_W1j56H=ZRm_1DBdGgY7A@mail.gmail.com>
	<CACk-te2HOYaiGn5UiBS2x2Y1nheE11vy3EKM8pt24BBJOwJO8w@mail.gmail.com>
Message-ID: <53640C51.50006@bitwrit.com.au>

Hi ChangJiang,
Date conversion is one of the biggest headaches with Excel. Even if you 
import those data into Excel and then specify that the column should be 
"text" format, it won't convert the values back into what they 
originally were. Be aware that Excel may, when encountering dates from a 
different locale, _silently_ convert the ones that aren't valid in its 
current locale, usually by swapping the day and month values. That one 
has bitten me when I have had to use Excel. The solution I found was to 
always use international format (yyyy-mm-dd) as that didn't seem to be 
altered.

Jim

On 05/03/2014 06:56 AM, Bert Gunter wrote:
> ChangJiang:
>
> Open the .csv file with Notepad or other plain vanilla text processor,
> NOT EXCEL. You will find that the columns are text. Excel
> automatically converts them to dates. Read Excel's docs or get help
> from someone to learn how to convert the dates back to text.
>
> -- Bert
>
>
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Fri, May 2, 2014 at 12:35 PM, ChangJiang Xu
> <changjiang.h.xu at gmail.com>  wrote:
>> Thanks. I still didn't get the solution. For example, I have a data frame,
>> called temp
>>> temp
>>    Chr Ref Var     AFF    UNAFF AFF.test     pvalue
>> 1  10   A   G  2/1/24    0/0/190        5/49  2.429e-09
>> 2  18   G   A  1/9/17  0/23/167       11/43  2.484e-04
>> 3   1   G   A  2/2/22    0/8/176         6/46  4.293e-04
>> 4  11   T   G  1/1/25    0/2/188          3/51 1.193e-03
>> 5   2   A   T 1/10/16   38/90/60       12/42  2.220e-03
>> 6   3   G   A 1/16/10  8/49/133        18/36 4.549e-03
>>
>> Then I want to write a csv file using R function write.csv, as follows:
>>> write.csv(temp, file="temp.csv", row.names = FALSE)
>>
>> and the csv file, temp.csv, looks like the below, not same as original data
>> Chr    Ref    Var    AFF           UNAFF        AFF.test    pvalue
>> 10        A    G    02/01/2024    0/0/190        May-49        2.43E-09
>> 18        G    A    01/09/2017    0/23/167      Nov-43        0.0002484
>> 1          G    A    02/02/2022    0/8/176        Jun-46        0.0004293
>> 11         T    G    01/01/2025    0/2/188        Mar-51        0.001193
>> 2          A    T    01/10/2016    38/90/60       Dec-42        0.00222
>> 3          G    A    1/16/10        8/49/133       18/36          0.004549
>>
>>
>> On Fri, May 2, 2014 at 3:06 PM, Bert Gunter<gunter.berton at gene.com>  wrote:
>>>
>>> Read your Excel documentation. AFAIK, R just writes text files -- you
>>> need to tell Excel how to read them in.
>>>
>>> Cheers,
>>> Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Fri, May 2, 2014 at 11:34 AM, ChangJiang Xu
>>> <changjiang.h.xu at gmail.com>  wrote:
>>>> By dafault, write.csv will change the characters such as "5/38" as a
>>>> date
>>>> "May-38". How can I not change the format?
>>>> Thanks.
>>>>
>>>> ChangJiang
>>>>
>>>>          [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From mbmiller+l at gmail.com  Sat May  3 03:09:31 2014
From: mbmiller+l at gmail.com (Mike Miller)
Date: Fri, 2 May 2014 20:09:31 -0500
Subject: [R] extracting the first few eigenvectors
In-Reply-To: <CAFr_7yG7iix=x5_FnAcNTs7To01YAMvMHs+f5U9Mqnx1+84N9Q@mail.gmail.com>
References: <alpine.DEB.2.00.1405020159250.11630@taxa.psych.umn.edu>
	<7E897004-9D4F-4068-AD26-CEE1B94E6CE5@xs4all.nl>
	<CAFr_7yG7iix=x5_FnAcNTs7To01YAMvMHs+f5U9Mqnx1+84N9Q@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1405021949290.11630@taxa.psych.umn.edu>

Thank you, and thanks for writing that code!  That is the perfect answer 
to my question.  I hope the R development team will consider expanding the 
functionality of eigen() to include the option to retain only the first 
few eigenvectors and/or eigenvalues.  To me it seems very common in 
statistics to work with a few eigenvectors instead of with all of them.

Mike


On Fri, 2 May 2014, Yixuan Qiu wrote:

> Exactly.
> The syntax is intended to mimic eigs() in Matlab and Octave.
>
> library(rARPACK)
> eigs(X, 10)           # If your X is of class "dsyMatrix"
> eigs_sym(X, 10)   # If X is of class "matrix"
>
>
> Best,
> Yixuan
>
> 2014-05-02 4:48 GMT-04:00 Berend Hasselman <bhh at xs4all.nl>:
>>
>> On 02-05-2014, at 09:17, Mike Miller <mbmiller+l at gmail.com> wrote:
>>
>>> I have a symmetric matrix, X, and I just want the first K eigenvectors (those associated with the K largest eigenvalues).  Clearly, this works:
>>>
>>> eigs <- eigen( X, symmetric=TRUE )
>>>
>>> K_eigenvectors <- eigs$vectors[ , 1:K ]
>>> K_eigenvalues <- eigs$values[ 1:K ]
>>>
>>> rm(eigs)
>>>
>>> In order to do that, I have to create the matrix eigs$vectors which is the same size as X.  Sometimes X has 100 million elements or more.  Usually I want only the first 10 eigenvectors instead of all 10,000.  Is there any R function that will allow me to extract just the few that I want?  This would be analogous to the [V,d] = eigs(X,K) function in Octave/MATLAB.
>>>
>>
>> You can find possibly relevant stuff with
>>
>> library(sos)
>> findFn("eigenvalue?)
>>
>> which is how I found package rARPACK, which may be exactly what you need/want.
>>
>> Berend
>>
>>> Best,
>>> Mike

From changjiang.h.xu at gmail.com  Fri May  2 21:35:01 2014
From: changjiang.h.xu at gmail.com (ChangJiang Xu)
Date: Fri, 2 May 2014 15:35:01 -0400
Subject: [R] How to fix the format in write.csv
In-Reply-To: <CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>
References: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>
	<CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>
Message-ID: <CAPf0vWc1CoQ8-xBWXwbrBkPsSX2Se_W1j56H=ZRm_1DBdGgY7A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/221c7452/attachment.pl>

From nospam at lisse.NA  Fri May  2 23:23:13 2014
From: nospam at lisse.NA (Dr Eberhard Lisse)
Date: Fri, 2 May 2014 23:23:13 +0200
Subject: [R] SQL vs R
Message-ID: <53640CC1.50903@lisse.NA>

Hi,

How do I do something like this without using sqldf?

a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")

or

e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")

greetings, el


From Ortiz-Bobea at rff.org  Fri May  2 23:33:23 2014
From: Ortiz-Bobea at rff.org (Ortiz-Bobea, Ariel)
Date: Fri, 2 May 2014 21:33:23 +0000
Subject: [R] speeding up applying hist() over rows of a matrix
In-Reply-To: <CAF8bMcb4eOH-E6Sh47rfHKjki7yZ+vZ8yX=NHZJZcADQv491wA@mail.gmail.com>
References: <909C6632267EF54E9F6C133B5A3F8CAD0104CB44@RFF-Mail1>
	<CAF8bMcY_QtpUGApGYYxrxSoJG4X-3Z4s25CLEhAUhjdukS0zPA@mail.gmail.com>
	<CAF8bMcb4eOH-E6Sh47rfHKjki7yZ+vZ8yX=NHZJZcADQv491wA@mail.gmail.com>
Message-ID: <909C6632267EF54E9F6C133B5A3F8CAD0104D47A@RFF-Mail1>

This works great, thanks a lot!
-AOB

-----Original Message-----
From: William Dunlap [mailto:wdunlap at tibco.com] 
Sent: Friday, May 02, 2014 12:31 PM
To: Ortiz-Bobea, Ariel
Cc: r-help at r-project.org
Subject: Re: [R] speeding up applying hist() over rows of a matrix

And since as.integer(cut(x,bins)) is essentially findInterval(x,bins) (since we throw away the labels made by cut()), I tried using findInterval instead of cut() and it cut the time by more than half, so your 5.0 s. is now c. 0.1 s.
f3 <- function (m, bins)
{
    nbins <- length(bins) - 1L
    m <- array(findInterval(m, bins), dim = dim(m))
    t(apply(m, 1, tabulate, nbins = nbins)) }
> system.time(r3 <- f3(m1,bins))
   user  system elapsed
   0.09    0.00    0.09
> identical(r0,r3)
[1] TRUE

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, May 2, 2014 at 9:23 AM, William Dunlap <wdunlap at tibco.com> wrote:
> Your original code, as a function of 'm' and 'bins' is
> f0 <- function (m, bins) {
>     t(apply(m, 1, function(x) hist(x, breaks = bins, plot = 
> FALSE)$counts)) } and the time it takes to run on your m1 is about 5 
> s. on my machine
>> system.time(r0 <- f0(m1,bins))
>    user  system elapsed
>    4.95    0.00    5.02
>
>
> hist(x,breaks=bins) is essentially tabulate(cut(x,bins),nbins=length(bins)-1).
> See how much it speeds things up by replacing hist() with tabulate(cut()):
> f1 <- function (m, bins)
> {
>     nbins <- length(bins) - 1L
>     t(apply(m, 1, function(x) tabulate(cut(x, bins), nbins = nbins))) 
> } That doesn't help with the time, but it does give the same output
>> system.time(r1 <- f1(m1,bins))
>    user  system elapsed
>    4.85    0.10    5.35
>> identical(r0, r1)
> [1] TRUE
>
> Now try speeding it up by calling cut() on the whole matrix first and 
> then applying tabulate to each row, as in
> f2 <- function (m, bins)  {
>     nbins <- length(bins) - 1L
>     m <- array(as.integer(cut(m, bins)), dim = dim(m))
>     t(apply(m, 1, tabulate, nbins = nbins)) } That saves quite a bit 
> of time and gives the same output
>> system.time(r2 <- f2(m1,bins))
>    user  system elapsed
>    0.25    0.00    0.25
>> identical(r0, r2)
> [1] TRUE
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Thu, May 1, 2014 at 12:48 PM, Ortiz-Bobea, Ariel <Ortiz-Bobea at rff.org> wrote:
>> Hello everyone,
>>
>>
>>
>> I'm trying to construct bins for each row in a matrix. I'm using apply() in combination with hist() to do this. Performing this binning for a 10K-by-50 matrix takes about 5 seconds, but only 0.5 seconds for a 1K-by-500 matrix. This suggests the bottleneck is accessing rows in apply() rather than the calculations going on inside hist().
>>
>>
>>
>> My initial idea is to process as many columns (as make sense for the intended use) at once. However, I still have many many rows to process and I would appreciate any feedback on how to speed this up.
>>
>>
>>
>> Any thoughts?
>>
>>
>>
>> Thanks,
>>
>>
>>
>> Ariel
>>
>>
>>
>> Here is the illustration:
>>
>>
>>
>> # create data
>>
>> m1 <- matrix(10*rnorm(50*10^4), ncol=50)
>>
>> m2 <- matrix(10*rnorm(50*10^4), ncol=500)
>>
>>
>>
>> # compute bins
>>
>> bins <- seq(-100,100,1)
>>
>> system.time({ out1 <- t(apply(m1,1, function(x) hist(x,breaks=bins, 
>> plot=FALSE)$counts)) })
>>
>> system.time({ out2 <- t(apply(m2,1, function(x) hist(x,breaks=bins, 
>> plot=FALSE)$counts)) })
>>
>>
>> ---
>> Ariel Ortiz-Bobea
>> Fellow
>> Resources for the Future
>> 1616 P Street, N.W.
>> Washington, DC 20036
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

From cnagle at me.com  Sat May  3 01:50:08 2014
From: cnagle at me.com (Charlie Nagle)
Date: Fri, 02 May 2014 19:50:08 -0400
Subject: [R] Making a panel of scatter plots in R
Message-ID: <52524B96-3D8E-40CC-A021-FE1F92B94A4B@me.com>

Hello,

I'm trying to figure out how to panel scatter plots of participant data in R using the ggplot2 package. I do not want to display separate variables, I simply want to create a 4 by 4 or 5 by 5 grid of scatter plots that represent the data of each individual participant since I am looking at longitudinal data and wish to examine it visually.

I am currently generating basic plots with the function: p+geom_point()+facet_grid(~ID). This generates all of the plots, but in a single row that is not easy to visualize. Any help you can provide on the appropriate command syntax is greatly appreciated!

Sincerely,
Charlie


From jdnewmil at dcn.davis.CA.us  Sat May  3 04:06:49 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 02 May 2014 19:06:49 -0700
Subject: [R] Making a panel of scatter plots in R
In-Reply-To: <52524B96-3D8E-40CC-A021-FE1F92B94A4B@me.com>
References: <52524B96-3D8E-40CC-A021-FE1F92B94A4B@me.com>
Message-ID: <df12e41e-adac-4867-b812-e1ef3c5e14db@email.android.com>

Are you looking for facet_wrap? facet_grid usually has two grouping variables...
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 2, 2014 4:50:08 PM PDT, Charlie Nagle <cnagle at me.com> wrote:
>Hello,
>
>I'm trying to figure out how to panel scatter plots of participant data
>in R using the ggplot2 package. I do not want to display separate
>variables, I simply want to create a 4 by 4 or 5 by 5 grid of scatter
>plots that represent the data of each individual participant since I am
>looking at longitudinal data and wish to examine it visually.
>
>I am currently generating basic plots with the function:
>p+geom_point()+facet_grid(~ID). This generates all of the plots, but in
>a single row that is not easy to visualize. Any help you can provide on
>the appropriate command syntax is greatly appreciated!
>
>Sincerely,
>Charlie
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From andrewcd at gmail.com  Sat May  3 04:15:27 2014
From: andrewcd at gmail.com (Andrew Crane-Droesch)
Date: Fri, 02 May 2014 19:15:27 -0700
Subject: [R] Seeking well-commented versions of mgcv source code
Message-ID: <5364513F.5010902@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140502/d123f426/attachment.pl>

From cof at qualityexcellence.es  Sat May  3 06:40:35 2014
From: cof at qualityexcellence.es (Carlos Ortega)
Date: Sat, 3 May 2014 06:40:35 +0200
Subject: [R] SQL vs R
In-Reply-To: <53640CC1.50903@lisse.NA>
References: <53640CC1.50903@lisse.NA>
Message-ID: <CAOKbq8hdjK_FjtPtzLiDqFEqBf2NsCLAKBLMmu4NLk-qwHd+4g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/60c7ac12/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Sat May  3 06:55:16 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 02 May 2014 21:55:16 -0700
Subject: [R] Seeking well-commented versions of mgcv source code
In-Reply-To: <5364513F.5010902@gmail.com>
References: <5364513F.5010902@gmail.com>
Message-ID: <89712b53-194c-43f7-bf1a-cd545a4a7994@email.android.com>

Read the Posting Guide, which points out that this list is for plain text emails so you should set your email program appropriately.

Read the Writing R Extensions document, which tells you how packages are constructed, and from which it will become clear that you want the tar.gz package file for whatever package you are interested in.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 2, 2014 7:15:27 PM PDT, Andrew Crane-Droesch <andrewcd at gmail.com> wrote:
>Dear List,
>
>I'm looking for well-commented versions of various functions comprising
>
>mgcv, so that I can modify a piece of it for a project I'm working on. 
>
>In particular I'm looking for
>
>  * testStat
>  * summary.gam
>  * liu2
>  * simf
>
>Obviously I can find these by typing mgcv:::whatever.  But there are a 
>lot of nested if statements, making it difficult to follow. Comments in
>
>the code describing exactly what is happening at each step would make
>my 
>life a lot easier.
>
>Where can I find more-detailed versions of the code?
>
>Thanks,
>Andrew
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From dulcalma at bigpond.com  Sat May  3 06:57:13 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Sat, 3 May 2014 14:57:13 +1000
Subject: [R] How to fix the format in write.csv
In-Reply-To: <53640C51.50006@bitwrit.com.au>
References: <CAPf0vWcFedarfu1z=S+ZQAv5MwPOaixvXfrB-nJym7-L9sVD_Q@mail.gmail.com>	<CACk-te3jE-Mhj6cEzZ_yhyQ5gfEPkKdAR1_qtrcLe0LXdDaieg@mail.gmail.com>	<CAPf0vWc1CoQ8-xBWXwbrBkPsSX2Se_W1j56H=ZRm_1DBdGgY7A@mail.gmail.com>	<CACk-te2HOYaiGn5UiBS2x2Y1nheE11vy3EKM8pt24BBJOwJO8w@mail.gmail.com>
	<53640C51.50006@bitwrit.com.au>
Message-ID: <000601cf668c$2623f8e0$726beaa0$@bigpond.com>

Hi

I second Jim's comments.

I have also been bitten by British being converted to American format as
well as ANSI numeric to a date format which I did not want .

And if you want to take a daily series from the 1890's to the 2000's caveat
emptor.

If you are dealing with dates use something that will give you a proper
output date format.

Even beware of old versions of Access exporting  excel files they are really
html files.

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au
 



-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of Jim Lemon
Sent: Saturday, 3 May 2014 07:21
To: Bert Gunter
Cc: r-help at r-project.org
Subject: Re: [R] How to fix the format in write.csv

Hi ChangJiang,
Date conversion is one of the biggest headaches with Excel. Even if you 
import those data into Excel and then specify that the column should be 
"text" format, it won't convert the values back into what they 
originally were. Be aware that Excel may, when encountering dates from a 
different locale, _silently_ convert the ones that aren't valid in its 
current locale, usually by swapping the day and month values. That one 
has bitten me when I have had to use Excel. The solution I found was to 
always use international format (yyyy-mm-dd) as that didn't seem to be 
altered.

Jim

On 05/03/2014 06:56 AM, Bert Gunter wrote:
> ChangJiang:
>
> Open the .csv file with Notepad or other plain vanilla text processor,
> NOT EXCEL. You will find that the columns are text. Excel
> automatically converts them to dates. Read Excel's docs or get help
> from someone to learn how to convert the dates back to text.
>
> -- Bert
>
>
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Fri, May 2, 2014 at 12:35 PM, ChangJiang Xu
> <changjiang.h.xu at gmail.com>  wrote:
>> Thanks. I still didn't get the solution. For example, I have a data
frame,
>> called temp
>>> temp
>>    Chr Ref Var     AFF    UNAFF AFF.test     pvalue
>> 1  10   A   G  2/1/24    0/0/190        5/49  2.429e-09
>> 2  18   G   A  1/9/17  0/23/167       11/43  2.484e-04
>> 3   1   G   A  2/2/22    0/8/176         6/46  4.293e-04
>> 4  11   T   G  1/1/25    0/2/188          3/51 1.193e-03
>> 5   2   A   T 1/10/16   38/90/60       12/42  2.220e-03
>> 6   3   G   A 1/16/10  8/49/133        18/36 4.549e-03
>>
>> Then I want to write a csv file using R function write.csv, as follows:
>>> write.csv(temp, file="temp.csv", row.names = FALSE)
>>
>> and the csv file, temp.csv, looks like the below, not same as original
data
>> Chr    Ref    Var    AFF           UNAFF        AFF.test    pvalue
>> 10        A    G    02/01/2024    0/0/190        May-49        2.43E-09
>> 18        G    A    01/09/2017    0/23/167      Nov-43        0.0002484
>> 1          G    A    02/02/2022    0/8/176        Jun-46        0.0004293
>> 11         T    G    01/01/2025    0/2/188        Mar-51        0.001193
>> 2          A    T    01/10/2016    38/90/60       Dec-42        0.00222
>> 3          G    A    1/16/10        8/49/133       18/36
0.004549
>>
>>
>> On Fri, May 2, 2014 at 3:06 PM, Bert Gunter<gunter.berton at gene.com>
wrote:
>>>
>>> Read your Excel documentation. AFAIK, R just writes text files -- you
>>> need to tell Excel how to read them in.
>>>
>>> Cheers,
>>> Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Fri, May 2, 2014 at 11:34 AM, ChangJiang Xu
>>> <changjiang.h.xu at gmail.com>  wrote:
>>>> By dafault, write.csv will change the characters such as "5/38" as a
>>>> date
>>>> "May-38". How can I not change the format?
>>>> Thanks.
>>>>
>>>> ChangJiang
>>>>
>>>>          [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Sat May  3 07:11:40 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 2 May 2014 22:11:40 -0700
Subject: [R] SQL vs R
In-Reply-To: <53640CC1.50903@lisse.NA>
References: <53640CC1.50903@lisse.NA>
Message-ID: <CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>

By making the effort to learn R?

See e.g. the "Introduction to R" tutorial that ships with R.

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
> Hi,
>
> How do I do something like this without using sqldf?
>
> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>
> or
>
> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>
> greetings, el
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ilovemaths4meonly at yahoo.com  Sat May  3 09:21:39 2014
From: ilovemaths4meonly at yahoo.com (kabir opeyemi)
Date: Sat, 3 May 2014 00:21:39 -0700 (PDT)
Subject: [R] Bayesian PLS-Based Dimension Reduction and Classification
	Methods for Time to Event Data in R
Message-ID: <1399101699.76089.YahooMailNeo@web164702.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/66322f74/attachment.pl>

From ilovemaths4meonly at yahoo.com  Sat May  3 09:27:31 2014
From: ilovemaths4meonly at yahoo.com (kabir opeyemi)
Date: Sat, 3 May 2014 00:27:31 -0700 (PDT)
Subject: [R] Construction of Optimal Designs in the Language R
Message-ID: <1399102051.89105.YahooMailNeo@web164703.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/e65a75b1/attachment.pl>

From wolfgang.viechtbauer at maastrichtuniversity.nl  Sat May  3 10:45:06 2014
From: wolfgang.viechtbauer at maastrichtuniversity.nl (Viechtbauer Wolfgang (STAT))
Date: Sat, 3 May 2014 10:45:06 +0200
Subject: [R] matafor package: adding additional information under a
 forest plot
In-Reply-To: <5363A704.1040108@web.de>
References: <077E31A57DA26E46AB0D493C9966AC730CBD70349C@UM-MAIL4112.unimaas.nl>,
	<5363A704.1040108@web.de>
Message-ID: <077E31A57DA26E46AB0D493C9966AC730DAA0A2303@UM-MAIL4112.unimaas.nl>

1) There is no function that will do that automatically for you, but it's easy to do with text() and paste(). If you have fitted a random-effects model with rma(), then you can find the Q-statistic in res$QE, the I^2 statistic in res$I2, and probably whatever else you need, and then just paste() together what you want and add it to the plot via text().

2) If you want to add lots of columns, then indeed you will need a wide plot. You probably want to set up your plotting device to be quite wide. For example, with png(), make sure 'width' is large and you may need to decrease the 'pointsize' to still make it all fit.

Best,
Wolfgang
________________________________________
From: r-help-bounces at r-project.org [r-help-bounces at r-project.org] On Behalf Of Dietlinde Schmidt [schmidt.dietlinde at web.de]
Sent: Friday, May 02, 2014 4:09 PM
To: r-help at r-project.org
Subject: [R] matafor package: adding additional information under a forest plot

Dear R-Users,

i have to questions about plotting a forest plot with the metafor package:

1) Is there a (text()) function to add additional information (e.g.
heterogeneity statistics) under the forest plot?
2) I want to add various columns of additional information about each
study (e.g. quality, time point, measure....). I thought i could do that
with the ilab-argument, but i keep getting in the way with the line that
restricts the plot and although i tweaked everything around, I do not
succeed. Basecally, i want the format of the forest plot to be rather
wide than tall, because i have little studies but many columns with
additional study information. Does someone know how to solve that (over
xlim, ylim???)?

Thanks a lot for your help

Linde

From smartpink111 at yahoo.com  Sat May  3 12:43:58 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 3 May 2014 03:43:58 -0700 (PDT)
Subject: [R] Return "TRUE" only for first match of values between matrix
	and	vector.
In-Reply-To: <1399031476.55536.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <CAN9eD7nBHX0cWhovo6XCDg7G=yEnrxWeAWkthfHYJY3O6Bgmpg@mail.gmail.com>
	<1399031476.55536.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1399113838.89521.YahooMailNeo@web142604.mail.bf1.yahoo.com>

Hi,
This should be little more faster.


indx <- A==B
indx1 <- which(indx, arr.ind=TRUE)
indx[indx1[duplicated(indx1[,1]),]]<- FALSE
indx


##Speed comparison
##previous method
fun1 <- function(mat, vec) {
??? stopifnot(dim(mat)[1] == length(vec))
??? indx <- mat == vec
??? t(apply(indx, 1, function(x) {
??????? x[duplicated(x) & !is.na(x)] <- FALSE
??????? x
??? }))
}

##modified 
fun2 <- function(mat, vec) {
??? stopifnot(dim(mat)[1] == length(vec))
??? indx <- mat == vec
??? indx1 <- which(indx, arr.ind = TRUE)
??? indx[indx1[duplicated(indx1[, 1]), ]] <- FALSE
??? indx
}
identical(fun1(A,B), fun2(A,B))
#[1] TRUE
set.seed(498)
A1 <- matrix(sample(40,1e5*500,replace=TRUE), ncol=500)
set.seed(345)
?B1 <- sample(70, 1e5, replace=TRUE)

system.time(res1 <- fun1(A1,B1))
?# user? system elapsed 
?# 7.840?? 0.344?? 8.195 

system.time(res2 <- fun2(A1,B1))
#? user? system elapsed 
#? 0.304?? 0.080?? 0.382 
identical(res1,res2)
#[1] TRUE
which(rowSums(res1,na.rm=TRUE)>1)
#integer(0)

A.K.


On Friday, May 2, 2014 7:51 AM, arun <smartpink111 at yahoo.com> wrote:
Hi,
Try:
indx <- A==B
t(apply(indx,1,function(x) {x[duplicated(x) & !is.na(x)] <- FALSE; x}))
#????? [,1]? [,2]? [,3]
#[1,]? TRUE FALSE FALSE
#[2,] FALSE??? NA FALSE
#[3,]??? NA??? NA??? NA
#[4,]? TRUE??? NA FALSE
#[5,] FALSE? TRUE FALSE

A.K.





On Friday, May 2, 2014 4:47 AM, nevil amos <nevil.amos at gmail.com> wrote:
I wish to return " True" in a matrix for only the first match of a value
per row where the value equals that in a vector with the same number of
values as rosw in the matrix

eg:
A<-matrix(c(2,3,2,1,1,2,NA,NA,NA,5,1,0,5,5,5),5,3)
B<-c(2,1,NA,1,5)
desired result:

? ? ? [,1] [,2]? [,3]
[1,]? TRUE FALSE FALSE
[2,] FALSE?? NA FALSE
[3,]? ? NA?? NA? ? NA
[4,]? TRUE?? NA FALSE
[5,] FALSE TRUE? FALSE

however A==B returns:
? ? ? [,1] [,2]? [,3]
[1,]? TRUE TRUE FALSE
[2,] FALSE?? NA FALSE
[3,]? ? NA?? NA? ? NA
[4,]? TRUE?? NA FALSE
[5,] FALSE TRUE? TRUE
and
apply(A,1,function(x) match (B,x))
returns
? ?? [,1] [,2] [,3] [,4] [,5]
[1,]? ? 1?? NA? ? 1?? NA?? NA
[2,]? ? 3?? NA?? NA? ? 1? ? 1
[3,]?? NA? ? 2? ? 2? ? 2?? NA
[4,]? ? 3?? NA?? NA? ? 1? ? 1
[5,]?? NA?? NA? ? 3? ? 3? ? 2

thanks

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From el at lisse.NA  Sat May  3 14:05:19 2014
From: el at lisse.NA (Dr Eberhard W Lisse)
Date: Sat, 3 May 2014 14:05:19 +0200
Subject: [R] SQL vs R
In-Reply-To: <CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
Message-ID: <5364DB7F.10801@lisse.NA>

Thank you very much, Mr Arkell.

el

On 2014-05-03, 07:11 , Bert Gunter wrote:
> By making the effort to learn R?
> 
> See e.g. the "Introduction to R" tutorial that ships with R.
> 
> -- Bert
> 
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
> 
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
> 
> 
> 
> 
> On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
>> Hi,
>>
>> How do I do something like this without using sqldf?
>>
>> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>>
>> or
>>
>> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>>
>> greetings, el
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From akram.yazdani at gmail.com  Sat May  3 09:07:39 2014
From: akram.yazdani at gmail.com (akram yazdani)
Date: Sat, 3 May 2014 00:07:39 -0700
Subject: [R] help me
Message-ID: <CAEw+otv0_sgZpjdeV69Y_x9zE=eDXN2Ddt3YOWrkGUx-aPxBpg@mail.gmail.com>

hi
please help me for below warning . may model is in frailtypack with
frailtypenal

mod.sha.gap <- frailtyPenal(Surv(s,time,event) ~
cluster(id)+sex1+age2+bmi1+whr1+tg1+hdl1+chol1+por+pr2+car1+fib2+fat2+terminal(d),formula.terminalEvent
= ~sex1+age2+bmi1+whr1+tg1+hdl1+chol1+por+pr2+car1+fib2+fat2,Frailty =
TRUE, joint=TRUE,n.knots =4, kappa1 = 100000000,kappa2=100000000,data
= data,recurrentAG = TRUE)

 I test many number for kappa1 and kappa2 and n.knote but have warning below

Be patient. The program is computing ...
The program took 0.52 seconds
Warning message:
In frailtyPenal(Surv(s, time, event) ~ cluster(id) + sex1 + age2 +  :
  Problem in the loglikelihood computation. The program stopped
abnormally. Please verify your dataset.

please help me how can get a output?


From d.enkhbayar at lse.ac.uk  Sat May  3 14:02:50 2014
From: d.enkhbayar at lse.ac.uk (Delger Enkhbayar)
Date: Sat, 3 May 2014 13:02:50 +0100
Subject: [R] auglag store parameters
Message-ID: <CAG2HkXOEuO_NGnnBMs33tss9dx2JzAFpcNAh=dAjVs-Eqsiavg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/fdb77482/attachment.pl>

From delger0107 at gmail.com  Sat May  3 14:07:13 2014
From: delger0107 at gmail.com (Delger Enkhbayar)
Date: Sat, 3 May 2014 13:07:13 +0100
Subject: [R] auglag store parameters
Message-ID: <CAG2HkXOmt5zG=sTnbJYs_x80iVx07qOXBX9e17tLmtk+toGd_w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/970cf1a8/attachment.pl>

From liusiqi.nine at gmail.com  Sat May  3 14:36:23 2014
From: liusiqi.nine at gmail.com (Si Qi L.)
Date: Sat, 3 May 2014 13:36:23 +0100
Subject: [R] Logistic regression help!
Message-ID: <CABmq+QXnXXBqjn1c-jeLcK41TYyrUnd4qwOKuiYJP69mCpak0g@mail.gmail.com>

Hi guys, I have a trouble to solve the specificity and senstitivity
for a logistic regression model. I really need your help, would you
please help me out? :) Thank you!!

This is the model I constructed:

>model=glm(Status ~ Gender.compl+ X2.4.times.per.month+ Once.a.month+Others+Council.tenant+Living.with.friends.family+Living.with.parents+Owner.occupier+Private.tenant+X1.year.to.2.years+X2.to.4.years+X3.months.to.a.year+Less.than.3.months+Over.4.years+Emp.compl+Reqloanamount+EmpNetMonthlyPay+Customer_Age+RTI+acc.compl+iic.compl+irb.compl+jbc.compl+jic.compl+jq.compl+kic.compl+lbc.compl+mbc.compl+njc.compl+or.compl+pq.compl+pr.compl+qic.compl+teb.compl+tpb.compl+vbc.compl+yzb.compl+zr.compl, data=learning.set1, family=binomial)

so how to compute the sensititvity and specitivity? Many thanks!

Siqi


From thanoon.younis80 at gmail.com  Sat May  3 17:49:44 2014
From: thanoon.younis80 at gmail.com (thanoon younis)
Date: Sat, 3 May 2014 18:49:44 +0300
Subject: [R] error in r
Message-ID: <CABLo8nE3efhM_MQmP1YaKfJ44E+mSqdjCgwK2OcW-PY3oToNZA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/7de298d1/attachment.pl>

From murdoch.duncan at gmail.com  Sat May  3 18:10:31 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 03 May 2014 12:10:31 -0400
Subject: [R] error in r
In-Reply-To: <CABLo8nE3efhM_MQmP1YaKfJ44E+mSqdjCgwK2OcW-PY3oToNZA@mail.gmail.com>
References: <CABLo8nE3efhM_MQmP1YaKfJ44E+mSqdjCgwK2OcW-PY3oToNZA@mail.gmail.com>
Message-ID: <536514F7.2010603@gmail.com>

On 03/05/2014, 11:49 AM, thanoon younis wrote:
> dear all members
> i have error in the code below "Error in Y[i, 9] = 0.9 * XI[i, 2] + eps[9]
> : subscript out of bounds" is there anyone helps me please.

You created Y with 8 columns, then you refer to column 9.

Duncan Murdoch

>
> many thanks in advance
> thanoon
>
>
> llibrary(mvtnorm)   #Load mvtnorm package
> library(R2WinBUGS) #Load R2WinBUGS package
>
> N=500                         #Sample size
> BZ=numeric(N)                 #Fixed covariate in structural equation
> XI=matrix(NA, nrow=N, ncol=2) #Explanatory latent variables
> Eta=numeric(N)                #Outcome latent variables
> Y=matrix(NA, nrow=N, ncol=8)  #Observed variables
>
> #The covariance matrix of xi
> phi=matrix(c(1, 0.3, 0.3, 1), nrow=2)
>
> #Estimates and standard error estimates
> Eu=matrix(NA, nrow=100, ncol=10);    SEu=matrix(NA, nrow=100, ncol=10)
> Elam=matrix(NA, nrow=100, ncol=7);   SElam=matrix(NA, nrow=100, ncol=7)
> Eb=numeric(100);                     SEb=numeric(100)
> Egam=matrix(NA, nrow=100, ncol=5);   SEgam=matrix(NA, nrow=100, ncol=5)
> Esgm=matrix(NA, nrow=100, ncol=10);  SEsgm=matrix(NA, nrow=100, ncol=10)
> Esgd=numeric(100);                   SEsgd=numeric(100)
> Ephx=matrix(NA, nrow=100, ncol=3);   SEphx=matrix(NA, nrow=100, ncol=3)
>
> R=matrix(c(1.0, 0.3, 0.3, 1.0), nrow=2)
>
> parameters=c("u", "lam", "b", "gam", "sgm", "sgd", "phx")
>
> init1=list(u=rep(0,10), lam=rep(0,7), b=0, gam=rep(0,5), psi=rep(1,10),
>             psd=1, phi=matrix(c(1, 0, 0, 1), nrow=2))
>
> init2=list(u=rep(1,10), lam=rep(1,7), b=1, gam=rep(1,5), psi=rep(2,10),
>             psd=2, phi=matrix(c(2, 0, 0, 2), nrow=2))
>
> inits=list(init1, init2)
>
> eps=numeric(10)
>
> for (t in 1:100) {
>      #Generate Data
>      for (i in 1:N) {
>          BZ[i]=rt(1, 5)
>
>          XI[i,]=rmvnorm(1, c(0,0), phi)
>
>          delta=rnorm(1, 0, sqrt(0.36))
>          Eta[i]=0.5*BZ[i]+0.4*XI[i,1]+0.4*XI[i,2]+0.3*XI[i,1]*XI[i,2]
>                 +0.2*XI[i,1]*XI[i,1]+0.5*XI[i,2]*XI[i,2]+delta
>
>          eps[1:3]=rnorm(3, 0, sqrt(0.3))
>          eps[4:7]=rnorm(4, 0, sqrt(0.5))
>          eps[8:10]=rnorm(3, 0, sqrt(0.4))
>          Y[i,1]=Eta[i]+eps[1]
>          Y[i,2]=0.9*Eta[i]+eps[2]
>          Y[i,3]=0.7*Eta[i]+eps[3]
>          Y[i,4]=XI[i,1]+eps[4]
>          Y[i,5]=0.9*XI[i,1]+eps[5]
>          Y[i,6]=0.7*XI[i,1]+eps[6]
>          Y[i,7]=0.5*XI[i,1]+eps[7]
>          Y[i,8]=XI[i,2]+eps[8]
>          Y[i,9]=0.9*XI[i,2]+eps[9]
>          Y[i,10]=0.7*XI[i,2]+eps[10]
>      }
>
>      #Run WinBUGS
>      data=list(N=500, zero=c(0,0), z=BZ, R=R, y=Y)
>
>      model<-bugs(data,inits,parameters,
>                  model.file="C:/Simulation/model.txt",
>                  n.chains=2,n.iter=10000,n.burnin=4000,n.thin=1,
>                  bugs.directory="c:/Program Files/WinBUGS14/",
>                  working.directory="C:/Simulation/")
>
>      #Save Estimates
>      Eu[t,]=model$mean$u;               SEu[t,]=model$sd$u
>      Elam[t,]=model$mean$lam;           SElam[t,]=model$sd$lam
>      Eb[t]=model$mean$b;                SEb[t]=model$sd$b
>      Egam[t,]=model$mean$gam;           SEgam[t,]=model$sd$gam
>      Esgm[t,]=model$mean$sgm;           SEsgm[t,]=model$sd$sgm
>      Esgd[t]=model$mean$sgd;            SEsgd[t]=model$sd$sgd
>      Ephx[t,1]=model$mean$phx[1,1];     SEphx[t,1]=model$sd$phx[1,1]
>      Ephx[t,2]=model$mean$phx[1,2];     SEphx[t,2]=model$sd$phx[1,2]
>      Ephx[t,3]=model$mean$phx[2,2];     SEphx[t,3]=model$sd$phx[2,2]
> }
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From axel.urbiz at gmail.com  Sat May  3 20:17:17 2014
From: axel.urbiz at gmail.com (Axel Urbiz)
Date: Sat, 3 May 2014 14:17:17 -0400
Subject: [R] knitr - Highlight code/output
Message-ID: <CAAyVsXLxt7Aqo6aNxGUaYST289HQWZAQAs2s2r+cc0m6r5ML=A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140503/a3a5b5c8/attachment.pl>

From dwinsemius at comcast.net  Sat May  3 20:53:07 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 3 May 2014 11:53:07 -0700
Subject: [R] auglag store parameters
In-Reply-To: <CAG2HkXOmt5zG=sTnbJYs_x80iVx07qOXBX9e17tLmtk+toGd_w@mail.gmail.com>
References: <CAG2HkXOmt5zG=sTnbJYs_x80iVx07qOXBX9e17tLmtk+toGd_w@mail.gmail.com>
Message-ID: <5B61A661-177D-4D21-BF8B-5BCCE06D6B26@comcast.net>


On May 3, 2014, at 5:07 AM, Delger Enkhbayar wrote:

> Hi,
> 
> I am minimizing a non-linear function subject to linear and nonlinear
> equalities and inequalities. I managed to understand how to use auglag for
> this case. Now, I'm using loops to get solutions for different assumptions,
> however, I'm facing a difficulty in storing just $par part of the answer to
> a vector form. Could someone point me to how to do this in auglag?

Let's imagine you are in London and ask the world's R audience how to get to a particular pub. But you don't tell them where you are and most of them are not Londoners so they don't know what the closest Tube stop might be, even if they looked up the pub's name on Google. There are probably many besides me out here that have no idea what 'auglag' or what package it might reside in,  but do know enough R to possibly help if only there were an example offered.

> 
> Thank you for all your great work!

Part of that "great work" is the Posting Guide.

> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From wdunlap at tibco.com  Sat May  3 21:26:41 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Sat, 3 May 2014 12:26:41 -0700
Subject: [R] Seeking well-commented versions of mgcv source code
In-Reply-To: <5364513F.5010902@gmail.com>
References: <5364513F.5010902@gmail.com>
Message-ID: <CAF8bMcZzHKWZpL5mqhWjvg2=6Ha=NcBcofB52zYi5O1irwGKZA@mail.gmail.com>

You can download the source code for the package with
   download.packages("mgcv", type="source", destdir="/tmp")

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, May 2, 2014 at 7:15 PM, Andrew Crane-Droesch <andrewcd at gmail.com> wrote:
> Dear List,
>
> I'm looking for well-commented versions of various functions comprising
> mgcv, so that I can modify a piece of it for a project I'm working on.
> In particular I'm looking for
>
>   * testStat
>   * summary.gam
>   * liu2
>   * simf
>
> Obviously I can find these by typing mgcv:::whatever.  But there are a
> lot of nested if statements, making it difficult to follow. Comments in
> the code describing exactly what is happening at each step would make my
> life a lot easier.
>
> Where can I find more-detailed versions of the code?
>
> Thanks,
> Andrew
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From wshadish at ucmerced.edu  Sat May  3 21:51:33 2014
From: wshadish at ucmerced.edu (William Shadish)
Date: Sat, 3 May 2014 12:51:33 -0700
Subject: [R] mgcv gam bs=re questions
Message-ID: <536548C5.3080806@ucmerced.edu>

Dear R-helpers,

I am working on a project assessing the prevalence and variance (random 
effects) of linear and nonlinear trends in a data set that has short 
time series (each time series identified as PID 1 through 5). I am using 
mgcv (gam) with the bs=?re? option (more on why not gamm or gamm4 at the 
end). I want to know whether trend is linear or nonlinear in each time 
series, and whether trend varies significantly over time series (e.g., 
PID 1 through 5 below)--e.g., whether they have significantly different 
edfs. The analysis predicts a count outcome (DVY) from time (SessIDX) 
and treatment (TX), using a quasipoisson approach to correct standard 
errors for overdispersion. The dataset in the examples below (SID5DVID1) 
has 5 time series (PID 1 through 5) with 93, 97, 70, 86, and 103 time 
points each, respectively. E.g.,

JID SID PID DVID SessIDX DVY TX
1     1   5   1    1       1  23  0
2     1   5   1    1       2  20  0
3     1   5   1    1       3  30  0
4     1   5   1    1       4  40  0

?

434   1   5   5    1     100   5  1
435   1   5   5    1     101   3  1
436   1   5   5    1     102  12  1
437   1   5   5    1     103   7  1
 >

My question concerns how to interpret the random effects that result 
from variations in the model. A model with smoothed trend and no random 
effect yields

M1 <- gam(DVY  ~ s(SessIDX) + factor(TX),
+            data = SID5DVID1,
+            family = quasipoisson(link="log"), method="REML")

Approximate significance of smooth terms:
              edf Ref.df     F  p-value
s(SessIDX) 1.876  2.403 11.52 4.34e-06 ***

So trend over all five time series is linear and significant. If I allow 
trend to interact with PID (be different for each time series), without 
a random effect, I get

M1a <- gam(DVY  ~ s(SessIDX, by = factor(PID)) + factor(TX),
            data = SID5DVID1,
            family = quasipoisson(link="log"), method="REML")
summary(M1a,all.p=TRUE)

Approximate significance of smooth terms:
                           edf Ref.df      F  p-value
s(SessIDX):factor(PID)1 1.001  1.001 31.827 2.98e-08 ***
s(SessIDX):factor(PID)2 1.000  1.000  2.658 0.103724
s(SessIDX):factor(PID)3 5.100  5.886  8.674 9.42e-09 ***
s(SessIDX):factor(PID)4 1.337  1.602  9.822 0.000366 ***
s(SessIDX):factor(PID)5 3.998  4.924  7.967 4.40e-07 ***

It appears trend may be quite different for each time series. So now I 
want to test whether trend varies significantly over time series using 
bs=?re?. One model is

M2 <- gam(DVY  ~ s(SessIDX, bs = "re") + factor(TX),
            data = SID5DVID1,
            family = quasipoisson(link="log"), method="REML")
summary(M2,all.p=TRUE)
gam.vcomp(M2)

Approximate significance of smooth terms:
               edf Ref.df     F  p-value
s(SessIDX) 0.9609      1 24.48 6.53e-07 ***
?
Standard deviations and 0.95 confidence intervals:
               std.dev      lower      upper
s(SessIDX) 0.01470809 0.00347556 0.06224258
scale      3.20933040 3.00277692 3.43009218

Rank: 2/2
 >

So the random effect std.dev is 0.01470809, and it is significant with 
p-value = 6.53e-07. I had originally thought that this meant that trend 
varied significantly over the five time series. However, after having 
read a recent article (Gary J. McKeown and Ian Sneddon, DOI: 
10.1037/a0034282), I am not sure I am correctly interpreting this. In 
their article, this approach (a) changes the shape of the nonlinear 
trend only slightly compared to not using random effects [i.e., just 
using s(SessIDX)] but still produces only one trend line for all time 
series, and (b) increases the width of the confidence bands around the 
trend line (which of course makes perfect sense). In other words, it 
does not obviously allow each time series (PID) to have a quite 
different edf or trend line. So, parallel with M1a above, I can run:

M5a <- gam(DVY  ~ s(SessIDX, by = factor(PID), bs="re") + factor(TX),
            data = SID5DVID1,
            family = quasipoisson(link="log"), method="REML")
summary(M5a,all.p=TRUE)
gam.vcomp(M5a)

Approximate significance of smooth terms:
                            edf Ref.df      F  p-value
s(SessIDX):factor(PID)1 0.9239      1  38.76 0.000368 ***
s(SessIDX):factor(PID)2 0.9892      1 107.00  < 2e-16 ***
s(SessIDX):factor(PID)3 0.9867      1  94.85  < 2e-16 ***
s(SessIDX):factor(PID)4 0.9830      1 108.33 1.64e-13 ***
s(SessIDX):factor(PID)5 0.9658      1  73.41 1.32e-07 ***

Standard deviations and 0.95 confidence intervals:

                             std.dev       lower      upper
s(SessIDX):factor(PID)1 0.008853821 0.001960054 0.03999387
s(SessIDX):factor(PID)2 0.065276527 0.016064261 0.26524874
s(SessIDX):factor(PID)3 0.048967099 0.012003711 0.19975296
s(SessIDX):factor(PID)4 0.027830597 0.006777380 0.11428341
s(SessIDX):factor(PID)5 0.012218325 0.002893741 0.05158977
scale                   2.559988984 2.394424050 2.73700208

This seems to produce five random effects, all apparently significant. 
But it is not clear to me how to interpret these random effects. For 
example, consider s(SessIDX):factor(PID)1 0.008853821 above. Clearly 
this is not what I want?it is not a measure of whether the five cases 
differ significantly from each other in trend. I am guessing this random 
effect concerns whether time points within PID1 differ significantly 
from each other?

One might, of course, use gamm or gamm4 to address the random effects 
question. I had hoped, however, to run all analyses within the same 
program (gam) to avoid confounding differences in results with 
differences in the estimation routines that different programs use.

Running it all in gam, however, encounters another problem, that it does 
not appear that gam can use bs=?re? while fixing the trend to be linear. 
For example:

 > M4 <- gam(DVY  ~ s(SessIDX, bs = "re", k = 2, fx=TRUE) +
+                factor(TX),
+            data = SID5DVID1,
+            family = quasipoisson(link="log"), method="REML")
 > summary(M4,all.p=TRUE)
Error in b$smooth[[m]]$S[[1]] : subscript out of bounds
 > gam.vcomp(M4)
Error in if (x$smooth[[i]]$sp[j] < 0) { : argument is of length zero
 >

I have read extensively to try to understand all this (e.g., Wood 2013 
?A simple test for random effects in regression models?) but have not 
succeeded. Any help or advice would be appreciated very very much.

Will Shadish

-- 
William R. Shadish
Distinguished Professor
Founding Faculty

Mailing Address:
William R. Shadish
University of California
School of Social Sciences, Humanities and Arts
5200 North Lake Rd
Merced CA  95343

Physical/Delivery Address:
University of California Merced
ATTN: William Shadish
School of Social Sciences, Humanities and Arts
Facilities Services Building A
5200 North Lake Rd.
Merced, CA 95343

209-228-4372 voice
209-228-4007 fax (communal fax: be sure to include cover sheet)
wshadish at ucmerced.edu
http://faculty.ucmerced.edu/wshadish/index.htm
http://psychology.ucmerced.edu


From el at lisse.NA  Sat May  3 21:53:10 2014
From: el at lisse.NA (Dr Eberhard W Lisse)
Date: Sat, 3 May 2014 21:53:10 +0200
Subject: [R] SQL vs R
In-Reply-To: <CAOKbq8hdjK_FjtPtzLiDqFEqBf2NsCLAKBLMmu4NLk-qwHd+4g@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<CAOKbq8hdjK_FjtPtzLiDqFEqBf2NsCLAKBLMmu4NLk-qwHd+4g@mail.gmail.com>
Message-ID: <53654926.1090003@lisse.NA>

Thanks,

will try to figure this out :-)-O

el

On 2014-05-03, 06:40 , Carlos Ortega wrote:
> Hi,
> 
> With the new package "dplyr" you can create equivalent SQL sintaxt
> queries like the one you need.
> You can find examples of how to apply it here:
> 
> http://martinsbioblogg.wordpress.com/2014/03/26/using-r-quickly-calculating-summary-statistics-with-dplyr/
> 
> http://martinsbioblogg.wordpress.com/2014/03/27/more-fun-with-and/
> 
> Regards,
> Carlos.
> 
> 
> 
> 
> 2014-05-02 23:23 GMT+02:00 Dr Eberhard Lisse <nospam at lisse.na
> <mailto:nospam at lisse.na>>:
> 
>     Hi,
> 
>     How do I do something like this without using sqldf?
> 
>     a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
> 
>     or
> 
>     e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
> 
>     greetings, el
> 
>     ______________________________________________
>     R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> 
> -- 
> Saludos,
> Carlos Ortega
> www.qualityexcellence.es <http://www.qualityexcellence.es>


From andrewcd at gmail.com  Sat May  3 22:17:10 2014
From: andrewcd at gmail.com (Andrew Crane-Droesch)
Date: Sat, 03 May 2014 13:17:10 -0700
Subject: [R] Seeking well-commented versions of mgcv source code
In-Reply-To: <CAF8bMcZzHKWZpL5mqhWjvg2=6Ha=NcBcofB52zYi5O1irwGKZA@mail.gmail.com>
References: <5364513F.5010902@gmail.com>
	<CAF8bMcZzHKWZpL5mqhWjvg2=6Ha=NcBcofB52zYi5O1irwGKZA@mail.gmail.com>
Message-ID: <53654EC6.1050901@gmail.com>

It turns out that commented versions of the source code are available on 
GitHub:

https://github.com/cran/mgcv/blob/master/R/mgcv.r


From r.turner at auckland.ac.nz  Sat May  3 23:42:33 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Sun, 4 May 2014 09:42:33 +1200
Subject: [R] SQL vs R
In-Reply-To: <5364DB7F.10801@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<5364DB7F.10801@lisse.NA>
Message-ID: <536562C9.7070807@auckland.ac.nz>


On 04/05/14 00:05, Dr Eberhard W Lisse wrote:

> Thank you very much, Mr Arkell.

I don't get it.  Can anyone explain the (joke? allusion?) ?

cheers,

Rolf Turner

> On 2014-05-03, 07:11 , Bert Gunter wrote:
>> By making the effort to learn R?
>>
>> See e.g. the "Introduction to R" tutorial that ships with R.
>>
>> -- Bert
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
>>> Hi,
>>>
>>> How do I do something like this without using sqldf?
>>>
>>> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>>>
>>> or
>>>
>>> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")


From sarah.goslee at gmail.com  Sat May  3 23:58:20 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Sat, 3 May 2014 17:58:20 -0400
Subject: [R] SQL vs R
In-Reply-To: <536562C9.7070807@auckland.ac.nz>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<5364DB7F.10801@lisse.NA> <536562C9.7070807@auckland.ac.nz>
Message-ID: <CAM_vjuk=SG0X5L9rVgbsX4o1ZFLOHsqDk_vMXaWmO_2-rwpBjQ@mail.gmail.com>

On Sat, May 3, 2014 at 5:42 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>
> On 04/05/14 00:05, Dr Eberhard W Lisse wrote:
>
>> Thank you very much, Mr Arkell.
>
>
> I don't get it.  Can anyone explain the (joke? allusion?) ?

I believe it's a moderately offensive reply from someone who feels
unfairly dismissed, derived from British pop culture. But someone
who's actually British could better explain, I'm sure.

Personally, I'm not sure how much work someone who appears to have not
read the posting guide should really expect the list to do on his
behalf. But snarky replies to reasonable requests to read the
documentation are easier than doing one's own work.

Sarah

> cheers,
>
> Rolf Turner
>
>> On 2014-05-03, 07:11 , Bert Gunter wrote:
>>>
>>> By making the effort to learn R?
>>>
>>> See e.g. the "Introduction to R" tutorial that ships with R.
>>>
>>> -- Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na>
>>> wrote:
>>>>
>>>> Hi,
>>>>
>>>> How do I do something like this without using sqldf?
>>>>
>>>> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>>>>
>>>> or
>>>>
>>>> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee
http://www.functionaldiversity.org


From el at lisse.NA  Sun May  4 00:16:45 2014
From: el at lisse.NA (Dr Eberhard W Lisse)
Date: Sun, 4 May 2014 00:16:45 +0200
Subject: [R] SQL vs R
In-Reply-To: <536562C9.7070807@auckland.ac.nz>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<5364DB7F.10801@lisse.NA> <536562C9.7070807@auckland.ac.nz>
Message-ID: <53656ACD.5010207@lisse.NA>

Google Pressdram :-)-O

el

On 2014-05-03, 23:42 , Rolf Turner wrote:>
> On 04/05/14 00:05, Dr Eberhard W Lisse wrote:
>
>> Thank you very much, Mr Arkell.
>
> I don't get it.  Can anyone explain the (joke? allusion?) ?
>
> cheers,
>
> Rolf Turner
>


From maechler at stat.math.ethz.ch  Sun May  4 00:28:16 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sun, 4 May 2014 00:28:16 +0200
Subject: [R] Question on Cluster Package, agnes() function
In-Reply-To: <21347.27878.565974.11094@stat.math.ethz.ch>
References: <EF2EC04502DD674CBFB1A57FAE2390BB48DB1175@vmwisvmbx1.NATJ.ORG>
	<21347.27878.565974.11094@stat.math.ethz.ch>
Message-ID: <21349.28032.223730.768487@stat.math.ethz.ch>


>>>>> Anna F...
>>>>>     on Thu, 1 May 2014 22:09:28 +0000 writes:

    > Hi Martin,
    > I am a statistician at National Jewish Health in Colorado, and I have been working on clustering a dataset using Ward's minimum variance. When plotting the dendrogram, the y-axis is labeled as 'height'. Can you explain to me (or point me in the right direction) on how this distance between merging clusters is calculated for the Ward method? I have found the calculation that SAS uses, and I want to check if it is the same in your method.

    > Here is a summary of the code I am using:
    > Agnes(x,method="ward",diss=TRUE)

Well, as R is case sensitive, it must be

     agnes(x,method="ward",diss=TRUE)


Interestingly, the new version of R, R 3.1.0  has now two
different versions of Ward in  hclust() :

 --> http://stat.ethz.ch/R-manual/R-patched/library/stats/html/hclust.html

where it is stated that previously it was basically not using
Ward's method unless the user was calling it in a specific way,
but  agnes() was and is.

*The* reference for all basic routines in the 'cluster'  package is

     Kaufman, L. and Rousseeuw, P.J. (1990).  _Finding
     Groups in Data: An Introduction to Cluster Analysis_.  
     Wiley, New York.

Alternatively, the source code of R and all packages is open,
and for the cluster package, you can either get it from
cluster_*.tar.gz from CRAN, or also you can see the (subversion)
development version at http://svn.r-project.org/

Specifically, the C code which computes agnes()  is

  https://svn.r-project.org/R-packages/trunk/cluster/src/twins.c

and there,

         case 4: /*     4: ward's method */
		ta = (double) kwan[la];
		tb = (double) kwan[lb];
		tq = (double) kwan[lq];
		fa = (ta + tq) / (ta + tb + tq);
		fb = (tb + tq) / (ta + tb + tq);
		fc = -tq / (ta + tb + tq);
		int nab = ind_2(la, lb);
		dys[naq] = sqrt(fa * dys[naq] * dys[naq] +
				fb * dys[nbq] * dys[nbq] +
				fc * dys[nab] * dys[nab]);
		break;

contains the distance calculation for ward.

...
[ in private communication with Anna, she agreed that I reply
  publicly to R-help such that others can chime in and all will be
  searchable for people with a similar question. MM ]

Best regards,
Martin Maechler


From r.turner at auckland.ac.nz  Sun May  4 02:22:06 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Sun, 4 May 2014 12:22:06 +1200
Subject: [R] SQL vs R
In-Reply-To: <53656ACD.5010207@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<5364DB7F.10801@lisse.NA> <536562C9.7070807@auckland.ac.nz>
	<53656ACD.5010207@lisse.NA>
Message-ID: <5365882E.501@auckland.ac.nz>

On 04/05/14 10:16, Dr Eberhard W Lisse wrote:
> Google Pressdram :-)-O
>
> el
>
> On 2014-05-03, 23:42 , Rolf Turner wrote:>
>> On 04/05/14 00:05, Dr Eberhard W Lisse wrote:
>>
>>> Thank you very much, Mr Arkell.
>>
>> I don't get it.  Can anyone explain the (joke? allusion?) ?

Thank you.

cheers,

Rolf Turner


From r.turner at auckland.ac.nz  Sun May  4 02:23:15 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Sun, 4 May 2014 12:23:15 +1200
Subject: [R] SQL vs R
In-Reply-To: <CAM_vjuk=SG0X5L9rVgbsX4o1ZFLOHsqDk_vMXaWmO_2-rwpBjQ@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<5364DB7F.10801@lisse.NA> <536562C9.7070807@auckland.ac.nz>
	<CAM_vjuk=SG0X5L9rVgbsX4o1ZFLOHsqDk_vMXaWmO_2-rwpBjQ@mail.gmail.com>
Message-ID: <53658873.7050602@auckland.ac.nz>

On 04/05/14 09:58, Sarah Goslee wrote:

<SNIP>

> Personally, I'm not sure how much work someone who appears to have not
> read the posting guide should really expect the list to do on his
> behalf. But snarky replies to reasonable requests to read the
> documentation are easier than doing one's own work.

Well put.

cheers,

Rolf Turner


From quijote at gmx.net  Sun May  4 01:23:51 2014
From: quijote at gmx.net (phil)
Date: Sat, 3 May 2014 16:23:51 -0700 (PDT)
Subject: [R] panel data: variable selection AND multicollinearity
Message-ID: <1399159431918-4689935.post@n4.nabble.com>

Dear all,

I am running a regression on panel data (127 observations). The Hausman Test
indicats that the random-effects model is superior to the fixed-effects
model.

However, for a linear regression "lm()" there is a simple command in R to
carry out a variable selection procedure: "step()". Is there something
similar for a regression on panel data "plm()"? Respectively, what is the
command used for variable selection in case of plm? Is there any?

Further, for linear regression "lm()" you can check easily for
multicollinearity applying "vif()" of the car-package. What is the
respective command for regression on panel data?


Help is really appreciated. Looking forward to your answers.

Thank you very much in advance.

Regards,

Phil



--
View this message in context: http://r.789695.n4.nabble.com/panel-data-variable-selection-AND-multicollinearity-tp4689935.html
Sent from the R help mailing list archive at Nabble.com.


From satish.anupindi.rao at ericsson.com  Sun May  4 06:10:07 2014
From: satish.anupindi.rao at ericsson.com (Satish Anupindi Rao)
Date: Sun, 4 May 2014 04:10:07 +0000
Subject: [R] SQL vs R
In-Reply-To: <CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
Message-ID: <16B4E6021651E2429120372B4205FFDBC615AF@eusaamb103.ericsson.se>


" By making the effort to learn R?"? very constructive and not condescending at all. We, lesser beings, are indebted to you, sir.

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Bert Gunter
Sent: Saturday, May 03, 2014 1:12 AM
To: Dr Eberhard Lisse
Cc: r
Subject: Re: [R] SQL vs R

By making the effort to learn R?

See e.g. the "Introduction to R" tutorial that ships with R.

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge is certainly not wisdom."
H. Gilbert Welch




On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
> Hi,
>
> How do I do something like this without using sqldf?
>
> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>
> or
>
> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>
> greetings, el
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jdnewmil at dcn.davis.CA.us  Sun May  4 06:26:32 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sat, 3 May 2014 21:26:32 -0700
Subject: [R] SQL vs R
In-Reply-To: <53640CC1.50903@lisse.NA>
References: <53640CC1.50903@lisse.NA>
Message-ID: <1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>

?table
?aggregate

Also, packages plyr, data.table, and dplyr. You might consider reading [1], but if your interests are really as simple as your examples then the table function should be sufficient. That function is discussed in the Introduction to R document that you really should have read before posting here.

[1] http://www.jstatsoft.org/v40/i01/

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 2, 2014 2:23:13 PM PDT, Dr Eberhard Lisse <nospam at lisse.NA> wrote:
>Hi,
>
>How do I do something like this without using sqldf?
>
>a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>
>or
>
>e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>
>greetings, el
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From bhh at xs4all.nl  Sun May  4 07:17:17 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 4 May 2014 07:17:17 +0200
Subject: [R] legendre quadrature
In-Reply-To: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>
References: <DUB125-W56C5D3A75E2EFA96B8466FC6400@phx.gbl>
Message-ID: <91FCDE47-BF2D-42B0-B302-367E39A5F4B9@xs4all.nl>


On 01-05-2014, at 09:43, pari hesabi <statistics84 at hotmail.com> wrote:

> Hello everybody
> I need to approximate the amount of integral by using
> legendre quadrature. I have written a program which doesn't give me a 
> logical answer; Can anybody help me and send the correct program? For 
> example  the approximated amount of integral of ( x ^2)  on (-1,1) based
> on legendre quad rule. 
> 
> 
> 
> 
> integrand<-function(x) {x^2}
> rules <- legendre.quadrature.rules( 50 )
> order.rule <- rules[[50]]
> chebyshev.c.quadrature(integrand, order.rule, lower = -1, upper = 1) 


You must be using package gaussquad.

Why are you using Legendre rules but doing Chebyshev quadrature (which does not seem correct)?

Replace the last line of your given code with

legendre.quadrature(integrand, order.rule, lower = -1, upper = 1)

and the result will make more sense.

Berend


From dwinsemius at comcast.net  Sun May  4 07:56:01 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 3 May 2014 22:56:01 -0700
Subject: [R] SQL vs R
In-Reply-To: <16B4E6021651E2429120372B4205FFDBC615AF@eusaamb103.ericsson.se>
References: <53640CC1.50903@lisse.NA>
	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>
	<16B4E6021651E2429120372B4205FFDBC615AF@eusaamb103.ericsson.se>
Message-ID: <CC4CF9FB-2D58-4A88-9839-B926739E9DD5@comcast.net>


On May 3, 2014, at 9:10 PM, Satish Anupindi Rao wrote:

> 
> " By making the effort to learn R?"? very constructive and not condescending at all. We, lesser beings, are indebted to you, sir.

For Pete's sake. The OP didn't even express his original request in natural language or offer a working example. Those of us who are not regular SQL users would have needed to parse out the SQL code in order to figure out what was intended. (My guess is that it would have been quite easy to solve if those were what were offered.)  But making the effort to divine the intent didn't seem justified by the level of courtesy offered by the questioner.

-- 
David.

> 
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Bert Gunter
> Sent: Saturday, May 03, 2014 1:12 AM
> To: Dr Eberhard Lisse
> Cc: r
> Subject: Re: [R] SQL vs R
> 
> By making the effort to learn R?
> 
> See e.g. the "Introduction to R" tutorial that ships with R.
> 
> -- Bert
> 
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
> 
> "Data is not information. Information is not knowledge. And knowledge is certainly not wisdom."
> H. Gilbert Welch
> 
> 
> 
> 
> On Fri, May 2, 2014 at 2:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
>> Hi,
>> 
>> How do I do something like this without using sqldf?
>> 
>> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>> 
>> or
>> 
>> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>> 
>> greetings, el
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From pburns at pburns.seanet.com  Sun May  4 10:06:56 2014
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Sun, 04 May 2014 09:06:56 +0100
Subject: [R] Construction of Optimal Designs in the Language R
In-Reply-To: <1399102051.89105.YahooMailNeo@web164703.mail.gq1.yahoo.com>
References: <1399102051.89105.YahooMailNeo@web164703.mail.gq1.yahoo.com>
Message-ID: <5365F520.5060509@pburns.seanet.com>

The Experimental Design task view seems
like a reasonable place to start:

http://cran.r-project.org/web/views/ExperimentalDesign.html

Pat

On 03/05/2014 08:27, kabir opeyemi wrote:
> Dear All,
> Please can someone help advise on procedures for construction of optimal designs and estimation of parameters in the language R? Guide on useful R libraries, codes and books would be appreciated.
>
> Kabir Olorede,
> Department of Statistics and Mathematical Sciences,
>
> Kwara State University,
> Malete,
> Nigeria.
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Patrick Burns
pburns at pburns.seanet.com
twitter: @burnsstat @portfolioprobe
http://www.portfolioprobe.com/blog
http://www.burns-stat.com
(home of:
  'Impatient R'
  'The R Inferno'
  'Tao Te Programming')


From diegotentor71 at gmail.com  Sun May  4 14:44:04 2014
From: diegotentor71 at gmail.com (ARTENTOR Diego Tentor)
Date: Sun, 4 May 2014 09:44:04 -0300
Subject: [R] Problem with products in R ?
Message-ID: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>

Trying algorithm for products with large numbers i encountered a difference
between result of 168988580159 * 36662978 in my algorithm and r product.
The Microsoft calculator confirm my number.

Thanks.




-- 


*        Gr?fica ARTENTOR          *

de Diego L. Tentor
Echag?e 558
Tel.:0343 4310119
Paran? - Entre R?os

From frtog at vestas.com  Sun May  4 16:04:36 2014
From: frtog at vestas.com (=?utf-8?B?RnJlZGUgQWFrbWFubiBUw7hnZXJzZW4=?=)
Date: Sun, 4 May 2014 16:04:36 +0200
Subject: [R] Problem with products in R ?
In-Reply-To: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
References: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C5FE1270@DKRDSEXC016.vestas.net>

Wow do you trust Windows calculator with those large numbers????

In fact do you at all trust Windows calculator???

Try to do this calculation

3 +8*5

in windows calculator.

In standard view you get

55

In scientific view you get

43.

Try it yourself!!!!!!

Do you know the right answer?????

This is on my Windows 8 OS, but you can track it many years back!!!!!!

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of ARTENTOR Diego Tentor
> Sent: 4. maj 2014 14:44
> To: r-help at r-project.org
> Subject: [R] Problem with products in R ?
> 
> Trying algorithm for products with large numbers i encountered a difference
> between result of 168988580159 * 36662978 in my algorithm and r product.
> The Microsoft calculator confirm my number.
> 
> Thanks.
> 
> 
> 
> 
> --
> 
> 
> *        Gr?fica ARTENTOR          *
> 
> de Diego L. Tentor
> Echag?e 558
> Tel.:0343 4310119
> Paran? - Entre R?os

From pdalgd at gmail.com  Sun May  4 16:10:29 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 4 May 2014 16:10:29 +0200
Subject: [R] Problem with products in R ?
In-Reply-To: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
References: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
Message-ID: <DB909F2B-534F-4E1F-817A-0499AE2ABB1A@gmail.com>


On 04 May 2014, at 14:44 , ARTENTOR Diego Tentor <diegotentor71 at gmail.com> wrote:

> Trying algorithm for products with large numbers i encountered a difference
> between result of 168988580159 * 36662978 in my algorithm and r product.
> The Microsoft calculator confirm my number.
> 

>  168988580159 * 36662978 
[1] 6.195625e+18

That value exceeds the relative precision of floating point numbers (approx 1e-16), so the last few digits are likely to differ from an exact calculation. The "gmp" package is there if you need it.


> Thanks.
> 
> 
> 
> 
> -- 
> 
> 
> *        Gr?fica ARTENTOR          *
> 
> de Diego L. Tentor
> Echag?e 558
> Tel.:0343 4310119
> Paran? - Entre R?os
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jorgeivanvelez at gmail.com  Sun May  4 16:13:27 2014
From: jorgeivanvelez at gmail.com (Jorge I Velez)
Date: Mon, 5 May 2014 00:13:27 +1000
Subject: [R] Problem with products in R ?
In-Reply-To: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
References: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
Message-ID: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/131f03a2/attachment.pl>

From shsentoff at comcast.net  Sun May  4 16:22:04 2014
From: shsentoff at comcast.net (Stephen Sentoff)
Date: Sun, 04 May 2014 09:22:04 -0500
Subject: [R] knitr - Highlight code/output
Message-ID: <53664D0C.8030201@comcast.net>

Adding a line like

options(width=60)

should make the R output narrower, so that it will fit into the highlighted
frame.  If you don't want to see this line, you can put it into a separate
chunk that isn't echoed.

-- 
Steve Sentoff
shsentoff at comcast.net


From pdalgd at gmail.com  Sun May  4 18:38:19 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 4 May 2014 18:38:19 +0200
Subject: [R] Problem with products in R ?
In-Reply-To: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
References: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
	<CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
Message-ID: <B79BDA41-E7DA-47E4-A28C-6A866492CD25@gmail.com>


On 04 May 2014, at 16:13 , Jorge I Velez <jorgeivanvelez at gmail.com> wrote:

> Try
> 
> options(digits = 22)
> 168988580159 * 36662978
> # [1] 6195624596620653568

But the last 5 digits are supposed to match those of 

>  80159 * 62978 
[1] 5048253502

so the result is off by 66. Further analysis will likely reveal rounding to the nearest multiple of 1024. As I said, this is hardly surprising. 

> 
> HTH,
> Jorge.-
> 
> 
> 
> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
> diegotentor71 at gmail.com> wrote:
> 
>> Trying algorithm for products with large numbers i encountered a difference
>> between result of 168988580159 * 36662978 in my algorithm and r product.
>> The Microsoft calculator confirm my number.
>> 
>> Thanks.
>> 
>> 
>> 
>> 
>> --
>> 
>> 
>> *        Gr?fica ARTENTOR          *
>> 
>> de Diego L. Tentor
>> Echag?e 558
>> Tel.:0343 4310119
>> Paran? - Entre R?os
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From Ted.Harding at wlandres.net  Sun May  4 18:50:59 2014
From: Ted.Harding at wlandres.net ( (Ted Harding))
Date: Sun, 04 May 2014 17:50:59 +0100 (BST)
Subject: [R] Problem with products in R ?
In-Reply-To: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
Message-ID: <XFMail.20140504175059.Ted.Harding@wlandres.net>

On 04-May-2014 14:13:27 Jorge I Velez wrote:
> Try
> 
> options(digits = 22)
> 168988580159 * 36662978
># [1] 6195624596620653568
> 
> HTH,
> Jorge.-

Err, not quite ... !
I hitch my horses to my plough (with help from R):

options(digits=22)
168988580159*8 = 1351908641272 (copy down)
168988580159*7 = 1182920061113  ( " " )
168988580159*9 = 1520897221431  ( " " )
168988580159*2 =  337977160318  ( " " )
168988580159*6 = 1013931480954  ( " " )^3
168988580159*3 =  506965740477  ( " " )

         1351908641272
        11829200611130
       152089722143100
       337977160318000
     10139314809540000
    101393148095400000
   1013931480954000000
   5069657404770000000
======================
   6195624596620653502
[after adding up mentally]

compared with Jorge's:
   6195624596620653568

("02" vs "68" in the final two digits).

Alternatively, if using a unixoid system with 'bc' present,
one can try interfacing R with 'bc'. 'bc' is an calculating
engine which works to arbitrary precision.

There certainly used to be a utility in which R can evoke 'bc',
into which one can enter a 'bc' command and get the result
returned as a string, but I can't seem to find it on CRAN now.
In any case, the raw UNIX command line for this calculation
with 'bc' (with result) is:

$ bc -l
[...]
168988580159 * 36662978
6195624596620653502
quit

which agrees with my horse-drawn working.

Best wishes to all,
Ted.

> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
> diegotentor71 at gmail.com> wrote:
> 
>> Trying algorithm for products with large numbers i encountered a difference
>> between result of 168988580159 * 36662978 in my algorithm and r product.
>> The Microsoft calculator confirm my number.
>>
>> Thanks.
>> --
>> *        Gr?fica ARTENTOR          *
>>
>> de Diego L. Tentor
>> Echag?e 558
>> Tel.:0343 4310119
>> Paran? - Entre R?os

-------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
Date: 04-May-2014  Time: 17:50:54
This message was sent by XFMail


From ggrothendieck at gmail.com  Sun May  4 19:10:00 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 4 May 2014 13:10:00 -0400
Subject: [R] Problem with products in R ?
In-Reply-To: <XFMail.20140504175059.Ted.Harding@wlandres.net>
References: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
	<XFMail.20140504175059.Ted.Harding@wlandres.net>
Message-ID: <CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>

Checking this with the bc R package (https://code.google.com/p/r-bc/),
the Ryacas package (CRAN), the gmp package (CRAN) and the Windows 8.1
calculator all four give the same result:

> library(bc)
> bc("168988580159 * 36662978")
[1] "6195624596620653502"

> library(Ryacas)
> yacas("168988580159 * 36662978", retclass = "character")
6195624596620653502

> library(gmp)
> as.bigz("168988580159") * as.bigz("36662978")
Big Integer ('bigz') :
[1] 6195624596620653502


On Sun, May 4, 2014 at 12:50 PM, Ted Harding <Ted.Harding at wlandres.net> wrote:
> On 04-May-2014 14:13:27 Jorge I Velez wrote:
>> Try
>>
>> options(digits = 22)
>> 168988580159 * 36662978
>># [1] 6195624596620653568
>>
>> HTH,
>> Jorge.-
>
> Err, not quite ... !
> I hitch my horses to my plough (with help from R):
>
> options(digits=22)
> 168988580159*8 = 1351908641272 (copy down)
> 168988580159*7 = 1182920061113  ( " " )
> 168988580159*9 = 1520897221431  ( " " )
> 168988580159*2 =  337977160318  ( " " )
> 168988580159*6 = 1013931480954  ( " " )^3
> 168988580159*3 =  506965740477  ( " " )
>
>          1351908641272
>         11829200611130
>        152089722143100
>        337977160318000
>      10139314809540000
>     101393148095400000
>    1013931480954000000
>    5069657404770000000
> ======================
>    6195624596620653502
> [after adding up mentally]
>
> compared with Jorge's:
>    6195624596620653568
>
> ("02" vs "68" in the final two digits).
>
> Alternatively, if using a unixoid system with 'bc' present,
> one can try interfacing R with 'bc'. 'bc' is an calculating
> engine which works to arbitrary precision.
>
> There certainly used to be a utility in which R can evoke 'bc',
> into which one can enter a 'bc' command and get the result
> returned as a string, but I can't seem to find it on CRAN now.
> In any case, the raw UNIX command line for this calculation
> with 'bc' (with result) is:
>
> $ bc -l
> [...]
> 168988580159 * 36662978
> 6195624596620653502
> quit
>
> which agrees with my horse-drawn working.
>
> Best wishes to all,
> Ted.
>
>> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
>> diegotentor71 at gmail.com> wrote:
>>
>>> Trying algorithm for products with large numbers i encountered a difference
>>> between result of 168988580159 * 36662978 in my algorithm and r product.
>>> The Microsoft calculator confirm my number.
>>>
>>> Thanks.
>>> --
>>> *        Gr?fica ARTENTOR          *
>>>
>>> de Diego L. Tentor
>>> Echag?e 558
>>> Tel.:0343 4310119
>>> Paran? - Entre R?os
>
> -------------------------------------------------
> E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
> Date: 04-May-2014  Time: 17:50:54
> This message was sent by XFMail
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From ahmedatia80 at gmail.com  Sun May  4 19:19:25 2014
From: ahmedatia80 at gmail.com (Ahmed Attia)
Date: Sun, 4 May 2014 10:19:25 -0700
Subject: [R] Tick marks at the 0:0 point in a plot ()
Message-ID: <CAG6S0OkzR-=ftPA_EARq6yVqP6xdCaO8O8BTrgBTQYeQKpGqvA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140504/c9ce849e/attachment.pl>

From Ted.Harding at wlandres.net  Sun May  4 19:28:25 2014
From: Ted.Harding at wlandres.net ( (Ted Harding))
Date: Sun, 04 May 2014 18:28:25 +0100 (BST)
Subject: [R] Problem with products in R ?
In-Reply-To: <CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>
Message-ID: <XFMail.20140504182825.Ted.Harding@wlandres.net>

Thanks for this link, Gabor (and especially for the link
therein to your posting on Thu May 7 14:10:53 CEST 2009).
This confirms that the R 'bc' package is not on CRAN and
points to where it can be sourced from. I used to have bc.R
installed on an old machine, which has gone into terminal
coma now.

Best wishes,
Ted.


On 04-May-2014 17:10:00 Gabor Grothendieck wrote:
> Checking this with the bc R package (https://code.google.com/p/r-bc/),
> the Ryacas package (CRAN), the gmp package (CRAN) and the Windows 8.1
> calculator all four give the same result:
> 
>> library(bc)
>> bc("168988580159 * 36662978")
> [1] "6195624596620653502"
> 
>> library(Ryacas)
>> yacas("168988580159 * 36662978", retclass = "character")
> 6195624596620653502
> 
>> library(gmp)
>> as.bigz("168988580159") * as.bigz("36662978")
> Big Integer ('bigz') :
> [1] 6195624596620653502
> 
> 
> On Sun, May 4, 2014 at 12:50 PM, Ted Harding <Ted.Harding at wlandres.net>
> wrote:
>> On 04-May-2014 14:13:27 Jorge I Velez wrote:
>>> Try
>>>
>>> options(digits = 22)
>>> 168988580159 * 36662978
>>># [1] 6195624596620653568
>>>
>>> HTH,
>>> Jorge.-
>>
>> Err, not quite ... !
>> I hitch my horses to my plough (with help from R):
>>
>> options(digits=22)
>> 168988580159*8 = 1351908641272 (copy down)
>> 168988580159*7 = 1182920061113  ( " " )
>> 168988580159*9 = 1520897221431  ( " " )
>> 168988580159*2 =  337977160318  ( " " )
>> 168988580159*6 = 1013931480954  ( " " )^3
>> 168988580159*3 =  506965740477  ( " " )
>>
>>          1351908641272
>>         11829200611130
>>        152089722143100
>>        337977160318000
>>      10139314809540000
>>     101393148095400000
>>    1013931480954000000
>>    5069657404770000000
>> ======================
>>    6195624596620653502
>> [after adding up mentally]
>>
>> compared with Jorge's:
>>    6195624596620653568
>>
>> ("02" vs "68" in the final two digits).
>>
>> Alternatively, if using a unixoid system with 'bc' present,
>> one can try interfacing R with 'bc'. 'bc' is an calculating
>> engine which works to arbitrary precision.
>>
>> There certainly used to be a utility in which R can evoke 'bc',
>> into which one can enter a 'bc' command and get the result
>> returned as a string, but I can't seem to find it on CRAN now.
>> In any case, the raw UNIX command line for this calculation
>> with 'bc' (with result) is:
>>
>> $ bc -l
>> [...]
>> 168988580159 * 36662978
>> 6195624596620653502
>> quit
>>
>> which agrees with my horse-drawn working.
>>
>> Best wishes to all,
>> Ted.
>>
>>> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
>>> diegotentor71 at gmail.com> wrote:
>>>
>>>> Trying algorithm for products with large numbers i encountered a
>>>> difference
>>>> between result of 168988580159 * 36662978 in my algorithm and r product.
>>>> The Microsoft calculator confirm my number.
>>>>
>>>> Thanks.
>>>> --
>>>> *        Gr??fica ARTENTOR          *
>>>>
>>>> de Diego L. Tentor
>>>> Echag??e 558
>>>> Tel.:0343 4310119
>>>> Paran?? - Entre R??os
>>
>> -------------------------------------------------
>> E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
>> Date: 04-May-2014  Time: 17:50:54
>> This message was sent by XFMail
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> -- 
> Statistics & Software Consulting
> GKX Group, GKX Associates Inc.
> tel: 1-877-GKX-GROUP
> email: ggrothendieck at gmail.com

-------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
Date: 04-May-2014  Time: 18:28:23
This message was sent by XFMail


From ruipbarradas at sapo.pt  Sun May  4 20:37:46 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Sun, 04 May 2014 19:37:46 +0100
Subject: [R] Tick marks at the 0:0 point in a plot ()
In-Reply-To: <CAG6S0OkzR-=ftPA_EARq6yVqP6xdCaO8O8BTrgBTQYeQKpGqvA@mail.gmail.com>
References: <CAG6S0OkzR-=ftPA_EARq6yVqP6xdCaO8O8BTrgBTQYeQKpGqvA@mail.gmail.com>
Message-ID: <536688FA.6000308@sapo.pt>

Hello,

With ylim = c(100, 800) you can't get it to start at point (0, 0).
Try ylim = c(0, 800) instead.


Hope this helps,

Rui Barradas

Em 04-05-2014 18:19, Ahmed Attia escreveu:
> Dear R usres,
>
> Sorry to bother you with my basic question. I have a quick question about
> tick mark in R. A reviewer wants the tick marks of the graph to start at
> 0:0 point. My current code below produces the tick mark a little far from
> the corner;
>
> plot(Simu2~Irrig, data=Ahmed,pch=17, col=1,subset=ET=="40",tck=-0.01,
> xlab = ("Applied Irrigation (mm)"),   ylab = expression(paste("Cumulative
> ET  (mm)"))
> ,cex.lab=1.2, cex.axis=0.8,cex=0.9,font.lab=1,xlim = c(0,1000),
> xaxp=c(0,1000,10), yaxp=c(100,800,7),
> ylim=c(100,800))
>
> Any ideas.
>
> Thank you
> Ahmed M. Attia
>
>
> Research Assistant
> Dept. of Soil&Crop Sciences
> Texas A&M University
> ahmed.attia at ag.tamu.edu
> Cell phone: 001-979-248-5215
> FAX: 001-308-455-4024
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From shsentoff at comcast.net  Sun May  4 23:03:35 2014
From: shsentoff at comcast.net (Stephen Sentoff)
Date: Sun, 04 May 2014 16:03:35 -0500
Subject: [R] regexec: Unexpected answer when matching digits
Message-ID: <5366AB27.60003@comcast.net>

I was trying to use regexec to extract number fields from my data and got an unexpected response.  I can reproduce the issue with this small test case.

regexec("\\d{2,}", "abcd123")

I get a match at position 1, for length 7.  Not what I expected.

I do get the expected response (match at position 5, for length 3) when I do any of the following:

regexec("[0-9]{2,}", "abcd123")
regexec("\\d{1,}", "abcd123")
regexec("\\d+", "abcd123")

I have also verified that regexpr handles this pattern as I expect.

And to add further confusion, this only seems to happen on my Linux machine, not on Windows.

This seems to be an incredibly specific condition.  Anybody know what's going on?

-- 
Steve Sentoff


From murdoch.duncan at gmail.com  Sun May  4 23:51:03 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sun, 04 May 2014 17:51:03 -0400
Subject: [R] regexec: Unexpected answer when matching digits
In-Reply-To: <5366AB27.60003@comcast.net>
References: <5366AB27.60003@comcast.net>
Message-ID: <5366B647.6050502@gmail.com>

On 04/05/2014, 5:03 PM, Stephen Sentoff wrote:
> I was trying to use regexec to extract number fields from my data and got an unexpected response.  I can reproduce the issue with this small test case.
>
> regexec("\\d{2,}", "abcd123")
>
> I get a match at position 1, for length 7.  Not what I expected.
>
> I do get the expected response (match at position 5, for length 3) when I do any of the following:
>
> regexec("[0-9]{2,}", "abcd123")
> regexec("\\d{1,}", "abcd123")
> regexec("\\d+", "abcd123")
>
> I have also verified that regexpr handles this pattern as I expect.
>
> And to add further confusion, this only seems to happen on my Linux machine, not on Windows.
>
> This seems to be an incredibly specific condition.  Anybody know what's going on?
>

It looks like a bug.  I see it in R 3.0.3 on Mac OS, but not in 
3.1.0-patched on Windows.  What version are you using, on what OS?

Duncan Murdoch


From shsentoff at comcast.net  Mon May  5 01:26:58 2014
From: shsentoff at comcast.net (Stephen Sentoff)
Date: Sun, 04 May 2014 18:26:58 -0500
Subject: [R] regexec: Unexpected answer when matching digits
In-Reply-To: <5366B647.6050502@gmail.com>
References: <5366AB27.60003@comcast.net> <5366B647.6050502@gmail.com>
Message-ID: <5366CCC2.6080002@comcast.net>

Here is my sessionInfo from the linux machine where I see this behavior.

R version 3.1.0 (2014-04-10)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C LC_TIME=en_US.UTF-8
  [4] LC_COLLATE=en_US.UTF-8     LC_MONETARY=en_US.UTF-8 
LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C LC_ADDRESS=C
[10] LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8 
LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods base

loaded via a namespace (and not attached):
[1] tools_3.1.0

-- 
Steve Sentoff

On 5/4/2014 4:51 PM, Duncan Murdoch wrote:
> On 04/05/2014, 5:03 PM, Stephen Sentoff wrote:
>> I was trying to use regexec to extract number fields from my data and 
>> got an unexpected response.  I can reproduce the issue with this 
>> small test case.
>>
>> regexec("\\d{2,}", "abcd123")
>>
>> I get a match at position 1, for length 7.  Not what I expected.
>>
>> I do get the expected response (match at position 5, for length 3) 
>> when I do any of the following:
>>
>> regexec("[0-9]{2,}", "abcd123")
>> regexec("\\d{1,}", "abcd123")
>> regexec("\\d+", "abcd123")
>>
>> I have also verified that regexpr handles this pattern as I expect.
>>
>> And to add further confusion, this only seems to happen on my Linux 
>> machine, not on Windows.
>>
>> This seems to be an incredibly specific condition.  Anybody know 
>> what's going on?
>>
>
> It looks like a bug.  I see it in R 3.0.3 on Mac OS, but not in 
> 3.1.0-patched on Windows.  What version are you using, on what OS?
>
> Duncan Murdoch
>
>
>


From statistics84 at hotmail.com  Mon May  5 04:37:11 2014
From: statistics84 at hotmail.com (pari hesabi)
Date: Mon, 5 May 2014 02:37:11 +0000
Subject: [R] MLE
Message-ID: <DUB125-W1107AFE2A123D9F3AB7E4EC64C0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/582cc08e/attachment.pl>

From spencer.graves at structuremonitoring.com  Mon May  5 07:02:07 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Sun, 04 May 2014 22:02:07 -0700
Subject: [R] function to compare lengths of objects?
Message-ID: <53671B4F.8070607@structuremonitoring.com>

       Is there a standard function to generate messages like "longer 
object length is not a multiple of shorter object length" but providing 
more information like the names of the objects?


       For example, "a/b" issues, "Warning message:  In a/b : longer 
object length is not a multiple of shorter object length" if the length 
of one is not a multiple of the other.  I want a utility to produce 
messages that include the lengths of "a" and "b" and other information.


       If you were to write such a function, what would you include in 
it?  Arguments?  Values?  Options?


       I started creating "compareLengths.Rd" with 
\usage{compareLengths(x, y, name.x=NULL, name.y=NULL, Source='', 
compFun=c('length', 'NROW'), action=c(comparable='', 
incomparable='warning'), maxChar=20, ...)} and \value{A character vector 
of length 2.  The first element is either 'equal', 'compatible' or 
'incompatible'.  The second element is the message composed for the 
desired "action".


       Thanks,
       Spencer Graves


From ripley at stats.ox.ac.uk  Mon May  5 07:04:00 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 05 May 2014 06:04:00 +0100
Subject: [R] regexec: Unexpected answer when matching digits
In-Reply-To: <5366CCC2.6080002@comcast.net>
References: <5366AB27.60003@comcast.net> <5366B647.6050502@gmail.com>
	<5366CCC2.6080002@comcast.net>
Message-ID: <53671BC0.7070505@stats.ox.ac.uk>

On 05/05/2014 00:26, Stephen Sentoff wrote:
> Here is my sessionInfo from the linux machine where I see this behavior.
>
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-pc-linux-gnu (64-bit)
>
> locale:
>   [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C LC_TIME=en_US.UTF-8
>   [4] LC_COLLATE=en_US.UTF-8     LC_MONETARY=en_US.UTF-8
> LC_MESSAGES=en_US.UTF-8
>   [7] LC_PAPER=en_US.UTF-8       LC_NAME=C LC_ADDRESS=C
> [10] LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8
> LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods base
>
> loaded via a namespace (and not attached):
> [1] tools_3.1.0

It is a known bug in the TRE engine, PR14408.  It needs a UTF-8 locale 
and a range of repeat modifiers (here {2,}), and can be worked around by 
using perl=TRUE where supported (I do not know why the author of regexec 
did not support it).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ragia11 at hotmail.com  Mon May  5 07:05:52 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Mon, 5 May 2014 07:05:52 +0200
Subject: [R] uniform number
In-Reply-To: <mailman.0.1399266203.6578.r-help@r-project.org>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
Message-ID: <DUB125-W68033D98022BB669F59875B34C0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/6bf978a6/attachment.pl>

From r.turner at auckland.ac.nz  Mon May  5 09:27:43 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 05 May 2014 19:27:43 +1200
Subject: [R] uniform number
In-Reply-To: <DUB125-W68033D98022BB669F59875B34C0@phx.gbl>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>
Message-ID: <53673D6F.7020801@auckland.ac.nz>

On 05/05/14 17:05, Ragia Ibrahim wrote:
>
> Dear group,
> How to generate  uniform probability choosing p to be 2% and 5%, in separate trials for 100 times.

No idea WTF you are talking about.  Can you formulate a question that is 
comprehensible to the human mind?

cheers,

Rolf Turner


From kehld at ktk.pte.hu  Mon May  5 09:40:12 2014
From: kehld at ktk.pte.hu (=?iso-8859-2?Q?Kehl_D=E1niel?=)
Date: Mon, 5 May 2014 07:40:12 +0000
Subject: [R] uniform number
In-Reply-To: <53673D6F.7020801@auckland.ac.nz>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>,
	<53673D6F.7020801@auckland.ac.nz>
Message-ID: <33D76D77E9AC4B438DA38B348ED6890D0B9C6B5A@EMAIL.ktkdom.pte.hu>

Maybe you thought the binomial distribution?

see
?rbinom

best,
kd
________________________________________
Felad?: r-help-bounces at r-project.org [r-help-bounces at r-project.org] ; meghatalmaz&#243;: Rolf Turner [r.turner at auckland.ac.nz]
K?ldve: 2014. m?jus 5. 9:27
To: Ragia Ibrahim
Cc: r-help at r-project.org
T?rgy: Re: [R] uniform number

On 05/05/14 17:05, Ragia Ibrahim wrote:
>
> Dear group,
> How to generate  uniform probability choosing p to be 2% and 5%, in separate trials for 100 times.

No idea WTF you are talking about.  Can you formulate a question that is
comprehensible to the human mind?

cheers,

Rolf Turner

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From catagui at gmail.com  Mon May  5 09:42:13 2014
From: catagui at gmail.com (Catalina Aguilar Hurtado)
Date: Mon, 5 May 2014 17:42:13 +1000
Subject: [R] DESeq vs DESeq2 different DEGs results
Message-ID: <CAAHBMXbXKndGs9w7OD_nigx6u-ediphXABEnHmtf=M6=b3bzEA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/437d9d8c/attachment.pl>

From msuzen at gmail.com  Mon May  5 10:12:49 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Mon, 5 May 2014 10:12:49 +0200
Subject: [R] uniform number
In-Reply-To: <53673D6F.7020801@auckland.ac.nz>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>
	<53673D6F.7020801@auckland.ac.nz>
Message-ID: <CAPtbhHyiqPY1Qbw3nhxUBG8bGuFt1X_LkAEWEMSzKvG1uBuNgw@mail.gmail.com>

WTF?

Is that a R package from you?



On 5 May 2014 09:27, Rolf Turner <r.turner at auckland.ac.nz> wrote:
> On 05/05/14 17:05, Ragia Ibrahim wrote:
>>
>>
>> Dear group,
>> How to generate  uniform probability choosing p to be 2% and 5%, in
>> separate trials for 100 times.
>
>
> No idea WTF you are talking about.  Can you formulate a question that is
> comprehensible to the human mind?
>
> cheers,
>
> Rolf Turner
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch.duncan at gmail.com  Mon May  5 10:55:07 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 05 May 2014 04:55:07 -0400
Subject: [R] function to compare lengths of objects?
In-Reply-To: <53671B4F.8070607@structuremonitoring.com>
References: <53671B4F.8070607@structuremonitoring.com>
Message-ID: <536751EB.90206@gmail.com>

On 05/05/2014, 1:02 AM, Spencer Graves wrote:
>         Is there a standard function to generate messages like "longer
> object length is not a multiple of shorter object length" but providing
> more information like the names of the objects?

No, not really.

At the C level objects don't really have names.  The same object may be 
linked to several different names, or none at all.  Most messages like 
the length warning are generated there, so they don't include name 
information.

At the R level you can use substitute() to find the expression that was 
used to supply a function argument, so you can do a little better.  For 
example, I would write a simpler version of your compareLengths function 
something like this:

compareLengths <- function(x, y, name.x = deparse(substitute(x)),
                                  name.y = deparse(substitute(y))) {
   if (length(x) == length(y))
     return( c("equal", paste("objects", dQuote(name.x), "and", 
dQuote(name.y), "are the same length."))
   else ...

}

Then a function could call it like this:

f <- function(a, b) {
   cmp1 <- compareLengths(a, b)  # Message talks about  "a" and "b"
   cmp2 <- compareLengths(a, b, deparse(substitute(a)),
              deparse(substitute(b))) # Message talks about names
                                      # in call to f
   ...
}

Duncan Murdoch

>
>
>         For example, "a/b" issues, "Warning message:  In a/b : longer
> object length is not a multiple of shorter object length" if the length
> of one is not a multiple of the other.  I want a utility to produce
> messages that include the lengths of "a" and "b" and other information.
>
>
>         If you were to write such a function, what would you include in
> it?  Arguments?  Values?  Options?
>
>
>         I started creating "compareLengths.Rd" with
> \usage{compareLengths(x, y, name.x=NULL, name.y=NULL, Source='',
> compFun=c('length', 'NROW'), action=c(comparable='',
> incomparable='warning'), maxChar=20, ...)} and \value{A character vector
> of length 2.  The first element is either 'equal', 'compatible' or
> 'incompatible'.  The second element is the message composed for the
> desired "action".
>
>
>         Thanks,
>         Spencer Graves
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From msuzen at gmail.com  Mon May  5 11:13:31 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Mon, 5 May 2014 11:13:31 +0200
Subject: [R] uniform number
In-Reply-To: <DUB125-W767C355EF1268EAF036B76B34C0@phx.gbl>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>
	<53673D6F.7020801@auckland.ac.nz>
	<CAPtbhHyiqPY1Qbw3nhxUBG8bGuFt1X_LkAEWEMSzKvG1uBuNgw@mail.gmail.com>
	<DUB125-W767C355EF1268EAF036B76B34C0@phx.gbl>
Message-ID: <CAPtbhHyqwBEZAKOt9Cqb0hgG27=fZDQLOMGy2eUxpn=UuPpyDw@mail.gmail.com>

That paper you cite is about Social networks. You may want to use
igraph or sna packages....

On 5 May 2014 10:54, Ragia Ibrahim <ragia11 at hotmail.com> wrote:
> thanks for replying
>
> in the following paper
> http://www.cs.cornell.edu/home/kleinber/kdd03-inf.pdf
> page 6 third paragraph
>
>
> the author writes:
> "assigned a uniform probability of p to each edge of the graph, choosing p
> to be 1% and 10%
> in separate trials."
>
>
> how to use R function to get such probability ?
> Regards
>
>> Date: Mon, 5 May 2014 10:12:49 +0200
>> Subject: Re: [R] uniform number
>> From: msuzen at gmail.com
>> To: r.turner at auckland.ac.nz
>> CC: ragia11 at hotmail.com; r-help at r-project.org
>>
>> WTF?
>>
>> Is that a R package from you?
>>
>>
>>
>> On 5 May 2014 09:27, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>> > On 05/05/14 17:05, Ragia Ibrahim wrote:
>> >>
>> >>
>> >> Dear group,
>> >> How to generate uniform probability choosing p to be 2% and 5%, in
>> >> separate trials for 100 times.
>> >
>> >
>> > No idea WTF you are talking about. Can you formulate a question that is
>> > comprehensible to the human mind?
>> >
>> > cheers,
>> >
>> > Rolf Turner
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.


From r.turner at auckland.ac.nz  Mon May  5 11:19:26 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 05 May 2014 21:19:26 +1200
Subject: [R] uniform number
In-Reply-To: <DUB125-W611633F921CB4F88188B02B34C0@phx.gbl>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>,
	<53673D6F.7020801@auckland.ac.nz>
	<DUB125-W611633F921CB4F88188B02B34C0@phx.gbl>
Message-ID: <5367579E.5050100@auckland.ac.nz>



Please keep responses on-list unless there are compelling reasons not to.

It is still not clear what you want to do.  You *might* want to assign
probabilities to the edges of a graph where these probabilities are 
uniformly (and independently) distributed on the interval [0.01, 0.10].

This could be done by

probs <- runif(n,0.01,0.10)

where "n" is the number of edges.  See ?runif.

You *might* want to assign probabilities either 0.01 or 0.10 to each 
edge of the graph, each probability being chosen with probability 0.5 
(???).  This could be done by

probs <- sample(c(0.01,0.10),n,TRUE).

You really need to learn something about R if you are going to use R.
Start with "An Introduction to R" available (under "Manuals") from the R 
web site.

You also need to learn to express yourself clearly and unambiguously. 
Do not expect your readers to be telepathic.

cheers,

Rolf Turner

On 05/05/14 19:41, Ragia Ibrahim wrote:
>
> thanks for replying
> in the following paper
> http://www.cs.cornell.edu/home/kleinber/kdd03-inf.pdf
> page 6 third paragraph
>
>
> the author writes:
> "assigned a uniform probability of p to each edge of the graph, choosing
> p to be 1% and 10%
> in separate trials."
>
>
> how to use R function to get such probability ?
> Regards
>
>
>  > Date: Mon, 5 May 2014 19:27:43 +1200
>  > From: r.turner at auckland.ac.nz
>  > To: ragia11 at hotmail.com
>  > CC: r-help at r-project.org
>  > Subject: Re: [R] uniform number
>  >
>  > On 05/05/14 17:05, Ragia Ibrahim wrote:
>  > >
>  > > Dear group,
>  > > How to generate uniform probability choosing p to be 2% and 5%, in
> separate trials for 100 times.
>  >
>  > No idea WTF you are talking about. Can you formulate a question that is
>  > comprehensible to the human mind?


From miamynta at gmail.com  Mon May  5 11:47:09 2014
From: miamynta at gmail.com (Mia Bengtsson)
Date: Mon, 5 May 2014 11:47:09 +0200
Subject: [R] metaMDS in vegan: zero stress
Message-ID: <0A1764A5-4038-479A-822C-5218F151E3E0@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/b4638ff2/attachment.pl>

From boris.steipe at utoronto.ca  Mon May  5 13:46:48 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Mon, 5 May 2014 07:46:48 -0400
Subject: [R] uniform number
In-Reply-To: <5367579E.5050100@auckland.ac.nz>
References: <mailman.0.1399266203.6578.r-help@r-project.org>
	<DUB125-W68033D98022BB669F59875B34C0@phx.gbl>,
	<53673D6F.7020801@auckland.ac.nz>
	<DUB125-W611633F921CB4F88188B02B34C0@phx.gbl>
	<5367579E.5050100@auckland.ac.nz>
Message-ID: <92A26E72-8488-40DC-BE85-23C0A6950DCE@utoronto.ca>

... or this could mean to accept or reject an edge with p = 0.01 or 0.1 in which case you *might* use rbinom() as in

n <- 100   # number of edges
p <- 0.27  # desired probability
rbinom(n,1,p)
  [1] 0 1 0 0 0 1 0 0 0 0 0 0 0 1 1 0 0 1  ... etc.

B.

On 2014-05-05, at 5:19 AM, Rolf Turner wrote:

> 
> 
> Please keep responses on-list unless there are compelling reasons not to.
> 
> It is still not clear what you want to do.  You *might* want to assign
> probabilities to the edges of a graph where these probabilities are uniformly (and independently) distributed on the interval [0.01, 0.10].
> 
> This could be done by
> 
> probs <- runif(n,0.01,0.10)
> 
> where "n" is the number of edges.  See ?runif.
> 
> You *might* want to assign probabilities either 0.01 or 0.10 to each edge of the graph, each probability being chosen with probability 0.5 (???).  This could be done by
> 
> probs <- sample(c(0.01,0.10),n,TRUE).
> 
> You really need to learn something about R if you are going to use R.
> Start with "An Introduction to R" available (under "Manuals") from the R web site.
> 
> You also need to learn to express yourself clearly and unambiguously. Do not expect your readers to be telepathic.
> 
> cheers,
> 
> Rolf Turner
> 
> On 05/05/14 19:41, Ragia Ibrahim wrote:
>> 
>> thanks for replying
>> in the following paper
>> http://www.cs.cornell.edu/home/kleinber/kdd03-inf.pdf
>> page 6 third paragraph
>> 
>> 
>> the author writes:
>> "assigned a uniform probability of p to each edge of the graph, choosing
>> p to be 1% and 10%
>> in separate trials."
>> 
>> 
>> how to use R function to get such probability ?
>> Regards
>> 
>> 
>> > Date: Mon, 5 May 2014 19:27:43 +1200
>> > From: r.turner at auckland.ac.nz
>> > To: ragia11 at hotmail.com
>> > CC: r-help at r-project.org
>> > Subject: Re: [R] uniform number
>> >
>> > On 05/05/14 17:05, Ragia Ibrahim wrote:
>> > >
>> > > Dear group,
>> > > How to generate uniform probability choosing p to be 2% and 5%, in
>> separate trials for 100 times.
>> >
>> > No idea WTF you are talking about. Can you formulate a question that is
>> > comprehensible to the human mind?
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kmersman at smail.uni-koeln.de  Mon May  5 13:57:42 2014
From: kmersman at smail.uni-koeln.de (Katharina Mersmann)
Date: Mon, 5 May 2014 13:57:42 +0200
Subject: [R] Plotting a Regression holding some exogeneous constant.
Message-ID: <001701cf6859$38cb9d80$aa62d880$@uni-koeln.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/17994d18/attachment.pl>

From ashisdeb83 at gmail.com  Mon May  5 15:46:42 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Mon, 5 May 2014 19:16:42 +0530
Subject: [R] R Package making error
Message-ID: <CAFcJUToxcaxA=L8vc7rBB9EEEFDcLSOBzrkTM7rBF_nbeGRAJw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/cbf96066/attachment.pl>

From sarah.goslee at gmail.com  Mon May  5 16:02:38 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Mon, 5 May 2014 10:02:38 -0400
Subject: [R] R Package making error
In-Reply-To: <CAFcJUToxcaxA=L8vc7rBB9EEEFDcLSOBzrkTM7rBF_nbeGRAJw@mail.gmail.com>
References: <CAFcJUToxcaxA=L8vc7rBB9EEEFDcLSOBzrkTM7rBF_nbeGRAJw@mail.gmail.com>
Message-ID: <CAM_vjunc1jK4dJY68J52GdVdFXm0bL4fatnn9ekMMwE-vesV6A@mail.gmail.com>

While I don't particularly like the idea of a package automatically
making changes to the system, you can use

installed.packages()

to see which of your needed packages are already available, and only
install the ones that are missing.

Better would be to put the whole list in Depends, and let R manage the loading.

http://stackoverflow.com/questions/8637993/better-explanation-of-when-to-use-imports-depends


Sarah

On Mon, May 5, 2014 at 9:46 AM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
> Hi  all  ,
>
> I  have  a  GUI package  function   like  below ,
>
>
> trader<-function()
> {
>
>    install.packages("Rgtk2")
>   install.packages("cluster")
>   install.packages("gWidgets")
>   install.packages("gWidgetsRGtk2")
>   install.packages("scales")
>   install.packages("RGtk2Extras")
>   install.packages("FuzzyToolkitUoN")
>   install.packages("splines")
>   install.packages("plyr")
>   install.packages("cairo")
>   install.packages("cairoDevices")
>   install.packages("e1071")
>   install.packages("quantmod")
>   install.packages("TTR")
>   install.packages("xts")
>
>
> library(RGtk2)
>   library(RGtk2Extras)
>   library(FuzzyToolkitUoN)
>   library(splines)
>   library(plyr)
>   library(Cairo)
>   library(cairoDevice)
>   library(gWidgets2)
>   library(gWidgetsRGtk2)
>   library(e1071)
>   library(quantmod)
>   library(TTR)
>   library(xts)
>
>
>
>
> }
>
>
>
>
>
>
>
> I    didn't   put  the   whole  code   here  ,
>
> My  problem  is   I  had  converted  this    function   into  an
> package     ,   it works   good  ,but   every  time   it  has  to
> install  all the packages    ,  is there  something  by which  only  once
> it will install   the  packages   and  next  time  it is not needed .
>
> Thanks
>
> ASHIS
>

---
Sarah Goslee
http://www.functionaldiversity.org


From macqueen1 at llnl.gov  Mon May  5 17:07:43 2014
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 5 May 2014 15:07:43 +0000
Subject: [R] auglag store parameters
In-Reply-To: <CAG2HkXOEuO_NGnnBMs33tss9dx2JzAFpcNAh=dAjVs-Eqsiavg@mail.gmail.com>
References: <CAG2HkXOEuO_NGnnBMs33tss9dx2JzAFpcNAh=dAjVs-Eqsiavg@mail.gmail.com>
Message-ID: <CF8CF632.F6BF9%macqueen1@llnl.gov>

Just guessing, but something like


pars <- numeric(nloops)
 
for (i in 1:nloops) {
  ## use auglag
  pars[i] <-  {the $par part of the answer}
}


might be what you're looking for.

All of which has nothing to do with auglag in particular, just simple R
programming.

-Don

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 5/3/14 5:02 AM, "Delger Enkhbayar" <d.enkhbayar at lse.ac.uk> wrote:

>Hi,
>
>I am minimizing a non-linear function subject to linear and nonlinear
>equalities and inequalities. I managed to understand how to use auglag for
>this case. Now, I'm using loops to get solutions for different
>assumptions,
>however, I'm facing a difficulty in storing just $par part of the answer
>to
>a vector form. Could someone point me to how to do this in auglag?
>
>Thank you for all your great work!
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From ahmedatia80 at gmail.com  Mon May  5 20:27:08 2014
From: ahmedatia80 at gmail.com (Ahmed Attia)
Date: Mon, 5 May 2014 13:27:08 -0500
Subject: [R] Tick marks at the 0:0 point in a plot ()
Message-ID: <CAG6S0OnvvKviXyT9UEY_Y2nS1ACt=KPLL-d7-Wjv_ZDkCFn42w@mail.gmail.com>

Dear R usres,

Sorry to bother you with my basic question. I have a quick question about
tick mark in R. A reviewer wants the tick marks of the graph to start at
0:0 point. My current code below produces the tick mark a little far from
the corner;

plot(Simu2~Irrig, data=Ahmed,pch=17, col=1,subset=ET=="40",tck=-0.01,
xlab = ("Applied Irrigation (mm)"),   ylab = expression(paste("Cumulative
ET  (mm)"))
,cex.lab=1.2, cex.axis=0.8,cex=0.9,font.lab=1,xlim = c(0,1000),
xaxp=c(0,1000,10), yaxp=c(100,800,7),
ylim=c(100,800))

Any ideas.

Thank you

Ahmed M. Attia


Research Assistant
Dept. of Soil&Crop Sciences
Texas A&M University
ahmed.attia at ag.tamu.edu
Cell phone: 001-979-248-5215
FAX: 001-308-455-4024

From tim at mlhim.org  Mon May  5 20:42:42 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Mon, 5 May 2014 15:42:42 -0300
Subject: [R] Parsing XML file to data frame
In-Reply-To: <1399051040647-4689883.post@n4.nabble.com>
References: <1399051040647-4689883.post@n4.nabble.com>
Message-ID: <CA+=OU3VnE44f2r3AX5dRiwZnbONXooWRLoMONC0uP-F75F0PzA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/fd5ab6eb/attachment.pl>

From wdunlap at tibco.com  Mon May  5 21:13:20 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 5 May 2014 12:13:20 -0700
Subject: [R] Tick marks at the 0:0 point in a plot ()
In-Reply-To: <CAG6S0OnvvKviXyT9UEY_Y2nS1ACt=KPLL-d7-Wjv_ZDkCFn42w@mail.gmail.com>
References: <CAG6S0OnvvKviXyT9UEY_Y2nS1ACt=KPLL-d7-Wjv_ZDkCFn42w@mail.gmail.com>
Message-ID: <CAF8bMcYCGswHb5xMF9ua0u-0m5zvBa_DhoD-6wOG=JfJrmiqtw@mail.gmail.com>

I don't understand your question - you want a tick mark at 0,0 but you
explicitly ask for the y axis to start at 100 (and to go upwards from
there).   Do you mean you want the initial tick mark on an axis to be
at the lower left corner of the plot?  If so, see if adding xaxs="i",
yaxs="i" to your plot command helps.  E.g., compare
  plot(0:10,0:10, xaxs="i", yaxs="i")
and
  plot(0:10,0:10)
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Mon, May 5, 2014 at 11:27 AM, Ahmed Attia <ahmedatia80 at gmail.com> wrote:
> Dear R usres,
>
> Sorry to bother you with my basic question. I have a quick question about
> tick mark in R. A reviewer wants the tick marks of the graph to start at
> 0:0 point. My current code below produces the tick mark a little far from
> the corner;
>
> plot(Simu2~Irrig, data=Ahmed,pch=17, col=1,subset=ET=="40",tck=-0.01,
> xlab = ("Applied Irrigation (mm)"),   ylab = expression(paste("Cumulative
> ET  (mm)"))
> ,cex.lab=1.2, cex.axis=0.8,cex=0.9,font.lab=1,xlim = c(0,1000),
> xaxp=c(0,1000,10), yaxp=c(100,800,7),
> ylim=c(100,800))
>
> Any ideas.
>
> Thank you
>
> Ahmed M. Attia
>
>
> Research Assistant
> Dept. of Soil&Crop Sciences
> Texas A&M University
> ahmed.attia at ag.tamu.edu
> Cell phone: 001-979-248-5215
> FAX: 001-308-455-4024
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From spencer.graves at structuremonitoring.com  Mon May  5 21:39:48 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 05 May 2014 12:39:48 -0700
Subject: [R] function to compare lengths?
Message-ID: <5367E904.3040401@structuremonitoring.com>

       Is there a function someplace to compare lengths?


       For example, if "longer object length is not a multiple of 
shorter object length", "a/b" issues a warning.  I'd like something with 
more flexibility in what is reported.


       Hadley Wickham's "testthat" and "assertthat" packages provide 
tools for testing and comparing objects, but I didn't see this.


       I'm starting to write "compareLengths(x, y, name.x=NULL, 
name.y=NULL, Source='', compFun=c('length', 'NROW'), 
action=c(comparable='', incomparable='warning'), maxChar=20, ...)". 
However, I'd prefer to use an existing function if I can find one that I 
feel is adequate.


       Thanks,
       Spencer


From murdoch.duncan at gmail.com  Mon May  5 22:19:20 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 05 May 2014 16:19:20 -0400
Subject: [R] function to compare lengths?
In-Reply-To: <5367E904.3040401@structuremonitoring.com>
References: <5367E904.3040401@structuremonitoring.com>
Message-ID: <5367F248.2000409@gmail.com>

On 05/05/2014, 3:39 PM, Spencer Graves wrote:
>         Is there a function someplace to compare lengths?
>
>
>         For example, if "longer object length is not a multiple of
> shorter object length", "a/b" issues a warning.  I'd like something with
> more flexibility in what is reported.
>
>
>         Hadley Wickham's "testthat" and "assertthat" packages provide
> tools for testing and comparing objects, but I didn't see this.
>
>
>         I'm starting to write "compareLengths(x, y, name.x=NULL,
> name.y=NULL, Source='', compFun=c('length', 'NROW'),
> action=c(comparable='', incomparable='warning'), maxChar=20, ...)".
> However, I'd prefer to use an existing function if I can find one that I
> feel is adequate.
>

You posted this question (with a different subject line) yesterday. 
What is wrong with the response I sent then?

Duncan Murdoch


From adel.daoud at sociology.gu.se  Mon May  5 21:29:33 2014
From: adel.daoud at sociology.gu.se (Adel)
Date: Mon, 5 May 2014 12:29:33 -0700 (PDT)
Subject: [R] list.files accessing subdirectory as relative path?
Message-ID: <1399318173676-4689997.post@n4.nabble.com>

Dear list members,

I would like to access a subdirectory given where the work directory has
been set. So I have:

> getwd()
[1] "C:/Users/Lord Adellus/Dropbox/I8child1/Data"

> list.files() # give three folders
 [1] "Least Developed Countries"                         
 [4] "Low middle income grouping"                         "More advanced
developing countries and territories" 

> list.files(path = "../Least Developed Countries") # I want to access now
> one of the subdirectories
character(0)

But as you can see R does not want to look into the specified subdirectory.
I have tried several combination and searched the list but without any great
success. 

Actually: 

list.files(path = "../...") #goes up one level in the folder structure so I
cannot see what the problem is.


Thanks in advance.
Adel




--
View this message in context: http://r.789695.n4.nabble.com/list-files-accessing-subdirectory-as-relative-path-tp4689997.html
Sent from the R help mailing list archive at Nabble.com.


From james.dare at es.govt.nz  Mon May  5 22:23:23 2014
From: james.dare at es.govt.nz (jimdare)
Date: Mon, 5 May 2014 13:23:23 -0700 (PDT)
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages
Message-ID: <1399321403011-4690000.post@n4.nabble.com>

Hello,

This may seem like a simple problem, but it's frustrating me immensely.  I'm
trying to overlay a normal curve (dnorm) on top of a histogram using the
code below.  This works find when the type = "density", but the person for
whom I'm making the plot wants the y axis in percent of total rather than
density.  When I change type to "percent", I get the histogram scale I'm
after, but the dnorm plot is greatly reduced.  How could I scale the density
plot to the percent of total axis.  Alternatively, perhaps there is a way to
add density to a secondary y axis?

Thanks in advance for your help.

Jimdare


plot<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip =
my.strip,xlab = j,  
   type = "percent",layout=c(2,1),
   panel=function(x, ...) {                            
   panel.histogram(x, ...)

   panel.mathdensity(dmath=dnorm, col="black", 
  # Add na.rm = TRUE to mean() and sd()
    args=list(mean=mean(x, na.rm = TRUE),
    sd=sd(x, na.rm = TRUE)), ...)            
                                        }) 



--
View this message in context: http://r.789695.n4.nabble.com/Lattice-Histogram-with-Normal-Curve-Y-axis-as-percentages-tp4690000.html
Sent from the R help mailing list archive at Nabble.com.


From javanrouh_n at yahoo.com  Mon May  5 15:43:57 2014
From: javanrouh_n at yahoo.com (Niloofar.Javanrouh)
Date: Mon, 5 May 2014 14:43:57 +0100 (BST)
Subject: [R] multiply of two expressions
Message-ID: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/d301acfa/attachment.pl>

From rss115 at case.edu  Mon May  5 21:02:38 2014
From: rss115 at case.edu (Roopa Subbaiaih)
Date: Mon, 5 May 2014 15:02:38 -0400
Subject: [R] Sciplot: Increasing the width of bargraph and decreasing the
 sapce b/n groups
Message-ID: <CAN9TEa-+RvLbMpruy=CO9G9T4cGhy8wjmekiWKckFB+FVKsXJA@mail.gmail.com>

Hello,

I am trying to plot bargraphs susing Sciplot. Is there a way to increase
the width of the bar graphs and decrease the space b/n the groups? I am
pasting the script as well as attaching the graph.

Bio6 <- read.csv("Data/Plin1.csv",na.strings="",header=T)
attach(Bio6)
head(Bio6)
par(family="serif", font=11)
Bio6$Sps <- factor(Bio6$Sps, levels = c("FFA1", "FFA2","FFA3"))
Bio6$Gp <- factor(Bio6$Gp, levels = c("N-FFA1",
"FU1","FA1","N-FFA2","FU2","FA2","N-FFA3","FU3","FA3"))
bargraph.CI(Sps, O.D, group = Gp, data = Bio6,ylab = "Relative expression
levels", cex.lab = 1.5, y.leg = 6,cex.leg = 0.82,cex=1.5, axisnames=TRUE,
col = c("red","blue","grey"),space=c(0, 0.5), ylim=c(0,7),cex.names =
1.0,density = c(30,30,30), legend = TRUE, main="PLIN1")
detach(Bio6)

 O.D     Gp  Sps
1  1.000000 N-FFA1 FFA1
2  2.996432    FU1 FFA1
3  3.223413    FU1 FFA1
4  3.524465    FU1 FFA1
5  1.311971    FA1 FFA1
6  6.755860    FA1 FFA1
7  1.566000    FA1 FFA1
8  1.000000 N-FFA2 FFA2
9  2.741612    FU2 FFA2
10 2.800644    FU2 FFA2
11 3.569509    FU2 FFA2
12 4.141500    FA2 FFA2
13 7.049476    FA2 FFA2
14 4.694674    FA2 FFA2
15 1.000000 N-FFA3 FFA3
16 4.163601    FU3 FFA3
17 3.903986    FU3 FFA3
18 4.730000    FU3 FFA3
19 0.000000    FA3 FFA3
20 0.000000    FA3 FFA3
21 0.000000    FA3 FFA3

Any help would be appreciated.

Thanks in advance, Roopa

From thomas.worthington at okstate.edu  Mon May  5 22:29:30 2014
From: thomas.worthington at okstate.edu (Worthington, Thomas A)
Date: Mon, 5 May 2014 20:29:30 +0000
Subject: [R] Degrees of Freedom GAM/GAMM
Message-ID: <C1A5238848713043B7C18ED38FFEF1F812B55BB1@STWMB01.ad.okstate.edu>

Dear All 

I've fitted a GAMM to relate water temperature to the day of the year (DOY) at three different sites. I used summary(MFinal$gam) and anova(MFinal$gam) to produce the output of my model. I'm confused on how to report the degrees of freedom for the smother and the factor. I currently have 

"The final model suggested water temperature was significant related to DOY (6.46 estimated degrees of freedom, F = 224.2, p < 0.001) and was significantly different between sites (F2 = 82.14, p <0.001)"

But think there should be more to the degrees of freedom particularly for the sites factor.

If anyone could advise on the correct way to display the results I would greatly appreciate it . The output from the model is below

Best wishes

Tom 


> summary(MFinal$gam)

Family: gaussian 
Link function: identity 

Formula:
Temperature ~ s(DOY) + Site

Parametric coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  12.0366     0.2411   49.92   <2e-16 ***
SiteG         4.2460     0.3979   10.67   <2e-16 ***
SiteH         4.1439     0.4069   10.19   <2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Approximate significance of smooth terms:
         edf Ref.df     F p-value    
s(DOY) 6.457  6.457 224.2  <2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

R-sq.(adj) =  0.914  Scale est. = 0.098602  n = 137


> anova(MFinal$gam)

Family: gaussian 
Link function: identity 

Formula:
Temperature ~ s(DOY) + Site

Parametric Terms:
     df     F p-value
Site  2 82.14  <2e-16

Approximate significance of smooth terms:
         edf Ref.df     F p-value
s(DOY) 6.457  6.457 224.2  <2e-16 


From spencer.graves at structuremonitoring.com  Mon May  5 22:41:55 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 05 May 2014 13:41:55 -0700
Subject: [R] function to compare lengths?
In-Reply-To: <5367F248.2000409@gmail.com>
References: <5367E904.3040401@structuremonitoring.com>
	<5367F248.2000409@gmail.com>
Message-ID: <5367F793.3070904@structuremonitoring.com>

On 5/5/2014 1:19 PM, Duncan Murdoch wrote:
> On 05/05/2014, 3:39 PM, Spencer Graves wrote:
>>         Is there a function someplace to compare lengths?
>>
>>
>>         For example, if "longer object length is not a multiple of
>> shorter object length", "a/b" issues a warning.  I'd like something with
>> more flexibility in what is reported.
>>
>>
>>         Hadley Wickham's "testthat" and "assertthat" packages provide
>> tools for testing and comparing objects, but I didn't see this.
>>
>>
>>         I'm starting to write "compareLengths(x, y, name.x=NULL,
>> name.y=NULL, Source='', compFun=c('length', 'NROW'),
>> action=c(comparable='', incomparable='warning'), maxChar=20, ...)".
>> However, I'd prefer to use an existing function if I can find one that I
>> feel is adequate.
>>
>
> You posted this question (with a different subject line) yesterday. 
> What is wrong with the response I sent then?


       Your earlier response was great, but I didn't see it until I 
received this reply.


       I apologize for sending essentially the same question twice. It 
was not my intent.  I missed Duncan's reply and couldn't find my 
original email in my "sent" folder.  I concluded erroneously that I may 
have deleted the draft rather than sending it.


       Thanks again,
       Spencer Graves

>
> Duncan Murdoch
>


From macqueen1 at llnl.gov  Mon May  5 22:46:06 2014
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 5 May 2014 20:46:06 +0000
Subject: [R] list.files accessing subdirectory as relative path?
In-Reply-To: <1399318173676-4689997.post@n4.nabble.com>
References: <1399318173676-4689997.post@n4.nabble.com>
Message-ID: <CF8D4551.F6C6C%macqueen1@llnl.gov>

If 'foo' is a subdirectory of the current working directory, then
  list.files('foo')
lists the files in foo.

".." goes up one level
But you did not want to go up one level. You wanted to stay at the same
level.
(also, '...' has no meaning in pathnames)

Try either of
  list.files(path = "./Least Developed Countries")
  list.files(path = "Least Developed Countries")

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 5/5/14 12:29 PM, "Adel" <adel.daoud at sociology.gu.se> wrote:

>Dear list members,
>
>I would like to access a subdirectory given where the work directory has
>been set. So I have:
>
>> getwd()
>[1] "C:/Users/Lord Adellus/Dropbox/I8child1/Data"
>
>> list.files() # give three folders
> [1] "Least Developed Countries"
> [4] "Low middle income grouping"                         "More advanced
>developing countries and territories"
>
>> list.files(path = "../Least Developed Countries") # I want to access now
>> one of the subdirectories
>character(0)
>
>But as you can see R does not want to look into the specified
>subdirectory.
>I have tried several combination and searched the list but without any
>great
>success. 
>
>Actually: 
>
>list.files(path = "../...") #goes up one level in the folder structure so
>I
>cannot see what the problem is.
>
>
>Thanks in advance.
>Adel
>
>
>
>
>--
>View this message in context:
>http://r.789695.n4.nabble.com/list-files-accessing-subdirectory-as-relativ
>e-path-tp4689997.html
>Sent from the R help mailing list archive at Nabble.com.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From ahmedatia80 at gmail.com  Mon May  5 23:04:21 2014
From: ahmedatia80 at gmail.com (Ahmed Attia)
Date: Mon, 5 May 2014 14:04:21 -0700
Subject: [R] Tick marks at the 0:0 point in a plot ()
In-Reply-To: <CAF8bMcYCGswHb5xMF9ua0u-0m5zvBa_DhoD-6wOG=JfJrmiqtw@mail.gmail.com>
References: <CAG6S0OnvvKviXyT9UEY_Y2nS1ACt=KPLL-d7-Wjv_ZDkCFn42w@mail.gmail.com>
	<CAF8bMcYCGswHb5xMF9ua0u-0m5zvBa_DhoD-6wOG=JfJrmiqtw@mail.gmail.com>
Message-ID: <CAG6S0OndifmAzvba-K8gXqHqfaEaQR40p-BRsGY+1GEYFfUQrg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/994b388e/attachment.pl>

From dwinsemius at comcast.net  Mon May  5 23:43:44 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 5 May 2014 14:43:44 -0700
Subject: [R] SQL vs R
In-Reply-To: <5367DC2B.4010407@lisse.NA>
References: <53640CC1.50903@lisse.NA>	<CACk-te3D5m+BT4M30JFGcmqSefSB705KFLypxPV=bH6+bAUsjQ@mail.gmail.com>	<16B4E6021651E2429120372B4205FFDBC615AF@eusaamb103.ericsson.se>
	<CC4CF9FB-2D58-4A88-9839-B926739E9DD5@comcast.net>
	<5367DC2B.4010407@lisse.NA>
Message-ID: <A49C6126-997F-4F03-8626-85164666F906@comcast.net>


On May 5, 2014, at 11:44 AM, Dr Eberhard Lisse wrote:

> I do not wish to prolong this metadiscussion but I remain confused
> by your advice:
> 
> 1) You don't understand what I asked (ie would have to parse two
> simple SQL statements)

Correct ... at least for me. I could have guessed at what that statement might have meant, but why should I need to guess? Why not use a shared naturallanguage rather than restricting your audience to the more limited group that understands both languages?

> 2) The Original Post is understood enough, however, to point me to
> the "Introduction to R" (where I have not found something to help
> me)

That means my guess would have been wrong, since like Jeff Newmiller, I thought a simple call to `table` would have succeeded. (Section 5.10 although the desire for ordering suggested by my guess regarding 

> 
> 3) My name is not Pete.

I'm actually not sure who Pete was. It's a local expression of astonishment directed, not at you, but at Satish. That was a prelude to my effort explain to Satish why the other respondents to the list have not seen fit to be more expansive in their responses. I thought Satish's comment was gratuitous (and likewise unhelpful).

> 
> If you don't want to help me, don't.

Several people are trying to help. You are remaining obdurate in failing to explain what is desired in natural language or posting an example in R code with desired output, as well as in failing to heed multiple other bits of advice in the Posting Guide. The accepted practice in responses is to include any context that might further the conversation. To my mind that would have required that you include the original request:

>>>> How do I do something like this without using sqldf?
>>>> 
>>>> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>>>> 
>>>> or
>>>> 
>>>> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")

How does the earlier suggestion to look at the 'table' function fail to address the first alternative? ( It appears it might satisfy the second one as well.)

-- 
David.


>  Nobody is forcing you to reply.
> 
> el
> 
> On 2014-05-04, 06:56 , David Winsemius wrote:
>> 
>> On May 3, 2014, at 9:10 PM, Satish Anupindi Rao wrote:
>> 
>>> 
>>> " By making the effort to learn R?"?  very constructive and not
>>> condescending at all.  We, lesser beings, are indebted to you,
>>> sir.
>> 
>> For Pete's sake.  The OP didn't even express his original request
>> in natural language or offer a working example.  Those of us who
>> are not regular SQL users would have needed to parse out the SQL
>> code in order to figure out what was intended.  (My guess is that
>> it would have been quite easy to solve if those were what were
>> offered.)  But making the effort to divine the intent didn't seem
>> justified by the level of courtesy offered by the questioner.
>> 
> 

David Winsemius
Alameda, CA, USA


From spencer.graves at structuremonitoring.com  Mon May  5 23:44:22 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 05 May 2014 14:44:22 -0700
Subject: [R] Max characters from deparse(substitute(.))?
Message-ID: <53680636.9080909@structuremonitoring.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140505/d62f3c0d/attachment.pl>

From jim at bitwrit.com.au  Tue May  6 00:02:59 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 06 May 2014 08:02:59 +1000
Subject: [R] Sciplot: Increasing the width of bargraph and decreasing
 the sapce b/n groups
In-Reply-To: <CAN9TEa-+RvLbMpruy=CO9G9T4cGhy8wjmekiWKckFB+FVKsXJA@mail.gmail.com>
References: <CAN9TEa-+RvLbMpruy=CO9G9T4cGhy8wjmekiWKckFB+FVKsXJA@mail.gmail.com>
Message-ID: <53680A93.2080801@bitwrit.com.au>

On 05/06/2014 05:02 AM, Roopa Subbaiaih wrote:
> Hello,
>
> I am trying to plot bargraphs susing Sciplot. Is there a way to increase
> the width of the bar graphs and decrease the space b/n the groups? I am
> pasting the script as well as attaching the graph.
>
> Bio6<- read.csv("Data/Plin1.csv",na.strings="",header=T)
> attach(Bio6)
> head(Bio6)
> par(family="serif", font=11)
> Bio6$Sps<- factor(Bio6$Sps, levels = c("FFA1", "FFA2","FFA3"))
> Bio6$Gp<- factor(Bio6$Gp, levels = c("N-FFA1",
> "FU1","FA1","N-FFA2","FU2","FA2","N-FFA3","FU3","FA3"))
> bargraph.CI(Sps, O.D, group = Gp, data = Bio6,ylab = "Relative expression
> levels", cex.lab = 1.5, y.leg = 6,cex.leg = 0.82,cex=1.5, axisnames=TRUE,
> col = c("red","blue","grey"),space=c(0, 0.5), ylim=c(0,7),cex.names =
> 1.0,density = c(30,30,30), legend = TRUE, main="PLIN1")
> detach(Bio6)
>
>   O.D     Gp  Sps
> 1  1.000000 N-FFA1 FFA1
> 2  2.996432    FU1 FFA1
> 3  3.223413    FU1 FFA1
> 4  3.524465    FU1 FFA1
> 5  1.311971    FA1 FFA1
> 6  6.755860    FA1 FFA1
> 7  1.566000    FA1 FFA1
> 8  1.000000 N-FFA2 FFA2
> 9  2.741612    FU2 FFA2
> 10 2.800644    FU2 FFA2
> 11 3.569509    FU2 FFA2
> 12 4.141500    FA2 FFA2
> 13 7.049476    FA2 FFA2
> 14 4.694674    FA2 FFA2
> 15 1.000000 N-FFA3 FFA3
> 16 4.163601    FU3 FFA3
> 17 3.903986    FU3 FFA3
> 18 4.730000    FU3 FFA3
> 19 0.000000    FA3 FFA3
> 20 0.000000    FA3 FFA3
> 21 0.000000    FA3 FFA3
>
Hi Roopa,
bargraph.CI does something with the "space" argument that I can't quite 
work out. I can get a reasonable plot like this:

Bmeans<-matrix(by(Bio6$O.D,Bio6$Gp],FUN=mean),ncol=3)
barpos<-barplot(Bmeans,beside=TRUE,
  ylim=c(0,7),col=c("red","blue","grey"),space=c(0.1,1),main="PLIN1")
legend(8.5,7.1,
  c("N-FFA1","FU1","FA1","N-FFA2","FU2","FA2","N-FFA3","FU3","FA3"),
  fill=c("red","blue","grey"),bty="n")
library(plotrix)
Bse<-matrix(by(Bio6$O.D,Bio6$Gp,FUN=std.error),ncol=3)
dispersion(barpos,Bmeans,Bse,display.na=FALSE)

Jim


From wdunlap at tibco.com  Tue May  6 00:42:41 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 5 May 2014 15:42:41 -0700
Subject: [R] Max characters from deparse(substitute(.))?
In-Reply-To: <53680636.9080909@structuremonitoring.com>
References: <53680636.9080909@structuremonitoring.com>
Message-ID: <CAF8bMcb5oYp-2KX-kS9XvTPtJmxiRQgnj1a9rxCXOALJbmq9Zg@mail.gmail.com>

Have you looked at the width.cutoff and nlines arguments to deparse?
width.cutoff controls how long a line can be and it quits producing
output (saving time and space) after nlines of output are produced.
You want essentially the following
   f0 <- function(x, maxChar=20) deparse(x, width.cutoff=maxChar, nlines=1)
or, to add the '...' to the end if something was cut off
  f1 <- function(x, maxChar=20) {
      # deparse warns and uses 65 if maxChar<20, so avoid that.
      retval <- deparse(x, width.cutoff=max(20, maxChar+1), nlines=1)
      if (nchar(retval) > maxChar) {
          retval <- paste0(substring(retval, 1, maxChar), "...")
      }
      retval
  }
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Mon, May 5, 2014 at 2:44 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
>        Is there a standard or or a standard utility to limit the size of
> deparse(substitute(.))?
>
>
>        Below please find an example of the problem plus one solution.
> If another solution already exists, I might prefer to use it.
>
>
>        Thanks,
>        Spencer
>
>
> ##
> ## Problem
> ##
> deparse.x0 <- function(x)deparse(substitute(x))
> deparse.a <- do.call(deparse.x0, list(letters))
> nchar(deparse.a) # unacceptable
>
> [1] 62 65  4
>
>
> ##
> ## Better
> ##
> deparse.x <- function(x, maxChar=20){
>    name.x <- deparse(substitute(x))
>    nch.x <- nchar(name.x)
>    name2 <- name.x[nch.x>0]
>    nch2 <- nch.x[nch.x>0]
>    if((length(name2)>1)){
>      name2 <- name2[1]
>    }
>    if(nch2[1]>maxChar){
>      name2 <- paste0(substring(name2, 1, maxChar), '...')
>    }
>    name2
> }
>
> do.call(deparse.x, list(letters)) # better
>
> [1] "c(\"a\", \"b\", \"c\", \"d\"..."
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ggrothendieck at gmail.com  Tue May  6 01:17:14 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 5 May 2014 19:17:14 -0400
Subject: [R] SQL vs R
In-Reply-To: <53640CC1.50903@lisse.NA>
References: <53640CC1.50903@lisse.NA>
Message-ID: <CAP01uRkE0OzXKYfTiLGBih9_QB_m+Ht7OcbfG1A1y-kBojjXog@mail.gmail.com>

On Fri, May 2, 2014 at 5:23 PM, Dr Eberhard Lisse <nospam at lisse.na> wrote:
> Hi,
>
> How do I do something like this without using sqldf?
>
> a <- sqldf("SELECT COUNT(*) FROM b WHERE c = 'd'")
>
> or
>
> e <- sqldf("SELECT f, COUNT(*) FROM b GROUP BY f ORDER BY f")
>

In the examples section at the bottom of ?sqldf are a number of SQL
statements and the corresponding R statements.

-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From spencer.graves at structuremonitoring.com  Tue May  6 02:09:08 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 05 May 2014 17:09:08 -0700
Subject: [R] Max characters from deparse(substitute(.))?
In-Reply-To: <CAF8bMcb5oYp-2KX-kS9XvTPtJmxiRQgnj1a9rxCXOALJbmq9Zg@mail.gmail.com>
References: <53680636.9080909@structuremonitoring.com>
	<CAF8bMcb5oYp-2KX-kS9XvTPtJmxiRQgnj1a9rxCXOALJbmq9Zg@mail.gmail.com>
Message-ID: <53682824.2080709@structuremonitoring.com>

On 5/5/2014 3:42 PM, William Dunlap wrote:
> Have you looked at the width.cutoff and nlines arguments to deparse?
> width.cutoff controls how long a line can be and it quits producing
> output (saving time and space) after nlines of output are produced.
> You want essentially the following
>     f0 <- function(x, maxChar=20) deparse(x, width.cutoff=maxChar, nlines=1)
> or, to add the '...' to the end if something was cut off
>    f1 <- function(x, maxChar=20) {
>        # deparse warns and uses 65 if maxChar<20, so avoid that.
>        retval <- deparse(x, width.cutoff=max(20, maxChar+1), nlines=1)
>        if (nchar(retval) > maxChar) {
>            retval <- paste0(substring(retval, 1, maxChar), "...")
>        }
>        retval
>    }

Hi, Bill:  Thanks very much.  I could have solved it myself if I had 
known which FMTR.  Thanks again.  Spencer

> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Mon, May 5, 2014 at 2:44 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>>         Is there a standard or or a standard utility to limit the size of
>> deparse(substitute(.))?
>>
>>
>>         Below please find an example of the problem plus one solution.
>> If another solution already exists, I might prefer to use it.
>>
>>
>>         Thanks,
>>         Spencer
>>
>>
>> ##
>> ## Problem
>> ##
>> deparse.x0 <- function(x)deparse(substitute(x))
>> deparse.a <- do.call(deparse.x0, list(letters))
>> nchar(deparse.a) # unacceptable
>>
>> [1] 62 65  4
>>
>>
>> ##
>> ## Better
>> ##
>> deparse.x <- function(x, maxChar=20){
>>     name.x <- deparse(substitute(x))
>>     nch.x <- nchar(name.x)
>>     name2 <- name.x[nch.x>0]
>>     nch2 <- nch.x[nch.x>0]
>>     if((length(name2)>1)){
>>       name2 <- name2[1]
>>     }
>>     if(nch2[1]>maxChar){
>>       name2 <- paste0(substring(name2, 1, maxChar), '...')
>>     }
>>     name2
>> }
>>
>> do.call(deparse.x, list(letters)) # better
>>
>> [1] "c(\"a\", \"b\", \"c\", \"d\"..."
>>
>>
>>
>>
>>          [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From ggrothendieck at gmail.com  Tue May  6 03:05:22 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 5 May 2014 21:05:22 -0400
Subject: [R] multiply of two expressions
In-Reply-To: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>
References: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>
Message-ID: <CAP01uRkh7KXq-OZ2Wk=xPv-4aVtoqEr9ha0fwq2aEcdo2JeGJw@mail.gmail.com>

On Mon, May 5, 2014 at 9:43 AM, Niloofar.Javanrouh
<javanrouh_n at yahoo.com> wrote:
>
>
>  hello,
> i want to differentiate of L with respect to b
> when:
>
> L= k*ln (k/(k+mu)) + sum(y) * ln (1-(k/mu+k))   #(negative binomial ln likelihood)
> and
> ln(mu/(mu+k)) = a+bx   #link function
>
> how can i do it in R?

Try this.  First we solve for 'mu' in terms of the other variables
using the link equation:

> library(Ryacas)
> k <- Sym("k")
> mu <- Sym("mu")
> y <- Sym("y")
> L <- Sym("L")
> a <- Sym("a")
> b <- Sym("b")
> x <- Sym("x")
> sumy <- Sym("sumy")
> Solve(log(mu/(mu+k)) == a+b*x, "mu")
expression(list(mu == k * exp(a + b * x)/(1 - exp(a + b * x))))
>

Now in 'k*log(k/(k+mu)) + sumy * log(1-(k/mu+k))' substitute 'k *
exp(a + b * x)/(1 - exp(a + b * x)))' for 'mu' using 'Subst' and take
the derivative with respect to 'a' using 'deriv':

> s <- Subst(k*log(k/(k+mu)) + sumy * log(1-(k/mu+k)), mu,
+       k * exp(a + b * x)/(1 - exp(a + b * x)))
> deriv(s, a)
expression(sumy * (k * ((1 - exp(a + b * x)) * (k * exp(a + b *
    x)) + k * exp(a + b * x)^2))/((1 - exp(a + b * x))^2 * (k *
    exp(a + b * x)/(1 - exp(a + b * x)))^2 * (1 - (k * (1 - exp(a +
    b * x))/(k * exp(a + b * x)) + k))) - k * ((k + k * exp(a +
    b * x)/(1 - exp(a + b * x))) * (k * ((1 - exp(a + b * x)) *
    (k * exp(a + b * x)) + k * exp(a + b * x)^2)))/((1 - exp(a +
    b * x))^2 * ((k + k * exp(a + b * x)/(1 - exp(a + b * x)))^2 *
    k)))


From dwinsemius at comcast.net  Tue May  6 04:16:57 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 5 May 2014 19:16:57 -0700
Subject: [R] multiply of two expressions
In-Reply-To: <CAP01uRkh7KXq-OZ2Wk=xPv-4aVtoqEr9ha0fwq2aEcdo2JeGJw@mail.gmail.com>
References: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>
	<CAP01uRkh7KXq-OZ2Wk=xPv-4aVtoqEr9ha0fwq2aEcdo2JeGJw@mail.gmail.com>
Message-ID: <84D0EB82-1610-4B19-A66F-28F833FBFC97@comcast.net>


On May 5, 2014, at 6:05 PM, Gabor Grothendieck wrote:

> On Mon, May 5, 2014 at 9:43 AM, Niloofar.Javanrouh
> <javanrouh_n at yahoo.com> wrote:
>> 
>> 
>> hello,
>> i want to differentiate of L with respect to b
>> when:
>> 
>> L= k*ln (k/(k+mu)) + sum(y) * ln (1-(k/mu+k))   #(negative binomial ln likelihood)
>> and
>> ln(mu/(mu+k)) = a+bx   #link function
>> 
>> how can i do it in R?
> 
> Try this.  First we solve for 'mu' in terms of the other variables
> using the link equation:
> 
>> library(Ryacas)
>> k <- Sym("k")
>> mu <- Sym("mu")
>> y <- Sym("y")
>> L <- Sym("L")
>> a <- Sym("a")
>> b <- Sym("b")
>> x <- Sym("x")
>> sumy <- Sym("sumy")
>> Solve(log(mu/(mu+k)) == a+b*x, "mu")
> expression(list(mu == k * exp(a + b * x)/(1 - exp(a + b * x))))
>> 
> 
> Now in 'k*log(k/(k+mu)) + sumy * log(1-(k/mu+k))' substitute 'k *
> exp(a + b * x)/(1 - exp(a + b * x)))' for 'mu' using 'Subst' and take
> the derivative with respect to 'a' using 'deriv':
> 
>> s <- Subst(k*log(k/(k+mu)) + sumy * log(1-(k/mu+k)), mu,
> +       k * exp(a + b * x)/(1 - exp(a + b * x)))
>> deriv(s, a)
> expression(sumy * (k * ((1 - exp(a + b * x)) * (k * exp(a + b *
>    x)) + k * exp(a + b * x)^2))/((1 - exp(a + b * x))^2 * (k *
>    exp(a + b * x)/(1 - exp(a + b * x)))^2 * (1 - (k * (1 - exp(a +
>    b * x))/(k * exp(a + b * x)) + k))) - k * ((k + k * exp(a +
>    b * x)/(1 - exp(a + b * x))) * (k * ((1 - exp(a + b * x)) *
>    (k * exp(a + b * x)) + k * exp(a + b * x)^2)))/((1 - exp(a +
>    b * x))^2 * ((k + k * exp(a + b * x)/(1 - exp(a + b * x)))^2 *
>    k)))
> 

But can we maybe get the Taylor series approximation to first or second order?

-- 

David Winsemius
Alameda, CA, USA


From ggrothendieck at gmail.com  Tue May  6 04:56:22 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 5 May 2014 22:56:22 -0400
Subject: [R] multiply of two expressions
In-Reply-To: <84D0EB82-1610-4B19-A66F-28F833FBFC97@comcast.net>
References: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>
	<CAP01uRkh7KXq-OZ2Wk=xPv-4aVtoqEr9ha0fwq2aEcdo2JeGJw@mail.gmail.com>
	<84D0EB82-1610-4B19-A66F-28F833FBFC97@comcast.net>
Message-ID: <CAP01uR=oeAMhjpigQtnhMvyyxVL1urNATp69max00rhzyrKeoA@mail.gmail.com>

On Mon, May 5, 2014 at 10:16 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>
> On May 5, 2014, at 6:05 PM, Gabor Grothendieck wrote:
>
>> On Mon, May 5, 2014 at 9:43 AM, Niloofar.Javanrouh
>> <javanrouh_n at yahoo.com> wrote:
>>>
>>>
>>> hello,
>>> i want to differentiate of L with respect to b
>>> when:
>>>
>>> L= k*ln (k/(k+mu)) + sum(y) * ln (1-(k/mu+k))   #(negative binomial ln likelihood)
>>> and
>>> ln(mu/(mu+k)) = a+bx   #link function
>>>
>>> how can i do it in R?
>>
>> Try this.  First we solve for 'mu' in terms of the other variables
>> using the link equation:
>>
>>> library(Ryacas)
>>> k <- Sym("k")
>>> mu <- Sym("mu")
>>> y <- Sym("y")
>>> L <- Sym("L")
>>> a <- Sym("a")
>>> b <- Sym("b")
>>> x <- Sym("x")
>>> sumy <- Sym("sumy")
>>> Solve(log(mu/(mu+k)) == a+b*x, "mu")
>> expression(list(mu == k * exp(a + b * x)/(1 - exp(a + b * x))))
>>>
>>
>> Now in 'k*log(k/(k+mu)) + sumy * log(1-(k/mu+k))' substitute 'k *
>> exp(a + b * x)/(1 - exp(a + b * x)))' for 'mu' using 'Subst' and take
>> the derivative with respect to 'a' using 'deriv':
>>
>>> s <- Subst(k*log(k/(k+mu)) + sumy * log(1-(k/mu+k)), mu,
>> +       k * exp(a + b * x)/(1 - exp(a + b * x)))
>>> deriv(s, a)
>> expression(sumy * (k * ((1 - exp(a + b * x)) * (k * exp(a + b *
>>    x)) + k * exp(a + b * x)^2))/((1 - exp(a + b * x))^2 * (k *
>>    exp(a + b * x)/(1 - exp(a + b * x)))^2 * (1 - (k * (1 - exp(a +
>>    b * x))/(k * exp(a + b * x)) + k))) - k * ((k + k * exp(a +
>>    b * x)/(1 - exp(a + b * x))) * (k * ((1 - exp(a + b * x)) *
>>    (k * exp(a + b * x)) + k * exp(a + b * x)^2)))/((1 - exp(a +
>>    b * x))^2 * ((k + k * exp(a + b * x)/(1 - exp(a + b * x)))^2 *
>>    k)))
>>
>
> But can we maybe get the Taylor series approximation to first or second order?
>



> Taylor(d, a, 0, 2)
expression(sumy * (k * ((1 - exp(b * x)) * (k * exp(b * x)) +
    k * exp(b * x)^2))/((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k * exp(b *
    x)) + k))) - k * ((k + k * exp(b * x)/(1 - exp(b * x))) *
    (k * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2)))/((1 -
    exp(b * x))^2 * ((k + k * exp(b * x)/(1 - exp(b * x)))^2 *
    k)) + (((1 - exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b *
    x)))^2 * (1 - (k * (1 - exp(b * x))/(k * exp(b * x)) + k)) *
    (sumy * (k * ((1 - exp(b * x)) * (k * exp(b * x)) - k * exp(b *
        x)^2 + k * (2 * exp(b * x)^2)))) - sumy * (k * ((1 -
    exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2)) * ((1 -
    exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b * x)))^2 * (k *
    ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))/((1 -
    exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b * x)))^2) + ((1 -
    exp(b * x))^2 * (k * exp(b * x) * (2 * ((1 - exp(b * x)) *
    (k * exp(b * x)) + k * exp(b * x)^2)))/(1 - exp(b * x))^3 +
    -2 * exp(b * x) * (1 - exp(b * x)) * (k * exp(b * x)/(1 -
        exp(b * x)))^2) * (1 - (k * (1 - exp(b * x))/(k * exp(b *
    x)) + k))))/((1 - exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b *
    x)))^2 * (1 - (k * (1 - exp(b * x))/(k * exp(b * x)) + k)))^2 -
    ((1 - exp(b * x))^2 * ((k + k * exp(b * x)/(1 - exp(b * x)))^2 *
        k) * (k * ((k + k * exp(b * x)/(1 - exp(b * x))) * (k *
        ((1 - exp(b * x)) * (k * exp(b * x)) - k * exp(b * x)^2 +
            k * (2 * exp(b * x)^2))) + k * ((1 - exp(b * x)) *
        (k * exp(b * x)) + k * exp(b * x)^2)^2/(1 - exp(b * x))^2)) -
        k * ((k + k * exp(b * x)/(1 - exp(b * x))) * (k * ((1 -
            exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))) *
            ((1 - exp(b * x))^2 * (k * ((k + k * exp(b * x)/(1 -
                exp(b * x))) * (2 * ((1 - exp(b * x)) * (k *
                exp(b * x)) + k * exp(b * x)^2))))/(1 - exp(b *
                x))^2 + -2 * exp(b * x) * (1 - exp(b * x)) *
                ((k + k * exp(b * x)/(1 - exp(b * x)))^2 * k)))/((1 -
        exp(b * x))^2 * ((k + k * exp(b * x)/(1 - exp(b * x)))^2 *
        k))^2) * a + a^2 * ((((1 - exp(b * x))^2 * (k * exp(b *
    x)/(1 - exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k *
    exp(b * x)) + k)))^2 * ((1 - exp(b * x))^2 * (k * exp(b *
    x)/(1 - exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k *
    exp(b * x)) + k)) * (sumy * (k * ((1 - exp(b * x)) * (k *
    exp(b * x)) - k * exp(b * x)^2 - k * (2 * exp(b * x)^2) +
    k * (4 * exp(b * x)^2)))) + ((1 - exp(b * x))^2 * (k * exp(b *
    x)/(1 - exp(b * x)))^2 * (k * ((1 - exp(b * x)) * (k * exp(b *
    x)) + k * exp(b * x)^2))/((1 - exp(b * x))^2 * (k * exp(b *
    x)/(1 - exp(b * x)))^2) + ((1 - exp(b * x))^2 * (k * exp(b *
    x) * (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b *
    x)^2)))/(1 - exp(b * x))^3 + -2 * exp(b * x) * (1 - exp(b *
    x)) * (k * exp(b * x)/(1 - exp(b * x)))^2) * (1 - (k * (1 -
    exp(b * x))/(k * exp(b * x)) + k))) * (sumy * (k * ((1 -
    exp(b * x)) * (k * exp(b * x)) - k * exp(b * x)^2 + k * (2 *
    exp(b * x)^2)))) - (sumy * (k * ((1 - exp(b * x)) * (k *
    exp(b * x)) + k * exp(b * x)^2)) * (((1 - exp(b * x))^2 *
    (k * exp(b * x)/(1 - exp(b * x)))^2 * ((1 - exp(b * x))^2 *
    (k * exp(b * x)/(1 - exp(b * x)))^2 * (k * ((1 - exp(b *
    x)) * (k * exp(b * x)) - k * exp(b * x)^2 + k * (2 * exp(b *
    x)^2))) + ((1 - exp(b * x))^2 * (k * exp(b * x) * (2 * ((1 -
    exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2)))/(1 -
    exp(b * x))^3 + -2 * exp(b * x) * (1 - exp(b * x)) * (k *
    exp(b * x)/(1 - exp(b * x)))^2) * (k * ((1 - exp(b * x)) *
    (k * exp(b * x)) + k * exp(b * x)^2))) - (1 - exp(b * x))^2 *
    (k * exp(b * x)/(1 - exp(b * x)))^2 * (k * ((1 - exp(b *
    x)) * (k * exp(b * x)) + k * exp(b * x)^2)) * ((1 - exp(b *
    x))^2 * (k * exp(b * x) * (2 * ((1 - exp(b * x)) * (k * exp(b *
    x)) + k * exp(b * x)^2)))/(1 - exp(b * x))^3 + -2 * exp(b *
    x) * (1 - exp(b * x)) * (k * exp(b * x)/(1 - exp(b * x)))^2))/((1 -
    exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b * x)))^2)^2 +
    (((1 - exp(b * x))^2 * (k * exp(b * x) * (2 * ((1 - exp(b *
        x)) * (k * exp(b * x)) + k * exp(b * x)^2)))/(1 - exp(b *
        x))^3 + -2 * exp(b * x) * (1 - exp(b * x)) * (k * exp(b *
        x)/(1 - exp(b * x)))^2) * (k * ((1 - exp(b * x)) * (k *
        exp(b * x)) + k * exp(b * x)^2))/((1 - exp(b * x))^2 *
        (k * exp(b * x)/(1 - exp(b * x)))^2) + (((1 - exp(b *
        x))^3 * ((1 - exp(b * x))^2 * (k * exp(b * x) * (2 *
        ((1 - exp(b * x)) * (k * exp(b * x)) - k * exp(b * x)^2 +
            k * (2 * exp(b * x)^2))) + k * exp(b * x) * (2 *
        ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))) +
        -2 * exp(b * x) * (1 - exp(b * x)) * (k * exp(b * x) *
            (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b *
                x)^2)))) - (1 - exp(b * x))^2 * (k * exp(b *
        x) * (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k *
        exp(b * x)^2))) * (-3 * exp(b * x) * (1 - exp(b * x))^2))/(1 -
        exp(b * x))^6 + (-2 * exp(b * x) * (1 - exp(b * x)) *
        (k * exp(b * x) * (2 * ((1 - exp(b * x)) * (k * exp(b *
            x)) + k * exp(b * x)^2)))/(1 - exp(b * x))^3 + (-2 *
        exp(b * x) * (1 - exp(b * x)) - -2 * exp(b * x)^2) *
        (k * exp(b * x)/(1 - exp(b * x)))^2)) * (1 - (k * (1 -
        exp(b * x))/(k * exp(b * x)) + k)))) + sumy * (k * ((1 -
    exp(b * x)) * (k * exp(b * x)) - k * exp(b * x)^2 + k * (2 *
    exp(b * x)^2))) * ((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2 * (k * ((1 - exp(b * x)) * (k * exp(b * x)) +
    k * exp(b * x)^2))/((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2) + ((1 - exp(b * x))^2 * (k * exp(b * x) *
    (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2)))/(1 -
    exp(b * x))^3 + -2 * exp(b * x) * (1 - exp(b * x)) * (k *
    exp(b * x)/(1 - exp(b * x)))^2) * (1 - (k * (1 - exp(b *
    x))/(k * exp(b * x)) + k))))) - ((1 - exp(b * x))^2 * (k *
    exp(b * x)/(1 - exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k *
    exp(b * x)) + k)) * (sumy * (k * ((1 - exp(b * x)) * (k *
    exp(b * x)) - k * exp(b * x)^2 + k * (2 * exp(b * x)^2)))) -
    sumy * (k * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b *
        x)^2)) * ((1 - exp(b * x))^2 * (k * exp(b * x)/(1 - exp(b *
        x)))^2 * (k * ((1 - exp(b * x)) * (k * exp(b * x)) +
        k * exp(b * x)^2))/((1 - exp(b * x))^2 * (k * exp(b *
        x)/(1 - exp(b * x)))^2) + ((1 - exp(b * x))^2 * (k *
        exp(b * x) * (2 * ((1 - exp(b * x)) * (k * exp(b * x)) +
        k * exp(b * x)^2)))/(1 - exp(b * x))^3 + -2 * exp(b *
        x) * (1 - exp(b * x)) * (k * exp(b * x)/(1 - exp(b *
        x)))^2) * (1 - (k * (1 - exp(b * x))/(k * exp(b * x)) +
        k)))) * (2 * ((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2 * (k * ((1 - exp(b * x)) * (k * exp(b * x)) +
    k * exp(b * x)^2))/((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2) + ((1 - exp(b * x))^2 * (k * exp(b * x) *
    (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2)))/(1 -
    exp(b * x))^3 + -2 * exp(b * x) * (1 - exp(b * x)) * (k *
    exp(b * x)/(1 - exp(b * x)))^2) * (1 - (k * (1 - exp(b *
    x))/(k * exp(b * x)) + k))) * ((1 - exp(b * x))^2 * (k *
    exp(b * x)/(1 - exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k *
    exp(b * x)) + k)))))/((1 - exp(b * x))^2 * (k * exp(b * x)/(1 -
    exp(b * x)))^2 * (1 - (k * (1 - exp(b * x))/(k * exp(b *
    x)) + k)))^4 - (((1 - exp(b * x))^2 * ((k + k * exp(b * x)/(1 -
    exp(b * x)))^2 * k))^2 * ((1 - exp(b * x))^2 * ((k + k *
    exp(b * x)/(1 - exp(b * x)))^2 * k) * (k * ((k + k * exp(b *
    x)/(1 - exp(b * x))) * (k * ((1 - exp(b * x)) * (k * exp(b *
    x)) - k * exp(b * x)^2 - k * (2 * exp(b * x)^2) + k * (4 *
    exp(b * x)^2))) + k * ((1 - exp(b * x)) * (k * exp(b * x)) -
    k * exp(b * x)^2 + k * (2 * exp(b * x)^2)) * ((1 - exp(b *
    x)) * (k * exp(b * x)) + k * exp(b * x)^2)/(1 - exp(b * x))^2 +
    ((1 - exp(b * x))^2 * (k * (2 * ((1 - exp(b * x)) * (k *
        exp(b * x)) - k * exp(b * x)^2 + k * (2 * exp(b * x)^2)) *
        ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))) -
        k * ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b *
            x)^2)^2 * (-2 * exp(b * x) * (1 - exp(b * x))))/(1 -
        exp(b * x))^4)) + ((1 - exp(b * x))^2 * (k * ((k + k *
    exp(b * x)/(1 - exp(b * x))) * (2 * ((1 - exp(b * x)) * (k *
    exp(b * x)) + k * exp(b * x)^2))))/(1 - exp(b * x))^2 + -2 *
    exp(b * x) * (1 - exp(b * x)) * ((k + k * exp(b * x)/(1 -
    exp(b * x)))^2 * k)) * (k * ((k + k * exp(b * x)/(1 - exp(b *
    x))) * (k * ((1 - exp(b * x)) * (k * exp(b * x)) - k * exp(b *
    x)^2 + k * (2 * exp(b * x)^2))) + k * ((1 - exp(b * x)) *
    (k * exp(b * x)) + k * exp(b * x)^2)^2/(1 - exp(b * x))^2)) -
    (k * ((k + k * exp(b * x)/(1 - exp(b * x))) * (k * ((1 -
        exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))) *
        (((1 - exp(b * x))^2 * ((1 - exp(b * x))^2 * (k * ((k +
            k * exp(b * x)/(1 - exp(b * x))) * (2 * ((1 - exp(b *
            x)) * (k * exp(b * x)) - k * exp(b * x)^2 + k * (2 *
            exp(b * x)^2))) + 2 * ((1 - exp(b * x)) * (k * exp(b *
            x)) + k * exp(b * x)^2)^2/(1 - exp(b * x))^2)) +
            -2 * exp(b * x) * (1 - exp(b * x)) * (k * ((k + k *
                exp(b * x)/(1 - exp(b * x))) * (2 * ((1 - exp(b *
                x)) * (k * exp(b * x)) + k * exp(b * x)^2))))) -
            (1 - exp(b * x))^2 * (k * ((k + k * exp(b * x)/(1 -
                exp(b * x))) * (2 * ((1 - exp(b * x)) * (k *
                exp(b * x)) + k * exp(b * x)^2)))) * (-2 * exp(b *
                x) * (1 - exp(b * x))))/(1 - exp(b * x))^4 +
            (-2 * exp(b * x) * (1 - exp(b * x)) * (k * ((k +
                k * exp(b * x)/(1 - exp(b * x))) * (2 * ((1 -
                exp(b * x)) * (k * exp(b * x)) + k * exp(b *
                x)^2))))/(1 - exp(b * x))^2 + (-2 * exp(b * x) *
                (1 - exp(b * x)) - -2 * exp(b * x)^2) * ((k +
                k * exp(b * x)/(1 - exp(b * x)))^2 * k))) + k *
        ((k + k * exp(b * x)/(1 - exp(b * x))) * (k * ((1 - exp(b *
            x)) * (k * exp(b * x)) - k * exp(b * x)^2 + k * (2 *
            exp(b * x)^2))) + k * ((1 - exp(b * x)) * (k * exp(b *
            x)) + k * exp(b * x)^2)^2/(1 - exp(b * x))^2) * ((1 -
        exp(b * x))^2 * (k * ((k + k * exp(b * x)/(1 - exp(b *
        x))) * (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k *
        exp(b * x)^2))))/(1 - exp(b * x))^2 + -2 * exp(b * x) *
        (1 - exp(b * x)) * ((k + k * exp(b * x)/(1 - exp(b *
        x)))^2 * k)))) - ((1 - exp(b * x))^2 * ((k + k * exp(b *
    x)/(1 - exp(b * x)))^2 * k) * (k * ((k + k * exp(b * x)/(1 -
    exp(b * x))) * (k * ((1 - exp(b * x)) * (k * exp(b * x)) -
    k * exp(b * x)^2 + k * (2 * exp(b * x)^2))) + k * ((1 - exp(b *
    x)) * (k * exp(b * x)) + k * exp(b * x)^2)^2/(1 - exp(b *
    x))^2)) - k * ((k + k * exp(b * x)/(1 - exp(b * x))) * (k *
    ((1 - exp(b * x)) * (k * exp(b * x)) + k * exp(b * x)^2))) *
    ((1 - exp(b * x))^2 * (k * ((k + k * exp(b * x)/(1 - exp(b *
        x))) * (2 * ((1 - exp(b * x)) * (k * exp(b * x)) + k *
        exp(b * x)^2))))/(1 - exp(b * x))^2 + -2 * exp(b * x) *
        (1 - exp(b * x)) * ((k + k * exp(b * x)/(1 - exp(b *
        x)))^2 * k))) * (2 * ((1 - exp(b * x))^2 * (k * ((k +
    k * exp(b * x)/(1 - exp(b * x))) * (2 * ((1 - exp(b * x)) *
    (k * exp(b * x)) + k * exp(b * x)^2))))/(1 - exp(b * x))^2 +
    -2 * exp(b * x) * (1 - exp(b * x)) * ((k + k * exp(b * x)/(1 -
        exp(b * x)))^2 * k)) * ((1 - exp(b * x))^2 * ((k + k *
    exp(b * x)/(1 - exp(b * x)))^2 * k))))/((1 - exp(b * x))^2 *
    ((k + k * exp(b * x)/(1 - exp(b * x)))^2 * k))^4)/2)


From rmh at temple.edu  Tue May  6 05:09:51 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Mon, 5 May 2014 23:09:51 -0400
Subject: [R] Problem with products in R ?
In-Reply-To: <CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>
References: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
	<XFMail.20140504175059.Ted.Harding@wlandres.net>
	<CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>
Message-ID: <CAGx1TMDyZwgojOUx2jaU-yvTDJkgkPuB_q5eiiC3zdZTX_gYnQ@mail.gmail.com>

Gabor,

Can you confirm that the bc function is supposed to be current.
The bc package works with my Mac, but not with Windows.
I keep getting the message

Error in system(cmd, input = input, intern = TRUE) : -l

The FAQ on your https://code.google.com/p/r-bc/ page didn't get me past that
problem.  I tried both the download bc.zip from the page and also the cygwin bc.

A secondary issue is that placing your bc.exe into c:/Program
Files/R/R-3.1.0/library/bc/bcdir/bc.exe
gives the message
> one <- bc(1)
Error in system(cmd, input = input, intern = TRUE) :
  'C:/Program' not found

Working around that is possible with
> bc.cmd <- "C:/Progra~1/R/R-3.1.0/library/bc/bcdir/bc.exe -l"
> one <- bc(1, cmd=bc.cmd)
but the next line gives the same problem
> one
Error in system(cmd, input = input, intern = TRUE) :
  'C:/Program' not found

Thanks
Rich


On Sun, May 4, 2014 at 1:10 PM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> Checking this with the bc R package (https://code.google.com/p/r-bc/),
> the Ryacas package (CRAN), the gmp package (CRAN) and the Windows 8.1
> calculator all four give the same result:
>
>> library(bc)
>> bc("168988580159 * 36662978")
> [1] "6195624596620653502"
>
>> library(Ryacas)
>> yacas("168988580159 * 36662978", retclass = "character")
> 6195624596620653502
>
>> library(gmp)
>> as.bigz("168988580159") * as.bigz("36662978")
> Big Integer ('bigz') :
> [1] 6195624596620653502
>
>
> On Sun, May 4, 2014 at 12:50 PM, Ted Harding <Ted.Harding at wlandres.net> wrote:
>> On 04-May-2014 14:13:27 Jorge I Velez wrote:
>>> Try
>>>
>>> options(digits = 22)
>>> 168988580159 * 36662978
>>># [1] 6195624596620653568
>>>
>>> HTH,
>>> Jorge.-
>>
>> Err, not quite ... !
>> I hitch my horses to my plough (with help from R):
>>
>> options(digits=22)
>> 168988580159*8 = 1351908641272 (copy down)
>> 168988580159*7 = 1182920061113  ( " " )
>> 168988580159*9 = 1520897221431  ( " " )
>> 168988580159*2 =  337977160318  ( " " )
>> 168988580159*6 = 1013931480954  ( " " )^3
>> 168988580159*3 =  506965740477  ( " " )
>>
>>          1351908641272
>>         11829200611130
>>        152089722143100
>>        337977160318000
>>      10139314809540000
>>     101393148095400000
>>    1013931480954000000
>>    5069657404770000000
>> ======================
>>    6195624596620653502
>> [after adding up mentally]
>>
>> compared with Jorge's:
>>    6195624596620653568
>>
>> ("02" vs "68" in the final two digits).
>>
>> Alternatively, if using a unixoid system with 'bc' present,
>> one can try interfacing R with 'bc'. 'bc' is an calculating
>> engine which works to arbitrary precision.
>>
>> There certainly used to be a utility in which R can evoke 'bc',
>> into which one can enter a 'bc' command and get the result
>> returned as a string, but I can't seem to find it on CRAN now.
>> In any case, the raw UNIX command line for this calculation
>> with 'bc' (with result) is:
>>
>> $ bc -l
>> [...]
>> 168988580159 * 36662978
>> 6195624596620653502
>> quit
>>
>> which agrees with my horse-drawn working.
>>
>> Best wishes to all,
>> Ted.
>>
>>> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
>>> diegotentor71 at gmail.com> wrote:
>>>
>>>> Trying algorithm for products with large numbers i encountered a difference
>>>> between result of 168988580159 * 36662978 in my algorithm and r product.
>>>> The Microsoft calculator confirm my number.
>>>>
>>>> Thanks.
>>>> --
>>>> *        Gr?fica ARTENTOR          *
>>>>
>>>> de Diego L. Tentor
>>>> Echag?e 558
>>>> Tel.:0343 4310119
>>>> Paran? - Entre R?os
>>
>> -------------------------------------------------
>> E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
>> Date: 04-May-2014  Time: 17:50:54
>> This message was sent by XFMail
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Statistics & Software Consulting
> GKX Group, GKX Associates Inc.
> tel: 1-877-GKX-GROUP
> email: ggrothendieck at gmail.com
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ggrothendieck at gmail.com  Tue May  6 05:42:42 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 5 May 2014 23:42:42 -0400
Subject: [R] Problem with products in R ?
In-Reply-To: <CAGx1TMDyZwgojOUx2jaU-yvTDJkgkPuB_q5eiiC3zdZTX_gYnQ@mail.gmail.com>
References: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
	<XFMail.20140504175059.Ted.Harding@wlandres.net>
	<CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>
	<CAGx1TMDyZwgojOUx2jaU-yvTDJkgkPuB_q5eiiC3zdZTX_gYnQ@mail.gmail.com>
Message-ID: <CAP01uRmot0=e9wVxrEMUs7+7xG1=-MPovh74SdiAe1w5SVgzvg@mail.gmail.com>

1. Firstly your library should be in user space.  Don't use the one in
C:\Program Files\... .  That is the case not only for bc but for other
packages too.  Reinstall R and the first time you install a package it
should ask you to allow it to create a user library.  Be sure you
allow that.

2. As indicated in the FAQ which bc you use  matters.  I am using the
one on the Downloads tab, i.e. here:

    https://code.google.com/p/r-bc/downloads/list

    If you are using a different bc then try this one.

3. Also ensure bc on your path.  From within R: Sys.which("bc") should
find it if its on your path.

4. I usually just source the bc.R file and that seems to work for me.
I just added a NAMESPACE file to the svn repo so that the package will
build and install on more recent versions of R.

This works for me on R 3.1 patched under Windows 8.1:

> source("http://r-bc.googlecode.com/svn/trunk/R/bc.R")
>  one <- bc(1)
> one
[1] "1"

and with the version of the repo that I just updated a few minutes ago
and building and installing bc in a separate session this works too:
> library(bc)
> bc(1)
[1] "1"


On Mon, May 5, 2014 at 11:09 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
> Gabor,
>
> Can you confirm that the bc function is supposed to be current.
> The bc package works with my Mac, but not with Windows.
> I keep getting the message
>
> Error in system(cmd, input = input, intern = TRUE) : -l
>
> The FAQ on your https://code.google.com/p/r-bc/ page didn't get me past that
> problem.  I tried both the download bc.zip from the page and also the cygwin bc.
>
> A secondary issue is that placing your bc.exe into c:/Program
> Files/R/R-3.1.0/library/bc/bcdir/bc.exe
> gives the message
>> one <- bc(1)
> Error in system(cmd, input = input, intern = TRUE) :
>   'C:/Program' not found
>
> Working around that is possible with
>> bc.cmd <- "C:/Progra~1/R/R-3.1.0/library/bc/bcdir/bc.exe -l"
>> one <- bc(1, cmd=bc.cmd)
> but the next line gives the same problem
>> one
> Error in system(cmd, input = input, intern = TRUE) :
>   'C:/Program' not found
>
> Thanks
> Rich
>
>
> On Sun, May 4, 2014 at 1:10 PM, Gabor Grothendieck
> <ggrothendieck at gmail.com> wrote:
>> Checking this with the bc R package (https://code.google.com/p/r-bc/),
>> the Ryacas package (CRAN), the gmp package (CRAN) and the Windows 8.1
>> calculator all four give the same result:
>>
>>> library(bc)
>>> bc("168988580159 * 36662978")
>> [1] "6195624596620653502"
>>
>>> library(Ryacas)
>>> yacas("168988580159 * 36662978", retclass = "character")
>> 6195624596620653502
>>
>>> library(gmp)
>>> as.bigz("168988580159") * as.bigz("36662978")
>> Big Integer ('bigz') :
>> [1] 6195624596620653502
>>
>>
>> On Sun, May 4, 2014 at 12:50 PM, Ted Harding <Ted.Harding at wlandres.net> wrote:
>>> On 04-May-2014 14:13:27 Jorge I Velez wrote:
>>>> Try
>>>>
>>>> options(digits = 22)
>>>> 168988580159 * 36662978
>>>># [1] 6195624596620653568
>>>>
>>>> HTH,
>>>> Jorge.-
>>>
>>> Err, not quite ... !
>>> I hitch my horses to my plough (with help from R):
>>>
>>> options(digits=22)
>>> 168988580159*8 = 1351908641272 (copy down)
>>> 168988580159*7 = 1182920061113  ( " " )
>>> 168988580159*9 = 1520897221431  ( " " )
>>> 168988580159*2 =  337977160318  ( " " )
>>> 168988580159*6 = 1013931480954  ( " " )^3
>>> 168988580159*3 =  506965740477  ( " " )
>>>
>>>          1351908641272
>>>         11829200611130
>>>        152089722143100
>>>        337977160318000
>>>      10139314809540000
>>>     101393148095400000
>>>    1013931480954000000
>>>    5069657404770000000
>>> ======================
>>>    6195624596620653502
>>> [after adding up mentally]
>>>
>>> compared with Jorge's:
>>>    6195624596620653568
>>>
>>> ("02" vs "68" in the final two digits).
>>>
>>> Alternatively, if using a unixoid system with 'bc' present,
>>> one can try interfacing R with 'bc'. 'bc' is an calculating
>>> engine which works to arbitrary precision.
>>>
>>> There certainly used to be a utility in which R can evoke 'bc',
>>> into which one can enter a 'bc' command and get the result
>>> returned as a string, but I can't seem to find it on CRAN now.
>>> In any case, the raw UNIX command line for this calculation
>>> with 'bc' (with result) is:
>>>
>>> $ bc -l
>>> [...]
>>> 168988580159 * 36662978
>>> 6195624596620653502
>>> quit
>>>
>>> which agrees with my horse-drawn working.
>>>
>>> Best wishes to all,
>>> Ted.
>>>
>>>> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
>>>> diegotentor71 at gmail.com> wrote:
>>>>
>>>>> Trying algorithm for products with large numbers i encountered a difference
>>>>> between result of 168988580159 * 36662978 in my algorithm and r product.
>>>>> The Microsoft calculator confirm my number.
>>>>>
>>>>> Thanks.
>>>>> --
>>>>> *        Gr?fica ARTENTOR          *
>>>>>
>>>>> de Diego L. Tentor
>>>>> Echag?e 558
>>>>> Tel.:0343 4310119
>>>>> Paran? - Entre R?os
>>>
>>> -------------------------------------------------
>>> E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
>>> Date: 04-May-2014  Time: 17:50:54
>>> This message was sent by XFMail
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>> --
>> Statistics & Software Consulting
>> GKX Group, GKX Associates Inc.
>> tel: 1-877-GKX-GROUP
>> email: ggrothendieck at gmail.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From frtog at vestas.com  Tue May  6 07:07:55 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Tue, 6 May 2014 07:07:55 +0200
Subject: [R] list.files accessing subdirectory as relative path?
In-Reply-To: <1399318173676-4689997.post@n4.nabble.com>
References: <1399318173676-4689997.post@n4.nabble.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C5FE1835@DKRDSEXC016.vestas.net>

Hi

".." is the parent directory whereas "." is the current directory, so you probably want

list.files(path = "./Least Developed Countries")

instead of

list.files(path = "../Least Developed Countries")

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Adel
> Sent: 5. maj 2014 21:30
> To: r-help at r-project.org
> Subject: [R] list.files accessing subdirectory as relative path?
> 
> Dear list members,
> 
> I would like to access a subdirectory given where the work directory has
> been set. So I have:
> 
> > getwd()
> [1] "C:/Users/Lord Adellus/Dropbox/I8child1/Data"
> 
> > list.files() # give three folders
>  [1] "Least Developed Countries"
>  [4] "Low middle income grouping"                         "More advanced
> developing countries and territories"
> 
> > list.files(path = "../Least Developed Countries") # I want to access now
> > one of the subdirectories
> character(0)
> 
> But as you can see R does not want to look into the specified subdirectory.
> I have tried several combination and searched the list but without any great
> success.
> 
> Actually:
> 
> list.files(path = "../...") #goes up one level in the folder structure so I
> cannot see what the problem is.
> 
> 
> Thanks in advance.
> Adel
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/list-files-
> accessing-subdirectory-as-relative-path-tp4689997.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ashisdeb83 at gmail.com  Tue May  6 07:19:45 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Tue, 6 May 2014 10:49:45 +0530
Subject: [R] Making a package works on any R version
Message-ID: <CAFcJUTqMY5B4G4KYSa5gYBwEb9WgsZaC4Ns=kQLOdjwsk8bSPw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/e79bf1c3/attachment.pl>

From dulcalma at bigpond.com  Tue May  6 07:27:19 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Tue, 6 May 2014 15:27:19 +1000
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages
In-Reply-To: <1399321403011-4690000.post@n4.nabble.com>
References: <1399321403011-4690000.post@n4.nabble.com>
Message-ID: <001601cf68eb$d9fa8170$8def8450$@bigpond.com>

Hi Jim

Without going to the histogram function to study it in detail it appears 
when there is  density used  in the histogram function the data has to be in
the original scale to to send to the panel function.

As you example is not reproducible use the singer data to get the ylimits
for the histogram and density plot separately

For density
d <-
histogram( ~ height | voice.part, data = singer,
          xlab = "Height (inches)", type = "density",
          panel = function(x, ...) {
             # panel.histogram(x, ...)
              panel.abline(v= 70)
              panel.mathdensity(dmath = dnorm, col = "black",
                                args = list(mean=mean(x),sd=sd(x)))
          } )

d$y.limits ...

and the same for the histogram with type = percent

if you divide the last by the former there is a difference of 192 (ie
scaling factor)

Using the full dataset as it is quicker to demonstrate

histogram( ~ height, data = singer,
          type = "percent", border = "transparent", col.line = "grey60",
          xlab = "Height (inches)",
          ylab = "Density Histogram\n with Normal Fit" )

trellis.focus("panel", 1, 1, clip.off=F, highlight = FALSE)
llines(density(singer$height)$x, density(singer$height)$y*192)
trellis.unfocus()

This will give you the idea that it is possible. y axes labels etc are all
funny now

By using a user defined panel function  plotting the histogram and the
density output plotted as panel.lines after scaling within the function you
should be able to get a plot
It may be easier to start off with an xyplot to send the data to the panel
function as you will need 2 types of data as original and that for the
histogram.
Whether you need to use panel.groups is another mater

HTH

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of jimdare
Sent: Tuesday, 6 May 2014 06:23
To: r-help at r-project.org
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages

Hello,

This may seem like a simple problem, but it's frustrating me immensely.  I'm
trying to overlay a normal curve (dnorm) on top of a histogram using the
code below.  This works find when the type = "density", but the person for
whom I'm making the plot wants the y axis in percent of total rather than
density.  When I change type to "percent", I get the histogram scale I'm
after, but the dnorm plot is greatly reduced.  How could I scale the density
plot to the percent of total axis.  Alternatively, perhaps there is a way to
add density to a secondary y axis?

Thanks in advance for your help.

Jimdare


plot<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip =
my.strip,xlab = j,  
   type = "percent",layout=c(2,1),
   panel=function(x, ...) {                            
   panel.histogram(x, ...)

   panel.mathdensity(dmath=dnorm, col="black", 
  # Add na.rm = TRUE to mean() and sd()
    args=list(mean=mean(x, na.rm = TRUE),
    sd=sd(x, na.rm = TRUE)), ...)            
                                        }) 



--
View this message in context:
http://r.789695.n4.nabble.com/Lattice-Histogram-with-Normal-Curve-Y-axis-as-
percentages-tp4690000.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From maechler at stat.math.ethz.ch  Tue May  6 08:58:07 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 6 May 2014 08:58:07 +0200
Subject: [R] Problem with products in R ?
In-Reply-To: <CAP01uRmot0=e9wVxrEMUs7+7xG1=-MPovh74SdiAe1w5SVgzvg@mail.gmail.com>
References: <CAKL8G3FmRrN-TbfzpVj+090sfjgymN-oNEeH5OdTqe2k8nAukQ@mail.gmail.com>
	<XFMail.20140504175059.Ted.Harding@wlandres.net>
	<CAP01uRkDqVNhW7QftTwQtJe-7YWxfKg_ZY+qNE=sP862QqrgSg@mail.gmail.com>
	<CAGx1TMDyZwgojOUx2jaU-yvTDJkgkPuB_q5eiiC3zdZTX_gYnQ@mail.gmail.com>
	<CAP01uRmot0=e9wVxrEMUs7+7xG1=-MPovh74SdiAe1w5SVgzvg@mail.gmail.com>
Message-ID: <21352.34815.927358.668876@stat.math.ethz.ch>

[.....................]

Sorry to prolong this thread,  but I'm a bit astonished.

'bc' has been a really great tool when it was created (1975, at
Bell labs, according to Wikipedia) and made available, open
source, eventually, and I have been fond of it at the time.

On the other hand, we have had the GNU GMP and MPFR C libraries with
state of the art algorithms, in active development, ....
and R packages  'gmp' (for a long time) and 'Rmpfr' for several
years now.

As we are R users as opposed to C programmers (who may be fond
of 'bc' because of its C-like syntax), and of course, as I'm
involved in the maintenance of both R packages 'gmp' and 'Rmpfr',
I wonder why you are not using these which contain considerably
more functionality, notably than the bc interface package.

Martin


    > On Mon, May 5, 2014 at 11:09 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
    >> Gabor,
    >> 
    >> Can you confirm that the bc function is supposed to be current.
    >> The bc package works with my Mac, but not with Windows.
    >> I keep getting the message
    >> 
    >> Error in system(cmd, input = input, intern = TRUE) : -l
    >> 
    >> The FAQ on your https://code.google.com/p/r-bc/ page didn't get me past that
    >> problem.  I tried both the download bc.zip from the page and also the cygwin bc.
    >> 
    >> A secondary issue is that placing your bc.exe into c:/Program
    >> Files/R/R-3.1.0/library/bc/bcdir/bc.exe
    >> gives the message
    >>> one <- bc(1)
    >> Error in system(cmd, input = input, intern = TRUE) :
    >> 'C:/Program' not found
    >> 
    >> Working around that is possible with
    >>> bc.cmd <- "C:/Progra~1/R/R-3.1.0/library/bc/bcdir/bc.exe -l"
    >>> one <- bc(1, cmd=bc.cmd)
    >> but the next line gives the same problem
    >>> one
    >> Error in system(cmd, input = input, intern = TRUE) :
    >> 'C:/Program' not found
    >> 
    >> Thanks
    >> Rich
    >> 
    >> 
    >> On Sun, May 4, 2014 at 1:10 PM, Gabor Grothendieck
    >> <ggrothendieck at gmail.com> wrote:
    >>> Checking this with the bc R package (https://code.google.com/p/r-bc/),
    >>> the Ryacas package (CRAN), the gmp package (CRAN) and the Windows 8.1
    >>> calculator all four give the same result:
    >>> 
    >>>> library(bc)
    >>>> bc("168988580159 * 36662978")
    >>> [1] "6195624596620653502"
    >>> 
    >>>> library(Ryacas)
    >>>> yacas("168988580159 * 36662978", retclass = "character")
    >>> 6195624596620653502
    >>> 
    >>>> library(gmp)
    >>>> as.bigz("168988580159") * as.bigz("36662978")
    >>> Big Integer ('bigz') :
    >>> [1] 6195624596620653502
    >>> 
    >>> 
    >>> On Sun, May 4, 2014 at 12:50 PM, Ted Harding <Ted.Harding at wlandres.net> wrote:
    >>>> On 04-May-2014 14:13:27 Jorge I Velez wrote:
    >>>>> Try
    >>>>> 
    >>>>> options(digits = 22)
    >>>>> 168988580159 * 36662978
    >>>>> # [1] 6195624596620653568
    >>>>> 
    >>>>> HTH,
    >>>>> Jorge.-
    >>>> 
    >>>> Err, not quite ... !
    >>>> I hitch my horses to my plough (with help from R):
    >>>> 
    >>>> options(digits=22)
    >>>> 168988580159*8 = 1351908641272 (copy down)
    >>>> 168988580159*7 = 1182920061113  ( " " )
    >>>> 168988580159*9 = 1520897221431  ( " " )
    >>>> 168988580159*2 =  337977160318  ( " " )
    >>>> 168988580159*6 = 1013931480954  ( " " )^3
    >>>> 168988580159*3 =  506965740477  ( " " )
    >>>> 
    >>>> 1351908641272
    >>>> 11829200611130
    >>>> 152089722143100
    >>>> 337977160318000
    >>>> 10139314809540000
    >>>> 101393148095400000
    >>>> 1013931480954000000
    >>>> 5069657404770000000
    >>>> ======================
    >>>> 6195624596620653502
    >>>> [after adding up mentally]
    >>>> 
    >>>> compared with Jorge's:
    >>>> 6195624596620653568
    >>>> 
    >>>> ("02" vs "68" in the final two digits).
    >>>> 
    >>>> Alternatively, if using a unixoid system with 'bc' present,
    >>>> one can try interfacing R with 'bc'. 'bc' is an calculating
    >>>> engine which works to arbitrary precision.
    >>>> 
    >>>> There certainly used to be a utility in which R can evoke 'bc',
    >>>> into which one can enter a 'bc' command and get the result
    >>>> returned as a string, but I can't seem to find it on CRAN now.
    >>>> In any case, the raw UNIX command line for this calculation
    >>>> with 'bc' (with result) is:
    >>>> 
    >>>> $ bc -l
    >>>> [...]
    >>>> 168988580159 * 36662978
    >>>> 6195624596620653502
    >>>> quit
    >>>> 
    >>>> which agrees with my horse-drawn working.
    >>>> 
    >>>> Best wishes to all,
    >>>> Ted.
    >>>> 
    >>>>> On Sun, May 4, 2014 at 10:44 PM, ARTENTOR Diego Tentor <
    >>>>> diegotentor71 at gmail.com> wrote:
    >>>>> 
>>>>> Trying algorithm for products with large numbers i encountered a difference
>>>>> between result of 168988580159 * 36662978 in my algorithm and r product.
>>>>> The Microsoft calculator confirm my number.
    >>>>>> 
>>>>> Thanks.
>>>>> --
>>>>> *        Gr?fica ARTENTOR          *
    >>>>>> 
>>>>> de Diego L. Tentor
>>>>> Echag?e 558
>>>>> Tel.:0343 4310119
>>>>> Paran? - Entre R?os
    >>>> 
    >>>> -------------------------------------------------
    >>>> E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
    >>>> Date: 04-May-2014  Time: 17:50:54
    >>>> This message was sent by XFMail
    >>>> 
    >>>> ______________________________________________
    >>>> R-help at r-project.org mailing list
    >>>> https://stat.ethz.ch/mailman/listinfo/r-help
    >>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >>>> and provide commented, minimal, self-contained, reproducible code.
    >>> 
    >>> 
    >>> 
    >>> --
    >>> Statistics & Software Consulting
    >>> GKX Group, GKX Associates Inc.
    >>> tel: 1-877-GKX-GROUP
    >>> email: ggrothendieck at gmail.com
    >>> 
    >>> ______________________________________________
    >>> R-help at r-project.org mailing list
    >>> https://stat.ethz.ch/mailman/listinfo/r-help
    >>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    >>> and provide commented, minimal, self-contained, reproducible code.



    > -- 
    > Statistics & Software Consulting
    > GKX Group, GKX Associates Inc.
    > tel: 1-877-GKX-GROUP
    > email: ggrothendieck at gmail.com

    > ______________________________________________
    > R-help at r-project.org mailing list
    > https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
    > and provide commented, minimal, self-contained, reproducible code.


From chan_william at email.com  Tue May  6 06:48:24 2014
From: chan_william at email.com (starcraz)
Date: Mon, 5 May 2014 21:48:24 -0700 (PDT)
Subject: [R] Parsing XML file to data frame
In-Reply-To: <1399051040647-4689883.post@n4.nabble.com>
References: <1399051040647-4689883.post@n4.nabble.com>
Message-ID: <1399351704013-4690021.post@n4.nabble.com>

Tim - the file is a hyperlink at the beginning of the message called
'sample.xml' or here's the hyperlink
http://r.789695.n4.nabble.com/file/n4689883/sample.xml



--
View this message in context: http://r.789695.n4.nabble.com/Parsing-XML-file-to-data-frame-tp4689883p4690021.html
Sent from the R help mailing list archive at Nabble.com.


From pdalgd at gmail.com  Tue May  6 09:20:18 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 6 May 2014 09:20:18 +0200
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages
In-Reply-To: <1399321403011-4690000.post@n4.nabble.com>
References: <1399321403011-4690000.post@n4.nabble.com>
Message-ID: <B54E98B6-8601-42DF-8FE9-99827E41FBB1@gmail.com>

This illustrates why you really do not want percents... (I never quite understand why people do want them - I can understand raw counts wheh used in teaching as a precursor to the concept of a density, but percentages is an odd in-between sort of thing.) 

Anyways, the scaling factor is the bin width (you figure out whether to multiply or divide, I get it wrong every second time), possibly multiplied by 100%. A pragmatic way out would seem to be switch out dnorm with dnorm_scaled <- function(...) scale*dnorm(...) in the call to panel.mathdensity.

-Peter D

On 05 May 2014, at 22:23 , jimdare <james.dare at es.govt.nz> wrote:

> Hello,
> 
> This may seem like a simple problem, but it's frustrating me immensely.  I'm
> trying to overlay a normal curve (dnorm) on top of a histogram using the
> code below.  This works find when the type = "density", but the person for
> whom I'm making the plot wants the y axis in percent of total rather than
> density.  When I change type to "percent", I get the histogram scale I'm
> after, but the dnorm plot is greatly reduced.  How could I scale the density
> plot to the percent of total axis.  Alternatively, perhaps there is a way to
> add density to a secondary y axis?
> 
> Thanks in advance for your help.
> 
> Jimdare
> 
> 
> plot<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip =
> my.strip,xlab = j,  
>   type = "percent",layout=c(2,1),
>   panel=function(x, ...) {                            
>   panel.histogram(x, ...)
> 
>   panel.mathdensity(dmath=dnorm, col="black", 
>  # Add na.rm = TRUE to mean() and sd()
>    args=list(mean=mean(x, na.rm = TRUE),
>    sd=sd(x, na.rm = TRUE)), ...)            
>                                        }) 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Lattice-Histogram-with-Normal-Curve-Y-axis-as-percentages-tp4690000.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From nospam at lisse.na  Tue May  6 10:16:12 2014
From: nospam at lisse.na (Eberhard Lisse)
Date: Tue, 6 May 2014 09:16:12 +0100
Subject: [R] SQL vs R
In-Reply-To: <1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
Message-ID: <53689A4C.9070609@lisse.na>

Thank you.

My requirements are that simple. One table, 11 fields, of which 3 are
interesting, 30 Million records, growing daily by between 300000.

And, yes I have spent an enormous amount of time reading these things,
but for someone not dealing with this professionally and/or on a daily
basis, the documents don't help much.

el


on 2014-05-04, 05:26 Jeff Newmiller said the following:
> ?table
> ?aggregate
> 
> Also, packages plyr, data.table, and dplyr.  You might consider
> reading [1], but if your interests are really as simple as your
> examples then the table function should be sufficient.  That
> function is discussed in the Introduction to R document that you
> really should have read before posting here.
> 
> [1] http://www.jstatsoft.org/v40/i01/
[...]


From jdnewmil at dcn.davis.CA.us  Tue May  6 10:41:23 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 6 May 2014 01:41:23 -0700
Subject: [R] SQL vs R
In-Reply-To: <53689A4C.9070609@lisse.na>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
Message-ID: <08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>

In what format is this "growing" data stored? CSV? SQL? Log textfile? You say you don't want to use sqldf, but you haven't said what you do want to use.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 6, 2014 1:16:12 AM PDT, Eberhard Lisse <nospam at lisse.na> wrote:
>Thank you.
>
>My requirements are that simple. One table, 11 fields, of which 3 are
>interesting, 30 Million records, growing daily by between 300000.
>
>And, yes I have spent an enormous amount of time reading these things,
>but for someone not dealing with this professionally and/or on a daily
>basis, the documents don't help much.
>
>el
>
>
>on 2014-05-04, 05:26 Jeff Newmiller said the following:
>> ?table
>> ?aggregate
>> 
>> Also, packages plyr, data.table, and dplyr.  You might consider
>> reading [1], but if your interests are really as simple as your
>> examples then the table function should be sufficient.  That
>> function is discussed in the Introduction to R document that you
>> really should have read before posting here.
>> 
>> [1] http://www.jstatsoft.org/v40/i01/
>[...]


From babakbsn at gmail.com  Tue May  6 11:07:55 2014
From: babakbsn at gmail.com (Babak Bastan)
Date: Tue, 6 May 2014 09:07:55 +0000
Subject: [R] changing x-axis in plot
Message-ID: <CAF-JZQvjaTWaQK31WrEOvTgtMSKVLpW9oOvZrcdipd5ObeU6uQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/2fbb6cb4/attachment.pl>

From el at lisse.NA  Tue May  6 11:12:50 2014
From: el at lisse.NA (Dr Eberhard Lisse)
Date: Tue, 6 May 2014 10:12:50 +0100
Subject: [R] SQL vs R
In-Reply-To: <08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
Message-ID: <5368A792.4040605@lisse.NA>

Jeff

It's in MySQL, at the moment roughly 1.8 GB, if I pull it into a
dataframe it saves to 180MB. I work from the dataframe.

But, it's not only a size issue it's also a speed issue and hence I
don't care what I am going to use, as long as it is fast.

sqldf is easy to understand for me but it takes ages.  If
alternatives were roughly similar in speed I would remain with
sqldf.

dplyr sounds faster, and promising, but the intrinsic stuff is
way beyond me (elderly Gynaecologist) on the learning curve...

el

on 2014-05-06, 09:41 Jeff Newmiller said the following:
> In what format is this "growing" data stored?  CSV? SQL? Log
> textfile?  You say you don't want to use sqldf, but you haven't
> said what you do want to use.


From cof at qualityexcellence.es  Tue May  6 11:22:49 2014
From: cof at qualityexcellence.es (Carlos Ortega)
Date: Tue, 6 May 2014 11:22:49 +0200
Subject: [R] SQL vs R
In-Reply-To: <5368A792.4040605@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
Message-ID: <CAOKbq8i=OMXtydLHQ4hG=7R0hpucrg8qq09zvu+Ez2i_T1YyKA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/08ed4a47/attachment.pl>

From dmcp at webmail.co.za  Tue May  6 11:37:13 2014
From: dmcp at webmail.co.za (David McPearson)
Date: Tue, 06 May 2014 11:37:13 +0200
Subject: [R] changing x-axis in plot
In-Reply-To: <CAF-JZQvjaTWaQK31WrEOvTgtMSKVLpW9oOvZrcdipd5ObeU6uQ@mail.gmail.com>
References: <CAF-JZQvjaTWaQK31WrEOvTgtMSKVLpW9oOvZrcdipd5ObeU6uQ@mail.gmail.com>
Message-ID: <f11bb5840a940befd4d633f0fed9f5aa@www.webmail.co.za>

On Tue, 6 May 2014 09:07:55 +0000 Babak Bastan <babakbsn at gmail.com> wrote

> Hi experts
> 
> I woul like to change my x-axis. Like this: 10,...,2,...,1
> 
> I am using this code:
> 
> r<-c(1:10)
> plot(r, axes=FALSE, frame.plot=TRUE,xlim=c(10,1))
> axis(1,at=10/seq(1:10))
> axis(2, at=axTicks(2), axTicks(2))
> 
> but my x-sxis i still: 1,..., 2,...,10
> 
> What should I do?
> 
>     [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

at and R prompt:
?axis
# read the help page - especially in relation to labels

..
plot(...)
axis(1,at=10/seq(1:10), labels = 10:1)
..



____________________________________________________________
South Africas premier free email service - www.webmail.co.za 

Cheapest Insurance Quotes!
https://www.outsurance.co.za/insurance-quote/personal/?source=msn&cr=Postit14_468x60_gif&cid=322


From jim at bitwrit.com.au  Tue May  6 11:35:59 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 06 May 2014 19:35:59 +1000
Subject: [R] changing x-axis in plot
In-Reply-To: <CAF-JZQvjaTWaQK31WrEOvTgtMSKVLpW9oOvZrcdipd5ObeU6uQ@mail.gmail.com>
References: <CAF-JZQvjaTWaQK31WrEOvTgtMSKVLpW9oOvZrcdipd5ObeU6uQ@mail.gmail.com>
Message-ID: <5368ACFF.1090408@bitwrit.com.au>

On 05/06/2014 07:07 PM, Babak Bastan wrote:
> Hi experts
>
> I woul like to change my x-axis. Like this: 10,...,2,...,1
>
> I am using this code:
>
> r<-c(1:10)
> plot(r, axes=FALSE, frame.plot=TRUE,xlim=c(10,1))
> axis(1,at=10/seq(1:10))
> axis(2, at=axTicks(2), axTicks(2))
>
> but my x-sxis i still: 1,..., 2,...,10
>
Hi Babak,
I get x axis ticks at 10, 5, 3.33333, ... with the above code, which is 
expected. I think you want something like:

plot(1:10,axes=FALSE,frame.plot=TRUE)
axis(1,at=1:10,labels=10/seq(1:10))

What you have done is interesting. By specifying xlim=c(10,1) you have 
reversed the order of whatever labels you pass to the "axis" function.

Jim


From dmcp at webmail.co.za  Tue May  6 11:55:23 2014
From: dmcp at webmail.co.za (David McPearson)
Date: Tue, 6 May 2014 11:55:23 +0200
Subject: [R] SQL vs R
In-Reply-To: <5368A792.4040605@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>,
	<5368A792.4040605@lisse.NA>
Message-ID: <7ba9534bc77e6cca76a17f3403191604@www.webmail.co.za>

On Tue, 6 May 2014 10:12:50 +0100 Dr Eberhard Lisse <el at lisse.NA> wrote

> Jeff
> 
> It's in MySQL, at the moment roughly 1.8 GB, if I pull it into a
> dataframe it saves to 180MB. I work from the dataframe.
> 
> But, it's not only a size issue it's also a speed issue and hence I
> don't care what I am going to use, as long as it is fast.
> 
> sqldf is easy to understand for me but it takes ages.  If
> alternatives were roughly similar in speed I would remain with
> sqldf.
> 
> dplyr sounds faster, and promising, but the intrinsic stuff is
> way beyond me (elderly Gynaecologist) on the learning curve...
> 
> el
> 
> on 2014-05-06, 09:41 Jeff Newmiller said the following:
> > In what format is this "growing" data stored?  CSV? SQL? Log
> > textfile?  You say you don't want to use sqldf, but you haven't
> > said what you do want to use.
> 


It seems like you are trying to extract a (relatively) small data set from a
much larger SQL databaseWhy not do the SQL stiff in the database and the
analysis *statsm graphics...) in R? Maybe use a make table query to grab the
data of interest, and then import the whole table into R for the analysis?
(Disclaimer: my ignorance of SQL is not far off total)

HTH
D.

____________________________________________________________
South Africas premier free email service - www.webmail.co.za 

Cheapest Insurance Quotes!
https://www.outsurance.co.za/insurance-quote/personal/?source=msn&cr=Postit14_468x60_gif&cid=322


From el at lisse.NA  Tue May  6 11:59:26 2014
From: el at lisse.NA (Dr Eberhard Lisse)
Date: Tue, 6 May 2014 10:59:26 +0100
Subject: [R] SQL vs R
In-Reply-To: <7ba9534bc77e6cca76a17f3403191604@www.webmail.co.za>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>,
	<5368A792.4040605@lisse.NA>
	<7ba9534bc77e6cca76a17f3403191604@www.webmail.co.za>
Message-ID: <5368B27E.2050300@lisse.NA>

David,

this is quite slow :-)-O

el

on 2014-05-06, 10:55 David McPearson said the following:
[...]
> It seems like you are trying to extract a (relatively) small data set from a
> much larger SQL databaseWhy not do the SQL stiff in the database and the
> analysis *statsm graphics...) in R? Maybe use a make table query to grab the
> data of interest, and then import the whole table into R for the analysis?
> (Disclaimer: my ignorance of SQL is not far off total)
> 
> HTH
> D.
[...]
-- 
Dr. Eberhard W. Lisse  \        / Obstetrician & Gynaecologist (Saar)
el at lisse.NA            / *     |   Telephone: +264 81 124 6733 (cell)
PO Box 8421             \     /
Bachbrecht, Namibia     ;____/


From murdoch.duncan at gmail.com  Tue May  6 12:42:42 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 06 May 2014 06:42:42 -0400
Subject: [R] Making a package works on any R version
In-Reply-To: <CAFcJUTqMY5B4G4KYSa5gYBwEb9WgsZaC4Ns=kQLOdjwsk8bSPw@mail.gmail.com>
References: <CAFcJUTqMY5B4G4KYSa5gYBwEb9WgsZaC4Ns=kQLOdjwsk8bSPw@mail.gmail.com>
Message-ID: <5368BCA2.9040203@gmail.com>

On 06/05/2014, 1:19 AM, Ashis Deb wrote:
> Hi all   I  had made a package  in  R-3.0.3  , and its running  well   ,
> my  issue is  it  is  not running in  other versions   or  R   like
> R-3.0.2/3.0.1  it is  showing error  like  ---
>
>
> Error: This is R 3.0.2, package ???xxx??? needs >= 3.0.3

The only reason you should get that message is because you coded in the 
DESCRIPTION file that your package depends on R (>= 3.0.3).  If you 
don't want that dependency, don't code it.

Duncan Murdoch
>
>
>
> Does anybody  have  the solution  on  how  to  make this  package  run  on
> any  versions  .
>
> i  know its   not  a  big problem  ,  please forgive my  ignorance   if it
> sounds  silly .
>
>
> Thanks ,
>
> ASHIS
>
> 	[[alternative HTML version deleted]]
>
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ggrothendieck at gmail.com  Tue May  6 13:00:02 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 6 May 2014 07:00:02 -0400
Subject: [R] SQL vs R
In-Reply-To: <5368A792.4040605@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
Message-ID: <CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>

On Tue, May 6, 2014 at 5:12 AM, Dr Eberhard Lisse <el at lisse.na> wrote:
> Jeff
>
> It's in MySQL, at the moment roughly 1.8 GB, if I pull it into a
> dataframe it saves to 180MB. I work from the dataframe.
>
> But, it's not only a size issue it's also a speed issue and hence I
> don't care what I am going to use, as long as it is fast.
>
> sqldf is easy to understand for me but it takes ages.  If
> alternatives were roughly similar in speed I would remain with
> sqldf.
>
> dplyr sounds faster, and promising, but the intrinsic stuff is
> way beyond me (elderly Gynaecologist) on the learning curve...

You can create indices in sqldf and that can speed up processing
substantially for certain operations.   See examples 4h and 4i on the
sqldf home page: http://sqldf.googlecode.com. Also note that sqldf
supports not only the default SQLite backend but also MySQL, h2 and
postgresql.  See ?sqldf for info on using sqldf with MySQL and the
others.


From el at lisse.NA  Tue May  6 13:08:14 2014
From: el at lisse.NA (Dr Eberhard Lisse)
Date: Tue, 6 May 2014 12:08:14 +0100
Subject: [R] SQL vs R
In-Reply-To: <CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
Message-ID: <5368C29E.6030204@lisse.NA>

Thanks,

tried all of that, too slow.

el

on 2014-05-06, 12:00 Gabor Grothendieck said the following:
> On Tue, May 6, 2014 at 5:12 AM, Dr Eberhard Lisse <el at lisse.na> wrote:
>> Jeff
>>
>> It's in MySQL, at the moment roughly 1.8 GB, if I pull it into a
>> dataframe it saves to 180MB. I work from the dataframe.
>>
>> But, it's not only a size issue it's also a speed issue and hence
>> I don't care what I am going to use, as long as it is fast.
>>
>> sqldf is easy to understand for me but it takes ages.  If
>> alternatives were roughly similar in speed I would remain with
>> sqldf.
>>
>> dplyr sounds faster, and promising, but the intrinsic stuff is
>> way beyond me (elderly Gynaecologist) on the learning curve...
> 
> You can create indices in sqldf and that can speed up processing
> substantially for certain operations.  See examples 4h and 4i on
> the sqldf home page: http://sqldf.googlecode.com.  Also note that
> sqldf supports not only the default SQLite backend but also MySQL,
> h2 and postgresql.  See ?sqldf for info on using sqldf with MySQL
> and the others.
> 

-- 
Dr. Eberhard W. Lisse  \        / Obstetrician & Gynaecologist (Saar)
el at lisse.NA            / *     |   Telephone: +264 81 124 6733 (cell)
PO Box 8421             \     /
Bachbrecht, Namibia     ;____/


From wolfgang.viechtbauer at maastrichtuniversity.nl  Tue May  6 15:23:35 2014
From: wolfgang.viechtbauer at maastrichtuniversity.nl (Viechtbauer Wolfgang (STAT))
Date: Tue, 6 May 2014 15:23:35 +0200
Subject: [R] Metafor: How to integrate effectsizes?
In-Reply-To: <CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>
References: <CAMuCtg627YQ-mArR1RWWM-xm6M5BV0j4WatLFq=3iSLnq3AhwQ@mail.gmail.com>
	<CAMuCtg7ypqrSqBboJBa-YSO28+9Hdw2W7U-WVchKUSfXuBQCvw@mail.gmail.com>
	<Zen-1WdeCc-0007OW-6m@smarthost01b.mail.zen.net.uk>
	<CAMuCtg7Xsvypi48xjAPGePZsTKOf7dz4Y2w1Px1OCf7p7FNKDg@mail.gmail.com>
	<Zen-1Wdh1f-000AIS-Ux@smarthost01c.mail.zen.net.uk>
	<077E31A57DA26E46AB0D493C9966AC730DAA4F3A14@UM-MAIL4112.unimaas.nl>
	<Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
	<CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>
Message-ID: <077E31A57DA26E46AB0D493C9966AC730DAA8436C1@UM-MAIL4112.unimaas.nl>

Without the sample size of a study (i.e., either the group sizes or the total sample size), you cannot convert the p-value to a t-value or a t-value to a d-value. And for studies where you have the d-value but no sample size, you cannot compute the corresponding sampling variance. So, without additional information, you cannot include these studies. Maybe studies where a d-value is directly reported also report a CI for the d-value? Then the sampling variance can be back-calculated (since a 95% CI for d is typically computed with d +- 1.96 sqrt(vi), where vi is the sampling variance).

Best,
Wolfgang

> -----Original Message-----
> From: Verena Weinbir [mailto:vweinbir at gmail.com]
> Sent: Tuesday, May 06, 2014 15:09
> To: Michael Dewey
> Cc: Viechtbauer Wolfgang (STAT); r-help at r-project.org
> Subject: Re: [R] Metafor: How to integrate effectsizes?
> 
> Thank you very much for your illustration, Wolfgang! It helped me a
> lot.? And also thank you for the package-hint, Michael!
> 
> Now, I have re-checked the respective studies, and there still are a
> couple of studies left, only stating cohens d, and the respective t-value
> and p-value - sample and group sizes are not addressed (its data from an
> older meta-analysis). Is there a way to embed these studies in my sample?
> Wolfgangs illustration addresses only cases in which group sizes are
> stated, if I understand you correctly...
> 
> Many thanks in advance,
> 
> Verena
> 
> On Sat, Apr 26, 2014 at 1:38 PM, Michael Dewey <info at aghmed.fsnet.co.uk>
> wrote:
> At 20:34 25/04/2014, Viechtbauer Wolfgang (STAT) wrote:
> If you know the d-value and the corresponding group sizes for a study,
> then it's possible to add that study to the rest of the dataset. Also, if
> you only know the test statistic from an independent samples t-test (or
> only the p-value corresponding to that test), it's possible to back-
> compute what the standardized mean difference is.
> 
> I added an illustration of this to the metafor package website:
> 
> http://www.metafor-project.org/doku.php/tips:assembling_data_smd
> 
> Verena might also like to look at the compute.es package available from
> CRAN to see whether any of the conversions programmed there do the job.
> 
> 
> Best,
> Wolfgang
> 
> --
> Wolfgang Viechtbauer, Ph.D., Statistician
> Department of Psychiatry and Psychology
> School for Mental Health and Neuroscience
> Faculty of Health, Medicine, and Life Sciences
> Maastricht University, P.O. Box 616 (VIJV1)
> 6200 MD Maastricht, The Netherlands
> +31 (43) 388-4170?| http://www.wvbauer.com
> 
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org]
> > On Behalf Of Michael Dewey
> > Sent: Friday, April 25, 2014 16:23
> > To: Verena Weinbir
> > Cc: r-help at r-project.org
> > Subject: Re: [R] Metafor: How to integrate effectsizes?
> >
> > At 12:33 25/04/2014, you wrote:
> > >Thank you very much for your reply and the book recommendation,
> Michael.
> > >
> > >Yes, I mean Cohen's d - sorry for the typo :-)
> > >
> > >Just to make this sure for me: There is no
> > >possibility to integrate stated Cohens' ds in an
> > >R-Metaanalysis (or a MA at all), if there is no
> > >further information traceable regarding SE or the like?
> >
> > If there is really no other information like
> > sample sizes, significance level, value of some
> > significance test then you would have to impute a
> > value from somewhere. That would seem a last resort.
> >
> > I have cc'ed this back to the list, please keep
> > it on the list so others may benefit and contribute.
> >
> >
> > >best regards,
> > >
> > >Verena
> > >
> > >
> > >On Fri, Apr 25, 2014 at 1:21 PM, Michael Dewey
> > ><<mailto:info at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk> wrote:
> > >At 13:15 24/04/2014, Verena Weinbir wrote:
> > >Hello!
> > >
> > >I am using the metafor package for my master's thesis as an R-newbie.
> > While
> > >calculating effectsizes from my dataset (mean values and
> > >standarddeviations) using "escalc" shouldn't be a problem (I hope ;-
> )),
> > I
> > >wonder how I could at this point integrate additional studies, which
> > only
> > >state conhens d (no information about mean value and sds available),
> to
> > >calculate an overall analysis. ? I would be very grateful for your
> > support!
> > >
> > >
> > >You mean Cohen's d I think.
> > >
> > >You will need some more information to enable
> > >you to calculate its standard error. Have a look at Rosenthal's
> chapter
> > in
> > >@book{cooper94,
> > >? ?? author = {Cooper, H and Hedges, L V},
> > >? ?? title = {A handbook of research synthesis},
> > >? ?? year = {1994},
> > >? ?? publisher = {Russell Sage},
> > >? ?? address = {New York},
> > >? ?? keywords = {meta-analysis}
> > >}
> > >(There is an updated edition)
> > >This gives you more information about converting
> > >effect sizes and extracting them from unpromising beginnings.
> > >
> > >It often requires some ingenuity to get the
> > >information you need so have a go and then get
> > >back here with more details if you run into problems
> > >
> > >
> > >Best regards,
> > >
> > >Verena

From drf at vims.edu  Tue May  6 16:21:59 2014
From: drf at vims.edu (David R Forrest)
Date: Tue, 6 May 2014 14:21:59 +0000
Subject: [R] SQL vs R
In-Reply-To: <5368C29E.6030204@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
	<5368C29E.6030204@lisse.NA>
Message-ID: <E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>

It sounds as if your underlying MySQL database is too slow for your purposes.  Whatever you layer on top of it will be constrained by the underlying database.  To speed up the process significantly, you may need to do work on the database backend part of the process.

Dave


On May 6, 2014, at 7:08 AM, Dr Eberhard Lisse <el at lisse.NA> wrote:

> Thanks,
> 
> tried all of that, too slow.
> 
> el
> 
> on 2014-05-06, 12:00 Gabor Grothendieck said the following:
>> On Tue, May 6, 2014 at 5:12 AM, Dr Eberhard Lisse <el at lisse.na> wrote:
>>> Jeff
>>> 
>>> It's in MySQL, at the moment roughly 1.8 GB, if I pull it into a
>>> dataframe it saves to 180MB. I work from the dataframe.
>>> 
>>> But, it's not only a size issue it's also a speed issue and hence
>>> I don't care what I am going to use, as long as it is fast.
>>> 
>>> sqldf is easy to understand for me but it takes ages.  If
>>> alternatives were roughly similar in speed I would remain with
>>> sqldf.
>>> 
>>> dplyr sounds faster, and promising, but the intrinsic stuff is
>>> way beyond me (elderly Gynaecologist) on the learning curve...
>> 
>> You can create indices in sqldf and that can speed up processing
>> substantially for certain operations.  See examples 4h and 4i on
>> the sqldf home page: http://sqldf.googlecode.com.  Also note that
>> sqldf supports not only the default SQLite backend but also MySQL,
>> h2 and postgresql.  See ?sqldf for info on using sqldf with MySQL
>> and the others.
>> 
> 
> -- 
> Dr. Eberhard W. Lisse  \        / Obstetrician & Gynaecologist (Saar)
> el at lisse.NA            / *     |   Telephone: +264 81 124 6733 (cell)
> PO Box 8421             \     /
> Bachbrecht, Namibia     ;____/
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

--
Dr. David Forrest
drf at vims.edu
804-684-7900w
757-968-5509h
804-413-7125c
#240 Andrews Hall
Virginia Institute of Marine Science
Route 1208, Greate Road
PO Box 1346
Gloucester Point, VA, 23062-1346










-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/e7f5372a/attachment.bin>

From el at lisse.NA  Tue May  6 16:32:23 2014
From: el at lisse.NA (Dr Eberhard Lisse)
Date: Tue, 6 May 2014 15:32:23 +0100
Subject: [R] SQL vs R
In-Reply-To: <E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
	<5368C29E.6030204@lisse.NA>
	<E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
Message-ID: <5368F277.1070809@lisse.NA>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Exactly,

which is why I am looking for something faster :-)-O

el

on 2014-05-06, 15:21 David R Forrest said the following:
> It sounds as if your underlying MySQL database is too slow for your
> purposes.  Whatever you layer on top of it will be constrained by
> the underlying database.  To speed up the process significantly,
> you may need to do work on the database backend part of the
> process.
> 
> Dave
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQCVAwUBU2jyd1sF2hmmSQy5AQJVPQP+MnrEkXLY9PK+N2CB+maySkRKhEXcWTUA
KNOQnTDaYl3wnRZKg8y1wiZbLFA8tWsKpXPv91phDZ2000MTbv7SbnpBXthSzbAn
clEOniQqRcXci1Q2Qjd+mH0YxyA6XpNvBnBIlbxPsQbObwjK+dKl7/cna1oZKUhW
6aytsFtPZTI=
=zepY
-----END PGP SIGNATURE-----


From peter.crowther at melandra.com  Tue May  6 16:40:17 2014
From: peter.crowther at melandra.com (Peter Crowther)
Date: Tue, 6 May 2014 15:40:17 +0100
Subject: [R] SQL vs R
In-Reply-To: <5368F277.1070809@lisse.NA>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
	<5368C29E.6030204@lisse.NA>
	<E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
	<5368F277.1070809@lisse.NA>
Message-ID: <CALhdq6uMELiGNZ7-Cbb8FxTGPrwjNTifgNo=3QaPdUEyOR+z5A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/26619827/attachment.pl>

From adel.daoud at sociology.gu.se  Tue May  6 14:29:20 2014
From: adel.daoud at sociology.gu.se (Adel)
Date: Tue, 6 May 2014 05:29:20 -0700 (PDT)
Subject: [R] list.files accessing subdirectory as relative path?
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C5FE1835@DKRDSEXC016.vestas.net>
References: <1399318173676-4689997.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C5FE1835@DKRDSEXC016.vestas.net>
Message-ID: <1399379360817-4690048.post@n4.nabble.com>

Thanks for the reply Don and Frede,

Your suggestions works perfectly!

Best
Adel




--
View this message in context: http://r.789695.n4.nabble.com/list-files-accessing-subdirectory-as-relative-path-tp4689997p4690048.html
Sent from the R help mailing list archive at Nabble.com.


From shiyuankun.read at gmail.com  Tue May  6 14:29:16 2014
From: shiyuankun.read at gmail.com (Yuankuns Shi)
Date: Tue, 6 May 2014 05:29:16 -0700 (PDT)
Subject: [R] Problem with products in R ?
In-Reply-To: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
References: <CAJ+kNYFvNUzxv5wmMgQTrjc2CuU1bPbVSFBsgBKEOSTSy3J0mw@mail.gmail.com>
Message-ID: <dd080751-efee-49b0-81a4-0a2a426afcf1@googlegroups.com>

In R, all number (integer float double precision) is treated as double 
precision. Therefore, it has only 16 significant figures. To achieve higher 
precision, you have to use program support long integer

? 2014?5?4????UTC+8??8?44?04??ARTENTOR Diego Tentor???
>
> Trying algorithm for products with large numbers i encountered a 
> difference 
> between result of 168988580159 * 36662978 in my algorithm and r product. 
> The Microsoft calculator confirm my number. 
>
> Thanks. 
>
>
>
>
> -- 
>
>
> *        Gr?fica ARTENTOR          * 
>
> de Diego L. Tentor 
> Echag?e 558 
> Tel.:0343 4310119 
> Paran? - Entre R?os 
>

From rss115 at case.edu  Tue May  6 14:37:50 2014
From: rss115 at case.edu (Roopa Subbaiaih)
Date: Tue, 6 May 2014 08:37:50 -0400
Subject: [R] Sciplot: Increasing the width of bargraph and decreasing
 the sapce b/n groups
In-Reply-To: <53680A93.2080801@bitwrit.com.au>
References: <CAN9TEa-+RvLbMpruy=CO9G9T4cGhy8wjmekiWKckFB+FVKsXJA@mail.gmail.com>
	<53680A93.2080801@bitwrit.com.au>
Message-ID: <CAN9TEa-mGxXHMYDWOD48FFpMF+1nzgdDQbivE+aHxq0_qr-0cA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/a841043e/attachment.pl>

From vweinbir at gmail.com  Tue May  6 15:09:27 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Tue, 6 May 2014 15:09:27 +0200
Subject: [R] Metafor: How to integrate effectsizes?
In-Reply-To: <Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
References: <CAMuCtg627YQ-mArR1RWWM-xm6M5BV0j4WatLFq=3iSLnq3AhwQ@mail.gmail.com>
	<CAMuCtg7ypqrSqBboJBa-YSO28+9Hdw2W7U-WVchKUSfXuBQCvw@mail.gmail.com>
	<Zen-1WdeCc-0007OW-6m@smarthost01b.mail.zen.net.uk>
	<CAMuCtg7Xsvypi48xjAPGePZsTKOf7dz4Y2w1Px1OCf7p7FNKDg@mail.gmail.com>
	<Zen-1Wdh1f-000AIS-Ux@smarthost01c.mail.zen.net.uk>
	<077E31A57DA26E46AB0D493C9966AC730DAA4F3A14@UM-MAIL4112.unimaas.nl>
	<Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
Message-ID: <CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/81d83f7d/attachment.pl>

From gunter.berton at gene.com  Tue May  6 17:23:26 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Tue, 6 May 2014 08:23:26 -0700
Subject: [R] SQL vs R
In-Reply-To: <CALhdq6uMELiGNZ7-Cbb8FxTGPrwjNTifgNo=3QaPdUEyOR+z5A@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
	<5368C29E.6030204@lisse.NA>
	<E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
	<5368F277.1070809@lisse.NA>
	<CALhdq6uMELiGNZ7-Cbb8FxTGPrwjNTifgNo=3QaPdUEyOR+z5A@mail.gmail.com>
Message-ID: <CACk-te0Wi7aWcpF87Ns7iCwkZvQ2RfqqZAHnU1CvN7d4HH6wTQ@mail.gmail.com>

I believe this discussion should be taken offlist as it no longer
seems to be concerned with R.

-- Bert Gunter

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Tue, May 6, 2014 at 7:40 AM, Peter Crowther
<peter.crowther at melandra.com> wrote:
> The dataset is not large by database standards.  Even in mySQL - not known
> for its speed at multi-row querying - the queries you describe should
> complete within a few seconds on even moderately recent hardware if your
> indexes are reasonable.
>
> What are your performance criteria for processing these queries, and how
> have you / your team optimised the relational database storage?
>
> Cheers,
>
> - Peter
> --
> Peter Crowther, Director, Melandra Limited
>
>
> On 6 May 2014 15:32, Dr Eberhard Lisse <el at lisse.na> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Exactly,
>>
>> which is why I am looking for something faster :-)-O
>>
>> el
>>
>> on 2014-05-06, 15:21 David R Forrest said the following:
>> > It sounds as if your underlying MySQL database is too slow for your
>> > purposes.  Whatever you layer on top of it will be constrained by
>> > the underlying database.  To speed up the process significantly,
>> > you may need to do work on the database backend part of the
>> > process.
>> >
>> > Dave
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v1.4.12 (Darwin)
>> Comment: GPGTools - http://gpgtools.org
>> Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/
>>
>> iQCVAwUBU2jyd1sF2hmmSQy5AQJVPQP+MnrEkXLY9PK+N2CB+maySkRKhEXcWTUA
>> KNOQnTDaYl3wnRZKg8y1wiZbLFA8tWsKpXPv91phDZ2000MTbv7SbnpBXthSzbAn
>> clEOniQqRcXci1Q2Qjd+mH0YxyA6XpNvBnBIlbxPsQbObwjK+dKl7/cna1oZKUhW
>> 6aytsFtPZTI=
>> =zepY
>> -----END PGP SIGNATURE-----
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Tue May  6 17:36:12 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 6 May 2014 08:36:12 -0700
Subject: [R] Parsing XML file to data frame
In-Reply-To: <CA+=OU3VnE44f2r3AX5dRiwZnbONXooWRLoMONC0uP-F75F0PzA@mail.gmail.com>
References: <1399051040647-4689883.post@n4.nabble.com>
	<CA+=OU3VnE44f2r3AX5dRiwZnbONXooWRLoMONC0uP-F75F0PzA@mail.gmail.com>
Message-ID: <C8761DD3-FD0B-4B01-99DA-EBAEA9BE186B@comcast.net>


On May 5, 2014, at 11:42 AM, Timothy W. Cook wrote:

> I didn't find an attached XML file. Maybe the list removes attachments?

The list does not remove all attachments, It removes ones that are not among the listed acceptable formats. XML is not among the list of acceptable formats. If it had been submitted as a MIME-text file it would have been accepted.

-- 
David.

> You might try posting to StackOverflow.com if this is the case.
> 
> 
> 
> 
> On Fri, May 2, 2014 at 2:17 PM, starcraz <chan_william at email.com> wrote:
> 
>> Hi all - I am trying to parse out the attached XML file into a data frame.
>> The file is extracted from Hadoop File Services (HFS). I am new in using
>> the
>> XML package so need some help in parsing out the data. Below is some code
>> that I explore to get the attribute into a data frame. Any help is
>> appreciated.
>> 
>> library(XML)
>> temp <- xmlParseDoc("sample.xml")
>> temp.root <- xmlRoot(temp)
>> xmlName(temp.root)
>> xmlSize(temp.root) #21 child nodes
>> temp.root[[2]] #headers
>> temp.root[[2]][[2]] #extracts just the revision
>> temp.2 <- xmlToList(temp.root[[2]]) #extracts the info in temp.root[[2]]
>> into a list
>> temp.2
>> temp.2.df <- xmlToDataFrame(temp.root[[2]]) #data frame of the list
>> temp.2.df
>> xmlValue(temp.root[[2]]) #string the values of the node inside [[2]]
>> 
>> temp.revision <- xmlValue(temp.root[[2]][["Revision"]])
>> temp.revision
>> 
>> test <- xmlTreeParse("sample.xml")
>> test
>> 
>> 
>> 
>> 
>> --
>> View this message in context:
>> http://r.789695.n4.nabble.com/Parsing-XML-file-to-data-frame-tp4689883.html
>> Sent from the R help mailing list archive at Nabble.com.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> 
> 
> -- 
> 
> ============================================
> Timothy Cook
> LinkedIn Profile:http://www.linkedin.com/in/timothywaynecook
> MLHIM http://www.mlhim.org
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From info at aghmed.fsnet.co.uk  Tue May  6 19:14:32 2014
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Tue, 06 May 2014 18:14:32 +0100
Subject: [R] Metafor: How to integrate effectsizes?
In-Reply-To: <077E31A57DA26E46AB0D493C9966AC730DAA8436C1@UM-MAIL4112.uni
	maas.nl>
References: <CAMuCtg627YQ-mArR1RWWM-xm6M5BV0j4WatLFq=3iSLnq3AhwQ@mail.gmail.com>
	<CAMuCtg7ypqrSqBboJBa-YSO28+9Hdw2W7U-WVchKUSfXuBQCvw@mail.gmail.com>
	<Zen-1WdeCc-0007OW-6m@smarthost01b.mail.zen.net.uk>
	<CAMuCtg7Xsvypi48xjAPGePZsTKOf7dz4Y2w1Px1OCf7p7FNKDg@mail.gmail.com>
	<Zen-1Wdh1f-000AIS-Ux@smarthost01c.mail.zen.net.uk>
	<077E31A57DA26E46AB0D493C9966AC730DAA4F3A14@UM-MAIL4112.unimaas.nl>
	<Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
	<CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>
	<077E31A57DA26E46AB0D493C9966AC730DAA8436C1@UM-MAIL4112.unimaas.nl>
Message-ID: <Zen-1Whiwx-00093M-0m@smarthost01d.mail.zen.net.uk>

At 14:23 06/05/2014, Viechtbauer Wolfgang (STAT) wrote:
>Without the sample size of a study (i.e., either 
>the group sizes or the total sample size), you 
>cannot convert the p-value to a t-value or a 
>t-value to a d-value. And for studies where you 
>have the d-value but no sample size, you cannot 
>compute the corresponding sampling variance. So, 
>without additional information, you cannot 
>include these studies. Maybe studies where a 
>d-value is directly reported also report a CI 
>for the d-value? Then the sampling variance can 
>be back-calculated (since a 95% CI for d is 
>typically computed with d +- 1.96 sqrt(vi), where vi is the sampling variance).

Verena,
What Wolfgang says is true of course but if you 
have _both_ the t value and the p value you can 
backcalculate the number of degrees of freedom 
and then if you are willing to assume equal arms you have the sample sizes.

finddf <- function(t, pval) {
    helper <- function(df) {res <- pval - pt(t, df, lower.tail = FALSE); res}
    res <- uniroot(helper, interval = c(5, 10000))
    res
}

If you call finddf with the value of t and the 
_one-sided_ p-value (divide by 2 if two-sided) it 
should give you a return value which, if you look 
at the element of the list called root is its 
estimate of the degrees of freedom. If you get 
errors from uniroot the interval supplied in the call may need to be widened.

I would suggest that when you have your final 
dataset it would be a really good idea to do some 
model checks using plot.influence to see whether 
the studies for which you have imputed values are 
fundamentally different for some reason. This 
will also check your calculations as a bonus.


>Best,
>Wolfgang
>
> > -----Original Message-----
> > From: Verena Weinbir [mailto:vweinbir at gmail.com]
> > Sent: Tuesday, May 06, 2014 15:09
> > To: Michael Dewey
> > Cc: Viechtbauer Wolfgang (STAT); r-help at r-project.org
> > Subject: Re: [R] Metafor: How to integrate effectsizes?
> >
> > Thank you very much for your illustration, Wolfgang! It helped me a
> > lot.?  And also thank you for the package-hint, Michael!
> >
> > Now, I have re-checked the respective studies, and there still are a
> > couple of studies left, only stating cohens d, and the respective t-value
> > and p-value - sample and group sizes are not addressed (its data from an
> > older meta-analysis). Is there a way to embed these studies in my sample?
> > Wolfgangs illustration addresses only cases in which group sizes are
> > stated, if I understand you correctly...
> >
> > Many thanks in advance,
> >
> > Verena
> >
> > On Sat, Apr 26, 2014 at 1:38 PM, Michael Dewey <info at aghmed.fsnet.co.uk>
> > wrote:
> > At 20:34 25/04/2014, Viechtbauer Wolfgang (STAT) wrote:
> > If you know the d-value and the corresponding group sizes for a study,
> > then it's possible to add that study to the rest of the dataset. Also, if
> > you only know the test statistic from an independent samples t-test (or
> > only the p-value corresponding to that test), it's possible to back-
> > compute what the standardized mean difference is.
> >
> > I added an illustration of this to the metafor package website:
> >
> > http://www.metafor-project.org/doku.php/tips:assembling_data_smd
> >
> > Verena might also like to look at the compute.es package available from
> > CRAN to see whether any of the conversions programmed there do the job.
> >
> >
> > Best,
> > Wolfgang
> >
> > --
> > Wolfgang Viechtbauer, Ph.D., Statistician
> > Department of Psychiatry and Psychology
> > School for Mental Health and Neuroscience
> > Faculty of Health, Medicine, and Life Sciences
> > Maastricht University, P.O. Box 616 (VIJV1)
> > 6200 MD Maastricht, The Netherlands
> > +31 (43) 388-4170? | http://www.wvbauer.com
> >
> > > -----Original Message-----
> > > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> > project.org]
> > > On Behalf Of Michael Dewey
> > > Sent: Friday, April 25, 2014 16:23
> > > To: Verena Weinbir
> > > Cc: r-help at r-project.org
> > > Subject: Re: [R] Metafor: How to integrate effectsizes?
> > >
> > > At 12:33 25/04/2014, you wrote:
> > > >Thank you very much for your reply and the book recommendation,
> > Michael.
> > > >
> > > >Yes, I mean Cohen's d - sorry for the typo :-)
> > > >
> > > >Just to make this sure for me: There is no
> > > >possibility to integrate stated Cohens' ds in an
> > > >R-Metaanalysis (or a MA at all), if there is no
> > > >further information traceable regarding SE or the like?
> > >
> > > If there is really no other information like
> > > sample sizes, significance level, value of some
> > > significance test then you would have to impute a
> > > value from somewhere. That would seem a last resort.
> > >
> > > I have cc'ed this back to the list, please keep
> > > it on the list so others may benefit and contribute.
> > >
> > >
> > > >best regards,
> > > >
> > > >Verena
> > > >
> > > >
> > > >On Fri, Apr 25, 2014 at 1:21 PM, Michael Dewey
> > > ><<mailto:info at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk> wrote:
> > > >At 13:15 24/04/2014, Verena Weinbir wrote:
> > > >Hello!
> > > >
> > > >I am using the metafor package for my master's thesis as an R-newbie.
> > > While
> > > >calculating effectsizes from my dataset (mean values and
> > > >standarddeviations) using "escalc" shouldn't be a problem (I hope ;-
> > )),
> > > I
> > > >wonder how I could at this point integrate additional studies, which
> > > only
> > > >state conhens d (no information about mean value and sds available),
> > to
> > > >calculate an overall analysis. ?? I would be very grateful for your
> > > support!
> > > >
> > > >
> > > >You mean Cohen's d I think.
> > > >
> > > >You will need some more information to enable
> > > >you to calculate its standard error. Have a look at Rosenthal's
> > chapter
> > > in
> > > >@book{cooper94,
> > > >?? ? ?? author = {Cooper, H and Hedges, L V},
> > > >?? ? ?? title = {A handbook of research synthesis},
> > > >?? ? ?? year = {1994},
> > > >?? ? ?? publisher = {Russell Sage},
> > > >?? ? ?? address = {New York},
> > > >?? ? ?? keywords = {meta-analysis}
> > > >}
> > > >(There is an updated edition)
> > > >This gives you more information about converting
> > > >effect sizes and extracting them from unpromising beginnings.
> > > >
> > > >It often requires some ingenuity to get the
> > > >information you need so have a go and then get
> > > >back here with more details if you run into problems
> > > >
> > > >
> > > >Best regards,
> > > >
> > > >Verena

Michael Dewey
info at aghmed.fsnet.co.uk
http://www.aghmed.fsnet.co.uk/home.html


From stefan.schmidt at ufz.de  Tue May  6 18:21:48 2014
From: stefan.schmidt at ufz.de (Stefan Schmidt)
Date: Tue, 06 May 2014 18:21:48 +0200
Subject: [R] conversion error from numeric to factor in raster: Error in
 1:ncol(r) : argument of length 0, r command: as.factor()
Message-ID: <53690C1C.20609@ufz.de>

Hello together,

I was wondering how I can solve the following conversion problem of a 
raster file: when I try to convert the values from the raster (r) from 
numeric into a factor via as.factor(r) always the error appears: "Error 
in 1:ncol(r) : argument of length 0".

r <- raster(ncol=5, nrow=5)
values(r) <- 1:ncell(r)
as.factor(r)

Urgently I have to figure out how to convert a numeric raster into a 
factor raster for a predict() calculation within the raster package.

Every hint is very welcome!

Best,

Stefan

-- 
********************************************************************
Stefan Schmidt

Abteilung Landschafts?kologie/
Department Computational Landscape Ecology
Helmholtz-Zentrum f?r Umweltforschung GmbH ? UFZ/
Helmholtz Centre for Environmental Research ? UFZ
Permoserstra?e 15 / 04318 / Leipzig
Phone: +49 341 235 - 1056
Fax: +49 341 235 - 1939
Email: stefan.schmidt at ufz.de
WWW: http://www.ufz.de

Sitz der Gesellschaft: Leipzig
Registergericht: Amtsgericht Leipzig, Handelsregister Nr. B 4703
Vorsitzender des Aufsichtsrats: MinDirig Wilfried Kraus
Wissenschaftlicher Gesch?ftsf?hrer: Prof. Dr. Georg Teutsch
Administrative Gesch?ftsf?hrerin: Dr. Heike Gra?mann


From goran.brostrom at umu.se  Tue May  6 20:09:12 2014
From: goran.brostrom at umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Tue, 6 May 2014 20:09:12 +0200
Subject: [R] Precedence and parentheses
Message-ID: <53692548.1090605@umu.se>

A thread on r-devel ("Historical NA question") went (finally) off-topic, 
heading towards "Precedence". This triggered a question that I think is 
better put on this list:

I have been more or less regularly been writing programs since the 
seventies (Fortran, later C) and I early got the habit of using 
parentheses almost everywhere, for two reasons. The first is the 
obvious, to avoid mistakes with precedences, but the second is almost as 
important: Readability.

Now, I think I have seen somewhere that unnecessary parentheses in  R 
functions may slow down execution time considerably. Is this really 
true, ant should I consequently get rid of my faiblesse for parentheses?
Or are there rules for when it matters and doesn't matter?

Thanks, G?ran


From dcarlson at tamu.edu  Tue May  6 20:27:21 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Tue, 6 May 2014 18:27:21 +0000
Subject: [R] conversion error from numeric to factor in raster: Error in
 1:ncol(r) : argument of length 0, r command: as.factor()
In-Reply-To: <53690C1C.20609@ufz.de>
References: <53690C1C.20609@ufz.de>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6C726@mb02.ads.tamu.edu>

Does

values(r) <- as.factor(1:ncell(r))

do what you want?

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352

----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Stefan Schmidt
Sent: Tuesday, May 6, 2014 11:22 AM
To: r-help at r-project.org
Subject: [R] conversion error from numeric to factor in raster: Error in 1:ncol(r) : argument of length 0, r command: as.factor()

Hello together,

I was wondering how I can solve the following conversion problem of a 
raster file: when I try to convert the values from the raster (r) from 
numeric into a factor via as.factor(r) always the error appears: "Error 
in 1:ncol(r) : argument of length 0".

r <- raster(ncol=5, nrow=5)
values(r) <- 1:ncell(r)
as.factor(r)

Urgently I have to figure out how to convert a numeric raster into a 
factor raster for a predict() calculation within the raster package.

Every hint is very welcome!

Best,

Stefan

-- 
********************************************************************
Stefan Schmidt

Abteilung Landschafts?kologie/
Department Computational Landscape Ecology
Helmholtz-Zentrum f?r Umweltforschung GmbH ? UFZ/
Helmholtz Centre for Environmental Research ? UFZ
Permoserstra?e 15 / 04318 / Leipzig
Phone: +49 341 235 - 1056
Fax: +49 341 235 - 1939
Email: stefan.schmidt at ufz.de
WWW: http://www.ufz.de

Sitz der Gesellschaft: Leipzig
Registergericht: Amtsgericht Leipzig, Handelsregister Nr. B 4703
Vorsitzender des Aufsichtsrats: MinDirig Wilfried Kraus
Wissenschaftlicher Gesch?ftsf?hrer: Prof. Dr. Georg Teutsch
Administrative Gesch?ftsf?hrerin: Dr. Heike Gra?mann

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From Ted.Harding at wlandres.net  Tue May  6 20:41:17 2014
From: Ted.Harding at wlandres.net ( (Ted Harding))
Date: Tue, 06 May 2014 19:41:17 +0100 (BST)
Subject: [R] Precedence and parentheses
In-Reply-To: <53692548.1090605@umu.se>
Message-ID: <XFMail.20140506194117.Ted.Harding@wlandres.net>

On 06-May-2014 18:09:12 G?ran Brostr?m wrote:
> A thread on r-devel ("Historical NA question") went (finally) off-topic, 
> heading towards "Precedence". This triggered a question that I think is 
> better put on this list:
> 
> I have been more or less regularly been writing programs since the 
> seventies (Fortran, later C) and I early got the habit of using 
> parentheses almost everywhere, for two reasons. The first is the 
> obvious, to avoid mistakes with precedences, but the second is almost
> as important: Readability.
> 
> Now, I think I have seen somewhere that unnecessary parentheses in  R 
> functions may slow down execution time considerably. Is this really 
> true, ant should I consequently get rid of my faiblesse for parentheses?
> Or are there rules for when it matters and doesn't matter?
> 
> Thanks, G?ran

I have much sympathy with your motives for using parentheses!
(And I have a similar computing history).

My general encouragement would be: continue using them when you
feel that each usage brings a benefit.

Of course, you would avoid silliness like
  x <- (1*(2*(3*(4*(5)))))

and indeed, that does slow it down somewhat (it takes about twice
as long as a <- 1*2*3*4*5):

  system.time(for(i in (1:10000)) 1*2*3*4*5)
#  user  system elapsed 
# 0.032   0.000   0.032 

  system.time(for(i in (1:10000)) (1*(2*(3*(4*(5))))))
#  user  system elapsed 
# 0.056   0.000   0.054 

The main reason, I suppose, is that a "(" forces a new level
on a stack, which is not popped until the matching ")" arrives.

Interestingly, the above silliness takes a little longer when
the nesting is the other way round:

  system.time(for(i in (1:10000)) 1*2*3*4*5)
#  user  system elapsed 
# 0.028   0.000   0.029 

  system.time(for(i in (1:10000)) (((((1)*2)*3)*4)*5) )
#  user  system elapsed 
#  0.052   0.000   0.081 

(though in fact the times are somwhat variable in both cases,
so I'm not sure of the value of the relationship).

Best wishes,
Ted.

-------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
Date: 06-May-2014  Time: 19:41:13
This message was sent by XFMail


From murdoch.duncan at gmail.com  Tue May  6 20:49:38 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 06 May 2014 14:49:38 -0400
Subject: [R] Precedence and parentheses
In-Reply-To: <53692548.1090605@umu.se>
References: <53692548.1090605@umu.se>
Message-ID: <53692EC2.6000506@gmail.com>

On 06/05/2014 2:09 PM, G?ran Brostr?m wrote:
> A thread on r-devel ("Historical NA question") went (finally) off-topic,
> heading towards "Precedence". This triggered a question that I think is
> better put on this list:
>
> I have been more or less regularly been writing programs since the
> seventies (Fortran, later C) and I early got the habit of using
> parentheses almost everywhere, for two reasons. The first is the
> obvious, to avoid mistakes with precedences, but the second is almost as
> important: Readability.
>
> Now, I think I have seen somewhere that unnecessary parentheses in  R
> functions may slow down execution time considerably. Is this really
> true, ant should I consequently get rid of my faiblesse for parentheses?
> Or are there rules for when it matters and doesn't matter?

I think "considerably" is an exaggeration, but they are kept as part of 
the expression, and they do take a little bit of execution time.

The reason is to support the difference between

(x <- 1)

and

x <- 1

but they are kept even when they make no difference (other than to slow 
things down).

Duncan Murdoch


From bbolker at gmail.com  Tue May  6 19:31:33 2014
From: bbolker at gmail.com (Ben Bolker)
Date: Tue, 6 May 2014 17:31:33 +0000
Subject: [R] multiply of two expressions
References: <1399297437.12763.YahooMailNeo@web172502.mail.ir2.yahoo.com>
Message-ID: <loom.20140506T192810-302@post.gmane.org>

Niloofar.Javanrouh <javanrouh_n <at> yahoo.com> writes:

> 
> 
> ?hello,
> i want to differentiate of L with respect to b
> when:
> 
> L= k*ln (k/(k+mu)) + sum(y) * ln (1-(k/mu+k))?? 
>    #(negative binomial ln likelihood)
> and 
> ln(mu/(mu+k)) = a+bx?? #link function
> 
> how can i do it in R?
> thank you.
> 

  R has a couple of functions for differentiation, D() and deriv(),
but this is probably a case where it would actually be simpler to
do it yourself by hand.  If you insist on doing it in R, you can
either use the chain rule (i.e. compute d(mu)/d(b)*d(L)/d(mu)) or
you can make a big ugly expression where you substitute the expression
for mu(b) into the expression for L.  In either case you'll have to
solve your link expression for mu.

  Wolfram Alpha might help too.

  good luck
    Ben Bolker


From bbolker at gmail.com  Tue May  6 19:33:31 2014
From: bbolker at gmail.com (Ben Bolker)
Date: Tue, 6 May 2014 17:33:31 +0000
Subject: [R] Making a package works on any R version
References: <CAFcJUTqMY5B4G4KYSa5gYBwEb9WgsZaC4Ns=kQLOdjwsk8bSPw@mail.gmail.com>
Message-ID: <loom.20140506T193213-856@post.gmane.org>

Ashis Deb <ashisdeb83 <at> gmail.com> writes:

> 
> Hi all   I  had made a package  in  R-3.0.3  , and its running  well   ,
> my  issue is  it  is  not running in  other versions   or  R   like
> R-3.0.2/3.0.1  it is  showing error  like  ---
> 
> Error: This is R 3.0.2, package ???xxx??? needs >= 3.0.3
> 
> Does anybody  have  the solution  on  how  to  make this  package  run  on
> any  versions  .
> 

  [snip]

  It sounds like there is a Depends: line in your DESCRIPTION file that
mandates R >= 3.0.3.  Try removing it?


From tom.n.walker at gmail.com  Tue May  6 23:51:33 2014
From: tom.n.walker at gmail.com (Tom Walker)
Date: Tue, 6 May 2014 22:51:33 +0100
Subject: [R] Mix of plain and italic text in ggplot categorical x-axis
Message-ID: <CAG8uZk3q=fn22+Bty+xA8dTttqP2zdSvZjXsDYeYyymUH5nEWw@mail.gmail.com>

Hi,

I need to generate bar charts where the x-axis is a factor that
includes a mixture of species names (in italic) and control treatments
(in plain text).

I would like this to be represented in the contents of the axis
labels, meaning that I need the x-axis to include both italic and
plain text. An example of my failed attempt is below (the bins in the
label list containing expressions become blank).

d <- data.frame(Category = c("Sphagnum plant", "Calluna plant",
"Eriophorum plant", "Control"),
                Response = c(1, 3, 5, 6))

d

mylabels <- list(expression(paste(italic("Sphagnum"), " plant")),
                 expression(paste(italic("Calluna"), " plant")),
                 expression(paste(italic("Eriophorum"), " plant")),
                 "Control")

ggplot(d) +
  aes(x = Category, y = Response) +
  geom_bar() +
  scale_x_discrete(labels = mylabels)

Any help would be much appreciated!

Many thanks,

Tom


From dwinsemius at comcast.net  Wed May  7 00:08:57 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 6 May 2014 15:08:57 -0700
Subject: [R] Mix of plain and italic text in ggplot categorical x-axis
In-Reply-To: <CAG8uZk3q=fn22+Bty+xA8dTttqP2zdSvZjXsDYeYyymUH5nEWw@mail.gmail.com>
References: <CAG8uZk3q=fn22+Bty+xA8dTttqP2zdSvZjXsDYeYyymUH5nEWw@mail.gmail.com>
Message-ID: <0AE96972-7D41-4C5A-8C6F-886924A8EA19@comcast.net>


On May 6, 2014, at 2:51 PM, Tom Walker wrote:

> Hi,
> 
> I need to generate bar charts where the x-axis is a factor that
> includes a mixture of species names (in italic) and control treatments
> (in plain text).
> 
> I would like this to be represented in the contents of the axis
> labels, meaning that I need the x-axis to include both italic and
> plain text. An example of my failed attempt is below (the bins in the
> label list containing expressions become blank).
> 
> d <- data.frame(Category = c("Sphagnum plant", "Calluna plant",
> "Eriophorum plant", "Control"),
>                Response = c(1, 3, 5, 6))
> 
> d
> 
> mylabels <- list(expression(paste(italic("Sphagnum"), " plant")),
>                 expression(paste(italic("Calluna"), " plant")),
>                 expression(paste(italic("Eriophorum"), " plant")),
>                 "Control")
> 

Just changing that assignment to create an expression vector instead of a list works in R 3.1.0 Patched and ggplot2_0.9.3.1

mylabels <- c(expression(paste(italic("Sphagnum"), " plant")),
                expression(paste(italic("Calluna"), " plant")),
                expression(paste(italic("Eriophorum"), " plant")),
                "Control")

> ggplot(d) +
>  aes(x = Category, y = Response) +
>  geom_bar() +
>  scale_x_discrete(labels = mylabels)
> 
> Any help would be much appreciated!

Thanks for providing complete example.

> 
> Many thanks,
> 
> Tom
> 
> _

David Winsemius
Alameda, CA, USA


From tlumley at uw.edu  Wed May  7 02:00:16 2014
From: tlumley at uw.edu (Thomas Lumley)
Date: Wed, 7 May 2014 12:00:16 +1200
Subject: [R] SQL vs R
In-Reply-To: <E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
References: <53640CC1.50903@lisse.NA>
	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>
	<53689A4C.9070609@lisse.na>
	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>
	<5368A792.4040605@lisse.NA>
	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>
	<5368C29E.6030204@lisse.NA>
	<E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>
Message-ID: <CAJ55+dKBt7Z2x+qLzDt8itenrYLdbuLRs3j19QX50DfR-Wj9AA@mail.gmail.com>

On Wed, May 7, 2014 at 2:21 AM, David R Forrest <drf at vims.edu> wrote:
> It sounds as if your underlying MySQL database is too slow for your purposes.  Whatever you layer on top of it will be constrained by the underlying database.  To speed up the process significantly, you may need to do work on the database backend part of the process.


You might try MonetDB and its R interface -- it is fast for
aggregation operations, and either the current version or the upcoming
version has dplyr support.

    -thomas

-- 
Thomas Lumley
Professor of Biostatistics
University of Auckland


From byron_dom at yahoo.com  Wed May  7 07:54:22 2014
From: byron_dom at yahoo.com (Byron Dom)
Date: Tue, 6 May 2014 22:54:22 -0700 (PDT)
Subject: [R] Using unbalanced-learning algorithms in the randomForest
	package.
In-Reply-To: <1381686815.6320.YahooMailNeo@web142802.mail.bf1.yahoo.com>
References: <1381686815.6320.YahooMailNeo@web142802.mail.bf1.yahoo.com> 
Message-ID: <1399442062.12706.YahooMailNeo@web142801.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140506/feeebe72/attachment.pl>

From james.dare at es.govt.nz  Wed May  7 06:53:06 2014
From: james.dare at es.govt.nz (jimdare)
Date: Tue, 6 May 2014 21:53:06 -0700 (PDT)
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages
In-Reply-To: <1399321403011-4690000.post@n4.nabble.com>
References: <1399321403011-4690000.post@n4.nabble.com>
Message-ID: <1399438386477-4690093.post@n4.nabble.com>

Thanks for your help Duncan and Peter!  I ended up using a combination of
your suggestions.  I used Duncan's y.limits ration of two plots with
differing types (percent and density), to provide me with a scale variable. 
I then used this in Peter's dnorm_scaled function and called it using
panel.mathdensity.  See below for my amended code.

Regards,
Jim


x1<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab
= j,  
                  type = "density",layout=c(2,1))
  
x2<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab
= j,  
                type = "percent",layout=c(2,1))

scale <- x2$y.limits/x1$y.limits
  
dnorm_scaled <- function(...){ scale[1]*dnorm(...)}
  
histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab =
j,  
            type = "percent",layout=c(2,1),
            panel=function(x, ...) {
                            
              panel.histogram(x, ...)
              
              panel.mathdensity(dmath=dnorm_scaled, col="black", 
                                # Add na.rm = TRUE to mean() and sd()
                                args=list(mean=mean(x, na.rm = TRUE),
                                          sd=sd(x, na.rm = TRUE)), ...)

            })



--
View this message in context: http://r.789695.n4.nabble.com/Lattice-Histogram-with-Normal-Curve-Y-axis-as-percentages-tp4690000p4690093.html
Sent from the R help mailing list archive at Nabble.com.


From jari.oksanen at oulu.fi  Wed May  7 10:31:26 2014
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Wed, 7 May 2014 08:31:26 +0000
Subject: [R] metaMDS in vegan: zero stress
References: <0A1764A5-4038-479A-822C-5218F151E3E0@gmail.com>
Message-ID: <loom.20140507T102409-226@post.gmane.org>

Mia Bengtsson <miamynta <at> gmail.com> writes:

> 
> Dear R and vegan package users,
> 
> I have been experiencing problems with the metaMDS function when working
on a dataset (euk) consisting of 9
> "sites" (RNA extracts of 9 biofilms samples) and 340 "species" (microbial
taxa based on rRNA sequences).
> The problem is that I get nMDS ordinations with overlapping points, so
that it looks like 6 samples are
> identical, while the remaining 3 are well separated. The dataset is rather
large, and quite complex so I do
> not think that this is a correct representation of dissimilarities. Every
time this happens, I get the
> warning message:
> 
> "In metaMDS(t(euk_red), distance = "bray") :
>   Stress is (nearly) zero - you may have insufficient data"
> 
> Removing relatively rare species using: 
> 
> euk_red<-euk[rowSums(euk)>100,]


Nine (9) points is not a "rather large" data set, but it is very small.
You have 9*8/2 = 36 pairwise dissimilarities among your nine points, and
you try to estimate 2*9 = 18 coordinates in mononotonic regression. No
wonder you get a warning of insufficient data. 

You may use vegan::stressplot() function to inspect the result and
see how it fails. My guess is that your three points are well separated
from others, and probably have some disjunction with microbial taxa
that do not occur in the rest.

I suggest you do not use nonmetric MDS with nine (9) points. It may
be that metric scaling (cmdscale in R or wcmdscale in vegan) works
better.

Cheers, Jari Oksanen


From tom.n.walker at gmail.com  Wed May  7 12:59:22 2014
From: tom.n.walker at gmail.com (Tom Walker)
Date: Wed, 7 May 2014 11:59:22 +0100
Subject: [R] Mix of plain and italic text in ggplot categorical x-axis
In-Reply-To: <0AE96972-7D41-4C5A-8C6F-886924A8EA19@comcast.net>
References: <CAG8uZk3q=fn22+Bty+xA8dTttqP2zdSvZjXsDYeYyymUH5nEWw@mail.gmail.com>
	<0AE96972-7D41-4C5A-8C6F-886924A8EA19@comcast.net>
Message-ID: <CAG8uZk3pex27BKwXK-++4sk+Yyqh5J8E1Q5BJRXMdfxjYY8Rgw@mail.gmail.com>

Brilliant - thanks very much for your help!

Tom

On 6 May 2014 23:08, David Winsemius <dwinsemius at comcast.net> wrote:
>
> On May 6, 2014, at 2:51 PM, Tom Walker wrote:
>
>> Hi,
>>
>> I need to generate bar charts where the x-axis is a factor that
>> includes a mixture of species names (in italic) and control treatments
>> (in plain text).
>>
>> I would like this to be represented in the contents of the axis
>> labels, meaning that I need the x-axis to include both italic and
>> plain text. An example of my failed attempt is below (the bins in the
>> label list containing expressions become blank).
>>
>> d <- data.frame(Category = c("Sphagnum plant", "Calluna plant",
>> "Eriophorum plant", "Control"),
>>                Response = c(1, 3, 5, 6))
>>
>> d
>>
>> mylabels <- list(expression(paste(italic("Sphagnum"), " plant")),
>>                 expression(paste(italic("Calluna"), " plant")),
>>                 expression(paste(italic("Eriophorum"), " plant")),
>>                 "Control")
>>
>
> Just changing that assignment to create an expression vector instead of a list works in R 3.1.0 Patched and ggplot2_0.9.3.1
>
> mylabels <- c(expression(paste(italic("Sphagnum"), " plant")),
>                 expression(paste(italic("Calluna"), " plant")),
>                 expression(paste(italic("Eriophorum"), " plant")),
>                 "Control")
>
>> ggplot(d) +
>>  aes(x = Category, y = Response) +
>>  geom_bar() +
>>  scale_x_discrete(labels = mylabels)
>>
>> Any help would be much appreciated!
>
> Thanks for providing complete example.
>
>>
>> Many thanks,
>>
>> Tom
>>
>> _
>
> David Winsemius
> Alameda, CA, USA
>


From petretta at unina.it  Wed May  7 14:02:05 2014
From: petretta at unina.it (petretta at unina.it)
Date: Wed, 7 May 2014 14:02:05 +0200
Subject: [R] how to change the order of subgroups in forest plot using meta
Message-ID: <f0330e33903e343cf04d1710e6ffcb4a.squirrel@webmailsquirrel.unina.it>

Dear all,

I use R 3.0.2 for Windows 7.

I performed a sub-groups meta-analysis of the prevalence (single
proportion)reported in 14 different studies using the package ?meta?
(April 19, 2014). I have two groups.

I use the line commands:

res <-metaprop(case,n,sm="PFT", comb.fixed=FALSE, comb.random=TRUE,
byvar=group, tau.common=TRUE, studlab<- paste(Study))

forest(res, fontsize=10, squaresize=1.2, just.studlab="left",
just="center", addspace=TRUE, pooled.events=TRUE, bylab="",
print.byvar=FALSE, bysort=FALSE)

I would like to change the order of the two subgroup presentation in the
forest plot.

However, despite (bysort=FALSE), the two subgroups are presented in
alphabetic order and I?m unable to change the order of the two subgroups
without change the dataset.

A more generally question is: how to change the order of presentation of
subgroups in the forest plot using the package meta?

Any suggestion is welcome.

Mario Petretta
Department of Translational Medical Sciences
Naples University Federico II Italy


From alej.c.s at gmail.com  Wed May  7 14:05:14 2014
From: alej.c.s at gmail.com (Alejo C.S.)
Date: Wed, 7 May 2014 09:05:14 -0300
Subject: [R] How to match text string ith spaces
Message-ID: <CAEeP31t9DnqaetQLbFFRF0bREjp0Vf5eUKQya=ODLTy5q4dFvw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/d321b605/attachment.pl>

From alej.c.s at gmail.com  Wed May  7 14:09:20 2014
From: alej.c.s at gmail.com (Alejo C.S.)
Date: Wed, 7 May 2014 09:09:20 -0300
Subject: [R] How to match text string ith spaces
In-Reply-To: <CAEeP31t9DnqaetQLbFFRF0bREjp0Vf5eUKQya=ODLTy5q4dFvw@mail.gmail.com>
References: <CAEeP31t9DnqaetQLbFFRF0bREjp0Vf5eUKQya=ODLTy5q4dFvw@mail.gmail.com>
Message-ID: <CAEeP31vs8TApJmMAKOoSXfwfnZbTj6wgiuXddBDR8ncUeuEx6A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/42e1fde1/attachment.pl>

From abhinabaroy09 at gmail.com  Wed May  7 12:15:12 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Wed, 7 May 2014 15:45:12 +0530
Subject: [R] Summary to data frame in R!!
Message-ID: <CANtKHPXwSwUb7j-f8PwifY_377pd0shSvuV8gDiE1-DGuKOaAQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/268ea782/attachment.pl>

From mario_wiegand at gmx.de  Wed May  7 10:34:11 2014
From: mario_wiegand at gmx.de (marioger)
Date: Wed, 7 May 2014 01:34:11 -0700 (PDT)
Subject: [R] Outlier Detection with k-Means
Message-ID: <1399451651282-4690098.post@n4.nabble.com>

Hi,

i am hoping you can help me with my problem. I am trying to detect outliers
with use of the kmeans algorithm. First I perform the algorithm and choose
those object as possible outliers which have a big distance to their cluster
center. Instead of using the absolute distance I want to use the relative
distance, i.e. the ration of absolute distance of the object to the cluster
center and the average distance of all objects of the cluster to their
cluster center. The code for outlier detection based on absolute distance is
the following:

> # remove species from the data to cluster
> iris2 <- iris[,1:4]
> kmeans.result <- kmeans(iris2, centers=3)
> # cluster centers
> kmeans.result$centers
> # calculate distances between objects and cluster centers
> centers <- kmeans.result$centers[kmeans.result$cluster, ]
> distances <- sqrt(rowSums((iris2 - centers)^2))
> # pick top 5 largest distances
> outliers <- order(distances, decreasing=T)[1:5]
> # who are outliers
> print(outliers)

But how can I use the relative instead of the absolute distance to find
outliers?
Thanks in advance.

Mario



--
View this message in context: http://r.789695.n4.nabble.com/Outlier-Detection-with-k-Means-tp4690098.html
Sent from the R help mailing list archive at Nabble.com.


From stefan.schmidt at ufz.de  Wed May  7 11:31:59 2014
From: stefan.schmidt at ufz.de (Stefan Schmidt)
Date: Wed, 07 May 2014 11:31:59 +0200
Subject: [R] conversion error from numeric to factor in raster: Error in
 1:ncol(r) : argument of length 0, r command: as.factor()
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6C726@mb02.ads.tamu.edu>
References: <53690C1C.20609@ufz.de>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6C726@mb02.ads.tamu.edu>
Message-ID: <5369FD8F.10302@ufz.de>

Hello,

thanks a lot for the fast response and the hint! Actually, it helped to 
already integrate as.factor in the generation of the raster. This is 
also working for uploading or diverse other raster functionalities like 
projection, e.g. as.factor(raster("C:\\...\\r.tiff")) or 
as.factor(projectRaster(r, to, method='ngb'))

Furthermore I found in another blog (Dec 2013), following:

This [the as.factor(raster)] is a bug in package raster.

Once again, thanks a lot!

Best,

Stefan


Am 06.05.2014 20:27, schrieb David L Carlson:
> Does
>
> values(r) <- as.factor(1:ncell(r))
>
> do what you want?
>
> -------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77840-4352
>
> ----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Stefan Schmidt
> Sent: Tuesday, May 6, 2014 11:22 AM
> To: r-help at r-project.org
> Subject: [R] conversion error from numeric to factor in raster: Error in 1:ncol(r) : argument of length 0, r command: as.factor()
>
> Hello together,
>
> I was wondering how I can solve the following conversion problem of a
> raster file: when I try to convert the values from the raster (r) from
> numeric into a factor via as.factor(r) always the error appears: "Error
> in 1:ncol(r) : argument of length 0".
>
> r <- raster(ncol=5, nrow=5)
> values(r) <- 1:ncell(r)
> as.factor(r)
>
> Urgently I have to figure out how to convert a numeric raster into a
> factor raster for a predict() calculation within the raster package.
>
> Every hint is very welcome!
>
> Best,
>
> Stefan
>

-- 
********************************************************************
Stefan Schmidt

Abteilung Landschafts?kologie/
Department Computational Landscape Ecology
Helmholtz-Zentrum f?r Umweltforschung GmbH ? UFZ/
Helmholtz Centre for Environmental Research ? UFZ
Permoserstra?e 15 / 04318 / Leipzig
Phone: +49 341 235 - 1056
Fax: +49 341 235 - 1939
Email: stefan.schmidt at ufz.de
WWW: http://www.ufz.de

Sitz der Gesellschaft: Leipzig
Registergericht: Amtsgericht Leipzig, Handelsregister Nr. B 4703
Vorsitzender des Aufsichtsrats: MinDirig Wilfried Kraus
Wissenschaftlicher Gesch?ftsf?hrer: Prof. Dr. Georg Teutsch
Administrative Gesch?ftsf?hrerin: Dr. Heike Gra?mann


From wdunlap at tibco.com  Wed May  7 17:35:18 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 7 May 2014 08:35:18 -0700
Subject: [R] Outlier Detection with k-Means
In-Reply-To: <1399451651282-4690098.post@n4.nabble.com>
References: <1399451651282-4690098.post@n4.nabble.com>
Message-ID: <CAF8bMcbXddcYBWJPaApempo9fhFDfM=ru0ukOLePyxvdrAFUhw@mail.gmail.com>

Try replacing your order() call with the following 2 lines
    meanClusterRadius <- ave(distances, kmeans.result$cluster,  FUN = mean)
    outliers <- order(distances/meanClusterRadius, decreasing = T)[1:5]
ave(x,group,FUN=fun) applies FUN to the subsets of x defined by the
group argument(s) and puts the results of FUN(x[group[i]]) back into
x[group[i]], returning the modified x.
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Wed, May 7, 2014 at 1:34 AM, marioger <mario_wiegand at gmx.de> wrote:
> Hi,
>
> i am hoping you can help me with my problem. I am trying to detect outliers
> with use of the kmeans algorithm. First I perform the algorithm and choose
> those object as possible outliers which have a big distance to their cluster
> center. Instead of using the absolute distance I want to use the relative
> distance, i.e. the ration of absolute distance of the object to the cluster
> center and the average distance of all objects of the cluster to their
> cluster center. The code for outlier detection based on absolute distance is
> the following:
>
>> # remove species from the data to cluster
>> iris2 <- iris[,1:4]
>> kmeans.result <- kmeans(iris2, centers=3)
>> # cluster centers
>> kmeans.result$centers
>> # calculate distances between objects and cluster centers
>> centers <- kmeans.result$centers[kmeans.result$cluster, ]
>> distances <- sqrt(rowSums((iris2 - centers)^2))
>> # pick top 5 largest distances
>> outliers <- order(distances, decreasing=T)[1:5]
>> # who are outliers
>> print(outliers)
>
> But how can I use the relative instead of the absolute distance to find
> outliers?
> Thanks in advance.
>
> Mario
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Outlier-Detection-with-k-Means-tp4690098.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From boris.steipe at utoronto.ca  Wed May  7 17:51:22 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 7 May 2014 11:51:22 -0400
Subject: [R] Outlier Detection with k-Means
In-Reply-To: <1399451651282-4690098.post@n4.nabble.com>
References: <1399451651282-4690098.post@n4.nabble.com>
Message-ID: <6C70310E-BD62-4826-8D2A-23E7889E88AA@utoronto.ca>

Three comments:
(i)    If you calculate distances like this, you are weighting all columns
       equally by absolute numbers. Depending on your application, you might
       want to normalize the columns first (and before clustering).

(ii)   Your distance calculation is not the cartesian distance. That would be:
       sqrt(rowSums(iris2[1,]^2 - centers[1,]^2)). 

(iii)  To scale to relative distances you need to define a common,
       commensurable scale. This is often done by scaling to the standard
       deviation, which gives you a probability estimate for your outliers
       if you can model the distribution as being normal. You could also
       scale to the median.

But in the end ... detecting "outliers" in the first place implies that you have an underlying model of the distribution. If you do, you should apply it. If you don't (and I don't see how such a model would be possible, given that your outliers of one group could simply be members of another) you could simply rank, and investigate (or discard) some n most distant. That said, I still don't think this would be meaningful because of the fact that k-means assigns *all* points to *some* cluster - but perhaps your specific application supports a different reasoning.

Cheers,
Boris




On 2014-05-07, at 4:34 AM, marioger wrote:

> Hi,
> 
> i am hoping you can help me with my problem. I am trying to detect outliers
> with use of the kmeans algorithm. First I perform the algorithm and choose
> those object as possible outliers which have a big distance to their cluster
> center. Instead of using the absolute distance I want to use the relative
> distance, i.e. the ration of absolute distance of the object to the cluster
> center and the average distance of all objects of the cluster to their
> cluster center. The code for outlier detection based on absolute distance is
> the following:
> 
>> # remove species from the data to cluster
>> iris2 <- iris[,1:4]
>> kmeans.result <- kmeans(iris2, centers=3)
>> # cluster centers
>> kmeans.result$centers
>> # calculate distances between objects and cluster centers
>> centers <- kmeans.result$centers[kmeans.result$cluster, ]
>> distances <- sqrt(rowSums((iris2 - centers)^2))
>> # pick top 5 largest distances
>> outliers <- order(distances, decreasing=T)[1:5]
>> # who are outliers
>> print(outliers)
> 
> But how can I use the relative instead of the absolute distance to find
> outliers?
> Thanks in advance.
> 
> Mario
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Outlier-Detection-with-k-Means-tp4690098.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From marc_schwartz at me.com  Wed May  7 17:55:37 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Wed, 07 May 2014 10:55:37 -0500
Subject: [R] Summary to data frame in R!!
In-Reply-To: <CANtKHPXwSwUb7j-f8PwifY_377pd0shSvuV8gDiE1-DGuKOaAQ@mail.gmail.com>
References: <CANtKHPXwSwUb7j-f8PwifY_377pd0shSvuV8gDiE1-DGuKOaAQ@mail.gmail.com>
Message-ID: <ED2A99BF-CBAE-4DE9-B60C-0A1D99B59725@me.com>

On May 7, 2014, at 5:15 AM, Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:

> Hi R-helpers,
> 
> sumx <- summary(mtcars[,c("mpg","disp")])
>> sumx
>      mpg             disp
> Min.   :10.40   Min.   : 71.1
> 1st Qu.:15.43   1st Qu.:120.8
> Median :19.20   Median :196.3
> Mean   :20.09   Mean   :230.7
> 3rd Qu.:22.80   3rd Qu.:326.0
> Max.   :33.90   Max.   :472.0
> 
> I want a dataframe as
> 
>             mpg    disp
> Min.      10.40   71.1
> 1st Qu. 15.43  120.8
> Median 19.20  196.3
> Mean    20.09  230.7
> 3rd Qu. 22.80  326.0
> Max.      33.90  472.0
> 
> How can it be done in R?
> -- 
> Regards
> Abhinaba Roy


summary(), when applied to multiple columns, as you are doing, returns a character table object:

> str(sumx)
 'table' chr [1:6, 1:2] "Min.   :10.40  " "1st Qu.:15.43  " ...
 - attr(*, "dimnames")=List of 2
  ..$ : chr [1:6] "" "" "" "" ...
  ..$ : chr [1:2] "     mpg" "     disp"


Note that the actual table elements contain both character and numeric values that have been formatted.

If you use:

> sapply(mtcars[, c("mpg", "disp")], summary)
          mpg  disp
Min.    10.40  71.1
1st Qu. 15.42 120.8
Median  19.20 196.3
Mean    20.09 230.7
3rd Qu. 22.80 326.0
Max.    33.90 472.0

this applies the summary() function to each column separately, returning a numeric matrix:

> str(sapply(mtcars[, c("mpg", "disp")], summary))
 num [1:6, 1:2] 10.4 15.4 19.2 20.1 22.8 ...
 - attr(*, "dimnames")=List of 2
  ..$ : chr [1:6] "Min." "1st Qu." "Median" "Mean" ...
  ..$ : chr [1:2] "mpg" "disp"


If you actually want a data frame, you can coerce the result:

> as.data.frame(sapply(mtcars[, c("mpg", "disp")], summary))
          mpg  disp
Min.    10.40  71.1
1st Qu. 15.42 120.8
Median  19.20 196.3
Mean    20.09 230.7
3rd Qu. 22.80 326.0
Max.    33.90 472.0


> str(as.data.frame(sapply(mtcars[, c("mpg", "disp")], summary)))
'data.frame':	6 obs. of  2 variables:
 $ mpg : num  10.4 15.4 19.2 20.1 22.8 ...
 $ disp: num  71.1 120.8 196.3 230.7 326 ...


Regards,

Marc Schwartz


From boris.steipe at utoronto.ca  Wed May  7 18:01:36 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 7 May 2014 12:01:36 -0400
Subject: [R] Outlier Detection with k-Means
In-Reply-To: <6C70310E-BD62-4826-8D2A-23E7889E88AA@utoronto.ca>
References: <1399451651282-4690098.post@n4.nabble.com>
	<6C70310E-BD62-4826-8D2A-23E7889E88AA@utoronto.ca>
Message-ID: <D150A029-97AF-43AC-AE38-EFA0161DCD9F@utoronto.ca>

Oops.
> (ii)   Your distance calculation is not the cartesian distance. That would be:
>       sqrt(rowSums(iris2[1,]^2 - centers[1,]^2)). 
Strike that. Need more coffee
:-O



> On 2014-05-07, at 4:34 AM, marioger wrote:
> 
>> Hi,
>> 
>> i am hoping you can help me with my problem. I am trying to detect outliers
>> with use of the kmeans algorithm. First I perform the algorithm and choose
>> those object as possible outliers which have a big distance to their cluster
>> center. Instead of using the absolute distance I want to use the relative
>> distance, i.e. the ration of absolute distance of the object to the cluster
>> center and the average distance of all objects of the cluster to their
>> cluster center. The code for outlier detection based on absolute distance is
>> the following:
>> 
>>> # remove species from the data to cluster
>>> iris2 <- iris[,1:4]
>>> kmeans.result <- kmeans(iris2, centers=3)
>>> # cluster centers
>>> kmeans.result$centers
>>> # calculate distances between objects and cluster centers
>>> centers <- kmeans.result$centers[kmeans.result$cluster, ]
>>> distances <- sqrt(rowSums((iris2 - centers)^2))
>>> # pick top 5 largest distances
>>> outliers <- order(distances, decreasing=T)[1:5]
>>> # who are outliers
>>> print(outliers)
>> 
>> But how can I use the relative instead of the absolute distance to find
>> outliers?
>> Thanks in advance.
>> 
>> Mario
>> 
>> 
>> 
>> --
>> View this message in context: http://r.789695.n4.nabble.com/Outlier-Detection-with-k-Means-tp4690098.html
>> Sent from the R help mailing list archive at Nabble.com.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kinley_robert at lilly.com  Wed May  7 18:18:27 2014
From: kinley_robert at lilly.com (Robert Douglas Kinley)
Date: Wed, 7 May 2014 16:18:27 +0000
Subject: [R] R / JMP interface
Message-ID: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/eb0c61aa/attachment.pl>

From careyshan at gmail.com  Wed May  7 18:32:22 2014
From: careyshan at gmail.com (Shane Carey)
Date: Wed, 7 May 2014 17:32:22 +0100
Subject: [R] minor tick marks on boxplot log scale
Message-ID: <CA+jRDxDqiBSV2HsiRu2=3JabcG62xdPWmUN8SYNoomZjN6hSPg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/89c9f56a/attachment.pl>

From s.wood at bath.ac.uk  Wed May  7 18:32:43 2014
From: s.wood at bath.ac.uk (Simon Wood)
Date: Wed, 07 May 2014 17:32:43 +0100
Subject: [R] Seeking well-commented versions of mgcv source code
In-Reply-To: <5364513F.5010902@gmail.com>
References: <5364513F.5010902@gmail.com>
Message-ID: <536A602B.1050202@bath.ac.uk>

> I'm looking for well-commented versions of various functions comprising
> mgcv,
Commented versions are available e.g. in mgcv_*.*-**.tar.gz from CRAN 
(unzip and look in mgcv/R). Well commented versions is another matter...
best,
Simon



-- 
Simon Wood, Mathematical Science, University of Bath BA2 7AY UK
+44 (0)1225 386603               http://people.bath.ac.uk/sw283


From frtog at vestas.com  Wed May  7 18:51:57 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 7 May 2014 18:51:57 +0200
Subject: [R] R / JMP interface
Message-ID: <419o4l5u3h3yfyfiaa4n359s.1399481369826@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/052634b8/attachment.pl>

From murdoch.duncan at gmail.com  Wed May  7 19:20:12 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 07 May 2014 13:20:12 -0400
Subject: [R] R / JMP interface
In-Reply-To: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
References: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
Message-ID: <536A6B4C.1080802@gmail.com>

On 07/05/2014 12:18 PM, Robert Douglas Kinley wrote:
> hi useRs
>
> I am trying-out the facility to call R code from JMP.
>
> details:  R 3.1.0 , JMP 11.1.1 , Windows 7 enterprise , all 64 bit.
>
> The test-script from the JMP help pages falls over at the first line :-
> R Init();
>
> giving the error-message :-
> The installed version of R cannot be used.  The entry point "ConsoleIob" could not be located.
>
> Has anyone else come across this - and ideally has anyone got a solution   ?
>
> (I have submitted a request to JMP/SAS help too).

Please don't double post.  This is pretty clearly a JMP problem (or 
perhaps a user problem; did you read their documentation about what 
version of R is supported?), so you should post there, not here.

Duncan Murdoch


From 538280 at gmail.com  Wed May  7 19:20:45 2014
From: 538280 at gmail.com (Greg Snow)
Date: Wed, 7 May 2014 11:20:45 -0600
Subject: [R] Plotting a Regression holding some exogeneous constant.
In-Reply-To: <001701cf6859$38cb9d80$aa62d880$@uni-koeln.de>
References: <001701cf6859$38cb9d80$aa62d880$@uni-koeln.de>
Message-ID: <CAFEqCdwVkwkdrpk7QsQbVJzxyto0T-+19v16Z-5Uu+TGLJoN3A@mail.gmail.com>

The Predict.Plot function in the TeachingDemos package can do this for
you.  Or you can just calculate the intercept for the call to abline
by plugging in the mean for all the other variables and do the
arithmetic then pass the intercept and slope by hand to the abline
function.  Or you can create a new data frame with a range of values
for the one variable (to be your x-axis) and the means for all the
others, then use the predict function to get the predictions for these
values and add them to the plot using the lines function (instead of
abline).

On Mon, May 5, 2014 at 5:57 AM, Katharina Mersmann
<kmersman at smail.uni-koeln.de> wrote:
> Dear R-community,
>
> I am totally lost and need help.
>
> For a Visualization  I need to plot two regressions in the same plot.  The
> intention is to provide a visual basis for a synthesized theoretical
> discussion.
>
>
>
> 1.)    fixed.1<-plm(CSmean~ FCRlong, data = data.plm, index =
> c("countrynr","quartal"),model = "within")
>
> 2.)    fixed.2<-plm(FCRlong ~ GDP+ GDPpCapita+ budget+ percentDebt+
> primSurplus
>
>               +Inflation+lagBY,
>
>                data = data.plm, index = c("countrynr","quartal"),model =
> "within"
>
> Usually I would do
>
>>plot(data.plm$ FCRlong,data.plm$BY,ylim = c(0,20))
>
>>abline(fixed.1)
>
>>abline(fixed.2)
>
>
>
> For Regression Number one, ?fixed.1?, it?s easy, because I have only two
> Dimensions, but here I need to do a parallel shift by adding an average
> Value, say 4, (to solve for  CSmean to BY)
>
> So loosely speaking, I want to plot  fixed.1+4 ? What shall I do in this
> case?
>
>
>
> Second, in Regression ?fixed.2? I have a Hyperplane, but for a synthesized
> general discussion the exogeneous variables, except lagBY, shall be set to
> their average values
>
> in the panel-dataset. With this restriction I am able to plot Regression 2
> in the two-dimensional-plot as well.
>
> But I am not even sure how to reconstruct this by a code?
>
>
>
>
>
> I unfortunately can?t give you an reproduceable example,
>
> But any suggestions or hints or just a link to a similar problem would be
> helpful
>
>
>
> Thank you!
>
> Katie
>
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From fife.dustin at gmail.com  Wed May  7 20:37:17 2014
From: fife.dustin at gmail.com (Dustin Fife)
Date: Wed, 7 May 2014 13:37:17 -0500
Subject: [R] plotting lines on old graph after par(new=TRUE)
Message-ID: <CAB0Y+LSaUXTtTm0a+w_DR9VPGcVH_=s7mtF55A=6s+9KLcx0-A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/84060d99/attachment.pl>

From boris.steipe at utoronto.ca  Wed May  7 20:50:37 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 7 May 2014 14:50:37 -0400
Subject: [R] plotting lines on old graph after par(new=TRUE)
In-Reply-To: <CAB0Y+LSaUXTtTm0a+w_DR9VPGcVH_=s7mtF55A=6s+9KLcx0-A@mail.gmail.com>
References: <CAB0Y+LSaUXTtTm0a+w_DR9VPGcVH_=s7mtF55A=6s+9KLcx0-A@mail.gmail.com>
Message-ID: <AF01A74F-EBEA-4801-8BFA-4689B5A6E96D@utoronto.ca>

Since points() and lines() plot on the scale of the last plot, you could plot your "first" graph after the "second" one, or if there is a particular reason why you plot them in the order you do, add a third, empty graph with the scale of the first one as the last plot.

B.




On 2014-05-07, at 2:37 PM, Dustin Fife wrote:

> Hi,
> 
> In my work, I often investigate relationships between highly skewed data.
> Example:
> 
> set.seed(111)
> require(MASS)
> d = data.frame(mvrnorm(1000, mu=c(0,0), Sigma=matrix(c(1,.6,.6,1), nrow=2)))
> names(d) = c("x","y")
> ## Skew Y
> d$y = d$y^4
> plot(d$x, d$y)
> lines(lowess(d$x, d$y), lwd=2, col="blue")
> 
> Unfortunately, with such skewed data, it's hard to see the line unless we
> "zoom in," by either ignoring the outliers, or "breaking" the scale of the
> y axis, such that the first 2/3 of the graph correspond to a "normal"
> scale, and the remaining 1/3 correspond to a "compressed" scale. (I know
> this is generally not recommended, see
> http://r.789695.n4.nabble.com/split-a-y-axis-to-show-data-on-different-scales-td805816.html).
> I created a function to do this:
> 
> scaleBreak = function(x,y,axis=2, breakpos=1,...){
> 
>    #### figure out which Y values are above the breakpos
>    y_above = y[y>breakpos]; x_above = x[y>breakpos]
>    y_below = y[y<=breakpos]; x_below = x[y<=breakpos]
> 
>    #### pick ranges
>    range_1 = range(y_below)
>    range_2 = range(y_above)
> 
>    #### find limits of y axis (so it spans 2/3rds)
>    mx = max(y_below); mn = min(y_below)
>    ylims1 = c(mn, mx + (mx-mn)/2)
> 
>    #### plot bottom graph
>    plot(range(x), ylims1, type="n", yaxt="n",...)
>    points(x_below, y_below, yaxt="n",...)
>    axis(2, pretty(y_below))
> 
>    min2 = (breakpos + .45*breakpos - max(y))/.45
> 
>    #### add second graph
>    par(new=TRUE)
>    plot(range(x), c(min2, max(y)), type="n", yaxt="n", xaxt="n", ylab="",
> axes=F)
>    points(x_above, y_above, yaxt="n",...)
>    axis(2, pretty(y_above)[-1])
>    require(plotrix)
>    axis.break(axis=axis, breakpos)
> 
> }
> 
> The problem I'm having is that the fitted line is not printed on the scale
> of the bottom 2/3 plot:
> 
> scaleBreak(d$x, d$y, breakpos=20)
> lines(lowess(d$x, d$y), lwd=2, col="blue")
> 
> Can anyone think of a solution where the line is on the scale of the bottom
> 2/3 of the plot, in the right location? (Again, let me preempt the
> objections others might raise about how this should not be done. I know it
> generally should not be done, but let's pretend I have an excellent reason
> :) )
> 
> Thanks in advance!
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From david at revolutionanalytics.com  Wed May  7 21:41:14 2014
From: david at revolutionanalytics.com (David Smith)
Date: Wed, 7 May 2014 14:41:14 -0500
Subject: [R] Revolutions blog: April roundup
Message-ID: <CABgvEC84PUCY5nFfkUz9DG0-CjSFYhUCF+dycSwJWE6qBg0Kfg@mail.gmail.com>

Revolution Analytics staff write about R every weekday at the Revolutions blog:
 http://blog.revolutionanalytics.com
and every month I post a summary of articles from the previous month
of particular interest to readers of r-help.

In case you missed them, here are some articles related to R from the
month of April:

Registration is now open for the useR! 2014 R conference in Los
Angeles: http://bit.ly/1fVDvaK

A new program from Revolution Analytics offers technical support to
users of open source R worldwide: http://bit.ly/1fVDy6p

A new Kaggle competition challenges R users to predict which shoppers
will become repeat buyers: http://bit.ly/1fVDy6q

Rapporter.net collects data on R usage around the world and displays
it as an interative map: http://bit.ly/1fVDvaL

The New York Times publishes the R code behind their new US Senate
election forecast feature: http://bit.ly/1fVDy6o

Talent Analytics uses R to understand the factors that lead employees
to resign: http://bit.ly/1fVDvaM

Thomas Dinsmore compares performance benchmarks for SAS and Revolution
R Enterprise: http://bit.ly/1fVDy6r

A succinct example of Simpson's Paradox: "Good for women, good for
men, bad for people": http://bit.ly/1fVDvaN

A replay of the Revolution Analytics webinar, Big-Data Trees for R:
http://bit.ly/1fVDy6s

A local newspaper features R and the weatherData package: http://bit.ly/1fVDvaO

I talked about data scientists using R in a DM Radio podcast:
http://bit.ly/1fVDvaP

A look at the R H2O package, which provides an interface to the 0xdata
distributed algorithms: http://bit.ly/1fVDy6t

Some great examples of vectorized programming in R: http://bit.ly/1fVDvaQ

Monte-Carlo simulation of financial time series: http://bit.ly/1fVDy6u

A new CRAN task view dedicated to interfacing R with social media,
open data, and other Web technologies: http://bit.ly/1fVDy6v

An R script to create an impressionistic avatar from your Twitter
followers: http://bit.ly/1fVDvaR

A summary of the new features in R 3.1.0 "Spring Dance": http://bit.ly/1fVDy6w

R used to analyze character connections in the script of the Star Wars
movies, and other applications: http://bit.ly/1fVDvaS

The chloroplethr package can now create animated data maps:
http://bit.ly/1fVDy6y

A new R-based blog from Norman Matloff, author of The Art of R
Programming: http://bit.ly/1fVDvaT

A overview of R packages for ensemble modeling: http://bit.ly/1fVDy6C

An in-depth article in FastCompany Labs surveys open science with R:
http://bit.ly/1fVDvaU

A list of R packages and resources for generalized linear modeling:
http://bit.ly/1fVDy6A

Seven data points quantifying the recent growth of R: http://bit.ly/1fVDy6B

An example of vectorization in R, looking at the Collatz Conjecture:
http://bit.ly/1fVDvaV

General interest stories (not related to R) in the past month
included: visible sound (http://bit.ly/1fVDvaW), how dogs react to
magic (http://bit.ly/1fVDy6D), the generic brand video
(http://bit.ly/1fVDy6E), arguments pro and con for Big Data
(http://bit.ly/1fVDy6G) and the 2048 game (http://bit.ly/1fVDy6F).

Meeting times for local R user groups (http://bit.ly/eC5YQe) can be
found on the updated R Community Calendar at: http://bit.ly/bb3naW

If you're looking for more articles about R, you can find summaries
from previous months at http://blog.revolutionanalytics.com/roundups/.
You can receive daily blog posts via email using services like
blogtrottr.com, or join the Revolution Analytics mailing list at
http://revolutionanalytics.com/newsletter to be alerted to new
articles on a monthly basis.

As always, thanks for the comments and please keep sending suggestions
to me at david at revolutionanalytics.com or via Twitter (I'm
@revodavid).

Cheers,
# David

-- 
David M Smith <david at revolutionanalytics.com>
Chief Community Officer, Revolution Analytics
http://blog.revolutionanalytics.com
Tel: +1 (650) 646-9523 (Seattle WA, USA)
Twitter: @revodavid


From sjgardner at lilly.com  Wed May  7 18:20:26 2014
From: sjgardner at lilly.com (Samuel J Gardner)
Date: Wed, 7 May 2014 16:20:26 +0000
Subject: [R] R / JMP interface
In-Reply-To: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
References: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
Message-ID: <A8EFBA73D2BB5B4BB463036182C07BE00115B613@USTLMLLYC110.RF.lilly.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/d26a1332/attachment.pl>

From sosangalang at hotmail.com  Wed May  7 19:37:17 2014
From: sosangalang at hotmail.com (Stephanie Sangalang)
Date: Wed, 7 May 2014 10:37:17 -0700
Subject: [R] FW: Installation problem
In-Reply-To: <DUB129-W12FF7109712DDA05B359AFAD4E0@phx.gbl>
References: <DUB129-W361221CF611E4B5E26384AD4F0@phx.gbl>,
	<53690553.40108@stats.ox.ac.uk>,
	<DUB129-W12FF7109712DDA05B359AFAD4E0@phx.gbl>
Message-ID: <DUB129-W400AADC7F0129F0D2E31BBAD4E0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/766dfe74/attachment.pl>

From spencer.graves at structuremonitoring.com  Wed May  7 23:23:22 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Wed, 07 May 2014 14:23:22 -0700
Subject: [R] as.character(quote(x$y) ) =  "$" "x" "y" not "x$y"?
Message-ID: <536AA44A.6080009@structuremonitoring.com>

Hello, All:


       Is there a simple utility someplace to convert "quote(x$y)" to 
"x$y"?


       I ask, because as.character(quote(x$y)) is a character vector of 
length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a 
diagnostic message.


       class(quote(x$y)) = "call", which suggests I could write 
"as.character.call" to perform this function.  However, before I do, I 
felt a need to ask for other thoughts on this.


       Thanks,
       Spencer


From rmh at temple.edu  Wed May  7 23:26:58 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Wed, 7 May 2014 17:26:58 -0400
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536AA44A.6080009@structuremonitoring.com>
References: <536AA44A.6080009@structuremonitoring.com>
Message-ID: <CAGx1TMCu7UF4wQVJrXHNTSXUK5Yaek-=qOErGTJyxJfif+wMcQ@mail.gmail.com>

> deparse(quote(x$y))
[1] "x$y"

On Wed, May 7, 2014 at 5:23 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
> Hello, All:
>
>
>       Is there a simple utility someplace to convert "quote(x$y)" to "x$y"?
>
>
>       I ask, because as.character(quote(x$y)) is a character vector of
> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a diagnostic
> message.
>
>
>       class(quote(x$y)) = "call", which suggests I could write
> "as.character.call" to perform this function.  However, before I do, I felt
> a need to ask for other thoughts on this.
>
>
>       Thanks,
>       Spencer
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From 538280 at gmail.com  Wed May  7 23:30:20 2014
From: 538280 at gmail.com (Greg Snow)
Date: Wed, 7 May 2014 15:30:20 -0600
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536AA44A.6080009@structuremonitoring.com>
References: <536AA44A.6080009@structuremonitoring.com>
Message-ID: <CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>

> deparse(quote(x$y))
[1] "x$y"

It looks like deparse does what you want here.

On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
> Hello, All:
>
>
>       Is there a simple utility someplace to convert "quote(x$y)" to "x$y"?
>
>
>       I ask, because as.character(quote(x$y)) is a character vector of
> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a diagnostic
> message.
>
>
>       class(quote(x$y)) = "call", which suggests I could write
> "as.character.call" to perform this function.  However, before I do, I felt
> a need to ask for other thoughts on this.
>
>
>       Thanks,
>       Spencer
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From pdalgd at gmail.com  Wed May  7 23:38:01 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 7 May 2014 23:38:01 +0200
Subject: [R] Installation problem
In-Reply-To: <DUB129-W400AADC7F0129F0D2E31BBAD4E0@phx.gbl>
References: <DUB129-W361221CF611E4B5E26384AD4F0@phx.gbl>,
	<53690553.40108@stats.ox.ac.uk>,
	<DUB129-W12FF7109712DDA05B359AFAD4E0@phx.gbl>
	<DUB129-W400AADC7F0129F0D2E31BBAD4E0@phx.gbl>
Message-ID: <D8B9F50B-AFAE-4C5C-A226-9DFAE9F1CE31@gmail.com>

Google suggests that that error message is usually associated with cell phone browsers, so what exactly are you doing (all steps, including browser info)? I doubt that this an issue with R as such, more likely you have a general issue with large downloads.

- Peter D


On 07 May 2014, at 19:37 , Stephanie Sangalang <sosangalang at hotmail.com> wrote:

> Dear R-Help volunteers,
> 
> I received this error message when I tried to install R on my laptop: "The page is too large to send back." The laptop has Windows 8, x64, enough memory space, and open access (I have administrative rights). I have installed SPSS and SQL but have never installed R. I tried multiple times to install R and reviewed the information and FAQs from the R Project website. Unfortunately, I have not been able to find any answers. 
> 
> If possible, can you please tell me:
> 1) What does this error message mean?
> 2) What (if any) was the original error?
> 3) How I may resolve the error in order to successfully install R? 
> 
> I admit that I am a novice when it comes to software, so, it is highly likely that I have made a mistake. I would greatly appreciate any advice you could give me. Thank you very much for your assistance!
> 
> Best regards,
> Stephanie Sangalang 
> 
>> Date: Tue, 6 May 2014 16:52:51 +0100
>> From: ripley at stats.ox.ac.uk
>> To: sosangalang at hotmail.com; cran at r-project.org
>> Subject: Re: Installation problem
>> 
>> On 06/05/2014 13:27, Stephanie Sangalang wrote:
>>> Dear R-Project Team,
>>> 
>>> I have not been able to install R on my laptop. I received the error
>>> message, "This page is too large to send back." My laptop currently has
>>> SPSS and SQL. Can you please help me resolve this issue? Thank you very
>>> much!
>>> 
>>> Best regards,
>>> Stephanie Sangalang
>> 
>> This is CRAN: ask for help on R-help after studying its posting guide at 
>> http://www.r-project.org/posting-guide.html .
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 		 	   		   		 	   		  
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From gunter.berton at gene.com  Wed May  7 23:39:01 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 7 May 2014 14:39:01 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
Message-ID: <CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>

... and

> str(quote(x$y))
 language x$y

> as.list(quote(x$y))
[[1]]
`$`

[[2]]
x

[[3]]
y

## may be instructive.

Cheers,
Bert




Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>> deparse(quote(x$y))
> [1] "x$y"
>
> It looks like deparse does what you want here.
>
> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>> Hello, All:
>>
>>
>>       Is there a simple utility someplace to convert "quote(x$y)" to "x$y"?
>>
>>
>>       I ask, because as.character(quote(x$y)) is a character vector of
>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a diagnostic
>> message.
>>
>>
>>       class(quote(x$y)) = "call", which suggests I could write
>> "as.character.call" to perform this function.  However, before I do, I felt
>> a need to ask for other thoughts on this.
>>
>>
>>       Thanks,
>>       Spencer
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> Gregory (Greg) L. Snow Ph.D.
> 538280 at gmail.com
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jhazlehu at tulane.edu  Wed May  7 22:55:22 2014
From: jhazlehu at tulane.edu (Jenushka)
Date: Wed, 7 May 2014 13:55:22 -0700 (PDT)
Subject: [R] overdispersed zero inflated continuous data
Message-ID: <1399496122003-4690142.post@n4.nabble.com>

I'm a beginning R user. 

The data: Volume of nectar in flowers under 4 different treatments, nested
for individual (measures were taken mutliple times from different flowers of
the same individual- never the same flower). 

Specs: 54% of the data = 0. Variance=3.89. Mean=1.03. Sample size per
treatment varies, all are >20. 

I am trying to determine if treatment had any impact on nectar volume. 

Thanks

J



--
View this message in context: http://r.789695.n4.nabble.com/overdispersed-zero-inflated-continuous-data-tp4690142.html
Sent from the R help mailing list archive at Nabble.com.


From spencer.graves at structuremonitoring.com  Thu May  8 01:23:09 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Wed, 07 May 2014 16:23:09 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
Message-ID: <536AC05D.6030805@structuremonitoring.com>

       Thanks for the quick replies from Richard Heiberger, Greg Show & 
Bert Gunter.


       Might it make sense to create as.character.call as an alias for 
deparse?


       A few years ago, I wrote several functions like "predict.fd" as 
aliases for functions with less memorable names like "eval.fd".  Doing 
that made the "fda" package easier to use, at least for me ;-)


       Thanks again,
       Spencer


On 5/7/2014 2:39 PM, Bert Gunter wrote:
> ... and
>
>> str(quote(x$y))
>   language x$y
>
>> as.list(quote(x$y))
> [[1]]
> `$`
>
> [[2]]
> x
>
> [[3]]
> y
>
> ## may be instructive.
>
> Cheers,
> Bert
>
>
>
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>> deparse(quote(x$y))
>> [1] "x$y"
>>
>> It looks like deparse does what you want here.
>>
>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>> <spencer.graves at structuremonitoring.com> wrote:
>>> Hello, All:
>>>
>>>
>>>        Is there a simple utility someplace to convert "quote(x$y)" to "x$y"?
>>>
>>>
>>>        I ask, because as.character(quote(x$y)) is a character vector of
>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a diagnostic
>>> message.
>>>
>>>
>>>        class(quote(x$y)) = "call", which suggests I could write
>>> "as.character.call" to perform this function.  However, before I do, I felt
>>> a need to ask for other thoughts on this.
>>>
>>>
>>>        Thanks,
>>>        Spencer
>>>
>>>
>>>
>>> --
>>> Gregory (Greg) L. Snow Ph.D.
>>> 538280 at gmail.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.


From david.stevens at usu.edu  Thu May  8 01:30:19 2014
From: david.stevens at usu.edu (David Stevens)
Date: Wed, 07 May 2014 17:30:19 -0600
Subject: [R] minor tick marks on boxplot log scale
In-Reply-To: <CA+jRDxDqiBSV2HsiRu2=3JabcG62xdPWmUN8SYNoomZjN6hSPg@mail.gmail.com>
References: <CA+jRDxDqiBSV2HsiRu2=3JabcG62xdPWmUN8SYNoomZjN6hSPg@mail.gmail.com>
Message-ID: <536AC20B.5000604@usu.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/4feb60be/attachment.pl>

From david.stevens at usu.edu  Thu May  8 01:35:36 2014
From: david.stevens at usu.edu (David Stevens)
Date: Wed, 07 May 2014 17:35:36 -0600
Subject: [R] minor tick marks on boxplot log scale
In-Reply-To: <CA+jRDxDqiBSV2HsiRu2=3JabcG62xdPWmUN8SYNoomZjN6hSPg@mail.gmail.com>
References: <CA+jRDxDqiBSV2HsiRu2=3JabcG62xdPWmUN8SYNoomZjN6hSPg@mail.gmail.com>
Message-ID: <536AC348.20001@usu.edu>

On closer inspection, change n=5 to n=10 in

major.ticks <- pretty(lims,n=5)

Then, I get 10^0, 10^1, etc. with all the minors. Is this what you want?

David

On 5/7/2014 10:32 AM, Shane Carey wrote:
> Hey,
>
> Im using the function below to create minor tick marks on log scale. It
> only plots every second marker, i.e. 10^0, 10^2 and so on. How do I get it
> to plot at every interval? Thanks
>
> minor.ticks.axis <- function(ax,n,t.ratio=0.5,mn,mx,...){
>
>    lims <- par("usr")
>    if(ax %in%c(1,3)) lims <- lims[1:2] else lims[3:4]
>
>    major.ticks <- pretty(lims,n=5)
>    if(missing(mn)) mn <- min(major.ticks)
>    if(missing(mx)) mx <- max(major.ticks)
>
>    major.ticks <- major.ticks[major.ticks >= mn & major.ticks <= mx]
>
>    labels <- sapply(major.ticks,function(i)
>              as.expression(bquote(10^ .(i)))
>            )
>    axis(ax,at=major.ticks,labels=labels,...)
>
>    n <- n+2
>    minors <- log10(pretty(10^major.ticks[1:2],n))-major.ticks[1]
>    minors <- minors[-c(1,n)]
>
>    minor.ticks = c(outer(minors,major.ticks,`+`))
>    minor.ticks <- minor.ticks[minor.ticks > mn & minor.ticks < mx]
>
>
>    axis(ax,at=minor.ticks,tcl=par("tcl")*t.ratio,labels=FALSE)}
>
> x <- 10^(0:8)
> y <- 1:9
> plot(log10(x),y,xaxt="n",xlab="x",xlim=c(0,9))
> minor.ticks.axis(1,9,mn=0,mx=8)
>
>
> Thanks
>
>

-- 
David K Stevens, P.E., Ph.D.
Professor and Head, Environmental Engineering
Civil and Environmental Engineering
Utah Water Research Laboratory
8200 Old Main Hill
Logan, UT  84322-8200
435 797 3229 - voice
435 797 1363 - fax
david.stevens at usu.edu


From jim at bitwrit.com.au  Thu May  8 01:57:34 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Thu, 08 May 2014 09:57:34 +1000
Subject: [R] plotting lines on old graph after par(new=TRUE)
In-Reply-To: <CAB0Y+LSaUXTtTm0a+w_DR9VPGcVH_=s7mtF55A=6s+9KLcx0-A@mail.gmail.com>
References: <CAB0Y+LSaUXTtTm0a+w_DR9VPGcVH_=s7mtF55A=6s+9KLcx0-A@mail.gmail.com>
Message-ID: <1882410.KcS6puxPiX@localhost.localdomain>

Hi Dustin,
Similar to what Boris suggested, try scaling the values and not 
resetting the plot limits:

scaleBreak = function(x,y,axis=2,breakpos=1,ymult=0.45,...){

    #### figure out which Y values are above the breakpos
    y_above<-y[y>breakpos]
    x_above<-x[y>breakpos]
    y_below<-y[y<=breakpos]
    x_below<-x[y<=breakpos]

    # scale the y limit according to the compression of high y values
    ylim<-c(min(y),(max(y_above)-breakpos)*1.1*ymult+breakpos)
    
    #### plot bottom graph
    plot(0,xlim=range(x),ylim=ylim,type="n", yaxt="n",...)
    points(x_below, y_below, yaxt="n",...)
    axis(2, pretty(y_below))

    #### add second graph
    newy<-(y_above-breakpos)*ymult+breakpos
    points(x_above,newy,...)
    ylabels<-pretty(y_above)
    cat(ylabels,(ylabels-breakpos)*ymult+breakpos,"\n")
    axis(2, at=(ylabels-breakpos)*ymult+breakpos,labels=ylabels)
    require(plotrix)
    axis.break(axis=axis, breakpos,style="gap")
}

I would also suggest using the gap style axis break.

Jim

On Wed, 7 May 2014 01:37:17 PM Dustin Fife wrote:
> Hi,
> 
> In my work, I often investigate relationships between highly skewed 
data.
> Example:
> 
> set.seed(111)
> require(MASS)
> d = data.frame(mvrnorm(1000, mu=c(0,0), 
Sigma=matrix(c(1,.6,.6,1), nrow=2)))
> names(d) = c("x","y")
> ## Skew Y
> d$y = d$y^4
> plot(d$x, d$y)
> lines(lowess(d$x, d$y), lwd=2, col="blue")
> 
> Unfortunately, with such skewed data, it's hard to see the line 
unless we
> "zoom in," by either ignoring the outliers, or "breaking" the scale of 
the
> y axis, such that the first 2/3 of the graph correspond to a "normal"
> scale, and the remaining 1/3 correspond to a "compressed" scale. (I 
know
> this is generally not recommended, see
> http://r.789695.n4.nabble.com/split-a-y-axis-to-show-data-on-different-scale
> s-td805816.html). I created a function to do this:
> 
> scaleBreak = function(x,y,axis=2, breakpos=1,...){
> 
>     #### figure out which Y values are above the breakpos
>     y_above = y[y>breakpos]; x_above = x[y>breakpos]
>     y_below = y[y<=breakpos]; x_below = x[y<=breakpos]
> 
>     #### pick ranges
>     range_1 = range(y_below)
>     range_2 = range(y_above)
> 
>     #### find limits of y axis (so it spans 2/3rds)
>     mx = max(y_below); mn = min(y_below)
>     ylims1 = c(mn, mx + (mx-mn)/2)
> 
>     #### plot bottom graph
>     plot(range(x), ylims1, type="n", yaxt="n",...)
>     points(x_below, y_below, yaxt="n",...)
>     axis(2, pretty(y_below))
> 
>     min2 = (breakpos + .45*breakpos - max(y))/.45
> 
>     #### add second graph
>     par(new=TRUE)
>     plot(range(x), c(min2, max(y)), type="n", yaxt="n", xaxt="n", 
ylab="",
> axes=F)
>     points(x_above, y_above, yaxt="n",...)
>     axis(2, pretty(y_above)[-1])
>     require(plotrix)
>     axis.break(axis=axis, breakpos)
> 
> }
> 
> The problem I'm having is that the fitted line is not printed on the 
scale
> of the bottom 2/3 plot:
> 
> scaleBreak(d$x, d$y, breakpos=20)
> lines(lowess(d$x, d$y), lwd=2, col="blue")
> 
> Can anyone think of a solution where the line is on the scale of the 
bottom
> 2/3 of the plot, in the right location? (Again, let me preempt the
> objections others might raise about how this should not be done. I 
know it
> generally should not be done, but let's pretend I have an excellent 
reason
> 
> :) )
> 
> Thanks in advance!
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible 
code.


From markpayneatwork at gmail.com  Thu May  8 02:58:54 2014
From: markpayneatwork at gmail.com (Mark Payne)
Date: Thu, 8 May 2014 02:58:54 +0200
Subject: [R] MRF smoothers in MGCV - specifying neighbours
Message-ID: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140508/f5279f7a/attachment.pl>

From sannandi at umail.iu.edu  Thu May  8 01:05:06 2014
From: sannandi at umail.iu.edu (Sandip Nandi)
Date: Wed, 7 May 2014 16:05:06 -0700
Subject: [R] can we add raw data to data frame
Message-ID: <CAGSjAUCQHexHi1KgACfz3cMfaNtLQp99n6RP-CjVtcRv1RF2Sw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140507/4871442d/attachment.pl>

From elodie.gillain at gmail.com  Thu May  8 04:15:29 2014
From: elodie.gillain at gmail.com (lydia)
Date: Wed, 07 May 2014 22:15:29 -0400
Subject: [R] timedep in frailtypack
Message-ID: <536AE8C1.90905@aim.com>

Hello everyone,

I have been trying to use the timedep(predictor) capability of the 
frailtypack package in order to include time-varying covariates in a 
frailty model. The following is an example of the code I use:

sha.time <- frailtyPenal(Surv(time,event)~cluster(id)+timedep(age)
,Frailty=TRUE,data=StudyData,n.knots=8,kappa1=1)

However, I get the following error message when running the above code.
Error in eval(expr, envir, enclos) : could not find function "timedep"

I do get model parameter estimates when I remove timedep() from the syntax.

Thanks in advance for your help and pointers


From jdnewmil at dcn.davis.CA.us  Thu May  8 05:41:19 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 07 May 2014 20:41:19 -0700
Subject: [R] can we add raw data to data frame
In-Reply-To: <CAGSjAUCQHexHi1KgACfz3cMfaNtLQp99n6RP-CjVtcRv1RF2Sw@mail.gmail.com>
References: <CAGSjAUCQHexHi1KgACfz3cMfaNtLQp99n6RP-CjVtcRv1RF2Sw@mail.gmail.com>
Message-ID: <4c2cb444-caa7-4536-a4fa-20cc26d795ea@email.android.com>

I think R is doing exactly what you told it to do. Since you don't seem to be satisfied, perhaps you need to explain what it is you want by giving us an example of what you think you should end up with. You may have tried to do so, but you failed to read and follow the Posting Guide (which warns you not to use HTML email) so we don't know what you intended to communicate.

BTW I don't know why you are using the word "model" to describe a length 2 numeric vector.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 7, 2014 4:05:06 PM PDT, Sandip Nandi <sannandi at umail.iu.edu> wrote:
>Hi ,
>
>I want to add a serialized data to a data frame . The representation
>does
>not look good.
>
>> x<- c(1,2)
>> serialize(x,NULL)
>[1] 58 0a 00 00 00 02 00 03 00 02 00 02 03 00 00 00 00 0e 00 00 00 02
>3f f0
>00
>[26] 00 00 00 00 00 40 00 00 00 00 00 00 00
>> y<-serialize(x,NULL)
>> z=-1
>> m<- data.frame(y,z)
>> m
>y z
>1 58 -1
>2 0a -1
>3 00 -1
>4 00 -1
>5 00 -1
>6 02 -1
>7 00 -1
>8 03 -1
>9 00 -1
>10 02 -1
>11 00 -1
>12 02 -1
>13 03 -1
>
>
>> m[[1]]
>[1] 58 0a 00 00 00 02 00 03 00 02 00 02 03 00 00 00 00 0e 00 00 00 02
>3f f0
>00
>[26] 00 00 00 00 00 40 00 00 00 00 00 00 00
>> m[[2]]
>[1] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1
>-1 -1
>-1
>[26] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1
>
>why the representation is like this ? I
>
>What I want to achieve :=>
>
>I have created a model and want to save it in data frame in raw format
>.
>
>Can you please help?
>
>Thanks,
>Sandip
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From meyners.m at pg.com  Thu May  8 08:19:38 2014
From: meyners.m at pg.com (Meyners, Michael)
Date: Thu, 8 May 2014 06:19:38 +0000
Subject: [R] R / JMP interface
In-Reply-To: <A8EFBA73D2BB5B4BB463036182C07BE00115B613@USTLMLLYC110.RF.lilly.com>
References: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
	<A8EFBA73D2BB5B4BB463036182C07BE00115B613@USTLMLLYC110.RF.lilly.com>
Message-ID: <AE85F2AAC98B094483D12EEA72230EBD680F5723@GADC-EMB019.na.pg.com>

Not sure about JMP 11, but remember that JMP 10 did not run with R version >= 3.0.0 
It depends a bit on the changes that come with new R versions; with JMP 10, several versions of the 2.x series were compatible even though JMP officially only supported earlier versions. I had hoped that with JMP 11 supporting R 3.0.1, this would work for a while for the following R versions, but that's apparently not the case; I haven't checked recently. You may have to downgrade (well, have a parallel install) of R 3.0.1 or earlier to get this working, that worked for me in the past, though admittedly not optimal. JMP will always be behind the latest R versions due to the extended testing phase before the release their new version -- R typically releases 2 versions or so during this testing phase alone... Alternatively, you might want to find out what changes in R render it incompatible with JMP and reverse these changes for your own R installation if possible -- that's certainly beyond my capabilities...
My understanding is that it is not to  be expected that R 3.1 will ever be supported by JMP 11; you'd likely have to wait for JMP 12; I was once told that they do not make updates in this regard with their within-major-release patches, though certainly desirable from my pov...
HTH, Michael


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Samuel J Gardner
> Sent: Mittwoch, 7. Mai 2014 18:20
> To: Robert Douglas Kinley; r-help at r-project.org
> Subject: Re: [R] R / JMP interface
> 
> https://communities.sas.com/message/199936
> 
> see link.  Looks like R 3.1 may not yet be supported with JMP 11.
> 
> _____________________________________________
> From: Robert Douglas Kinley
> Sent: Wednesday, May 07, 2014 12:18 PM
> To: r-help at r-project.org
> Cc: Samuel J Gardner
> Subject: R / JMP interface
> 
> 
> hi useRs
> 
> I am trying-out the facility to call R code from JMP.
> 
> details:  R 3.1.0 , JMP 11.1.1 , Windows 7 enterprise , all 64 bit.
> 
> The test-script from the JMP help pages falls over at the first line :- R Init();
> 
> giving the error-message :-
> The installed version of R cannot be used.  The entry point "ConsoleIob"
> could not be located.
> 
> Has anyone else come across this - and ideally has anyone got a solution   ?
> 
> (I have submitted a request to JMP/SAS help too).
> 
>         cheers          Bob
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From i.visser at uva.nl  Thu May  8 10:08:49 2014
From: i.visser at uva.nl (Ingmar Visser)
Date: Thu, 8 May 2014 10:08:49 +0200
Subject: [R] Fitting a Mixture of Noncentral Student t Distributions to
 a one-dimensional sample
In-Reply-To: <53615D6A.9050503@googlemail.com>
References: <53615D6A.9050503@googlemail.com>
Message-ID: <CABmqZHPa7cFAPEDRjGpLSf07xp8hO+uFSUhBzPQZ_Pg2BoiKDA@mail.gmail.com>

Hi Johannes,
Below code gives good results for me; note that trying multiple
starting is often important in fitting mixture models, even in simple
cases like this.
Note also that the sigma and nu parameters in gamlssMX are fitted on a
log scale, hence the possible occurrence of negative results.
hth, Ingmar

    # 2:
    N <- 2000
    components <- sample(1:2,prob=c(0.6,0.4),size=N,replace=TRUE)
    mus <- c(3,-6)
    sds <- c(1,9)
    nus <- c(25,3)
    mixsim <- data.frame(rTF2(N,mu=mus[components],sigma=sds[components],nu=nus[components]))
    colnames(mixsim) <- "MCsim"
    plot(density(mixsim$MCsim) , xlim=c(-50,50))

set.seed(2)
    fit2 <- gamlssMX(MCsim~1,data=mixsim,family="TF",K=2)
    fit2

On Wed, Apr 30, 2014 at 10:30 PM, Johannes Moser <jzmoser at gmail.com> wrote:
> Dear R community,
>
> I`d like to extract the parameters of a two-component mixture distribution
> of noncentral student t distributions which was fitted to a one-dimensional
> sample.
>
> There are many packages for R that are capable of handling mixture
> distributions in one way or another. Some in the context of a Bayesian
> framework requiring kernels. Some in a regression framework. Some in a
> nonparametric framework. ...
>
> So far the "mixdist"-package seems to come closest to my wish. This package
> fits parametric mixtures to a sample of data. Unfortunately it doesn`t
> support the student t distribution.
>
> I have also tried to manually set up a likelihood function as described
> here:
> http://stackoverflow.com/questions/6485597/r-how-to-fit-a-large-dataset-with-a-combination-of-distributions
> But the result is far from perfect.
>
> The "gamlss.mx"-package might be helping, but originally it seems to be set
> up for another context, i.e. regression. I tried to regress my data on a
> constant and then extract the parameters for the estimated mixture error
> distribution. But the estimated parameters seem to be not directly
> accessable individually by some command (such as fit1$sigma). And there seem
> to be serious convergence problems even in pretty simple and nonambiguous
> cases (see example 2). The following syntax is my gamlss.mx-setup so far:
>
>
>     library(gamlss.dist)
>     library(gamlss.mx)
>     library(MASS)
>
>     # 1:
>     data(geyser)
>     plot(density(geyser$waiting) )
>     fit1 <- gamlssMX(waiting~1,data=geyser,family="TF",K=2)
>     fit1
>     # works fine
>
>     # 2:
>     N <- 100000
>     components <- sample(1:2,prob=c(0.6,0.4),size=N,replace=TRUE)
>     mus <- c(3,-6)
>     sds <- c(1,9)
>     nus <- c(25,3)
>     mixsim <-
> data.frame(rTF2(N,mu=mus[components],sigma=sds[components],nu=nus[components]))
>     colnames(mixsim) <- "MCsim"
>     plot(density(mixsim$MCsim) , xlim=c(-50,50))
>     fit2 <- gamlssMX(MCsim~1,data=mixsim,family="TF",K=2)
>     fit2
>     # no convergence
>
> With another dataset and when using the same two component densities for the
> mixture as above I ended up with negative estimates for sigma (which should
> be positive).
>
> I would be very grateful for any advice. I`ve read through many manuals and
> vignettes today but it seems that I am nearly in the same place where I was
> this morning.
> A small example for a setup that works sort of reliably would be fantastic!
>
> Thanks a lot in advance!!
> Johannes
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kinley_robert at lilly.com  Thu May  8 10:25:28 2014
From: kinley_robert at lilly.com (Robert Douglas Kinley)
Date: Thu, 8 May 2014 08:25:28 +0000
Subject: [R] R / JMP interface
In-Reply-To: <AE85F2AAC98B094483D12EEA72230EBD680F5723@GADC-EMB019.na.pg.com>
References: <ED7BD6A4158A1E42913C469CE74CA50E1BABD2CE@ukdxmllyc301.rf.lilly.com>
	<A8EFBA73D2BB5B4BB463036182C07BE00115B613@USTLMLLYC110.RF.lilly.com>
	<AE85F2AAC98B094483D12EEA72230EBD680F5723@GADC-EMB019.na.pg.com>
Message-ID: <ED7BD6A4158A1E42913C469CE74CA50E1BABD63A@ukdxmllyc301.rf.lilly.com>

thanks Michael.

That fits in with the response from JMP and with the experience of colleagues.

Guess I'll just stick with R :)

	cheers		Bob



-----Original Message-----
From: Meyners, Michael [mailto:meyners.m at pg.com] 
Sent: 08 May 2014 07:20
To: Samuel J Gardner; Robert Douglas Kinley; r-help at r-project.org
Subject: RE: R / JMP interface

Not sure about JMP 11, but remember that JMP 10 did not run with R version >= 3.0.0 It depends a bit on the changes that come with new R versions; with JMP 10, several versions of the 2.x series were compatible even though JMP officially only supported earlier versions. I had hoped that with JMP 11 supporting R 3.0.1, this would work for a while for the following R versions, but that's apparently not the case; I haven't checked recently. You may have to downgrade (well, have a parallel install) of R 3.0.1 or earlier to get this working, that worked for me in the past, though admittedly not optimal. JMP will always be behind the latest R versions due to the extended testing phase before the release their new version -- R typically releases 2 versions or so during this testing phase alone... Alternatively, you might want to find out what changes in R render it incompatible with JMP and reverse these changes for your own R installation if possible -- that's certainly beyond my capabilities...
My understanding is that it is not to  be expected that R 3.1 will ever be supported by JMP 11; you'd likely have to wait for JMP 12; I was once told that they do not make updates in this regard with their within-major-release patches, though certainly desirable from my pov...
HTH, Michael


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Samuel J Gardner
> Sent: Mittwoch, 7. Mai 2014 18:20
> To: Robert Douglas Kinley; r-help at r-project.org
> Subject: Re: [R] R / JMP interface
> 
> https://communities.sas.com/message/199936
> 
> see link.  Looks like R 3.1 may not yet be supported with JMP 11.
> 
> _____________________________________________
> From: Robert Douglas Kinley
> Sent: Wednesday, May 07, 2014 12:18 PM
> To: r-help at r-project.org
> Cc: Samuel J Gardner
> Subject: R / JMP interface
> 
> 
> hi useRs
> 
> I am trying-out the facility to call R code from JMP.
> 
> details:  R 3.1.0 , JMP 11.1.1 , Windows 7 enterprise , all 64 bit.
> 
> The test-script from the JMP help pages falls over at the first line :- R Init();
> 
> giving the error-message :-
> The installed version of R cannot be used.  The entry point "ConsoleIob"
> could not be located.
> 
> Has anyone else come across this - and ideally has anyone got a solution   ?
> 
> (I have submitted a request to JMP/SAS help too).
> 
>         cheers          Bob
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From thanoon.younis80 at gmail.com  Thu May  8 11:36:41 2014
From: thanoon.younis80 at gmail.com (thanoon younis)
Date: Thu, 8 May 2014 12:36:41 +0300
Subject: [R] problem in r-code
Message-ID: <CABLo8nHXauR3+uvygRe6QS_AgRdVfra-O-pQPnrkJwuhnZt=Eg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140508/8b150d6d/attachment.pl>

From mbressan at arpa.veneto.it  Thu May  8 11:44:47 2014
From: mbressan at arpa.veneto.it (Massimo Bressan)
Date: Thu, 08 May 2014 11:44:47 +0200
Subject: [R] group by and merge two dataframes
Message-ID: <536B520F.5000508@arpa.veneto.it>

given this "bare bone" example:

df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2), 
rep("C",2)))
df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))

I need to group the first dataframe "df1" by "id" and then merge with 
the second dataframe "df2" (again by "id")
so far I've manged to accomplish the task by something like the following...

# start

require(sqldf)
tmp<-sqldf("select * from df1 group by id")
merge(tmp, df2)

#end

now I'm wonderng if there is a more efficient and/or elegant way to 
perform it (also because in fact I'm dealing with much more "heavy" 
dataframes);

may be possible through a single sql statement?  or by using a different 
package functions (e.g. dplyr)?
my attempts towards these alternative approaches miserably failed ...

thanks


From roger.bivand at nhh.no  Thu May  8 13:10:05 2014
From: roger.bivand at nhh.no (Roger Bivand)
Date: Thu, 8 May 2014 11:10:05 +0000
Subject: [R] MRF smoothers in MGCV - specifying neighbours
References: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>
Message-ID: <loom.20140508T125242-560@post.gmane.org>

Mark Payne <markpayneatwork <at> gmail.com> writes:

> 
> Hi,
> 
> Does anyone have an example of a Markov Random Field smoother (MRF) in MGCV
> where they have specified the neighbourhood directly, rather than supplying
> polygons? Does anyone understand how the rules should be? Based on the
> columb example, I have setup my data set and neighbourhood like so:
> 
> > head(nb.l)
> $`10/10`
> [1] 135 155 153
> 
...
> 
> > head(obs)
>             x          y      truth x.idx y.idx xy.idx
> 24  1.4835147  0.8026673  2.3605204    13    10  13/10
...
> 
> but get the following error:
> 
> > mdl <- gam(truth ~
> s(xy.idx,bs="mrf",xt=list(nb=nb.l)),data=obs,method="REML")
> Error in smooth.construct.mrf.smooth.spec(object, dk$data, dk$knots) :
>   mismatch between nb/polys supplied area names and data area names

I could reconstruct your problem with:

library(mgcv)
library(spdep)
example(columbus)
nb <- poly2nb(columbus)
names(nb) <- attr(nb, "region.id")
columbus$ID <- names(nb)
bnb <- gam(CRIME ~ s(ID, bs="mrf", xt=list(nb=nb)), data=columbus,  
method="REML")

#Error in ExtractData(object, data, knots) : 
#  'names' attribute [1] must be the same length as the vector [0]

It appears that the ID variable is happier as integer:

columbus$ID <- as.integer(names(nb))
bnb <-  gam(CRIME ~ s(ID, bs="mrf", xt=list(nb=nb)), data=columbus,
method="REML")
summary(bnb)

Using another representation:

nb <- poly2nb(columbus, row.names=columbus$NEIGNO)
names(nb) <- attr(nb, "region.id")
bnb <-  gam(CRIME ~ s(NEIGNO, bs="mrf", xt=list(nb=nb)), data=columbus,
method="REML")

also works, but NEIGNO is numeric. 

It appears that the ID variable should be numeric (or integer), but that the
names of the list of neighbour vector should be character, but otherwise
match. The call tree is not simple; the error seems to occur in
mgcv:::ExtractData.

Hope this helps,

Roger

> 
> However, there is a perfect match between the nb list names and the data
> area names:
> > all(levels(obs$xy.idx) %in% names(nb.l))
> [1] TRUE
> >
> 
> Any suggestions where to start?
> 
> Mark
> 
> 	[[alternative HTML version deleted]]
> 
>


From ruipbarradas at sapo.pt  Thu May  8 13:21:25 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 08 May 2014 12:21:25 +0100
Subject: [R] group by and merge two dataframes
In-Reply-To: <536B520F.5000508@arpa.veneto.it>
References: <536B520F.5000508@arpa.veneto.it>
Message-ID: <536B68B5.3080800@sapo.pt>

Hello,

There are some alternatives without using sqldf or another package.

1.

tmp2 <- aggregate(item ~ id, data = df1, FUN = unique)

Then merge() like you've done.

2.

tmp3 <- merge(df1, df2)
tmp3[!duplicated(tmp3), ]


Hope this helps,

Rui Barradas

Em 08-05-2014 10:44, Massimo Bressan escreveu:
> given this "bare bone" example:
>
> df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2),
> rep("C",2)))
> df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))
>
> I need to group the first dataframe "df1" by "id" and then merge with
> the second dataframe "df2" (again by "id")
> so far I've manged to accomplish the task by something like the
> following...
>
> # start
>
> require(sqldf)
> tmp<-sqldf("select * from df1 group by id")
> merge(tmp, df2)
>
> #end
>
> now I'm wonderng if there is a more efficient and/or elegant way to
> perform it (also because in fact I'm dealing with much more "heavy"
> dataframes);
>
> may be possible through a single sql statement?  or by using a different
> package functions (e.g. dplyr)?
> my attempts towards these alternative approaches miserably failed ...
>
> thanks
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kevin.thorpe at utoronto.ca  Thu May  8 14:44:57 2014
From: kevin.thorpe at utoronto.ca (Kevin E. Thorpe)
Date: Thu, 8 May 2014 08:44:57 -0400
Subject: [R] R for Android
Message-ID: <536B7C49.7070002@utoronto.ca>

This is a question asked purely out of idle curiosity (and may also be 
in wrong list). Are there plans for porting R to Android devices or 
chromebooks? Maybe it's as simple as compiling the source, but I don't 
know what tools are available.

One of the current advantages of R is it runs on all commonly used 
platforms. If chromebooks and android devices get into greater use, it 
would be cool if R were available.

Kevin

-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From mario_wiegand at gmx.de  Thu May  8 13:51:03 2014
From: mario_wiegand at gmx.de (marioger)
Date: Thu, 8 May 2014 04:51:03 -0700 (PDT)
Subject: [R] Outlier Detection with k-Means
In-Reply-To: <CAF8bMcbXddcYBWJPaApempo9fhFDfM=ru0ukOLePyxvdrAFUhw@mail.gmail.com>
References: <1399451651282-4690098.post@n4.nabble.com>
	<CAF8bMcbXddcYBWJPaApempo9fhFDfM=ru0ukOLePyxvdrAFUhw@mail.gmail.com>
Message-ID: <1399549863350-4690186.post@n4.nabble.com>

Thank you very much. This was exactly what I was looking for.



--
View this message in context: http://r.789695.n4.nabble.com/Outlier-Detection-with-k-Means-tp4690098p4690186.html
Sent from the R help mailing list archive at Nabble.com.


From s.wood at bath.ac.uk  Thu May  8 15:15:02 2014
From: s.wood at bath.ac.uk (Simon Wood)
Date: Thu, 08 May 2014 14:15:02 +0100
Subject: [R] MRF smoothers in MGCV - specifying neighbours
In-Reply-To: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>
References: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>
Message-ID: <536B8356.8070100@bath.ac.uk>

Hi Mark,

I'm not sure what is happening here - there is no chance that nb.l 
contains a neighbourhood not in the levels of obs$xy.idx, I suppose? 
i.e. is

all(names(nb.l)%in%levels(obs$xy.idx))

also TRUE? Here is some code illustrating what nb should look like (and 
in response to Roger Bivand's suggestion I also tried this replacing all 
the labels with things like "x/y", but it still works).


## example mrf fit using polygons....
library(mgcv)
## Load Columbus Ohio crime data (see ?columbus for details and credits)
data(columb)       ## data frame
data(columb.polys) ## district shapes list
xt <- list(polys=columb.polys) ## neighbourhood structure info for MRF
par(mfrow=c(2,2))
## First a full rank MRF...
b0 <- gam(crime ~ s(district,bs="mrf",xt=xt),data=columb,method="REML")

## same fit based on direct neighbour spec...
nb <- mgcv:::pol2nb(columb.polys)$nb
xt <- list(nb=nb)
b <- gam(crime ~ s(district,bs="mrf",xt=xt),data=columb,method="REML")

best,
Simon



On 08/05/14 01:58, Mark Payne wrote:
> Hi,
>
> Does anyone have an example of a Markov Random Field smoother (MRF) in MGCV
> where they have specified the neighbourhood directly, rather than supplying
> polygons? Does anyone understand how the rules should be? Based on the
> columb example, I have setup my data set and neighbourhood like so:
>
>> head(nb.l)
> $`10/10`
> [1] 135 155 153
>
> $`10/2`
> [1] 27  8  6
>
> $`10/3`
> [1] 48  7 28 26
>
> $`10/4`
> [1] 69 27 49 47
>
> $`10/5`
> [1] 48 70 68
>
> $`10/7`
> [1] 115  95  93
>
>> head(obs)
>              x          y      truth x.idx y.idx xy.idx
> 24  1.4835147  0.8026673  2.3605204    13    10  13/10
> 26  1.0452111  0.4673685  1.8316741    11     8   11/8
> 43  2.1514977 -0.2640058 -2.8812026    17     5   17/5
> 46  2.8473951  0.5445714  3.6347799    20     9   20/9
> 53  1.7983253 -0.6905912 -2.5473984    15     3   15/3
> 86 -0.1839814 -0.7824026 -0.5776616     5     2    5/2
>>
>
> but get the following error:
>
>> mdl <- gam(truth ~
> s(xy.idx,bs="mrf",xt=list(nb=nb.l)),data=obs,method="REML")
> Error in smooth.construct.mrf.smooth.spec(object, dk$data, dk$knots) :
>    mismatch between nb/polys supplied area names and data area names
>
> However, there is a perfect match between the nb list names and the data
> area names:
>> all(levels(obs$xy.idx) %in% names(nb.l))
> [1] TRUE
>>
>
> Any suggestions where to start?
>
> Mark
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Simon Wood, Mathematical Science, University of Bath BA2 7AY UK
+44 (0)1225 386603               http://people.bath.ac.uk/sw283


From markpayneatwork at gmail.com  Thu May  8 16:17:00 2014
From: markpayneatwork at gmail.com (Mark Payne)
Date: Thu, 8 May 2014 16:17:00 +0200
Subject: [R] MRF smoothers in MGCV - specifying neighbours
In-Reply-To: <536B8356.8070100@bath.ac.uk>
References: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>
	<536B8356.8070100@bath.ac.uk>
Message-ID: <CAGBzUO9eAA512aatCkxzfXeKpoDQZft=u3PZbFsR39KJ7BUYPw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140508/1e393ad6/attachment.pl>

From smartpink111 at yahoo.com  Thu May  8 17:14:00 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 8 May 2014 08:14:00 -0700 (PDT)
Subject: [R] group by and merge two dataframes
In-Reply-To: <536B520F.5000508@arpa.veneto.it>
References: <536B520F.5000508@arpa.veneto.it>
Message-ID: <1399562040.24088.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,
May be this helps:
?merge(unique(df1),df2)
A.K.





On Thursday, May 8, 2014 5:46 AM, Massimo Bressan <mbressan at arpa.veneto.it> wrote:
given this "bare bone" example:

df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2), 
rep("C",2)))
df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))

I need to group the first dataframe "df1" by "id" and then merge with 
the second dataframe "df2" (again by "id")
so far I've manged to accomplish the task by something like the following...

# start

require(sqldf)
tmp<-sqldf("select * from df1 group by id")
merge(tmp, df2)

#end

now I'm wonderng if there is a more efficient and/or elegant way to 
perform it (also because in fact I'm dealing with much more "heavy" 
dataframes);

may be possible through a single sql statement?? or by using a different 
package functions (e.g. dplyr)?
my attempts towards these alternative approaches miserably failed ...

thanks

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From s.wood at bath.ac.uk  Thu May  8 17:21:41 2014
From: s.wood at bath.ac.uk (Simon Wood)
Date: Thu, 08 May 2014 16:21:41 +0100
Subject: [R] MRF smoothers in MGCV - specifying neighbours
In-Reply-To: <CAGBzUO9eAA512aatCkxzfXeKpoDQZft=u3PZbFsR39KJ7BUYPw@mail.gmail.com>
References: <CAGBzUO9aZhh9X1c2pnzU7MKEDF38rAOLn0nSpzvHP5eJL9EJGw@mail.gmail.com>	<536B8356.8070100@bath.ac.uk>
	<CAGBzUO9eAA512aatCkxzfXeKpoDQZft=u3PZbFsR39KJ7BUYPw@mail.gmail.com>
Message-ID: <536BA105.80708@bath.ac.uk>

Hi Mark,

The problem here is that the constructor expects there to be at least 
one observation per location. The nb.l list has neighbourhood 
information for 166 locations, while the 'obs' data contains 
observations for only 99 of them (unique(obs$xy.idx)).

The solution probably requires more complicated construction of nb.l. 
You can't just drop locations from the existing nb.l because that messes 
up the internal indexing of nb.l. You could add a dummy observation with 
zero weight for each of the extra locations, but I guess that isn't what 
you really want to do for this application, as presumably the 
neighbourhood structure is not supposed to lead to smoothing  across the 
gap between the two arms of the sausage...

best,
Simon

On 08/05/14 15:17, Mark Payne wrote:
> Hi Roger and Simon,
>
> Thanks for the replies. Simon's suggestion of an isolated or missing
> neighbourhood doesn't hold either.
>
> I've attached the code below - its my attempt to solve the FELSPLINE
> sausage using mrf rather than a soap smoother. Its a bit convoluted, but
> should run ok. I thought this would be a good starting example to get a
> GMRF running, but then hit the problem mentioned. My attempts to track
> the bug suggest that there is something wierd in the knots argument that
> is being supplied to smooth.construct.mrf.smooth.spec() - but haven't
> come so much further than that.
>
> Code follows.
>
> Mark
>
> #GMRF Example
> #Solves the classic FELSPINE problem using
> #GMRF in mgcv. This example is a modified version of the
> #example from smooth.construct.so.smooth.spec()
> #in the mgcv package
>
> rm(list=ls())
> library(mgcv)
>
> #Extract boundary
> fsb <- fs.boundary()
>
> #Create an underlying grid and evaluate the function on it
> #Based on mgcv::fs.boundary() example
> dx<-0.2;dy<-0.2    #Grid steps
> id.fmt <- "%i/%i"
> x.vals <- seq(-1,4,by=dx)
> y.vals<-seq(-1,1,by=dy)
> grd <- expand.grid(x=x.vals,y=y.vals)
> tru.mat <- matrix(fs.test(grd$x,grd$y),length(x.vals),length(y.vals))
> grd$truth <- as.vector(tru.mat)
> grd$x.idx <- as.numeric(factor(grd$x,x.vals))
> grd$y.idx <- as.numeric(factor(grd$y,y.vals))
> grd$xy.idx <- sprintf(id.fmt,grd$x.idx,grd$y.idx)
> grd <- subset(grd,!is.na <http://is.na>(truth))
>
> ## Simulate some fitting data, inside boundary...
> n.samps<-250
> x <- runif(n.samps)*5-1
> y  <- runif(n.samps)*2-1
> obs <- data.frame(x=x,y=y)
> obs$truth <- fs.test(obs$x,obs$y,b=1)
> obs$z <- obs$truth + rnorm(n.samps)*.3 ## add noise
> pt.inside <- inSide(fsb,x=x,y=y) ## remove outsiders
>
> ## Associate observation with grid cell
> obs$x.rnd <- round(obs$x/dx)*dx
> obs$y.rnd <- round(obs$y/dy)*dy
> obs$x.idx <- as.numeric(factor(obs$x.rnd,x.vals))
> obs$y.idx <- as.numeric(factor(obs$y.rnd,y.vals))
> obs$xy.idx <- sprintf(id.fmt,obs$x.idx,obs$y.idx)
> obs$xy.idx <- factor(obs$xy.idx,levels=grd$xy.idx)
>
> #Filter observations that are outside or don't have an associated grid cell
> obs <- subset(obs,pt.inside & xy.idx %in% grd$xy.idx )
>
> ## plot boundary with truth and data locations
> par(mfrow=c(1,2))
> image(x.vals,y.vals,tru.mat,col=heat.colors(100),xlab="x",ylab="y")
> contour(x.vals,y.vals,tru.mat,levels=seq(-5,5,by=.25),add=TRUE)
> lines(fsb$x,fsb$y);
> points(obs$x,obs$y,pch=3);
>
> #Plot grid
> plot(y~x,grd)
> lines(fsb$x,fsb$y);
>
> #Setup neighbourhood adjancey
> nb <- grd[,c("x.idx","y.idx","xy.idx")]
> nb$N <- factor(sprintf(id.fmt,nb$x.idx,nb$y.idx+1),levels=nb$xy.idx)
> nb$S <- factor(sprintf(id.fmt,nb$x.idx,nb$y.idx-1),levels=nb$xy.idx)
> nb$E <- factor(sprintf(id.fmt,nb$x.idx+1,nb$y.idx),levels=nb$xy.idx)
> nb$W <- factor(sprintf(id.fmt,nb$x.idx-1,nb$y.idx),levels=nb$xy.idx)
> nb.mat <- sapply(nb[,c("N","S","E","W")],as.numeric)
> nb.l <- lapply(split(nb.mat,nb$xy.idx),function(x) x[!is.na
> <http://is.na>(x)])
>


> #Fit MRF gam
> mdl <- gam(z ~ s(xy.idx,bs="mrf",xt=list(nb=nb.l)),data=obs,method="REML")
>
>
>
>
>
>
>
>
>
>
> On 8 May 2014 15:15, Simon Wood <s.wood at bath.ac.uk
> <mailto:s.wood at bath.ac.uk>> wrote:
>
>     Hi Mark,
>
>     I'm not sure what is happening here - there is no chance that nb.l
>     contains a neighbourhood not in the levels of obs$xy.idx, I suppose?
>     i.e. is
>
>     all(names(nb.l)%in%levels(obs$__xy.idx))
>
>     also TRUE? Here is some code illustrating what nb should look like
>     (and in response to Roger Bivand's suggestion I also tried this
>     replacing all the labels with things like "x/y", but it still works).
>
>
>     ## example mrf fit using polygons....
>     library(mgcv)
>     ## Load Columbus Ohio crime data (see ?columbus for details and credits)
>     data(columb)       ## data frame
>     data(columb.polys) ## district shapes list
>     xt <- list(polys=columb.polys) ## neighbourhood structure info for MRF
>     par(mfrow=c(2,2))
>     ## First a full rank MRF...
>     b0 <- gam(crime ~
>     s(district,bs="mrf",xt=xt),__data=columb,method="REML")
>
>     ## same fit based on direct neighbour spec...
>     nb <- mgcv:::pol2nb(columb.polys)$nb
>     xt <- list(nb=nb)
>     b <- gam(crime ~ s(district,bs="mrf",xt=xt),__data=columb,method="REML")
>
>     best,
>     Simon
>
>
>
>
>     On 08/05/14 01:58, Mark Payne wrote:
>
>         Hi,
>
>         Does anyone have an example of a Markov Random Field smoother
>         (MRF) in MGCV
>         where they have specified the neighbourhood directly, rather
>         than supplying
>         polygons? Does anyone understand how the rules should be? Based
>         on the
>         columb example, I have setup my data set and neighbourhood like so:
>
>             head(nb.l)
>
>         $`10/10`
>         [1] 135 155 153
>
>         $`10/2`
>         [1] 27  8  6
>
>         $`10/3`
>         [1] 48  7 28 26
>
>         $`10/4`
>         [1] 69 27 49 47
>
>         $`10/5`
>         [1] 48 70 68
>
>         $`10/7`
>         [1] 115  95  93
>
>             head(obs)
>
>                       x          y      truth x.idx y.idx xy.idx
>         24  1.4835147  0.8026673  2.3605204    13    10  13/10
>         26  1.0452111  0.4673685  1.8316741    11     8   11/8
>         43  2.1514977 -0.2640058 -2.8812026    17     5   17/5
>         46  2.8473951  0.5445714  3.6347799    20     9   20/9
>         53 1.7983253 <tel:53%20%201.7983253> -0.6905912 -2.5473984 15
>         <tel:2.5473984%20%20%20%2015>     3   15/3
>         86 -0.1839814 -0.7824026 -0.5776616     5     2    5/2
>
>
>
>         but get the following error:
>
>             mdl <- gam(truth ~
>
>         s(xy.idx,bs="mrf",xt=list(nb=__nb.l)),data=obs,method="REML")
>         Error in smooth.construct.mrf.smooth.__spec(object, dk$data,
>         dk$knots) :
>             mismatch between nb/polys supplied area names and data area
>         names
>
>         However, there is a perfect match between the nb list names and
>         the data
>         area names:
>
>             all(levels(obs$xy.idx) %in% names(nb.l))
>
>         [1] TRUE
>
>
>
>         Any suggestions where to start?
>
>         Mark
>
>                  [[alternative HTML version deleted]]
>
>         ________________________________________________
>         R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>         https://stat.ethz.ch/mailman/__listinfo/r-help
>         <https://stat.ethz.ch/mailman/listinfo/r-help>
>         PLEASE do read the posting guide
>         http://www.R-project.org/__posting-guide.html
>         <http://www.R-project.org/posting-guide.html>
>         and provide commented, minimal, self-contained, reproducible code.
>
>
>
>     --
>     Simon Wood, Mathematical Science, University of Bath BA2 7AY UK
>     +44 (0)1225 386603 <tel:%2B44%20%280%291225%20386603>
>     http://people.bath.ac.uk/sw283
>
>


-- 
Simon Wood, Mathematical Science, University of Bath BA2 7AY UK
+44 (0)1225 386603               http://people.bath.ac.uk/sw283


From jeremy.miles at gmail.com  Thu May  8 17:57:18 2014
From: jeremy.miles at gmail.com (Jeremy Miles)
Date: Thu, 8 May 2014 08:57:18 -0700
Subject: [R] R for Android
In-Reply-To: <536B7C49.7070002@utoronto.ca>
References: <536B7C49.7070002@utoronto.ca>
Message-ID: <CAMtGSxnMPhryFLA28pcdM9213j40Bu8-T=_qG8D0EWijLJm_8Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140508/90f1ffa5/attachment.pl>

From kevin.thorpe at utoronto.ca  Thu May  8 18:18:22 2014
From: kevin.thorpe at utoronto.ca (Kevin E. Thorpe)
Date: Thu, 8 May 2014 12:18:22 -0400
Subject: [R] R for Android
In-Reply-To: <CAMtGSxnMPhryFLA28pcdM9213j40Bu8-T=_qG8D0EWijLJm_8Q@mail.gmail.com>
References: <536B7C49.7070002@utoronto.ca>
	<CAMtGSxnMPhryFLA28pcdM9213j40Bu8-T=_qG8D0EWijLJm_8Q@mail.gmail.com>
Message-ID: <536BAE4E.7070100@utoronto.ca>

Thanks. I guess I could have searched for that. Apologies.

I'll have to try it on my tablet.

Kevin

On 05/08/2014 11:57 AM, Jeremy Miles wrote:
>
> It exists:
> https://play.google.com/store/apps/details?id=com.appsopensource.R
>
> No graphics.
>
> Jeremy
>
>
>
>
> On 8 May 2014 05:44, Kevin E. Thorpe <kevin.thorpe at utoronto.ca
> <mailto:kevin.thorpe at utoronto.ca>> wrote:
>
>     This is a question asked purely out of idle curiosity (and may also
>     be in wrong list). Are there plans for porting R to Android devices
>     or chromebooks? Maybe it's as simple as compiling the source, but I
>     don't know what tools are available.
>
>     One of the current advantages of R is it runs on all commonly used
>     platforms. If chromebooks and android devices get into greater use,
>     it would be cool if R were available.
>
>     Kevin
>


-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael's
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From mbressan at arpa.veneto.it  Thu May  8 18:34:15 2014
From: mbressan at arpa.veneto.it (Massimo Bressan)
Date: Thu, 08 May 2014 18:34:15 +0200
Subject: [R] group by and merge two dataframes
In-Reply-To: <1399562040.24088.YahooMailNeo@web142603.mail.bf1.yahoo.com>
References: <536B520F.5000508@arpa.veneto.it>
	<1399562040.24088.YahooMailNeo@web142603.mail.bf1.yahoo.com>
Message-ID: <536BB207.1070705@arpa.veneto.it>

yes, thank you for all your replies, they worked out correctly indeed...

...but because of my fault, by then working on my real data I fully 
realised that I should have mentioned something that is changing (quite 
a lot, in fact) the terms of the problem...

please would you consider the following (consistent) variation ?

df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2), 
rep("C",2)), v=rnorm(6))
df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))

and again I need to group the first dataframe "df1" both by "id" and by 
the first record of "v", and then merge with the second dataframe "df2" 
(again by "id")

now, how to do that?
(that's why probably I was pointing in my first post to the use of sqldf)

thanks

ps: I'm in doubt wheter I must open another thread or keep going with 
this one (really sorry for the eventual violation of the R-help netiquette)

Il 08/05/2014 17:14, arun ha scritto:
> Hi,
> May be this helps:
>   merge(unique(df1),df2)
> A.K.
>
>
>
>
>
> On Thursday, May 8, 2014 5:46 AM, Massimo Bressan <mbressan at arpa.veneto.it> wrote:
> given this "bare bone" example:
>
> df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2),
> rep("C",2)))
> df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))
>
> I need to group the first dataframe "df1" by "id" and then merge with
> the second dataframe "df2" (again by "id")
> so far I've manged to accomplish the task by something like the following...
>
> # start
>
> require(sqldf)
> tmp<-sqldf("select * from df1 group by id")
> merge(tmp, df2)
>
> #end
>
> now I'm wonderng if there is a more efficient and/or elegant way to
> perform it (also because in fact I'm dealing with much more "heavy"
> dataframes);
>
> may be possible through a single sql statement?  or by using a different
> package functions (e.g. dplyr)?
> my attempts towards these alternative approaches miserably failed ...
>
> thanks
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>


From smartpink111 at yahoo.com  Thu May  8 18:43:40 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 8 May 2014 09:43:40 -0700 (PDT)
Subject: [R] group by and merge two dataframes
In-Reply-To: <536BB207.1070705@arpa.veneto.it>
References: <536B520F.5000508@arpa.veneto.it>
	<1399562040.24088.YahooMailNeo@web142603.mail.bf1.yahoo.com>
	<536BB207.1070705@arpa.veneto.it>
Message-ID: <1399567420.87186.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi,
May be:
indx <- !duplicated(as.character(interaction(df1[,-3])))
merge(df1[indx,],df2)
A.K.




On Thursday, May 8, 2014 12:34 PM, Massimo Bressan <mbressan at arpa.veneto.it> wrote:
yes, thank you for all your replies, they worked out correctly indeed...

...but because of my fault, by then working on my real data I fully 
realised that I should have mentioned something that is changing (quite 
a lot, in fact) the terms of the problem...

please would you consider the following (consistent) variation ?

df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2), 
rep("C",2)), v=rnorm(6))
df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))

and again I need to group the first dataframe "df1" both by "id" and by 
the first record of "v", and then merge with the second dataframe "df2" 
(again by "id")

now, how to do that?
(that's why probably I was pointing in my first post to the use of sqldf)

thanks

ps: I'm in doubt wheter I must open another thread or keep going with 
this one (really sorry for the eventual violation of the R-help netiquette)


Il 08/05/2014 17:14, arun ha scritto:
> Hi,
> May be this helps:
>?  merge(unique(df1),df2)
> A.K.
>
>
>
>
>
> On Thursday, May 8, 2014 5:46 AM, Massimo Bressan <mbressan at arpa.veneto.it> wrote:
> given this "bare bone" example:
>
> df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2),
> rep("C",2)))
> df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))
>
> I need to group the first dataframe "df1" by "id" and then merge with
> the second dataframe "df2" (again by "id")
> so far I've manged to accomplish the task by something like the following...
>
> # start
>
> require(sqldf)
> tmp<-sqldf("select * from df1 group by id")
> merge(tmp, df2)
>
> #end
>
> now I'm wonderng if there is a more efficient and/or elegant way to
> perform it (also because in fact I'm dealing with much more "heavy"
> dataframes);
>
> may be possible through a single sql statement?? or by using a different
> package functions (e.g. dplyr)?
> my attempts towards these alternative approaches miserably failed ...
>
> thanks
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>


From abhinabaroy09 at gmail.com  Thu May  8 18:49:21 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Thu, 8 May 2014 22:19:21 +0530
Subject: [R] Capture change in variable in R
Message-ID: <CANtKHPX=keHsYh_1JTLiEvgVky1LWz-R2vf3js8jX5rD-qjtVA@mail.gmail.com>

Hi R helpers,

I have a dataframe like

   ID                   Yr_Mnth AMT_PAID AMT_DUE    paidToDue
CS00000026A    201301      320.48      1904    0.168319328
CS00000026A    201302    4881.31    15708    0.310753119
CS00000026A    201303    7609.04    25585    0.297402384
CS00000026A    201304    9782.70    21896    0.446780234
CS00000026A    201305    6482.01    22015    0.294436066
CS00000026A    201306    5226.28    14280    0.365985994
CS00000026A    201307    9078.47    19040    0.476810399
CS00000026A    201308    7060.33    23800    0.296652521
CS00000026A    201309    7595.57    17136    0.443252218
CS00000026A    201310    5388.64    24752    0.217705236

The problem I am facing is to capture the change in 'paidToDue' which is
define as follows

Let 'm' be the value of 'Yr_Mnth' in the current row (except the 1st row)
and 'm-1' be that in the previous row

I am trying to add a column to the dataframe 'Change' which will have
values 'Improve','Deteriorate' and 'No change', which are defined as


if (AMT_PAID(m) != AMT_PAID(m-1)) & sign(paidToDue(m)-paidToDue(m-1)==1 &
abs(paidToDue(m)-paidToDue(m-1))>0.1 then 'Change' = 'Improve'

if (AMT_PAID(m) != AMT_PAID(m-1)) & sign(paidToDue(m)-paidToDue(m-1) == -1
& abs(paidToDue(m)-paidToDue(m-1)) > 0.1 then 'Change' = 'Deteriorate'

else 'Change' = 'No change'

Note: I have 5000 unique ID in the data and this has to be done for each ID
and the data is sorted by Yr_Mnth.

Please find attached the csv file for reference.

How can it be done in R?
-- 
Regards
Abhinaba Roy

From dwinsemius at comcast.net  Thu May  8 21:52:44 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 8 May 2014 12:52:44 -0700
Subject: [R] Capture change in variable in R
In-Reply-To: <CANtKHPX=keHsYh_1JTLiEvgVky1LWz-R2vf3js8jX5rD-qjtVA@mail.gmail.com>
References: <CANtKHPX=keHsYh_1JTLiEvgVky1LWz-R2vf3js8jX5rD-qjtVA@mail.gmail.com>
Message-ID: <B778C1EE-2B75-46AC-AFEE-96F5897712D2@comcast.net>


On May 8, 2014, at 9:49 AM, Abhinaba Roy wrote:

> Hi R helpers,
> 
> I have a dataframe like
> 
>   ID                   Yr_Mnth AMT_PAID AMT_DUE    paidToDue
> CS00000026A    201301      320.48      1904    0.168319328
> CS00000026A    201302    4881.31    15708    0.310753119
> CS00000026A    201303    7609.04    25585    0.297402384
> CS00000026A    201304    9782.70    21896    0.446780234
> CS00000026A    201305    6482.01    22015    0.294436066
> CS00000026A    201306    5226.28    14280    0.365985994
> CS00000026A    201307    9078.47    19040    0.476810399
> CS00000026A    201308    7060.33    23800    0.296652521
> CS00000026A    201309    7595.57    17136    0.443252218
> CS00000026A    201310    5388.64    24752    0.217705236
> 
> The problem I am facing is to capture the change in 'paidToDue' which is
> define as follows
> 
> Let 'm' be the value of 'Yr_Mnth' in the current row (except the 1st row)
> and 'm-1' be that in the previous row
> 
> I am trying to add a column to the dataframe 'Change' which will have
> values 'Improve','Deteriorate' and 'No change', which are defined as
> 
> 
> if (AMT_PAID(m) != AMT_PAID(m-1)) & sign(paidToDue(m)-paidToDue(m-1)==1 &
> abs(paidToDue(m)-paidToDue(m-1))>0.1 then 'Change' = 'Improve'

There is a `diff` function that may make this all much simpler:

You could translate   (AMT_PAID[m] != AMT_PAID[(m-1])   to

  diff(AMT_PAID) != 0   # length is 1 shorter than the input vector

And sign(paidToDue[m]-paidToDue[m-1] ) ==1  to

  diff(paidToDue) > 0   # can pad with c(NA, ...)

From your incorrect use of parentheses for indexing, I'm guessing you are very new to R programming. You also attempted to paste a CSV file and that was rejected by the mail-server which only accepts MIME-text formatted files. Despite the fact that most csv files really are text files, they often get labeled differently by posters' mail clients.


> if (AMT_PAID(m) != AMT_PAID(m-1)) & sign(paidToDue(m)-paidToDue(m-1) == -1
> & abs(paidToDue(m)-paidToDue(m-1)) > 0.1 then 'Change' = 'Deteriorate'
> 
> else 'Change' = 'No change'

If this were just a matter of differences in 'paidToDue' within values of ID, then it would be as simple as:

dat$Change <- with( dat, ave( paidToDue, ID, FUN=function(x){
     c(NA, c('Deteriorate', 'No change', 'Improve)[findInterval(x, c(-Inf, -0.1, 0.1, Inf) )] ) } ) )
> 
> 
> Note: I have 5000 unique ID in the data and this has to be done for each ID
> and the data is sorted by Yr_Mnth.

When you need to use multiple columns as input and work across rows I generally use an lapply( split(), fun)-strategy.

> 
> Please find attached the csv file for reference.
> 
> How can it be done in R?


It's not going to be terribly difficult, but I'm concerned this is homework, so not trying for a complete solution. You have not done very much in the way of setting the context.


> -- 
> Regards
> Abhinaba Roy
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From l.hilger at ku.de  Thu May  8 21:59:18 2014
From: l.hilger at ku.de (Ludwig Hilger)
Date: Thu, 8 May 2014 12:59:18 -0700 (PDT)
Subject: [R] How can I make this nested loop faster?
Message-ID: <1399579158464-4690209.post@n4.nabble.com>

Hello everybody, 
I have written a nested for-loop, but as length(uc) > 170,000, this would
take VERY long. I have tried to use sapply or something but I cannot get it
to work, I would be happy if someone could point out to write this more
efficiently. Thank you all,

Ludwig

ergsens <- data.frame(budget = numeric(500))
uc <- unique(rftab$startCell)

for(i in 1:500){
uniquerates <- rlnorm(n = length(uc), mean = -1.6, sd = 1.7)
    for(j in 1:length(uc)){
        rftab$masskg[rftab$startCell == uc[j]] <- uniquerates[j]
    }
ergsens$budget[i] <- sum(rftab$masskg, na.rm = TRUE)/1000
}





-----
Dipl. Geogr. Ludwig Hilger
Wiss. MA
Lehrstuhl f?r Physische Geographie
Katholische Universit?t Eichst?tt-Ingolstadt
Ostenstra?e 18
85072 Eichst?tt
--
View this message in context: http://r.789695.n4.nabble.com/How-can-I-make-this-nested-loop-faster-tp4690209.html
Sent from the R help mailing list archive at Nabble.com.


From wdunlap at tibco.com  Thu May  8 22:15:40 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Thu, 8 May 2014 13:15:40 -0700
Subject: [R] How can I make this nested loop faster?
In-Reply-To: <1399579158464-4690209.post@n4.nabble.com>
References: <1399579158464-4690209.post@n4.nabble.com>
Message-ID: <CAF8bMcZo-pd+Pjdgz5dXKmBEOYnmiatJ9_KU+2b+qx8CJiEfww@mail.gmail.com>

I cannot run your code because not all the variables are defined, but
try not doing the nested replacements, rftab$masskg[...] <- newValue,
in the loop.  Instead, pull out masskg as a new stand-along object
before the start of the loop and put it back into rftab at the end of
the loop. E.g., something like
  masskg <- rftab$masskg
  for(i in 1:500){
    uniquerates <- rlnorm(n = length(uc), mean = -1.6, sd = 1.7)
      for(j in 1:length(uc)){
        masskg[rftab$startCell == uc[j]] <- uniquerates[j]
      }
    ergsens$budget[i] <- sum(masskg, na.rm = TRUE)/1000
  }
  rftab$masskg <- masskg
  # and you may as well remove masskg now.
If that doesn't help enough, look into the ave() function or the
functions in plyr.
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Thu, May 8, 2014 at 12:59 PM, Ludwig Hilger <l.hilger at ku.de> wrote:
> Hello everybody,
> I have written a nested for-loop, but as length(uc) > 170,000, this would
> take VERY long. I have tried to use sapply or something but I cannot get it
> to work, I would be happy if someone could point out to write this more
> efficiently. Thank you all,
>
> Ludwig
>
> ergsens <- data.frame(budget = numeric(500))
> uc <- unique(rftab$startCell)
>
> for(i in 1:500){
> uniquerates <- rlnorm(n = length(uc), mean = -1.6, sd = 1.7)
>     for(j in 1:length(uc)){
>         rftab$masskg[rftab$startCell == uc[j]] <- uniquerates[j]
>     }
> ergsens$budget[i] <- sum(rftab$masskg, na.rm = TRUE)/1000
> }
>
>
>
>
>
> -----
> Dipl. Geogr. Ludwig Hilger
> Wiss. MA
> Lehrstuhl f?r Physische Geographie
> Katholische Universit?t Eichst?tt-Ingolstadt
> Ostenstra?e 18
> 85072 Eichst?tt
> --
> View this message in context: http://r.789695.n4.nabble.com/How-can-I-make-this-nested-loop-faster-tp4690209.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bbolker at gmail.com  Thu May  8 23:54:43 2014
From: bbolker at gmail.com (Ben Bolker)
Date: Thu, 8 May 2014 21:54:43 +0000
Subject: [R] overdispersed zero inflated continuous data
References: <1399496122003-4690142.post@n4.nabble.com>
Message-ID: <loom.20140508T234611-559@post.gmane.org>

Jenushka <jhazlehu <at> tulane.edu> writes:

> 
> I'm a beginning R user. 
> 
> The data: Volume of nectar in flowers under 4 different treatments,
>  nested
> for individual (measures were taken mutliple times from different 
> flowers of
> the same individual- never the same flower). 

  This is really more of a statistical question than an R question,
and might get more informed answers at r-sig-ecology at r-project.org,
but:

> 
> Specs: 54% of the data = 0. Variance=3.89. Mean=1.03. Sample size per
> treatment varies, all are >20. 
> 
> I am trying to determine if treatment had any impact on nectar volume. 
> 

   Since it will be hard to transform the data to normality (since
you have a big pile of responses equal to exactly zero), one possibility
would be a two-stage model: fit a binomial GL(M)M for zero vs non-zero,
then fit a linear (mixed) model to the (probably log-transformed) positive
responses.

  Alternatively you could ignore the distribution and use a randomization
(permutation or bootstrap) approach to get reasonable p-values/confidence
intervals, although you'll have to be careful to do the randomization
respecting the grouping by individual.

  Ben Bolker


From spencer.graves at structuremonitoring.com  Fri May  9 02:56:46 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Thu, 08 May 2014 17:56:46 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
Message-ID: <536C27CE.2030902@structuremonitoring.com>

	  "as.character.call" seems not to work as an alias for deparse. 
Consider the following:


xDy <- quote(x$y)
class(xDy)
"call"
as.character.call <- function(x, ...)deparse(x, ...)
as.character(xDy)
[1] "$" "x" "y"
# fails

str(xDy)
#  language x$y
as.character.language <- function(x, ...)"language"

as.character(xDy)
[1] "$" "x" "y"


	  Is it feasible to construct a method for "as.character" that works 
for objects of class "call"?


	  Thanks,
	  Spencer


#################


Thanks for the quick replies from Richard Heiberger, Greg Show & Bert 
Gunter.


       Might it make sense to create as.character.call as an alias for 
deparse?


       A few years ago, I wrote several functions like "predict.fd" as 
aliases for functions with less memorable names like "eval.fd".  Doing 
that made the "fda" package easier to use, at least for me ;-)


       Thanks again,
       Spencer


On 5/7/2014 2:39 PM, Bert Gunter wrote:
> ... and
>
>> str(quote(x$y))
>   language x$y
>
>> as.list(quote(x$y))
> [[1]]
> `$`
>
> [[2]]
> x
>
> [[3]]
> y
>
> ## may be instructive.
>
> Cheers,
> Bert
>
>
>
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>> deparse(quote(x$y))
>> [1] "x$y"
>>
>> It looks like deparse does what you want here.
>>
>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>> <spencer.graves at structuremonitoring.com> wrote:
>>> Hello, All:
>>>
>>>
>>>        Is there a simple utility someplace to convert "quote(x$y)" to "x$y"?
>>>
>>>
>>>        I ask, because as.character(quote(x$y)) is a character vector of
>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a diagnostic
>>> message.
>>>
>>>
>>>        class(quote(x$y)) = "call", which suggests I could write
>>> "as.character.call" to perform this function.  However, before I do, I felt
>>> a need to ask for other thoughts on this.
>>>
>>>
>>>        Thanks,
>>>        Spencer
>>>
>>>
>>>
>>> --
>>> Gregory (Greg) L. Snow Ph.D.
>>> 538280 at gmail.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Fri May  9 05:05:41 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 8 May 2014 20:05:41 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536C27CE.2030902@structuremonitoring.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
Message-ID: <CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>

[1] "x$y"

Spencer:

Does

deparse(substitute(x$y))
[1] "x$y"

do what you want?

Cheers,
Bert






-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
>           "as.character.call" seems not to work as an alias for deparse.
> Consider the following:
>
>
> xDy <- quote(x$y)
> class(xDy)
> "call"
> as.character.call <- function(x, ...)deparse(x, ...)
> as.character(xDy)
> [1] "$" "x" "y"
> # fails
>
> str(xDy)
> #  language x$y
> as.character.language <- function(x, ...)"language"
>
> as.character(xDy)
> [1] "$" "x" "y"
>
>
>           Is it feasible to construct a method for "as.character" that works
> for objects of class "call"?
>
>
>           Thanks,
>           Spencer
>
>
> #################
>
>
> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
> Gunter.
>
>
>       Might it make sense to create as.character.call as an alias for
> deparse?
>
>
>       A few years ago, I wrote several functions like "predict.fd" as
> aliases for functions with less memorable names like "eval.fd".  Doing that
> made the "fda" package easier to use, at least for me ;-)
>
>
>       Thanks again,
>       Spencer
>
>
> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>
>> ... and
>>
>>> str(quote(x$y))
>>
>>   language x$y
>>
>>> as.list(quote(x$y))
>>
>> [[1]]
>> `$`
>>
>> [[2]]
>> x
>>
>> [[3]]
>> y
>>
>> ## may be instructive.
>>
>> Cheers,
>> Bert
>>
>>
>>
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>
>>>> deparse(quote(x$y))
>>>
>>> [1] "x$y"
>>>
>>> It looks like deparse does what you want here.
>>>
>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>
>>>> Hello, All:
>>>>
>>>>
>>>>        Is there a simple utility someplace to convert "quote(x$y)" to
>>>> "x$y"?
>>>>
>>>>
>>>>        I ask, because as.character(quote(x$y)) is a character vector of
>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>> diagnostic
>>>> message.
>>>>
>>>>
>>>>        class(quote(x$y)) = "call", which suggests I could write
>>>> "as.character.call" to perform this function.  However, before I do, I
>>>> felt
>>>> a need to ask for other thoughts on this.
>>>>
>>>>
>>>>        Thanks,
>>>>        Spencer
>>>>
>>>>
>>>>
>>>> --
>>>> Gregory (Greg) L. Snow Ph.D.
>>>> 538280 at gmail.com
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>
>


From spencer.graves at structuremonitoring.com  Fri May  9 05:56:28 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Thu, 08 May 2014 20:56:28 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
Message-ID: <536C51EC.7010503@structuremonitoring.com>

On 5/8/2014 8:05 PM, Bert Gunter wrote:
> [1] "x$y"
>
> Spencer:
>
> Does
>
> deparse(substitute(x$y))
> [1] "x$y"
>
> do what you want?


       No:  The problem is methods dispatch.  class(quote(x$y)) = 
'call', but as.character(quote(x$y)) does NOT go to "as.character.call".


       deparse(quote(x$y)) returns the answer I want, as Greg Snow noted 
earlier.


       However, it would be easier to remember if I could write 
as.character(quote(x$y)) and get the same thing.


       With "as.character.call <- function(x, ...)deparse(x, ...)", 
as.character.call(quote(x$y)) returns "x$y", as desired. However, the 
methods dispatch one might naively expect fails, as noted above.


       Thanks,
       Spencer

> Cheers,
> Bert
>
>
>
>
>
>
> -- Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>>            "as.character.call" seems not to work as an alias for deparse.
>> Consider the following:
>>
>>
>> xDy <- quote(x$y)
>> class(xDy)
>> "call"
>> as.character.call <- function(x, ...)deparse(x, ...)
>> as.character(xDy)
>> [1] "$" "x" "y"
>> # fails
>>
>> str(xDy)
>> #  language x$y
>> as.character.language <- function(x, ...)"language"
>>
>> as.character(xDy)
>> [1] "$" "x" "y"
>>
>>
>>            Is it feasible to construct a method for "as.character" that works
>> for objects of class "call"?
>>
>>
>>            Thanks,
>>            Spencer
>>
>>
>> #################
>>
>>
>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>> Gunter.
>>
>>
>>        Might it make sense to create as.character.call as an alias for
>> deparse?
>>
>>
>>        A few years ago, I wrote several functions like "predict.fd" as
>> aliases for functions with less memorable names like "eval.fd".  Doing that
>> made the "fda" package easier to use, at least for me ;-)
>>
>>
>>        Thanks again,
>>        Spencer
>>
>>
>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>> ... and
>>>
>>>> str(quote(x$y))
>>>    language x$y
>>>
>>>> as.list(quote(x$y))
>>> [[1]]
>>> `$`
>>>
>>> [[2]]
>>> x
>>>
>>> [[3]]
>>> y
>>>
>>> ## may be instructive.
>>>
>>> Cheers,
>>> Bert
>>>
>>>
>>>
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>> deparse(quote(x$y))
>>>> [1] "x$y"
>>>>
>>>> It looks like deparse does what you want here.
>>>>
>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>> Hello, All:
>>>>>
>>>>>
>>>>>         Is there a simple utility someplace to convert "quote(x$y)" to
>>>>> "x$y"?
>>>>>
>>>>>
>>>>>         I ask, because as.character(quote(x$y)) is a character vector of
>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>> diagnostic
>>>>> message.
>>>>>
>>>>>
>>>>>         class(quote(x$y)) = "call", which suggests I could write
>>>>> "as.character.call" to perform this function.  However, before I do, I
>>>>> felt
>>>>> a need to ask for other thoughts on this.
>>>>>
>>>>>
>>>>>         Thanks,
>>>>>         Spencer
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>> 538280 at gmail.com
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>
>


-- 
Spencer Graves, PE, PhD
President and Chief Technology Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567
web:  www.structuremonitoring.com


From jasonkrupert at yahoo.com  Fri May  9 06:01:06 2014
From: jasonkrupert at yahoo.com (Jason Rupert)
Date: Thu, 8 May 2014 21:01:06 -0700 (PDT)
Subject: [R] Error in split.default
Message-ID: <1399608066.31688.YahooMailNeo@web121605.mail.ne1.yahoo.com>

> split(df, Status)
Error in split.default(x = seq_len(nrow(x)), f = f, drop = drop, ...) : 
? object 'Status' not found


> names(PCR_duplicatedCheck_df)
?[1] "Key"? "MinCreated"? "MaxUpdated"????????? 
?[4] "Status"

I am totally confused...what do I need to try next?


From dulcalma at bigpond.com  Fri May  9 06:17:09 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Fri, 9 May 2014 14:17:09 +1000
Subject: [R] set axis limit in lattice
In-Reply-To: <CAMk+s2Sc1k8sOq0zNwG9L=6hjgz8aKMmmVH31AFZqXUBYiPy=Q@mail.gmail.com>
References: <CAMk+s2Q88uNjabzeTGiZeHE4vzWczREaB25BVFt1Bzc=epTxpA@mail.gmail.com>	<000601cf6400$f927dab0$eb779010$@bigpond.com>	<CAMk+s2SUaxCCVttFHTbcHBx+m+dfbxGUCRNG4VbvPcAOf8P_eA@mail.gmail.com>	<001201cf64e1$27dda4d0$7798ee70$@bigpond.com>
	<CAMk+s2Sc1k8sOq0zNwG9L=6hjgz8aKMmmVH31AFZqXUBYiPy=Q@mail.gmail.com>
Message-ID: <000f01cf6b3d$8be2d6f0$a3a884d0$@bigpond.com>

Luigi

I suspect that it is in accessing the correct groups within the panel function

I suggest that printing the values before plotting within the panel function may give you some idea.

Without specific data I cannot suggest anything else

Duncan

-----Original Message-----
From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com] 
Sent: Wednesday, 7 May 2014 22:37
To: Duncan Mackay
Subject: Re: [R] set axis limit in lattice

Dear Duncan,
thank you for the reply. I have fixed the axis, bu still I don't
understand why i cannot draw the segments on my real data whereas i
could on the example when the panel function is quite general. igra is
the outcome that i rendered as positivity in the example. i also
change it into numeric values (1/0) to resemble more closely the
example but still the segments are ignored.
may i ask you for a tip on the possible causes?
best regards
luigi

On Thu, May 1, 2014 at 3:00 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
> If you just want to limit the axis just insert as arguments
> for the x axis
> xlim = c(min, max),
> and for the y
> ylim = c(min,max) ,
> where min and max correspond to the appropriate min and max  for the x and y axes
>
> As for the panel.groups you mention medians where I was using means - if you want medians you will have to amend means to medians
>
> Make sure for the groups you have the right mode numeric/ factor ?
> I do not know what igra is
>
> Duncan
>
> -----Original Message-----
> From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com]
> Sent: Thursday, 1 May 2014 03:54
> To: Duncan Mackay
> Subject: Re: [R] set axis limit in lattice
>
> Dear Duncan,
> these solutions are actually splitting the drawing in different panels
> and the scale=free is giving different limits to each panel. I still
> need the relation=same but just to input myself the fixed limits of
> the axis. It should go into the scale argument but i don't know the
> actual syntax.
> As for the segments, you were perfectly right, there was a problem
> with my script so the medians did not match the actual data. Your
> solution using panel.groups works on the example, but when I copied it
> to the actual dataframe I am working with it did not work despite the
> fact of being of quite a general syntax. could you please give a look
> at the dataframe I have attached and see where I made a mistake in
> applying your solution? what I wrote is:
>
>   my.data.IP10<-subset(my.data, gene=="i" & stimulus != "Unstimulated")
>
> stripplot(
>    my.data.IP10$ratio ~
> factor(my.data.IP10$igra)|factor(my.data.IP10$stimulus, levels =
> c("ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>          my.data,
>          group = my.data.IP10$igra,
>          hor=F,
>         layout = c(7,1),
>          scales = list(x = list(draw=FALSE)),
>    jitter.data=TRUE,
>    pch=c(1,16),
>    col="black",
>          ylab=expression(bold("Ratio GOI/RG")),
>          xlab=expression(bold("Antigen stimulation")),
>          main="IP10 expression",
>          par.settings = list(strip.background=list(col="light grey")),
>              par.strip.text=list(font=2),
>        key = list(space="top", columns=2, text=list(c("IGRA Negative",
> "IGRA Positive"), col="black"), points=list(pch=c(1,16),
> col="black")),
>
>  panel = panel.superpose,
>         panel.groups = function(x, y, group.number, ...) {
>
>                         panel.segments(x0= x-0.25, x1=x+0.25,
> y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
>                          lwd=c(2:1)[group.number], col = c(1:2)[group.number])
>
>                         panel.stripplot(x,y, ...)
>               }
> )
>
>
> ### Many thanks
> ### Best regards
> Luigi
>
>
> On Wed, Apr 30, 2014 at 12:15 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
>> Hi Luigi
>>
>> This produces plenty of white space for the y axes
>>
>> Y<-max(my.data$copy)
>>
>> stripplot(
>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>        my.data,
>>        group = positivity,
>>        hor=F,
>>        layout = c(8,1),
>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>                      y= list(relation = "free")),
>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>        ylab=expression(bold("Copy")),
>>        xlab=expression(bold("Stimulation")),
>>        main="Plot",
>>        par.settings = list(strip.background=list(col="white")),
>>        par.strip.text=list(font=2),
>>        key = key.plot,
>>        panel = function(x, y, ...)
>>   {
>>             pnl = panel.number()
>>   k<-0
>>   for (i in 1:2){
>>    datme<-subset(datmeA, positivity==i-1)
>>              w<-i+k
>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],
>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>                   k=k+1
>>
>>       panel.stripplot(x,y, ...)
>>    }
>>              }
>>        )
>> You could limit the y-axis to your levels
>> stripplot(
>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>        my.data,
>>        group = positivity,
>>        hor=F,
>>        layout = c(8,1),
>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>                      y= list(relation = "free",
>>                                  limits = list(c(0, max panel 1),
>>                                                      c(0, max panel 2),
>>                                                     ...
>>                                                    c(0, max panel 8)),
>>       )),
>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>        ylab=expression(bold("Copy")),
>>        xlab=expression(bold("Stimulation")),
>>        main="Plot",
>>        par.settings = list(strip.background=list(col="white")),
>>        par.strip.text=list(font=2),
>>        key = key.plot,
>>        panel = function(x, y, ...)
>>   {
>>             pnl = panel.number()
>>   k<-0
>>   for (i in 1:2){
>>    datme<-subset(datmeA, positivity==i-1)
>>              w<-i+k
>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],
>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>                   k=k+1
>>
>>       panel.stripplot(x,y, ...)
>>    }
>>              }
>>        )
>>
>> Sorting the stimulation groups shows that some of them can be loosely grouped so reordering the factors
>>
>> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>>        my.data,
>>        group = positivity,
>>        hor=F,
>>        layout = c(2,4),
>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>                      y= list(relation = "free")),
>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>        ylab=expression(bold("Copy")),
>>        xlab=expression(bold("Stimulation")),
>>        main="Plot",
>>        par.settings = list(strip.background=list(col="white")),
>>        par.strip.text=list(font=2),
>>        key = key.plot,
>>        panel = function(x, y, ...)
>>   {
>>             pnl = panel.number()
>>   k<-0
>>   for (i in 1:2){
>>    datme<-subset(datmeA, positivity==i-1)
>>              w<-i+k
>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],
>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>                   k=k+1
>>
>>       panel.stripplot(x,y, ...)
>>    }
>>              }
>>        )
>>
>> or using panel.groups
>>
>> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>>        my.data,
>>        group = positivity,
>>        hor=F,
>>        layout = c(2,4),
>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>                      y= list(relation = "free")),
>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>        ylab=expression(bold("Copy")),
>>        xlab=expression(bold("Stimulation")),
>>        main="Plot",
>>        par.settings = list(strip.background=list(col="white")),
>>        par.strip.text=list(font=2),
>>        key = key.plot,
>>        panel = panel.superpose,
>>        panel.groups = function(x, y, group.number, ...) {
>>
>>                         panel.segments(x0= x-0.25, x1=x+0.25, y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
>>                         lwd=c(2:1)[group.number], col = c(1:2)[group.number])
>>
>>                         panel.stripplot(x,y, ...)
>>              }
>>       )
>>
>> Regards
>>
>> Duncan Mackay
>>
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Luigi Marongiu
>> Sent: Wednesday, 30 April 2014 03:58
>> To: r-help at r-project.org
>> Subject: [R] set axis limit in lattice
>>
>> Dear all,
>>
>> I would like to set the axis of a figure using the max() so to have
>> more control on the limits of the axis -- this because in the actual
>> case more independent figures are generated from the same dataframe
>> and these must have the same axis scale.
>>
>> Since the figure is generated using lattice device, the syntax is too
>> complicated for me: when I place the xlim=c(0,Y) in the arguments ?
>> where Y is obtained using max(data) ? there is no result. In basic R
>> this argument would work virtually in any position.
>>
>> Any tip?
>>
>> Best regards
>>
>> Luigi
>>
>>  ####CODE
>> ### open plot library
>> library(lattice)
>> my.data<-structure(list(
>>    column_1 = 1:120,
>>    column_2 = structure(c(
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8,
>>  1,2,3,4,5,6,7,8), .Label = c("Unst.", "ESAT6", "CFP10", "Rv3615c",
>> "Rv2654", "Rv3879", "Rv3873", "PHA"), class = "factor"),
>>  column_3 = structure(c(
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 0,0,0,0,0,0,0,0,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 1,1,1,1,1,1,1,1,
>> 0,0,0,0,0,0,0,0)),
>>      column_4 = c(
>>  192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
>>  2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
>>  870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
>>  0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
>>  142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
>>  3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
>>  1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
>>  208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
>>  4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
>>  2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
>>  0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
>>  97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
>>  5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
>>  3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
>>  2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
>> .Names = c("row", "stimulation", "positivity", "copy"), row.names =
>> c(NA, -120L),
>>  class = "data.frame")
>>
>> key.plot<-list(
>>   space="top", columns=2,
>>   text=list(c("Positive", "Negative"), col="black"),
>>   points=list(pch=c(16,1), col="black"))
>>
>> datmeA <- aggregate(copy ~ positivity+stimulation, my.data, median, na.rm = T)
>>
>> X<-c(0.7, 1.3, 1.7, 2.3)
>>
>> Y<-max(copy)
>>
>> stripplot(
>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>        my.data,
>>        group = positivity,
>>        hor=F,
>>        layout = c(8,1),
>>        scales = list(x = list(at = c(1,2), labels = c("N","P"))),
>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>        ylab=expression(bold("Copy")),
>>        xlab=expression(bold("Stimulation")),
>>        main="Plot",
>>        par.settings = list(strip.background=list(col="white")),
>>        par.strip.text=list(font=2),
>>        key = key.plot,
>>        panel = function(x, y, ...)
>>   {
>>             pnl = panel.number()
>>   k<-0
>>   for (i in 1:2){
>>    datme<-subset(datmeA, positivity==i-1)
>>              w<-i+k
>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],
>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>                   k=k+1
>>
>>       panel.stripplot(x,y, ...)
>>    }
>>              }
>>        )
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>


From jim at bitwrit.com.au  Fri May  9 07:09:44 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 09 May 2014 15:09:44 +1000
Subject: [R] Error in split.default
In-Reply-To: <1399608066.31688.YahooMailNeo@web121605.mail.ne1.yahoo.com>
References: <1399608066.31688.YahooMailNeo@web121605.mail.ne1.yahoo.com>
Message-ID: <2353602.vZS9J2dB5s@localhost.localdomain>

On Thu, 8 May 2014 09:01:06 PM Jason Rupert wrote:
> > split(df, Status)
> 
> Error in split.default(x = seq_len(nrow(x)), f = f, drop = drop, ...) :
>   object 'Status' not found
> 
> > names(PCR_duplicatedCheck_df)
> 
>  [1] "Key"  "MinCreated"  "MaxUpdated"         
>  [4] "Status"
> 
> I am totally confused...what do I need to try next?
> 
Hi Jason,
First, try this:

split(PCR_duplicatedCheck_df,PCR_duplicatedCheck_df$Status)

Then, if you don't have a copy of PCR_duplicatedCheck_df named "df" 
in your workspace, and you haven't "attached" it, that is the cause of 
the error.

Jim


From halconperegrino at gmx.de  Thu May  8 23:12:12 2014
From: halconperegrino at gmx.de (peregrine)
Date: Thu, 8 May 2014 14:12:12 -0700 (PDT)
Subject: [R] how di I write a for loop in which i is in POSIX?
Message-ID: <1399583532986-4690211.post@n4.nabble.com>

Hallo,

I have a table in which I would like to insert the min and max values of
another colum (date and time in as.POSIXct Format).

This is my row table, where "su" and "sa" are still the same as "Vollzeit":

head(treat)
             Vollzeit      Datum   Zugnacht                  su                 
sa
2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-09
20:15:00
3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:30:00 2013-09-09
20:30:00
4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:45:00 2013-09-09
20:45:00
5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 21:00:00 2013-09-09
21:00:00
6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 21:15:00 2013-09-09
21:15:00
7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 21:30:00 2013-09-09
21:30:00

Now I want to insert the minimum value of "Vollzeit" for each date in
"Zugnacht" into the colum "su" and the maximum value of "Vollzeit" for each
date in "Zugnacht" into the colum "sa". If I do it like this, it does
exactly what I want:

zn                   <- unique(treat$Zugnacht)
i=zn[1]
treat$su[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
treat$sa[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])

This is the result for the first date in "Zugnacht":
head(treat)
             Vollzeit      Datum   Zugnacht                  su                 
sa
2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00


However I am not able to create a loop that runs over all 113 dates in zn. I
tried this, but it does not work. Can anybody help, please?

for (i in zn){
    treat$su[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
    treat$sa[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
    }

Kind regards
Christiane




--
View this message in context: http://r.789695.n4.nabble.com/how-di-I-write-a-for-loop-in-which-i-is-in-POSIX-tp4690211.html
Sent from the R help mailing list archive at Nabble.com.


From halconperegrino at gmx.de  Thu May  8 23:19:47 2014
From: halconperegrino at gmx.de (peregrine)
Date: Thu, 8 May 2014 14:19:47 -0700 (PDT)
Subject: [R] How to write a loop in which i has to be in POSIX format?
Message-ID: <1399583987997-4690212.post@n4.nabble.com>

Hallo,

I have a table in which I would like to insert the min and max values of
another column (date and time in as.POSIXct Format).

This is my row table, where "su" and "sa" are still the same as "Vollzeit":

head(treat)
             Vollzeit      Datum   Zugnacht                  su                 
sa
2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-09
20:15:00
3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:30:00 2013-09-09
20:30:00
4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:45:00 2013-09-09
20:45:00
5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 21:00:00 2013-09-09
21:00:00
6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 21:15:00 2013-09-09
21:15:00
7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 21:30:00 2013-09-09
21:30:00

Now I want to insert the minimum value of "Vollzeit" for each date in
"Zugnacht" into the column "su" and the maximum value of "Vollzeit" for each
date in "Zugnacht" into the column "sa". If I do it like this, it does
exactly what I want:

zn                   <- unique(treat$Zugnacht)
i=zn[1]
treat$su[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
treat$sa[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])

This is the result for the first date in "Zugnacht":
head(treat)
             Vollzeit      Datum   Zugnacht                  su                 
sa
2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00
7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
04:30:00


However I am not able to create a loop that runs over all 113 dates in zn. I
tried this, but it does not work. Can anybody help, please?

for (i in zn){
    treat$su[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
    treat$sa[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
    }

Kind regards
Christiane




--
View this message in context: http://r.789695.n4.nabble.com/How-to-write-a-loop-in-which-i-has-to-be-in-POSIX-format-tp4690212.html
Sent from the R help mailing list archive at Nabble.com.


From yannikin at gmail.com  Fri May  9 01:19:12 2014
From: yannikin at gmail.com (yannikin at gmail.com)
Date: Thu, 8 May 2014 16:19:12 -0700
Subject: [R] Help with passing in name of XTS file into write.table as a
	variable.
Message-ID: <CAOk2wpPP7GUb6dN7GhxhVe6gfUFsPL93DS3-_WQYD-0sYeh4yA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140508/3c9a3c9c/attachment.pl>

From datasleuth at yahoo.com  Fri May  9 04:05:36 2014
From: datasleuth at yahoo.com (bill messina)
Date: Thu, 8 May 2014 19:05:36 -0700 (PDT)
Subject: [R] GLMNet Question for Multinomial Data For Determining The Right
	Number of Questions
Message-ID: <1399601136.72578.YahooMailNeo@web120905.mail.ne1.yahoo.com>

I just started to use the Glmnet function for doing analysis of multinomial data. See the attached code for the analysis of the Fisher iris data as an example. My question is. When I want to determine the coefficients for the best lambda value, it returns more than one set of coefficents.. Which?group of ceofficents ?is the right set to use for this data set? 

Bill

From gunter.berton at gene.com  Fri May  9 08:41:29 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 8 May 2014 23:41:29 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536C51EC.7010503@structuremonitoring.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
	<536C51EC.7010503@structuremonitoring.com>
Message-ID: <CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>

Spencer:

Hmmm....
Well, I don't get what's going on here -- as.character.default is
internal -- but could you method-ize a simple synonym:

asChar<- function(e,...)UseMethod("asChar")
asChar.call <- function(e,...)deparse(e,...)
asChar.default <- function(e,...)as.character(e,...)

> asChar(xDy)
[1] "x$y"

> asChar(1:5)
[1] "1" "2" "3" "4" "5"


Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>
>> [1] "x$y"
>>
>> Spencer:
>>
>> Does
>>
>> deparse(substitute(x$y))
>> [1] "x$y"
>>
>> do what you want?
>
>
>
>       No:  The problem is methods dispatch.  class(quote(x$y)) = 'call', but
> as.character(quote(x$y)) does NOT go to "as.character.call".
>
>
>       deparse(quote(x$y)) returns the answer I want, as Greg Snow noted
> earlier.
>
>
>       However, it would be easier to remember if I could write
> as.character(quote(x$y)) and get the same thing.
>
>
>       With "as.character.call <- function(x, ...)deparse(x, ...)",
> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
> methods dispatch one might naively expect fails, as noted above.
>
>
>       Thanks,
>       Spencer
>
>> Cheers,
>> Bert
>>
>>
>>
>>
>>
>>
>> -- Bert
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>> <spencer.graves at structuremonitoring.com> wrote:
>>>
>>>            "as.character.call" seems not to work as an alias for deparse.
>>> Consider the following:
>>>
>>>
>>> xDy <- quote(x$y)
>>> class(xDy)
>>> "call"
>>> as.character.call <- function(x, ...)deparse(x, ...)
>>> as.character(xDy)
>>> [1] "$" "x" "y"
>>> # fails
>>>
>>> str(xDy)
>>> #  language x$y
>>> as.character.language <- function(x, ...)"language"
>>>
>>> as.character(xDy)
>>> [1] "$" "x" "y"
>>>
>>>
>>>            Is it feasible to construct a method for "as.character" that
>>> works
>>> for objects of class "call"?
>>>
>>>
>>>            Thanks,
>>>            Spencer
>>>
>>>
>>> #################
>>>
>>>
>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>> Gunter.
>>>
>>>
>>>        Might it make sense to create as.character.call as an alias for
>>> deparse?
>>>
>>>
>>>        A few years ago, I wrote several functions like "predict.fd" as
>>> aliases for functions with less memorable names like "eval.fd".  Doing
>>> that
>>> made the "fda" package easier to use, at least for me ;-)
>>>
>>>
>>>        Thanks again,
>>>        Spencer
>>>
>>>
>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>
>>>> ... and
>>>>
>>>>> str(quote(x$y))
>>>>
>>>>    language x$y
>>>>
>>>>> as.list(quote(x$y))
>>>>
>>>> [[1]]
>>>> `$`
>>>>
>>>> [[2]]
>>>> x
>>>>
>>>> [[3]]
>>>> y
>>>>
>>>> ## may be instructive.
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>>
>>>>
>>>>
>>>> Bert Gunter
>>>> Genentech Nonclinical Biostatistics
>>>> (650) 467-7374
>>>>
>>>> "Data is not information. Information is not knowledge. And knowledge
>>>> is certainly not wisdom."
>>>> H. Gilbert Welch
>>>>
>>>>
>>>>
>>>>
>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>
>>>>>> deparse(quote(x$y))
>>>>>
>>>>> [1] "x$y"
>>>>>
>>>>> It looks like deparse does what you want here.
>>>>>
>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>
>>>>>> Hello, All:
>>>>>>
>>>>>>
>>>>>>         Is there a simple utility someplace to convert "quote(x$y)" to
>>>>>> "x$y"?
>>>>>>
>>>>>>
>>>>>>         I ask, because as.character(quote(x$y)) is a character vector
>>>>>> of
>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>> diagnostic
>>>>>> message.
>>>>>>
>>>>>>
>>>>>>         class(quote(x$y)) = "call", which suggests I could write
>>>>>> "as.character.call" to perform this function.  However, before I do, I
>>>>>> felt
>>>>>> a need to ask for other thoughts on this.
>>>>>>
>>>>>>
>>>>>>         Thanks,
>>>>>>         Spencer
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>> 538280 at gmail.com
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>
>>
>
>
> --
> Spencer Graves, PE, PhD
> President and Chief Technology Officer
> Structure Inspection and Monitoring, Inc.
> 751 Emerson Ct.
> San Jos?, CA 95126
> ph:  408-655-4567
> web:  www.structuremonitoring.com
>


From mbressan at arpa.veneto.it  Fri May  9 10:00:16 2014
From: mbressan at arpa.veneto.it (Massimo Bressan)
Date: Fri, 09 May 2014 10:00:16 +0200
Subject: [R] group by and merge two dataframes
In-Reply-To: <1399567420.87186.YahooMailNeo@web142602.mail.bf1.yahoo.com>
References: <536B520F.5000508@arpa.veneto.it>
	<1399562040.24088.YahooMailNeo@web142603.mail.bf1.yahoo.com>
	<536BB207.1070705@arpa.veneto.it>
	<1399567420.87186.YahooMailNeo@web142602.mail.bf1.yahoo.com>
Message-ID: <536C8B10.2030106@arpa.veneto.it>

yes thanks, that's correct!

here a slight variation inspired by your solution: a cartesian product 
restricted to non duplicated records to get the logical vector i to be 
used in the next natural join

i<-!duplicated(merge(df1$id,df1$item, by=NULL))
merge(df1[i,],df2)

thanks

Il 08/05/2014 18:43, arun ha scritto:
> Hi,
> May be:
> indx <- !duplicated(as.character(interaction(df1[,-3])))
> merge(df1[indx,],df2)
> A.K.
>
>
>
>
> On Thursday, May 8, 2014 12:34 PM, Massimo Bressan<mbressan at arpa.veneto.it>  wrote:
> yes, thank you for all your replies, they worked out correctly indeed...
>
> ...but because of my fault, by then working on my real data I fully
> realised that I should have mentioned something that is changing (quite
> a lot, in fact) the terms of the problem...
>
> please would you consider the following (consistent) variation ?
>
> df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2),
> rep("C",2)), v=rnorm(6))
> df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))
>
> and again I need to group the first dataframe "df1" both by "id" and by
> the first record of "v", and then merge with the second dataframe "df2"
> (again by "id")
>
> now, how to do that?
> (that's why probably I was pointing in my first post to the use of sqldf)
>
> thanks
>
> ps: I'm in doubt wheter I must open another thread or keep going with
> this one (really sorry for the eventual violation of the R-help netiquette)
>
>
> Il 08/05/2014 17:14, arun ha scritto:
>> Hi,
>> May be this helps:
>>     merge(unique(df1),df2)
>> A.K.
>>
>>
>>
>>
>>
>> On Thursday, May 8, 2014 5:46 AM, Massimo Bressan<mbressan at arpa.veneto.it>  wrote:
>> given this "bare bone" example:
>>
>> df1 <- data.frame(id=rep(1:3,each=2), item=c(rep("A",2), rep("B",2),
>> rep("C",2)))
>> df2 <- data.frame(id=c(1,2,3), who=c("tizio","caio","sempronio"))
>>
>> I need to group the first dataframe "df1" by "id" and then merge with
>> the second dataframe "df2" (again by "id")
>> so far I've manged to accomplish the task by something like the following...
>>
>> # start
>>
>> require(sqldf)
>> tmp<-sqldf("select * from df1 group by id")
>> merge(tmp, df2)
>>
>> #end
>>
>> now I'm wonderng if there is a more efficient and/or elegant way to
>> perform it (also because in fact I'm dealing with much more "heavy"
>> dataframes);
>>
>> may be possible through a single sql statement?  or by using a different
>> package functions (e.g. dplyr)?
>> my attempts towards these alternative approaches miserably failed ...
>>
>> thanks
>>
>> ______________________________________________
>> R-help at r-project.org  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guidehttp://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>


From murdoch.duncan at gmail.com  Fri May  9 11:41:33 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 09 May 2014 05:41:33 -0400
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>	<536C51EC.7010503@structuremonitoring.com>
	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
Message-ID: <536CA2CD.8010904@gmail.com>

On 09/05/2014, 2:41 AM, Bert Gunter wrote:
> Spencer:
>
> Hmmm....
> Well, I don't get what's going on here -- as.character.default is
> internal -- but could you method-ize a simple synonym:

See ?InternalMethods:

"For efficiency, internal dispatch only occurs on objects, that is those 
for which is.object returns true."

Duncan Murdoch


>
> asChar<- function(e,...)UseMethod("asChar")
> asChar.call <- function(e,...)deparse(e,...)
> asChar.default <- function(e,...)as.character(e,...)
>
>> asChar(xDy)
> [1] "x$y"
>
>> asChar(1:5)
> [1] "1" "2" "3" "4" "5"
>
>
> Cheers,
> Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>>
>>> [1] "x$y"
>>>
>>> Spencer:
>>>
>>> Does
>>>
>>> deparse(substitute(x$y))
>>> [1] "x$y"
>>>
>>> do what you want?
>>
>>
>>
>>        No:  The problem is methods dispatch.  class(quote(x$y)) = 'call', but
>> as.character(quote(x$y)) does NOT go to "as.character.call".
>>
>>
>>        deparse(quote(x$y)) returns the answer I want, as Greg Snow noted
>> earlier.
>>
>>
>>        However, it would be easier to remember if I could write
>> as.character(quote(x$y)) and get the same thing.
>>
>>
>>        With "as.character.call <- function(x, ...)deparse(x, ...)",
>> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
>> methods dispatch one might naively expect fails, as noted above.
>>
>>
>>        Thanks,
>>        Spencer
>>
>>> Cheers,
>>> Bert
>>>
>>>
>>>
>>>
>>>
>>>
>>> -- Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>
>>>>             "as.character.call" seems not to work as an alias for deparse.
>>>> Consider the following:
>>>>
>>>>
>>>> xDy <- quote(x$y)
>>>> class(xDy)
>>>> "call"
>>>> as.character.call <- function(x, ...)deparse(x, ...)
>>>> as.character(xDy)
>>>> [1] "$" "x" "y"
>>>> # fails
>>>>
>>>> str(xDy)
>>>> #  language x$y
>>>> as.character.language <- function(x, ...)"language"
>>>>
>>>> as.character(xDy)
>>>> [1] "$" "x" "y"
>>>>
>>>>
>>>>             Is it feasible to construct a method for "as.character" that
>>>> works
>>>> for objects of class "call"?
>>>>
>>>>
>>>>             Thanks,
>>>>             Spencer
>>>>
>>>>
>>>> #################
>>>>
>>>>
>>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>>> Gunter.
>>>>
>>>>
>>>>         Might it make sense to create as.character.call as an alias for
>>>> deparse?
>>>>
>>>>
>>>>         A few years ago, I wrote several functions like "predict.fd" as
>>>> aliases for functions with less memorable names like "eval.fd".  Doing
>>>> that
>>>> made the "fda" package easier to use, at least for me ;-)
>>>>
>>>>
>>>>         Thanks again,
>>>>         Spencer
>>>>
>>>>
>>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>>
>>>>> ... and
>>>>>
>>>>>> str(quote(x$y))
>>>>>
>>>>>     language x$y
>>>>>
>>>>>> as.list(quote(x$y))
>>>>>
>>>>> [[1]]
>>>>> `$`
>>>>>
>>>>> [[2]]
>>>>> x
>>>>>
>>>>> [[3]]
>>>>> y
>>>>>
>>>>> ## may be instructive.
>>>>>
>>>>> Cheers,
>>>>> Bert
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Bert Gunter
>>>>> Genentech Nonclinical Biostatistics
>>>>> (650) 467-7374
>>>>>
>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>> is certainly not wisdom."
>>>>> H. Gilbert Welch
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>>
>>>>>>> deparse(quote(x$y))
>>>>>>
>>>>>> [1] "x$y"
>>>>>>
>>>>>> It looks like deparse does what you want here.
>>>>>>
>>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>
>>>>>>> Hello, All:
>>>>>>>
>>>>>>>
>>>>>>>          Is there a simple utility someplace to convert "quote(x$y)" to
>>>>>>> "x$y"?
>>>>>>>
>>>>>>>
>>>>>>>          I ask, because as.character(quote(x$y)) is a character vector
>>>>>>> of
>>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>>> diagnostic
>>>>>>> message.
>>>>>>>
>>>>>>>
>>>>>>>          class(quote(x$y)) = "call", which suggests I could write
>>>>>>> "as.character.call" to perform this function.  However, before I do, I
>>>>>>> felt
>>>>>>> a need to ask for other thoughts on this.
>>>>>>>
>>>>>>>
>>>>>>>          Thanks,
>>>>>>>          Spencer
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>>> 538280 at gmail.com
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>
>>>
>>
>>
>> --
>> Spencer Graves, PE, PhD
>> President and Chief Technology Officer
>> Structure Inspection and Monitoring, Inc.
>> 751 Emerson Ct.
>> San Jos?, CA 95126
>> ph:  408-655-4567
>> web:  www.structuremonitoring.com
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From msuzen at gmail.com  Fri May  9 12:47:36 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Fri, 9 May 2014 12:47:36 +0200
Subject: [R] problem in r-code
In-Reply-To: <CABLo8nHXauR3+uvygRe6QS_AgRdVfra-O-pQPnrkJwuhnZt=Eg@mail.gmail.com>
References: <CABLo8nHXauR3+uvygRe6QS_AgRdVfra-O-pQPnrkJwuhnZt=Eg@mail.gmail.com>
Message-ID: <CAPtbhHyzHp+iZZ7V6gVCdF0OFjgKiOsmNPa8i+mqEcyRiTvq+Q@mail.gmail.com>

Wrong list. This is an R list not Bugs.
You may want to consult Bugs materials:
http://www2.mrc-bsu.cam.ac.uk/bugs/weblinks/webresource.shtml

On 8 May 2014 11:36, thanoon younis <thanoon.younis80 at gmail.com> wrote:
> dear all members
>
> is there anyone explain to me the code below and how can i transfer this
> code to winbugs program.
>
> q[i,1]=qnorm(runif(1,min=.5,max=1),0,1)
>
> thanks in advance
>
> thanoon
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From msuzen at gmail.com  Fri May  9 13:02:17 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Fri, 9 May 2014 13:02:17 +0200
Subject: [R] How can I make this nested loop faster?
In-Reply-To: <1399579158464-4690209.post@n4.nabble.com>
References: <1399579158464-4690209.post@n4.nabble.com>
Message-ID: <CAPtbhHzYxX+4Xm08CGy5Mw4Z96jjUg6CehGDCg98RX8EYSVfcw@mail.gmail.com>

Your code is not re-producable. Can you provide a working example
using a standard dataset from R?
But, you could first try to use compiler package, see ?enableJIT.
Another option would be to use  doMC/foreach packages if you can run
your assignment in the nested loop in parallel, see %dopar%.

On 8 May 2014 21:59, Ludwig Hilger <l.hilger at ku.de> wrote:
> Hello everybody,
> I have written a nested for-loop, but as length(uc) > 170,000, this would
> take VERY long. I have tried to use sapply or something but I cannot get it
> to work, I would be happy if someone could point out to write this more
> efficiently. Thank you all,
>
> Ludwig
>
> ergsens <- data.frame(budget = numeric(500))
> uc <- unique(rftab$startCell)
>
> for(i in 1:500){
> uniquerates <- rlnorm(n = length(uc), mean = -1.6, sd = 1.7)
>     for(j in 1:length(uc)){
>         rftab$masskg[rftab$startCell == uc[j]] <- uniquerates[j]
>     }
> ergsens$budget[i] <- sum(rftab$masskg, na.rm = TRUE)/1000
> }
>
>
>
>
>
> -----
> Dipl. Geogr. Ludwig Hilger
> Wiss. MA
> Lehrstuhl f?r Physische Geographie
> Katholische Universit?t Eichst?tt-Ingolstadt
> Ostenstra?e 18
> 85072 Eichst?tt
> --
> View this message in context: http://r.789695.n4.nabble.com/How-can-I-make-this-nested-loop-faster-tp4690209.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jun.shen.ut at gmail.com  Fri May  9 15:41:57 2014
From: jun.shen.ut at gmail.com (Jun Shen)
Date: Fri, 9 May 2014 09:41:57 -0400
Subject: [R] How to examine the parameter values during iteration (nls)
Message-ID: <CAMCXXmo60_X2bN8KLW4L8=1jvwAsiEoX2PTE0S-LTXiOjQzNQQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/03c79ea1/attachment.pl>

From gunter.berton at gene.com  Fri May  9 15:48:59 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 9 May 2014 06:48:59 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536CA2CD.8010904@gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
	<536C51EC.7010503@structuremonitoring.com>
	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
	<536CA2CD.8010904@gmail.com>
Message-ID: <CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>

Ahhh. Thanks Duncan.

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 9, 2014 at 2:41 AM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> On 09/05/2014, 2:41 AM, Bert Gunter wrote:
>>
>> Spencer:
>>
>> Hmmm....
>> Well, I don't get what's going on here -- as.character.default is
>> internal -- but could you method-ize a simple synonym:
>
>
> See ?InternalMethods:
>
> "For efficiency, internal dispatch only occurs on objects, that is those for
> which is.object returns true."
>
> Duncan Murdoch
>
>
>>
>> asChar<- function(e,...)UseMethod("asChar")
>> asChar.call <- function(e,...)deparse(e,...)
>> asChar.default <- function(e,...)as.character(e,...)
>>
>>> asChar(xDy)
>>
>> [1] "x$y"
>>
>>> asChar(1:5)
>>
>> [1] "1" "2" "3" "4" "5"
>>
>>
>> Cheers,
>> Bert
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
>> <spencer.graves at structuremonitoring.com> wrote:
>>>
>>> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>>>
>>>>
>>>> [1] "x$y"
>>>>
>>>> Spencer:
>>>>
>>>> Does
>>>>
>>>> deparse(substitute(x$y))
>>>> [1] "x$y"
>>>>
>>>> do what you want?
>>>
>>>
>>>
>>>
>>>        No:  The problem is methods dispatch.  class(quote(x$y)) = 'call',
>>> but
>>> as.character(quote(x$y)) does NOT go to "as.character.call".
>>>
>>>
>>>        deparse(quote(x$y)) returns the answer I want, as Greg Snow noted
>>> earlier.
>>>
>>>
>>>        However, it would be easier to remember if I could write
>>> as.character(quote(x$y)) and get the same thing.
>>>
>>>
>>>        With "as.character.call <- function(x, ...)deparse(x, ...)",
>>> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
>>> methods dispatch one might naively expect fails, as noted above.
>>>
>>>
>>>        Thanks,
>>>        Spencer
>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> -- Bert
>>>>
>>>> Bert Gunter
>>>> Genentech Nonclinical Biostatistics
>>>> (650) 467-7374
>>>>
>>>> "Data is not information. Information is not knowledge. And knowledge
>>>> is certainly not wisdom."
>>>> H. Gilbert Welch
>>>>
>>>>
>>>>
>>>>
>>>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>
>>>>>
>>>>>             "as.character.call" seems not to work as an alias for
>>>>> deparse.
>>>>> Consider the following:
>>>>>
>>>>>
>>>>> xDy <- quote(x$y)
>>>>> class(xDy)
>>>>> "call"
>>>>> as.character.call <- function(x, ...)deparse(x, ...)
>>>>> as.character(xDy)
>>>>> [1] "$" "x" "y"
>>>>> # fails
>>>>>
>>>>> str(xDy)
>>>>> #  language x$y
>>>>> as.character.language <- function(x, ...)"language"
>>>>>
>>>>> as.character(xDy)
>>>>> [1] "$" "x" "y"
>>>>>
>>>>>
>>>>>             Is it feasible to construct a method for "as.character"
>>>>> that
>>>>> works
>>>>> for objects of class "call"?
>>>>>
>>>>>
>>>>>             Thanks,
>>>>>             Spencer
>>>>>
>>>>>
>>>>> #################
>>>>>
>>>>>
>>>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>>>> Gunter.
>>>>>
>>>>>
>>>>>         Might it make sense to create as.character.call as an alias for
>>>>> deparse?
>>>>>
>>>>>
>>>>>         A few years ago, I wrote several functions like "predict.fd" as
>>>>> aliases for functions with less memorable names like "eval.fd".  Doing
>>>>> that
>>>>> made the "fda" package easier to use, at least for me ;-)
>>>>>
>>>>>
>>>>>         Thanks again,
>>>>>         Spencer
>>>>>
>>>>>
>>>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>>>
>>>>>>
>>>>>> ... and
>>>>>>
>>>>>>> str(quote(x$y))
>>>>>>
>>>>>>
>>>>>>     language x$y
>>>>>>
>>>>>>> as.list(quote(x$y))
>>>>>>
>>>>>>
>>>>>> [[1]]
>>>>>> `$`
>>>>>>
>>>>>> [[2]]
>>>>>> x
>>>>>>
>>>>>> [[3]]
>>>>>> y
>>>>>>
>>>>>> ## may be instructive.
>>>>>>
>>>>>> Cheers,
>>>>>> Bert
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> Bert Gunter
>>>>>> Genentech Nonclinical Biostatistics
>>>>>> (650) 467-7374
>>>>>>
>>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>>> is certainly not wisdom."
>>>>>> H. Gilbert Welch
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> deparse(quote(x$y))
>>>>>>>
>>>>>>>
>>>>>>> [1] "x$y"
>>>>>>>
>>>>>>> It looks like deparse does what you want here.
>>>>>>>
>>>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> Hello, All:
>>>>>>>>
>>>>>>>>
>>>>>>>>          Is there a simple utility someplace to convert "quote(x$y)"
>>>>>>>> to
>>>>>>>> "x$y"?
>>>>>>>>
>>>>>>>>
>>>>>>>>          I ask, because as.character(quote(x$y)) is a character
>>>>>>>> vector
>>>>>>>> of
>>>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>>>> diagnostic
>>>>>>>> message.
>>>>>>>>
>>>>>>>>
>>>>>>>>          class(quote(x$y)) = "call", which suggests I could write
>>>>>>>> "as.character.call" to perform this function.  However, before I do,
>>>>>>>> I
>>>>>>>> felt
>>>>>>>> a need to ask for other thoughts on this.
>>>>>>>>
>>>>>>>>
>>>>>>>>          Thanks,
>>>>>>>>          Spencer
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>>>> 538280 at gmail.com
>>>>>>>>
>>>>>>>> ______________________________________________
>>>>>>>> R-help at r-project.org mailing list
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>> PLEASE do read the posting guide
>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>> --
>>> Spencer Graves, PE, PhD
>>> President and Chief Technology Officer
>>> Structure Inspection and Monitoring, Inc.
>>> 751 Emerson Ct.
>>> San Jos?, CA 95126
>>> ph:  408-655-4567
>>> web:  www.structuremonitoring.com
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>


From gunter.berton at gene.com  Fri May  9 16:00:11 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 9 May 2014 07:00:11 -0700
Subject: [R] How to examine the parameter values during iteration (nls)
In-Reply-To: <CAMCXXmo60_X2bN8KLW4L8=1jvwAsiEoX2PTE0S-LTXiOjQzNQQ@mail.gmail.com>
References: <CAMCXXmo60_X2bN8KLW4L8=1jvwAsiEoX2PTE0S-LTXiOjQzNQQ@mail.gmail.com>
Message-ID: <CACk-te1HcCjFpBTVByHRN-N1mMXKZaVzjJCrBJojrrW0kUsQDQ@mail.gmail.com>

Read ?nls and note the "trace" argument.

Does
nls(...,trace = TRUE)

not do what you want?

By using ?capture.output  you could then capture the trace I would
think, but I haven't tried.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 9, 2014 at 6:41 AM, Jun Shen <jun.shen.ut at gmail.com> wrote:
> Hi everyone,
>
>  I am using nls() to run a simple sigmoid curve type of regression and
> would like to see how the parameter values change through iterations. How
> can I see those values? Or ideally, can I even extract those values?
>
> For example,
>
> nls(Response~E0+Emax*Conc/(EC50+Conc), data=data, start=list(....))
>
> I would like to see how Emax and EC50 values change through iterations.
> Thanks.
>
> Jun
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From aragorn168b at gmail.com  Fri May  9 17:23:17 2014
From: aragorn168b at gmail.com (Arunkumar Srinivasan)
Date: Fri, 9 May 2014 17:23:17 +0200
Subject: [R] DESeq vs DESeq2 different DEGs results
In-Reply-To: <CAAHBMXbXKndGs9w7OD_nigx6u-ediphXABEnHmtf=M6=b3bzEA@mail.gmail.com>
References: <CAAHBMXbXKndGs9w7OD_nigx6u-ediphXABEnHmtf=M6=b3bzEA@mail.gmail.com>
Message-ID: <CAAf756ONMUocXo2fx2JUXrs27NtcP3FzaTBGkoUSc5CUy0f9tQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/250db8f1/attachment.pl>

From fawadkhn42 at gmail.com  Fri May  9 10:05:11 2014
From: fawadkhn42 at gmail.com (Fawad Khan)
Date: Fri, 9 May 2014 01:05:11 -0700
Subject: [R] Resquest
Message-ID: <CADTt4DPWWH62RxnAepCDe5eWWKkHqVCsEr3V5YcOBD=2UAqmPg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/f57ad82c/attachment.pl>

From kidist.kibret at gmail.com  Fri May  9 14:37:36 2014
From: kidist.kibret at gmail.com (KK)
Date: Fri, 9 May 2014 05:37:36 -0700 (PDT)
Subject: [R] Error during working with wgcna and R
In-Reply-To: <1341745374504-4635768.post@n4.nabble.com>
References: <1341745374504-4635768.post@n4.nabble.com>
Message-ID: <3efce90e-a935-48ee-8735-de901a0a8cd0@googlegroups.com>

I am also working on co-expression analysis. It seems like there is no way 
to use TOMsimilarityFromExpr for large datasets. 
The option 'maxBlockSize' exists for module detection but not for 
TOMsimilarity? The only solution seems to reduce the dataset

On Sunday, July 8, 2012 1:02:54 PM UTC+2, deeksha.malhan wrote:
>
> Hi 
> I am working on co-expression analysis of rice dataset with the help of 
> wgcna and R but now I am  at one point which is showing error as shown 
> below 
> : 
>
>
>  dissTOM = 1-TOMsimilarityFromExpr(datExpr, power = 8); 
> Error: cannot allocate vector of size 2.8 Gb 
> In addition: Warning messages: 
> 1: In matrix(0, nGenes, nGenes) : 
>   Reached total allocation of 2550Mb: see help(memory.size) 
> 2: In matrix(0, nGenes, nGenes) : 
>   Reached total allocation of 2550Mb: see help(memory.size) 
> 3: In matrix(0, nGenes, nGenes) : 
>   Reached total allocation of 2550Mb: see help(memory.size) 
> 4: In matrix(0, nGenes, nGenes) : 
>   Reached total allocation of 2550Mb: see help(memory.size) 
>
> Help me to resolve this problem 
>
> -- 
> View this message in context: 
> http://r.789695.n4.nabble.com/Error-during-working-with-wgcna-and-R-tp4635768.html 
> Sent from the R help mailing list archive at Nabble.com. 
>
> ______________________________________________ 
> R-h... at r-project.org <javascript:> mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-help 
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> and provide commented, minimal, self-contained, reproducible code. 
>

From noelialegal at hotmail.com  Fri May  9 17:17:44 2014
From: noelialegal at hotmail.com (NOELIA LEGAL)
Date: Fri, 9 May 2014 12:17:44 -0300
Subject: [R] Pearson III distribution
Message-ID: <BAY172-W34392C216B95E6B9C5DEEDAC480@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: no disponible
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/faaa5471/attachment.pl>

From smartpink111 at yahoo.com  Fri May  9 17:26:31 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 9 May 2014 08:26:31 -0700 (PDT)
Subject: [R] Tukey "no factors"
Message-ID: <1399649191.88258.YahooMailNeo@web142603.mail.bf1.yahoo.com>

HI,
May be the below links help:
http://r.789695.n4.nabble.com/TukeyHSD-troubles-td1570205.html
http://r.789695.n4.nabble.com/TukeyHSD-error-td3051059.html


A.K.



Hi

I'm trying to run a Tukey test on mortality data, where I want to test whether mortality is influenced by the amount of copper (in an one-way ANOVA) and the combination of copper and temperature (in a two-way ANOVA). These are my formulas:

lm2<-lm(Mortality~Cu)
anova(lm2)
TukeyHSD(aov(Mortality~Cu))

lm2<-lm(Mortality~Cu+Temp+Cu:Temp)
anova(lm2)
TukeyHSD(aov(Mortality~Cu+Temp+Cu:Temp))

The ANOVA is no problem, but for both Tukey's, I get the following error message:

Error in TukeyHSD.aov(aov(Mortality ~ Cu + Temp + Cu:Temp)) :
? no factors in the fitted model
In addition: Warning messages:
1: In replications(paste("~", xx), data = mf) : non-factors ignored: Cu
2: In replications(paste("~", xx), data = mf) : non-factors ignored: Temp
3: In replications(paste("~", xx), data = mf) :
? non-factors ignored: Cu, Temp

I've read on other posts that there should be a factor somewhere, but all my data are numbers! I'm quite baffled and have no idea what to do next.

Thanks in advance for your help!

Lundill 



From peter.langfelder at gmail.com  Fri May  9 20:25:05 2014
From: peter.langfelder at gmail.com (Peter Langfelder)
Date: Fri, 9 May 2014 11:25:05 -0700
Subject: [R] Error during working with wgcna and R
In-Reply-To: <3efce90e-a935-48ee-8735-de901a0a8cd0@googlegroups.com>
References: <1341745374504-4635768.post@n4.nabble.com>
	<3efce90e-a935-48ee-8735-de901a0a8cd0@googlegroups.com>
Message-ID: <CA+hbrhXkdjKZufGK5qrM++6nPbVWUPBSWV_3qjGF=rK_k0x6uA@mail.gmail.com>

WGCNA maintainer here. When working with a large data set, you have a
few options.

1. Without being snarky, the best option is to get (or get access to)
a computer with large-enough RAM. Many universities, departments, and
other research institutes have computer clusters with nodes with at
least 64GB of memory. If you are working on your own computer under
Windows, make sure you run the 64-bit version of R and consider buying
additional RAM if you can.

2. Reduce the number of the features (usually probes/probesets). This
is not always possible in general applications, but for gene
expression studies in a single tissue one would not expect more than
about 10k genes to be expressed, so using all probes of a modern array
is probably an overkill - most of them will not be expressed. If you
do the reduction, I recommend filtering out probes whose expression
values are low in a suitable fraction of the samples (depending on
experiment design).

If you can't get a computer big enough to handle a reduced data set,
the next options are these:

3. Use blockwiseModules with an appropriately set argument
maxBlockSize. See WGCNA tutorial I, section 2c, at
http://labs.genetics.ucla.edu/horvath/htdocs/CoexpressionNetwork/Rpackages/WGCNA/Tutorials/index.html
, and pay careful attention to the paragraphs discussing the choice of
maxBlockSize. The function blockwiseModules can be instructed to save
the TOM matrices for each block to disk; you can load them later
one-by-one if you need to.

4. If you want to do the analysis on your own, use the function
projectiveKMeans to pre-cluster the genes into blocks, then run the
analysis in each block separately. Remember to remove all large
objects from memory and call garbage collection to free up enough
memory before going to the next block.

HTH,

Peter

On Fri, May 9, 2014 at 5:37 AM, KK <kidist.kibret at gmail.com> wrote:
> I am also working on co-expression analysis. It seems like there is no way
> to use TOMsimilarityFromExpr for large datasets.
> The option 'maxBlockSize' exists for module detection but not for
> TOMsimilarity? The only solution seems to reduce the dataset
>
> On Sunday, July 8, 2012 1:02:54 PM UTC+2, deeksha.malhan wrote:
>>
>> Hi
>> I am working on co-expression analysis of rice dataset with the help of
>> wgcna and R but now I am  at one point which is showing error as shown
>> below
>> :
>>
>>
>>  dissTOM = 1-TOMsimilarityFromExpr(datExpr, power = 8);
>> Error: cannot allocate vector of size 2.8 Gb
>> In addition: Warning messages:
>> 1: In matrix(0, nGenes, nGenes) :
>>   Reached total allocation of 2550Mb: see help(memory.size)
>> 2: In matrix(0, nGenes, nGenes) :
>>   Reached total allocation of 2550Mb: see help(memory.size)
>> 3: In matrix(0, nGenes, nGenes) :
>>   Reached total allocation of 2550Mb: see help(memory.size)
>> 4: In matrix(0, nGenes, nGenes) :
>>   Reached total allocation of 2550Mb: see help(memory.size)
>>
>> Help me to resolve this problem
>>
>> --
>> View this message in context:
>> http://r.789695.n4.nabble.com/Error-during-working-with-wgcna-and-R-tp4635768.html
>> Sent from the R help mailing list archive at Nabble.com.
>>
>> ______________________________________________
>> R-h... at r-project.org <javascript:> mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From dwinsemius at comcast.net  Fri May  9 21:16:35 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 9 May 2014 12:16:35 -0700
Subject: [R] Pearson III distribution
In-Reply-To: <BAY172-W34392C216B95E6B9C5DEEDAC480@phx.gbl>
References: <BAY172-W34392C216B95E6B9C5DEEDAC480@phx.gbl>
Message-ID: <B420BB39-4594-45F9-B5C7-418662E3E4B1@comcast.net>


On May 9, 2014, at 8:17 AM, NOELIA LEGAL wrote:

> Please I need your help.I'm intrested to know if there is any R-package for  fit a Pearson III  extreme value distribution to data.Thanks a lot

You are requested to do some searching yourself before posting. If you have failed to find what you need in the CRAN Task Views, the obvious one being: http://cran.r-project.org/web/views/Distributions.html then you should say what further is needed and how those resources have failed to address your needs.

> Noelia 		 	   		  
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From tom at maladmin.com  Fri May  9 23:02:32 2014
From: tom at maladmin.com (Tom Wright)
Date: Fri, 09 May 2014 17:02:32 -0400
Subject: [R] How to write a loop in which i has to be in POSIX format?
In-Reply-To: <1399583987997-4690212.post@n4.nabble.com>
References: <1399583987997-4690212.post@n4.nabble.com>
Message-ID: <1399669352.4580.7.camel@tom-laptop.sickkids.ca>

i is an element in zn so replace zn[i] with just i
for (i in zn){
     treat$su[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
 min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zni, "UTC")])
     treat$sa[treat$Zugnacht==as.POSIXct(zni, "UTC")] <-
 max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zni, "UTC")])
     }


If you want to keep i as an index you need something like:
for(i in 1:length(i))
	{
	#do stuff on zn[i]
	}


On Thu, 2014-05-08 at 14:19 -0700, peregrine wrote:
> Hallo,
> 
> I have a table in which I would like to insert the min and max values of
> another column (date and time in as.POSIXct Format).
> 
> This is my row table, where "su" and "sa" are still the same as "Vollzeit":
> 
> head(treat)
>              Vollzeit      Datum   Zugnacht                  su                 
> sa
> 2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-09
> 20:15:00
> 3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:30:00 2013-09-09
> 20:30:00
> 4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:45:00 2013-09-09
> 20:45:00
> 5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 21:00:00 2013-09-09
> 21:00:00
> 6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 21:15:00 2013-09-09
> 21:15:00
> 7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 21:30:00 2013-09-09
> 21:30:00
> 
> Now I want to insert the minimum value of "Vollzeit" for each date in
> "Zugnacht" into the column "su" and the maximum value of "Vollzeit" for each
> date in "Zugnacht" into the column "sa". If I do it like this, it does
> exactly what I want:
> 
> zn                   <- unique(treat$Zugnacht)
> i=zn[1]
> treat$su[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
> min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
> treat$sa[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
> max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
> 
> This is the result for the first date in "Zugnacht":
> head(treat)
>              Vollzeit      Datum   Zugnacht                  su                 
> sa
> 2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 
> 
> However I am not able to create a loop that runs over all 113 dates in zn. I
> tried this, but it does not work. Can anybody help, please?
> 
> for (i in zn){
>     treat$su[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
> min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
>     treat$sa[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
> max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
>     }
> 
> Kind regards
> Christiane
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/How-to-write-a-loop-in-which-i-has-to-be-in-POSIX-format-tp4690212.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From andreas.leha at med.uni-goettingen.de  Fri May  9 23:08:15 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Fri, 9 May 2014 22:08:15 +0100
Subject: [R] transition from depends to imports
Message-ID: <87bnv6ace8.fsf@med.uni-goettingen.de>

Hi all,

I am having trouble to do a particular transition from depends to
imports in one of my packages.

This packages uses 'wilcoxsign_test' from the 'coin' package.  And this
is the only function from the coin package that it uses (directly).

(Everything works fine, as long as my package depends on the coin
package.)

My guess was, that I would need to only import that function from the
coin package. (I.e. to move the coin package from Depends
to Imports in the DESCRIPTION and in the NAMESPACE do
'importFrom(coin,wilcoxsign_test)'.)

But then, calling wilcoxsign_test leads to this error:
,----
| Error in formula2data(formula, data, subset, frame = parent.frame(), ...) : 
|   could not find function "ModelEnvFormula"
`----

Now, formula2data is an unexported function in the coin package and
ModelEnvFormula is a (exported) function in modeltools.

So, I tried to import ModelEnvFormula from modeltools -- no avail.
And I tried to import formula2data from coin -- not possible
And I tried to import the whole coin package -- no avail.

So, here is the question:  How do I import 'wilcoxsign_test' from the
coin package in a way, that it is usable?

Many thanks in advance.

Regards,
Andreas


From macqueen1 at llnl.gov  Fri May  9 23:17:47 2014
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Fri, 9 May 2014 21:17:47 +0000
Subject: [R] Help with passing in name of XTS file into write.table as a
 variable.
In-Reply-To: <CAOk2wpPP7GUb6dN7GhxhVe6gfUFsPL93DS3-_WQYD-0sYeh4yA@mail.gmail.com>
References: <CAOk2wpPP7GUb6dN7GhxhVe6gfUFsPL93DS3-_WQYD-0sYeh4yA@mail.gmail.com>
Message-ID: <CF9292CA.F7596%macqueen1@llnl.gov>

It is a simple change.

If you don't save the results of getSymbol() into a variable, then it's
not available for write.table() to write.

Try
  mydata <- getSymbols(ticker,from='1990-01-01')
  write.table( mydata, {etc})

The help for write.table says that "x" (the first argument to
write.table), contains the data to be written to the file (it says
"object" to be written, not "data" to be written, but that's essentially
what it means). The content of your variable tickler is "IBM" so it writes
that to the file.

-Don


p.s., this is so basic that I'd suggest you try to spend some time with
some of the introductory R documentation. Best wishies!


-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 5/8/14 4:19 PM, "yannikin at gmail.com" <yannikin at gmail.com> wrote:

>Hi y'all,
>
>I'm using quantmod's getSymbols function, which retrieves data in XTS
>format.
>
>I'm trying to pass "IBM" into the "ticker" variable, then write the table
>referencing "ticker."  However, when I run the write.table command, it
>writes "IBM", not the data inside IBM.
>
>Do you have any thoughts on how to fix this?  I imagine it's a simple
>change.
>
>Thank you much!
>
>ticker="IBM"
>getSymbols(ticker,from='1990-01-01')
>write.table(ticker,file="deleteme.csv", col.names=FALSE, sep=',')
>write.table(as.data.frame(ticker),file="deleteme2.csv", col.names=FALSE,
>sep=',')
>
>-- 
>Yan Wu
>510-333-3188 <http://bigkidsbighearts.org>
>yannikin at gmail.com
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From murdoch.duncan at gmail.com  Fri May  9 23:22:29 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 9 May 2014 17:22:29 -0400
Subject: [R] transition from depends to imports
In-Reply-To: <87bnv6ace8.fsf@med.uni-goettingen.de>
References: <87bnv6ace8.fsf@med.uni-goettingen.de>
Message-ID: <536D4715.2070308@gmail.com>

On 09/05/2014, 5:08 PM, Andreas Leha wrote:
> Hi all,
>
> I am having trouble to do a particular transition from depends to
> imports in one of my packages.
>
> This packages uses 'wilcoxsign_test' from the 'coin' package.  And this
> is the only function from the coin package that it uses (directly).
>
> (Everything works fine, as long as my package depends on the coin
> package.)
>
> My guess was, that I would need to only import that function from the
> coin package. (I.e. to move the coin package from Depends
> to Imports in the DESCRIPTION and in the NAMESPACE do
> 'importFrom(coin,wilcoxsign_test)'.)
>
> But then, calling wilcoxsign_test leads to this error:
> ,----
> | Error in formula2data(formula, data, subset, frame = parent.frame(), ...) :
> |   could not find function "ModelEnvFormula"
> `----
>
> Now, formula2data is an unexported function in the coin package and
> ModelEnvFormula is a (exported) function in modeltools.
>
> So, I tried to import ModelEnvFormula from modeltools -- no avail.
> And I tried to import formula2data from coin -- not possible
> And I tried to import the whole coin package -- no avail.
>
> So, here is the question:  How do I import 'wilcoxsign_test' from the
> coin package in a way, that it is usable?
>

Which version of the packages are you using?  The current version of 
coin imports ModelEnvFormula from modeltools, so it should be able to 
find that function.

Duncan Murdoch


From spencer.graves at structuremonitoring.com  Fri May  9 23:32:37 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Fri, 09 May 2014 14:32:37 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>	<536C51EC.7010503@structuremonitoring.com>	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>	<536CA2CD.8010904@gmail.com>
	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>
Message-ID: <536D4975.9080509@structuremonitoring.com>

Hi, Duncan:


       Thanks very much.  I used to think that everything in R was a 
object.  Now I know that is.object(quote(x)) is FALSE.  (A decade ago, 
S-Plus asked me if I wanted to save changes to history.  I thought, 
"Wow!  Do I get to change history?"


       Hadley's "Advanced R" book mentions "Reference classes" in his 
"OO field guide".  It includes an example where changing "a" changes a 
"copy" previously made:


b <- a
b$balance
#> [1] 200
a$balance <- 0
b$balance
#> [1] 0


       This bothers me far more than an object in R that's not an object 
;-)


       Best Wishes,
       Spencer


On 5/9/2014 6:48 AM, Bert Gunter wrote:
> Ahhh. Thanks Duncan.
>
> -- Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Fri, May 9, 2014 at 2:41 AM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>> On 09/05/2014, 2:41 AM, Bert Gunter wrote:
>>> Spencer:
>>>
>>> Hmmm....
>>> Well, I don't get what's going on here -- as.character.default is
>>> internal -- but could you method-ize a simple synonym:
>>
>> See ?InternalMethods:
>>
>> "For efficiency, internal dispatch only occurs on objects, that is those for
>> which is.object returns true."
>>
>> Duncan Murdoch
>>
>>
>>> asChar<- function(e,...)UseMethod("asChar")
>>> asChar.call <- function(e,...)deparse(e,...)
>>> asChar.default <- function(e,...)as.character(e,...)
>>>
>>>> asChar(xDy)
>>> [1] "x$y"
>>>
>>>> asChar(1:5)
>>> [1] "1" "2" "3" "4" "5"
>>>
>>>
>>> Cheers,
>>> Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
>>> <spencer.graves at structuremonitoring.com> wrote:
>>>> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>>>>
>>>>> [1] "x$y"
>>>>>
>>>>> Spencer:
>>>>>
>>>>> Does
>>>>>
>>>>> deparse(substitute(x$y))
>>>>> [1] "x$y"
>>>>>
>>>>> do what you want?
>>>>
>>>>
>>>>
>>>>         No:  The problem is methods dispatch.  class(quote(x$y)) = 'call',
>>>> but
>>>> as.character(quote(x$y)) does NOT go to "as.character.call".
>>>>
>>>>
>>>>         deparse(quote(x$y)) returns the answer I want, as Greg Snow noted
>>>> earlier.
>>>>
>>>>
>>>>         However, it would be easier to remember if I could write
>>>> as.character(quote(x$y)) and get the same thing.
>>>>
>>>>
>>>>         With "as.character.call <- function(x, ...)deparse(x, ...)",
>>>> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
>>>> methods dispatch one might naively expect fails, as noted above.
>>>>
>>>>
>>>>         Thanks,
>>>>         Spencer
>>>>
>>>>> Cheers,
>>>>> Bert
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> -- Bert
>>>>>
>>>>> Bert Gunter
>>>>> Genentech Nonclinical Biostatistics
>>>>> (650) 467-7374
>>>>>
>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>> is certainly not wisdom."
>>>>> H. Gilbert Welch
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>
>>>>>>              "as.character.call" seems not to work as an alias for
>>>>>> deparse.
>>>>>> Consider the following:
>>>>>>
>>>>>>
>>>>>> xDy <- quote(x$y)
>>>>>> class(xDy)
>>>>>> "call"
>>>>>> as.character.call <- function(x, ...)deparse(x, ...)
>>>>>> as.character(xDy)
>>>>>> [1] "$" "x" "y"
>>>>>> # fails
>>>>>>
>>>>>> str(xDy)
>>>>>> #  language x$y
>>>>>> as.character.language <- function(x, ...)"language"
>>>>>>
>>>>>> as.character(xDy)
>>>>>> [1] "$" "x" "y"
>>>>>>
>>>>>>
>>>>>>              Is it feasible to construct a method for "as.character"
>>>>>> that
>>>>>> works
>>>>>> for objects of class "call"?
>>>>>>
>>>>>>
>>>>>>              Thanks,
>>>>>>              Spencer
>>>>>>
>>>>>>
>>>>>> #################
>>>>>>
>>>>>>
>>>>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>>>>> Gunter.
>>>>>>
>>>>>>
>>>>>>          Might it make sense to create as.character.call as an alias for
>>>>>> deparse?
>>>>>>
>>>>>>
>>>>>>          A few years ago, I wrote several functions like "predict.fd" as
>>>>>> aliases for functions with less memorable names like "eval.fd".  Doing
>>>>>> that
>>>>>> made the "fda" package easier to use, at least for me ;-)
>>>>>>
>>>>>>
>>>>>>          Thanks again,
>>>>>>          Spencer
>>>>>>
>>>>>>
>>>>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>>>>
>>>>>>> ... and
>>>>>>>
>>>>>>>> str(quote(x$y))
>>>>>>>
>>>>>>>      language x$y
>>>>>>>
>>>>>>>> as.list(quote(x$y))
>>>>>>>
>>>>>>> [[1]]
>>>>>>> `$`
>>>>>>>
>>>>>>> [[2]]
>>>>>>> x
>>>>>>>
>>>>>>> [[3]]
>>>>>>> y
>>>>>>>
>>>>>>> ## may be instructive.
>>>>>>>
>>>>>>> Cheers,
>>>>>>> Bert
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Bert Gunter
>>>>>>> Genentech Nonclinical Biostatistics
>>>>>>> (650) 467-7374
>>>>>>>
>>>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>>>> is certainly not wisdom."
>>>>>>> H. Gilbert Welch
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>> deparse(quote(x$y))
>>>>>>>>
>>>>>>>> [1] "x$y"
>>>>>>>>
>>>>>>>> It looks like deparse does what you want here.
>>>>>>>>
>>>>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>>>
>>>>>>>>> Hello, All:
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>           Is there a simple utility someplace to convert "quote(x$y)"
>>>>>>>>> to
>>>>>>>>> "x$y"?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>           I ask, because as.character(quote(x$y)) is a character
>>>>>>>>> vector
>>>>>>>>> of
>>>>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>>>>> diagnostic
>>>>>>>>> message.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>           class(quote(x$y)) = "call", which suggests I could write
>>>>>>>>> "as.character.call" to perform this function.  However, before I do,
>>>>>>>>> I
>>>>>>>>> felt
>>>>>>>>> a need to ask for other thoughts on this.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>           Thanks,
>>>>>>>>>           Spencer
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>>>>> 538280 at gmail.com
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> ______________________________________________
>>>>>>>>> R-help at r-project.org mailing list
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>>>


From eliza_botto at hotmail.com  Fri May  9 23:35:59 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Fri, 9 May 2014 21:35:59 +0000
Subject: [R] adding rows
Message-ID: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/8267d836/attachment.pl>

From andreas.leha at med.uni-goettingen.de  Fri May  9 23:39:16 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Fri, 9 May 2014 22:39:16 +0100
Subject: [R] transition from depends to imports
References: <87bnv6ace8.fsf@med.uni-goettingen.de> <536D4715.2070308@gmail.com>
Message-ID: <877g5uaayj.fsf@med.uni-goettingen.de>

Hi Duncan,

Thank you for your follow-up and fast response!

Duncan Murdoch <murdoch.duncan at gmail.com> writes:

> On 09/05/2014, 5:08 PM, Andreas Leha wrote:
>> Hi all,
>>
>> I am having trouble to do a particular transition from depends to
>> imports in one of my packages.
>>
>> This packages uses 'wilcoxsign_test' from the 'coin' package.  And this
>> is the only function from the coin package that it uses (directly).
>>
>> (Everything works fine, as long as my package depends on the coin
>> package.)
>>
>> My guess was, that I would need to only import that function from the
>> coin package. (I.e. to move the coin package from Depends
>> to Imports in the DESCRIPTION and in the NAMESPACE do
>> 'importFrom(coin,wilcoxsign_test)'.)
>>
>> But then, calling wilcoxsign_test leads to this error:
>> ,----
>> | Error in formula2data(formula, data, subset, frame = parent.frame(), ...) :
>> |   could not find function "ModelEnvFormula"
>> `----
>>
>> Now, formula2data is an unexported function in the coin package and
>> ModelEnvFormula is a (exported) function in modeltools.
>>
>> So, I tried to import ModelEnvFormula from modeltools -- no avail.
>> And I tried to import formula2data from coin -- not possible
>> And I tried to import the whole coin package -- no avail.
>>
>> So, here is the question:  How do I import 'wilcoxsign_test' from the
>> coin package in a way, that it is usable?
>>
>
> Which version of the packages are you using?  The current version of
> coin imports ModelEnvFormula from modeltools, so it should be able to
> find that function.
>
> Duncan Murdoch

As it seems, the version I use(d) depends on modeltools.

,----
| > packageDescription("coin")
| Package: coin
| Title: Conditional Inference Procedures in a Permutation Test Framework
| Date: 2013-04-26
| Version: 1.0-22
| Author: Torsten Hothorn, Kurt Hornik, Mark A. van de Wiel and Achim
|         Zeileis
| Maintainer: Torsten Hothorn <Torsten.Hothorn at R-project.org>
| Description: Conditional inference procedures for the general
|         independence problem including two-sample, K-sample
|         (non-parametric ANOVA), correlation, censored, ordered and
|         multivariate problems.
| Depends: R (>= 2.2.0), methods, survival, mvtnorm (>= 0.8-0),
|         modeltools (>= 0.2-9)
| Suggests: multcomp, xtable, e1071, vcd
| Enhances: Biobase
| LazyLoad: yes
| LazyData: yes
| License: GPL-2
| Packaged: 2013-04-26 12:33:15 UTC; hothorn
| NeedsCompilation: yes
| Repository: CRAN
| Date/Publication: 2013-04-26 15:27:04
| Built: R 3.0.1; x86_64-pc-linux-gnu; 2013-05-29 16:07:42 UTC; unix
| 
| -- File: /usr/lib/R/site-library/coin/Meta/package.rds 
`----

I can confirm that updating coin (to version 1.1-0) did resolve my
problem.  Thank you very much!


This leads to the follow-up question:  How would I have correctly dealt
with this situation if my dependency ('coin') had not been updated?

Regards,
Andreas


From murdoch.duncan at gmail.com  Fri May  9 23:42:39 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 9 May 2014 17:42:39 -0400
Subject: [R] transition from depends to imports
In-Reply-To: <877g5uaayj.fsf@med.uni-goettingen.de>
References: <87bnv6ace8.fsf@med.uni-goettingen.de> <536D4715.2070308@gmail.com>
	<877g5uaayj.fsf@med.uni-goettingen.de>
Message-ID: <536D4BCF.3070705@gmail.com>

On 09/05/2014, 5:39 PM, Andreas Leha wrote:
> Hi Duncan,
>
> Thank you for your follow-up and fast response!
>
> Duncan Murdoch <murdoch.duncan at gmail.com> writes:
>
>> On 09/05/2014, 5:08 PM, Andreas Leha wrote:
>>> Hi all,
>>>
>>> I am having trouble to do a particular transition from depends to
>>> imports in one of my packages.
>>>
>>> This packages uses 'wilcoxsign_test' from the 'coin' package.  And this
>>> is the only function from the coin package that it uses (directly).
>>>
>>> (Everything works fine, as long as my package depends on the coin
>>> package.)
>>>
>>> My guess was, that I would need to only import that function from the
>>> coin package. (I.e. to move the coin package from Depends
>>> to Imports in the DESCRIPTION and in the NAMESPACE do
>>> 'importFrom(coin,wilcoxsign_test)'.)
>>>
>>> But then, calling wilcoxsign_test leads to this error:
>>> ,----
>>> | Error in formula2data(formula, data, subset, frame = parent.frame(), ...) :
>>> |   could not find function "ModelEnvFormula"
>>> `----
>>>
>>> Now, formula2data is an unexported function in the coin package and
>>> ModelEnvFormula is a (exported) function in modeltools.
>>>
>>> So, I tried to import ModelEnvFormula from modeltools -- no avail.
>>> And I tried to import formula2data from coin -- not possible
>>> And I tried to import the whole coin package -- no avail.
>>>
>>> So, here is the question:  How do I import 'wilcoxsign_test' from the
>>> coin package in a way, that it is usable?
>>>
>>
>> Which version of the packages are you using?  The current version of
>> coin imports ModelEnvFormula from modeltools, so it should be able to
>> find that function.
>>
>> Duncan Murdoch
>
> As it seems, the version I use(d) depends on modeltools.
>
> ,----
> | > packageDescription("coin")
> | Package: coin
> | Title: Conditional Inference Procedures in a Permutation Test Framework
> | Date: 2013-04-26
> | Version: 1.0-22
> | Author: Torsten Hothorn, Kurt Hornik, Mark A. van de Wiel and Achim
> |         Zeileis
> | Maintainer: Torsten Hothorn <Torsten.Hothorn at R-project.org>
> | Description: Conditional inference procedures for the general
> |         independence problem including two-sample, K-sample
> |         (non-parametric ANOVA), correlation, censored, ordered and
> |         multivariate problems.
> | Depends: R (>= 2.2.0), methods, survival, mvtnorm (>= 0.8-0),
> |         modeltools (>= 0.2-9)
> | Suggests: multcomp, xtable, e1071, vcd
> | Enhances: Biobase
> | LazyLoad: yes
> | LazyData: yes
> | License: GPL-2
> | Packaged: 2013-04-26 12:33:15 UTC; hothorn
> | NeedsCompilation: yes
> | Repository: CRAN
> | Date/Publication: 2013-04-26 15:27:04
> | Built: R 3.0.1; x86_64-pc-linux-gnu; 2013-05-29 16:07:42 UTC; unix
> |
> | -- File: /usr/lib/R/site-library/coin/Meta/package.rds
> `----
>
> I can confirm that updating coin (to version 1.1-0) did resolve my
> problem.  Thank you very much!
>
>
> This leads to the follow-up question:  How would I have correctly dealt
> with this situation if my dependency ('coin') had not been updated?

I think the only workaround would be for you to say your package Depends 
on modeltools.  It's really a coin issue, not yours, and the right 
people fixed it.

Duncan Murdoch


From h.wickham at gmail.com  Fri May  9 23:42:58 2014
From: h.wickham at gmail.com (Hadley Wickham)
Date: Fri, 9 May 2014 16:42:58 -0500
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536D4975.9080509@structuremonitoring.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
	<536C51EC.7010503@structuremonitoring.com>
	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
	<536CA2CD.8010904@gmail.com>
	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>
	<536D4975.9080509@structuremonitoring.com>
Message-ID: <CABdHhvHmEbNQVpFa_BvbqyyV2aP5k=jP6mHGbcd60R2CNF_uQw@mail.gmail.com>

Beware of the is.* functions:

* is.object() does not test the usual definition of objects
* is.vector() does not test the usual definition of vectors
* is.numeric() does not work the same way as is.character() or is.integer()
* is.Date() doesn't exist
* is.nan() doesn't return TRUE for some NaNs

Hadley

On Fri, May 9, 2014 at 4:32 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
> Hi, Duncan:
>
>
>       Thanks very much.  I used to think that everything in R was a object.
> Now I know that is.object(quote(x)) is FALSE.  (A decade ago, S-Plus asked
> me if I wanted to save changes to history.  I thought, "Wow!  Do I get to
> change history?"
>
>
>       Hadley's "Advanced R" book mentions "Reference classes" in his "OO
> field guide".  It includes an example where changing "a" changes a "copy"
> previously made:
>
>
> b <- a
> b$balance
> #> [1] 200
> a$balance <- 0
> b$balance
> #> [1] 0
>
>
>       This bothers me far more than an object in R that's not an object ;-)
>
>
>       Best Wishes,
>       Spencer
>
>
>
> On 5/9/2014 6:48 AM, Bert Gunter wrote:
>>
>> Ahhh. Thanks Duncan.
>>
>> -- Bert
>>
>> Bert Gunter
>> Genentech Nonclinical Biostatistics
>> (650) 467-7374
>>
>> "Data is not information. Information is not knowledge. And knowledge
>> is certainly not wisdom."
>> H. Gilbert Welch
>>
>>
>>
>>
>> On Fri, May 9, 2014 at 2:41 AM, Duncan Murdoch <murdoch.duncan at gmail.com>
>> wrote:
>>>
>>> On 09/05/2014, 2:41 AM, Bert Gunter wrote:
>>>>
>>>> Spencer:
>>>>
>>>> Hmmm....
>>>> Well, I don't get what's going on here -- as.character.default is
>>>> internal -- but could you method-ize a simple synonym:
>>>
>>>
>>> See ?InternalMethods:
>>>
>>> "For efficiency, internal dispatch only occurs on objects, that is those
>>> for
>>> which is.object returns true."
>>>
>>> Duncan Murdoch
>>>
>>>
>>>> asChar<- function(e,...)UseMethod("asChar")
>>>> asChar.call <- function(e,...)deparse(e,...)
>>>> asChar.default <- function(e,...)as.character(e,...)
>>>>
>>>>> asChar(xDy)
>>>>
>>>> [1] "x$y"
>>>>
>>>>> asChar(1:5)
>>>>
>>>> [1] "1" "2" "3" "4" "5"
>>>>
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>> Bert Gunter
>>>> Genentech Nonclinical Biostatistics
>>>> (650) 467-7374
>>>>
>>>> "Data is not information. Information is not knowledge. And knowledge
>>>> is certainly not wisdom."
>>>> H. Gilbert Welch
>>>>
>>>>
>>>>
>>>>
>>>> On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>
>>>>> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>>>>>
>>>>>>
>>>>>> [1] "x$y"
>>>>>>
>>>>>> Spencer:
>>>>>>
>>>>>> Does
>>>>>>
>>>>>> deparse(substitute(x$y))
>>>>>> [1] "x$y"
>>>>>>
>>>>>> do what you want?
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>         No:  The problem is methods dispatch.  class(quote(x$y)) =
>>>>> 'call',
>>>>> but
>>>>> as.character(quote(x$y)) does NOT go to "as.character.call".
>>>>>
>>>>>
>>>>>         deparse(quote(x$y)) returns the answer I want, as Greg Snow
>>>>> noted
>>>>> earlier.
>>>>>
>>>>>
>>>>>         However, it would be easier to remember if I could write
>>>>> as.character(quote(x$y)) and get the same thing.
>>>>>
>>>>>
>>>>>         With "as.character.call <- function(x, ...)deparse(x, ...)",
>>>>> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
>>>>> methods dispatch one might naively expect fails, as noted above.
>>>>>
>>>>>
>>>>>         Thanks,
>>>>>         Spencer
>>>>>
>>>>>> Cheers,
>>>>>> Bert
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> -- Bert
>>>>>>
>>>>>> Bert Gunter
>>>>>> Genentech Nonclinical Biostatistics
>>>>>> (650) 467-7374
>>>>>>
>>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>>> is certainly not wisdom."
>>>>>> H. Gilbert Welch
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>
>>>>>>>
>>>>>>>              "as.character.call" seems not to work as an alias for
>>>>>>> deparse.
>>>>>>> Consider the following:
>>>>>>>
>>>>>>>
>>>>>>> xDy <- quote(x$y)
>>>>>>> class(xDy)
>>>>>>> "call"
>>>>>>> as.character.call <- function(x, ...)deparse(x, ...)
>>>>>>> as.character(xDy)
>>>>>>> [1] "$" "x" "y"
>>>>>>> # fails
>>>>>>>
>>>>>>> str(xDy)
>>>>>>> #  language x$y
>>>>>>> as.character.language <- function(x, ...)"language"
>>>>>>>
>>>>>>> as.character(xDy)
>>>>>>> [1] "$" "x" "y"
>>>>>>>
>>>>>>>
>>>>>>>              Is it feasible to construct a method for "as.character"
>>>>>>> that
>>>>>>> works
>>>>>>> for objects of class "call"?
>>>>>>>
>>>>>>>
>>>>>>>              Thanks,
>>>>>>>              Spencer
>>>>>>>
>>>>>>>
>>>>>>> #################
>>>>>>>
>>>>>>>
>>>>>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>>>>>> Gunter.
>>>>>>>
>>>>>>>
>>>>>>>          Might it make sense to create as.character.call as an alias
>>>>>>> for
>>>>>>> deparse?
>>>>>>>
>>>>>>>
>>>>>>>          A few years ago, I wrote several functions like "predict.fd"
>>>>>>> as
>>>>>>> aliases for functions with less memorable names like "eval.fd".
>>>>>>> Doing
>>>>>>> that
>>>>>>> made the "fda" package easier to use, at least for me ;-)
>>>>>>>
>>>>>>>
>>>>>>>          Thanks again,
>>>>>>>          Spencer
>>>>>>>
>>>>>>>
>>>>>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> ... and
>>>>>>>>
>>>>>>>>> str(quote(x$y))
>>>>>>>>
>>>>>>>>
>>>>>>>>      language x$y
>>>>>>>>
>>>>>>>>> as.list(quote(x$y))
>>>>>>>>
>>>>>>>>
>>>>>>>> [[1]]
>>>>>>>> `$`
>>>>>>>>
>>>>>>>> [[2]]
>>>>>>>> x
>>>>>>>>
>>>>>>>> [[3]]
>>>>>>>> y
>>>>>>>>
>>>>>>>> ## may be instructive.
>>>>>>>>
>>>>>>>> Cheers,
>>>>>>>> Bert
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Bert Gunter
>>>>>>>> Genentech Nonclinical Biostatistics
>>>>>>>> (650) 467-7374
>>>>>>>>
>>>>>>>> "Data is not information. Information is not knowledge. And
>>>>>>>> knowledge
>>>>>>>> is certainly not wisdom."
>>>>>>>> H. Gilbert Welch
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> deparse(quote(x$y))
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> [1] "x$y"
>>>>>>>>>
>>>>>>>>> It looks like deparse does what you want here.
>>>>>>>>>
>>>>>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Hello, All:
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>           Is there a simple utility someplace to convert
>>>>>>>>>> "quote(x$y)"
>>>>>>>>>> to
>>>>>>>>>> "x$y"?
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>           I ask, because as.character(quote(x$y)) is a character
>>>>>>>>>> vector
>>>>>>>>>> of
>>>>>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>>>>>> diagnostic
>>>>>>>>>> message.
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>           class(quote(x$y)) = "call", which suggests I could write
>>>>>>>>>> "as.character.call" to perform this function.  However, before I
>>>>>>>>>> do,
>>>>>>>>>> I
>>>>>>>>>> felt
>>>>>>>>>> a need to ask for other thoughts on this.
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>           Thanks,
>>>>>>>>>>           Spencer
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>>>>>> 538280 at gmail.com
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> ______________________________________________
>>>>>>>>>> R-help at r-project.org mailing list
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>>>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
http://had.co.nz/


From spencer.graves at structuremonitoring.com  Fri May  9 23:50:53 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Fri, 09 May 2014 14:50:53 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CABdHhvHmEbNQVpFa_BvbqyyV2aP5k=jP6mHGbcd60R2CNF_uQw@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
	<536C51EC.7010503@structuremonitoring.com>
	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
	<536CA2CD.8010904@gmail.com>
	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>
	<536D4975.9080509@structuremonitoring.com>
	<CABdHhvHmEbNQVpFa_BvbqyyV2aP5k=jP6mHGbcd60R2CNF_uQw@mail.gmail.com>
Message-ID: <536D4DBD.1030407@structuremonitoring.com>

Dear Hadley:


       Thanks for that.  Digits are not numbers.  Numbers are not data.  
Data is not information.  Information is not intelligence. Intelligence 
is not knowledge.  Knowledge is not wisdom.  And your "is." warnings are 
more useful than my trivia here.


       Spencer


On 5/9/2014 2:42 PM, Hadley Wickham wrote:
> Beware of the is.* functions:
>
> * is.object() does not test the usual definition of objects
> * is.vector() does not test the usual definition of vectors
> * is.numeric() does not work the same way as is.character() or is.integer()
> * is.Date() doesn't exist
> * is.nan() doesn't return TRUE for some NaNs
>
> Hadley
>
> On Fri, May 9, 2014 at 4:32 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>> Hi, Duncan:
>>
>>
>>        Thanks very much.  I used to think that everything in R was a object.
>> Now I know that is.object(quote(x)) is FALSE.  (A decade ago, S-Plus asked
>> me if I wanted to save changes to history.  I thought, "Wow!  Do I get to
>> change history?"
>>
>>
>>        Hadley's "Advanced R" book mentions "Reference classes" in his "OO
>> field guide".  It includes an example where changing "a" changes a "copy"
>> previously made:
>>
>>
>> b <- a
>> b$balance
>> #> [1] 200
>> a$balance <- 0
>> b$balance
>> #> [1] 0
>>
>>
>>        This bothers me far more than an object in R that's not an object ;-)
>>
>>
>>        Best Wishes,
>>        Spencer
>>
>>
>>
>> On 5/9/2014 6:48 AM, Bert Gunter wrote:
>>> Ahhh. Thanks Duncan.
>>>
>>> -- Bert
>>>
>>> Bert Gunter
>>> Genentech Nonclinical Biostatistics
>>> (650) 467-7374
>>>
>>> "Data is not information. Information is not knowledge. And knowledge
>>> is certainly not wisdom."
>>> H. Gilbert Welch
>>>
>>>
>>>
>>>
>>> On Fri, May 9, 2014 at 2:41 AM, Duncan Murdoch <murdoch.duncan at gmail.com>
>>> wrote:
>>>> On 09/05/2014, 2:41 AM, Bert Gunter wrote:
>>>>> Spencer:
>>>>>
>>>>> Hmmm....
>>>>> Well, I don't get what's going on here -- as.character.default is
>>>>> internal -- but could you method-ize a simple synonym:
>>>>
>>>> See ?InternalMethods:
>>>>
>>>> "For efficiency, internal dispatch only occurs on objects, that is those
>>>> for
>>>> which is.object returns true."
>>>>
>>>> Duncan Murdoch
>>>>
>>>>
>>>>> asChar<- function(e,...)UseMethod("asChar")
>>>>> asChar.call <- function(e,...)deparse(e,...)
>>>>> asChar.default <- function(e,...)as.character(e,...)
>>>>>
>>>>>> asChar(xDy)
>>>>> [1] "x$y"
>>>>>
>>>>>> asChar(1:5)
>>>>> [1] "1" "2" "3" "4" "5"
>>>>>
>>>>>
>>>>> Cheers,
>>>>> Bert
>>>>>
>>>>> Bert Gunter
>>>>> Genentech Nonclinical Biostatistics
>>>>> (650) 467-7374
>>>>>
>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>> is certainly not wisdom."
>>>>> H. Gilbert Welch
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Thu, May 8, 2014 at 8:56 PM, Spencer Graves
>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>> On 5/8/2014 8:05 PM, Bert Gunter wrote:
>>>>>>>
>>>>>>> [1] "x$y"
>>>>>>>
>>>>>>> Spencer:
>>>>>>>
>>>>>>> Does
>>>>>>>
>>>>>>> deparse(substitute(x$y))
>>>>>>> [1] "x$y"
>>>>>>>
>>>>>>> do what you want?
>>>>>>
>>>>>>
>>>>>>
>>>>>>          No:  The problem is methods dispatch.  class(quote(x$y)) =
>>>>>> 'call',
>>>>>> but
>>>>>> as.character(quote(x$y)) does NOT go to "as.character.call".
>>>>>>
>>>>>>
>>>>>>          deparse(quote(x$y)) returns the answer I want, as Greg Snow
>>>>>> noted
>>>>>> earlier.
>>>>>>
>>>>>>
>>>>>>          However, it would be easier to remember if I could write
>>>>>> as.character(quote(x$y)) and get the same thing.
>>>>>>
>>>>>>
>>>>>>          With "as.character.call <- function(x, ...)deparse(x, ...)",
>>>>>> as.character.call(quote(x$y)) returns "x$y", as desired. However, the
>>>>>> methods dispatch one might naively expect fails, as noted above.
>>>>>>
>>>>>>
>>>>>>          Thanks,
>>>>>>          Spencer
>>>>>>
>>>>>>> Cheers,
>>>>>>> Bert
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> -- Bert
>>>>>>>
>>>>>>> Bert Gunter
>>>>>>> Genentech Nonclinical Biostatistics
>>>>>>> (650) 467-7374
>>>>>>>
>>>>>>> "Data is not information. Information is not knowledge. And knowledge
>>>>>>> is certainly not wisdom."
>>>>>>> H. Gilbert Welch
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Thu, May 8, 2014 at 5:56 PM, Spencer Graves
>>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>>
>>>>>>>>               "as.character.call" seems not to work as an alias for
>>>>>>>> deparse.
>>>>>>>> Consider the following:
>>>>>>>>
>>>>>>>>
>>>>>>>> xDy <- quote(x$y)
>>>>>>>> class(xDy)
>>>>>>>> "call"
>>>>>>>> as.character.call <- function(x, ...)deparse(x, ...)
>>>>>>>> as.character(xDy)
>>>>>>>> [1] "$" "x" "y"
>>>>>>>> # fails
>>>>>>>>
>>>>>>>> str(xDy)
>>>>>>>> #  language x$y
>>>>>>>> as.character.language <- function(x, ...)"language"
>>>>>>>>
>>>>>>>> as.character(xDy)
>>>>>>>> [1] "$" "x" "y"
>>>>>>>>
>>>>>>>>
>>>>>>>>               Is it feasible to construct a method for "as.character"
>>>>>>>> that
>>>>>>>> works
>>>>>>>> for objects of class "call"?
>>>>>>>>
>>>>>>>>
>>>>>>>>               Thanks,
>>>>>>>>               Spencer
>>>>>>>>
>>>>>>>>
>>>>>>>> #################
>>>>>>>>
>>>>>>>>
>>>>>>>> Thanks for the quick replies from Richard Heiberger, Greg Show & Bert
>>>>>>>> Gunter.
>>>>>>>>
>>>>>>>>
>>>>>>>>           Might it make sense to create as.character.call as an alias
>>>>>>>> for
>>>>>>>> deparse?
>>>>>>>>
>>>>>>>>
>>>>>>>>           A few years ago, I wrote several functions like "predict.fd"
>>>>>>>> as
>>>>>>>> aliases for functions with less memorable names like "eval.fd".
>>>>>>>> Doing
>>>>>>>> that
>>>>>>>> made the "fda" package easier to use, at least for me ;-)
>>>>>>>>
>>>>>>>>
>>>>>>>>           Thanks again,
>>>>>>>>           Spencer
>>>>>>>>
>>>>>>>>
>>>>>>>> On 5/7/2014 2:39 PM, Bert Gunter wrote:
>>>>>>>>>
>>>>>>>>> ... and
>>>>>>>>>
>>>>>>>>>> str(quote(x$y))
>>>>>>>>>
>>>>>>>>>       language x$y
>>>>>>>>>
>>>>>>>>>> as.list(quote(x$y))
>>>>>>>>>
>>>>>>>>> [[1]]
>>>>>>>>> `$`
>>>>>>>>>
>>>>>>>>> [[2]]
>>>>>>>>> x
>>>>>>>>>
>>>>>>>>> [[3]]
>>>>>>>>> y
>>>>>>>>>
>>>>>>>>> ## may be instructive.
>>>>>>>>>
>>>>>>>>> Cheers,
>>>>>>>>> Bert
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Bert Gunter
>>>>>>>>> Genentech Nonclinical Biostatistics
>>>>>>>>> (650) 467-7374
>>>>>>>>>
>>>>>>>>> "Data is not information. Information is not knowledge. And
>>>>>>>>> knowledge
>>>>>>>>> is certainly not wisdom."
>>>>>>>>> H. Gilbert Welch
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Wed, May 7, 2014 at 2:30 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>> deparse(quote(x$y))
>>>>>>>>>>
>>>>>>>>>> [1] "x$y"
>>>>>>>>>>
>>>>>>>>>> It looks like deparse does what you want here.
>>>>>>>>>>
>>>>>>>>>> On Wed, May 7, 2014 at 3:23 PM, Spencer Graves
>>>>>>>>>> <spencer.graves at structuremonitoring.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>> Hello, All:
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>            Is there a simple utility someplace to convert
>>>>>>>>>>> "quote(x$y)"
>>>>>>>>>>> to
>>>>>>>>>>> "x$y"?
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>            I ask, because as.character(quote(x$y)) is a character
>>>>>>>>>>> vector
>>>>>>>>>>> of
>>>>>>>>>>> length 3 =  "$" "x" "y".  I want to convert this to "x$y" for a
>>>>>>>>>>> diagnostic
>>>>>>>>>>> message.
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>            class(quote(x$y)) = "call", which suggests I could write
>>>>>>>>>>> "as.character.call" to perform this function.  However, before I
>>>>>>>>>>> do,
>>>>>>>>>>> I
>>>>>>>>>>> felt
>>>>>>>>>>> a need to ask for other thoughts on this.
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>            Thanks,
>>>>>>>>>>>            Spencer
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>> Gregory (Greg) L. Snow Ph.D.
>>>>>>>>>>> 538280 at gmail.com
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> ______________________________________________
>>>>>>>>>>> R-help at r-project.org mailing list
>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>>>>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>


-- 
Spencer Graves, PE, PhD
President and Chief Technology Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567
web:  www.structuremonitoring.com


From andreas.leha at med.uni-goettingen.de  Fri May  9 23:51:06 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Fri, 9 May 2014 22:51:06 +0100
Subject: [R] transition from depends to imports
References: <87bnv6ace8.fsf@med.uni-goettingen.de>
	<536D4715.2070308@gmail.com> <877g5uaayj.fsf@med.uni-goettingen.de>
	<536D4BCF.3070705@gmail.com>
Message-ID: <8738giaaet.fsf@med.uni-goettingen.de>

Duncan Murdoch <murdoch.duncan at gmail.com> writes:

> On 09/05/2014, 5:39 PM, Andreas Leha wrote:
>> Hi Duncan,
>>
>> Thank you for your follow-up and fast response!
>>
>> Duncan Murdoch <murdoch.duncan at gmail.com> writes:
>>
>>> On 09/05/2014, 5:08 PM, Andreas Leha wrote:
>>>> Hi all,
>>>>
>>>> I am having trouble to do a particular transition from depends to
>>>> imports in one of my packages.
>>>>
>>>> This packages uses 'wilcoxsign_test' from the 'coin' package.  And this
>>>> is the only function from the coin package that it uses (directly).
>>>>
>>>> (Everything works fine, as long as my package depends on the coin
>>>> package.)
>>>>
>>>> My guess was, that I would need to only import that function from the
>>>> coin package. (I.e. to move the coin package from Depends
>>>> to Imports in the DESCRIPTION and in the NAMESPACE do
>>>> 'importFrom(coin,wilcoxsign_test)'.)
>>>>
>>>> But then, calling wilcoxsign_test leads to this error:
>>>> ,----
>>>> | Error in formula2data(formula, data, subset, frame = parent.frame(), ...) :
>>>> |   could not find function "ModelEnvFormula"
>>>> `----
>>>>
>>>> Now, formula2data is an unexported function in the coin package and
>>>> ModelEnvFormula is a (exported) function in modeltools.
>>>>
>>>> So, I tried to import ModelEnvFormula from modeltools -- no avail.
>>>> And I tried to import formula2data from coin -- not possible
>>>> And I tried to import the whole coin package -- no avail.
>>>>
>>>> So, here is the question:  How do I import 'wilcoxsign_test' from the
>>>> coin package in a way, that it is usable?
>>>>
>>>
>>> Which version of the packages are you using?  The current version of
>>> coin imports ModelEnvFormula from modeltools, so it should be able to
>>> find that function.
>>>
>>> Duncan Murdoch
>>
>> As it seems, the version I use(d) depends on modeltools.
>>
>> ,----
>> | > packageDescription("coin")
>> | Package: coin
>> | Title: Conditional Inference Procedures in a Permutation Test Framework
>> | Date: 2013-04-26
>> | Version: 1.0-22
>> | Author: Torsten Hothorn, Kurt Hornik, Mark A. van de Wiel and Achim
>> |         Zeileis
>> | Maintainer: Torsten Hothorn <Torsten.Hothorn at R-project.org>
>> | Description: Conditional inference procedures for the general
>> |         independence problem including two-sample, K-sample
>> |         (non-parametric ANOVA), correlation, censored, ordered and
>> |         multivariate problems.
>> | Depends: R (>= 2.2.0), methods, survival, mvtnorm (>= 0.8-0),
>> |         modeltools (>= 0.2-9)
>> | Suggests: multcomp, xtable, e1071, vcd
>> | Enhances: Biobase
>> | LazyLoad: yes
>> | LazyData: yes
>> | License: GPL-2
>> | Packaged: 2013-04-26 12:33:15 UTC; hothorn
>> | NeedsCompilation: yes
>> | Repository: CRAN
>> | Date/Publication: 2013-04-26 15:27:04
>> | Built: R 3.0.1; x86_64-pc-linux-gnu; 2013-05-29 16:07:42 UTC; unix
>> |
>> | -- File: /usr/lib/R/site-library/coin/Meta/package.rds
>> `----
>>
>> I can confirm that updating coin (to version 1.1-0) did resolve my
>> problem.  Thank you very much!
>>
>>
>> This leads to the follow-up question:  How would I have correctly dealt
>> with this situation if my dependency ('coin') had not been updated?
>
> I think the only workaround would be for you to say your package
> Depends on modeltools.  It's really a coin issue, not yours, and the
> right people fixed it.
>

They did, indeed.  Thank you for the info and for your quick help on
this!

Regards,
Andreas


From ruipbarradas at sapo.pt  Fri May  9 23:55:27 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Fri, 09 May 2014 22:55:27 +0100
Subject: [R] adding rows
In-Reply-To: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>
References: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>
Message-ID: <536D4ECF.20200@sapo.pt>

Hello,

Try the following.

sapply(1:(30 - 2), function(i) sum(el[i:(i+2), ]))


but with number of rows instead of 30.

Hope this helps,

Rui Barradas

Em 09-05-2014 22:35, eliza botto escreveu:
> Dear useRs,
> I have a matrix, say "el" of 30 rows and 10 columns, as
> el<-matrix(sample(1:300),ncol=10)
> I want to sum up various sets of three rows of each column in the following manner
> sum(el[c(1,2,3),]) ##adding row number 1, 2 and 3 of each column
> sum(el[c(2,3,4),])##adding row number 2, 3 and 4 of each column
> sum(el[c(3,4,5),])##adding row number 3, 4 and 5 of each column
> sum(el[c(4,5,6),])
> sum(el[c(5,6,7),])
> sum(el[c(6,7,8),])
> sum(el[c(7,8,9),])
> sum(el[c(8,9,10),])
> sum(el[c(9,10,11),])
> ................
> ......
> so on
> ..............
> I know how to do it manually, but since my original matrix has 2000 rows, I therefore want to figure out a more conveinient way.
> Thankyou so very much in advance,
>
> Eliza 		 	   		
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From eliza_botto at hotmail.com  Sat May 10 00:15:51 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Fri, 9 May 2014 22:15:51 +0000
Subject: [R] adding rows
In-Reply-To: <536D4ECF.20200@sapo.pt>
References: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>,
	<536D4ECF.20200@sapo.pt>
Message-ID: <BLU170-W11114A51AD25D1842BCCBF189480@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/d19e8ecb/attachment.pl>

From dulcalma at bigpond.com  Sat May 10 03:19:21 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Sat, 10 May 2014 11:19:21 +1000
Subject: [R] Lattice Histogram with Normal Curve - Y axis as percentages
In-Reply-To: <1399438386477-4690093.post@n4.nabble.com>
References: <1399321403011-4690000.post@n4.nabble.com>
	<1399438386477-4690093.post@n4.nabble.com>
Message-ID: <001201cf6bed$e0877a70$a1966f50$@bigpond.com>

Just an afterthought if any one really needs to do it again.

The crux of the matter is the different limits in the 2 plot x and y scales.
It may be easier to accomplish this with a prepanel function to get the
limits eg panel.loess  

Duncan


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of jimdare
Sent: Wednesday, 7 May 2014 14:53
To: r-help at r-project.org
Subject: Re: [R] Lattice Histogram with Normal Curve - Y axis as percentages

Thanks for your help Duncan and Peter!  I ended up using a combination of
your suggestions.  I used Duncan's y.limits ration of two plots with
differing types (percent and density), to provide me with a scale variable. 
I then used this in Peter's dnorm_scaled function and called it using
panel.mathdensity.  See below for my amended code.

Regards,
Jim


x1<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab
= j,  
                  type = "density",layout=c(2,1))
  
x2<-histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab
= j,  
                type = "percent",layout=c(2,1))

scale <- x2$y.limits/x1$y.limits
  
dnorm_scaled <- function(...){ scale[1]*dnorm(...)}
  
histogram(~rdf[,j]|Year,nint=20, data=rdf,main = i,strip = my.strip,xlab =
j,  
            type = "percent",layout=c(2,1),
            panel=function(x, ...) {
                            
              panel.histogram(x, ...)
              
              panel.mathdensity(dmath=dnorm_scaled, col="black", 
                                # Add na.rm = TRUE to mean() and sd()
                                args=list(mean=mean(x, na.rm = TRUE),
                                          sd=sd(x, na.rm = TRUE)), ...)

            })



--
View this message in context:
http://r.789695.n4.nabble.com/Lattice-Histogram-with-Normal-Curve-Y-axis-as-
percentages-tp4690000p4690093.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From Lchowe at stanford.edu  Sat May 10 05:05:19 2014
From: Lchowe at stanford.edu (Lauren Howe)
Date: Fri, 9 May 2014 20:05:19 -0700
Subject: [R] Mediation using 'mediate' in R with an interaction
Message-ID: <CAFAYixXvkc2q02SO8grD4OJJ3SP7GB-Jpfh6s6dATZV5FEjyYA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140509/fe19db3a/attachment.pl>

From chiapello.m at gmail.com  Sat May 10 11:07:29 2014
From: chiapello.m at gmail.com (Marco Chiapello)
Date: Sat, 10 May 2014 11:07:29 +0200
Subject: [R] recall variable in a loop
Message-ID: <3DFEA724-528A-45A9-BE2D-DE72682305B2@gmail.com>

I'd like to create several tables in which my data are stored.
I did the follow:
    
    x<-mydata
    splitted<-split(x[,1],x[,2])
    
    #Create my function for the tables
    fxdata<-function(){
    y.row=c("0","1","2","3","4","5")
    yy=c(rep(0,6))
    w=data.frame(A3=yy,A2=yy,A1=yy,A0=yy)
    rownames(w)<-y.row}

    #Create the tables
    xx<-NULL
    for (i in 1:dim(x)[2]){
    assign(paste("xx",i,sep=""),fxdata())}

So, I created, for example, 3 tables: xx1, xx2 and xx3. Now I have to populate the tables and here I have the problem. I do not know how to recall xx1, xx2 or xx3 in a loop. The idea is insert the follow loop in the previous one, in order to populate all the tables.

     #Populate the table
     for (ii in 1:length(splitted[[1]]{
     #IF 0
     if (splitted[[1]][ii] == "0"){
     y[1,4]=y[1,4]+1}
     #IF A0
     if (splitted[[1]][ii] == "1A0"){
     y[2,4]=y[2,4]+1}
     if (splitted[[1]][ii] == "2A0"){
     y[3,4]=y[3,4]+1}
     if (splitted[[1]][ii] == "3A0"){
     y[4,4]=y[4,4]+1}
     ...}

The question is: what I have to write in place of "y" in the last loop in order to refer to xx1, xx2 or xx3?? I want to write something like:
   
    for (i in 1:3) {
    xxi<-1}

Thank you for any advice.

Marco

From ilapro at ceh.ac.uk  Sat May 10 10:41:06 2014
From: ilapro at ceh.ac.uk (Ilaria Prosdocimi)
Date: Sat, 10 May 2014 08:41:06 +0000
Subject: [R] Pearson III distribution
References: <BAY172-W34392C216B95E6B9C5DEEDAC480@phx.gbl>
Message-ID: <loom.20140510T103623-796@post.gmane.org>

NOELIA LEGAL <noelialegal <at> hotmail.com> writes:

> 
> Please I need your help.I'm intrested to know if there is any R-package
for  fit a Pearson III  extreme value
> distribution to data.Thanks a lot
> Noelia 		 	   		  
> 	[[alternative HTML version deleted]]
> 
> 


As it was pointed out some basic search before asking is good practice, but
yes, the lmomco package mentioned in the Distributions view will do. 
Or the original lmom package - but all of these only do lmoments estimation. 
nsRFA does both lmoments and Bayesian estimation. 

Good luck 

Ilaria


From b.rowlingson at lancaster.ac.uk  Sat May 10 12:46:24 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sat, 10 May 2014 11:46:24 +0100
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <4ec0737c52b74d41937dfd567879d677@EX-1-HT0.lancs.local>
References: <536AA44A.6080009@structuremonitoring.com>
	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>
	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>
	<536C27CE.2030902@structuremonitoring.com>
	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>
	<536C51EC.7010503@structuremonitoring.com>
	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>
	<536CA2CD.8010904@gmail.com>
	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>
	<536D4975.9080509@structuremonitoring.com>
	<4ec0737c52b74d41937dfd567879d677@EX-1-HT0.lancs.local>
Message-ID: <CANVKczPGPP0QZYVOVoY3aVMqTxKAxf7yFjKfJBCyW7t+N+qD2A@mail.gmail.com>

On Fri, May 9, 2014 at 10:42 PM, Hadley Wickham <h.wickham at gmail.com> wrote:
> Beware of the is.* functions:
>
> * is.object() does not test the usual definition of objects
> * is.vector() does not test the usual definition of vectors
> * is.numeric() does not work the same way as is.character() or is.integer()
> * is.Date() doesn't exist
> * is.nan() doesn't return TRUE for some NaNs

 Can we have an "is.is" function that tells us these things?

 > is.is(is.object)
   [1] FALSE
    Warning: is.object() does not test the usual definition of objects

 > is.is(is.is)
   [1] TRUE

 For further exploration, demo("is.things") creates a handy "is.ALL"
function that outputs the result of running a lot of is.X functions on
its argument.

Barry


From murdoch.duncan at gmail.com  Sat May 10 12:54:04 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 10 May 2014 06:54:04 -0400
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <CANVKczPGPP0QZYVOVoY3aVMqTxKAxf7yFjKfJBCyW7t+N+qD2A@mail.gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>	<536C51EC.7010503@structuremonitoring.com>	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>	<536CA2CD.8010904@gmail.com>	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>	<536D4975.9080509@structuremonitoring.com>	<4ec0737c52b74d41937dfd567879d677@EX-1-HT0.lancs.local>
	<CANVKczPGPP0QZYVOVoY3aVMqTxKAxf7yFjKfJBCyW7t+N+qD2A@mail.gmail.com>
Message-ID: <536E054C.20601@gmail.com>

On 10/05/2014, 6:46 AM, Barry Rowlingson wrote:
> On Fri, May 9, 2014 at 10:42 PM, Hadley Wickham <h.wickham at gmail.com> wrote:
>> Beware of the is.* functions:
>>
>> * is.object() does not test the usual definition of objects
>> * is.vector() does not test the usual definition of vectors
>> * is.numeric() does not work the same way as is.character() or is.integer()
>> * is.Date() doesn't exist
>> * is.nan() doesn't return TRUE for some NaNs
>
>   Can we have an "is.is" function that tells us these things?
>
>   > is.is(is.object)
>     [1] FALSE
>      Warning: is.object() does not test the usual definition of objects
>
>   > is.is(is.is)
>     [1] TRUE
>
>   For further exploration, demo("is.things") creates a handy "is.ALL"
> function that outputs the result of running a lot of is.X functions on
> its argument.

I tried to write it, but the trouble is, is.is(is.is) is FALSE.

Duncan


From smartpink111 at yahoo.com  Sat May 10 12:55:29 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 10 May 2014 03:55:29 -0700 (PDT)
Subject: [R] adding rows
In-Reply-To: <536D4ECF.20200@sapo.pt>
References: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>
	<536D4ECF.20200@sapo.pt>
Message-ID: <1399719329.15185.YahooMailNeo@web142601.mail.bf1.yahoo.com>



HI,
If you want to try other ways:

fun1 <- function(mat, rowN) {
??? dm <- dim(mat)[1]
??? rowN1 <- rowN - 1
??? indx <- rep(1:rowN, dm - rowN1) + rep(seq(0, dm - rowN), each = rowN)
??? indx1 <- (seq_along(indx)-1)%/%rowN+1
??? as.vector(tapply(indx, list(indx1), FUN = function(i) sum(mat[i, ])))
}

#or

fun2 <- function(mat, rowN) {
??? dm <- dim(mat)[1]
??? rowN1 <- rowN - 1
??? indx <- rep(1:rowN, dm - rowN1) + rep(seq(0, dm - rowN), each = rowN)
??? mat1 <- mat[indx, ]
??? indx1 <- rep((seq_along(indx) - 1)%/%rowN + 1, ncol(mat))
??? colSums(matrix(mat1[sort.int(indx1, method = "quick", index.return = TRUE)$ix], 
??????? ncol = dm - rowN1))
}

##But the above methods are slower in large datasets.? 
##Rui's function

funOld <- function(mat, rowN) {
??? dm <- dim(mat)[1]
??? rowN1 <- rowN - 1
??? sapply(1:(dm - rowN1), function(i) sum(mat[i:(i + rowN1), ]))
}

###Modified Rui's function using ?for() loop instead of ?sapply()

funNew <- function(mat, rowN) {
??? dm <- dim(mat)[1]
??? rowN1 <- rowN - 1
??? vec <- vector(mode = "numeric", length = dm - rowN1)
??? for (i in 1:(dm - rowN1)) {
??????? vec[i] <- sum(mat[i:(i + rowN1), ])
??? }
??? vec
}

##Speed comparison
set.seed(348)
el1 <- matrix(sample(1:300, 1e6*50,replace=TRUE),ncol=50)

system.time(r1 <- fun1(el1,3))
#? user? system elapsed 
# 15.888?? 0.120? 16.042 

system.time(r2 <- funOld(el1,3))
#?? user? system elapsed 
#? 5.061?? 0.004?? 5.076 

?system.time(r3 <- fun2(el1,3))
?#? user? system elapsed 
?#12.371?? 1.329? 13.735 

system.time(r4 <- funNew(el1,3))
#?? user? system elapsed 
#? 4.716?? 0.000?? 4.727 

library(compiler)
funOldc <- cmpfun(funOld)
funNewc <- cmpfun(funNew)
fun2c <- cmpfun(fun2)
?system.time(r5 <- funOldc(el1,3))
?#? user? system elapsed 
?# 7.458?? 0.000?? 7.476 

system.time(r6 <- funNewc(el1,3))
?#? user? system elapsed 
?# 3.529?? 0.000?? 3.536 
?sapply(paste0("r",2:6),function(x) all.equal(r1,get(x) ))
?# r2?? r3?? r4?? r5?? r6 
#TRUE TRUE TRUE TRUE TRUE 


A.K.







On Friday, May 9, 2014 5:56 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
Hello,

Try the following.

sapply(1:(30 - 2), function(i) sum(el[i:(i+2), ]))


but with number of rows instead of 30.

Hope this helps,

Rui Barradas

Em 09-05-2014 22:35, eliza botto escreveu:
> Dear useRs,
> I have a matrix, say "el" of 30 rows and 10 columns, as
> el<-matrix(sample(1:300),ncol=10)
> I want to sum up various sets of three rows of each column in the following manner
> sum(el[c(1,2,3),]) ##adding row number 1, 2 and 3 of each column
> sum(el[c(2,3,4),])##adding row number 2, 3 and 4 of each column
> sum(el[c(3,4,5),])##adding row number 3, 4 and 5 of each column
> sum(el[c(4,5,6),])
> sum(el[c(5,6,7),])
> sum(el[c(6,7,8),])
> sum(el[c(7,8,9),])
> sum(el[c(8,9,10),])
> sum(el[c(9,10,11),])
> ................
> ......
> so on
> ..............
> I know how to do it manually, but since my original matrix has 2000 rows, I therefore want to figure out a more conveinient way.
> Thankyou so very much in advance,
>
> Eliza ??? ???  ??? ?  ??? ??? 
> ??? [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

>

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From eliza_botto at hotmail.com  Sat May 10 13:32:10 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Sat, 10 May 2014 11:32:10 +0000
Subject: [R] adding rows
In-Reply-To: <1399719329.15185.YahooMailNeo@web142601.mail.bf1.yahoo.com>
References: <BLU170-W1F25774E76C91EF09B78789480@phx.gbl>
	<536D4ECF.20200@sapo.pt>,
	<1399719329.15185.YahooMailNeo@web142601.mail.bf1.yahoo.com>
Message-ID: <BLU170-W52D236FAD9487A373F241E894B0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/462bb88b/attachment.pl>

From pdalgd at gmail.com  Sat May 10 13:38:23 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sat, 10 May 2014 13:38:23 +0200
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536E054C.20601@gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>	<536C51EC.7010503@structuremonitoring.com>	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>	<536CA2CD.8010904@gmail.com>	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>	<536D4975.9080509@structuremonitoring.com>	<4ec0737c52b74d41937dfd567879d677@EX-1-HT0.lancs.local>
	<CANVKczPGPP0QZYVOVoY3aVMqTxKAxf7yFjKfJBCyW7t+N+qD2A@mail.gmail.com>
	<536E054C.20601@gmail.com>
Message-ID: <EC4F7790-4EFB-4259-91DE-FEA17C26F584@gmail.com>


On 10 May 2014, at 12:54 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 10/05/2014, 6:46 AM, Barry Rowlingson wrote:
>> On Fri, May 9, 2014 at 10:42 PM, Hadley Wickham <h.wickham at gmail.com> wrote:
>>> Beware of the is.* functions:
>>> 
>>> * is.object() does not test the usual definition of objects
>>> * is.vector() does not test the usual definition of vectors
>>> * is.numeric() does not work the same way as is.character() or is.integer()
>>> * is.Date() doesn't exist
>>> * is.nan() doesn't return TRUE for some NaNs
>> 
>>  Can we have an "is.is" function that tells us these things?
>> 
>>  > is.is(is.object)
>>    [1] FALSE
>>     Warning: is.object() does not test the usual definition of objects
>> 
>>  > is.is(is.is)
>>    [1] TRUE
>> 
>>  For further exploration, demo("is.things") creates a handy "is.ALL"
>> function that outputs the result of running a lot of is.X functions on
>> its argument.
> 
> I tried to write it, but the trouble is, is.is(is.is) is FALSE.
> 
> Duncan


Worse,

is.is(mybaby) | is.aint(mybaby)

comes out TRUE whatever the value of mybaby.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ragia11 at hotmail.com  Sat May 10 13:46:38 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Sat, 10 May 2014 13:46:38 +0200
Subject: [R] variable length lisin in data frame
In-Reply-To: <mailman.22.1399716011.6243.r-help@r-project.org>
References: <mailman.22.1399716011.6243.r-help@r-project.org>
Message-ID: <DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/abc428a6/attachment.pl>

From murdoch.duncan at gmail.com  Sat May 10 14:20:06 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 10 May 2014 08:20:06 -0400
Subject: [R] variable length lisin in data frame
In-Reply-To: <DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>
References: <mailman.22.1399716011.6243.r-help@r-project.org>
	<DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>
Message-ID: <536E1976.5020901@gmail.com>

On 10/05/2014, 7:46 AM, Ragia Ibrahim wrote:
> Dear Group,
> I have data like the following
>
> id   contacts_list   number of contacts
> ---------------------------------------------------
> 1   3 4                               2
> 2   1 3 4                            3
> 3    4 2 1                           3
> 4    1                                1
> ------------------------------------------------------
>
>
> can you kindly please sugest a data type in R to use for it?
> i thought about data frame that consists of a  list element. but  lists are not in  the same length, any  solutions?

You can use a dataframe, but the data.frame function gets confused by 
the contacts_list, so you need to set it up in two steps, e.g.

d <- data.frame(id=1:4,  no.contacts=c(2,3,3,1))
d$contacts_list <- list(3:4, c(1,3,4), c(4,2,1), 1 )

Other dataframe functions (e.g. printing, indexing, etc.) should work:

 > d
   id no.contacts contacts_list
1  1           2          3, 4
2  2           3       1, 3, 4
3  3           3       4, 2, 1
4  4           1             1

 > d[2,]
   id no.contacts contacts_list
2  2           3       1, 3, 4

A slightly confusing bit is that if you pick out a single element of 
column 3 you'll get a list containing it:

 > d[2,3]
[[1]]
[1] 1 3 4

so you should use the double bracket list-indexing style:

 > d[[2,3]]
[1] 1 3 4

Duncan Murdoch


From b.h.willis at bham.ac.uk  Sat May 10 15:21:28 2014
From: b.h.willis at bham.ac.uk (Brian Willis)
Date: Sat, 10 May 2014 06:21:28 -0700 (PDT)
Subject: [R] Extracting the names of coefficients of random effects
In-Reply-To: <loom.20140420T025045-488@post.gmane.org>
References: <1397922679520-4689109.post@n4.nabble.com>
	<loom.20140420T025045-488@post.gmane.org>
Message-ID: <1399728087985-4690298.post@n4.nabble.com>

Thanks, modifying the predict function to allow for new levels was what was
required

Brian



--
View this message in context: http://r.789695.n4.nabble.com/Extracting-the-names-of-coefficients-of-random-effects-tp4689109p4690298.html
Sent from the R help mailing list archive at Nabble.com.


From smartpink111 at yahoo.com  Sat May 10 15:51:11 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 10 May 2014 06:51:11 -0700 (PDT)
Subject: [R] variable length lisin in data frame
Message-ID: <1399729871.48414.YahooMailNeo@web142604.mail.bf1.yahoo.com>

Hi,
Try:
?dat <- data.frame(id=1:4, contacts_list=I(list(3:4,c(1,3,4), c(4,2,1), 1)), `number of contacts`=c(2,3,3,1),check.names=FALSE)

attr(dat$contacts_list,"class") <- NULL #if needed
?dat
A.K.



Dear Group,
I have data like the following

id?? contacts_list?? number of contacts
---------------------------------------------------
1?? 3 4?????????????????????????????? 2
2?? 1 3 4??????????????????????????? 3
3??? 4 2 1?????????????????????????? 3
4??? 1??????????????????????????????? 1
------------------------------------------------------


can you kindly please sugest a data type in R to use for it?
i thought about data frame that consists of a? list element. but? lists are not in? the same length, any? solutions?
thanks in advance
RAE 



From jdnewmil at dcn.davis.CA.us  Sat May 10 15:54:39 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sat, 10 May 2014 06:54:39 -0700
Subject: [R] recall variable in a loop
In-Reply-To: <3DFEA724-528A-45A9-BE2D-DE72682305B2@gmail.com>
References: <3DFEA724-528A-45A9-BE2D-DE72682305B2@gmail.com>
Message-ID: <3fc7ba51-9075-469d-b43f-ad0d1ad3bc96@email.android.com>

One answer to your question might be ?get. A way better answer is to never use assign to create xx1 etc in the first place but to store those results in a list that you can simply index later. If you were to create a reproducible example [1] by defining mydata you would be more likely to get an actual example solution in response to your question.

[1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 10, 2014 2:07:29 AM PDT, Marco Chiapello <chiapello.m at gmail.com> wrote:
>I'd like to create several tables in which my data are stored.
>I did the follow:
>    
>    x<-mydata
>    splitted<-split(x[,1],x[,2])
>    
>    #Create my function for the tables
>    fxdata<-function(){
>    y.row=c("0","1","2","3","4","5")
>    yy=c(rep(0,6))
>    w=data.frame(A3=yy,A2=yy,A1=yy,A0=yy)
>    rownames(w)<-y.row}
>
>    #Create the tables
>    xx<-NULL
>    for (i in 1:dim(x)[2]){
>    assign(paste("xx",i,sep=""),fxdata())}
>
>So, I created, for example, 3 tables: xx1, xx2 and xx3. Now I have to
>populate the tables and here I have the problem. I do not know how to
>recall xx1, xx2 or xx3 in a loop. The idea is insert the follow loop in
>the previous one, in order to populate all the tables.
>
>     #Populate the table
>     for (ii in 1:length(splitted[[1]]{
>     #IF 0
>     if (splitted[[1]][ii] == "0"){
>     y[1,4]=y[1,4]+1}
>     #IF A0
>     if (splitted[[1]][ii] == "1A0"){
>     y[2,4]=y[2,4]+1}
>     if (splitted[[1]][ii] == "2A0"){
>     y[3,4]=y[3,4]+1}
>     if (splitted[[1]][ii] == "3A0"){
>     y[4,4]=y[4,4]+1}
>     ...}
>
>The question is: what I have to write in place of "y" in the last loop
>in order to refer to xx1, xx2 or xx3?? I want to write something like:
>   
>    for (i in 1:3) {
>    xxi<-1}
>
>Thank you for any advice.
>
>Marco
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Sat May 10 17:50:23 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Sat, 10 May 2014 08:50:23 -0700
Subject: [R] variable length lisin in data frame
In-Reply-To: <536E1976.5020901@gmail.com>
References: <mailman.22.1399716011.6243.r-help@r-project.org>
	<DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>
	<536E1976.5020901@gmail.com>
Message-ID: <CAF8bMcZ1aO8S45i7sBcAsvZkRb8aDmTK92SisRStOBaqnq_=-A@mail.gmail.com>

> d <- data.frame(id=1:4,  no.contacts=c(2,3,3,1))
> d$contacts_list <- list(3:4, c(1,3,4), c(4,2,1), 1 )

If you store that information in a longer format, with each row being
an edge to the relationship graph, it can make further processing
easier:

  d2 <- with(d,
    data.frame(id=rep(id, vapply(contacts_list,length,0)),
contacts_list=unlist(contacts_list)))

At that point you may want to install and load the igraph package,
convert d2 to an 'igraph' object, and use use package:igraph's
functions on it:
  install.packages("igraph")
  library(igraph)
  g <- graph.data.frame(d2)
  neighbors(g, 2, mode="out")
  # [1] 1 3 4
  neighbors(g, 2, mode="in")
  # [1] 3
  plot(g)

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Sat, May 10, 2014 at 5:20 AM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> On 10/05/2014, 7:46 AM, Ragia Ibrahim wrote:
>>
>> Dear Group,
>> I have data like the following
>>
>> id   contacts_list   number of contacts
>> ---------------------------------------------------
>> 1   3 4                               2
>> 2   1 3 4                            3
>> 3    4 2 1                           3
>> 4    1                                1
>> ------------------------------------------------------
>>
>>
>> can you kindly please sugest a data type in R to use for it?
>> i thought about data frame that consists of a  list element. but  lists
>> are not in  the same length, any  solutions?
>
>
> You can use a dataframe, but the data.frame function gets confused by the
> contacts_list, so you need to set it up in two steps, e.g.
>
> d <- data.frame(id=1:4,  no.contacts=c(2,3,3,1))
> d$contacts_list <- list(3:4, c(1,3,4), c(4,2,1), 1 )
>
> Other dataframe functions (e.g. printing, indexing, etc.) should work:
>
>> d
>   id no.contacts contacts_list
> 1  1           2          3, 4
> 2  2           3       1, 3, 4
> 3  3           3       4, 2, 1
> 4  4           1             1
>
>> d[2,]
>   id no.contacts contacts_list
> 2  2           3       1, 3, 4
>
> A slightly confusing bit is that if you pick out a single element of column
> 3 you'll get a list containing it:
>
>> d[2,3]
> [[1]]
> [1] 1 3 4
>
> so you should use the double bracket list-indexing style:
>
>> d[[2,3]]
> [1] 1 3 4
>
> Duncan Murdoch
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Sat May 10 18:50:28 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 10 May 2014 09:50:28 -0700
Subject: [R] as.character(quote(x$y) ) = "$" "x" "y" not "x$y"?
In-Reply-To: <536E054C.20601@gmail.com>
References: <536AA44A.6080009@structuremonitoring.com>	<CAFEqCdwEo1YS2rE0i9AobtFazrbADeqQ5uPgtZWhAe2_SyDngg@mail.gmail.com>	<CACk-te2rJCHvf3BTJPZnaeq9GTtapRh1TpB3Vt9pTAnO7nEYNg@mail.gmail.com>	<536C27CE.2030902@structuremonitoring.com>	<CACk-te1P=ZXTqW9wcPnHoPVhoA1=u_OMZ+UCCuCDVLkJW4txHg@mail.gmail.com>	<536C51EC.7010503@structuremonitoring.com>	<CACk-te15unzSzMBFpBHZHOcbd4TjY_jSRAw310FXxuDkOaHN0Q@mail.gmail.com>	<536CA2CD.8010904@gmail.com>	<CACk-te01w5bUm_4e-_u1hhD=uQMCjtFMS5aqAQPE6jKEmc=L2w@mail.gmail.com>	<536D4975.9080509@structuremonitoring.com>	<4ec0737c52b74d41937dfd567879d677@EX-1-HT0.lancs.local>
	<CANVKczPGPP0QZYVOVoY3aVMqTxKAxf7yFjKfJBCyW7t+N+qD2A@mail.gmail.com>
	<536E054C.20601@gmail.com>
Message-ID: <BF48F448-6C15-401C-9953-401D3F7D303A@comcast.net>


On May 10, 2014, at 3:54 AM, Duncan Murdoch wrote:

> On 10/05/2014, 6:46 AM, Barry Rowlingson wrote:
>> On Fri, May 9, 2014 at 10:42 PM, Hadley Wickham <h.wickham at gmail.com> wrote:
>>> Beware of the is.* functions:
>>> 
>>> * is.object() does not test the usual definition of objects
>>> * is.vector() does not test the usual definition of vectors
>>> * is.numeric() does not work the same way as is.character() or is.integer()
>>> * is.Date() doesn't exist
>>> * is.nan() doesn't return TRUE for some NaNs
>> 
>>  Can we have an "is.is" function that tells us these things?
>> 
>>  > is.is(is.object)
>>    [1] FALSE
>>     Warning: is.object() does not test the usual definition of objects
>> 
>>  > is.is(is.is)
>>    [1] TRUE
>> 
>>  For further exploration, demo("is.things") creates a handy "is.ALL"
>> function that outputs the result of running a lot of is.X functions on
>> its argument.
> 
> I tried to write it, but the trouble is, is.is(is.is) is FALSE.

Perhaps the R engine will surmount the Singularity when `is.think`  returns `is.is`.

> 
> Duncan
> 



David Winsemius
Alameda, CA, USA


From marongiu.luigi at gmail.com  Sat May 10 20:04:41 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Sat, 10 May 2014 19:04:41 +0100
Subject: [R] create dataframe using structure ()
In-Reply-To: <5322071E.3000003@sapo.pt>
References: <CAMk+s2ShZ2RtteaGod8Z_iJzLeAnN+M0o+UUvZ5h5SpG+jTsZw@mail.gmail.com>
	<5322071E.3000003@sapo.pt>
Message-ID: <CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>

Hello,
I have tried to apply this approach -- which worked for this example
-- to a larger dataset. Although I have not received error messages,
the variable I have set (my.data) is empty.
Do you have any tip about this?
Many thanks
Luigi

# code::
my.data<-structure(list(
  column_1 = 1:120,
  column_2 = structure(c(
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8,
    1,2,3,4,5,6,7,8),
    .Label = c("a", "b", "c", "d", "e", "f", "g", "h"), class = "factor"),
  column_3 = structure(c(
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,
    0,0,0,0,0,0,0,0)),
  column_4 = structure(c(
    0,  0,  0,  0,    0,    0,    0,    0,
    1,    1,    1,    1,    1,    1,    1,    1,
    0,  0,    0,    0,    0,    0,    0,    0,
    0,  0,    0,    0,    0,    0,    0,    0,
    1,  1,    1,    1,    1,    1,    1,    1,
    1,  1,    1,    1,    1,    1,    1,    1,
    0,  0,    0,    0,    0,    0,    0,    0,
    0,  0,    0,    0,    0,    0,    0,    0,
    1,  1,    1,    1,    1,    1,    1,    1,
    1,  1,    1,    1,    1,    1,    1,    1,
    0,  0,    0,    0,    0,    0,    0,    0,
    1,  1,    1,    1,    1,    1,    1,    1,
    1,  1,    1,    1,    1,    1,    1,    1,
    0,  0,    0,    0,    0,    0,    0,    0,
    0,  0,    0,    0,    0,    0,    0,    0)),
  column_5 = structure(c(
    192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
    2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
    870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
    0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
    142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
    3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
    1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
    208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
    4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
    2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
    0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
    97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
    5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
    3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
    2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
  .Names = c("row", "stimulation", "positivity", "group", "copy"),
row.names = c(NA, -120L)),  class = "data.frame")

attach(my.data)

# results:
> my.data
[1] column_1  column_2  column_3  column_4  column_5  .Names    row.names
<0 rows> (or 0-length row.names)

On Thu, Mar 13, 2014 at 7:29 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> You're misplacing one close parenthesis. See the commented lines below.
>
>
>
> structure(list(
> column_1 = 1:32,
> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8),
> .Label =
> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
> "Rv3873", "PHA"),
> class = "factor"),
> column_3 =
> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
> "0.5m"), class = "factor"),
> column_4 =
> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
> 21.3709382, 4193.183281)),  # close 2 )) here
> .Names = c("row", "stimulation", "type", "copy"), row.names = c(NA,
> -32L), class = "data.frame")  # and only one ) after df
>
>
> Hope this helps,
>
> Rui Barradas
>
> Em 13-03-2014 18:58, Luigi Marongiu escreveu:
>>
>> dear all,
>> I have tried to create a dataframe using the structure() function, but it
>> did not really work. In column 1 i have the row number, in column 2 and 3
>> factors (8 and 4 levels respectively) and in column 4 the actual data.
>> any clue on what went wrong?
>> best regards
>> luigi
>>
>> my.data<-structure(list(
>> column_1 = 1:32,
>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8),
>> .Label =
>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>> "Rv3873", "PHA"),
>> class = "factor"),
>> column_3 =
>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>> "0.5m"), class = "factor"),
>> column_4 =
>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>> 21.3709382, 4193.183281),
>> .Names = c("row", "stimulation", "type", "copy"), class = "data.frame"))
>> attach(my.data)
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>


From smartpink111 at yahoo.com  Sat May 10 20:16:01 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 10 May 2014 11:16:01 -0700 (PDT)
Subject: [R] create dataframe using structure ()
In-Reply-To: <CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>
References: <CAMk+s2ShZ2RtteaGod8Z_iJzLeAnN+M0o+UUvZ5h5SpG+jTsZw@mail.gmail.com>	<5322071E.3000003@sapo.pt>
	<CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>
Message-ID: <1399745761.68328.YahooMailNeo@web142601.mail.bf1.yahoo.com>



Hi,

-----------------------------------------------
2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191))),#####
? .Names = c("row", "stimulation", "positivity", "group", "copy"),
row.names = c(NA, -120L),? class = "data.frame")

?str(my.data)
'data.frame':??? 120 obs. of? 5 variables:
?$ row??????? : int? 1 2 3 4 5 6 7 8 9 10 ...
?$ stimulation: Factor w/ 8 levels "a","b","c","d",..: 1 2 3 4 5 6 7 8 1 2 ...
?$ positivity : num? 0 0 0 0 0 0 0 0 0 0 ...
?$ group????? : num? 0 0 0 0 0 0 0 0 1 1 ...
?$ copy?????? : num? 192.1 183.6 53.5 83.6 69.6 ...


A.K.


On Saturday, May 10, 2014 2:05 PM, Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
Hello,
I have tried to apply this approach -- which worked for this example
-- to a larger dataset. Although I have not received error messages,
the variable I have set (my.data) is empty.
Do you have any tip about this?
Many thanks
Luigi

# code::
my.data<-structure(list(
? column_1 = 1:120,
? column_2 = structure(c(
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8,
? ? 1,2,3,4,5,6,7,8),
? ? .Label = c("a", "b", "c", "d", "e", "f", "g", "h"), class = "factor"),
? column_3 = structure(c(
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 0,0,0,0,0,0,0,0,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 1,1,1,1,1,1,1,1,
? ? 0,0,0,0,0,0,0,0)),
? column_4 = structure(c(
? ? 0,? 0,? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 1,? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,? ? 1,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,
? ? 0,? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0,? ? 0)),
? column_5 = structure(c(
? ? 192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
? ? 2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
? ? 870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
? ? 0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
? ? 142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
? ? 3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
? ? 1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
? ? 208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
? ? 4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
? ? 2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
? ? 0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
? ? 97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
? ? 5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
? ? 3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
? ? 2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
? .Names = c("row", "stimulation", "positivity", "group", "copy"),
row.names = c(NA, -120L)),? class = "data.frame")

attach(my.data)

# results:
> my.data
[1] column_1? column_2? column_3? column_4? column_5? .Names? ? row.names
<0 rows> (or 0-length row.names)

On Thu, Mar 13, 2014 at 7:29 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> You're misplacing one close parenthesis. See the commented lines below.
>
>
>
> structure(list(
> column_1 = 1:32,
> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8),
> .Label =
> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
> "Rv3873", "PHA"),
> class = "factor"),
> column_3 =
> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
> "0.5m"), class = "factor"),
> column_4 =
> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
> 21.3709382, 4193.183281)),? # close 2 )) here
> .Names = c("row", "stimulation", "type", "copy"), row.names = c(NA,
> -32L), class = "data.frame")? # and only one ) after df
>
>
> Hope this helps,
>
> Rui Barradas
>
> Em 13-03-2014 18:58, Luigi Marongiu escreveu:
>>
>> dear all,
>> I have tried to create a dataframe using the structure() function, but it
>> did not really work. In column 1 i have the row number, in column 2 and 3
>> factors (8 and 4 levels respectively) and in column 4 the actual data.
>> any clue on what went wrong?
>> best regards
>> luigi
>>
>> my.data<-structure(list(
>> column_1 = 1:32,
>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8),
>> .Label =
>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>> "Rv3873", "PHA"),
>> class = "factor"),
>> column_3 =
>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>> "0.5m"), class = "factor"),
>> column_4 =
>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>> 21.3709382, 4193.183281),
>> .Names = c("row", "stimulation", "type", "copy"), class = "data.frame"))
>> attach(my.data)
>>
>>? ? ? ?  [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Sat May 10 20:36:54 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Sat, 10 May 2014 11:36:54 -0700
Subject: [R] create dataframe using structure ()
In-Reply-To: <CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>
References: <CAMk+s2ShZ2RtteaGod8Z_iJzLeAnN+M0o+UUvZ5h5SpG+jTsZw@mail.gmail.com>
	<5322071E.3000003@sapo.pt>
	<CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>
Message-ID: <CAF8bMcbasM5oFrgqqiX6Rt3OYfiYUJkF7ypA9=BUw=r9sLT2uQ@mail.gmail.com>

You made the same error as the first time - a misplaced parenthesis.
Make the last 2 lines
   .Names = c("row", "stimulation", "positivity", "group", "copy")),
  row.names=c(NA, 120L), class="data.frame")
instead of
    .Names = c("row", "stimulation", "positivity", "group", "copy"),
  row.names = c(NA, -120L)),  class = "data.frame")

The proper code makes row.names an attribute of the list containing
the columns, the bad code makes it another column and makes a
data.frame with no row names.

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Sat, May 10, 2014 at 11:04 AM, Luigi Marongiu
<marongiu.luigi at gmail.com> wrote:
> Hello,
> I have tried to apply this approach -- which worked for this example
> -- to a larger dataset. Although I have not received error messages,
> the variable I have set (my.data) is empty.
> Do you have any tip about this?
> Many thanks
> Luigi
>
> # code::
> my.data<-structure(list(
>   column_1 = 1:120,
>   column_2 = structure(c(
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8,
>     1,2,3,4,5,6,7,8),
>     .Label = c("a", "b", "c", "d", "e", "f", "g", "h"), class = "factor"),
>   column_3 = structure(c(
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     0,0,0,0,0,0,0,0,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     1,1,1,1,1,1,1,1,
>     0,0,0,0,0,0,0,0)),
>   column_4 = structure(c(
>     0,  0,  0,  0,    0,    0,    0,    0,
>     1,    1,    1,    1,    1,    1,    1,    1,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     1,  1,    1,    1,    1,    1,    1,    1,
>     0,  0,    0,    0,    0,    0,    0,    0,
>     0,  0,    0,    0,    0,    0,    0,    0)),
>   column_5 = structure(c(
>     192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
>     2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
>     870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
>     0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
>     142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
>     3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
>     1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
>     208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
>     4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
>     2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
>     0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
>     97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
>     5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
>     3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
>     2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
>   .Names = c("row", "stimulation", "positivity", "group", "copy"),
> row.names = c(NA, -120L)),  class = "data.frame")
>
> attach(my.data)
>
> # results:
>> my.data
> [1] column_1  column_2  column_3  column_4  column_5  .Names    row.names
> <0 rows> (or 0-length row.names)
>
> On Thu, Mar 13, 2014 at 7:29 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>> Hello,
>>
>> You're misplacing one close parenthesis. See the commented lines below.
>>
>>
>>
>> structure(list(
>> column_1 = 1:32,
>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8),
>> .Label =
>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>> "Rv3873", "PHA"),
>> class = "factor"),
>> column_3 =
>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>> "0.5m"), class = "factor"),
>> column_4 =
>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>> 21.3709382, 4193.183281)),  # close 2 )) here
>> .Names = c("row", "stimulation", "type", "copy"), row.names = c(NA,
>> -32L), class = "data.frame")  # and only one ) after df
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> Em 13-03-2014 18:58, Luigi Marongiu escreveu:
>>>
>>> dear all,
>>> I have tried to create a dataframe using the structure() function, but it
>>> did not really work. In column 1 i have the row number, in column 2 and 3
>>> factors (8 and 4 levels respectively) and in column 4 the actual data.
>>> any clue on what went wrong?
>>> best regards
>>> luigi
>>>
>>> my.data<-structure(list(
>>> column_1 = 1:32,
>>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8),
>>> .Label =
>>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>>> "Rv3873", "PHA"),
>>> class = "factor"),
>>> column_3 =
>>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>>> "0.5m"), class = "factor"),
>>> column_4 =
>>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>>> 21.3709382, 4193.183281),
>>> .Names = c("row", "stimulation", "type", "copy"), class = "data.frame"))
>>> attach(my.data)
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Sat May 10 20:39:27 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Sat, 10 May 2014 11:39:27 -0700
Subject: [R] create dataframe using structure ()
In-Reply-To: <CAF8bMcbasM5oFrgqqiX6Rt3OYfiYUJkF7ypA9=BUw=r9sLT2uQ@mail.gmail.com>
References: <CAMk+s2ShZ2RtteaGod8Z_iJzLeAnN+M0o+UUvZ5h5SpG+jTsZw@mail.gmail.com>
	<5322071E.3000003@sapo.pt>
	<CAMk+s2RYuOHndEQJWxtvhHF5bDH9Lg_Oi+rK3GR=jgEewkcvaA@mail.gmail.com>
	<CAF8bMcbasM5oFrgqqiX6Rt3OYfiYUJkF7ypA9=BUw=r9sLT2uQ@mail.gmail.com>
Message-ID: <CAF8bMcYVs0Pd+LBZ8YOL3kXUnjpeVRb1YtoaRZh9evkOYyBZWw@mail.gmail.com>

And I misplaced the closing parenthesis in my reponse - it goes before
the .Names attribute as well.
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Sat, May 10, 2014 at 11:36 AM, William Dunlap <wdunlap at tibco.com> wrote:
> You made the same error as the first time - a misplaced parenthesis.
> Make the last 2 lines
>    .Names = c("row", "stimulation", "positivity", "group", "copy")),
>   row.names=c(NA, 120L), class="data.frame")
> instead of
>     .Names = c("row", "stimulation", "positivity", "group", "copy"),
>   row.names = c(NA, -120L)),  class = "data.frame")
>
> The proper code makes row.names an attribute of the list containing
> the columns, the bad code makes it another column and makes a
> data.frame with no row names.
>
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
>
>
> On Sat, May 10, 2014 at 11:04 AM, Luigi Marongiu
> <marongiu.luigi at gmail.com> wrote:
>> Hello,
>> I have tried to apply this approach -- which worked for this example
>> -- to a larger dataset. Although I have not received error messages,
>> the variable I have set (my.data) is empty.
>> Do you have any tip about this?
>> Many thanks
>> Luigi
>>
>> # code::
>> my.data<-structure(list(
>>   column_1 = 1:120,
>>   column_2 = structure(c(
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8,
>>     1,2,3,4,5,6,7,8),
>>     .Label = c("a", "b", "c", "d", "e", "f", "g", "h"), class = "factor"),
>>   column_3 = structure(c(
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     0,0,0,0,0,0,0,0,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     1,1,1,1,1,1,1,1,
>>     0,0,0,0,0,0,0,0)),
>>   column_4 = structure(c(
>>     0,  0,  0,  0,    0,    0,    0,    0,
>>     1,    1,    1,    1,    1,    1,    1,    1,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     1,  1,    1,    1,    1,    1,    1,    1,
>>     0,  0,    0,    0,    0,    0,    0,    0,
>>     0,  0,    0,    0,    0,    0,    0,    0)),
>>   column_5 = structure(c(
>>     192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
>>     2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
>>     870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
>>     0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
>>     142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
>>     3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
>>     1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
>>     208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
>>     4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
>>     2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
>>     0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
>>     97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
>>     5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
>>     3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
>>     2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
>>   .Names = c("row", "stimulation", "positivity", "group", "copy"),
>> row.names = c(NA, -120L)),  class = "data.frame")
>>
>> attach(my.data)
>>
>> # results:
>>> my.data
>> [1] column_1  column_2  column_3  column_4  column_5  .Names    row.names
>> <0 rows> (or 0-length row.names)
>>
>> On Thu, Mar 13, 2014 at 7:29 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>> Hello,
>>>
>>> You're misplacing one close parenthesis. See the commented lines below.
>>>
>>>
>>>
>>> structure(list(
>>> column_1 = 1:32,
>>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>> 1, 2, 3, 4, 5, 6, 7, 8),
>>> .Label =
>>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>>> "Rv3873", "PHA"),
>>> class = "factor"),
>>> column_3 =
>>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>>> "0.5m"), class = "factor"),
>>> column_4 =
>>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>>> 21.3709382, 4193.183281)),  # close 2 )) here
>>> .Names = c("row", "stimulation", "type", "copy"), row.names = c(NA,
>>> -32L), class = "data.frame")  # and only one ) after df
>>>
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
>>> Em 13-03-2014 18:58, Luigi Marongiu escreveu:
>>>>
>>>> dear all,
>>>> I have tried to create a dataframe using the structure() function, but it
>>>> did not really work. In column 1 i have the row number, in column 2 and 3
>>>> factors (8 and 4 levels respectively) and in column 4 the actual data.
>>>> any clue on what went wrong?
>>>> best regards
>>>> luigi
>>>>
>>>> my.data<-structure(list(
>>>> column_1 = 1:32,
>>>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>>> 1, 2, 3, 4, 5, 6, 7, 8,
>>>> 1, 2, 3, 4, 5, 6, 7, 8),
>>>> .Label =
>>>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>>>> "Rv3873", "PHA"),
>>>> class = "factor"),
>>>> column_3 =
>>>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>>>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>>>> "0.5m"), class = "factor"),
>>>> column_4 =
>>>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>>>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>>>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>>>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>>>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>>>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>>>> 21.3709382, 4193.183281),
>>>> .Names = c("row", "stimulation", "type", "copy"), class = "data.frame"))
>>>> attach(my.data)
>>>>
>>>>         [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From dw2116 at gmail.com  Sat May 10 21:43:43 2014
From: dw2116 at gmail.com (David Wang)
Date: Sat, 10 May 2014 15:43:43 -0400
Subject: [R] Does lmrob() account for autocorrelation and heteroskedasticity?
Message-ID: <CALLD_nbFurcr29HDjSqtt9DaiEz-dU9e2DSyQxv=KwTmWmn+Gw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/f1020159/attachment.pl>

From emammendes at gmail.com  Sat May 10 23:26:19 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sat, 10 May 2014 18:26:19 -0300
Subject: [R] How to change the font size on the title of a xyplot
Message-ID: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>

Hello

I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?

Many thanks

Ed


From dwinsemius at comcast.net  Sun May 11 00:05:08 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 10 May 2014 15:05:08 -0700
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
Message-ID: <DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>


On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:

> Hello
> 
> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?
> 

tp <- trellis.par.get()
names(tp)

... includes "par.main.text", so my first try was to use the xyplot() facilities to change cex for 'main'. Seems to work as expected:

xyplot( 1~1, main="test", par.settings=list(par.main.text=list(cex=5)))

--

David Winsemius
Alameda, CA, USA


From emammendes at gmail.com  Sun May 11 00:30:57 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sat, 10 May 2014 19:30:57 -0300
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
Message-ID: <20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>

Hello

Many thanks.

par.main.text is the main title (on top of all plots).  I need to change the each of the titles in the, say, subplots.

Ed


On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net> wrote:

> 
> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
> 
>> Hello
>> 
>> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?
>> 
> 
> tp <- trellis.par.get()
> names(tp)
> 
> ... includes "par.main.text", so my first try was to use the xyplot() facilities to change cex for 'main'. Seems to work as expected:
> 
> xyplot( 1~1, main="test", par.settings=list(par.main.text=list(cex=5)))
> 
> --
> 
> David Winsemius
> Alameda, CA, USA
> 


From dwinsemius at comcast.net  Sun May 11 01:04:51 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 10 May 2014 16:04:51 -0700
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
Message-ID: <22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>


On May 10, 2014, at 3:30 PM, Eduardo M. A. M. Mendes wrote:

> Hello
> 
> Many thanks.
> 
> par.main.text is the main title (on top of all plots).  I need to change the each of the titles in the, say, subplots.
> 

One gets the response the fills ones needs when those needs are clearly expressed and an example provide that illustrates the problem. There being no "subplot" in lattice, I'm guessing that you mean "panel" for that term,  and the "title" is in fact the strip annotation, but I am finished with throwing out guesswork solutions until clarity is established.

-- 
David.

> Ed
> 
> 
> On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
>> 
>>> Hello
>>> 
>>> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?
>>> 
>> 
>> tp <- trellis.par.get()
>> names(tp)
>> 
>> ... includes "par.main.text", so my first try was to use the xyplot() facilities to change cex for 'main'. Seems to work as expected:
>> 
>> xyplot( 1~1, main="test", par.settings=list(par.main.text=list(cex=5)))
>> 
>> --
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
> 

David Winsemius
Alameda, CA, USA


From emammendes at gmail.com  Sun May 11 02:47:12 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sat, 10 May 2014 21:47:12 -0300
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
Message-ID: <CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/bc861111/attachment.pl>

From dwinsemius at comcast.net  Sun May 11 02:52:07 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 10 May 2014 17:52:07 -0700
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>
Message-ID: <0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>


On May 10, 2014, at 5:47 PM, Eduardo M. A. M. Mendes wrote:

> Yes, you are right.  I meant panels,   xyplot generates 22 panels, which one with y-axis, x-axis and a title.  I need to change the font size of title in the panels.
> 

It appears to me that the answer is probably in :

?strip.default

Still no example, so no code.

-- 
David.

> Ed
> 
> 
> 
> 
> On May 10, 2014, at 8:04 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On May 10, 2014, at 3:30 PM, Eduardo M. A. M. Mendes wrote:
>> 
>>> Hello
>>> 
>>> Many thanks.
>>> 
>>> par.main.text is the main title (on top of all plots).  I need to change the each of the titles in the, say, subplots.
>>> 
>> 
>> One gets the response the fills ones needs when those needs are clearly expressed and an example provide that illustrates the problem. There being no "subplot" in lattice, I'm guessing that you mean "panel" for that term,  and the "title" is in fact the strip annotation, but I am finished with throwing out guesswork solutions until clarity is established.
>> 
>> -- 
>> David.
>> 
>>> Ed
>>> 
>>> 
>>> On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>>> 
>>>> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
>>>> 
>>>>> Hello
>>>>> 
>>>>> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?
>>>>> 
>>>> 
>>>> tp <- trellis.par.get()
>>>> names(tp)
>>>> 
>>>> ... includes "par.main.text", so my first try was to use the xyplot() facilities to change cex for 'main'. Seems to work as expected:
>>>> 
>>>> xyplot( 1~1, main="test", par.settings=list(par.main.text=list(cex=5)))
>>>> 
>>>> --
>>>> 
>>>> David Winsemius
>>>> Alameda, CA, USA
>>>> 
>>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
> 

David Winsemius
Alameda, CA, USA


From emammendes at gmail.com  Sun May 11 03:06:39 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sat, 10 May 2014 22:06:39 -0300
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>
	<0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>
Message-ID: <A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/79b0de54/attachment.pl>

From dwinsemius at comcast.net  Sun May 11 03:13:53 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 10 May 2014 18:13:53 -0700
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>
	<0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>
	<A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>
Message-ID: <FEE3EA2C-D3CF-4DA2-87FC-CBCCB22C733A@comcast.net>


On May 10, 2014, at 6:06 PM, Eduardo M. A. M. Mendes wrote:

> library(zoo);
> library(lattice);
> 
> a=matrix(runif(100),25,4);
> b=zoo(a,seq(1,25));
> names(b)=c("How to change the font size?","2","3","4");
> xyplot(b)
> 

xyplot(b, strip=strip.custom( par.strip.text=list(cex=.5)))

-- 
David.
> Ed
> 
> On May 10, 2014, at 9:52 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On May 10, 2014, at 5:47 PM, Eduardo M. A. M. Mendes wrote:
>> 
>>> Yes, you are right.  I meant panels,   xyplot generates 22 panels, which one with y-axis, x-axis and a title.  I need to change the font size of title in the panels.
>>> 
>> 
>> It appears to me that the answer is probably in :
>> 
>> ?strip.default
>> 
>> Still no example, so no code.
>> 
>> -- 
>> David.
>> 
>>> Ed
>>> 
>>> 
>>> 
>>> 
>>> On May 10, 2014, at 8:04 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>>> 
>>>> On May 10, 2014, at 3:30 PM, Eduardo M. A. M. Mendes wrote:
>>>> 
>>>>> Hello
>>>>> 
>>>>> Many thanks.
>>>>> 
>>>>> par.main.text is the main title (on top of all plots).  I need to change the each of the titles in the, say, subplots.
>>>>> 
>>>> 
>>>> One gets the response the fills ones needs when those needs are clearly expressed and an example provide that illustrates the problem. There being no "subplot" in lattice, I'm guessing that you mean "panel" for that term,  and the "title" is in fact the strip annotation, but I am finished with throwing out guesswork solutions until clarity is established.
>>>> 
>>>> -- 
>>>> David.
>>>> 
>>>>> Ed
>>>>> 
>>>>> 
>>>>> On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>>> 
>>>>>> 
>>>>>> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
>>>>>> 
>>>>>>> Hello
>>>>>>> 
>>>>>>> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables within the xts variable (index by a datetime vector sampled every 1 minute).  The results are very nice and help me to understand what is going on with the data. However since the names (labels of each variable) within the xts variable are large, the title of each plot is cropped.   How can I select the font size of the titles without changing all other fonts?
>>>>>>> 
>>>>>> 
>>>>>> tp <- trellis.par.get()
>>>>>> names(tp)
>>>>>> 
>>>>>> ... includes "par.main.text", so my first try was to use the xyplot() facilities to change cex for 'main'. Seems to work as expected:
>>>>>> 
>>>>>> xyplot( 1~1, main="test", par.settings=list(par.main.text=list(cex=5)))
>>>>>> 
>>>>>> --
>>>>>> 
>>>>>> David Winsemius
>>>>>> Alameda, CA, USA
>>>>>> 
>>>>> 
>>>> 
>>>> David Winsemius
>>>> Alameda, CA, USA
>>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
> 

David Winsemius
Alameda, CA, USA


From emammendes at gmail.com  Sun May 11 03:15:49 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sat, 10 May 2014 22:15:49 -0300
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <FEE3EA2C-D3CF-4DA2-87FC-CBCCB22C733A@comcast.net>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>
	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>
	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>
	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>
	<0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>
	<A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>
	<FEE3EA2C-D3CF-4DA2-87FC-CBCCB22C733A@comcast.net>
Message-ID: <B3013A92-184A-4276-A760-07869F80DE18@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140510/d37eaa80/attachment.pl>

From dulcalma at bigpond.com  Sun May 11 06:11:50 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Sun, 11 May 2014 14:11:50 +1000
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <B3013A92-184A-4276-A760-07869F80DE18@gmail.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>	<0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>	<A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>	<FEE3EA2C-D3CF-4DA2-87FC-CBCCB22C733A@comcast.net>
	<B3013A92-184A-4276-A760-07869F80DE18@gmail.com>
Message-ID: <000001cf6ccf$22cd1750$686745f0$@bigpond.com>

Hi

Just an addition for the future :
If you wanted to have different main title plots to the same device then
par.settings can be used for each plot

xyplot(1 ~1, 
             par.settings = list(par.main.text = 0.85,
                                               par.sub.text = 0.85)
                                            strip.background = list(col =
"transparent")), # blank strip background
             ...)

see
names(trellis.par.get())

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of Eduardo M. A. M. Mendes
Sent: Sunday, 11 May 2014 11:16
To: David Winsemius
Cc: r-help at r-project.org
Subject: Re: [R] How to change the font size on the title of a xyplot

cex=0.85 did the job for me.

many thanks

Ed

On May 10, 2014, at 10:13 PM, David Winsemius <dwinsemius at comcast.net>
wrote:

> 
> On May 10, 2014, at 6:06 PM, Eduardo M. A. M. Mendes wrote:
> 
>> library(zoo);
>> library(lattice);
>> 
>> a=matrix(runif(100),25,4);
>> b=zoo(a,seq(1,25));
>> names(b)=c("How to change the font size?","2","3","4");
>> xyplot(b)
>> 
> 
> xyplot(b, strip=strip.custom( par.strip.text=list(cex=.5)))
> 
> -- 
> David.
>> Ed
>> 
>> On May 10, 2014, at 9:52 PM, David Winsemius <dwinsemius at comcast.net>
wrote:
>> 
>>> 
>>> On May 10, 2014, at 5:47 PM, Eduardo M. A. M. Mendes wrote:
>>> 
>>>> Yes, you are right.  I meant panels,   xyplot generates 22 panels,
which one with y-axis, x-axis and a title.  I need to change the font size
of title in the panels.
>>>> 
>>> 
>>> It appears to me that the answer is probably in :
>>> 
>>> ?strip.default
>>> 
>>> Still no example, so no code.
>>> 
>>> -- 
>>> David.
>>> 
>>>> Ed
>>>> 
>>>> 
>>>> 
>>>> 
>>>> On May 10, 2014, at 8:04 PM, David Winsemius <dwinsemius at comcast.net>
wrote:
>>>> 
>>>>> 
>>>>> On May 10, 2014, at 3:30 PM, Eduardo M. A. M. Mendes wrote:
>>>>> 
>>>>>> Hello
>>>>>> 
>>>>>> Many thanks.
>>>>>> 
>>>>>> par.main.text is the main title (on top of all plots).  I need to
change the each of the titles in the, say, subplots.
>>>>>> 
>>>>> 
>>>>> One gets the response the fills ones needs when those needs are
clearly expressed and an example provide that illustrates the problem. There
being no "subplot" in lattice, I'm guessing that you mean "panel" for that
term,  and the "title" is in fact the strip annotation, but I am finished
with throwing out guesswork solutions until clarity is established.
>>>>> 
>>>>> -- 
>>>>> David.
>>>>> 
>>>>>> Ed
>>>>>> 
>>>>>> 
>>>>>> On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net>
wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
>>>>>>> 
>>>>>>>> Hello
>>>>>>>> 
>>>>>>>> I am using xyplot (lattice) to plot a xts variable.  There are 20
variables within the xts variable (index by a datetime vector sampled every
1 minute).  The results are very nice and help me to understand what is
going on with the data. However since the names (labels of each variable)
within the xts variable are large, the title of each plot is cropped.   How
can I select the font size of the titles without changing all other fonts?
>>>>>>>> 
>>>>>>> 
>>>>>>> tp <- trellis.par.get()
>>>>>>> names(tp)
>>>>>>> 
>>>>>>> ... includes "par.main.text", so my first try was to use the
xyplot() facilities to change cex for 'main'. Seems to work as expected:
>>>>>>> 
>>>>>>> xyplot( 1~1, main="test",
par.settings=list(par.main.text=list(cex=5)))
>>>>>>> 
>>>>>>> --
>>>>>>> 
>>>>>>> David Winsemius
>>>>>>> Alameda, CA, USA
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> David Winsemius
>>>>> Alameda, CA, USA
>>>> 
>>> 
>>> David Winsemius
>>> Alameda, CA, USA
>> 
> 
> David Winsemius
> Alameda, CA, USA


	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From greg at nosnhoj.org  Sun May 11 00:05:12 2014
From: greg at nosnhoj.org (Greg Johnson`)
Date: Sat, 10 May 2014 22:05:12 +0000
Subject: [R] How to change the font size on the title of a xyplot
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>
Message-ID: <loom.20140511T000359-988@post.gmane.org>

Eduardo M. A. M. Mendes <emammendes <at> gmail.com> writes:

> 
> Hello
> 
> I am using xyplot (lattice) to plot a xts variable.  There are 20 variables 
within the xts variable (index by a
> datetime vector sampled every 1 minute).  The results are very nice and help 
me to understand what is going
> on with the data. However since the names (labels of each variable) within 
the xts variable are large, the
> title of each plot is cropped.   How can I select the font size of the 
titles without changing all other fonts?
> 
> Many thanks
> 
> Ed
> 
> 

Ed,

you can try:

xyplot( y~x, main=list("title",cex=somevalue ) )

Greg


From marongiu.luigi at gmail.com  Sun May 11 13:58:36 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Sun, 11 May 2014 12:58:36 +0100
Subject: [R] create dataframe using structure ()
In-Reply-To: <5322071E.3000003@sapo.pt>
References: <CAMk+s2ShZ2RtteaGod8Z_iJzLeAnN+M0o+UUvZ5h5SpG+jTsZw@mail.gmail.com>
	<5322071E.3000003@sapo.pt>
Message-ID: <CAMk+s2QhdZ3ax_kUnHdUv9+9ThBPY-2Che0Uxge2CyhsN2w5bg@mail.gmail.com>

Dear all,
there was indeed a misplaced parenthesis, so the last line runs as:

  .Names = c("row", "stimulation", "positivity", "group", "copy")),
row.names = c(NA, -120L),  class = "data.frame")

with two )) at the end of .Names.

problem solved,
thank you
Luigi


On Thu, Mar 13, 2014 at 7:29 PM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> You're misplacing one close parenthesis. See the commented lines below.
>
>
>
> structure(list(
> column_1 = 1:32,
> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8,
> 1, 2, 3, 4, 5, 6, 7, 8),
> .Label =
> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
> "Rv3873", "PHA"),
> class = "factor"),
> column_3 =
> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
> "0.5m"), class = "factor"),
> column_4 =
> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
> 21.3709382, 4193.183281)),  # close 2 )) here
> .Names = c("row", "stimulation", "type", "copy"), row.names = c(NA,
> -32L), class = "data.frame")  # and only one ) after df
>
>
> Hope this helps,
>
> Rui Barradas
>
> Em 13-03-2014 18:58, Luigi Marongiu escreveu:
>>
>> dear all,
>> I have tried to create a dataframe using the structure() function, but it
>> did not really work. In column 1 i have the row number, in column 2 and 3
>> factors (8 and 4 levels respectively) and in column 4 the actual data.
>> any clue on what went wrong?
>> best regards
>> luigi
>>
>> my.data<-structure(list(
>> column_1 = 1:32,
>> column_2 = structure(c(1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8,
>> 1, 2, 3, 4, 5, 6, 7, 8),
>> .Label =
>> c("Unstimulated", "ESAT6", "CFP10", "Rv3615c", "Rv2654", "Rv3879",
>> "Rv3873", "PHA"),
>> class = "factor"),
>> column_3 =
>> structure(c(1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3,
>> 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4), .Label = c("bd", "2m", "1m",
>> "0.5m"), class = "factor"),
>> column_4 =
>> c(71.62097178, 2.892223468, 144.8618621, 40.90079262, 37.0516856,
>> 32.78206822, 72.44424152, 1512.516293, 3164.748333, 1092.634557,
>> 28733.20269, 1207.87783, 729.6090973, 151.8706088, 241.2466141,
>> 9600.963594, 682.865522, 5869.375226, 554.8924896, 2982.759858,
>> 7690.028092, 40.37298719, 942.3549279, 3403.679967, 103.9862389,
>> 35.28562613, 321.5985377, 0.274424607, 3352.874906, 93.76421187,
>> 21.3709382, 4193.183281),
>> .Names = c("row", "stimulation", "type", "copy"), class = "data.frame"))
>> attach(my.data)
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>


From laomeng_3 at 163.com  Sun May 11 10:37:43 2014
From: laomeng_3 at 163.com (meng)
Date: Sun, 11 May 2014 16:37:43 +0800 (CST)
Subject: [R] How to change the order of the plot?
Message-ID: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140511/6983e50a/attachment.pl>

From ligges at statistik.tu-dortmund.de  Sun May 11 15:42:05 2014
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sun, 11 May 2014 15:42:05 +0200
Subject: [R] How to change the order of the plot?
In-Reply-To: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>
References: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>
Message-ID: <536F7E2D.3060208@statistik.tu-dortmund.de>



On 11.05.2014 10:37, meng wrote:
> boxplot(count ~ spray, data = InsectSprays)
>
>
> The order of the plot is: A,B,C,D,E,F.
> If I want the order of the plot is: F,B,E,A,D,C, how to do then?


For example, you can change the order of the levels, so that you get a 
more natural ordering for your task.

See ?factor

Best,
Uwe Ligges


>
> Many thanks!
>
>
> My best
>
>
>
>
>
>
>
>
>
>
> --
> QQ: 1733768559
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From gunter.berton at gene.com  Sun May 11 17:04:12 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Sun, 11 May 2014 08:04:12 -0700
Subject: [R] How to change the order of the plot?
In-Reply-To: <536F7E2D.3060208@statistik.tu-dortmund.de>
References: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>
	<536F7E2D.3060208@statistik.tu-dortmund.de>
Message-ID: <CACk-te1mbPHyV3-Vxn95BNYkiH5FBzfv=EonjoYPoC9MbvUSBg@mail.gmail.com>

....  see also ?reorder.factor

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Sun, May 11, 2014 at 6:42 AM, Uwe Ligges
<ligges at statistik.tu-dortmund.de> wrote:
>
>
> On 11.05.2014 10:37, meng wrote:
>>
>> boxplot(count ~ spray, data = InsectSprays)
>>
>>
>> The order of the plot is: A,B,C,D,E,F.
>> If I want the order of the plot is: F,B,E,A,D,C, how to do then?
>
>
>
> For example, you can change the order of the levels, so that you get a more
> natural ordering for your task.
>
> See ?factor
>
> Best,
> Uwe Ligges
>
>
>>
>> Many thanks!
>>
>>
>> My best
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> --
>> QQ: 1733768559
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Sun May 11 17:08:06 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Sun, 11 May 2014 08:08:06 -0700
Subject: [R] How to change the order of the plot?
In-Reply-To: <CACk-te1mbPHyV3-Vxn95BNYkiH5FBzfv=EonjoYPoC9MbvUSBg@mail.gmail.com>
References: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>
	<536F7E2D.3060208@statistik.tu-dortmund.de>
	<CACk-te1mbPHyV3-Vxn95BNYkiH5FBzfv=EonjoYPoC9MbvUSBg@mail.gmail.com>
Message-ID: <CACk-te2-85P1xj31DQFkYF7q3RRVdS9eD-QZrRwiu6zzu0ETvA@mail.gmail.com>

... sorry, should be simply ?reorder

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Sun, May 11, 2014 at 8:04 AM, Bert Gunter <bgunter at gene.com> wrote:
> ....  see also ?reorder.factor
>
> -- Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Sun, May 11, 2014 at 6:42 AM, Uwe Ligges
> <ligges at statistik.tu-dortmund.de> wrote:
>>
>>
>> On 11.05.2014 10:37, meng wrote:
>>>
>>> boxplot(count ~ spray, data = InsectSprays)
>>>
>>>
>>> The order of the plot is: A,B,C,D,E,F.
>>> If I want the order of the plot is: F,B,E,A,D,C, how to do then?
>>
>>
>>
>> For example, you can change the order of the levels, so that you get a more
>> natural ordering for your task.
>>
>> See ?factor
>>
>> Best,
>> Uwe Ligges
>>
>>
>>>
>>> Many thanks!
>>>
>>>
>>> My best
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>> QQ: 1733768559
>>>
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From emammendes at gmail.com  Mon May 12 02:53:29 2014
From: emammendes at gmail.com (Eduardo M. A. M. Mendes)
Date: Sun, 11 May 2014 21:53:29 -0300
Subject: [R] How to change the font size on the title of a xyplot
In-Reply-To: <000001cf6ccf$22cd1750$686745f0$@bigpond.com>
References: <521A54C9-D686-4D66-94C7-2CF22A382BB3@gmail.com>	<DB1362CA-257F-4B7A-92C1-2A9674AF491B@comcast.net>	<20AFAFAD-3D0B-4D9C-9A8B-934FDA2EFFD5@gmail.com>	<22B40361-61C0-464F-A832-EAC14AF59579@comcast.net>	<CE9000C0-AA85-43C8-B61E-9D578147D9F5@gmail.com>	<0A737A3C-1C72-4D97-8C4B-0F2BD0CA86FD@comcast.net>	<A2D1B0EF-E293-464F-8A21-1A5A6D91F928@gmail.com>	<FEE3EA2C-D3CF-4DA2-87FC-CBCCB22C733A@comcast.net>
	<B3013A92-184A-4276-A760-07869F80DE18@gmail.com>
	<000001cf6ccf$22cd1750$686745f0$@bigpond.com>
Message-ID: <0F868634-CAE7-43E5-A5C8-1E3BF83F3526@gmail.com>

Many thanks.

Ed

On May 11, 2014, at 1:11 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:

> Hi
> 
> Just an addition for the future :
> If you wanted to have different main title plots to the same device then
> par.settings can be used for each plot
> 
> xyplot(1 ~1, 
>             par.settings = list(par.main.text = 0.85,
>                                               par.sub.text = 0.85)
>                                            strip.background = list(col =
> "transparent")), # blank strip background
>             ...)
> 
> see
> names(trellis.par.get())
> 
> Duncan
> 
> Duncan Mackay
> Department of Agronomy and Soil Science
> University of New England
> Armidale NSW 2351
> Email: home: mackay at northnet.com.au
> 
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
> Behalf Of Eduardo M. A. M. Mendes
> Sent: Sunday, 11 May 2014 11:16
> To: David Winsemius
> Cc: r-help at r-project.org
> Subject: Re: [R] How to change the font size on the title of a xyplot
> 
> cex=0.85 did the job for me.
> 
> many thanks
> 
> Ed
> 
> On May 10, 2014, at 10:13 PM, David Winsemius <dwinsemius at comcast.net>
> wrote:
> 
>> 
>> On May 10, 2014, at 6:06 PM, Eduardo M. A. M. Mendes wrote:
>> 
>>> library(zoo);
>>> library(lattice);
>>> 
>>> a=matrix(runif(100),25,4);
>>> b=zoo(a,seq(1,25));
>>> names(b)=c("How to change the font size?","2","3","4");
>>> xyplot(b)
>>> 
>> 
>> xyplot(b, strip=strip.custom( par.strip.text=list(cex=.5)))
>> 
>> -- 
>> David.
>>> Ed
>>> 
>>> On May 10, 2014, at 9:52 PM, David Winsemius <dwinsemius at comcast.net>
> wrote:
>>> 
>>>> 
>>>> On May 10, 2014, at 5:47 PM, Eduardo M. A. M. Mendes wrote:
>>>> 
>>>>> Yes, you are right.  I meant panels,   xyplot generates 22 panels,
> which one with y-axis, x-axis and a title.  I need to change the font size
> of title in the panels.
>>>>> 
>>>> 
>>>> It appears to me that the answer is probably in :
>>>> 
>>>> ?strip.default
>>>> 
>>>> Still no example, so no code.
>>>> 
>>>> -- 
>>>> David.
>>>> 
>>>>> Ed
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> On May 10, 2014, at 8:04 PM, David Winsemius <dwinsemius at comcast.net>
> wrote:
>>>>> 
>>>>>> 
>>>>>> On May 10, 2014, at 3:30 PM, Eduardo M. A. M. Mendes wrote:
>>>>>> 
>>>>>>> Hello
>>>>>>> 
>>>>>>> Many thanks.
>>>>>>> 
>>>>>>> par.main.text is the main title (on top of all plots).  I need to
> change the each of the titles in the, say, subplots.
>>>>>>> 
>>>>>> 
>>>>>> One gets the response the fills ones needs when those needs are
> clearly expressed and an example provide that illustrates the problem. There
> being no "subplot" in lattice, I'm guessing that you mean "panel" for that
> term,  and the "title" is in fact the strip annotation, but I am finished
> with throwing out guesswork solutions until clarity is established.
>>>>>> 
>>>>>> -- 
>>>>>> David.
>>>>>> 
>>>>>>> Ed
>>>>>>> 
>>>>>>> 
>>>>>>> On May 10, 2014, at 7:05 PM, David Winsemius <dwinsemius at comcast.net>
> wrote:
>>>>>>> 
>>>>>>>> 
>>>>>>>> On May 10, 2014, at 2:26 PM, Eduardo M. A. M. Mendes wrote:
>>>>>>>> 
>>>>>>>>> Hello
>>>>>>>>> 
>>>>>>>>> I am using xyplot (lattice) to plot a xts variable.  There are 20
> variables within the xts variable (index by a datetime vector sampled every
> 1 minute).  The results are very nice and help me to understand what is
> going on with the data. However since the names (labels of each variable)
> within the xts variable are large, the title of each plot is cropped.   How
> can I select the font size of the titles without changing all other fonts?
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> tp <- trellis.par.get()
>>>>>>>> names(tp)
>>>>>>>> 
>>>>>>>> ... includes "par.main.text", so my first try was to use the
> xyplot() facilities to change cex for 'main'. Seems to work as expected:
>>>>>>>> 
>>>>>>>> xyplot( 1~1, main="test",
> par.settings=list(par.main.text=list(cex=5)))
>>>>>>>> 
>>>>>>>> --
>>>>>>>> 
>>>>>>>> David Winsemius
>>>>>>>> Alameda, CA, USA
>>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> David Winsemius
>>>>>> Alameda, CA, USA
>>>>> 
>>>> 
>>>> David Winsemius
>>>> Alameda, CA, USA
>>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


From davies.trevor at gmail.com  Mon May 12 03:15:52 2014
From: davies.trevor at gmail.com (Trevor Davies)
Date: Sun, 11 May 2014 22:15:52 -0300
Subject: [R] x & y distances based on great circle
Message-ID: <CAJhyqVgtzrGJagGA12Yx+92hynZRr-5=skUxy8GfCsN0wye1HQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140511/874d7f00/attachment.pl>

From pcantalupo at gmail.com  Mon May 12 03:43:25 2014
From: pcantalupo at gmail.com (Paul Cantalupo)
Date: Sun, 11 May 2014 21:43:25 -0400
Subject: [R] invalid digital signature for R-3.1.0-mavericks
Message-ID: <CAJqbkv7Frs5aRSNY-96S2DQ=U_RdikP4o+tPGh-qqkAAA8ayJw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140511/4bb07d39/attachment.pl>

From spencer.graves at structuremonitoring.com  Mon May 12 03:46:29 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Sun, 11 May 2014 18:46:29 -0700
Subject: [R] clipart - box with rounded corners?
Message-ID: <537027F5.4000008@structuremonitoring.com>

       Is there a function for creating a box with rounded corners?


       I can write one, but I thought I'd ask first.


       Thanks,
       Spencer Graves


From jim at bitwrit.com.au  Mon May 12 05:29:01 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Mon, 12 May 2014 13:29:01 +1000
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <537027F5.4000008@structuremonitoring.com>
References: <537027F5.4000008@structuremonitoring.com>
Message-ID: <3687374.Pv2uIjoEHT@localhost.localdomain>

On Sun, 11 May 2014 06:46:29 PM Spencer Graves wrote:
>        Is there a function for creating a box with rounded corners?
> 
> 
>        I can write one, but I thought I'd ask first.
> 
> 
Hi Spencer,
The tab.title function in plotrix has most of the code for this.

Jim


From laomeng_3 at 163.com  Mon May 12 00:48:13 2014
From: laomeng_3 at 163.com (meng)
Date: Mon, 12 May 2014 06:48:13 +0800 (CST)
Subject: [R] How to change the order of the plot?
In-Reply-To: <CACk-te2-85P1xj31DQFkYF7q3RRVdS9eD-QZrRwiu6zzu0ETvA@mail.gmail.com>
References: <196b2c4.3df2.145ea6e37f6.Coremail.laomeng_3@163.com>
	<536F7E2D.3060208@statistik.tu-dortmund.de>
	<CACk-te1mbPHyV3-Vxn95BNYkiH5FBzfv=EonjoYPoC9MbvUSBg@mail.gmail.com>
	<CACk-te2-85P1xj31DQFkYF7q3RRVdS9eD-QZrRwiu6zzu0ETvA@mail.gmail.com>
Message-ID: <5a8be2b8.78ad.145ed78e027.Coremail.laomeng_3@163.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/51c93023/attachment.pl>

From paul at stat.auckland.ac.nz  Mon May 12 05:53:40 2014
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 12 May 2014 15:53:40 +1200
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <537027F5.4000008@structuremonitoring.com>
References: <537027F5.4000008@structuremonitoring.com>
Message-ID: <537045C4.9060201@stat.auckland.ac.nz>

Hi

There is a grid.roundrect(), in case you are working in that alternative 
universe.

Paul

On 05/12/14 13:46, Spencer Graves wrote:
>        Is there a function for creating a box with rounded corners?
>
>
>        I can write one, but I thought I'd ask first.
>
>
>        Thanks,
>        Spencer Graves
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/


From spencer.graves at structuremonitoring.com  Mon May 12 06:49:51 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Sun, 11 May 2014 21:49:51 -0700
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <3687374.Pv2uIjoEHT@localhost.localdomain>
References: <537027F5.4000008@structuremonitoring.com>
	<3687374.Pv2uIjoEHT@localhost.localdomain>
Message-ID: <537052EF.9040308@structuremonitoring.com>

On 5/11/2014 8:29 PM, Jim Lemon wrote:
> On Sun, 11 May 2014 06:46:29 PM Spencer Graves wrote:
>>         Is there a function for creating a box with rounded corners?
>>
>>
>>         I can write one, but I thought I'd ask first.
>>
>>
> Hi Spencer,
> The tab.title function in plotrix has most of the code for this.

Hi, Jim:


       Thanks for this.  tab.title{plotrix} displays "the title of a 
plot as a colored tab".  It rounds the top two corners but does not 
allow the user to round the bottom two or draw a box around text 
anyplace else on the plot.


       I want a rectangle with rounded corners where I can control the 
location and size.  Sizing the box to text would be a bonus.


       boxed.labels{plotrix} is closer.  However, I'd want to add the 
following:   the


             * Some way of rounding the corners.  This might be like a 
parameter roundCorner being a number between 0 and 1, with 0 giving 
square corners and 1 providing a semicircle at the ends textround {diagram}


             * lwd and col parameters for the box:  My immediate 
application requires large red text in red box with rounded corners and 
a thick line.


        Other thoughts?


       Thanks again,
       Spencer Graves


p.s.  If you would like, I could modify "boxed.labels" as just discussed 
and email you the code.  Or I could "Request to join" the plotrix 
project on R-Forge and modify the help file as well as the code.

> Jim
>
>
>


-- 
Spencer Graves, PE, PhD
President and Chief Technology Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567
web:  www.structuremonitoring.com


From dulcalma at bigpond.com  Mon May 12 07:14:43 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Mon, 12 May 2014 15:14:43 +1000
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <537052EF.9040308@structuremonitoring.com>
References: <537027F5.4000008@structuremonitoring.com>	<3687374.Pv2uIjoEHT@localhost.localdomain>
	<537052EF.9040308@structuremonitoring.com>
Message-ID: <000001cf6da1$16310fb0$42932f10$@bigpond.com>

Hi Spencer

I do not know if library(tikzDevice) or such ilk will be of help - it may
depend on what you are doing. 

NB I am not familiar with it

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of Spencer Graves
Sent: Monday, 12 May 2014 14:50
To: Jim Lemon
Cc: R list
Subject: Re: [R] clipart - box with rounded corners?

On 5/11/2014 8:29 PM, Jim Lemon wrote:
> On Sun, 11 May 2014 06:46:29 PM Spencer Graves wrote:
>>         Is there a function for creating a box with rounded corners?
>>
>>
>>         I can write one, but I thought I'd ask first.
>>
>>
> Hi Spencer,
> The tab.title function in plotrix has most of the code for this.

Hi, Jim:


       Thanks for this.  tab.title{plotrix} displays "the title of a 
plot as a colored tab".  It rounds the top two corners but does not 
allow the user to round the bottom two or draw a box around text 
anyplace else on the plot.


       I want a rectangle with rounded corners where I can control the 
location and size.  Sizing the box to text would be a bonus.


       boxed.labels{plotrix} is closer.  However, I'd want to add the 
following:   the


             * Some way of rounding the corners.  This might be like a 
parameter roundCorner being a number between 0 and 1, with 0 giving 
square corners and 1 providing a semicircle at the ends textround {diagram}


             * lwd and col parameters for the box:  My immediate 
application requires large red text in red box with rounded corners and 
a thick line.


        Other thoughts?


       Thanks again,
       Spencer Graves


p.s.  If you would like, I could modify "boxed.labels" as just discussed 
and email you the code.  Or I could "Request to join" the plotrix 
project on R-Forge and modify the help file as well as the code.

> Jim
>
>
>


-- 
Spencer Graves, PE, PhD
President and Chief Technology Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567
web:  www.structuremonitoring.com

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From spencer.graves at structuremonitoring.com  Mon May 12 08:00:58 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Sun, 11 May 2014 23:00:58 -0700
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <537045C4.9060201@stat.auckland.ac.nz>
References: <537027F5.4000008@structuremonitoring.com>
	<537045C4.9060201@stat.auckland.ac.nz>
Message-ID: <5370639A.1040307@structuremonitoring.com>

On 5/11/2014 8:53 PM, Paul Murrell wrote:
> Hi
>
> There is a grid.roundrect(), in case you are working in that 
> alternative universe.


Hi, Paul:


       Is there an easy way to specify the roundrect arguments in 
standard user coordinates?  "plot(7:8); grid.roundrect(.6, .4, .4, .2, 
name='rr')" gave me a rectangle occupying roughly 50% of the horizontal 
space and 30% of the vertical space in the plot region [not 40% and 20% 
as I might naively expect], centered at roughly (1.6, 7.4).


       I found grid.roundrect mentioned on p. 179 of the second edition 
of our "R Graphics".  I'll try reading that first part of your chapter 6 
to see if that produces sufficient enlightenment.  I failed to achieve 
sufficient understanding of grid from your first edition.


       Thanks,
       Spencer

>
> Paul
>
> On 05/12/14 13:46, Spencer Graves wrote:
>>        Is there a function for creating a box with rounded corners?
>>
>>
>>        I can write one, but I thought I'd ask first.
>>
>>
>>        Thanks,
>>        Spencer Graves
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From ripley at stats.ox.ac.uk  Mon May 12 08:10:06 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 May 2014 07:10:06 +0100
Subject: [R] invalid digital signature for R-3.1.0-mavericks
In-Reply-To: <CAJqbkv7Frs5aRSNY-96S2DQ=U_RdikP4o+tPGh-qqkAAA8ayJw@mail.gmail.com>
References: <CAJqbkv7Frs5aRSNY-96S2DQ=U_RdikP4o+tPGh-qqkAAA8ayJw@mail.gmail.com>
Message-ID: <537065BE.2020101@stats.ox.ac.uk>

Please do ask Mac-specific questions on R-sig-mac (see the posting 
guide): this about the Apple installer.

But always try another mirror first: BTW cran.stat.ucla.edu gets far 
more than its share of problem reports.

There have been no similar reports on R-sig-mac in the month or so that 
R 3.1.0 has been released.

On 12/05/2014 02:43, Paul Cantalupo wrote:
> Hello,
>
> I'm trying to upgrade R from 3.0.3 to 3.1 on MacBookPro Mavericks 10.9.2.
> After downloading R-3.1.0-mavericks.pkg from http://cran.stat.ucla.edu/ and
> clicking it, I get the following error message:
>
> "R-3.1.0-mavericks.pkg can't be installed because its digital signature is
> invalid".
>
> I checked the md5 signature with md5sum and it matches that found on the
> download page. I also tried re-downloading the package from different
> mirror sites and I get the same error. I also tried R-3.1.0-snowleopard.pkg
> but I got the following error:
>
> "This package was signed with an invalid certificate. This package might
> not install what you expect."
>
> But unlike the mavericks.pkg, the snowleopard.pkg provides me the option to
> continue the install in spite of the warning.
>
> Why am I getting these 'invalid' warnings? How do I securely and properly
> install R 3.1 on my Mac that is running Mavericks? It is strange that just
> a few weeks ago, I did not have these problems installing R 3.0.3.
>
> Thank you for your help,
>
> Paul
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From spencer.graves at structuremonitoring.com  Mon May 12 08:17:57 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Sun, 11 May 2014 23:17:57 -0700
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <537045C4.9060201@stat.auckland.ac.nz>
References: <537027F5.4000008@structuremonitoring.com>
	<537045C4.9060201@stat.auckland.ac.nz>
Message-ID: <53706795.5030707@structuremonitoring.com>

On 5/11/2014 8:53 PM, Paul Murrell wrote:
> Hi
>
> There is a grid.roundrect(), in case you are working in that
> alternative universe.

p.s.  Is it feasible to mix grid with traditional graphics?  Your Ch. 6 
begins, "This chapter is useful for drawing ... from scratch, and for 
adding output to plots created by lattice and ggplot2."  However, I 
understand that grid produces graphics object or grobs, which are 
"printed" to be viewed.  Thanks.  Spencer


###############


Hi, Paul:


       Is there an easy way to specify the roundrect arguments in 
standard user coordinates?  "plot(7:8); grid.roundrect(.6, .4, .4, .2, 
name='rr')" gave me a rectangle occupying roughly 50% of the horizontal 
space and 30% of the vertical space in the plot region [not 40% and 20% 
as I might naively expect], centered at roughly (1.6, 7.4).


       I found grid.roundrect mentioned on p. 179 of the second edition 
of our "R Graphics".  I'll try reading that first part of your chapter 6 
to see if that produces sufficient enlightenment.  I failed to achieve 
sufficient understanding of grid from your first edition.


       Thanks,
       Spencer

>
> Paul
>
> On 05/12/14 13:46, Spencer Graves wrote:
>>        Is there a function for creating a box with rounded corners?
>>
>>
>>        I can write one, but I thought I'd ask first.
>>
>>
>>        Thanks,
>>        Spencer Graves
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From ashisdeb83 at gmail.com  Mon May 12 11:31:08 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Mon, 12 May 2014 02:31:08 -0700
Subject: [R] Making a trial based Package for 30-days.
Message-ID: <CAFcJUTpar1CMgcCke7+kbJyKMucp+KhLYCNA6TJbFPm1gX9_Wg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/b905deac/attachment.pl>

From nourhan.iyte at hotmail.com  Mon May 12 11:31:09 2014
From: nourhan.iyte at hotmail.com (nourhan iyte)
Date: Mon, 12 May 2014 12:31:09 +0300
Subject: [R] implementation for genetic algorithm
In-Reply-To: <loom.20140508T234611-559@post.gmane.org>
References: <1399496122003-4690142.post@n4.nabble.com>,
	<loom.20140508T234611-559@post.gmane.org>
Message-ID: <BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/44ce1ceb/attachment.pl>

From paul at stat.auckland.ac.nz  Mon May 12 11:39:47 2014
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 12 May 2014 21:39:47 +1200
Subject: [R] clipart - box with rounded corners?
In-Reply-To: <53706795.5030707@structuremonitoring.com>
References: <537027F5.4000008@structuremonitoring.com>
	<537045C4.9060201@stat.auckland.ac.nz>
	<53706795.5030707@structuremonitoring.com>
Message-ID: <537096E3.7030203@stat.auckland.ac.nz>

Hi

On 05/12/14 18:17, Spencer Graves wrote:
> On 5/11/2014 8:53 PM, Paul Murrell wrote:
>> Hi
>>
>> There is a grid.roundrect(), in case you are working in that
>> alternative universe.
>
> p.s.  Is it feasible to mix grid with traditional graphics?  Your Ch. 6
> begins, "This chapter is useful for drawing ... from scratch, and for
> adding output to plots created by lattice and ggplot2."  However, I
> understand that grid produces graphics object or grobs, which are
> "printed" to be viewed.  Thanks.  Spencer

Take a look at the 'gridBase' package (Chapter 19 of R Graphics 2e).

Paul

>
> ###############
>
>
> Hi, Paul:
>
>
>        Is there an easy way to specify the roundrect arguments in
> standard user coordinates?  "plot(7:8); grid.roundrect(.6, .4, .4, .2,
> name='rr')" gave me a rectangle occupying roughly 50% of the horizontal
> space and 30% of the vertical space in the plot region [not 40% and 20%
> as I might naively expect], centered at roughly (1.6, 7.4).
>
>
>        I found grid.roundrect mentioned on p. 179 of the second edition
> of our "R Graphics".  I'll try reading that first part of your chapter 6
> to see if that produces sufficient enlightenment.  I failed to achieve
> sufficient understanding of grid from your first edition.
>
>
>        Thanks,
>        Spencer
>
>>
>> Paul
>>
>> On 05/12/14 13:46, Spencer Graves wrote:
>>>        Is there a function for creating a box with rounded corners?
>>>
>>>
>>>        I can write one, but I thought I'd ask first.
>>>
>>>
>>>        Thanks,
>>>        Spencer Graves
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/


From abhinabaroy09 at gmail.com  Mon May 12 12:17:14 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Mon, 12 May 2014 15:47:14 +0530
Subject: [R] Lag in dataframe
Message-ID: <CANtKHPWNiLojBYDzPWEYg=HD4D9CKFOJVjR4cTDODat2Xx3foQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/bb72d477/attachment.pl>

From helios.derosario at ibv.upv.es  Mon May 12 13:01:57 2014
From: helios.derosario at ibv.upv.es (Helios de Rosario)
Date: Mon, 12 May 2014 13:01:57 +0200
Subject: [R] Making a trial based Package for 30-days.
Message-ID: <5370C6450200000C0001CDAE@mailhost.biomec.upv.es>

I guess you could write some instructions in the "configure" file
("configure.win" for windows) at the root level of the package
subdirectory, to create a scheduled task to uninstall and delete the
package after a fixed period. That script would normally execute at the
moment of installation. See "Package structure" in "Writing R
extensions".

Yes, easy to hack. But R is free software, so that's what you should
normally expect for any mechanism. In any event, I suppose that you
don't want a "trial-based" package for your own use alone, but you want
to distribute it. And if you want to distribute it by mainstream
repositories (e.g. CRAN), you should publish the source anyway, and
won't be allowed to include such "malicious" mechanisms.

Helios De Rosario


>>> El d?a 12/05/2014 a las 11:31, Ashis Deb <ashisdeb83 at gmail.com>
escribi?:
> Hi  all   ,
> 
> 
>                I have   a  GUI  package , which  I  want  to  make 
it
> work  for  a  certain period,say?30days   ,after which  it should  be
self
> destructive  .
> 
> Could it  be possible  ??
> 
> 
> ASHIS
> 

INSTITUTO DE BIOMEC?NICA DE VALENCIA
Universidad Polit?cnica de Valencia ? Edificio 9C
Camino de Vera s/n ? 46022 VALENCIA (ESPA?A)
Tel. +34 96 387 91 60 ? Fax +34 96 387 91 69
www.ibv.org

  Antes de imprimir este e-mail piense bien si es necesario hacerlo.
En cumplimiento de la Ley Org?nica 15/1999 reguladora de la Protecci?n
de Datos de Car?cter Personal, le informamos de que el presente mensaje
contiene informaci?n confidencial, siendo para uso exclusivo del
destinatario arriba indicado. En caso de no ser usted el destinatario
del mismo le informamos que su recepci?n no le autoriza a su divulgaci?n
o reproducci?n por cualquier medio, debiendo destruirlo de inmediato,
rog?ndole lo notifique al remitente.


From b.rowlingson at lancaster.ac.uk  Mon May 12 14:03:11 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 12 May 2014 13:03:11 +0100
Subject: [R] Making a trial based Package for 30-days.
In-Reply-To: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>
References: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>
Message-ID: <CANVKczPTncoekX0CJqEr35b75m0s7rJa9SmdjCngMK5Qo+1OrQ@mail.gmail.com>

On Mon, May 12, 2014 at 10:31 AM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
> Hi  all   ,
>
>
>                I have   a  GUI  package , which  I  want  to  make  it
> work  for  a  certain period,say-30days   ,after which  it should  be self
> destructive  .
>
> Could it  be possible  ??
>

 Yes.

 But why bother? Can you stop people:

 a) turning back the clock on their PCs?
 b) reinstalling again after 30 days?
 c) installing on a fresh operating system?
 d) editing the program to remove the date check?

You have to decide if the effort in preventing all these things is
worth it. Unless your software is really going to make you millions of
dollars unless you do this, the answer is no.

 Easiest option is to just pop up a nag screen saying "You really
should stop using this after 30 days", but don't bother trying to
enforce it (and definitely don't go deleting it itself, you'll end up
deleting someone's files and then they will sue you).

 With a nag screen, people who are going to buy your product will buy
it, people who aren't going to buy your product will carry on using
it, but then they are going to do that anyway since these measures are
so easily circumvented. Unless you want to invest in some serious
licensing infrastructure.

Barry


From murdoch.duncan at gmail.com  Mon May 12 14:19:25 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 12 May 2014 08:19:25 -0400
Subject: [R] Change position in package rgl
In-Reply-To: <534971D4.6050105@gmail.com>
References: <53495991.3090904@demogr.mpg.de> <534971D4.6050105@gmail.com>
Message-ID: <5370BC4D.5030906@gmail.com>

On 12/04/2014, 1:03 PM, Duncan Murdoch wrote:
> On 12/04/2014, 11:19 AM, Roland Rau wrote:
>> Dear all,
>>
>> I am using package rgl and I want to change the position where I "stand".
>> Maybe a small example might clarify what I am looking for:
>>
>>
>> # Begininng of explanatory example
>> library(rgl)
>> data(volcano)
>>
>> # the example ?rgl.surface
>> y <- 2 * volcano
>> x <- 10 * (1:nrow(y))
>> z <- 10 * (1:ncol(y))
>> ylim <- range(y)
>> ylen <- ylim[2] - ylim[1] + 1
>> colorlut <- terrain.colors(ylen)
>> col <- colorlut[ y-ylim[1]+1 ]
>>
>> rgl.open()
>> rgl.surface(x, z, y, color=col, back="lines")
>> ## now I have the nice volcano surface
>> ## with rgl.viewpoint I can change the elevation
>> ## and the angle from where I look at the rgl.surface
>> # example of ?rgl.viewpoint
>> start <- proc.time()[3]
>> while ((i <- 36*(proc.time()[3]-start)) < 360) {
>>     rgl.viewpoint(i,i/4);
>> }
>> # End of explanatory example
>>
>> What I am looking for (in this example) would be a way for me to "stand"
>> on the crater of the volcano, looking in a specific direction. Is there
>> something like a function where I can specify my coordinates (x,y,z) and
>> angle and a zoom factor?
>
> I think you could hack something like that (see the description in
> ?par3d of how rendering is accomplished), but there's currently no
> support for it, and it wouldn't be easy, as currently P and M in that
> description are read-only quantities computed indirectly.  So you'd have
> to essentially trick rgl into producing the P matrix corresponding to
> the viewing position you want.
>
> I am currently working on some changes that might make this easier, but
> they likely aren't going to be released for several months.

If you are interested in looking at this, a rudimentary version is now 
available on a non-released branch of rgl.  Currently you can specify 
the observer location, but not the direction of view:  but since you can 
rotate the model by mouse or otherwise, that allows the direction to change.

I will likely implement the more general version before release.

If you are interested in trying this out, let me know how you'd like to 
receive it.  You can get the source from svn on R-forge (get the 
subscenes branch), or I could package it up and email it to you, if you 
tell me what form you want (source tarball, binary for which R version, 
etc.)

Duncan Murdoch


From matt at plot.ly  Mon May 12 14:19:38 2014
From: matt at plot.ly (Matt Sundquist)
Date: Mon, 12 May 2014 05:19:38 -0700
Subject: [R] Plotly and rOpenSci: R and ggplot2 interactive, online,
 & collaborative plotting
Message-ID: <CAJfh0RfEWnTLhqSFgViM65knjvSP=Th=L5=KcavCPFcJ9Fn1eg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/017e9ffe/attachment.pl>

From smartpink111 at yahoo.com  Mon May 12 15:49:01 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 12 May 2014 06:49:01 -0700 (PDT)
Subject: [R] Lag in dataframe
In-Reply-To: <CANtKHPWNiLojBYDzPWEYg=HD4D9CKFOJVjR4cTDODat2Xx3foQ@mail.gmail.com>
References: <CANtKHPWNiLojBYDzPWEYg=HD4D9CKFOJVjR4cTDODat2Xx3foQ@mail.gmail.com>
Message-ID: <1399902541.78547.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,
May be this helps:
dat1 <- structure(list(ID_CASE = c("CS00000026A", "CS00000026A", "CS00000026A",
"CS00000026A", "CS00000026A", "CS00000026A", "CS00000026A", "CS00000026A",
"CS00000026A", "CS00000026A", "CS00000191C", "CS00000191C", "CS00000191C",
"CS00000191C", "CS00000191C", "CS00000191C", "CS00000191C", "CS00000191C",
"CS00000191C"), Month = c(201301L, 201302L, 201303L, 201304L,
201305L, 201306L, 201307L, 201308L, 201309L, 201310L, 201302L,
201303L, 201304L, 201305L, 201306L, 201307L, 201308L, 201309L,
201310L)), .Names = c("ID_CASE", "Month"), class = "data.frame", row.names = c(NA,
-19L))

##expected output ##check the numbers (?typo)

##corrected version
res <- structure(list(ID_CASE = c("CS00000026A", "CS00000026A", "CS00000026A",
"CS00000026A", "CS00000026A", "CS00000026A", "CS00000026A", "CS00000026A",
"CS00000026A", "CS00000026A", "CS00000191C", "CS00000191C", "CS00000191C",
"CS00000191C", "CS00000191C", "CS00000191C", "CS00000191C", "CS00000191C",
"CS00000191C", "CS00000191C"), Month = c(201301L, 201302L, 201303L,
201304L, 201305L, 201306L, 201307L, 201308L, 201309L, 201310L,
201301L, 201302L, 201303L, 201304L, 201305L, 201306L, 201307L,
201308L, 201309L, 201310L), Lag_1 = c(NA, 201301L, 201302L, 201303L,
201304L, 201305L, 201306L, 201307L, 201308L, 201309L, NA, 201301L,
201302L, 201303L, 201304L, 201305L, 201306L, 201307L, 201308L,
201309L), Lag_2 = c(NA, NA, 201301L, 201302L, 201303L, 201304L,
201305L, 201306L, 201307L, 201308L, NA, NA, 201301L, 201302L,
201303L, 201304L, 201305L, 201306L, 201307L, 201308L), Lag_3 = c(NA,
NA, NA, 201301L, 201302L, 201303L, 201304L, 201305L, 201306L,
201307L, NA, NA, NA, 201301L, 201302L, 201303L, 201304L, 201305L,
201306L, 201307L)), .Names = c("ID_CASE", "Month", "Lag_1", "Lag_2",
"Lag_3"), class = "data.frame", row.names = c(NA, -20L))


res1 <- do.call(rbind, lapply(split(dat1, dat1$ID_CASE), function(x) {
??? Mo <- unique(dat1$Month)
??? m1 <- matrix(NA, nrow = length(Mo), ncol = 3)
??? d1 <- setNames(as.data.frame(sapply(1:ncol(m1), function(i) {
??????? m1[-seq(i), i] <- head(Mo, -i)
??????? m1[, i]
??? })), paste("Lag", 1:3, sep = "_"))
??? cbind(ID_CASE = unique(x$ID_CASE), Month = Mo, d1)
}))
row.names(res1) <- 1:nrow(res1)
res1$ID_CASE <- as.character(res1$ID_CASE)


all.equal(res, res1)
# [1] TRUE


##If you have datetime,
as.numeric(Sys.time())

A.K.


On Monday, May 12, 2014 6:18 AM, Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:
Hi R helpers,

I have a dataframe as,

? ID_CASE?  Month
CS00000026A 201301
CS00000026A 201302
CS00000026A 201303
CS00000026A 201304
CS00000026A 201305
CS00000026A 201306
CS00000026A 201307
CS00000026A 201308
CS00000026A 201309
CS00000026A 201310
CS00000191C 201302
CS00000191C 201303
CS00000191C 201304
CS00000191C 201305
CS00000191C 201306
CS00000191C 201307
CS00000191C 201308
CS00000191C 201309
CS00000191C 201310

I want the output as,


? ID_CASE?  Month?  Lag_1?  Lag_2?  Lag_3
CS00000026A 201301? NA? ? ? NA? ? ? NA
CS00000026A 201302? 201301? NA? ? ? NA
CS00000026A 201303? 201202? 201201? NA
CS00000026A 201304? 201203? 201202? 201201
CS00000026A 201305? 201204? 201203? 201202
CS00000026A 201306? 201305? 201304? 201303
CS00000026A 201307? 201306? 201305? 201304
CS00000026A 201308? 201307? 201306? 201305
CS00000026A 201309? 201308? 201307? 201306
CS00000026A 201310? 201309? 201308? 201307CS00000191C 201301? NA? ? ?  NA? ?  NA
CS00000191C 201302? 201301?  NA? ?  NA
CS00000191C 201303? 201302? 201301? NA
CS00000191C 201304? 201303? 201302? 201301
CS00000191C 201305? 201304? 201303? 201302
CS00000191C 201306? 201305? 201304? 201303
CS00000191C 201307? 201306? 201305? 201304
CS00000191C 201308? 201307? 201306? 201305
CS00000191C 201309? 201308? 201307? 201306
CS00000191C 201310? 201309? 201308? 201307

where

?  - Lag_1 is lagged by 1 Month
?  - Lag_2 is lagged by 2 Months
?  - Lag_3 is lagged by 3 Months.

I have used the following code to atleast get Lag_1
df <- ddply(df,.(ID_CASE),transform, Lag_1 <- c(NA,Month[-nrow(df)]))

But this does not give me the desired output for Lag_1.

And how can this be done if I have a *date-time* object instead of an
*int*column 'Month' as in the current example?

Any help on this will be appreciated.




-- 
Regards
Abhinaba Roy
Statistician

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From b.rowlingson at lancaster.ac.uk  Mon May 12 16:28:45 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 12 May 2014 15:28:45 +0100
Subject: [R] Making a trial based Package for 30-days.
In-Reply-To: <e002f7377fe044299dd5f7b9f49fe86b@EX-0-HT0.lancs.local>
References: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>
	<CANVKczPTncoekX0CJqEr35b75m0s7rJa9SmdjCngMK5Qo+1OrQ@mail.gmail.com>
	<e002f7377fe044299dd5f7b9f49fe86b@EX-0-HT0.lancs.local>
Message-ID: <CANVKczPb6f0cMopmxJ95Kk7ZPdp3oi6cBsUPoBt-y55N_1fJfg@mail.gmail.com>

On Mon, May 12, 2014 at 1:11 PM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
> Well  it's  the company requirement to do  so  ,  and  give it on  a trial
> basis  to  client to check , if they  like they  will BUY  or  it will  self
> destruct itself ,

 No, if they like it they will BUY or they will CIRCUMVENT your
self-destruction mechanism.

 The company requirement has not been thought through to
practicalities, and is unrealistic, and is not constrained by
limitation. How do you prevent them re-installing?

 For a price, I will fly (first class) to all your clients after 30
days and delete the software for you.

Barry


From spencer.graves at structuremonitoring.com  Mon May 12 16:45:08 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 12 May 2014 07:45:08 -0700
Subject: [R] Making a trial based Package for 30-days.
In-Reply-To: <CANVKczPb6f0cMopmxJ95Kk7ZPdp3oi6cBsUPoBt-y55N_1fJfg@mail.gmail.com>
References: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>	<CANVKczPTncoekX0CJqEr35b75m0s7rJa9SmdjCngMK5Qo+1OrQ@mail.gmail.com>	<e002f7377fe044299dd5f7b9f49fe86b@EX-0-HT0.lancs.local>
	<CANVKczPb6f0cMopmxJ95Kk7ZPdp3oi6cBsUPoBt-y55N_1fJfg@mail.gmail.com>
Message-ID: <5370DE74.3020704@structuremonitoring.com>

On 5/12/2014 7:28 AM, Barry Rowlingson wrote:
> On Mon, May 12, 2014 at 1:11 PM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
>> Well  it's  the company requirement to do  so  ,  and  give it on  a trial
>> basis  to  client to check , if they  like they  will BUY  or  it will  self
>> destruct itself ,
>   No, if they like it they will BUY or they will CIRCUMVENT your
> self-destruction mechanism.
>
>   The company requirement has not been thought through to
> practicalities, and is unrealistic, and is not constrained by
> limitation. How do you prevent them re-installing?
>
>   For a price, I will fly (first class) to all your clients after 30
> days and delete the software for you.


       Linux is free, open source software (FOSS), but people create 
lots of commercial software to run on Linux.


       One company I know installed an S-Plus or R package only on 
servers, so their customers had to use it on a server.  (In this case, 
the customers had a GUI and may not have known that it was S-Plus or R 
behind it.)  This company also developed techniques for encrypting their 
code.  I don't think it was perfect, and they eventually wrote it in C 
or C++ or Matlab.


       So part of the answer is you can write part of your package in a 
compiled language.  That part can check your web site to check the date 
and other things.


       If you submit anything to CRAN, you must enter a legally binding 
agreement that anything you submit is released under an acceptable FOSS 
license.  I don't know what they do if they find an unacceptable license 
in a CRAN package, but at minimum, the package will be removed.


       Spencer

> Barry
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From niall.linkedin at gmail.com  Mon May 12 16:17:43 2014
From: niall.linkedin at gmail.com (Niall Kelly)
Date: Mon, 12 May 2014 15:17:43 +0100
Subject: [R] Creating Twitter network - rate limits being exceeded - cannot
 figure why
Message-ID: <5370D807.7060206@gmail.com>

Hi everyone.

This is my first ever ask for help, having searched archives and the 
package help, CRAN, and stackoverflow, and having spent 3 days on this.

I am using a modified version of Pablo Barbera's code 
(https://github.com/pablobarbera/workshop/blob/master/code/02_analysis_twitter_nyu.R) 
to graph the Twitter follower network for an individual and those they 
follow. The rate limit is 15 calls/15mins for friends/ids. However, my 
code is constantly exceeding that. I have published my code here: 
https://github.com/BuaCh41Ll/Twitter_network/blob/master/map_twitter_user_network.R

I would be grateful for any hints on how to resolve the rate limit 
issue. I suspect that the issue is within the while loop (copied below)

while (length(ir_pol.users) > length(follow.list)) {
user <- ir_pol.users[ir_pol.users %in% names(follow.list) == FALSE], 1)
user <- getUser(user)
user.n <- user$screenName
following <- user$getFriends()
friends <- as.character(lapply(following, function(x) x$getScreenName()))
follow.list[[user.n]] <- friends
descriptions <- as.character(lapply(following, function(x) 
x$getDescription()))
ir_pol <- extract.irishpolitics(descriptions)
new.users <- lapply(following[ir_pol], function(x) x$getScreenName())
new.users <- as.character(new.users)
ir_pol.users <- unique(c(ir_pol.users, new.users))
limit <- getCurRateLimitInfo()[47, 3]
while (limit == "0") {
Sys.sleep(901)
limit <- getCurRateLimitInfo()[47, 3]
}
print(ir_pol.users)
} Fingers crossed that my first post is appropriate to the group and my 
apologies if I have erred in its construction. Niall


From macqueen1 at llnl.gov  Mon May 12 17:02:13 2014
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 12 May 2014 15:02:13 +0000
Subject: [R] variable length lisin in data frame
In-Reply-To: <DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>
References: <mailman.22.1399716011.6243.r-help@r-project.org>
	<DUB125-W2161434B4485D4F255FE40B34B0@phx.gbl>
Message-ID: <CF962D50.F774B%macqueen1@llnl.gov>

I think it will depend on how you plan to use the data. Again in my
opinion, I think the simplest most natural storage structure in the
context of R would be a nested list:

mydat <- list(
  list(contacts=c(3,4), ncon=2),
  list(contacts=c(1,3,4), ncon=3),
  list(contacts=c(4,2,1), ncon=3),
  list(contacts=1, ncon=1)
  )

## if the id values are not sequential integers, then you would also need
names(mydat) <- {whatever the id values are}

Depending on subsequent processing, it might not be necessary to store the
number of contacts, because it can easily be calculated whenever needed.
In which case the structure could be simpler:

mydat <- list( c(3,4), c(1,3,4), c(4,2,1), 1 )
names(mydat) <- {whatever the id values are}


Even though a data frame can be used, as Duncan and arun have shown, a
data frame does not seem natural to me, given that the number of contacts
is not the same for all ids.

It may also depend on where the data is coming from and how much there is
of it.

-Don

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 5/10/14 4:46 AM, "Ragia Ibrahim" <ragia11 at hotmail.com> wrote:

>Dear Group,
>I have data like the following
>
>id   contacts_list   number of contacts
>---------------------------------------------------
>1   3 4                               2
>2   1 3 4                            3
>3    4 2 1                           3
>4    1                                1
>------------------------------------------------------
>
>
>can you kindly please sugest a data type in R to use for it?
>i thought about data frame that consists of a  list element. but  lists
>are not in  the same length, any  solutions?
>thanks in advance
>RAE
> 		 	   		  
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From b.rowlingson at lancaster.ac.uk  Mon May 12 17:21:32 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 12 May 2014 16:21:32 +0100
Subject: [R] Making a trial based Package for 30-days.
In-Reply-To: <5a17af5d601a47bdb00a8b67cc095ef5@EX-1-HT0.lancs.local>
References: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>
	<CANVKczPTncoekX0CJqEr35b75m0s7rJa9SmdjCngMK5Qo+1OrQ@mail.gmail.com>
	<e002f7377fe044299dd5f7b9f49fe86b@EX-0-HT0.lancs.local>
	<CANVKczPb6f0cMopmxJ95Kk7ZPdp3oi6cBsUPoBt-y55N_1fJfg@mail.gmail.com>
	<5a17af5d601a47bdb00a8b67cc095ef5@EX-1-HT0.lancs.local>
Message-ID: <CANVKczNR8XX2x2Um_AM92XYTaoeJC2Uv_CVM0sReVi0namsqLA@mail.gmail.com>

On Mon, May 12, 2014 at 3:45 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:

>        One company I know installed an S-Plus or R package only on
> servers, so their customers had to use it on a server.  (In this case,
> the customers had a GUI and may not have known that it was S-Plus or R
> behind it.)  This company also developed techniques for encrypting their
> code.  I don't think it was perfect, and they eventually wrote it in C
> or C++ or Matlab.

 If the code runs on a server controlled by the company, and the user
uses the code via some network API, then it might be practical to give
a user a password that is revoked after thirty days. If the server is
controlled by the user, then all bets are off.

 Any "encrypted" code has to be decrypted in order to be executed, so
it is only obfuscated code. Even systems where the decryption keys are
hidden in hardware chips covered in resin have been cracked by
enthusiasts with a sharp blade, small probes, and a digital
oscilloscope. We are talking hardware encryption/DRM systems developed
by companies like SONY.

>        So part of the answer is you can write part of your package in a
> compiled language.  That part can check your web site to check the date
> and other things.

 Still easily circumventable (poke the code, preload a different date
library DLL, turn the clock back...), so why bother? You can't
consider how you'd have self-destructing code without having a debate
about the cost and effort you want to put in and the cost and effort
crackers want to put in. I the SONY case (or similar) crackers will
compete like mad to crack the DRM, even if only for fame and not
fortune or free access to pirated games.

 I think it would take me under an hour to write a package that
self-destructed. Its not difficult, you create a file somewhere when
the system first runs, then on subsequent runs check the date is less
than 30 days after the file, and run file.remove over the package if
its expired.

Barry


From spencer.graves at structuremonitoring.com  Mon May 12 17:59:33 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Mon, 12 May 2014 08:59:33 -0700
Subject: [R] Making a trial based Package for 30-days.
In-Reply-To: <CANVKczNR8XX2x2Um_AM92XYTaoeJC2Uv_CVM0sReVi0namsqLA@mail.gmail.com>
References: <3b4f6a3f39af4d759c63e48135713af9@EX-0-HT0.lancs.local>	<CANVKczPTncoekX0CJqEr35b75m0s7rJa9SmdjCngMK5Qo+1OrQ@mail.gmail.com>	<e002f7377fe044299dd5f7b9f49fe86b@EX-0-HT0.lancs.local>	<CANVKczPb6f0cMopmxJ95Kk7ZPdp3oi6cBsUPoBt-y55N_1fJfg@mail.gmail.com>	<5a17af5d601a47bdb00a8b67cc095ef5@EX-1-HT0.lancs.local>
	<CANVKczNR8XX2x2Um_AM92XYTaoeJC2Uv_CVM0sReVi0namsqLA@mail.gmail.com>
Message-ID: <5370EFE5.5040202@structuremonitoring.com>

On 5/12/2014 8:21 AM, Barry Rowlingson wrote:
> On Mon, May 12, 2014 at 3:45 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>
>>         One company I know installed an S-Plus or R package only on
>> servers, so their customers had to use it on a server.  (In this case,
>> the customers had a GUI and may not have known that it was S-Plus or R
>> behind it.)  This company also developed techniques for encrypting their
>> code.  I don't think it was perfect, and they eventually wrote it in C
>> or C++ or Matlab.
>   If the code runs on a server controlled by the company, and the user
> uses the code via some network API, then it might be practical to give
> a user a password that is revoked after thirty days. If the server is
> controlled by the user, then all bets are off.
>
>   Any "encrypted" code has to be decrypted in order to be executed, so
> it is only obfuscated code. Even systems where the decryption keys are
> hidden in hardware chips covered in resin have been cracked by
> enthusiasts with a sharp blade, small probes, and a digital
> oscilloscope. We are talking hardware encryption/DRM systems developed
> by companies like SONY.
>
>>         So part of the answer is you can write part of your package in a
>> compiled language.  That part can check your web site to check the date
>> and other things.
>   Still easily circumventable (poke the code, preload a different date
> library DLL, turn the clock back...), so why bother? You can't
> consider how you'd have self-destructing code without having a debate
> about the cost and effort you want to put in and the cost and effort
> crackers want to put in. I the SONY case (or similar) crackers will
> compete like mad to crack the DRM, even if only for fame and not
> fortune or free access to pirated games.
>
>   I think it would take me under an hour to write a package that
> self-destructed. Its not difficult, you create a file somewhere when
> the system first runs, then on subsequent runs check the date is less
> than 30 days after the file, and run file.remove over the package if
> its expired.


       Agreed.  The only certainties are death, taxes, and uncertainty ;-)


       Some of us are fortunate enough to be able to contribute to R and 
CRAN without having it jeopardize our access to adequate food and 
shelter.  Many people get paid for writing code, and some of those get 
paid from license fees.  A better world is possible, but that's beyond 
the scope of this discussion.


       Spencer


> Barry


From jvadams at usgs.gov  Mon May 12 18:14:30 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Mon, 12 May 2014 11:14:30 -0500
Subject: [R] ASA CSP - call for short courses - deadline May 13
Message-ID: <CAN5YmCEeYduuFipyPoBg5C4um6VK0eUtkN8zjSak=JxBpn+39A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/036f61c2/attachment.pl>

From marongiu.luigi at gmail.com  Mon May 12 19:50:29 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Mon, 12 May 2014 18:50:29 +0100
Subject: [R] package to plot mean and standard deviation directly on data
Message-ID: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>

 Dear all,
is there a package, preferably not ggplot, to draw the lines for the
standard deviation just by providing the vector with the data? more or
less as it happens with the boxplot function.
the procedure i implemented herein requires the calculation of the
means, standard deviations, limits (mean+/-SD) and the horizontal bars
as well, everything plotted individually. the packages i have seen on
google they all require to calculate the mean/SD prior to the plot.
best wishes,
luigi


# in case you are interested this is the code, which is faulty for the
factor of the variable "sample"

my.data<-structure(list(
group = c(
0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
sample = c(
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
copy = c(
626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
40.15, 34.27, 26.93, 24.8)),
 row.names = c(NA, -36L),  class = "data.frame")
# define subset
A<-subset(my.data, group==0)
# define average and standard deviation
avg.A<-aggregate(copy ~ sample, A, mean)
names(avg.A)<-c("samp.", "avg")
sd.A<-aggregate(copy ~ sample, A, sd)
names(sd.A)<-c("Samp", "sd")
A.bound<-merge(avg.A, sd.A, by.x="samp.", by.y="Samp")
# define limits
min.A<-A.bound$avg - A.bound$sd
max.A<-A.bound$avg + A.bound$sd
# plot
plot(avg  ~ samp., data=avg.A,  pch=16, ylim=c(-10, 600),
las=3, cex.lab=1.5, cex.main=1.8, col="black",
ylab=expression(bold("copy")),
xlab=expression(bold("sample")),
main="Mean and std dev")
# add limit segments
segments(seq(length(avg.A$sample)), max.A, seq(length(avg.A$sample)),  min.A)
segments(seq(length(avg.B$sample)), max.B, seq(length(avg.B$sample)),  min.B)
# add notch
notch<-0.02  # define end of bar extension
segments(seq(length(avg.A$sample))-notch, max.A,
seq(length(avg.A$sample))+notch,  max.A)
segments(seq(length(avg.A$sample))-notch, min.A,
seq(length(avg.A$sample))+notch,  min.A)


From jvadams at usgs.gov  Mon May 12 20:44:15 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Mon, 12 May 2014 13:44:15 -0500
Subject: [R] how di I write a for loop in which i is in POSIX?
In-Reply-To: <1399583532986-4690211.post@n4.nabble.com>
References: <1399583532986-4690211.post@n4.nabble.com>
Message-ID: <CAN5YmCEVWaXZZ1rhYbf7hanfW2Zavt7Qo8aCZGZphNQL-y9Bqw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/c5d11105/attachment.pl>

From alicia.r.perezporro at gmail.com  Mon May 12 17:37:37 2014
From: alicia.r.perezporro at gmail.com (=?UTF-8?Q?Alicia_R=2E_P=C3=A9rez=2DPorro?=)
Date: Mon, 12 May 2014 11:37:37 -0400
Subject: [R] Convert to integers all entries of a table (for DESeq2)
Message-ID: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/c86b00b3/attachment.pl>

From alicia.r.perezporro at gmail.com  Mon May 12 17:40:57 2014
From: alicia.r.perezporro at gmail.com (=?UTF-8?Q?Alicia_R=2E_P=C3=A9rez=2DPorro?=)
Date: Mon, 12 May 2014 11:40:57 -0400
Subject: [R] Fwd: Convert to integers all entries of a table (for DESeq2)
In-Reply-To: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
References: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
Message-ID: <CAP49uEBt9v7La-70rxhLi=bcF5OeB-zXgOctdK_Jqt5XQP2ujg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140512/5ba9aac8/attachment.pl>

From sultan786malik at hotmail.com  Mon May 12 20:02:53 2014
From: sultan786malik at hotmail.com (Sultan Malik)
Date: Mon, 12 May 2014 19:02:53 +0100
Subject: [R] Help conduction Egger's test
Message-ID: <BLU436-SMTP202A658E99FF12D35E466FB85350@phx.gbl>

Hi, 

I am currently conducting a meta analyses and wish to carry out Egger?s test. I was just wondering, does the weighted linear regression model proposed by Egger et al correspond to the "weighted regression with multiplicative dispersion? option in Metafor?

Many thanks

Sultan

From dcarlson at tamu.edu  Mon May 12 22:34:36 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Mon, 12 May 2014 20:34:36 +0000
Subject: [R] Convert to integers all entries of a table (for DESeq2)
In-Reply-To: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
References: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6DA81@mb02.ads.tamu.edu>

a <- "transcript_ID C3 C4 CRL_2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL_3DEC11  CRL_13DEC11b LRV_A LRV_B
c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00 6.00
c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00"
datx <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE)

dati <- data.frame(datx$transcript_ID, sapply(datx[,-1], as.integer),
        stringsAsFactors=FALSE)

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Alicia R. P?rez-Porro
Sent: Monday, May 12, 2014 10:38 AM
To: r-help at r-project.org
Subject: [R] Convert to integers all entries of a table (for DESeq2)

Dear R users,

I have a .txt table that looks like:

transcript_ID C3        C4      CRL_2APR10      CRL_1_15JUL11
CRL_2_15JUL11   C1      CRL_6OCT11c     CRL_3DEC11      CRL_13DEC11b
 LRV_A LRV_B
c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00
6.00
c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00

I need to convert all the numeric entries into integers to be able to use
DESeq2, e.g.:

C3 C4 CRL2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL3DEC11
CRL13DEC11b LRV_A LRV_B
c101054_g1_i2 15 231 131 218 16 0 587 0 624 10 6
c96583_g1_i2 0 10 6 8 0 0 29 0 90 0 0
c19380_g1_i1 0 9 0 1 0 0 0 0 0 0 0
c102980_g1_i10 0 0 0 0 0 0 0 0 0 0 0
c91905_g1_i3 0 6 65 0 0 0 40 0 55 0 0
c108262_g1_i3 0 29 2 0 0 0 29 0 338 0 0
c27948_g1_i1 0 0 0 54 0 1 0 0 0 0 0
c14898_g1_i1 0 2 0 1 0 0 0 0 0 0 0
c105146_g1_i2 0 0 0 0 0 0 0 0 0 0 1

?Any help will be welcome.
Thanks in advance,

Alicia?

--
Alicia R. P?rez-Porro
PhD candidate

Giribet lab
Department of Organismic and Evolutionary Biology
MCZ labs
Harvard University
26 Oxford St, Cambridge MA 02138
phone: +1 617-496-5308
fax: +1 617-495-5667
www.oeb.harvard.edu/faculty/giribet/

Department of Marine Ecology
Center for Advanced Studies of Blanes (CEAB-CSIC)
C/Acc?s Cala St. Francesc 14
17300 Blanes, Girona, SPAIN
phone: +34 972 336 101
fax: +34 972 337 806
www.ceab.csic.es

	[[alternative HTML version deleted]]


From wolfgang.viechtbauer at maastrichtuniversity.nl  Mon May 12 22:58:41 2014
From: wolfgang.viechtbauer at maastrichtuniversity.nl (Viechtbauer Wolfgang (STAT))
Date: Mon, 12 May 2014 22:58:41 +0200
Subject: [R] Help conduction Egger's test
In-Reply-To: <BLU436-SMTP202A658E99FF12D35E466FB85350@phx.gbl>
References: <BLU436-SMTP202A658E99FF12D35E466FB85350@phx.gbl>
Message-ID: <077E31A57DA26E46AB0D493C9966AC730DAAB44DE2@UM-MAIL4112.unimaas.nl>

Yes, the 'traditional' Egger test is a weighted regression of the effect size estimates against their standard errors with weights s2/vi, where s2 is a multiplicative dispersion parameter. This is what you will get with:

regtest(x, model="lm", predictor="sei")

where 'x' is an object returned by the rma() function from a fixed/random-effects model.

An example:

### load BCG vaccine data
data(dat.bcg)

### calculate log relative risks and corresponding sampling variances
dat <- escalc(measure="RR", ai=tpos, bi=tneg, ci=cpos, di=cneg, data=dat.bcg)

### random-effects model
res <- rma(yi, vi, data=dat)

### classical Egger test
regtest(res, model="lm", predictor="sei")

Best,
Wolfgang

--   
Wolfgang Viechtbauer, Ph.D., Statistician   
Department of Psychiatry and Psychology   
School for Mental Health and Neuroscience   
Faculty of Health, Medicine, and Life Sciences   
Maastricht University, P.O. Box 616 (VIJV1)   
6200 MD Maastricht, The Netherlands   
+31 (43) 388-4170 | http://www.wvbauer.com   


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Sultan Malik
> Sent: Monday, May 12, 2014 20:03
> To: r-help at r-project.org
> Subject: [R] Help conduction Egger's test
> 
> Hi,
> 
> I am currently conducting a meta analyses and wish to carry out Egger's
> test. I was just wondering, does the weighted linear regression model
> proposed by Egger et al correspond to the "weighted regression with
> multiplicative dispersion" option in Metafor?
> 
> Many thanks
> 
> Sultan
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Mon May 12 23:36:22 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 13 May 2014 07:36:22 +1000
Subject: [R] package to plot mean and standard deviation directly on data
In-Reply-To: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
References: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
Message-ID: <3475089.ZcUSLUy7JC@localhost.localdomain>

On Mon, 12 May 2014 06:50:29 PM Luigi Marongiu wrote:
>  Dear all,
> is there a package, preferably not ggplot, to draw the lines for the
> standard deviation just by providing the vector with the data? more 
or
> less as it happens with the boxplot function.
> the procedure i implemented herein requires the calculation of the
> means, standard deviations, limits (mean+/-SD) and the horizontal 
bars
> as well, everything plotted individually. the packages i have seen on
> google they all require to calculate the mean/SD prior to the plot.
> best wishes,
> luigi
> 
> 
> # in case you are interested this is the code, which is faulty for the
> factor of the variable "sample"
> 
> my.data<-structure(list(
> group = c(
> 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
> sample = c(
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
> copy = c(
> 626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
> 297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
> 351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
> 16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
> 142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
> 40.15, 34.27, 26.93, 24.8)),
>  row.names = c(NA, -36L),  class = "data.frame")
> # define subset
> A<-subset(my.data, group==0)
> # define average and standard deviation
> avg.A<-aggregate(copy ~ sample, A, mean)
> names(avg.A)<-c("samp.", "avg")
> sd.A<-aggregate(copy ~ sample, A, sd)
> names(sd.A)<-c("Samp", "sd")
> A.bound<-merge(avg.A, sd.A, by.x="samp.", by.y="Samp")
> # define limits
> min.A<-A.bound$avg - A.bound$sd
> max.A<-A.bound$avg + A.bound$sd
> # plot
> plot(avg  ~ samp., data=avg.A,  pch=16, ylim=c(-10, 600),
> las=3, cex.lab=1.5, cex.main=1.8, col="black",
> ylab=expression(bold("copy")),
> xlab=expression(bold("sample")),
> main="Mean and std dev")
> # add limit segments
> segments(seq(length(avg.A$sample)), max.A, 
seq(length(avg.A$sample)), 
> min.A) segments(seq(length(avg.B$sample)), max.B,
> seq(length(avg.B$sample)),  min.B) # add notch
> notch<-0.02  # define end of bar extension
> segments(seq(length(avg.A$sample))-notch, max.A,
> seq(length(avg.A$sample))+notch,  max.A)
> segments(seq(length(avg.A$sample))-notch, min.A,
> seq(length(avg.A$sample))+notch,  min.A)
> 
Hi Luigi,
Have a look at brkdn.plot in the plotrix package.

Jim


From zilefacelvis at yahoo.com  Tue May 13 00:01:49 2014
From: zilefacelvis at yahoo.com (Zilefac Elvis)
Date: Mon, 12 May 2014 15:01:49 -0700 (PDT)
Subject: [R] Freeing up memory in R
Message-ID: <1399932109.73123.YahooMailNeo@web160602.mail.bf1.yahoo.com>

Hi,
I will like to free up memory in R and make my program execute faster. At the moment, MY PROGRAM IS VERY SLOW probably due to memory issues. Here is sample data (Rcode is found at the end) from one simulation(I have 1000 such files to process):?



list(c("1971 1 1GGG1  0.00 -3.68 -0.29", "1971 1 1GGG2  0.00 -8.31  0.81", 
"1971 1 1GGG3  0.00-10.69  5.69", "1971 1 1GGG4  1.78 -6.96 -2.20", 
"1971 1 1GGG5  2.64 -9.48  9.20", "1971 1 1GGG6  0.00 -9.74  3.73", 
"1971 1 1GGG7  0.00 -8.49  3.58", "1971 1 1GGG8  0.00 -2.78 -2.92", 
"1971 1 1GGG9  0.00 -9.30  0.63", "1971 1 1GG10  4.87 -5.59  3.11", 
"1971 1 1GG11  0.10-12.04 10.80", "1971 1 1GG12  0.00 -5.24 -0.43", 
"1971 1 1GG13  0.00 -8.82  2.88", "1971 1 1GG14  0.00-11.10 14.50", 
"1971 1 1GG15  0.00 -5.54 10.12", "1971 1 1GG16  0.00 -4.54 10.48", 
"1971 1 1GG17  0.00  1.68 17.28", "1971 1 1GG18  0.00 -5.79  6.64", 
"1971 1 1GG19  0.00 -5.27 14.29", "1971 1 1GG20  0.00 -8.93  9.60", 
"1971 1 1GG21  5.29  1.30 15.62", "1971 1 1GG22  0.00 -2.50 19.20", 
"1971 1 1GG23  0.00 -7.04 15.73", "1971 1 1GG24  0.00 -8.53 11.60", 
"1971 1 1GG25  0.00 -0.82 10.33", "1971 1 1GG26  0.00 -6.28 21.58", 
"1971 1 1GG27  0.00 -4.73 20.56", "1971 1 1GG28  9.15 -4.38 11.70", 
"1971 1 1GG29  0.00  2.91  6.94", "1971 1 1GG30  0.00 -7.27 -4.96", 
"1971 1 1GG31  0.00  2.27  8.05", "1971 1 1GG32  0.00 -3.56  0.66", 
"1971 1 1GG33  0.00 -0.75  5.10", "1971 1 1GG34  1.81  2.82 -1.50", 
"1971 1 1GG35  0.00 -9.33 -5.15", "1971 1 1GG36  0.45 -0.41  1.59", 
"1971 1 1GG37  0.00  0.54  3.06", "1971 1 1GG38  0.00  1.85  0.87", 
"1971 1 1GG39  0.00  0.41 -5.11", "1971 1 1GG40  3.38 -8.04-10.43", 
"1971 1 1GG41  0.00 -7.00  3.22", "1971 1 1GG42  0.00  1.44  0.52", 
"1971 1 1GG43  0.00 -5.16 -4.01", "1971 1 1GG44  0.00 -0.73 -4.24", 
"1971 1 1GG45  8.63 -9.15  1.35", "1971 1 1GG46  0.00-10.04  6.62", 
"1971 1 1GG47  0.00 -9.67  8.25", "1971 1 1GG48  0.00-11.63  2.14", 
"1971 1 1GG49  0.00-10.33  6.68", "1971 1 1GG50  0.00-12.78  3.26", 
"1971 1 1GG51  9.71 -9.00  4.21", "1971 1 1GG52  2.87-11.94  6.01", 
"1971 1 1GG53  0.00-13.34  4.57", "1971 1 1GG54  0.71-12.14  9.01", 
"1971 1 1GG55  2.15 -9.84  1.37", "1971 1 1GG56  0.00-10.11 10.45", 
"1971 1 1GG57  0.00-10.06  0.97", "1971 1 1GG58  0.00-13.06  6.45", 
"1971 1 1GG59  0.00-13.17  4.48", "1971 1 1GG60  0.00-11.05  6.79", 
"1971 1 1GG61  0.00-11.11  1.11", "1971 1 1GG62  0.00 -8.17 10.90", 
"1971 1 1GG63  0.00-10.98  2.10", "1971 1 1GG64  0.00-12.82  6.07", 
"1971 1 1GG65  0.00 -8.65  4.32", "1971 1 1GG66  0.00-11.13  3.06", 
"1971 1 1GG67  0.00 -9.84  1.38", "1971 1 1GG68  1.48-13.17 -4.12", 
"1971 1 1GG69  0.00-10.64  6.51", "1971 1 1GG70  0.00-12.74  1.47", 
"1971 1 1GG71  0.00-12.14  9.21", "1971 1 1GG72  0.00-13.07  6.01", 
"1971 1 1GG73  0.00-11.02  3.18", "1971 1 1GG74  0.00-13.81  3.39", 
"1971 1 1GG75  0.00-11.53  3.23", "1971 1 1GG76  0.00-11.74  0.52", 
"1971 1 1GG77  0.00 -9.95 -1.56", "1971 1 1GG78  0.00-12.34 -4.90", 
"1971 1 1GG79  0.44-12.93 -3.38", "1971 1 1GG80  0.00 -7.25  1.21", 
"1971 1 1GG81  0.00 -6.69 -2.24", "1971 1 1GG82  0.00 -9.39 -4.35", 
"1971 1 1GG83  0.00-12.34  2.54", "1971 1 1GG84  0.00 -3.51  2.19", 
"1971 1 1GG85  0.00-12.03  6.77", "1971 1 1GG86  0.00 -3.54  1.12", 
"1971 1 1GG87  0.00 -8.15 -0.70", "1971 1 1GG88  0.00 -7.02 -0.51", 
"1971 1 1GG89  0.00-11.05  2.15", "1971 1 1GG90  0.00-11.44  7.73", 
"1971 1 1GG91  0.11-11.22  7.26", "1971 1 1GG92  0.00 -4.54  9.87", 
"1971 1 1GG93  0.00 -4.72 10.68", "1971 1 1GG94  0.00 -8.55  9.54", 
"1971 1 1GG95  0.19 -0.79 12.46", "1971 1 1GG96  0.00 -4.79 11.92", 
"1971 1 1GG97  0.00 -5.09 10.64", "1971 1 1GG98  0.00 -4.22 15.50", 
"1971 1 1GG99  0.00 -7.64 11.21", "1971 1 1G100  0.00 -2.79 11.64", 
"1971 1 1G101  0.00 -1.62 13.53", "1971 1 1G102  0.00 -4.37  7.94", 
"1971 1 1G103 13.88 -6.72  5.49", "1971 1 1G104  0.00 -5.19  6.39", 
"1971 1 1G105 15.04 -2.39  6.86", "1971 1 1G106  0.00-12.08 -1.34", 
"1971 1 1G107  0.00 -5.80  9.32", "1971 1 1G108  0.00-12.17 10.07", 
"1971 1 1G109  0.00 -5.83 10.43", "1971 1 1G110  0.00 -6.29  7.37", 
"1971 1 1G111  0.00-10.59  7.34", "1971 1 1G112  0.00 -3.20  9.05", 
"1971 1 1G113  0.00 -7.02 11.55", "1971 1 1G114  1.21 -9.86 -2.75", 
"1971 1 1G115  0.00-14.74  1.11", "1971 1 1G116  0.00 -5.25 -7.93", 
"1971 1 1G117  0.00 -5.38 -4.76", "1971 1 1G118  0.00 -4.13 -0.12", 
"1971 1 1G119  0.00 -8.21 -1.76", "1971 1 1G120  0.00-15.05 -1.92", 
"1971 1 2GGG1  0.00 -9.93 -0.13", "1971 1 2GGG2  0.00-11.32 -2.16", 
"1971 1 2GGG3  0.00-12.02  0.10", "1971 1 2GGG4  0.92-13.14 -1.17", 
"1971 1 2GGG5  0.19 -8.28 -0.98", "1971 1 2GGG6  0.00 -9.40 -1.68", 
"1971 1 2GGG7  0.00-10.15  4.32", "1971 1 2GGG8  0.30-11.11  4.24", 
"1971 1 2GGG9  0.00-12.39 -4.05", "1971 1 2GG10  0.00-11.47 -6.93", 
"1971 1 2GG11  0.00 -8.63 -2.02", "1971 1 2GG12  0.00-15.46 -1.03", 
"1971 1 2GG13  0.00-13.92 -3.91", "1971 1 2GG14  0.00 -9.83  0.18", 
"1971 1 2GG15  0.00-12.03 -4.69", "1971 1 2GG16  0.00 -6.67  2.08", 
"1971 1 2GG17  0.00 -6.25  5.27", "1971 1 2GG18  0.00-12.58 -3.52", 
"1971 1 2GG19  0.00 -5.30  3.12", "1971 1 2GG20  0.00 -6.87 -4.64", 
"1971 1 2GG21  0.00 -4.62  6.34", "1971 1 2GG22  0.15 -5.88  5.35", 
"1971 1 2GG23  0.00 -7.02  2.15", "1971 1 2GG24  0.12-13.33 -2.68", 
"1971 1 2GG25  0.00 -2.34 10.02", "1971 1 2GG26  0.00 -6.57  2.30", 
"1971 1 2GG27  0.00 -4.73 -0.28", "1971 1 2GG28  0.00 -6.22 -1.39", 
"1971 1 2GG29  0.00 -8.91 20.70", "1971 1 2GG30  0.00-15.40  0.53", 
"1971 1 2GG31  0.00 -8.71 18.24", "1971 1 2GG32  0.00-13.01  5.36", 
"1971 1 2GG33  0.00 -8.09 10.58", "1971 1 2GG34  0.00 -9.32  6.58", 
"1971 1 2GG35  0.31-17.87 -7.52", "1971 1 2GG36  0.00-14.72  1.90", 
"1971 1 2GG37  0.00 -8.50  8.82", "1971 1 2GG38  0.00 -9.26  5.61", 
"1971 1 2GG39  0.00-13.47  1.98", "1971 1 2GG40  0.00-18.61 -6.15", 
"1971 1 2GG41  0.00-10.59 13.95", "1971 1 2GG42  0.00-10.94  9.05", 
"1971 1 2GG43  0.00-13.32 13.60", "1971 1 2GG44  0.00-15.20 12.57", 
"1971 1 2GG45  0.00-15.69  2.25", "1971 1 2GG46  1.84-14.36  3.01", 
"1971 1 2GG47  0.00-10.36  5.18", "1971 1 2GG48  0.00 -6.97 -0.76", 
"1971 1 2GG49  0.00-11.56 -1.59", "1971 1 2GG50  0.88-11.91 -8.33", 
"1971 1 2GG51  0.44-11.14  6.07", "1971 1 2GG52  0.21-11.67 -1.25", 
"1971 1 2GG53  0.00-11.30 -2.55", "1971 1 2GG54  0.00-11.88  2.89", 
"1971 1 2GG55  0.00 -6.06 -4.93", "1971 1 2GG56  0.00-10.40 -0.51", 
"1971 1 2GG57  0.00 -9.97 -3.60", "1971 1 2GG58  0.00 -8.23  3.14", 
"1971 1 2GG59  0.00 -9.93  1.70", "1971 1 2GG60  0.00-13.92  4.15", 
"1971 1 2GG61  0.00-12.03-10.30", "1971 1 2GG62  0.00 -7.33 -4.22", 
"1971 1 2GG63  0.00-11.55-13.21", "1971 1 2GG64  0.00-12.16-12.32", 
"1971 1 2GG65  0.00 -9.60-11.10", "1971 1 2GG66  0.00-10.90 -6.06", 
"1971 1 2GG67  0.00-12.19-12.06", "1971 1 2GG68  0.00-15.60 -8.34", 
"1971 1 2GG69  0.00 -3.31  0.27", "1971 1 2GG70  0.00-15.22 -5.89", 
"1971 1 2GG71  0.00 -8.63 -5.90", "1971 1 2GG72  0.00-14.99  3.00", 
"1971 1 2GG73  0.00-11.75 -3.75", "1971 1 2GG74  0.00-11.97-12.86", 
"1971 1 2GG75  0.00-12.25 -3.46", "1971 1 2GG76  0.00-11.76-12.13", 
"1971 1 2GG77  0.00-11.49 -9.43", "1971 1 2GG78  0.00-14.66 -8.56", 
"1971 1 2GG79  0.00-15.49 -7.10", "1971 1 2GG80  0.00-14.48-16.07", 
"1971 1 2GG81  0.11-12.21-15.29", "1971 1 2GG82  0.00-17.10-16.05", 
"1971 1 2GG83  0.00-15.24-10.19", "1971 1 2GG84  0.00-10.14 -9.20", 
"1971 1 2GG85  0.00 -7.62 -0.03", "1971 1 2GG86  0.10-10.68-11.16", 
"1971 1 2GG87  0.40-20.02-14.83", "1971 1 2GG88  0.00-13.17 -4.92", 
"1971 1 2GG89  0.00-15.42 -1.34", "1971 1 2GG90  0.00 -8.75  0.07", 
"1971 1 2GG91  0.24-11.55 -3.52", "1971 1 2GG92  0.00-11.53  1.77", 
"1971 1 2GG93  0.00 -8.91  0.84", "1971 1 2GG94  0.00-11.88  7.64", 
"1971 1 2GG95  0.24 -7.16 -0.89", "1971 1 2GG96  0.00-15.64  2.48", 
"1971 1 2GG97  0.00-11.90  2.21", "1971 1 2GG98  0.00-10.73  6.50", 
"1971 1 2GG99  0.00 -8.61 -2.58", "1971 1 2G100  0.00-11.06 -3.27", 
"1971 1 2G101  0.00 -9.02 -5.16", "1971 1 2G102  0.00-10.17-14.01", 
"1971 1 2G103  0.16-15.32 -9.94", "1971 1 2G104  0.00-11.31 -9.86", 
"1971 1 2G105  0.00-12.00-15.05", "1971 1 2G106  0.00-20.69 -3.77", 
"1971 1 2G107  0.74-10.42-11.52", "1971 1 2G108  0.00-10.91 -5.03", 
"1971 1 2G109  0.00-11.26 -9.73", "1971 1 2G110  0.00-14.79  2.21", 
"1971 1 2G111  0.00 -9.31 -2.70", "1971 1 2G112  0.00-13.16 -2.77", 
"1971 1 2G113  0.00-12.08 -1.78", "1971 1 2G114  0.28-18.98 -7.20", 
"1971 1 2G115  0.00-21.06 -4.52", "1971 1 2G116  0.00-14.65 -8.84", 
"1971 1 2G117  0.00-13.81-10.56", "1971 1 2G118  0.00-17.12-12.53", 
"1971 1 2G119  0.00-15.07 -8.09", "1971 1 2G120  0.00-20.96 -3.77", 
"1971 1 3GGG1  0.00-16.52  1.85", "1971 1 3GGG2  0.00-16.88 -0.03", 
"1971 1 3GGG3  0.00-22.33 -6.00", "1971 1 3GGG4  0.00-16.25  2.89", 
"1971 1 3GGG5  0.00-18.35 -4.39", "1971 1 3GGG6  0.00-18.79 -5.67", 
"1971 1 3GGG7  0.00-14.16  1.51", "1971 1 3GGG8  0.00-17.76 -0.85", 
"1971 1 3GGG9  0.00-16.45 -6.30", "1971 1 3GG10  0.00-16.25 -6.24", 
"1971 1 3GG11  0.00-23.74-12.63", "1971 1 3GG12  0.00-19.31 -0.52", 
"1971 1 3GG13  0.00-19.13  2.08", "1971 1 3GG14  0.00-24.46 -5.04", 
"1971 1 3GG15  0.00-18.92 -0.13", "1971 1 3GG16  0.00-12.50 -3.54", 
"1971 1 3GG17  0.00-13.29 -2.78", "1971 1 3GG18  0.00-18.98 -4.70", 
"1971 1 3GG19  0.00-13.83 -2.44", "1971 1 3GG20  0.00-25.79-10.25", 
"1971 1 3GG21  0.00-11.34 -0.66", "1971 1 3GG22  0.00-10.11 -2.83", 
"1971 1 3GG23  0.00-15.43 -6.29", "1971 1 3GG24  0.00-23.01-10.25", 
"1971 1 3GG25  0.00-10.67 -0.10", "1971 1 3GG26  0.00-12.69 -0.85", 
"1971 1 3GG27  0.00-12.28  2.12", "1971 1 3GG28  0.00-10.84 -1.60", 
"1971 1 3GG29  0.00-12.87  6.40", "1971 1 3GG30  0.00-17.11-11.62", 
"1971 1 3GG31  0.00-11.18  8.41", "1971 1 3GG32  0.00-15.34 -6.13", 
"1971 1 3GG33  0.30-10.22  4.38", "1971 1 3GG34  0.00 -7.67  0.55", 
"1971 1 3GG35  0.00-23.97-14.95", "1971 1 3GG36  0.00-15.38 -8.96", 
"1971 1 3GG37  0.00-12.40  0.59", "1971 1 3GG38  0.00-16.12 -5.61", 
"1971 1 3GG39  0.00-14.92 -4.53", "1971 1 3GG40  0.00-19.95-24.96", 
"1971 1 3GG41  0.00 -4.98  2.40", "1971 1 3GG42  0.00-13.02 -1.68", 
"1971 1 3GG43  0.00 -8.66 -0.90", "1971 1 3GG44  0.00-18.83 -1.64", 
"1971 1 3GG45  0.00-21.70 -7.68", "1971 1 3GG46  0.00-15.27 -5.41", 
"1971 1 3GG47  0.00-14.05 -0.73", "1971 1 3GG48  0.00-13.93 -5.77", 
"1971 1 3GG49  0.00-16.17 -4.18", "1971 1 3GG50  0.00-16.77 -7.11", 
"1971 1 3GG51  0.00 -7.58 -0.51", "1971 1 3GG52  0.00-12.36 -0.10", 
"1971 1 3GG53  0.00-13.30 -4.58", "1971 1 3GG54  0.00-17.50 -0.17", 
"1971 1 3GG55  0.00-10.87 -4.69", "1971 1 3GG56  0.00-15.65 -4.07", 
"1971 1 3GG57  0.00-10.13 -6.90", "1971 1 3GG58  0.00-10.99 -2.58", 
"1971 1 3GG59  0.00-11.61  0.17", "1971 1 3GG60  0.00-16.23 -2.26", 
"1971 1 3GG61  0.00-23.78 -9.75", "1971 1 3GG62  0.00-18.30-10.07", 
"1971 1 3GG63  0.00-15.22-10.82", "1971 1 3GG64  0.00-26.67 -8.80", 
"1971 1 3GG65  0.00-22.32-11.40", "1971 1 3GG66  0.00-20.75 -9.33", 
"1971 1 3GG67  0.00-21.49 -6.17", "1971 1 3GG68  0.00-20.95 -6.75", 
"1971 1 3GG69  0.00-16.59 -9.57", "1971 1 3GG70  0.00-22.90 -7.87", 
"1971 1 3GG71  0.00-17.54 -7.42", "1971 1 3GG72  0.00-21.58 -5.26", 
"1971 1 3GG73  0.00-13.55 -7.83", "1971 1 3GG74  0.00-21.83 -7.61", 
"1971 1 3GG75  0.00-13.82 -7.70", "1971 1 3GG76  0.00-17.80 -7.74", 
"1971 1 3GG77  0.00-15.44 -7.29", "1971 1 3GG78  0.00-26.86-12.66", 
"1971 1 3GG79  0.00-21.57-18.33", "1971 1 3GG80  0.00-19.76-31.16", 
"1971 1 3GG81  0.00-25.27-24.01", "1971 1 3GG82  0.00-19.48-17.67", 
"1971 1 3GG83  0.00-28.56-21.77", "1971 1 3GG84  0.00-17.78-15.83", 
"1971 1 3GG85  0.00-21.06 -5.97", "1971 1 3GG86  0.00-20.99-11.87", 
"1971 1 3GG87  0.00-22.14-21.84", "1971 1 3GG88  0.00-11.99 -7.91", 
"1971 1 3GG89  0.00-12.78-10.42", "1971 1 3GG90  0.00-16.86 -5.39", 
"1971 1 3GG91  0.24-17.71 -5.89", "1971 1 3GG92  0.00-18.13 -9.15", 
"1971 1 3GG93  0.00-18.44-11.16", "1971 1 3GG94  0.00 -8.72 -0.58", 
"1971 1 3GG95  0.00-16.33-11.66", "1971 1 3GG96  0.00-23.98-16.25", 
"1971 1 3GG97  0.00-16.74-10.71", "1971 1 3GG98  0.00-18.25-13.33", 
"1971 1 3GG99  0.00-21.98-20.73", "1971 1 3G100  0.00-16.49-18.91", 
"1971 1 3G101  0.00-18.14-13.35", "1971 1 3G102  0.00-21.92-21.30", 
"1971 1 3G103  0.00-24.87-17.26", "1971 1 3G104  0.00-25.17-21.08", 
"1971 1 3G105  0.00-24.43-19.17", "1971 1 3G106  0.00-16.21-14.39", 
"1971 1 3G107  0.10-29.17-19.95", "1971 1 3G108  0.00-28.58-11.97", 
"1971 1 3G109  0.00-26.68-19.91", "1971 1 3G110  0.00-15.17 -7.27", 
"1971 1 3G111  0.00-15.67 -7.13", "1971 1 3G112  0.00-16.41-10.49", 
"1971 1 3G113  0.00-17.01 -7.53", "1971 1 3G114  0.00-18.71-15.00", 
"1971 1 3G115  0.00-16.51-16.38", "1971 1 3G116  0.00-11.14-17.32", 
"1971 1 3G117  0.00-13.07-16.85", "1971 1 3G118  0.00-25.12-21.44", 
"1971 1 3G119  0.00-11.40-13.32", "1971 1 3G120  0.00-17.84-11.70", 
"1971 1 4GGG1  0.00-16.41-11.50", "1971 1 4GGG2  0.00-14.54-12.04", 
"1971 1 4GGG3  0.00-16.56-11.39", "1971 1 4GGG4  0.00-13.64-12.68", 
"1971 1 4GGG5  0.00-14.36 -9.21", "1971 1 4GGG6  0.00-15.84 -6.35", 
"1971 1 4GGG7  0.00-14.43 -7.76", "1971 1 4GGG8  0.00-14.36-13.15", 
"1971 1 4GGG9  0.00-16.85-11.71", "1971 1 4GG10  0.00-13.91 -7.79", 
"1971 1 4GG11  0.00-20.93-15.64", "1971 1 4GG12  0.00-17.45 -8.60", 
"1971 1 4GG13  0.00-13.19 -3.67", "1971 1 4GG14  0.00-18.00-14.84", 
"1971 1 4GG15  0.00-16.38-13.05", "1971 1 4GG16  0.00-10.27-14.51", 
"1971 1 4GG17  0.00 -8.83-10.29", "1971 1 4GG18  0.00-12.94-11.71", 
"1971 1 4GG19  0.00-13.54 -9.55", "1971 1 4GG20  0.00-25.36-18.19", 
"1971 1 4GG21  0.00 -6.97-14.26", "1971 1 4GG22  0.00 -8.44 -9.49", 
"1971 1 4GG23  0.00-15.45-10.71", "1971 1 4GG24  0.00-21.18-15.86", 
"1971 1 4GG25  0.00-11.38-10.29", "1971 1 4GG26  0.00 -7.77-11.42", 
"1971 1 4GG27  4.34 -7.39-12.00", "1971 1 4GG28  0.00-13.22 -9.70", 
"1971 1 4GG29  0.00-12.92-11.16", "1971 1 4GG30  0.00-18.76-12.76", 
"1971 1 4GG31  0.00-13.27 -9.22", "1971 1 4GG32  0.00-13.94 -9.26", 
"1971 1 4GG33  0.00 -9.69-13.98", "1971 1 4GG34  0.00-13.50-11.10", 
"1971 1 4GG35  0.00-25.03 -9.58", "1971 1 4GG36  0.00-17.20-13.59", 
"1971 1 4GG37  0.00-14.93 -9.16", "1971 1 4GG38  0.00-25.30-10.01", 
"1971 1 4GG39  0.00-18.25-14.41", "1971 1 4GG40  0.00-29.68-22.25", 
"1971 1 4GG41  0.00-21.96 -3.32", "1971 1 4GG42  0.00-22.86-14.12", 
"1971 1 4GG43  0.00-15.78 -9.00", "1971 1 4GG44  0.00-21.51-15.96", 
"1971 1 4GG45  0.00-23.04-12.33", "1971 1 4GG46  0.00-15.58 -8.41", 
"1971 1 4GG47  0.00-17.54 -3.44", "1971 1 4GG48  0.00-18.56 -6.02", 
"1971 1 4GG49  0.00-13.34 -3.38", "1971 1 4GG50  0.00-19.55 -3.63", 
"1971 1 4GG51  0.00-17.65 -6.99", "1971 1 4GG52  0.00-15.34 -7.12", 
"1971 1 4GG53  0.00-17.99 -7.59", "1971 1 4GG54  0.00-19.33 -5.80", 
"1971 1 4GG55  0.00-13.61 -1.53", "1971 1 4GG56  0.00-18.51 -4.81", 
"1971 1 4GG57  0.00-18.60 -7.14", "1971 1 4GG58  0.00-18.29 -6.32", 
"1971 1 4GG59  0.00-18.90 -3.90", "1971 1 4GG60  0.00-13.00 -2.62", 
"1971 1 4GG61  0.00-22.11 -4.93", "1971 1 4GG62  0.00-19.34-13.69", 
"1971 1 4GG63  0.00-23.73 -5.29", "1971 1 4GG64  0.00-20.87 -7.81", 
"1971 1 4GG65  0.00-19.49-13.47", "1971 1 4GG66  0.00-17.06-10.01", 
"1971 1 4GG67  0.00-20.76-11.17", "1971 1 4GG68  0.00-20.37 -8.24", 
"1971 1 4GG69  0.00-15.26-11.76", "1971 1 4GG70  0.00-25.95 -3.55", 
"1971 1 4GG71  0.00-23.61 -6.51", "1971 1 4GG72  0.00-22.34 -7.49", 
"1971 1 4GG73  0.00-24.61 -1.74", "1971 1 4GG74  0.00-21.12 -0.14", 
"1971 1 4GG75  0.00-11.79 -2.70", "1971 1 4GG76  0.00-17.31  1.33", 
"1971 1 4GG77  0.00-19.35 -0.41", "1971 1 4GG78  0.00-18.90-13.27", 
"1971 1 4GG79  0.00-26.41-22.36", "1971 1 4GG80  0.00-29.95-25.03", 
"1971 1 4GG81  0.00-21.31-20.98", "1971 1 4GG82  0.00-18.25-14.39", 
"1971 1 4GG83  0.00-23.63-20.31", "1971 1 4GG84  0.00-23.54 -8.82", 
"1971 1 4GG85  0.00-20.43 -5.85", "1971 1 4GG86  0.00-15.32  1.52", 
"1971 1 4GG87  0.00-24.45-13.93", "1971 1 4GG88  0.00-21.04  0.56", 
"1971 1 4GG89  0.00-19.27 -9.12", "1971 1 4GG90  0.00-16.61 -8.00", 
"1971 1 4GG91  0.00-13.00 -8.94", "1971 1 4GG92  0.00-19.52-16.01", 
"1971 1 4GG93  0.00-20.95-20.97", "1971 1 4GG94  0.00-12.86 -8.94", 
"1971 1 4GG95  0.00-18.34-17.80", "1971 1 4GG96  0.00-27.52-23.63", 
"1971 1 4GG97  0.00-15.03-20.09", "1971 1 4GG98  0.00-16.96-18.70", 
"1971 1 4GG99  0.00-28.92-25.38", "1971 1 4G100  0.00-25.56-21.66", 
"1971 1 4G101  0.00-19.86-19.03", "1971 1 4G102  0.00-21.15-23.43", 
"1971 1 4G103  0.00-20.42-20.69", "1971 1 4G104  0.00-24.67-23.27", 
"1971 1 4G105  0.00-21.71-23.51", "1971 1 4G106  0.00-19.82-20.67", 
"1971 1 4G107  0.00-26.08-23.59", "1971 1 4G108  0.00-25.48-19.28", 
"1971 1 4G109  0.00-28.97-23.75", "1971 1 4G110  0.00-14.21-15.92", 
"1971 1 4G111  0.00 -9.66 -9.89", "1971 1 4G112  0.00-17.63-17.87", 
"1971 1 4G113  0.00-15.47-18.62", "1971 1 4G114  0.00-22.40-10.57", 
"1971 1 4G115  0.00-16.63-18.67", "1971 1 4G116  0.00-16.46-23.35", 
"1971 1 4G117  0.00-21.74-18.95", "1971 1 4G118  0.00-26.05-24.33", 
"1971 1 4G119  0.00-14.23-16.48", "1971 1 4G120  0.00-17.76-18.19", 
"1971 1 5GGG1  0.00-22.86 -5.25", "1971 1 5GGG2  0.00-20.09 -9.21", 
"1971 1 5GGG3  0.00-20.54 -9.76", "1971 1 5GGG4  0.00-18.66 -5.72", 
"1971 1 5GGG5  0.10-17.42 -7.73", "1971 1 5GGG6  0.00-18.90 -5.31", 
"1971 1 5GGG7  0.00-22.18 -2.96", "1971 1 5GGG8  0.00-22.00-10.47", 
"1971 1 5GGG9  0.00-15.02 -4.94", "1971 1 5GG10  0.00-14.28 -2.55", 
"1971 1 5GG11  0.00-24.10-10.30", "1971 1 5GG12  0.00-20.41 -4.15", 
"1971 1 5GG13  0.00-11.63 -1.76", "1971 1 5GG14  0.00-20.84 -7.27", 
"1971 1 5GG15  0.00-19.14 -2.75", "1971 1 5GG16  0.00-21.54 -2.49", 
"1971 1 5GG17  0.00-20.54 -2.78", "1971 1 5GG18  0.00-15.10 -0.31", 
"1971 1 5GG19  0.00-19.52 -3.15", "1971 1 5GG20  0.00-30.05 -9.74", 
"1971 1 5GG21  0.00-16.67 -5.62", "1971 1 5GG22  0.00-14.18 -5.57", 
"1971 1 5GG23  0.00-19.52 -4.38", "1971 1 5GG24  0.00-28.02 -5.21", 
"1971 1 5GG25  0.00-19.40 -4.35", "1971 1 5GG26  0.00-18.44 -6.94", 
"1971 1 5GG27  0.00-17.73 -6.23", "1971 1 5GG28  0.00-16.35 -3.03", 
"1971 1 5GG29  0.00-25.60-11.43", "1971 1 5GG30  0.00-23.63 -9.79", 
"1971 1 5GG31  0.00-22.30-12.69", "1971 1 5GG32  0.00-18.89-10.80", 
"1971 1 5GG33  0.00-20.10 -9.13", "1971 1 5GG34  0.00-18.63-10.80", 
"1971 1 5GG35  0.00-17.16-10.29", "1971 1 5GG36  0.00-23.41-11.62", 
"1971 1 5GG37  0.00-15.73 -5.79", "1971 1 5GG38  0.00-22.14-16.68", 
"1971 1 5GG39  0.00-20.35-13.37", "1971 1 5GG40  0.00-24.11-19.04", 
"1971 1 5GG41  0.00-14.91 -7.12", "1971 1 5GG42  0.00-22.39-15.25", 
"1971 1 5GG43  0.00-18.76 -6.14", "1971 1 5GG44  0.00-21.60-12.78", 
"1971 1 5GG45  0.00-20.21 -7.11", "1971 1 5GG46  0.10-19.82 -5.78", 
"1971 1 5GG47  0.00-18.56 -3.60", "1971 1 5GG48  0.00-14.58 -6.48", 
"1971 1 5GG49  0.00-19.78 -8.71", "1971 1 5GG50  0.00-14.01 -9.49", 
"1971 1 5GG51  0.00-13.85 -7.35", "1971 1 5GG52  0.00-18.21 -5.90", 
"1971 1 5GG53  0.00-13.82 -9.44", "1971 1 5GG54  0.00-20.30 -0.27", 
"1971 1 5GG55  0.00-13.53 -5.01", "1971 1 5GG56  0.00-17.58 -0.48", 
"1971 1 5GG57  0.00-15.24 -8.22", "1971 1 5GG58  0.00-18.96 -7.27", 
"1971 1 5GG59  0.00-16.85 -3.07", "1971 1 5GG60  0.00-18.19 -1.81", 
"1971 1 5GG61  0.00-21.96-10.45", "1971 1 5GG62  0.00-29.79-13.49", 
"1971 1 5GG63  0.00-23.06 -7.69", "1971 1 5GG64  0.00-22.42 -7.27", 
"1971 1 5GG65  0.00-25.04-10.96", "1971 1 5GG66  0.00-21.35-14.13", 
"1971 1 5GG67  0.00-23.12-11.65", "1971 1 5GG68  0.00-18.50-12.49", 
"1971 1 5GG69  0.00-21.40 -9.85", "1971 1 5GG70  0.00-26.71 -2.48", 
"1971 1 5GG71  0.00-26.02 -6.04", "1971 1 5GG72  0.00-23.91 -7.64", 
"1971 1 5GG73  0.00-21.91-11.24", "1971 1 5GG74  0.00-16.78 -6.01", 
"1971 1 5GG75  0.00-11.26 -9.76", "1971 1 5GG76  0.00 -9.59 -8.09", 
"1971 1 5GG77  0.00-16.97 -9.14", "1971 1 5GG78  0.00-22.78-18.74", 
"1971 1 5GG79  0.00-31.15-22.53", "1971 1 5GG80  0.00-28.20-25.73", 
"1971 1 5GG81  0.00-27.58-15.12", "1971 1 5GG82  0.00-21.29-20.29", 
"1971 1 5GG83  0.00-24.07-15.02", "1971 1 5GG84  0.00-28.44 -8.95", 
"1971 1 5GG85  0.00-14.02 -7.21", "1971 1 5GG86  0.00-16.12 -3.54", 
"1971 1 5GG87  0.00-31.49-18.90", "1971 1 5GG88  0.00-16.80 -8.93", 
"1971 1 5GG89  0.00-21.69-13.67", "1971 1 5GG90  0.00-24.12-12.29", 
"1971 1 5GG91  0.00-18.64 -6.11", "1971 1 5GG92  0.00-21.98-14.20", 
"1971 1 5GG93  0.00-22.72-19.89", "1971 1 5GG94  0.00-16.32 -6.56", 
"1971 1 5GG95  0.00-17.15-19.70", "1971 1 5GG96  0.00-27.33-22.60", 
"1971 1 5GG97  0.00-18.32-17.36", "1971 1 5GG98  0.00-20.38-21.48", 
"1971 1 5GG99  0.00-16.99-27.30", "1971 1 5G100  0.00-28.30-19.85", 
"1971 1 5G101  0.00-21.32-19.50", "1971 1 5G102  0.00-24.10-20.45", 
"1971 1 5G103  0.00-31.52-17.44", "1971 1 5G104  0.00-31.57-23.13", 
"1971 1 5G105  0.00-25.72-20.26", "1971 1 5G106  0.00-30.85-19.91", 
"1971 1 5G107  0.00-30.43-21.36", "1971 1 5G108  0.00-23.60-25.87", 
"1971 1 5G109  0.00-30.56-23.63", "1971 1 5G110  0.00-22.08-11.30", 
"1971 1 5G111  0.00-19.21-12.03", "1971 1 5G112  0.00-22.27-14.61", 
"1971 1 5G113  0.00-18.38-15.73", "1971 1 5G114  0.00-24.57-17.66", 
"1971 1 5G115  0.00-25.27-17.95", "1971 1 5G116  0.00-20.96-27.03", 
"1971 1 5G117  0.00-31.74-27.82", "1971 1 5G118  0.00-34.53-29.67", 
"1971 1 5G119  0.00-21.42-20.36", "1971 1 5G120  0.00-33.88-29.34", 
"1971 1 6GGG1  0.00-13.72 -9.61", "1971 1 6GGG2  0.00-12.82 -4.82", 
"1971 1 6GGG3  0.00-19.05 -5.76", "1971 1 6GGG4  0.00 -9.24 -7.44", 
"1971 1 6GGG5  0.00-11.58 -2.78", "1971 1 6GGG6  0.00-17.02 -5.08", 
"1971 1 6GGG7  0.00-16.10 -7.52", "1971 1 6GGG8  0.00-17.55-11.85", 
"1971 1 6GGG9  0.00-15.87 -8.40", "1971 1 6GG10  0.00-15.46 -6.60", 
"1971 1 6GG11  0.00-25.14 -8.87", "1971 1 6GG12  0.00-11.75 -6.57", 
"1971 1 6GG13  0.00-12.65 -6.30", "1971 1 6GG14  0.00-16.34 -8.27", 
"1971 1 6GG15  0.00-11.49 -5.70", "1971 1 6GG16  0.00-14.01-10.11", 
"1971 1 6GG17  0.00-16.67-14.63", "1971 1 6GG18  0.00-10.52-10.20", 
"1971 1 6GG19  0.00-14.59-10.92", "1971 1 6GG20  0.00-19.87-12.21", 
"1971 1 6GG21  0.00-11.81-12.86", "1971 1 6GG22  0.00 -8.82-12.09", 
"1971 1 6GG23  0.00-14.09 -8.40", "1971 1 6GG24  0.00-16.37 -4.91", 
"1971 1 6GG25  0.00-16.16 -9.93", "1971 1 6GG26  0.00-12.16-11.80", 
"1971 1 6GG27  0.00-11.43-13.74", "1971 1 6GG28  0.00-14.12-10.62", 
"1971 1 6GG29  0.00-10.53-12.31", "1971 1 6GG30  0.00-15.76-10.49", 
"1971 1 6GG31  0.00-13.36-11.53", "1971 1 6GG32  0.00-17.44-12.79", 
"1971 1 6GG33  0.00-18.07 -8.53", "1971 1 6GG34  0.00-15.75 -7.80", 
"1971 1 6GG35  0.00-22.07-15.77", "1971 1 6GG36  0.00-20.54-11.86", 
"1971 1 6GG37  0.00-20.33 -7.64", "1971 1 6GG38  0.00-19.89-17.90", 
"1971 1 6GG39  0.00-17.16-12.20", "1971 1 6GG40  0.00-26.45-23.08", 
"1971 1 6GG41  0.00-12.68-12.63", "1971 1 6GG42  0.00-19.77-16.24", 
"1971 1 6GG43  0.00 -6.88 -9.78", "1971 1 6GG44  0.00-14.43-13.50", 
"1971 1 6GG45  0.00-22.00-10.05", "1971 1 6GG46  0.00-18.22 -5.28", 
"1971 1 6GG47  0.00-17.54 -6.90", "1971 1 6GG48  0.00-14.05 -7.50", 
"1971 1 6GG49  0.00-21.29 -8.94", "1971 1 6GG50  0.00-17.36 -6.79", 
"1971 1 6GG51  0.00-18.45 -2.98", "1971 1 6GG52  0.00-14.80 -4.64", 
"1971 1 6GG53  0.00-18.60 -7.35", "1971 1 6GG54  0.00-15.41 -5.92", 
"1971 1 6GG55  0.00-14.70 -8.26", "1971 1 6GG56  0.00 -7.91 -6.54", 
"1971 1 6GG57  0.00-15.77 -5.69", "1971 1 6GG58  0.00-14.66 -7.45", 
"1971 1 6GG59  0.00-13.25 -6.38", "1971 1 6GG60  0.00-16.23 -6.87", 
"1971 1 6GG61  0.00-20.13 -9.20", "1971 1 6GG62  0.00-20.72-11.71", 
"1971 1 6GG63  0.00-22.93 -7.37", "1971 1 6GG64  0.00-22.75 -7.07", 
"1971 1 6GG65  0.00-16.04 -7.05", "1971 1 6GG66  0.00-27.39-10.05", 
"1971 1 6GG67  0.00-18.15 -6.19", "1971 1 6GG68  0.00-19.00 -9.71", 
"1971 1 6GG69  0.00-24.41 -9.13", "1971 1 6GG70  0.00-20.42 -8.47", 
"1971 1 6GG71  0.00-21.29 -7.72", "1971 1 6GG72  0.00-20.85 -8.25", 
"1971 1 6GG73  0.00-22.72 -8.70", "1971 1 6GG74  0.21-18.03 -4.71", 
"1971 1 6GG75  0.00-24.48 -5.56", "1971 1 6GG76  0.00-20.16 -8.66", 
"1971 1 6GG77  0.00-17.76 -4.34", "1971 1 6GG78  0.00-27.73-12.21", 
"1971 1 6GG79  0.00-31.87-21.02", "1971 1 6GG80  0.00-32.11-25.40", 
"1971 1 6GG81  0.00-17.48-14.02", "1971 1 6GG82  0.00-35.04-18.44", 
"1971 1 6GG83  0.00-23.81-17.13", "1971 1 6GG84  0.00-24.66 -6.12", 
"1971 1 6GG85  0.00-15.23-10.67", "1971 1 6GG86  0.00-14.85 -4.23", 
"1971 1 6GG87  0.00-36.22-20.88", "1971 1 6GG88  0.00-25.44 -7.20", 
"1971 1 6GG89  0.00-27.02 -9.35", "1971 1 6GG90  0.00-27.35 -9.05", 
"1971 1 6GG91  0.00-17.49 -7.14", "1971 1 6GG92  0.00-22.63-15.59", 
"1971 1 6GG93  0.00-20.19-15.81", "1971 1 6GG94  0.00-13.51 -6.34", 
"1971 1 6GG95  0.00-20.18-14.44", "1971 1 6GG96  0.00-31.16-16.50", 
"1971 1 6GG97  0.00-17.00-16.45", "1971 1 6GG98  0.00-23.08-16.15", 
"1971 1 6GG99  0.00-21.64-24.38", "1971 1 6G100  0.00-31.24-18.67", 
"1971 1 6G101  0.00-25.47-20.05", "1971 1 6G102  0.00-24.01-16.47", 
"1971 1 6G103  0.00-24.91-14.62", "1971 1 6G104  0.00-27.90-15.65", 
"1971 1 6G105  0.00-29.74-17.63", "1971 1 6G106  0.00-30.17-16.07", 
"1971 1 6G107  0.00-26.03-20.59", "1971 1 6G108  0.00-28.87-24.04", 
"1971 1 6G109  0.00-30.57-19.24", "1971 1 6G110  0.00-24.49-10.19", 
"1971 1 6G111  0.00-18.43-11.28", "1971 1 6G112  0.00-24.40-17.47", 
"1971 1 6G113  0.00-23.29-17.32", "1971 1 6G114  1.34-31.95-14.56", 
"1971 1 6G115  0.00-25.91-14.74", "1971 1 6G116  0.00-21.16-18.86", 
"1971 1 6G117  0.00-27.98-23.32", "1971 1 6G118  0.00-37.70-25.59", 
"1971 1 6G119  0.00-22.58-17.38", "1971 1 6G120  0.00-32.45-21.24", 
"1971 1 7GGG1  0.00-19.72-14.16", "1971 1 7GGG2  0.00-13.78-10.75", 
"1971 1 7GGG3  0.00-16.56 -6.17", "1971 1 7GGG4  0.00-15.10-15.44", 
"1971 1 7GGG5  0.00 -7.99 -7.00", "1971 1 7GGG6  0.00-13.34 -7.50", 
"1971 1 7GGG7  0.00-23.13-15.45", "1971 1 7GGG8  0.00-26.93-15.46", 
"1971 1 7GGG9  0.00-18.54-11.77", "1971 1 7GG10  0.11-18.75-10.57", 
"1971 1 7GG11  0.00-19.43 -7.64", "1971 1 7GG12  0.00-16.21-16.33", 
"1971 1 7GG13  0.00-19.28-12.64", "1971 1 7GG14  0.00-14.24 -8.72", 
"1971 1 7GG15  0.00-14.61-11.67", "1971 1 7GG16  0.00-19.65 -7.23", 
"1971 1 7GG17  0.00-22.48-11.56", "1971 1 7GG18  0.00-20.06-10.58", 
"1971 1 7GG19  0.00-21.20 -6.35", "1971 1 7GG20  0.00-20.48 -9.67", 
"1971 1 7GG21  0.00-18.71-13.79", "1971 1 7GG22  0.00-16.64-10.63", 
"1971 1 7GG23  0.00-15.15 -7.33", "1971 1 7GG24  0.00-13.97 -6.43", 
"1971 1 7GG25  0.00-21.27-14.00", "1971 1 7GG26  0.00-17.64-11.88", 
"1971 1 7GG27  0.00-18.50 -9.70", "1971 1 7GG28  1.53-17.16-11.58", 
"1971 1 7GG29  0.00-26.04-14.51", "1971 1 7GG30  0.00-17.43-13.71", 
"1971 1 7GG31  0.00-18.87-15.37", "1971 1 7GG32  0.00-20.21-14.36", 
"1971 1 7GG33  0.00-21.77-16.49", "1971 1 7GG34  0.00-20.32-12.41", 
"1971 1 7GG35  0.00-19.26-14.94", "1971 1 7GG36  0.00-14.64-15.20", 
"1971 1 7GG37  0.00-22.93-14.00", "1971 1 7GG38  0.00-17.99-17.46", 
"1971 1 7GG39  0.00-21.92 -8.77", "1971 1 7GG40  0.00-21.17-20.10", 
"1971 1 7GG41  0.00-17.92-12.33", "1971 1 7GG42  0.00-22.53-14.77", 
"1971 1 7GG43  0.00-18.80 -8.27", "1971 1 7GG44  0.00-18.50-12.54", 
"1971 1 7GG45  0.00-23.81-10.12", "1971 1 7GG46  0.00-10.19 -9.55", 
"1971 1 7GG47  0.00-17.44 -9.06", "1971 1 7GG48  0.00-13.12-10.11", 
"1971 1 7GG49  0.00-14.13 -8.55", "1971 1 7GG50  0.00-18.01 -7.35", 
"1971 1 7GG51  0.00-16.35 -4.55", "1971 1 7GG52  0.00-12.32 -7.52", 
"1971 1 7GG53  0.00-15.23 -8.95", "1971 1 7GG54  0.00-15.06 -7.44", 
"1971 1 7GG55  0.00-14.07 -8.49", "1971 1 7GG56  0.00-14.85 -6.80", 
"1971 1 7GG57  0.00-17.03 -9.85", "1971 1 7GG58  0.00-18.71 -9.11", 
"1971 1 7GG59  0.00-14.16 -8.86", "1971 1 7GG60  0.00-17.41-10.54", 
"1971 1 7GG61  0.00-15.46-12.28", "1971 1 7GG62  0.00-18.46 -7.80", 
"1971 1 7GG63  0.00-16.43 -7.55", "1971 1 7GG64  0.00-19.98 -8.85", 
"1971 1 7GG65  0.00-16.97 -7.91", "1971 1 7GG66  0.00-17.61-12.29", 
"1971 1 7GG67  0.00-12.33 -7.88", "1971 1 7GG68  0.00-15.20-10.68", 
"1971 1 7GG69  0.00-21.92 -7.91", "1971 1 7GG70  0.00-20.05-10.88", 
"1971 1 7GG71  0.00-17.53 -8.63", "1971 1 7GG72  0.00-16.73-12.26", 
"1971 1 7GG73  0.00-18.26 -6.23", "1971 1 7GG74  0.00-13.20 -6.70", 
"1971 1 7GG75  0.00-16.30 -5.41", "1971 1 7GG76  0.00-11.47 -8.15", 
"1971 1 7GG77  0.00 -9.89 -6.73", "1971 1 7GG78  0.20-21.21-14.01", 
"1971 1 7GG79  0.00-27.06-20.53", "1971 1 7GG80  0.00-27.00-24.18", 
"1971 1 7GG81  0.00-23.57-14.67", "1971 1 7GG82  0.00-22.48-19.02", 
"1971 1 7GG83  0.00-29.42-18.39", "1971 1 7GG84  0.00-17.57 -9.66", 
"1971 1 7GG85  0.00 -8.74-10.94", "1971 1 7GG86  0.00-11.27 -8.36", 
"1971 1 7GG87  0.00-24.64-19.28", "1971 1 7GG88  0.00-24.98 -6.19", 
"1971 1 7GG89  0.00-19.19 -8.77", "1971 1 7GG90  0.00-22.92-10.24", 
"1971 1 7GG91  0.00-18.23 -6.82", "1971 1 7GG92  0.00-23.24 -8.59", 
"1971 1 7GG93  0.00-20.79 -5.76", "1971 1 7GG94  0.00-19.26 -5.06", 
"1971 1 7GG95  0.00-25.66 -9.22", "1971 1 7GG96  0.00-29.90 -9.71", 
"1971 1 7GG97  0.00-20.34 -5.13", "1971 1 7GG98  0.00-21.01 -8.79", 
"1971 1 7GG99  0.00-26.03 -9.98", "1971 1 7G100  0.00-27.81 -9.16", 
"1971 1 7G101  0.00-30.19 -6.58", "1971 1 7G102  0.00-18.98 -8.15", 
"1971 1 7G103  0.00-23.02-10.54", "1971 1 7G104  0.00-29.35 -9.30", 
"1971 1 7G105  0.00-29.03 -7.99", "1971 1 7G106  0.00-26.07-12.02", 
"1971 1 7G107  0.00-29.85-10.43", "1971 1 7G108  0.00-28.14-11.21", 
"1971 1 7G109  0.00-31.79 -8.87", "1971 1 7G110  0.00-15.18 -9.86", 
"1971 1 7G111  0.00-14.84-10.51", "1971 1 7G112  0.00-24.09 -9.49", 
"1971 1 7G113  0.00-20.26 -9.74", "1971 1 7G114  0.00-21.61-15.25", 
"1971 1 7G115  0.00-15.76-12.42", "1971 1 7G116  0.00-24.84-23.48", 
"1971 1 7G117  0.00-26.76-22.68", "1971 1 7G118  0.00-27.32-21.52", 
"1971 1 7G119  0.00-17.06-16.10", "1971 1 7G120  0.00-25.24-18.54", 
"1971 1 8GGG1  0.52 -8.82-12.99", "1971 1 8GGG2  0.00 -8.15 -9.43", 
"1971 1 8GGG3  0.00-14.15 -7.46", "1971 1 8GGG4  0.00 -7.99-10.21", 
"1971 1 8GGG5  0.00-10.95 -7.35", "1971 1 8GGG6  0.00-10.73 -5.78", 
"1971 1 8GGG7  0.00-17.87-13.26", "1971 1 8GGG8  0.00-11.25-12.14", 
"1971 1 8GGG9  0.00 -7.71 -7.57", "1971 1 8GG10  0.00 -5.96 -8.39", 
"1971 1 8GG11  0.00-12.18 -9.80", "1971 1 8GG12  0.00 -5.65-11.28", 
"1971 1 8GG13  0.00 -8.64-10.11", "1971 1 8GG14  0.00-16.86 -9.24", 
"1971 1 8GG15  0.00 -7.62 -8.22", "1971 1 8GG16  0.00 -9.12 -8.42", 
"1971 1 8GG17  0.00-14.96-11.73", "1971 1 8GG18  0.00 -7.98 -9.49", 
"1971 1 8GG19  0.00 -9.69 -8.99", "1971 1 8GG20  0.00-15.88-11.19", 
"1971 1 8GG21  0.00-17.05-10.89", "1971 1 8GG22  0.00-12.61 -7.54", 
"1971 1 8GG23  0.00-10.31 -7.41", "1971 1 8GG24  0.00-10.61-10.84", 
"1971 1 8GG25  0.00-14.80-10.73", "1971 1 8GG26  0.00-12.89 -6.80", 
"1971 1 8GG27  0.00 -8.32 -7.55", "1971 1 8GG28  0.00 -7.69 -6.08", 
"1971 1 8GG29  0.00-16.26-15.35", "1971 1 8GG30  0.00-11.48 -8.62", 
"1971 1 8GG31  0.00-14.38-14.59", "1971 1 8GG32  0.00 -8.84-10.86", 
"1971 1 8GG33  0.00-11.31 -8.36", "1971 1 8GG34  0.00 -9.35 -6.17", 
"1971 1 8GG35  0.00 -7.08 -6.07", "1971 1 8GG36  0.00 -7.35 -8.72", 
"1971 1 8GG37  0.00-16.81 -8.52", "1971 1 8GG38  0.16-21.22-11.34", 
"1971 1 8GG39  0.00-15.12-10.88", "1971 1 8GG40  0.00-11.81-10.35", 
"1971 1 8GG41  0.00-10.33 -2.93", "1971 1 8GG42  0.00-20.96-10.93", 
"1971 1 8GG43  0.00 -4.48 -6.94", "1971 1 8GG44  0.00 -9.91-11.60", 
"1971 1 8GG45  1.61-10.67 -7.68", "1971 1 8GG46  0.00 -6.14 -5.31", 
"1971 1 8GG47  0.00-20.40 -5.32", "1971 1 8GG48  0.00-19.76 -7.21", 
"1971 1 8GG49  0.00-12.62 -6.26", "1971 1 8GG50  2.03 -8.04 -8.00", 
"1971 1 8GG51  0.00-19.30 -6.75", "1971 1 8GG52  0.00-17.53 -4.90", 
"1971 1 8GG53  0.00-15.38 -8.50", "1971 1 8GG54  0.00-14.95 -8.08", 
"1971 1 8GG55  0.00-12.51-11.02", "1971 1 8GG56  0.00-18.34 -7.44", 
"1971 1 8GG57  0.00-13.25 -8.63", "1971 1 8GG58  0.00-18.36 -5.72", 
"1971 1 8GG59  0.00-20.45 -8.17", "1971 1 8GG60  0.00-19.79 -5.55", 
"1971 1 8GG61  0.00-16.70-10.56", "1971 1 8GG62  0.00-13.50-11.63", 
"1971 1 8GG63  0.00 -9.26 -9.83", "1971 1 8GG64  0.00-10.19 -5.91", 
"1971 1 8GG65  0.00-11.65-10.19", "1971 1 8GG66  0.00-15.19 -7.02", 
"1971 1 8GG67  0.00-13.11 -9.19", "1971 1 8GG68  0.00-15.68-15.12", 
"1971 1 8GG69  0.00-15.24-11.41", "1971 1 8GG70  0.00-17.16 -5.47", 
"1971 1 8GG71  0.00-12.13 -9.38", "1971 1 8GG72  0.00-24.45 -8.92", 
"1971 1 8GG73  0.00-13.70 -3.91", "1971 1 8GG74  0.00-11.41 -7.34", 
"1971 1 8GG75  0.00-15.56 -2.72", "1971 1 8GG76  0.00-10.33 -6.15", 
"1971 1 8GG77  0.00-12.97 -9.15", "1971 1 8GG78  0.00-15.55 -9.39", 
"1971 1 8GG79  0.00-15.25 -8.01", "1971 1 8GG80  0.00-31.36-15.25", 
"1971 1 8GG81  0.00-21.95 -9.86", "1971 1 8GG82  0.00-25.18-13.15", 
"1971 1 8GG83  0.00-25.33-14.15", "1971 1 8GG84  0.00-19.11 -8.27", 
"1971 1 8GG85  0.00-15.43 -4.79", "1971 1 8GG86  0.00 -8.33 -7.48", 
"1971 1 8GG87  0.00-27.52-12.52", "1971 1 8GG88  0.00-21.30 -5.22", 
"1971 1 8GG89  0.00-14.45-10.75", "1971 1 8GG90  0.00-15.19 -6.89", 
"1971 1 8GG91  0.00-15.81 -5.03", "1971 1 8GG92  0.00-14.26 -7.98", 
"1971 1 8GG93  0.00-13.90-11.03", "1971 1 8GG94  0.00-20.99 -9.83", 
"1971 1 8GG95  0.00-14.62-12.60", "1971 1 8GG96  0.00-24.63-11.72", 
"1971 1 8GG97  0.00-11.73-10.12", "1971 1 8GG98  0.00-18.30-13.60", 
"1971 1 8GG99  0.00-16.03-13.33", "1971 1 8G100  0.00-21.05-11.34", 
"1971 1 8G101  0.00-16.64-11.46", "1971 1 8G102  0.00-11.64-13.22", 
"1971 1 8G103  0.00-16.60-12.60", "1971 1 8G104  0.00-20.00 -7.75", 
"1971 1 8G105  0.00-15.10-10.28", "1971 1 8G106  0.00-19.21-11.95", 
"1971 1 8G107  0.00-15.91 -7.70", "1971 1 8G108  0.00-15.05-13.87", 
"1971 1 8G109  0.00-13.18 -9.58", "1971 1 8G110  0.00-17.82-11.81", 
"1971 1 8G111  0.00-11.29 -8.49", "1971 1 8G112  0.00-13.39-10.49", 
"1971 1 8G113  0.00-15.25 -9.80", "1971 1 8G114  0.10-24.97-13.28", 
"1971 1 8G115  0.00-17.06 -8.99", "1971 1 8G116  0.00-34.06-20.00", 
"1971 1 8G117  0.00-29.92-17.96", "1971 1 8G118  0.00-27.16-14.45", 
"1971 1 8G119  0.00-24.79-19.11", "1971 1 8G120  0.15-24.52-17.37", 
"1971 1 9GGG1  0.00-20.49-13.47", "1971 1 9GGG2  0.00-17.73-10.87", 
"1971 1 9GGG3  0.00-18.44-16.84", "1971 1 9GGG4  0.00-18.16-14.79", 
"1971 1 9GGG5  0.00-24.01-15.93", "1971 1 9GGG6  0.00-18.21-12.37", 
"1971 1 9GGG7  0.00-17.94-19.30", "1971 1 9GGG8  0.00-18.51-14.07", 
"1971 1 9GGG9  0.00-13.71-17.01", "1971 1 9GG10  0.10-15.29-15.46", 
"1971 1 9GG11  0.00-18.69-15.79", "1971 1 9GG12  0.00-14.34-17.41", 
"1971 1 9GG13  0.00-13.55-17.04", "1971 1 9GG14  0.00-22.77-15.57", 
"1971 1 9GG15  0.00-13.70-18.17", "1971 1 9GG16  0.00-13.00-11.75", 
"1971 1 9GG17  0.00-18.82-11.74", "1971 1 9GG18  0.00-14.45-16.14", 
"1971 1 9GG19  0.00 -9.43-16.56", "1971 1 9GG20  0.00-22.20-12.81", 
"1971 1 9GG21  0.00-17.16-10.77", "1971 1 9GG22  0.00-18.45-12.22", 
"1971 1 9GG23  0.00-11.15-17.75", "1971 1 9GG24  0.00-18.59 -8.48", 
"1971 1 9GG25  0.00-23.86-16.04", "1971 1 9GG26  0.00-16.40-12.21", 
"1971 1 9GG27  0.00-19.89-13.52", "1971 1 9GG28  0.24-12.90-13.83", 
"1971 1 9GG29  0.00-22.99-16.61", "1971 1 9GG30  0.00-14.12 -9.60", 
"1971 1 9GG31  0.00-22.84-16.52", "1971 1 9GG32  0.00-17.42-11.11", 
"1971 1 9GG33  0.00-18.01-15.11", "1971 1 9GG34  0.00-14.37-15.03", 
"1971 1 9GG35  0.00-15.25-19.38", "1971 1 9GG36  0.00-12.19 -9.92", 
"1971 1 9GG37  0.00-19.20-17.27", "1971 1 9GG38  0.00-32.65-12.48", 
"1971 1 9GG39  0.00-24.11-16.09", "1971 1 9GG40  0.00-23.44-22.70" 
))



Here is a code for processing a thousand of these kind of files:
#===================================================================================================================
lst1Sub <- data_above

lst2 <- lapply(lst1Sub,function(x) {dateSite <- gsub("(.*G.{3}).*","\\1",x); 
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? dat1 <- data.frame(Year=as.numeric(substr(dateSite,1,4)), Month=as.numeric(substr(dateSite,5,6)),Day=as.numeric(substr(dateSite,7,8)),Site=substr(dateSite,9,12),stringsAsFactors=FALSE); 
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims <- str_trim(gsub(".*G.{3}\\s?(.*)","\\1",x));Sims[grep("\\d+-",Sims)] <- gsub("(.*)([- ][0-9]+\\.[0-9]+)","\\1 \\2",gsub("^([0-9]+\\.[0-9]+)(.*)","\\1 \\2", Sims[grep("\\d+-",Sims)])); 
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims1 <- read.table(text=Sims,header=FALSE); names(Sims1) <- c("Precipitation", "Tmin", "Tmax");dat2 <- cbind(dat1,Sims1)}) 
#=========================================================================================================================

1) Please use this code to free up memory considering that I am working on 1000 files, so I am in for speed.
2) Is there a faster way of doing the same task as above? My data files are simulated in FORTRAN and read as:

data.frame(Day=as.numeric(substr(rain.data,7,8)), 
? ? ? ? ? ? ? ? ? ? ? ? ?Month=as.numeric(substr(rain.data,5,6)), 
? ? ? ? ? ? ? ? ? ? ? ? ?Year=as.numeric(substr(rain.data,1,4)), 
? ? ? ? ? ? ? ? ? ? ? ? ?Site=substr(rain.data,9,12), 
? ? ? ? ? ? ? ? ? ? ? ? Precip=as.numeric(substr(rain.data,13,18)), 
? ? ? ? ? ? ? ? ? ? ? ? Tmin=as.numeric(substr(rain.data,19,24)), 
? ? ? ? ? ? ? ? ? ? ? ? Tmax=as.numeric(substr(rain.data,25,30))) 
#### Day occupies position 7 and 8, Month occupies position 5 and 6, Year occupies position 1 to 4 and so on for site, precip, ####tmin and tmax

Thanks for your great help.
Zilefac.


From rshepard at appl-ecosys.com  Tue May 13 01:03:54 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Mon, 12 May 2014 16:03:54 -0700 (PDT)
Subject: [R] Nonparametric MANOVA
Message-ID: <alpine.LNX.2.11.1405121536150.24030@localhost>

   I read a short thread on this topic from last June on stackoverflow.com.
Both Bryan Hanson and Ben Bolker suggested looking for such functions using
the sos package. I did this; the nonpartest function in npmv does not look
to me like it does what I need. Since that thread did not reach a definitive
conclusion (no response by the original poster) I would like to continue my
search here.

   Context: water quality constituent concentrations measured multiple times
from each of several monitoring wells with the latter in two groups: up- and
down-gradient from a site of potential ground water contamination.

   To compare variation within individual monitoring wells with variation
between the wells I'd use the Kruskal-Wallis test. That would also be
appropriate to compare variation within each group (up-gradient and
down-gradient) with variation between the two groups. My understanding of
multiple analysis of variance is this would allow multiple sources of
variability (intra-well and between wells) as explanatory variables for the
response variable of a specified chemical constituent.

   The help page for nonpartest() tells me that it analyzes one-way
multivariate data. Perhaps my understanding of this is poor, but the help
page tells me that nonpartest() formula has a single explanatory variable
and multiple response variables. In the context above, I have a single
response variable (a chemical constituent concentration) and multiple
explanatory variables (at least date, well, and location).

   Please confirm that my understanding of nonpartest() is correct and
suggest an appropriate R protocol to analyze concentration variability
within monitoring wells and between two well locations (up- and
down-gradient).

TIA,

Rich


From dulcalma at bigpond.com  Tue May 13 02:13:24 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Tue, 13 May 2014 10:13:24 +1000
Subject: [R] package to plot mean and standard deviation directly on data
In-Reply-To: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
References: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
Message-ID: <001201cf6e40$28e7dcc0$7ab79640$@bigpond.com>

Hi Luigi

I have not got time at the moment to look at you question but see

library(xyplot)
demo(intervals)

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au



-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of Luigi Marongiu
Sent: Tuesday, 13 May 2014 03:50
To: r-help at r-project.org
Subject: [R] package to plot mean and standard deviation directly on data

 Dear all,
is there a package, preferably not ggplot, to draw the lines for the
standard deviation just by providing the vector with the data? more or
less as it happens with the boxplot function.
the procedure i implemented herein requires the calculation of the
means, standard deviations, limits (mean+/-SD) and the horizontal bars
as well, everything plotted individually. the packages i have seen on
google they all require to calculate the mean/SD prior to the plot.
best wishes,
luigi


# in case you are interested this is the code, which is faulty for the
factor of the variable "sample"

my.data<-structure(list(
group = c(
0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
sample = c(
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
copy = c(
626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
40.15, 34.27, 26.93, 24.8)),
 row.names = c(NA, -36L),  class = "data.frame")
# define subset
A<-subset(my.data, group==0)
# define average and standard deviation
avg.A<-aggregate(copy ~ sample, A, mean)
names(avg.A)<-c("samp.", "avg")
sd.A<-aggregate(copy ~ sample, A, sd)
names(sd.A)<-c("Samp", "sd")
A.bound<-merge(avg.A, sd.A, by.x="samp.", by.y="Samp")
# define limits
min.A<-A.bound$avg - A.bound$sd
max.A<-A.bound$avg + A.bound$sd
# plot
plot(avg  ~ samp., data=avg.A,  pch=16, ylim=c(-10, 600),
las=3, cex.lab=1.5, cex.main=1.8, col="black",
ylab=expression(bold("copy")),
xlab=expression(bold("sample")),
main="Mean and std dev")
# add limit segments
segments(seq(length(avg.A$sample)), max.A, seq(length(avg.A$sample)),
min.A)
segments(seq(length(avg.B$sample)), max.B, seq(length(avg.B$sample)),
min.B)
# add notch
notch<-0.02  # define end of bar extension
segments(seq(length(avg.A$sample))-notch, max.A,
seq(length(avg.A$sample))+notch,  max.A)
segments(seq(length(avg.A$sample))-notch, min.A,
seq(length(avg.A$sample))+notch,  min.A)

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From dulcalma at bigpond.com  Tue May 13 02:27:45 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Tue, 13 May 2014 10:27:45 +1000
Subject: [R] set axis limit in lattice
In-Reply-To: <CAMk+s2RSWLg18xrMPga9TNFe12Mi4HQPSLibZbTK50qXnOXzHw@mail.gmail.com>
References: <CAMk+s2Q88uNjabzeTGiZeHE4vzWczREaB25BVFt1Bzc=epTxpA@mail.gmail.com>	<000601cf6400$f927dab0$eb779010$@bigpond.com>	<CAMk+s2SUaxCCVttFHTbcHBx+m+dfbxGUCRNG4VbvPcAOf8P_eA@mail.gmail.com>	<001201cf64e1$27dda4d0$7798ee70$@bigpond.com>	<CAMk+s2Sc1k8sOq0zNwG9L=6hjgz8aKMmmVH31AFZqXUBYiPy=Q@mail.gmail.com>	<000f01cf6b3d$8be2d6f0$a3a884d0$@bigpond.com>
	<CAMk+s2RSWLg18xrMPga9TNFe12Mi4HQPSLibZbTK50qXnOXzHw@mail.gmail.com>
Message-ID: <001601cf6e42$29622af0$7c2680d0$@bigpond.com>

Hi Luigi

Your key code was not included. That?s why I always put the key code with the key argument and the same for trellis.par.get() in panel.settings

Your ratio was a character variable and would not plot

When all else fails I get back to basics eg

str(my.data)
my.data$ratio <- as.numeric(my.data$ratio)
> stripplot(ratio ~ factor(igra)|factor(stimulus,
+  levels = c("a", "b", "c", "d", "e", "f", "g", "h")),
+  group = igra,
+       my.data,
+       hor=F,
+       layout = c(8,1)
+ )

See how things go now

Duncan


-----Original Message-----
From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com] 
Sent: Tuesday, 13 May 2014 02:28
To: Duncan Mackay
Subject: Re: [R] set axis limit in lattice

Dear Duncan,
I believed I have isolated the error in my script: is not actually the
script to be wrong, but simply missing values within the variable I
was analyzing. in the dataset I sent you before I have two numerical
variables: copy and ratio. the first generates the graph exactly as
required, but if i plot the ratios, the segments are not displayed.
is there a way to eliminates the empty values? I tried with a na.rm =
T in the panel.groups = function(x, y, ...) and panel.stripplot(x, y,
...) calls, but without success.
any tip?

Thank you for the nth time
Best regards
Luigi


# code:
my.data<-structure(list(
patient =
 c(
1, 1, 1, 1, 1, 1, 1,
2, 2, 2, 2, 2, 2, 2,
3, 3, 3, 3, 3, 3, 3,
4, 4, 4, 4, 4, 4, 4,
5, 5, 5, 5, 5, 5, 5,
6, 6, 6, 6, 6, 6, 6,
7, 7, 7, 7, 7, 7, 7,
8, 8, 8, 8, 8, 8, 8,
9, 9, 9, 9, 9, 9, 9,
10, 10, 10, 10, 10, 10, 10,
11, 11, 11, 11, 11, 11, 11,
12, 12, 12, 12, 12, 12, 12,
13, 13, 13, 13, 13, 13, 13,
14, 14, 14, 14, 14, 14, 14,
15, 15, 15, 15, 15, 15, 15,
16, 16, 16, 16, 16, 16, 16,
17, 17, 17, 17, 17, 17, 17,
18, 18, 18, 18, 18, 18, 18,
19, 19, 19, 19, 19, 19, 19),
stimulus = structure(
 c(
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7,
1, 2, 3, 4, 5, 6, 7), .Label = c("a", "b", "c", "d", "e", "f", "g"),
class = "factor"),
ratio =
 c(
0.5, 3.046, 1.833, "", 0.5,
"", "", 509.5, 991, 689.6, 1285,
683.7, 468.7, 47.08, 4.707,
11.93, 1.194, 0.9422, 1.533,
1.221, 4.201, 1.339, 1.402,
0.8802, 0.7443, 1.074, 1.455,
1.31, "", "", "", "", "", "", "",
1.453, 1.212, 1.114, 1.118,
0.4815, 0.774, 0.6342, "", "",
"", "", "", "", "", 8.534, 2.733,
"", 11.18, 10.41, 0.7532, "",
15.85, 3.287, 1.016, 1.871,
10.55, 0.0271, 1.021, "", "",
"", "", "", "", "", 250.9, 399.1,
959.4, 1.994, 589.2, 5.366,
48.27, 10.32, "", 3.33, "", 1,
"", 1, "", "", "", "", "", "",
"", "", "", "", "", "", "", "",
"", "", "", "", "", "", "", 0.0385,
7.34, 1.283, 1.39, 0.5383, 0.7582,
8.927, 1.11, 2.293, 2.967, 0.5916,
0.6583, 0.6642, 1.741, 2.924,
520.8, 1809, 246.3, 9.509, 149,
2345, "", "", "", "", "", "", 0),
igra = c(
0, 0, 0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 0),
copy = c(
20.41948227, 12.3610523, 711783.1408,
0, 8.41948261, 0, 19414.73125,
26586.96616, 21069.03039, 55244.5537,
29950.52194, 14191.45894, 4921.598445,
252.8142804, 49.32538755, 17.73442927,
39.27134343, 87.32352071, 16.14534354,
7.865792953, 270.498612, 353.9186557,
120.5907622, 164.5453198, 298.5956386,
316.6322911, 397.5854328, 890.7536693,
19372.09849, 402.4608222, 344.6323822,
0, 289.4324029, 973.6568538, 48.21785613,
28.92271826, 85.70103824, 55.82984865,
96.36313044, 167.3926449, 96.76142763,
329314.8959, 0.297018269, 8.750954723,
0, 0, 123781.3067, 0, 37.70119817,
12.23762742, 9.646257035, 49.22833393,
45.87457312, 0, 24.45326923, 32671.70213,
1585.752121, 1174.13233, 1873.410022,
9580.233901, 56.46155358, 774.397583,
 11786.89182, 30729.7153, 7028.446254,
2163.865049, 5576.189471, 2593.364485,
11324.02438, 13731.67912, 2303.618988,
18332.90754, 19.18572137, 37525.00296,
263.9788119, 2151.347561, 34.37662767,
0, 11.23989372, 0, 0, 0, 0,
3.423728027, 0, 0, 711783.1408,
0, 0, 3.423728027, 37.5844984, 0,
7.467256392, 4.767843998, 0, 7.160960591,
0, 0.950504268, 38.34816271, 571.0440441,
206.1038868, 131.4781753, 1.157851512,
0.843998323, 5.466468742, 291.9564635,
80.73914133, 73.02239621, 64.47806871,
144.3543635, 3167.959757, 945.2201456,
5840.70184, 3455.769481, 1031.511593, 760.265283,
617.9227586, 2138.459304, 0.507950685,
112.2116487, 444.3196672, 118.4640278,
3.217821766, 98.42959451, 1118.368034,
0, 0, 0, 0, 0, 0, 0)),
 row.names = c(NA, -133L),  class = "data.frame")

library(lattice)

# this works
stripplot(copy ~ factor(igra)|factor(stimulus,
levels = c("a", "b", "c", "d", "e", "f", "g", "h")),
group = igra,
my.data,
hor=F,
layout = c(8,1),
scales = list(x = list(at = c(1,2), labels = c("N","P"))),
jitter.data=TRUE, pch=c(16,1), col="black",
ylab=expression(bold("Copy")),
xlab=expression(bold("Stimulation")),
main="Positivity Plot by stimulation",
par.settings = list(strip.background=list(col="white")),
par.strip.text=list(font=2),
key = key.plot,
panel = panel.superpose,
panel.groups = function(x, y, ...)
{
panel.stripplot(x, y, ..., na.rm = T)
m <- median(y)
panel.segments(x[1]-0.3, m, x[1]+0.3, m)
}
)

# this does not work
stripplot(ratio ~ factor(igra)|factor(stimulus,
 levels = c("a", "b", "c", "d", "e", "f", "g", "h")),
 group = igra,
      my.data,
      hor=F,
      layout = c(8,1),
      scales = list(x = list(at = c(1,2), labels = c("N","P"))),
      jitter.data=TRUE, pch=c(16,1), col="black",
      ylab=expression(bold("Copy")),
      xlab=expression(bold("Stimulation")),
      main="Positivity Plot by stimulation",
      par.settings = list(strip.background=list(col="white")),
      par.strip.text=list(font=2),
      key = key.plot,
      panel = panel.superpose,
  panel.groups = function(x, y, ...)
  {
            panel.stripplot(x, y, ..., na.rm = T)
            m <- median(y)
            panel.segments(x[1]-0.3, m, x[1]+0.3, m)
  }
 )

On Fri, May 9, 2014 at 5:17 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
> Luigi
>
> I suspect that it is in accessing the correct groups within the panel function
>
> I suggest that printing the values before plotting within the panel function may give you some idea.
>
> Without specific data I cannot suggest anything else
>
> Duncan
>
> -----Original Message-----
> From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com]
> Sent: Wednesday, 7 May 2014 22:37
> To: Duncan Mackay
> Subject: Re: [R] set axis limit in lattice
>
> Dear Duncan,
> thank you for the reply. I have fixed the axis, bu still I don't
> understand why i cannot draw the segments on my real data whereas i
> could on the example when the panel function is quite general. igra is
> the outcome that i rendered as positivity in the example. i also
> change it into numeric values (1/0) to resemble more closely the
> example but still the segments are ignored.
> may i ask you for a tip on the possible causes?
> best regards
> luigi
>
> On Thu, May 1, 2014 at 3:00 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
>> If you just want to limit the axis just insert as arguments
>> for the x axis
>> xlim = c(min, max),
>> and for the y
>> ylim = c(min,max) ,
>> where min and max correspond to the appropriate min and max  for the x and y axes
>>
>> As for the panel.groups you mention medians where I was using means - if you want medians you will have to amend means to medians
>>
>> Make sure for the groups you have the right mode numeric/ factor ?
>> I do not know what igra is
>>
>> Duncan
>>
>> -----Original Message-----
>> From: Luigi Marongiu [mailto:marongiu.luigi at gmail.com]
>> Sent: Thursday, 1 May 2014 03:54
>> To: Duncan Mackay
>> Subject: Re: [R] set axis limit in lattice
>>
>> Dear Duncan,
>> these solutions are actually splitting the drawing in different panels
>> and the scale=free is giving different limits to each panel. I still
>> need the relation=same but just to input myself the fixed limits of
>> the axis. It should go into the scale argument but i don't know the
>> actual syntax.
>> As for the segments, you were perfectly right, there was a problem
>> with my script so the medians did not match the actual data. Your
>> solution using panel.groups works on the example, but when I copied it
>> to the actual dataframe I am working with it did not work despite the
>> fact of being of quite a general syntax. could you please give a look
>> at the dataframe I have attached and see where I made a mistake in
>> applying your solution? what I wrote is:
>>
>>   my.data.IP10<-subset(my.data, gene=="i" & stimulus != "Unstimulated")
>>
>> stripplot(
>>    my.data.IP10$ratio ~
>> factor(my.data.IP10$igra)|factor(my.data.IP10$stimulus, levels =
>> c("ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>          my.data,
>>          group = my.data.IP10$igra,
>>          hor=F,
>>         layout = c(7,1),
>>          scales = list(x = list(draw=FALSE)),
>>    jitter.data=TRUE,
>>    pch=c(1,16),
>>    col="black",
>>          ylab=expression(bold("Ratio GOI/RG")),
>>          xlab=expression(bold("Antigen stimulation")),
>>          main="IP10 expression",
>>          par.settings = list(strip.background=list(col="light grey")),
>>              par.strip.text=list(font=2),
>>        key = list(space="top", columns=2, text=list(c("IGRA Negative",
>> "IGRA Positive"), col="black"), points=list(pch=c(1,16),
>> col="black")),
>>
>>  panel = panel.superpose,
>>         panel.groups = function(x, y, group.number, ...) {
>>
>>                         panel.segments(x0= x-0.25, x1=x+0.25,
>> y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
>>                          lwd=c(2:1)[group.number], col = c(1:2)[group.number])
>>
>>                         panel.stripplot(x,y, ...)
>>               }
>> )
>>
>>
>> ### Many thanks
>> ### Best regards
>> Luigi
>>
>>
>> On Wed, Apr 30, 2014 at 12:15 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
>>> Hi Luigi
>>>
>>> This produces plenty of white space for the y axes
>>>
>>> Y<-max(my.data$copy)
>>>
>>> stripplot(
>>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>>        my.data,
>>>        group = positivity,
>>>        hor=F,
>>>        layout = c(8,1),
>>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>>                      y= list(relation = "free")),
>>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>>        ylab=expression(bold("Copy")),
>>>        xlab=expression(bold("Stimulation")),
>>>        main="Plot",
>>>        par.settings = list(strip.background=list(col="white")),
>>>        par.strip.text=list(font=2),
>>>        key = key.plot,
>>>        panel = function(x, y, ...)
>>>   {
>>>             pnl = panel.number()
>>>   k<-0
>>>   for (i in 1:2){
>>>    datme<-subset(datmeA, positivity==i-1)
>>>              w<-i+k
>>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],
>>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>>                   k=k+1
>>>
>>>       panel.stripplot(x,y, ...)
>>>    }
>>>              }
>>>        )
>>> You could limit the y-axis to your levels
>>> stripplot(
>>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>>        my.data,
>>>        group = positivity,
>>>        hor=F,
>>>        layout = c(8,1),
>>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>>                      y= list(relation = "free",
>>>                                  limits = list(c(0, max panel 1),
>>>                                                      c(0, max panel 2),
>>>                                                     ...
>>>                                                    c(0, max panel 8)),
>>>       )),
>>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>>        ylab=expression(bold("Copy")),
>>>        xlab=expression(bold("Stimulation")),
>>>        main="Plot",
>>>        par.settings = list(strip.background=list(col="white")),
>>>        par.strip.text=list(font=2),
>>>        key = key.plot,
>>>        panel = function(x, y, ...)
>>>   {
>>>             pnl = panel.number()
>>>   k<-0
>>>   for (i in 1:2){
>>>    datme<-subset(datmeA, positivity==i-1)
>>>              w<-i+k
>>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],
>>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>>                   k=k+1
>>>
>>>       panel.stripplot(x,y, ...)
>>>    }
>>>              }
>>>        )
>>>
>>> Sorting the stimulation groups shows that some of them can be loosely grouped so reordering the factors
>>>
>>> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>>>        my.data,
>>>        group = positivity,
>>>        hor=F,
>>>        layout = c(2,4),
>>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>>                      y= list(relation = "free")),
>>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>>        ylab=expression(bold("Copy")),
>>>        xlab=expression(bold("Stimulation")),
>>>        main="Plot",
>>>        par.settings = list(strip.background=list(col="white")),
>>>        par.strip.text=list(font=2),
>>>        key = key.plot,
>>>        panel = function(x, y, ...)
>>>   {
>>>             pnl = panel.number()
>>>   k<-0
>>>   for (i in 1:2){
>>>    datme<-subset(datmeA, positivity==i-1)
>>>              w<-i+k
>>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],
>>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>>                   k=k+1
>>>
>>>       panel.stripplot(x,y, ...)
>>>    }
>>>              }
>>>        )
>>>
>>> or using panel.groups
>>>
>>> stripplot(copy ~ factor(positivity)|factor(stimulation, levels = c("PHA","Rv2654","CFP10","Unst.","Rv3615c", "Rv3873","ESAT6", "Rv3879")),
>>>        my.data,
>>>        group = positivity,
>>>        hor=F,
>>>        layout = c(2,4),
>>>        scales = list(x = list(at = c(1,2), labels = c("N","P")),
>>>                      y= list(relation = "free")),
>>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>>        ylab=expression(bold("Copy")),
>>>        xlab=expression(bold("Stimulation")),
>>>        main="Plot",
>>>        par.settings = list(strip.background=list(col="white")),
>>>        par.strip.text=list(font=2),
>>>        key = key.plot,
>>>        panel = panel.superpose,
>>>        panel.groups = function(x, y, group.number, ...) {
>>>
>>>                         panel.segments(x0= x-0.25, x1=x+0.25, y0=mean(y), y1=mean(y), lty = c(1:2)[group.number],
>>>                         lwd=c(2:1)[group.number], col = c(1:2)[group.number])
>>>
>>>                         panel.stripplot(x,y, ...)
>>>              }
>>>       )
>>>
>>> Regards
>>>
>>> Duncan Mackay
>>>
>>> -----Original Message-----
>>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Luigi Marongiu
>>> Sent: Wednesday, 30 April 2014 03:58
>>> To: r-help at r-project.org
>>> Subject: [R] set axis limit in lattice
>>>
>>> Dear all,
>>>
>>> I would like to set the axis of a figure using the max() so to have
>>> more control on the limits of the axis -- this because in the actual
>>> case more independent figures are generated from the same dataframe
>>> and these must have the same axis scale.
>>>
>>> Since the figure is generated using lattice device, the syntax is too
>>> complicated for me: when I place the xlim=c(0,Y) in the arguments ?
>>> where Y is obtained using max(data) ? there is no result. In basic R
>>> this argument would work virtually in any position.
>>>
>>> Any tip?
>>>
>>> Best regards
>>>
>>> Luigi
>>>
>>>  ####CODE
>>> ### open plot library
>>> library(lattice)
>>> my.data<-structure(list(
>>>    column_1 = 1:120,
>>>    column_2 = structure(c(
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8,
>>>  1,2,3,4,5,6,7,8), .Label = c("Unst.", "ESAT6", "CFP10", "Rv3615c",
>>> "Rv2654", "Rv3879", "Rv3873", "PHA"), class = "factor"),
>>>  column_3 = structure(c(
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 0,0,0,0,0,0,0,0,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 1,1,1,1,1,1,1,1,
>>> 0,0,0,0,0,0,0,0)),
>>>      column_4 = c(
>>>  192.0519108,183.6403531,53.46798757,83.60638077,69.60749873,159.4706861,256.8765622,499.2899303,
>>>  2170.799076,1411.349719,2759.472348,2098.973397,2164.739515,1288.676574,1611.486543,6205.229575,
>>>  870.7424981,465.9967135,191.8962375,864.0937485,2962.693675,1289.259137,2418.651212,7345.712517,
>>>  0,168.1198893,674.4342961,101.1575401,47.81596237,0,0,1420.793922,
>>>  142.6871331,5.466468742,291.9564635,80.73914133,73.02239621,64.47806871,144.3543635,3167.959757,
>>>  3164.748333,1092.634557,28733.20269,1207.87783,729.6090973,151.8706088,241.2466141,9600.963594,
>>>  1411.718287,12569.96285,1143.254476,6317.378481,16542.27718,79.68025792,1958.495138,7224.503437,
>>>  208.4382941,69.48609769,656.691151,0.499017582,7114.910926,187.6296174,41.73980805,8930.784541,
>>>  4.276752185,0.432300363,60.89228665,1.103924786,0.490686366,1.812993239,7.264531581,1518.610307,
>>>  2172.051528,595.8513744,17141.84336,589.6565971,1340.287628,117.350942,593.7034054,24043.61463,
>>>  0,81.83292179,1539.864321,36.41722958,8.385131047,161.7647376,65.21615696,7265.573875,
>>>  97.84753179,154.051827,0.613835842,10.06138851,45.04879285,176.8284258,18795.75462,30676.769,
>>>  5780.34957,944.2200834,2398.235596,1083.393165,2541.714557,1251.670895,1547.178549,1792.679176,
>>>  3067.988416,8117.210173,23676.02226,8251.937547,17360.80494,18563.61561,16941.865,31453.96708,
>>>  2767.493803,4796.33016,12292.93705,3864.657567,9380.673835,14886.44683,8457.88646,26050.47191)),
>>> .Names = c("row", "stimulation", "positivity", "copy"), row.names =
>>> c(NA, -120L),
>>>  class = "data.frame")
>>>
>>> key.plot<-list(
>>>   space="top", columns=2,
>>>   text=list(c("Positive", "Negative"), col="black"),
>>>   points=list(pch=c(16,1), col="black"))
>>>
>>> datmeA <- aggregate(copy ~ positivity+stimulation, my.data, median, na.rm = T)
>>>
>>> X<-c(0.7, 1.3, 1.7, 2.3)
>>>
>>> Y<-max(copy)
>>>
>>> stripplot(
>>>   copy ~ factor(positivity)|factor(stimulation, levels = c("Unst.",
>>> "ESAT6","CFP10","Rv3615c", "Rv2654","Rv3879", "Rv3873","PHA")),
>>>        my.data,
>>>        group = positivity,
>>>        hor=F,
>>>        layout = c(8,1),
>>>        scales = list(x = list(at = c(1,2), labels = c("N","P"))),
>>>        jitter.data=TRUE, pch=c(16,1), col="black",
>>>        ylab=expression(bold("Copy")),
>>>        xlab=expression(bold("Stimulation")),
>>>        main="Plot",
>>>        par.settings = list(strip.background=list(col="white")),
>>>        par.strip.text=list(font=2),
>>>        key = key.plot,
>>>        panel = function(x, y, ...)
>>>   {
>>>             pnl = panel.number()
>>>   k<-0
>>>   for (i in 1:2){
>>>    datme<-subset(datmeA, positivity==i-1)
>>>              w<-i+k
>>>                    panel.segments(x0 = X[w], y0 =  datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],
>>>                                   x1 = X[w+1],  y1 = datme[datme[,2]==
>>> levels(datme[,2])[pnl],"copy"],lwd = 2, col = "black")
>>>                   k=k+1
>>>
>>>       panel.stripplot(x,y, ...)
>>>    }
>>>              }
>>>        )
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>


From lydiakeppler at gmail.com  Mon May 12 23:27:54 2014
From: lydiakeppler at gmail.com (Lydia Keppler)
Date: Tue, 13 May 2014 09:27:54 +1200
Subject: [R] Contour plots in R Studio
Message-ID: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/2fd14b1f/attachment.pl>

From gunter.berton at gene.com  Tue May 13 03:01:55 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Mon, 12 May 2014 18:01:55 -0700
Subject: [R] Contour plots in R Studio
In-Reply-To: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
References: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
Message-ID: <CACk-te3HKeAJ_JK3C0vedJi90NO5e9-Qm4rT8GC7eH3bd0uf_g@mail.gmail.com>

Well one would expect that you might find something useful by
searching the obvious, like

?contourplot

and following the links therein.

It also seems (to me, anyway) that you have made little effort to
understand how R works, its data structures, syntax, and so forth. So
please peruse "An Introduction to R" (or one of the many R tutorials
on the web) to learn about such basics before posting further if I am
correct in this assertion.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Mon, May 12, 2014 at 2:27 PM, Lydia Keppler <lydiakeppler at gmail.com> wrote:
> Hi all,
>
> I am using Windows 7 and R Studio version 3.0.2 (2013-09-25).
> I am relatively new to R and am trying to make a contour plot from a 3D
> data grid.
>
> I my data file has the following specifics:
>
> [1] "file Data.nc has 3 dimensions:"
> [1] "time   Size: 96"
> [1] "lat   Size: 21"
> [1] "lon   Size: 61"
> [1] "------------------------"
> [1] "file Data.nc has 2 variables:"
> [1] "double U[time,lat,lon]  Longname:U Missval:1e+30"
> [1] "double V[time,lat,lon]  Longname:V Missval:1e+30"
>
> lat and lon includes latitude and longitude values from a certain region in
> a 1?grid
> time includes different months over 8 years
>
> I would like to draw
> 1) a contourplot of the mean U (mean U of all times), at the different
> locations (x=lon, y=lat)
> 2) a contourplot of U at the different locations (x=lon, y=lat) at
> different times.
>
> I have only made contourplots with 2D data (i.e. contour (lat,lon, z) and
> am struggling a bit to find help.
>
> Any suggestions are very much appreciated.
> Cheers,
>
> Lydia
>
> --
>><((((?>
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jdnewmil at dcn.davis.CA.us  Tue May 13 03:41:48 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Mon, 12 May 2014 18:41:48 -0700
Subject: [R] Contour plots in R Studio
In-Reply-To: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
References: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
Message-ID: <f4ee4c52-4369-4d3b-9b20-1c412d0ec4c2@email.android.com>

Granted, you are new here, but reading the Posting Guide is advice included in every post on this list. One key recommendation found there is to not post in HTML, as we don't see what you see when you do that. Use plain text email.
Another key piece of advice in the Posting Guide is to provide a reproducible example. That means enough code that we see the a reasonable subset of the data you are working with in our R environments. I think [1] is a helpful guide to communicating in a reproducible fashion about R questions. It is not clear from your discussion that you have actually imported and worked with your data yet, but you may have to read enough documentation to actually do so before we can make progress on this question.
It looks to me like you need to study indexing in "An Introduction to R", because that understanding will allow you to turn your 3D problem into a series of 2D problems. Depending how your data are stored, finding the mean may involve the apply or rowSums functions, or some nested for loops.

[1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 12, 2014 2:27:54 PM PDT, Lydia Keppler <lydiakeppler at gmail.com> wrote:
>Hi all,
>
>I am using Windows 7 and R Studio version 3.0.2 (2013-09-25).
>I am relatively new to R and am trying to make a contour plot from a 3D
>data grid.
>
>I my data file has the following specifics:
>
>[1] "file Data.nc has 3 dimensions:"
>[1] "time   Size: 96"
>[1] "lat   Size: 21"
>[1] "lon   Size: 61"
>[1] "------------------------"
>[1] "file Data.nc has 2 variables:"
>[1] "double U[time,lat,lon]  Longname:U Missval:1e+30"
>[1] "double V[time,lat,lon]  Longname:V Missval:1e+30"
>
>lat and lon includes latitude and longitude values from a certain
>region in
>a 1??grid
>time includes different months over 8 years
>
>I would like to draw
>1) a contourplot of the mean U (mean U of all times), at the different
>locations (x=lon, y=lat)
>2) a contourplot of U at the different locations (x=lon, y=lat) at
>different times.
>
>I have only made contourplots with 2D data (i.e. contour (lat,lon, z)
>and
>am struggling a bit to find help.
>
>Any suggestions are very much appreciated.
>Cheers,
>
>Lydia


From smartpink111 at yahoo.com  Tue May 13 03:57:44 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 12 May 2014 18:57:44 -0700 (PDT)
Subject: [R] Convert to integers all entries of a table (for DESeq2)
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6DA81@mb02.ads.tamu.edu>
References: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6DA81@mb02.ads.tamu.edu>
Message-ID: <1399946264.14221.YahooMailNeo@web142601.mail.bf1.yahoo.com>

Hi,

You may also try using 'colClasses' while reading the data.
setClass("NumerictoInteger")
setAs("numeric", "NumerictoInteger", function(from) as.integer(from)) 
datx1 <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE, colClasses=c("character",rep("NumerictoInteger",11)))

##David's result
? dati <- data.frame(transcript_ID=datx$transcript_ID, sapply(datx[,-1], as.integer),
???????? stringsAsFactors=FALSE)

?all.equal(dati, datx1)
#[1] TRUE

A.K.


On Monday, May 12, 2014 4:35 PM, David L Carlson <dcarlson at tamu.edu> wrote:
a <- "transcript_ID C3 C4 CRL_2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL_3DEC11? CRL_13DEC11b LRV_A LRV_B
c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00 6.00
c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00"
datx <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE)

dati <- data.frame(datx$transcript_ID, sapply(datx[,-1], as.integer),
? ? ? ? stringsAsFactors=FALSE)

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Alicia R. P?rez-Porro
Sent: Monday, May 12, 2014 10:38 AM
To: r-help at r-project.org
Subject: [R] Convert to integers all entries of a table (for DESeq2)

Dear R users,

I have a .txt table that looks like:

transcript_ID C3? ? ? ? C4? ? ? CRL_2APR10? ? ? CRL_1_15JUL11
CRL_2_15JUL11?  C1? ? ? CRL_6OCT11c? ?  CRL_3DEC11? ? ? CRL_13DEC11b
LRV_A LRV_B
c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00
6.00
c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00

I need to convert all the numeric entries into integers to be able to use
DESeq2, e.g.:

C3 C4 CRL2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL3DEC11
CRL13DEC11b LRV_A LRV_B
c101054_g1_i2 15 231 131 218 16 0 587 0 624 10 6
c96583_g1_i2 0 10 6 8 0 0 29 0 90 0 0
c19380_g1_i1 0 9 0 1 0 0 0 0 0 0 0
c102980_g1_i10 0 0 0 0 0 0 0 0 0 0 0
c91905_g1_i3 0 6 65 0 0 0 40 0 55 0 0
c108262_g1_i3 0 29 2 0 0 0 29 0 338 0 0
c27948_g1_i1 0 0 0 54 0 1 0 0 0 0 0
c14898_g1_i1 0 2 0 1 0 0 0 0 0 0 0
c105146_g1_i2 0 0 0 0 0 0 0 0 0 0 1

?Any help will be welcome.
Thanks in advance,

Alicia?

--
Alicia R. P?rez-Porro
PhD candidate

Giribet lab
Department of Organismic and Evolutionary Biology
MCZ labs
Harvard University
26 Oxford St, Cambridge MA 02138
phone: +1 617-496-5308
fax: +1 617-495-5667
www.oeb.harvard.edu/faculty/giribet/

Department of Marine Ecology
Center for Advanced Studies of Blanes (CEAB-CSIC)
C/Acc?s Cala St. Francesc 14
17300 Blanes, Girona, SPAIN
phone: +34 972 336 101
fax: +34 972 337 806
www.ceab.csic.es

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From kridox at ymail.com  Tue May 13 04:28:03 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Tue, 13 May 2014 11:28:03 +0900
Subject: [R] Contour plots in R Studio
In-Reply-To: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
References: <CAJecWfwM7uCZXOo23z5TmiS98JpijaRt3zTotdC6AnBw=ST=hQ@mail.gmail.com>
Message-ID: <CAAcyNCz+SGRjg5_ULK7KJ+K1JrJrR9Md=9=067hD=OL=oJDyoA@mail.gmail.com>

Hi Lydia,

Your question match more the topics of the r-sig-geo list.

Please have a look at the "raster" package, as well as the "rasterVis"
package to read and work with NetCDF format.

Regards,
Pascal

On Tue, May 13, 2014 at 6:27 AM, Lydia Keppler <lydiakeppler at gmail.com> wrote:
> Hi all,
>
> I am using Windows 7 and R Studio version 3.0.2 (2013-09-25).
> I am relatively new to R and am trying to make a contour plot from a 3D
> data grid.
>
> I my data file has the following specifics:
>
> [1] "file Data.nc has 3 dimensions:"
> [1] "time   Size: 96"
> [1] "lat   Size: 21"
> [1] "lon   Size: 61"
> [1] "------------------------"
> [1] "file Data.nc has 2 variables:"
> [1] "double U[time,lat,lon]  Longname:U Missval:1e+30"
> [1] "double V[time,lat,lon]  Longname:V Missval:1e+30"
>
> lat and lon includes latitude and longitude values from a certain region in
> a 1?grid
> time includes different months over 8 years
>
> I would like to draw
> 1) a contourplot of the mean U (mean U of all times), at the different
> locations (x=lon, y=lat)
> 2) a contourplot of U at the different locations (x=lon, y=lat) at
> different times.
>
> I have only made contourplots with 2D data (i.e. contour (lat,lon, z) and
> am struggling a bit to find help.
>
> Any suggestions are very much appreciated.
> Cheers,
>
> Lydia
>
> --
>><((((?>
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From smartpink111 at yahoo.com  Tue May 13 03:20:50 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 12 May 2014 18:20:50 -0700 (PDT)
Subject: [R] how di I write a for loop in which i is in POSIX?
In-Reply-To: <CAN5YmCEVWaXZZ1rhYbf7hanfW2Zavt7Qo8aCZGZphNQL-y9Bqw@mail.gmail.com>
References: <1399583532986-4690211.post@n4.nabble.com>
	<CAN5YmCEVWaXZZ1rhYbf7hanfW2Zavt7Qo8aCZGZphNQL-y9Bqw@mail.gmail.com>
Message-ID: <1399944050.30443.YahooMailNeo@web142606.mail.bf1.yahoo.com>



Hi,
You can also try:
library(plyr)
treat3 <- ddply(treat, .(Zugnacht), mutate, su=min(Vollzeit), sa=max(Vollzeit))
identical(treat2[,c(2,1,3:4)],treat3)
#[1] TRUE

A.K.


On Monday, May 12, 2014 2:46 PM, "Adams, Jean" <jvadams at usgs.gov> wrote:
Christiane,

You will get replies to your queries more quickly if you include
reproducible code in your question.? For example, it would have been
helpful if you had posted the result returned by dput(head(treat)) rather
than just copying and pasting the first few rows of treat.

treat <- structure(list(Vollzeit = structure(c(1378775700, 1378776600,
1378777500, 1378778400, 1378779300, 1378780200), class = c("POSIXct",
"POSIXt"), tzone = ""), Zugnacht = structure(c(1378702800, 1378702800,
1378702800, 1378702800, 1378702800, 1378702800), class = c("POSIXct",
"POSIXt"), tzone = "")), .Names = c("Vollzeit", "Zugnacht"), class =
"data.frame", row.names = c(NA,
-6L))

You can use the ddply() function of the plyr package in R to calculate the
minimum and maximum Vollzeit for each value of Zugnacht.? Then you can
merge the result with the original data to have those minima and maxima
repeated for multiple rows.? For example:

library(plyr)
minmax <- ddply(treat, .(Zugnacht), summarize, su=min(Vollzeit),
sa=max(Vollzeit))
treat2 <- merge(treat, minmax, all=TRUE)

Jean



On Thu, May 8, 2014 at 4:12 PM, peregrine <halconperegrino at gmx.de> wrote:

> Hallo,
>
> I have a table in which I would like to insert the min and max values of
> another colum (date and time in as.POSIXct Format).
>
> This is my row table, where "su" and "sa" are still the same as "Vollzeit":
>
> head(treat)
>? ? ? ? ? ? ? Vollzeit? ? ? Datum?  Zugnacht? ? ? ? ? ? ? ? ? su
> sa
> 2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-09
> 20:15:00
> 3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:30:00 2013-09-09
> 20:30:00
> 4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:45:00 2013-09-09
> 20:45:00
> 5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 21:00:00 2013-09-09
> 21:00:00
> 6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 21:15:00 2013-09-09
> 21:15:00
> 7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 21:30:00 2013-09-09
> 21:30:00
>
> Now I want to insert the minimum value of "Vollzeit" for each date in
> "Zugnacht" into the colum "su" and the maximum value of "Vollzeit" for each
> date in "Zugnacht" into the colum "sa". If I do it like this, it does
> exactly what I want:
>
> zn? ? ? ? ? ? ? ? ?  <- unique(treat$Zugnacht)
> i=zn[1]
> treat$su[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
> min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
> treat$sa[treat$Zugnacht==as.POSIXct(i, "UTC")] <-
> max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(i, "UTC")])
>
> This is the result for the first date in "Zugnacht":
> head(treat)
>? ? ? ? ? ? ? Vollzeit? ? ? Datum?  Zugnacht? ? ? ? ? ? ? ? ? su
> sa
> 2 2013-09-09 20:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 3 2013-09-09 20:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 4 2013-09-09 20:45:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 5 2013-09-09 21:00:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 6 2013-09-09 21:15:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
> 7 2013-09-09 21:30:00 2013-09-09 2013-09-09 2013-09-09 20:15:00 2013-09-10
> 04:30:00
>
>
> However I am not able to create a loop that runs over all 113 dates in zn.
> I
> tried this, but it does not work. Can anybody help, please?
>
> for (i in zn){
>? ?  treat$su[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
> min(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
>? ?  treat$sa[treat$Zugnacht==as.POSIXct(zn[i], "UTC")] <-
> max(treat$Vollzeit[treat$Zugnacht==as.POSIXct(zn[i], "UTC")])
>? ?  }
>
> Kind regards
> Christiane
>
>
>
>
> --
> View this message in context:
> http://r.789695.n4.nabble.com/how-di-I-write-a-for-loop-in-which-i-is-in-POSIX-tp4690211.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

??? [[alternative HTML version deleted]]


______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From Ortiz-Bobea at rff.org  Tue May 13 05:42:12 2014
From: Ortiz-Bobea at rff.org (Ortiz-Bobea, Ariel)
Date: Tue, 13 May 2014 03:42:12 +0000
Subject: [R] efficient sine interpolation
Message-ID: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/88734f35/attachment.pl>

From marc_grt at yahoo.fr  Tue May 13 08:08:21 2014
From: marc_grt at yahoo.fr (Marc Girondot)
Date: Tue, 13 May 2014 08:08:21 +0200
Subject: [R] efficient sine interpolation
In-Reply-To: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
References: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
Message-ID: <5371B6D5.10909@yahoo.fr>

You can try this:
http://max2.ese.u-psud.fr/epc/conservation/Girondot/Publications/Blog_r/Entrees/2013/6/4_GLM_with_periodic_(annual)_transformation_of_factor.html

Sincerely,

Marc

Le 13/05/2014 05:42, Ortiz-Bobea, Ariel a ?crit :
> Hello,
>
> I'm trying to fit a sine curve over successive temperature readings (i.e. minimum and maximum temperature) over several days and for many locations. The code below shows a hypothetical example of 5000 locations with  7 days of temperature data. Not very efficient when you have many more locations and days.
>
> The linear interpolation takes 0.7 seconds, and the sine interpolations take 2 to 4 seconds depending on the approach.
>
> Any ideas on how to speed this up? Thanks in advance.
>
> Ariel
>
> ### R Code ######
>
> # 1- Prepare data fake data
>    days<- 7
>    n <- 5000*days
>    tmin <- matrix(rnorm(n, mean=0) , ncol=days, nrow=5000)
>    tmax <- matrix(rnorm(n, mean=10), ncol=days, nrow=5000)
>    m <- matrix(NA, ncol=days*2, nrow=5000)
>    m[,seq(1,ncol(m),2)]  <- tmin
>    m[,seq(2,ncol(m)+1,2)]<- tmax
>    # check first row
>    plot(1:ncol(m), m[1,], type="l")
>
> # 2 -linear interpolation: 0.66 seconds
>    xout <- seq(0,ncol(m),0.25/24*2)[-1] # time step = 0.25 hours or 15 minutes
>    system.time( m1 <- t(apply(m,1, function(y) approx(x=1:ncol(m), y=y, xout=xout, method="linear")$y)) )
>    # Check first row
>    plot(1:ncol(m), m[1,], type="l")
>    points(xout, m1[1,], col="red", cex=1)
>
>
> # 3- sine interpolation
>    sine.approx1 <- function(index, tmin, tmax) {
>      b <- (2*pi)/24  # period = 24 hours
>      c <- pi/2 # horizontal shift
>      xout <- seq(0,24,0.25)[-1]
>      yhat <- apply(cbind(tmin[index,],tmax[index,]), 1, function(z) diff(z)/2 * sin(b*xout-c) + mean(z))
>      #yhat <- yhat[-nrow(yhat),]
>      yhat <- c(yhat)
>      #plot(yhat, type="l")
>    }
>    sine.approx2 <- function(index, tmin, tmax) {
>      b <- (2*pi)/24  # period = 24 hours
>      c <- pi/2 # horizontal shift
>      xout1 <- seq(0 ,12,0.25)
>      xout2 <- seq(12,24,0.25)[-1]
>      xout2 <- xout2[-length(xout2)]
>      yhat1 <- apply(cbind(tmin[index,]                       ,tmax[index,]    ), 1, function(z) diff(z)/2 * sin(b*xout1-c) + mean(z))
>      yhat2 <- apply(cbind(tmax[index,][-length(tmax[index,])],tmin[index,][-1]), 1, function(z) diff(z)/2 * sin(b*xout2+c) + mean(z))
>      yhat2 <- cbind(yhat2,NA)
>      yhat3 <- rbind(yhat1,yhat2)
>      #yhat3 <- yhat3[-nrow(yhat3),]
>      yhat3 <- c(yhat3)
>      yhat <- yhat3
>      #plot(c(yhat1))
>      #plot(c(yhat2))
>      #plot(yhat, type="l")
>    }
>
>    # Single sine: 2.23 seconds
>    system.time( m2 <- t(sapply(1:nrow(m), function(i) sine.approx1(i, tmin=tmin, tmax=tmax))) )
>
>    # Double sine: 4.03 seconds
>    system.time( m3 <- t(sapply(1:nrow(m), function(i) sine.approx2(i, tmin=tmin, tmax=tmax))) )
>
>    # take a look at approach 1
>    plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>    points(xout, m2[1,], col="red", cex=1)
>
>    # take a look at approach 2
>    plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>    points(xout, m3[1,], col="blue", cex=1)
>
>
> ---
> Ariel Ortiz-Bobea
> Fellow
> Resources for the Future
> 1616 P Street, N.W.
> Washington, DC 20036
> 202-328-5173
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From frtog at vestas.com  Tue May 13 08:43:57 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Tue, 13 May 2014 08:43:57 +0200
Subject: [R] efficient sine interpolation
In-Reply-To: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
References: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612CDAC@DKRDSEXC016.vestas.net>

Hi

Why not use functional data analysis. There is an R package called fda to help you.

See http://www.psych.mcgill.ca/misc/fda/ex-weather-a1.html for an example exploring temperature from different locations.

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Ortiz-Bobea, Ariel
> Sent: 13. maj 2014 05:42
> To: r-help at r-project.org
> Subject: [R] efficient sine interpolation
> 
> Hello,
> 
> I'm trying to fit a sine curve over successive temperature readings (i.e.
> minimum and maximum temperature) over several days and for many
> locations. The code below shows a hypothetical example of 5000 locations
> with  7 days of temperature data. Not very efficient when you have many
> more locations and days.
> 
> The linear interpolation takes 0.7 seconds, and the sine interpolations take 2
> to 4 seconds depending on the approach.
> 
> Any ideas on how to speed this up? Thanks in advance.
> 
> Ariel
> 
> ### R Code ######
> 
> # 1- Prepare data fake data
>   days<- 7
>   n <- 5000*days
>   tmin <- matrix(rnorm(n, mean=0) , ncol=days, nrow=5000)
>   tmax <- matrix(rnorm(n, mean=10), ncol=days, nrow=5000)
>   m <- matrix(NA, ncol=days*2, nrow=5000)
>   m[,seq(1,ncol(m),2)]  <- tmin
>   m[,seq(2,ncol(m)+1,2)]<- tmax
>   # check first row
>   plot(1:ncol(m), m[1,], type="l")
> 
> # 2 -linear interpolation: 0.66 seconds
>   xout <- seq(0,ncol(m),0.25/24*2)[-1] # time step = 0.25 hours or 15 minutes
>   system.time( m1 <- t(apply(m,1, function(y) approx(x=1:ncol(m), y=y,
> xout=xout, method="linear")$y)) )
>   # Check first row
>   plot(1:ncol(m), m[1,], type="l")
>   points(xout, m1[1,], col="red", cex=1)
> 
> 
> # 3- sine interpolation
>   sine.approx1 <- function(index, tmin, tmax) {
>     b <- (2*pi)/24  # period = 24 hours
>     c <- pi/2 # horizontal shift
>     xout <- seq(0,24,0.25)[-1]
>     yhat <- apply(cbind(tmin[index,],tmax[index,]), 1, function(z) diff(z)/2 *
> sin(b*xout-c) + mean(z))
>     #yhat <- yhat[-nrow(yhat),]
>     yhat <- c(yhat)
>     #plot(yhat, type="l")
>   }
>   sine.approx2 <- function(index, tmin, tmax) {
>     b <- (2*pi)/24  # period = 24 hours
>     c <- pi/2 # horizontal shift
>     xout1 <- seq(0 ,12,0.25)
>     xout2 <- seq(12,24,0.25)[-1]
>     xout2 <- xout2[-length(xout2)]
>     yhat1 <- apply(cbind(tmin[index,]                       ,tmax[index,]    ), 1,
> function(z) diff(z)/2 * sin(b*xout1-c) + mean(z))
>     yhat2 <- apply(cbind(tmax[index,][-length(tmax[index,])],tmin[index,][-
> 1]), 1, function(z) diff(z)/2 * sin(b*xout2+c) + mean(z))
>     yhat2 <- cbind(yhat2,NA)
>     yhat3 <- rbind(yhat1,yhat2)
>     #yhat3 <- yhat3[-nrow(yhat3),]
>     yhat3 <- c(yhat3)
>     yhat <- yhat3
>     #plot(c(yhat1))
>     #plot(c(yhat2))
>     #plot(yhat, type="l")
>   }
> 
>   # Single sine: 2.23 seconds
>   system.time( m2 <- t(sapply(1:nrow(m), function(i) sine.approx1(i,
> tmin=tmin, tmax=tmax))) )
> 
>   # Double sine: 4.03 seconds
>   system.time( m3 <- t(sapply(1:nrow(m), function(i) sine.approx2(i,
> tmin=tmin, tmax=tmax))) )
> 
>   # take a look at approach 1
>   plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>   points(xout, m2[1,], col="red", cex=1)
> 
>   # take a look at approach 2
>   plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>   points(xout, m3[1,], col="blue", cex=1)
> 
> 
> ---
> Ariel Ortiz-Bobea
> Fellow
> Resources for the Future
> 1616 P Street, N.W.
> Washington, DC 20036
> 202-328-5173
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewmil at dcn.davis.ca.us  Tue May 13 09:35:37 2014
From: jdnewmil at dcn.davis.ca.us (Jeff Newmiller)
Date: Tue, 13 May 2014 00:35:37 -0700 (PDT)
Subject: [R] efficient sine interpolation
In-Reply-To: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
References: <909C6632267EF54E9F6C133B5A3F8CAD01051528@RFF-Mail1>
Message-ID: <alpine.BSF.2.00.1405130006240.18466@pedal.dcn.davis.ca.us>

Not sure this approach yields meaningful data, but as a demonstration of 
vectorization I got a factor of 10 speedup.

sine.approx3 <- function( tmin, tmax ) {
   B <- (2*pi)/24  # period = 24 hours
   C <- pi/2 # horizontal shift
   tmin <- t( tmin )
   tmax <- t( tmax )
   idx <- seq.int(  24 * 4 * nrow( tmax ) - 12 * 4 )
   xout <- ( idx - 1 ) * 0.25
   cycles <- sin( B * xout - C )
   mag <- matrix( NA, ncol=ncol( tmax ), nrow=length( idx ) )
   idxup <- 2 * seq.int( nrow( tmax ) ) - 1
   idxdn <- idxup[ -1 ] - 1
   idxups <- rep( seq.int( nrow( tmax ) ), each=48 )
   idxdns <- rep( seq.int( nrow( tmax ) - 1 ), each=48 )
   idxupm <- c( outer( 1:48, 48*( idxup - 1 ), FUN="+" ) )
   idxdnm <- c( outer( 1:48, 48*( idxdn - 1 ), FUN="+" ) )
   mag[ idxupm, ] <- ( tmax - tmin )[ idxups,  ] / 2
   mag[ idxdnm, ] <- ( tmax[ -nrow( tmax ), ]
                     - tmin[ -1, ] )[ idxdns, ] / 2
   mag <- mag * rep( cycles, times=ncol( mag ) )
   mag[ idxupm, ] <- mag[ idxupm, ] + ( tmax + tmin )[ idxups, ] / 2
   mag[ idxdnm, ] <- mag[ idxdnm, ] + ( tmax[ -nrow( tmax ), ]
                                      + tmin[ -1, ] )[ idxdns, ] / 2
   t( mag )
}


On Tue, 13 May 2014, Ortiz-Bobea, Ariel wrote:

> Hello,
>
> I'm trying to fit a sine curve over successive temperature readings (i.e. minimum and maximum temperature) over several days and for many locations. The code below shows a hypothetical example of 5000 locations with  7 days of temperature data. Not very efficient when you have many more locations and days.
>
> The linear interpolation takes 0.7 seconds, and the sine interpolations take 2 to 4 seconds depending on the approach.
>
> Any ideas on how to speed this up? Thanks in advance.
>
> Ariel
>
> ### R Code ######
>
> # 1- Prepare data fake data
>  days<- 7
>  n <- 5000*days
>  tmin <- matrix(rnorm(n, mean=0) , ncol=days, nrow=5000)
>  tmax <- matrix(rnorm(n, mean=10), ncol=days, nrow=5000)
>  m <- matrix(NA, ncol=days*2, nrow=5000)
>  m[,seq(1,ncol(m),2)]  <- tmin
>  m[,seq(2,ncol(m)+1,2)]<- tmax
>  # check first row
>  plot(1:ncol(m), m[1,], type="l")
>
> # 2 -linear interpolation: 0.66 seconds
>  xout <- seq(0,ncol(m),0.25/24*2)[-1] # time step = 0.25 hours or 15 minutes
>  system.time( m1 <- t(apply(m,1, function(y) approx(x=1:ncol(m), y=y, xout=xout, method="linear")$y)) )
>  # Check first row
>  plot(1:ncol(m), m[1,], type="l")
>  points(xout, m1[1,], col="red", cex=1)
>
>
> # 3- sine interpolation
>  sine.approx1 <- function(index, tmin, tmax) {
>    b <- (2*pi)/24  # period = 24 hours
>    c <- pi/2 # horizontal shift
>    xout <- seq(0,24,0.25)[-1]
>    yhat <- apply(cbind(tmin[index,],tmax[index,]), 1, function(z) diff(z)/2 * sin(b*xout-c) + mean(z))
>    #yhat <- yhat[-nrow(yhat),]
>    yhat <- c(yhat)
>    #plot(yhat, type="l")
>  }
>  sine.approx2 <- function(index, tmin, tmax) {
>    b <- (2*pi)/24  # period = 24 hours
>    c <- pi/2 # horizontal shift
>    xout1 <- seq(0 ,12,0.25)
>    xout2 <- seq(12,24,0.25)[-1]
>    xout2 <- xout2[-length(xout2)]
>    yhat1 <- apply(cbind(tmin[index,]                       ,tmax[index,]    ), 1, function(z) diff(z)/2 * sin(b*xout1-c) + mean(z))
>    yhat2 <- apply(cbind(tmax[index,][-length(tmax[index,])],tmin[index,][-1]), 1, function(z) diff(z)/2 * sin(b*xout2+c) + mean(z))
>    yhat2 <- cbind(yhat2,NA)
>    yhat3 <- rbind(yhat1,yhat2)
>    #yhat3 <- yhat3[-nrow(yhat3),]
>    yhat3 <- c(yhat3)
>    yhat <- yhat3
>    #plot(c(yhat1))
>    #plot(c(yhat2))
>    #plot(yhat, type="l")
>  }
>
>  # Single sine: 2.23 seconds
>  system.time( m2 <- t(sapply(1:nrow(m), function(i) sine.approx1(i, tmin=tmin, tmax=tmax))) )
>
>  # Double sine: 4.03 seconds
>  system.time( m3 <- t(sapply(1:nrow(m), function(i) sine.approx2(i, tmin=tmin, tmax=tmax))) )
>
>  # take a look at approach 1
>  plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>  points(xout, m2[1,], col="red", cex=1)
>
>  # take a look at approach 2
>  plot(seq(-1,ncol(m)-1,1)[-1], m[1,], type="l")
>  points(xout, m3[1,], col="blue", cex=1)
>
>
> ---
> Ariel Ortiz-Bobea
> Fellow
> Resources for the Future
> 1616 P Street, N.W.
> Washington, DC 20036
> 202-328-5173
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k


From maechler at stat.math.ethz.ch  Tue May 13 10:05:48 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 13 May 2014 10:05:48 +0200
Subject: [R] Freeing up memory in R
In-Reply-To: <1399932109.73123.YahooMailNeo@web160602.mail.bf1.yahoo.com>
References: <1399932109.73123.YahooMailNeo@web160602.mail.bf1.yahoo.com>
Message-ID: <21361.53852.6588.364047@stat.math.ethz.ch>

>>>>> Zilefac Elvis <zilefacelvis at yahoo.com>
>>>>>     on Mon, 12 May 2014 15:01:49 -0700 writes:

    > Hi,
    > I will like to free up memory in R and make my program execute faster. At the moment, MY PROGRAM IS VERY SLOW probably due to memory issues. Here is sample data (Rcode is found at the end) from one simulation(I have 1000 such files to process):?



    > list(c("1971 1 1GGG1  0.00 -3.68 -0.29", "1971 1 1GGG2  0.00 -8.31  0.81", 
    > "1971 1 1GGG3  0.00-10.69  5.69", "1971 1 1GGG4  1.78 -6.96 -2.20", 
    > "1971 1 1GGG5  2.64 -9.48  9.20", "1971 1 1GGG6  0.00 -9.74  3.73", 
    > "1971 1 1GGG7  0.00 -8.49  3.58", "1971 1 1GGG8  0.00 -2.78 -2.92", 
    > "1971 1 1GGG9  0.00 -9.30  0.63", "1971 1 1GG10  4.87 -5.59  3.11", 
    > "1971 1 1GG11  0.10-12.04 10.80", "1971 1 1GG12  0.00 -5.24 -0.43", 
    > "1971 1 1GG13  0.00 -8.82  2.88", "1971 1 1GG14  0.00-11.10 14.50", 
    > "1971 1 1GG15  0.00 -5.54 10.12", "1971 1 1GG16  0.00 -4.54 10.48", 
    > "1971 1 1GG17  0.00  1.68 17.28", "1971 1 1GG18  0.00 -5.79  6.64", 
    > "1971 1 1GG19  0.00 -5.27 14.29", "1971 1 1GG20  0.00 -8.93  9.60", 
    > "1971 1 1GG21  5.29  1.30 15.62", "1971 1 1GG22  0.00 -2.50 19.20", 
    > "1971 1 1GG23  0.00 -7.04 15.73", "1971 1 1GG24  0.00 -8.53 11.60", 
    > "1971 1 1GG25  0.00 -0.82 10.33", "1971 1 1GG26  0.00 -6.28 21.58", 
[.............]
    > ))



    > Here is a code for processing a thousand of these kind of files:
    > #===================================================================================================================
    > lst1Sub <- data_above

    > lst2 <- lapply(lst1Sub,function(x) {dateSite <- gsub("(.*G.{3}).*","\\1",x); 
    > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? dat1 <- data.frame(Year=as.numeric(substr(dateSite,1,4)), Month=as.numeric(substr(dateSite,5,6)),Day=as.numeric(substr(dateSite,7,8)),Site=substr(dateSite,9,12),stringsAsFactors=FALSE); 
    > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims <- str_trim(gsub(".*G.{3}\\s?(.*)","\\1",x));Sims[grep("\\d+-",Sims)] <- gsub("(.*)([- ][0-9]+\\.[0-9]+)","\\1 \\2",gsub("^([0-9]+\\.[0-9]+)(.*)","\\1 \\2", Sims[grep("\\d+-",Sims)])); 
    > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims1 <- read.table(text=Sims,header=FALSE); names(Sims1) <- c("Precipitation", "Tmin", "Tmax");dat2 <- cbind(dat1,Sims1)}) 
    > #=========================================================================================================================

    > 1) Please use this code to free up memory considering that I am working on 1000 files, so I am in for speed.
    > 2) Is there a faster way of doing the same task as above? My data files are simulated in FORTRAN and read as:

    > data.frame(Day=as.numeric(substr(rain.data,7,8)), 
    > ? ? ? ? ? ? ? ? ? ? ? ? ?Month=as.numeric(substr(rain.data,5,6)), 
    > ? ? ? ? ? ? ? ? ? ? ? ? ?Year=as.numeric(substr(rain.data,1,4)), 
    > ? ? ? ? ? ? ? ? ? ? ? ? ?Site=substr(rain.data,9,12), 
    > ? ? ? ? ? ? ? ? ? ? ? ? Precip=as.numeric(substr(rain.data,13,18)), 
    > ? ? ? ? ? ? ? ? ? ? ? ? Tmin=as.numeric(substr(rain.data,19,24)), 
    > ? ? ? ? ? ? ? ? ? ? ? ? Tmax=as.numeric(substr(rain.data,25,30))) 
    > #### Day occupies position 7 and 8, Month occupies position 5 and 6, Year occupies position 1 to 4 and so on for site, precip, ####tmin and tmax

Given that your data file has things  "at position <n>",
I think you should use

read.fwf()  instead  of  read.table()  
and then you might not need all the string manipulations you do
above.

Martin


    > Thanks for your great help.
    > Zilefac.


From jdnewmil at dcn.davis.CA.us  Tue May 13 10:13:42 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 01:13:42 -0700
Subject: [R] Freeing up memory in R
In-Reply-To: <1399932109.73123.YahooMailNeo@web160602.mail.bf1.yahoo.com>
References: <1399932109.73123.YahooMailNeo@web160602.mail.bf1.yahoo.com>
Message-ID: <e3861580-0b1b-4d1d-a8be-35371155aae2@email.android.com>

Perhaps ?read.fwf might help 
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 12, 2014 3:01:49 PM PDT, Zilefac Elvis <zilefacelvis at yahoo.com> wrote:
>Hi,
>I will like to free up memory in R and make my program execute faster.
>At the moment, MY PROGRAM IS VERY SLOW probably due to memory issues.
>Here is sample data (Rcode is found at the end) from one simulation(I
>have 1000 such files to process):?
>
>
>
>list(c("1971 1 1GGG1  0.00 -3.68 -0.29", "1971 1 1GGG2  0.00 -8.31 
>0.81", 
>"1971 1 1GGG3  0.00-10.69  5.69", "1971 1 1GGG4  1.78 -6.96 -2.20", 
>"1971 1 1GGG5  2.64 -9.48  9.20", "1971 1 1GGG6  0.00 -9.74  3.73", 
>"1971 1 1GGG7  0.00 -8.49  3.58", "1971 1 1GGG8  0.00 -2.78 -2.92", 
>"1971 1 1GGG9  0.00 -9.30  0.63", "1971 1 1GG10  4.87 -5.59  3.11", 
>"1971 1 1GG11  0.10-12.04 10.80", "1971 1 1GG12  0.00 -5.24 -0.43", 
>"1971 1 1GG13  0.00 -8.82  2.88", "1971 1 1GG14  0.00-11.10 14.50", 
>"1971 1 1GG15  0.00 -5.54 10.12", "1971 1 1GG16  0.00 -4.54 10.48", 
>"1971 1 1GG17  0.00  1.68 17.28", "1971 1 1GG18  0.00 -5.79  6.64", 
>"1971 1 1GG19  0.00 -5.27 14.29", "1971 1 1GG20  0.00 -8.93  9.60", 
>"1971 1 1GG21  5.29  1.30 15.62", "1971 1 1GG22  0.00 -2.50 19.20", 
>"1971 1 1GG23  0.00 -7.04 15.73", "1971 1 1GG24  0.00 -8.53 11.60", 
>"1971 1 1GG25  0.00 -0.82 10.33", "1971 1 1GG26  0.00 -6.28 21.58", 
>"1971 1 1GG27  0.00 -4.73 20.56", "1971 1 1GG28  9.15 -4.38 11.70", 
>"1971 1 1GG29  0.00  2.91  6.94", "1971 1 1GG30  0.00 -7.27 -4.96", 
>"1971 1 1GG31  0.00  2.27  8.05", "1971 1 1GG32  0.00 -3.56  0.66", 
>"1971 1 1GG33  0.00 -0.75  5.10", "1971 1 1GG34  1.81  2.82 -1.50", 
>"1971 1 1GG35  0.00 -9.33 -5.15", "1971 1 1GG36  0.45 -0.41  1.59", 
>"1971 1 1GG37  0.00  0.54  3.06", "1971 1 1GG38  0.00  1.85  0.87", 
>"1971 1 1GG39  0.00  0.41 -5.11", "1971 1 1GG40  3.38 -8.04-10.43", 
>"1971 1 1GG41  0.00 -7.00  3.22", "1971 1 1GG42  0.00  1.44  0.52", 
>"1971 1 1GG43  0.00 -5.16 -4.01", "1971 1 1GG44  0.00 -0.73 -4.24", 
>"1971 1 1GG45  8.63 -9.15  1.35", "1971 1 1GG46  0.00-10.04  6.62", 
>"1971 1 1GG47  0.00 -9.67  8.25", "1971 1 1GG48  0.00-11.63  2.14", 
>"1971 1 1GG49  0.00-10.33  6.68", "1971 1 1GG50  0.00-12.78  3.26", 
>"1971 1 1GG51  9.71 -9.00  4.21", "1971 1 1GG52  2.87-11.94  6.01", 
>"1971 1 1GG53  0.00-13.34  4.57", "1971 1 1GG54  0.71-12.14  9.01", 
>"1971 1 1GG55  2.15 -9.84  1.37", "1971 1 1GG56  0.00-10.11 10.45", 
>"1971 1 1GG57  0.00-10.06  0.97", "1971 1 1GG58  0.00-13.06  6.45", 
>"1971 1 1GG59  0.00-13.17  4.48", "1971 1 1GG60  0.00-11.05  6.79", 
>"1971 1 1GG61  0.00-11.11  1.11", "1971 1 1GG62  0.00 -8.17 10.90", 
>"1971 1 1GG63  0.00-10.98  2.10", "1971 1 1GG64  0.00-12.82  6.07", 
>"1971 1 1GG65  0.00 -8.65  4.32", "1971 1 1GG66  0.00-11.13  3.06", 
>"1971 1 1GG67  0.00 -9.84  1.38", "1971 1 1GG68  1.48-13.17 -4.12", 
>"1971 1 1GG69  0.00-10.64  6.51", "1971 1 1GG70  0.00-12.74  1.47", 
>"1971 1 1GG71  0.00-12.14  9.21", "1971 1 1GG72  0.00-13.07  6.01", 
>"1971 1 1GG73  0.00-11.02  3.18", "1971 1 1GG74  0.00-13.81  3.39", 
>"1971 1 1GG75  0.00-11.53  3.23", "1971 1 1GG76  0.00-11.74  0.52", 
>"1971 1 1GG77  0.00 -9.95 -1.56", "1971 1 1GG78  0.00-12.34 -4.90", 
>"1971 1 1GG79  0.44-12.93 -3.38", "1971 1 1GG80  0.00 -7.25  1.21", 
>"1971 1 1GG81  0.00 -6.69 -2.24", "1971 1 1GG82  0.00 -9.39 -4.35", 
>"1971 1 1GG83  0.00-12.34  2.54", "1971 1 1GG84  0.00 -3.51  2.19", 
>"1971 1 1GG85  0.00-12.03  6.77", "1971 1 1GG86  0.00 -3.54  1.12", 
>"1971 1 1GG87  0.00 -8.15 -0.70", "1971 1 1GG88  0.00 -7.02 -0.51", 
>"1971 1 1GG89  0.00-11.05  2.15", "1971 1 1GG90  0.00-11.44  7.73", 
>"1971 1 1GG91  0.11-11.22  7.26", "1971 1 1GG92  0.00 -4.54  9.87", 
>"1971 1 1GG93  0.00 -4.72 10.68", "1971 1 1GG94  0.00 -8.55  9.54", 
>"1971 1 1GG95  0.19 -0.79 12.46", "1971 1 1GG96  0.00 -4.79 11.92", 
>"1971 1 1GG97  0.00 -5.09 10.64", "1971 1 1GG98  0.00 -4.22 15.50", 
>"1971 1 1GG99  0.00 -7.64 11.21", "1971 1 1G100  0.00 -2.79 11.64", 
>"1971 1 1G101  0.00 -1.62 13.53", "1971 1 1G102  0.00 -4.37  7.94", 
>"1971 1 1G103 13.88 -6.72  5.49", "1971 1 1G104  0.00 -5.19  6.39", 
>"1971 1 1G105 15.04 -2.39  6.86", "1971 1 1G106  0.00-12.08 -1.34", 
>"1971 1 1G107  0.00 -5.80  9.32", "1971 1 1G108  0.00-12.17 10.07", 
>"1971 1 1G109  0.00 -5.83 10.43", "1971 1 1G110  0.00 -6.29  7.37", 
>"1971 1 1G111  0.00-10.59  7.34", "1971 1 1G112  0.00 -3.20  9.05", 
>"1971 1 1G113  0.00 -7.02 11.55", "1971 1 1G114  1.21 -9.86 -2.75", 
>"1971 1 1G115  0.00-14.74  1.11", "1971 1 1G116  0.00 -5.25 -7.93", 
>"1971 1 1G117  0.00 -5.38 -4.76", "1971 1 1G118  0.00 -4.13 -0.12", 
>"1971 1 1G119  0.00 -8.21 -1.76", "1971 1 1G120  0.00-15.05 -1.92", 
>"1971 1 2GGG1  0.00 -9.93 -0.13", "1971 1 2GGG2  0.00-11.32 -2.16", 
>"1971 1 2GGG3  0.00-12.02  0.10", "1971 1 2GGG4  0.92-13.14 -1.17", 
>"1971 1 2GGG5  0.19 -8.28 -0.98", "1971 1 2GGG6  0.00 -9.40 -1.68", 
>"1971 1 2GGG7  0.00-10.15  4.32", "1971 1 2GGG8  0.30-11.11  4.24", 
>"1971 1 2GGG9  0.00-12.39 -4.05", "1971 1 2GG10  0.00-11.47 -6.93", 
>"1971 1 2GG11  0.00 -8.63 -2.02", "1971 1 2GG12  0.00-15.46 -1.03", 
>"1971 1 2GG13  0.00-13.92 -3.91", "1971 1 2GG14  0.00 -9.83  0.18", 
>"1971 1 2GG15  0.00-12.03 -4.69", "1971 1 2GG16  0.00 -6.67  2.08", 
>"1971 1 2GG17  0.00 -6.25  5.27", "1971 1 2GG18  0.00-12.58 -3.52", 
>"1971 1 2GG19  0.00 -5.30  3.12", "1971 1 2GG20  0.00 -6.87 -4.64", 
>"1971 1 2GG21  0.00 -4.62  6.34", "1971 1 2GG22  0.15 -5.88  5.35", 
>"1971 1 2GG23  0.00 -7.02  2.15", "1971 1 2GG24  0.12-13.33 -2.68", 
>"1971 1 2GG25  0.00 -2.34 10.02", "1971 1 2GG26  0.00 -6.57  2.30", 
>"1971 1 2GG27  0.00 -4.73 -0.28", "1971 1 2GG28  0.00 -6.22 -1.39", 
>"1971 1 2GG29  0.00 -8.91 20.70", "1971 1 2GG30  0.00-15.40  0.53", 
>"1971 1 2GG31  0.00 -8.71 18.24", "1971 1 2GG32  0.00-13.01  5.36", 
>"1971 1 2GG33  0.00 -8.09 10.58", "1971 1 2GG34  0.00 -9.32  6.58", 
>"1971 1 2GG35  0.31-17.87 -7.52", "1971 1 2GG36  0.00-14.72  1.90", 
>"1971 1 2GG37  0.00 -8.50  8.82", "1971 1 2GG38  0.00 -9.26  5.61", 
>"1971 1 2GG39  0.00-13.47  1.98", "1971 1 2GG40  0.00-18.61 -6.15", 
>"1971 1 2GG41  0.00-10.59 13.95", "1971 1 2GG42  0.00-10.94  9.05", 
>"1971 1 2GG43  0.00-13.32 13.60", "1971 1 2GG44  0.00-15.20 12.57", 
>"1971 1 2GG45  0.00-15.69  2.25", "1971 1 2GG46  1.84-14.36  3.01", 
>"1971 1 2GG47  0.00-10.36  5.18", "1971 1 2GG48  0.00 -6.97 -0.76", 
>"1971 1 2GG49  0.00-11.56 -1.59", "1971 1 2GG50  0.88-11.91 -8.33", 
>"1971 1 2GG51  0.44-11.14  6.07", "1971 1 2GG52  0.21-11.67 -1.25", 
>"1971 1 2GG53  0.00-11.30 -2.55", "1971 1 2GG54  0.00-11.88  2.89", 
>"1971 1 2GG55  0.00 -6.06 -4.93", "1971 1 2GG56  0.00-10.40 -0.51", 
>"1971 1 2GG57  0.00 -9.97 -3.60", "1971 1 2GG58  0.00 -8.23  3.14", 
>"1971 1 2GG59  0.00 -9.93  1.70", "1971 1 2GG60  0.00-13.92  4.15", 
>"1971 1 2GG61  0.00-12.03-10.30", "1971 1 2GG62  0.00 -7.33 -4.22", 
>"1971 1 2GG63  0.00-11.55-13.21", "1971 1 2GG64  0.00-12.16-12.32", 
>"1971 1 2GG65  0.00 -9.60-11.10", "1971 1 2GG66  0.00-10.90 -6.06", 
>"1971 1 2GG67  0.00-12.19-12.06", "1971 1 2GG68  0.00-15.60 -8.34", 
>"1971 1 2GG69  0.00 -3.31  0.27", "1971 1 2GG70  0.00-15.22 -5.89", 
>"1971 1 2GG71  0.00 -8.63 -5.90", "1971 1 2GG72  0.00-14.99  3.00", 
>"1971 1 2GG73  0.00-11.75 -3.75", "1971 1 2GG74  0.00-11.97-12.86", 
>"1971 1 2GG75  0.00-12.25 -3.46", "1971 1 2GG76  0.00-11.76-12.13", 
>"1971 1 2GG77  0.00-11.49 -9.43", "1971 1 2GG78  0.00-14.66 -8.56", 
>"1971 1 2GG79  0.00-15.49 -7.10", "1971 1 2GG80  0.00-14.48-16.07", 
>"1971 1 2GG81  0.11-12.21-15.29", "1971 1 2GG82  0.00-17.10-16.05", 
>"1971 1 2GG83  0.00-15.24-10.19", "1971 1 2GG84  0.00-10.14 -9.20", 
>"1971 1 2GG85  0.00 -7.62 -0.03", "1971 1 2GG86  0.10-10.68-11.16", 
>"1971 1 2GG87  0.40-20.02-14.83", "1971 1 2GG88  0.00-13.17 -4.92", 
>"1971 1 2GG89  0.00-15.42 -1.34", "1971 1 2GG90  0.00 -8.75  0.07", 
>"1971 1 2GG91  0.24-11.55 -3.52", "1971 1 2GG92  0.00-11.53  1.77", 
>"1971 1 2GG93  0.00 -8.91  0.84", "1971 1 2GG94  0.00-11.88  7.64", 
>"1971 1 2GG95  0.24 -7.16 -0.89", "1971 1 2GG96  0.00-15.64  2.48", 
>"1971 1 2GG97  0.00-11.90  2.21", "1971 1 2GG98  0.00-10.73  6.50", 
>"1971 1 2GG99  0.00 -8.61 -2.58", "1971 1 2G100  0.00-11.06 -3.27", 
>"1971 1 2G101  0.00 -9.02 -5.16", "1971 1 2G102  0.00-10.17-14.01", 
>"1971 1 2G103  0.16-15.32 -9.94", "1971 1 2G104  0.00-11.31 -9.86", 
>"1971 1 2G105  0.00-12.00-15.05", "1971 1 2G106  0.00-20.69 -3.77", 
>"1971 1 2G107  0.74-10.42-11.52", "1971 1 2G108  0.00-10.91 -5.03", 
>"1971 1 2G109  0.00-11.26 -9.73", "1971 1 2G110  0.00-14.79  2.21", 
>"1971 1 2G111  0.00 -9.31 -2.70", "1971 1 2G112  0.00-13.16 -2.77", 
>"1971 1 2G113  0.00-12.08 -1.78", "1971 1 2G114  0.28-18.98 -7.20", 
>"1971 1 2G115  0.00-21.06 -4.52", "1971 1 2G116  0.00-14.65 -8.84", 
>"1971 1 2G117  0.00-13.81-10.56", "1971 1 2G118  0.00-17.12-12.53", 
>"1971 1 2G119  0.00-15.07 -8.09", "1971 1 2G120  0.00-20.96 -3.77", 
>"1971 1 3GGG1  0.00-16.52  1.85", "1971 1 3GGG2  0.00-16.88 -0.03", 
>"1971 1 3GGG3  0.00-22.33 -6.00", "1971 1 3GGG4  0.00-16.25  2.89", 
>"1971 1 3GGG5  0.00-18.35 -4.39", "1971 1 3GGG6  0.00-18.79 -5.67", 
>"1971 1 3GGG7  0.00-14.16  1.51", "1971 1 3GGG8  0.00-17.76 -0.85", 
>"1971 1 3GGG9  0.00-16.45 -6.30", "1971 1 3GG10  0.00-16.25 -6.24", 
>"1971 1 3GG11  0.00-23.74-12.63", "1971 1 3GG12  0.00-19.31 -0.52", 
>"1971 1 3GG13  0.00-19.13  2.08", "1971 1 3GG14  0.00-24.46 -5.04", 
>"1971 1 3GG15  0.00-18.92 -0.13", "1971 1 3GG16  0.00-12.50 -3.54", 
>"1971 1 3GG17  0.00-13.29 -2.78", "1971 1 3GG18  0.00-18.98 -4.70", 
>"1971 1 3GG19  0.00-13.83 -2.44", "1971 1 3GG20  0.00-25.79-10.25", 
>"1971 1 3GG21  0.00-11.34 -0.66", "1971 1 3GG22  0.00-10.11 -2.83", 
>"1971 1 3GG23  0.00-15.43 -6.29", "1971 1 3GG24  0.00-23.01-10.25", 
>"1971 1 3GG25  0.00-10.67 -0.10", "1971 1 3GG26  0.00-12.69 -0.85", 
>"1971 1 3GG27  0.00-12.28  2.12", "1971 1 3GG28  0.00-10.84 -1.60", 
>"1971 1 3GG29  0.00-12.87  6.40", "1971 1 3GG30  0.00-17.11-11.62", 
>"1971 1 3GG31  0.00-11.18  8.41", "1971 1 3GG32  0.00-15.34 -6.13", 
>"1971 1 3GG33  0.30-10.22  4.38", "1971 1 3GG34  0.00 -7.67  0.55", 
>"1971 1 3GG35  0.00-23.97-14.95", "1971 1 3GG36  0.00-15.38 -8.96", 
>"1971 1 3GG37  0.00-12.40  0.59", "1971 1 3GG38  0.00-16.12 -5.61", 
>"1971 1 3GG39  0.00-14.92 -4.53", "1971 1 3GG40  0.00-19.95-24.96", 
>"1971 1 3GG41  0.00 -4.98  2.40", "1971 1 3GG42  0.00-13.02 -1.68", 
>"1971 1 3GG43  0.00 -8.66 -0.90", "1971 1 3GG44  0.00-18.83 -1.64", 
>"1971 1 3GG45  0.00-21.70 -7.68", "1971 1 3GG46  0.00-15.27 -5.41", 
>"1971 1 3GG47  0.00-14.05 -0.73", "1971 1 3GG48  0.00-13.93 -5.77", 
>"1971 1 3GG49  0.00-16.17 -4.18", "1971 1 3GG50  0.00-16.77 -7.11", 
>"1971 1 3GG51  0.00 -7.58 -0.51", "1971 1 3GG52  0.00-12.36 -0.10", 
>"1971 1 3GG53  0.00-13.30 -4.58", "1971 1 3GG54  0.00-17.50 -0.17", 
>"1971 1 3GG55  0.00-10.87 -4.69", "1971 1 3GG56  0.00-15.65 -4.07", 
>"1971 1 3GG57  0.00-10.13 -6.90", "1971 1 3GG58  0.00-10.99 -2.58", 
>"1971 1 3GG59  0.00-11.61  0.17", "1971 1 3GG60  0.00-16.23 -2.26", 
>"1971 1 3GG61  0.00-23.78 -9.75", "1971 1 3GG62  0.00-18.30-10.07", 
>"1971 1 3GG63  0.00-15.22-10.82", "1971 1 3GG64  0.00-26.67 -8.80", 
>"1971 1 3GG65  0.00-22.32-11.40", "1971 1 3GG66  0.00-20.75 -9.33", 
>"1971 1 3GG67  0.00-21.49 -6.17", "1971 1 3GG68  0.00-20.95 -6.75", 
>"1971 1 3GG69  0.00-16.59 -9.57", "1971 1 3GG70  0.00-22.90 -7.87", 
>"1971 1 3GG71  0.00-17.54 -7.42", "1971 1 3GG72  0.00-21.58 -5.26", 
>"1971 1 3GG73  0.00-13.55 -7.83", "1971 1 3GG74  0.00-21.83 -7.61", 
>"1971 1 3GG75  0.00-13.82 -7.70", "1971 1 3GG76  0.00-17.80 -7.74", 
>"1971 1 3GG77  0.00-15.44 -7.29", "1971 1 3GG78  0.00-26.86-12.66", 
>"1971 1 3GG79  0.00-21.57-18.33", "1971 1 3GG80  0.00-19.76-31.16", 
>"1971 1 3GG81  0.00-25.27-24.01", "1971 1 3GG82  0.00-19.48-17.67", 
>"1971 1 3GG83  0.00-28.56-21.77", "1971 1 3GG84  0.00-17.78-15.83", 
>"1971 1 3GG85  0.00-21.06 -5.97", "1971 1 3GG86  0.00-20.99-11.87", 
>"1971 1 3GG87  0.00-22.14-21.84", "1971 1 3GG88  0.00-11.99 -7.91", 
>"1971 1 3GG89  0.00-12.78-10.42", "1971 1 3GG90  0.00-16.86 -5.39", 
>"1971 1 3GG91  0.24-17.71 -5.89", "1971 1 3GG92  0.00-18.13 -9.15", 
>"1971 1 3GG93  0.00-18.44-11.16", "1971 1 3GG94  0.00 -8.72 -0.58", 
>"1971 1 3GG95  0.00-16.33-11.66", "1971 1 3GG96  0.00-23.98-16.25", 
>"1971 1 3GG97  0.00-16.74-10.71", "1971 1 3GG98  0.00-18.25-13.33", 
>"1971 1 3GG99  0.00-21.98-20.73", "1971 1 3G100  0.00-16.49-18.91", 
>"1971 1 3G101  0.00-18.14-13.35", "1971 1 3G102  0.00-21.92-21.30", 
>"1971 1 3G103  0.00-24.87-17.26", "1971 1 3G104  0.00-25.17-21.08", 
>"1971 1 3G105  0.00-24.43-19.17", "1971 1 3G106  0.00-16.21-14.39", 
>"1971 1 3G107  0.10-29.17-19.95", "1971 1 3G108  0.00-28.58-11.97", 
>"1971 1 3G109  0.00-26.68-19.91", "1971 1 3G110  0.00-15.17 -7.27", 
>"1971 1 3G111  0.00-15.67 -7.13", "1971 1 3G112  0.00-16.41-10.49", 
>"1971 1 3G113  0.00-17.01 -7.53", "1971 1 3G114  0.00-18.71-15.00", 
>"1971 1 3G115  0.00-16.51-16.38", "1971 1 3G116  0.00-11.14-17.32", 
>"1971 1 3G117  0.00-13.07-16.85", "1971 1 3G118  0.00-25.12-21.44", 
>"1971 1 3G119  0.00-11.40-13.32", "1971 1 3G120  0.00-17.84-11.70", 
>"1971 1 4GGG1  0.00-16.41-11.50", "1971 1 4GGG2  0.00-14.54-12.04", 
>"1971 1 4GGG3  0.00-16.56-11.39", "1971 1 4GGG4  0.00-13.64-12.68", 
>"1971 1 4GGG5  0.00-14.36 -9.21", "1971 1 4GGG6  0.00-15.84 -6.35", 
>"1971 1 4GGG7  0.00-14.43 -7.76", "1971 1 4GGG8  0.00-14.36-13.15", 
>"1971 1 4GGG9  0.00-16.85-11.71", "1971 1 4GG10  0.00-13.91 -7.79", 
>"1971 1 4GG11  0.00-20.93-15.64", "1971 1 4GG12  0.00-17.45 -8.60", 
>"1971 1 4GG13  0.00-13.19 -3.67", "1971 1 4GG14  0.00-18.00-14.84", 
>"1971 1 4GG15  0.00-16.38-13.05", "1971 1 4GG16  0.00-10.27-14.51", 
>"1971 1 4GG17  0.00 -8.83-10.29", "1971 1 4GG18  0.00-12.94-11.71", 
>"1971 1 4GG19  0.00-13.54 -9.55", "1971 1 4GG20  0.00-25.36-18.19", 
>"1971 1 4GG21  0.00 -6.97-14.26", "1971 1 4GG22  0.00 -8.44 -9.49", 
>"1971 1 4GG23  0.00-15.45-10.71", "1971 1 4GG24  0.00-21.18-15.86", 
>"1971 1 4GG25  0.00-11.38-10.29", "1971 1 4GG26  0.00 -7.77-11.42", 
>"1971 1 4GG27  4.34 -7.39-12.00", "1971 1 4GG28  0.00-13.22 -9.70", 
>"1971 1 4GG29  0.00-12.92-11.16", "1971 1 4GG30  0.00-18.76-12.76", 
>"1971 1 4GG31  0.00-13.27 -9.22", "1971 1 4GG32  0.00-13.94 -9.26", 
>"1971 1 4GG33  0.00 -9.69-13.98", "1971 1 4GG34  0.00-13.50-11.10", 
>"1971 1 4GG35  0.00-25.03 -9.58", "1971 1 4GG36  0.00-17.20-13.59", 
>"1971 1 4GG37  0.00-14.93 -9.16", "1971 1 4GG38  0.00-25.30-10.01", 
>"1971 1 4GG39  0.00-18.25-14.41", "1971 1 4GG40  0.00-29.68-22.25", 
>"1971 1 4GG41  0.00-21.96 -3.32", "1971 1 4GG42  0.00-22.86-14.12", 
>"1971 1 4GG43  0.00-15.78 -9.00", "1971 1 4GG44  0.00-21.51-15.96", 
>"1971 1 4GG45  0.00-23.04-12.33", "1971 1 4GG46  0.00-15.58 -8.41", 
>"1971 1 4GG47  0.00-17.54 -3.44", "1971 1 4GG48  0.00-18.56 -6.02", 
>"1971 1 4GG49  0.00-13.34 -3.38", "1971 1 4GG50  0.00-19.55 -3.63", 
>"1971 1 4GG51  0.00-17.65 -6.99", "1971 1 4GG52  0.00-15.34 -7.12", 
>"1971 1 4GG53  0.00-17.99 -7.59", "1971 1 4GG54  0.00-19.33 -5.80", 
>"1971 1 4GG55  0.00-13.61 -1.53", "1971 1 4GG56  0.00-18.51 -4.81", 
>"1971 1 4GG57  0.00-18.60 -7.14", "1971 1 4GG58  0.00-18.29 -6.32", 
>"1971 1 4GG59  0.00-18.90 -3.90", "1971 1 4GG60  0.00-13.00 -2.62", 
>"1971 1 4GG61  0.00-22.11 -4.93", "1971 1 4GG62  0.00-19.34-13.69", 
>"1971 1 4GG63  0.00-23.73 -5.29", "1971 1 4GG64  0.00-20.87 -7.81", 
>"1971 1 4GG65  0.00-19.49-13.47", "1971 1 4GG66  0.00-17.06-10.01", 
>"1971 1 4GG67  0.00-20.76-11.17", "1971 1 4GG68  0.00-20.37 -8.24", 
>"1971 1 4GG69  0.00-15.26-11.76", "1971 1 4GG70  0.00-25.95 -3.55", 
>"1971 1 4GG71  0.00-23.61 -6.51", "1971 1 4GG72  0.00-22.34 -7.49", 
>"1971 1 4GG73  0.00-24.61 -1.74", "1971 1 4GG74  0.00-21.12 -0.14", 
>"1971 1 4GG75  0.00-11.79 -2.70", "1971 1 4GG76  0.00-17.31  1.33", 
>"1971 1 4GG77  0.00-19.35 -0.41", "1971 1 4GG78  0.00-18.90-13.27", 
>"1971 1 4GG79  0.00-26.41-22.36", "1971 1 4GG80  0.00-29.95-25.03", 
>"1971 1 4GG81  0.00-21.31-20.98", "1971 1 4GG82  0.00-18.25-14.39", 
>"1971 1 4GG83  0.00-23.63-20.31", "1971 1 4GG84  0.00-23.54 -8.82", 
>"1971 1 4GG85  0.00-20.43 -5.85", "1971 1 4GG86  0.00-15.32  1.52", 
>"1971 1 4GG87  0.00-24.45-13.93", "1971 1 4GG88  0.00-21.04  0.56", 
>"1971 1 4GG89  0.00-19.27 -9.12", "1971 1 4GG90  0.00-16.61 -8.00", 
>"1971 1 4GG91  0.00-13.00 -8.94", "1971 1 4GG92  0.00-19.52-16.01", 
>"1971 1 4GG93  0.00-20.95-20.97", "1971 1 4GG94  0.00-12.86 -8.94", 
>"1971 1 4GG95  0.00-18.34-17.80", "1971 1 4GG96  0.00-27.52-23.63", 
>"1971 1 4GG97  0.00-15.03-20.09", "1971 1 4GG98  0.00-16.96-18.70", 
>"1971 1 4GG99  0.00-28.92-25.38", "1971 1 4G100  0.00-25.56-21.66", 
>"1971 1 4G101  0.00-19.86-19.03", "1971 1 4G102  0.00-21.15-23.43", 
>"1971 1 4G103  0.00-20.42-20.69", "1971 1 4G104  0.00-24.67-23.27", 
>"1971 1 4G105  0.00-21.71-23.51", "1971 1 4G106  0.00-19.82-20.67", 
>"1971 1 4G107  0.00-26.08-23.59", "1971 1 4G108  0.00-25.48-19.28", 
>"1971 1 4G109  0.00-28.97-23.75", "1971 1 4G110  0.00-14.21-15.92", 
>"1971 1 4G111  0.00 -9.66 -9.89", "1971 1 4G112  0.00-17.63-17.87", 
>"1971 1 4G113  0.00-15.47-18.62", "1971 1 4G114  0.00-22.40-10.57", 
>"1971 1 4G115  0.00-16.63-18.67", "1971 1 4G116  0.00-16.46-23.35", 
>"1971 1 4G117  0.00-21.74-18.95", "1971 1 4G118  0.00-26.05-24.33", 
>"1971 1 4G119  0.00-14.23-16.48", "1971 1 4G120  0.00-17.76-18.19", 
>"1971 1 5GGG1  0.00-22.86 -5.25", "1971 1 5GGG2  0.00-20.09 -9.21", 
>"1971 1 5GGG3  0.00-20.54 -9.76", "1971 1 5GGG4  0.00-18.66 -5.72", 
>"1971 1 5GGG5  0.10-17.42 -7.73", "1971 1 5GGG6  0.00-18.90 -5.31", 
>"1971 1 5GGG7  0.00-22.18 -2.96", "1971 1 5GGG8  0.00-22.00-10.47", 
>"1971 1 5GGG9  0.00-15.02 -4.94", "1971 1 5GG10  0.00-14.28 -2.55", 
>"1971 1 5GG11  0.00-24.10-10.30", "1971 1 5GG12  0.00-20.41 -4.15", 
>"1971 1 5GG13  0.00-11.63 -1.76", "1971 1 5GG14  0.00-20.84 -7.27", 
>"1971 1 5GG15  0.00-19.14 -2.75", "1971 1 5GG16  0.00-21.54 -2.49", 
>"1971 1 5GG17  0.00-20.54 -2.78", "1971 1 5GG18  0.00-15.10 -0.31", 
>"1971 1 5GG19  0.00-19.52 -3.15", "1971 1 5GG20  0.00-30.05 -9.74", 
>"1971 1 5GG21  0.00-16.67 -5.62", "1971 1 5GG22  0.00-14.18 -5.57", 
>"1971 1 5GG23  0.00-19.52 -4.38", "1971 1 5GG24  0.00-28.02 -5.21", 
>"1971 1 5GG25  0.00-19.40 -4.35", "1971 1 5GG26  0.00-18.44 -6.94", 
>"1971 1 5GG27  0.00-17.73 -6.23", "1971 1 5GG28  0.00-16.35 -3.03", 
>"1971 1 5GG29  0.00-25.60-11.43", "1971 1 5GG30  0.00-23.63 -9.79", 
>"1971 1 5GG31  0.00-22.30-12.69", "1971 1 5GG32  0.00-18.89-10.80", 
>"1971 1 5GG33  0.00-20.10 -9.13", "1971 1 5GG34  0.00-18.63-10.80", 
>"1971 1 5GG35  0.00-17.16-10.29", "1971 1 5GG36  0.00-23.41-11.62", 
>"1971 1 5GG37  0.00-15.73 -5.79", "1971 1 5GG38  0.00-22.14-16.68", 
>"1971 1 5GG39  0.00-20.35-13.37", "1971 1 5GG40  0.00-24.11-19.04", 
>"1971 1 5GG41  0.00-14.91 -7.12", "1971 1 5GG42  0.00-22.39-15.25", 
>"1971 1 5GG43  0.00-18.76 -6.14", "1971 1 5GG44  0.00-21.60-12.78", 
>"1971 1 5GG45  0.00-20.21 -7.11", "1971 1 5GG46  0.10-19.82 -5.78", 
>"1971 1 5GG47  0.00-18.56 -3.60", "1971 1 5GG48  0.00-14.58 -6.48", 
>"1971 1 5GG49  0.00-19.78 -8.71", "1971 1 5GG50  0.00-14.01 -9.49", 
>"1971 1 5GG51  0.00-13.85 -7.35", "1971 1 5GG52  0.00-18.21 -5.90", 
>"1971 1 5GG53  0.00-13.82 -9.44", "1971 1 5GG54  0.00-20.30 -0.27", 
>"1971 1 5GG55  0.00-13.53 -5.01", "1971 1 5GG56  0.00-17.58 -0.48", 
>"1971 1 5GG57  0.00-15.24 -8.22", "1971 1 5GG58  0.00-18.96 -7.27", 
>"1971 1 5GG59  0.00-16.85 -3.07", "1971 1 5GG60  0.00-18.19 -1.81", 
>"1971 1 5GG61  0.00-21.96-10.45", "1971 1 5GG62  0.00-29.79-13.49", 
>"1971 1 5GG63  0.00-23.06 -7.69", "1971 1 5GG64  0.00-22.42 -7.27", 
>"1971 1 5GG65  0.00-25.04-10.96", "1971 1 5GG66  0.00-21.35-14.13", 
>"1971 1 5GG67  0.00-23.12-11.65", "1971 1 5GG68  0.00-18.50-12.49", 
>"1971 1 5GG69  0.00-21.40 -9.85", "1971 1 5GG70  0.00-26.71 -2.48", 
>"1971 1 5GG71  0.00-26.02 -6.04", "1971 1 5GG72  0.00-23.91 -7.64", 
>"1971 1 5GG73  0.00-21.91-11.24", "1971 1 5GG74  0.00-16.78 -6.01", 
>"1971 1 5GG75  0.00-11.26 -9.76", "1971 1 5GG76  0.00 -9.59 -8.09", 
>"1971 1 5GG77  0.00-16.97 -9.14", "1971 1 5GG78  0.00-22.78-18.74", 
>"1971 1 5GG79  0.00-31.15-22.53", "1971 1 5GG80  0.00-28.20-25.73", 
>"1971 1 5GG81  0.00-27.58-15.12", "1971 1 5GG82  0.00-21.29-20.29", 
>"1971 1 5GG83  0.00-24.07-15.02", "1971 1 5GG84  0.00-28.44 -8.95", 
>"1971 1 5GG85  0.00-14.02 -7.21", "1971 1 5GG86  0.00-16.12 -3.54", 
>"1971 1 5GG87  0.00-31.49-18.90", "1971 1 5GG88  0.00-16.80 -8.93", 
>"1971 1 5GG89  0.00-21.69-13.67", "1971 1 5GG90  0.00-24.12-12.29", 
>"1971 1 5GG91  0.00-18.64 -6.11", "1971 1 5GG92  0.00-21.98-14.20", 
>"1971 1 5GG93  0.00-22.72-19.89", "1971 1 5GG94  0.00-16.32 -6.56", 
>"1971 1 5GG95  0.00-17.15-19.70", "1971 1 5GG96  0.00-27.33-22.60", 
>"1971 1 5GG97  0.00-18.32-17.36", "1971 1 5GG98  0.00-20.38-21.48", 
>"1971 1 5GG99  0.00-16.99-27.30", "1971 1 5G100  0.00-28.30-19.85", 
>"1971 1 5G101  0.00-21.32-19.50", "1971 1 5G102  0.00-24.10-20.45", 
>"1971 1 5G103  0.00-31.52-17.44", "1971 1 5G104  0.00-31.57-23.13", 
>"1971 1 5G105  0.00-25.72-20.26", "1971 1 5G106  0.00-30.85-19.91", 
>"1971 1 5G107  0.00-30.43-21.36", "1971 1 5G108  0.00-23.60-25.87", 
>"1971 1 5G109  0.00-30.56-23.63", "1971 1 5G110  0.00-22.08-11.30", 
>"1971 1 5G111  0.00-19.21-12.03", "1971 1 5G112  0.00-22.27-14.61", 
>"1971 1 5G113  0.00-18.38-15.73", "1971 1 5G114  0.00-24.57-17.66", 
>"1971 1 5G115  0.00-25.27-17.95", "1971 1 5G116  0.00-20.96-27.03", 
>"1971 1 5G117  0.00-31.74-27.82", "1971 1 5G118  0.00-34.53-29.67", 
>"1971 1 5G119  0.00-21.42-20.36", "1971 1 5G120  0.00-33.88-29.34", 
>"1971 1 6GGG1  0.00-13.72 -9.61", "1971 1 6GGG2  0.00-12.82 -4.82", 
>"1971 1 6GGG3  0.00-19.05 -5.76", "1971 1 6GGG4  0.00 -9.24 -7.44", 
>"1971 1 6GGG5  0.00-11.58 -2.78", "1971 1 6GGG6  0.00-17.02 -5.08", 
>"1971 1 6GGG7  0.00-16.10 -7.52", "1971 1 6GGG8  0.00-17.55-11.85", 
>"1971 1 6GGG9  0.00-15.87 -8.40", "1971 1 6GG10  0.00-15.46 -6.60", 
>"1971 1 6GG11  0.00-25.14 -8.87", "1971 1 6GG12  0.00-11.75 -6.57", 
>"1971 1 6GG13  0.00-12.65 -6.30", "1971 1 6GG14  0.00-16.34 -8.27", 
>"1971 1 6GG15  0.00-11.49 -5.70", "1971 1 6GG16  0.00-14.01-10.11", 
>"1971 1 6GG17  0.00-16.67-14.63", "1971 1 6GG18  0.00-10.52-10.20", 
>"1971 1 6GG19  0.00-14.59-10.92", "1971 1 6GG20  0.00-19.87-12.21", 
>"1971 1 6GG21  0.00-11.81-12.86", "1971 1 6GG22  0.00 -8.82-12.09", 
>"1971 1 6GG23  0.00-14.09 -8.40", "1971 1 6GG24  0.00-16.37 -4.91", 
>"1971 1 6GG25  0.00-16.16 -9.93", "1971 1 6GG26  0.00-12.16-11.80", 
>"1971 1 6GG27  0.00-11.43-13.74", "1971 1 6GG28  0.00-14.12-10.62", 
>"1971 1 6GG29  0.00-10.53-12.31", "1971 1 6GG30  0.00-15.76-10.49", 
>"1971 1 6GG31  0.00-13.36-11.53", "1971 1 6GG32  0.00-17.44-12.79", 
>"1971 1 6GG33  0.00-18.07 -8.53", "1971 1 6GG34  0.00-15.75 -7.80", 
>"1971 1 6GG35  0.00-22.07-15.77", "1971 1 6GG36  0.00-20.54-11.86", 
>"1971 1 6GG37  0.00-20.33 -7.64", "1971 1 6GG38  0.00-19.89-17.90", 
>"1971 1 6GG39  0.00-17.16-12.20", "1971 1 6GG40  0.00-26.45-23.08", 
>"1971 1 6GG41  0.00-12.68-12.63", "1971 1 6GG42  0.00-19.77-16.24", 
>"1971 1 6GG43  0.00 -6.88 -9.78", "1971 1 6GG44  0.00-14.43-13.50", 
>"1971 1 6GG45  0.00-22.00-10.05", "1971 1 6GG46  0.00-18.22 -5.28", 
>"1971 1 6GG47  0.00-17.54 -6.90", "1971 1 6GG48  0.00-14.05 -7.50", 
>"1971 1 6GG49  0.00-21.29 -8.94", "1971 1 6GG50  0.00-17.36 -6.79", 
>"1971 1 6GG51  0.00-18.45 -2.98", "1971 1 6GG52  0.00-14.80 -4.64", 
>"1971 1 6GG53  0.00-18.60 -7.35", "1971 1 6GG54  0.00-15.41 -5.92", 
>"1971 1 6GG55  0.00-14.70 -8.26", "1971 1 6GG56  0.00 -7.91 -6.54", 
>"1971 1 6GG57  0.00-15.77 -5.69", "1971 1 6GG58  0.00-14.66 -7.45", 
>"1971 1 6GG59  0.00-13.25 -6.38", "1971 1 6GG60  0.00-16.23 -6.87", 
>"1971 1 6GG61  0.00-20.13 -9.20", "1971 1 6GG62  0.00-20.72-11.71", 
>"1971 1 6GG63  0.00-22.93 -7.37", "1971 1 6GG64  0.00-22.75 -7.07", 
>"1971 1 6GG65  0.00-16.04 -7.05", "1971 1 6GG66  0.00-27.39-10.05", 
>"1971 1 6GG67  0.00-18.15 -6.19", "1971 1 6GG68  0.00-19.00 -9.71", 
>"1971 1 6GG69  0.00-24.41 -9.13", "1971 1 6GG70  0.00-20.42 -8.47", 
>"1971 1 6GG71  0.00-21.29 -7.72", "1971 1 6GG72  0.00-20.85 -8.25", 
>"1971 1 6GG73  0.00-22.72 -8.70", "1971 1 6GG74  0.21-18.03 -4.71", 
>"1971 1 6GG75  0.00-24.48 -5.56", "1971 1 6GG76  0.00-20.16 -8.66", 
>"1971 1 6GG77  0.00-17.76 -4.34", "1971 1 6GG78  0.00-27.73-12.21", 
>"1971 1 6GG79  0.00-31.87-21.02", "1971 1 6GG80  0.00-32.11-25.40", 
>"1971 1 6GG81  0.00-17.48-14.02", "1971 1 6GG82  0.00-35.04-18.44", 
>"1971 1 6GG83  0.00-23.81-17.13", "1971 1 6GG84  0.00-24.66 -6.12", 
>"1971 1 6GG85  0.00-15.23-10.67", "1971 1 6GG86  0.00-14.85 -4.23", 
>"1971 1 6GG87  0.00-36.22-20.88", "1971 1 6GG88  0.00-25.44 -7.20", 
>"1971 1 6GG89  0.00-27.02 -9.35", "1971 1 6GG90  0.00-27.35 -9.05", 
>"1971 1 6GG91  0.00-17.49 -7.14", "1971 1 6GG92  0.00-22.63-15.59", 
>"1971 1 6GG93  0.00-20.19-15.81", "1971 1 6GG94  0.00-13.51 -6.34", 
>"1971 1 6GG95  0.00-20.18-14.44", "1971 1 6GG96  0.00-31.16-16.50", 
>"1971 1 6GG97  0.00-17.00-16.45", "1971 1 6GG98  0.00-23.08-16.15", 
>"1971 1 6GG99  0.00-21.64-24.38", "1971 1 6G100  0.00-31.24-18.67", 
>"1971 1 6G101  0.00-25.47-20.05", "1971 1 6G102  0.00-24.01-16.47", 
>"1971 1 6G103  0.00-24.91-14.62", "1971 1 6G104  0.00-27.90-15.65", 
>"1971 1 6G105  0.00-29.74-17.63", "1971 1 6G106  0.00-30.17-16.07", 
>"1971 1 6G107  0.00-26.03-20.59", "1971 1 6G108  0.00-28.87-24.04", 
>"1971 1 6G109  0.00-30.57-19.24", "1971 1 6G110  0.00-24.49-10.19", 
>"1971 1 6G111  0.00-18.43-11.28", "1971 1 6G112  0.00-24.40-17.47", 
>"1971 1 6G113  0.00-23.29-17.32", "1971 1 6G114  1.34-31.95-14.56", 
>"1971 1 6G115  0.00-25.91-14.74", "1971 1 6G116  0.00-21.16-18.86", 
>"1971 1 6G117  0.00-27.98-23.32", "1971 1 6G118  0.00-37.70-25.59", 
>"1971 1 6G119  0.00-22.58-17.38", "1971 1 6G120  0.00-32.45-21.24", 
>"1971 1 7GGG1  0.00-19.72-14.16", "1971 1 7GGG2  0.00-13.78-10.75", 
>"1971 1 7GGG3  0.00-16.56 -6.17", "1971 1 7GGG4  0.00-15.10-15.44", 
>"1971 1 7GGG5  0.00 -7.99 -7.00", "1971 1 7GGG6  0.00-13.34 -7.50", 
>"1971 1 7GGG7  0.00-23.13-15.45", "1971 1 7GGG8  0.00-26.93-15.46", 
>"1971 1 7GGG9  0.00-18.54-11.77", "1971 1 7GG10  0.11-18.75-10.57", 
>"1971 1 7GG11  0.00-19.43 -7.64", "1971 1 7GG12  0.00-16.21-16.33", 
>"1971 1 7GG13  0.00-19.28-12.64", "1971 1 7GG14  0.00-14.24 -8.72", 
>"1971 1 7GG15  0.00-14.61-11.67", "1971 1 7GG16  0.00-19.65 -7.23", 
>"1971 1 7GG17  0.00-22.48-11.56", "1971 1 7GG18  0.00-20.06-10.58", 
>"1971 1 7GG19  0.00-21.20 -6.35", "1971 1 7GG20  0.00-20.48 -9.67", 
>"1971 1 7GG21  0.00-18.71-13.79", "1971 1 7GG22  0.00-16.64-10.63", 
>"1971 1 7GG23  0.00-15.15 -7.33", "1971 1 7GG24  0.00-13.97 -6.43", 
>"1971 1 7GG25  0.00-21.27-14.00", "1971 1 7GG26  0.00-17.64-11.88", 
>"1971 1 7GG27  0.00-18.50 -9.70", "1971 1 7GG28  1.53-17.16-11.58", 
>"1971 1 7GG29  0.00-26.04-14.51", "1971 1 7GG30  0.00-17.43-13.71", 
>"1971 1 7GG31  0.00-18.87-15.37", "1971 1 7GG32  0.00-20.21-14.36", 
>"1971 1 7GG33  0.00-21.77-16.49", "1971 1 7GG34  0.00-20.32-12.41", 
>"1971 1 7GG35  0.00-19.26-14.94", "1971 1 7GG36  0.00-14.64-15.20", 
>"1971 1 7GG37  0.00-22.93-14.00", "1971 1 7GG38  0.00-17.99-17.46", 
>"1971 1 7GG39  0.00-21.92 -8.77", "1971 1 7GG40  0.00-21.17-20.10", 
>"1971 1 7GG41  0.00-17.92-12.33", "1971 1 7GG42  0.00-22.53-14.77", 
>"1971 1 7GG43  0.00-18.80 -8.27", "1971 1 7GG44  0.00-18.50-12.54", 
>"1971 1 7GG45  0.00-23.81-10.12", "1971 1 7GG46  0.00-10.19 -9.55", 
>"1971 1 7GG47  0.00-17.44 -9.06", "1971 1 7GG48  0.00-13.12-10.11", 
>"1971 1 7GG49  0.00-14.13 -8.55", "1971 1 7GG50  0.00-18.01 -7.35", 
>"1971 1 7GG51  0.00-16.35 -4.55", "1971 1 7GG52  0.00-12.32 -7.52", 
>"1971 1 7GG53  0.00-15.23 -8.95", "1971 1 7GG54  0.00-15.06 -7.44", 
>"1971 1 7GG55  0.00-14.07 -8.49", "1971 1 7GG56  0.00-14.85 -6.80", 
>"1971 1 7GG57  0.00-17.03 -9.85", "1971 1 7GG58  0.00-18.71 -9.11", 
>"1971 1 7GG59  0.00-14.16 -8.86", "1971 1 7GG60  0.00-17.41-10.54", 
>"1971 1 7GG61  0.00-15.46-12.28", "1971 1 7GG62  0.00-18.46 -7.80", 
>"1971 1 7GG63  0.00-16.43 -7.55", "1971 1 7GG64  0.00-19.98 -8.85", 
>"1971 1 7GG65  0.00-16.97 -7.91", "1971 1 7GG66  0.00-17.61-12.29", 
>"1971 1 7GG67  0.00-12.33 -7.88", "1971 1 7GG68  0.00-15.20-10.68", 
>"1971 1 7GG69  0.00-21.92 -7.91", "1971 1 7GG70  0.00-20.05-10.88", 
>"1971 1 7GG71  0.00-17.53 -8.63", "1971 1 7GG72  0.00-16.73-12.26", 
>"1971 1 7GG73  0.00-18.26 -6.23", "1971 1 7GG74  0.00-13.20 -6.70", 
>"1971 1 7GG75  0.00-16.30 -5.41", "1971 1 7GG76  0.00-11.47 -8.15", 
>"1971 1 7GG77  0.00 -9.89 -6.73", "1971 1 7GG78  0.20-21.21-14.01", 
>"1971 1 7GG79  0.00-27.06-20.53", "1971 1 7GG80  0.00-27.00-24.18", 
>"1971 1 7GG81  0.00-23.57-14.67", "1971 1 7GG82  0.00-22.48-19.02", 
>"1971 1 7GG83  0.00-29.42-18.39", "1971 1 7GG84  0.00-17.57 -9.66", 
>"1971 1 7GG85  0.00 -8.74-10.94", "1971 1 7GG86  0.00-11.27 -8.36", 
>"1971 1 7GG87  0.00-24.64-19.28", "1971 1 7GG88  0.00-24.98 -6.19", 
>"1971 1 7GG89  0.00-19.19 -8.77", "1971 1 7GG90  0.00-22.92-10.24", 
>"1971 1 7GG91  0.00-18.23 -6.82", "1971 1 7GG92  0.00-23.24 -8.59", 
>"1971 1 7GG93  0.00-20.79 -5.76", "1971 1 7GG94  0.00-19.26 -5.06", 
>"1971 1 7GG95  0.00-25.66 -9.22", "1971 1 7GG96  0.00-29.90 -9.71", 
>"1971 1 7GG97  0.00-20.34 -5.13", "1971 1 7GG98  0.00-21.01 -8.79", 
>"1971 1 7GG99  0.00-26.03 -9.98", "1971 1 7G100  0.00-27.81 -9.16", 
>"1971 1 7G101  0.00-30.19 -6.58", "1971 1 7G102  0.00-18.98 -8.15", 
>"1971 1 7G103  0.00-23.02-10.54", "1971 1 7G104  0.00-29.35 -9.30", 
>"1971 1 7G105  0.00-29.03 -7.99", "1971 1 7G106  0.00-26.07-12.02", 
>"1971 1 7G107  0.00-29.85-10.43", "1971 1 7G108  0.00-28.14-11.21", 
>"1971 1 7G109  0.00-31.79 -8.87", "1971 1 7G110  0.00-15.18 -9.86", 
>"1971 1 7G111  0.00-14.84-10.51", "1971 1 7G112  0.00-24.09 -9.49", 
>"1971 1 7G113  0.00-20.26 -9.74", "1971 1 7G114  0.00-21.61-15.25", 
>"1971 1 7G115  0.00-15.76-12.42", "1971 1 7G116  0.00-24.84-23.48", 
>"1971 1 7G117  0.00-26.76-22.68", "1971 1 7G118  0.00-27.32-21.52", 
>"1971 1 7G119  0.00-17.06-16.10", "1971 1 7G120  0.00-25.24-18.54", 
>"1971 1 8GGG1  0.52 -8.82-12.99", "1971 1 8GGG2  0.00 -8.15 -9.43", 
>"1971 1 8GGG3  0.00-14.15 -7.46", "1971 1 8GGG4  0.00 -7.99-10.21", 
>"1971 1 8GGG5  0.00-10.95 -7.35", "1971 1 8GGG6  0.00-10.73 -5.78", 
>"1971 1 8GGG7  0.00-17.87-13.26", "1971 1 8GGG8  0.00-11.25-12.14", 
>"1971 1 8GGG9  0.00 -7.71 -7.57", "1971 1 8GG10  0.00 -5.96 -8.39", 
>"1971 1 8GG11  0.00-12.18 -9.80", "1971 1 8GG12  0.00 -5.65-11.28", 
>"1971 1 8GG13  0.00 -8.64-10.11", "1971 1 8GG14  0.00-16.86 -9.24", 
>"1971 1 8GG15  0.00 -7.62 -8.22", "1971 1 8GG16  0.00 -9.12 -8.42", 
>"1971 1 8GG17  0.00-14.96-11.73", "1971 1 8GG18  0.00 -7.98 -9.49", 
>"1971 1 8GG19  0.00 -9.69 -8.99", "1971 1 8GG20  0.00-15.88-11.19", 
>"1971 1 8GG21  0.00-17.05-10.89", "1971 1 8GG22  0.00-12.61 -7.54", 
>"1971 1 8GG23  0.00-10.31 -7.41", "1971 1 8GG24  0.00-10.61-10.84", 
>"1971 1 8GG25  0.00-14.80-10.73", "1971 1 8GG26  0.00-12.89 -6.80", 
>"1971 1 8GG27  0.00 -8.32 -7.55", "1971 1 8GG28  0.00 -7.69 -6.08", 
>"1971 1 8GG29  0.00-16.26-15.35", "1971 1 8GG30  0.00-11.48 -8.62", 
>"1971 1 8GG31  0.00-14.38-14.59", "1971 1 8GG32  0.00 -8.84-10.86", 
>"1971 1 8GG33  0.00-11.31 -8.36", "1971 1 8GG34  0.00 -9.35 -6.17", 
>"1971 1 8GG35  0.00 -7.08 -6.07", "1971 1 8GG36  0.00 -7.35 -8.72", 
>"1971 1 8GG37  0.00-16.81 -8.52", "1971 1 8GG38  0.16-21.22-11.34", 
>"1971 1 8GG39  0.00-15.12-10.88", "1971 1 8GG40  0.00-11.81-10.35", 
>"1971 1 8GG41  0.00-10.33 -2.93", "1971 1 8GG42  0.00-20.96-10.93", 
>"1971 1 8GG43  0.00 -4.48 -6.94", "1971 1 8GG44  0.00 -9.91-11.60", 
>"1971 1 8GG45  1.61-10.67 -7.68", "1971 1 8GG46  0.00 -6.14 -5.31", 
>"1971 1 8GG47  0.00-20.40 -5.32", "1971 1 8GG48  0.00-19.76 -7.21", 
>"1971 1 8GG49  0.00-12.62 -6.26", "1971 1 8GG50  2.03 -8.04 -8.00", 
>"1971 1 8GG51  0.00-19.30 -6.75", "1971 1 8GG52  0.00-17.53 -4.90", 
>"1971 1 8GG53  0.00-15.38 -8.50", "1971 1 8GG54  0.00-14.95 -8.08", 
>"1971 1 8GG55  0.00-12.51-11.02", "1971 1 8GG56  0.00-18.34 -7.44", 
>"1971 1 8GG57  0.00-13.25 -8.63", "1971 1 8GG58  0.00-18.36 -5.72", 
>"1971 1 8GG59  0.00-20.45 -8.17", "1971 1 8GG60  0.00-19.79 -5.55", 
>"1971 1 8GG61  0.00-16.70-10.56", "1971 1 8GG62  0.00-13.50-11.63", 
>"1971 1 8GG63  0.00 -9.26 -9.83", "1971 1 8GG64  0.00-10.19 -5.91", 
>"1971 1 8GG65  0.00-11.65-10.19", "1971 1 8GG66  0.00-15.19 -7.02", 
>"1971 1 8GG67  0.00-13.11 -9.19", "1971 1 8GG68  0.00-15.68-15.12", 
>"1971 1 8GG69  0.00-15.24-11.41", "1971 1 8GG70  0.00-17.16 -5.47", 
>"1971 1 8GG71  0.00-12.13 -9.38", "1971 1 8GG72  0.00-24.45 -8.92", 
>"1971 1 8GG73  0.00-13.70 -3.91", "1971 1 8GG74  0.00-11.41 -7.34", 
>"1971 1 8GG75  0.00-15.56 -2.72", "1971 1 8GG76  0.00-10.33 -6.15", 
>"1971 1 8GG77  0.00-12.97 -9.15", "1971 1 8GG78  0.00-15.55 -9.39", 
>"1971 1 8GG79  0.00-15.25 -8.01", "1971 1 8GG80  0.00-31.36-15.25", 
>"1971 1 8GG81  0.00-21.95 -9.86", "1971 1 8GG82  0.00-25.18-13.15", 
>"1971 1 8GG83  0.00-25.33-14.15", "1971 1 8GG84  0.00-19.11 -8.27", 
>"1971 1 8GG85  0.00-15.43 -4.79", "1971 1 8GG86  0.00 -8.33 -7.48", 
>"1971 1 8GG87  0.00-27.52-12.52", "1971 1 8GG88  0.00-21.30 -5.22", 
>"1971 1 8GG89  0.00-14.45-10.75", "1971 1 8GG90  0.00-15.19 -6.89", 
>"1971 1 8GG91  0.00-15.81 -5.03", "1971 1 8GG92  0.00-14.26 -7.98", 
>"1971 1 8GG93  0.00-13.90-11.03", "1971 1 8GG94  0.00-20.99 -9.83", 
>"1971 1 8GG95  0.00-14.62-12.60", "1971 1 8GG96  0.00-24.63-11.72", 
>"1971 1 8GG97  0.00-11.73-10.12", "1971 1 8GG98  0.00-18.30-13.60", 
>"1971 1 8GG99  0.00-16.03-13.33", "1971 1 8G100  0.00-21.05-11.34", 
>"1971 1 8G101  0.00-16.64-11.46", "1971 1 8G102  0.00-11.64-13.22", 
>"1971 1 8G103  0.00-16.60-12.60", "1971 1 8G104  0.00-20.00 -7.75", 
>"1971 1 8G105  0.00-15.10-10.28", "1971 1 8G106  0.00-19.21-11.95", 
>"1971 1 8G107  0.00-15.91 -7.70", "1971 1 8G108  0.00-15.05-13.87", 
>"1971 1 8G109  0.00-13.18 -9.58", "1971 1 8G110  0.00-17.82-11.81", 
>"1971 1 8G111  0.00-11.29 -8.49", "1971 1 8G112  0.00-13.39-10.49", 
>"1971 1 8G113  0.00-15.25 -9.80", "1971 1 8G114  0.10-24.97-13.28", 
>"1971 1 8G115  0.00-17.06 -8.99", "1971 1 8G116  0.00-34.06-20.00", 
>"1971 1 8G117  0.00-29.92-17.96", "1971 1 8G118  0.00-27.16-14.45", 
>"1971 1 8G119  0.00-24.79-19.11", "1971 1 8G120  0.15-24.52-17.37", 
>"1971 1 9GGG1  0.00-20.49-13.47", "1971 1 9GGG2  0.00-17.73-10.87", 
>"1971 1 9GGG3  0.00-18.44-16.84", "1971 1 9GGG4  0.00-18.16-14.79", 
>"1971 1 9GGG5  0.00-24.01-15.93", "1971 1 9GGG6  0.00-18.21-12.37", 
>"1971 1 9GGG7  0.00-17.94-19.30", "1971 1 9GGG8  0.00-18.51-14.07", 
>"1971 1 9GGG9  0.00-13.71-17.01", "1971 1 9GG10  0.10-15.29-15.46", 
>"1971 1 9GG11  0.00-18.69-15.79", "1971 1 9GG12  0.00-14.34-17.41", 
>"1971 1 9GG13  0.00-13.55-17.04", "1971 1 9GG14  0.00-22.77-15.57", 
>"1971 1 9GG15  0.00-13.70-18.17", "1971 1 9GG16  0.00-13.00-11.75", 
>"1971 1 9GG17  0.00-18.82-11.74", "1971 1 9GG18  0.00-14.45-16.14", 
>"1971 1 9GG19  0.00 -9.43-16.56", "1971 1 9GG20  0.00-22.20-12.81", 
>"1971 1 9GG21  0.00-17.16-10.77", "1971 1 9GG22  0.00-18.45-12.22", 
>"1971 1 9GG23  0.00-11.15-17.75", "1971 1 9GG24  0.00-18.59 -8.48", 
>"1971 1 9GG25  0.00-23.86-16.04", "1971 1 9GG26  0.00-16.40-12.21", 
>"1971 1 9GG27  0.00-19.89-13.52", "1971 1 9GG28  0.24-12.90-13.83", 
>"1971 1 9GG29  0.00-22.99-16.61", "1971 1 9GG30  0.00-14.12 -9.60", 
>"1971 1 9GG31  0.00-22.84-16.52", "1971 1 9GG32  0.00-17.42-11.11", 
>"1971 1 9GG33  0.00-18.01-15.11", "1971 1 9GG34  0.00-14.37-15.03", 
>"1971 1 9GG35  0.00-15.25-19.38", "1971 1 9GG36  0.00-12.19 -9.92", 
>"1971 1 9GG37  0.00-19.20-17.27", "1971 1 9GG38  0.00-32.65-12.48", 
>"1971 1 9GG39  0.00-24.11-16.09", "1971 1 9GG40  0.00-23.44-22.70" 
>))
>
>
>
>Here is a code for processing a thousand of these kind of files:
>#===================================================================================================================
>lst1Sub <- data_above
>
>lst2 <- lapply(lst1Sub,function(x) {dateSite <-
>gsub("(.*G.{3}).*","\\1",x); 
>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? dat1 <-
>data.frame(Year=as.numeric(substr(dateSite,1,4)),
>Month=as.numeric(substr(dateSite,5,6)),Day=as.numeric(substr(dateSite,7,8)),Site=substr(dateSite,9,12),stringsAsFactors=FALSE);
>
>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims <-
>str_trim(gsub(".*G.{3}\\s?(.*)","\\1",x));Sims[grep("\\d+-",Sims)] <-
>gsub("(.*)([- ][0-9]+\\.[0-9]+)","\\1
>\\2",gsub("^([0-9]+\\.[0-9]+)(.*)","\\1 \\2",
>Sims[grep("\\d+-",Sims)])); 
>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Sims1 <-
>read.table(text=Sims,header=FALSE); names(Sims1) <- c("Precipitation",
>"Tmin", "Tmax");dat2 <- cbind(dat1,Sims1)}) 
>#=========================================================================================================================
>
>1) Please use this code to free up memory considering that I am working
>on 1000 files, so I am in for speed.
>2) Is there a faster way of doing the same task as above? My data files
>are simulated in FORTRAN and read as:
>
>data.frame(Day=as.numeric(substr(rain.data,7,8)), 
>? ? ? ? ? ? ? ? ? ? ? ? ?Month=as.numeric(substr(rain.data,5,6)), 
>? ? ? ? ? ? ? ? ? ? ? ? ?Year=as.numeric(substr(rain.data,1,4)), 
>? ? ? ? ? ? ? ? ? ? ? ? ?Site=substr(rain.data,9,12), 
>? ? ? ? ? ? ? ? ? ? ? ? Precip=as.numeric(substr(rain.data,13,18)), 
>? ? ? ? ? ? ? ? ? ? ? ? Tmin=as.numeric(substr(rain.data,19,24)), 
>? ? ? ? ? ? ? ? ? ? ? ? Tmax=as.numeric(substr(rain.data,25,30))) 
>#### Day occupies position 7 and 8, Month occupies position 5 and 6,
>Year occupies position 1 to 4 and so on for site, precip, ####tmin and
>tmax
>
>Thanks for your great help.
>Zilefac.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From kmersman at smail.uni-koeln.de  Tue May 13 11:17:03 2014
From: kmersman at smail.uni-koeln.de (Katharina Mersmann)
Date: Tue, 13 May 2014 11:17:03 +0200
Subject: [R] WG: vars or plm package? bivariate VAR
Message-ID: <001101cf6e8c$1a454da0$4ecfe8e0$@uni-koeln.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/79304abf/attachment.pl>

From cof at qualityexcellence.es  Tue May 13 12:30:33 2014
From: cof at qualityexcellence.es (Carlos Ortega)
Date: Tue, 13 May 2014 12:30:33 +0200
Subject: [R] implementation for genetic algorithm
In-Reply-To: <BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>
References: <1399496122003-4690142.post@n4.nabble.com>
	<loom.20140508T234611-559@post.gmane.org>
	<BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>
Message-ID: <CAOKbq8jr+vq5_rAn_3wXqQUnaXbvb-g+nPfVeh9SWVou6cHHeg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/838973fa/attachment.pl>

From n_omranian at yahoo.com  Tue May 13 14:15:12 2014
From: n_omranian at yahoo.com (n omranian)
Date: Tue, 13 May 2014 05:15:12 -0700 (PDT)
Subject: [R] stop a function
Message-ID: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/c3d5e5dc/attachment.pl>

From marongiu.luigi at gmail.com  Tue May 13 14:15:39 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Tue, 13 May 2014 13:15:39 +0100
Subject: [R] package to plot mean and standard deviation directly on data
In-Reply-To: <001201cf6e40$28e7dcc0$7ab79640$@bigpond.com>
References: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
	<001201cf6e40$28e7dcc0$7ab79640$@bigpond.com>
Message-ID: <CAMk+s2TTiNJ73KUT_zpv-JO4ts4r3pLWa4kdb6Bk2p7r17CO0g@mail.gmail.com>

 Dear Duncan and Jim,
thank you fo ryour reply. Please do not worry about the code: it was
just an example of the lenghty procedure I have to apply to plot the
standard deviation lines; the actual code is then shaped according to
the data at hand.
I will have a look at the packages you have suggested.
Best regards
Luigi


On Tue, May 13, 2014 at 1:13 AM, Duncan Mackay <dulcalma at bigpond.com> wrote:
> Hi Luigi
>
> I have not got time at the moment to look at you question but see
>
> library(xyplot)
> demo(intervals)
>
> Duncan
>
> Duncan Mackay
> Department of Agronomy and Soil Science
> University of New England
> Armidale NSW 2351
> Email: home: mackay at northnet.com.au
>
>
>
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
> Behalf Of Luigi Marongiu
> Sent: Tuesday, 13 May 2014 03:50
> To: r-help at r-project.org
> Subject: [R] package to plot mean and standard deviation directly on data
>
>  Dear all,
> is there a package, preferably not ggplot, to draw the lines for the
> standard deviation just by providing the vector with the data? more or
> less as it happens with the boxplot function.
> the procedure i implemented herein requires the calculation of the
> means, standard deviations, limits (mean+/-SD) and the horizontal bars
> as well, everything plotted individually. the packages i have seen on
> google they all require to calculate the mean/SD prior to the plot.
> best wishes,
> luigi
>
>
> # in case you are interested this is the code, which is faulty for the
> factor of the variable "sample"
>
> my.data<-structure(list(
> group = c(
> 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
> sample = c(
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
> copy = c(
> 626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
> 297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
> 351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
> 16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
> 142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
> 40.15, 34.27, 26.93, 24.8)),
>  row.names = c(NA, -36L),  class = "data.frame")
> # define subset
> A<-subset(my.data, group==0)
> # define average and standard deviation
> avg.A<-aggregate(copy ~ sample, A, mean)
> names(avg.A)<-c("samp.", "avg")
> sd.A<-aggregate(copy ~ sample, A, sd)
> names(sd.A)<-c("Samp", "sd")
> A.bound<-merge(avg.A, sd.A, by.x="samp.", by.y="Samp")
> # define limits
> min.A<-A.bound$avg - A.bound$sd
> max.A<-A.bound$avg + A.bound$sd
> # plot
> plot(avg  ~ samp., data=avg.A,  pch=16, ylim=c(-10, 600),
> las=3, cex.lab=1.5, cex.main=1.8, col="black",
> ylab=expression(bold("copy")),
> xlab=expression(bold("sample")),
> main="Mean and std dev")
> # add limit segments
> segments(seq(length(avg.A$sample)), max.A, seq(length(avg.A$sample)),
> min.A)
> segments(seq(length(avg.B$sample)), max.B, seq(length(avg.B$sample)),
> min.B)
> # add notch
> notch<-0.02  # define end of bar extension
> segments(seq(length(avg.A$sample))-notch, max.A,
> seq(length(avg.A$sample))+notch,  max.A)
> segments(seq(length(avg.A$sample))-notch, min.A,
> seq(length(avg.A$sample))+notch,  min.A)
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From abhinabaroy09 at gmail.com  Tue May 13 14:34:32 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Tue, 13 May 2014 18:04:32 +0530
Subject: [R] Merging data.table and data.frame
Message-ID: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/55859c46/attachment.pl>

From Thierry.ONKELINX at inbo.be  Tue May 13 14:36:20 2014
From: Thierry.ONKELINX at inbo.be (ONKELINX, Thierry)
Date: Tue, 13 May 2014 12:36:20 +0000
Subject: [R] stop a function
In-Reply-To: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
Message-ID: <AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>

Have a look at evalWithTimeout() from the R.utils package

Best regards,

ir. Thierry Onkelinx
Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
Kliniekstraat 25
1070 Anderlecht
Belgium
+ 32 2 525 02 51
+ 32 54 43 61 85
Thierry.Onkelinx at inbo.be
www.inbo.be

To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
~ Sir Ronald Aylmer Fisher

The plural of anecdote is not data.
~ Roger Brinner

The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey


-----Oorspronkelijk bericht-----
Van: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] Namens n omranian
Verzonden: dinsdag 13 mei 2014 14:15
Aan: r-packages-owner at r-project.org; r-help at r-project.org; r-help-request at r-project.org
Onderwerp: [R] stop a function

Hi all,

If I use a function in R which takes some parameters as an input, how can I stop this function in the while loop and try another parameter in case the function takes long time or could not converge.

Actually, I'm using "penalized" function in a loop for some fixed lambdas (pre-calculated), for some of them the function converged, but for some not. Now I decide to proceed in this way that if it takes longer than 3 mins, stop the "penalized" function and try the other lambdas.

I need to do it in the loop since the loop is in the big program and I can't manually stop and begin again.

Looking forward to your reply.
NO

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
* * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.


From ashisdeb83 at gmail.com  Tue May 13 14:48:03 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Tue, 13 May 2014 05:48:03 -0700
Subject: [R] Getting data s from "Think or Swim " platform through R.
Message-ID: <CAFcJUTpUQLDkUZrg8_3KWinaCV4iGrLrJVst8F0op5vUuDtt+A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/b061dba5/attachment.pl>

From marongiu.luigi at gmail.com  Tue May 13 14:53:54 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Tue, 13 May 2014 13:53:54 +0100
Subject: [R] package to plot mean and standard deviation directly on data
In-Reply-To: <3475089.ZcUSLUy7JC@localhost.localdomain>
References: <CAMk+s2TrAAx=1VGwE1XLsnCABtZetKZuYspH72GMTMOBk++UTg@mail.gmail.com>
	<3475089.ZcUSLUy7JC@localhost.localdomain>
Message-ID: <CAMk+s2Tq2O002vLJL=GGcvrQT9T0ucr7gZKyM06toEqQzi9uOg@mail.gmail.com>

 Dear Jim,
I have use the brkdn.plot as you suggested and I quite like it since
it is easy to use. Would be possible to overlap the confidence bars
(SD) with the mean value points? The implemetation leaves a small
space as you can see in this figure. I tired with a pch=list(type="o",
pch=c(16, 1, 15)) but it did not work.
In addition: what are the code, if applicable, for let's say:

mean / standard deviation
median / min-max
mean / 95% confidence interval

Here the implemetation is standard error.
Compliments for the development of this nice function,
Regards
luigi

# code::
my.data<-structure(list(
group = c(
0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
sample = c(
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
copy = c(
626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
40.15, 34.27, 26.93, 24.8)),
 row.names = c(NA, -36L),  class = "data.frame")
my.data$sample<-factor(my.data$sample, levels = c(0,1))
 levels(my.data$sample)<-c("first", "second")

brkdn.plot(copy~group+sample,data=my.data, mct="mean", md="std.error",
stagger=NA, dispbar=TRUE,
type="p", pch=c(16, 1, 15),
main="Breakdown plot", xlab="sample",ylab="value", xaxlab=c("first", "second"))

On Mon, May 12, 2014 at 10:36 PM, Jim Lemon <jim at bitwrit.com.au> wrote:
> On Mon, 12 May 2014 06:50:29 PM Luigi Marongiu wrote:
>>  Dear all,
>> is there a package, preferably not ggplot, to draw the lines for the
>> standard deviation just by providing the vector with the data? more
> or
>> less as it happens with the boxplot function.
>> the procedure i implemented herein requires the calculation of the
>> means, standard deviations, limits (mean+/-SD) and the horizontal
> bars
>> as well, everything plotted individually. the packages i have seen on
>> google they all require to calculate the mean/SD prior to the plot.
>> best wishes,
>> luigi
>>
>>
>> # in case you are interested this is the code, which is faulty for the
>> factor of the variable "sample"
>>
>> my.data<-structure(list(
>> group = c(
>> 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0,
>> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
>> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
>> sample = c(
>> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
>> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
>> 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
>> copy = c(
>> 626.01, 584.37, 568.5, 154.76, 146.47, 155.83,
>> 297.64, 291.56, 272.16, 414.19, 402.94, 402.94,
>> 351.11, 274.04, 291.56, 66.82, 39.06, 83.87,
>> 16.98, 45.76, 15, 1.39, 98.25, 13.62, 181.32,
>> 142.49, 108.94, 4.95, 5.92, 4.72, 25.14, 31.12,
>> 40.15, 34.27, 26.93, 24.8)),
>>  row.names = c(NA, -36L),  class = "data.frame")
>> # define subset
>> A<-subset(my.data, group==0)
>> # define average and standard deviation
>> avg.A<-aggregate(copy ~ sample, A, mean)
>> names(avg.A)<-c("samp.", "avg")
>> sd.A<-aggregate(copy ~ sample, A, sd)
>> names(sd.A)<-c("Samp", "sd")
>> A.bound<-merge(avg.A, sd.A, by.x="samp.", by.y="Samp")
>> # define limits
>> min.A<-A.bound$avg - A.bound$sd
>> max.A<-A.bound$avg + A.bound$sd
>> # plot
>> plot(avg  ~ samp., data=avg.A,  pch=16, ylim=c(-10, 600),
>> las=3, cex.lab=1.5, cex.main=1.8, col="black",
>> ylab=expression(bold("copy")),
>> xlab=expression(bold("sample")),
>> main="Mean and std dev")
>> # add limit segments
>> segments(seq(length(avg.A$sample)), max.A,
> seq(length(avg.A$sample)),
>> min.A) segments(seq(length(avg.B$sample)), max.B,
>> seq(length(avg.B$sample)),  min.B) # add notch
>> notch<-0.02  # define end of bar extension
>> segments(seq(length(avg.A$sample))-notch, max.A,
>> seq(length(avg.A$sample))+notch,  max.A)
>> segments(seq(length(avg.A$sample))-notch, min.A,
>> seq(length(avg.A$sample))+notch,  min.A)
>>
> Hi Luigi,
> Have a look at brkdn.plot in the plotrix package.
>
> Jim
>


From n_omranian at yahoo.com  Tue May 13 15:17:38 2014
From: n_omranian at yahoo.com (n omranian)
Date: Tue, 13 May 2014 06:17:38 -0700 (PDT)
Subject: [R] stop a function
In-Reply-To: <AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
Message-ID: <1399987058.2165.YahooMailNeo@web140403.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/ec494655/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Tue May 13 15:30:03 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 06:30:03 -0700
Subject: [R] Merging data.table and data.frame
In-Reply-To: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
References: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
Message-ID: <e13585a4-4daf-46b1-92ec-77d3b20d6dea@email.android.com>

Because merge.data.table expects both objects to be data.table objects?
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 13, 2014 5:34:32 AM PDT, Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:
>Hi R-helpers,
>
>I am trying the following code in R
>
>merge(x=Master1,y=demo_dtls,by.x=c("ID_CASE","ts"),by.y=c("ID_CASE","TS_EVENT"))
>
>where,
>
>class(demo_dtls$TS_EVENT)
>[1] "POSIXct" "POSIXt"
>class(Master1$ts)
>[1] "POSIXct" "POSIXt"
>
>and
>
>> class(Master1)[1] "data.table" "data.frame"> class(demo_dtls)[1]
>"data.frame"
>
>
>But I am getting the following error
>
>Error in merge.data.table(x = Master1, y = demo_dtls, by.x =
>c("ID_CASE",  :
>  Can not match keys in x and y to automatically determine appropriate
>`by` parameter. Please set `by` value explicitly.
>
>Why am I getting this error?
>Any help will be appreciated


From rni.boh at gmail.com  Tue May 13 15:35:19 2014
From: rni.boh at gmail.com (Bob O'Hara)
Date: Tue, 13 May 2014 15:35:19 +0200
Subject: [R] File coding problem: how to read a windows-1252 encoded file
Message-ID: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/6ce2d491/attachment.pl>

From landivincenzo at yahoo.it  Wed May 14 00:42:55 2014
From: landivincenzo at yahoo.it (Vincenzo Landi)
Date: Tue, 13 May 2014 15:42:55 -0700
Subject: [R] interrogating webdatapage
Message-ID: <53729FEF.90807@yahoo.it>

Hello,
please there is some script that can interrogating a web database (like 
this 
http://pra-incecca.tragsatec.es/pra-incecca/caballos/fichaProducto.xhtml) following 
a list of items and download the response into my local pc?
Thank you in advance for any help

-- 
*************************************************************
Vincenzo Landi, Phd
Laboratorio de Gen?tica Molecular Aplicada
Departamento de Gen?tica, Universidad de C?rdoba
Edificio Gregor Mendel, Planta Baja
Campus Universitario de Rabanales
14071-C?rdoba (Spain)
Tf: +34957218708, +34630639439
FAX: +34957218706
www.biolabo.es


---
Este mensaje no contiene virus ni malware porque la protecci?n de avast! Antivirus est? activa.
http://www.avast.com


From pdalgd at gmail.com  Tue May 13 15:43:35 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 13 May 2014 15:43:35 +0200
Subject: [R] Merging data.table and data.frame
In-Reply-To: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
References: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
Message-ID: <6F2E92B4-C4F1-483A-B4B3-B0940AF66A90@gmail.com>


On 13 May 2014, at 14:34 , Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:

> Hi R-helpers,
> 
> I am trying the following code in R
> 
> merge(x=Master1,y=demo_dtls,by.x=c("ID_CASE","ts"),by.y=c("ID_CASE","TS_EVENT"))
> 
> where,
> 
> class(demo_dtls$TS_EVENT)
> [1] "POSIXct" "POSIXt"
> class(Master1$ts)
> [1] "POSIXct" "POSIXt"
> 
> and
> 
>> class(Master1)[1] "data.table" "data.frame"> class(demo_dtls)[1] "data.frame"
> 
> 
> But I am getting the following error
> 
> Error in merge.data.table(x = Master1, y = demo_dtls, by.x = c("ID_CASE",  :
>  Can not match keys in x and y to automatically determine appropriate
> `by` parameter. Please set `by` value explicitly.
> 
> Why am I getting this error?

You are using merge.data.frame syntax for merge.data.table. The latter knows about by=, but not by.x= and by.y= (so presumably you need to rename variables in x or y).

- Peter


> Any help will be appreciated
> 
> 
> -- 
> Regards
> Abhinaba Roy
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ripley at stats.ox.ac.uk  Tue May 13 16:03:23 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 May 2014 15:03:23 +0100
Subject: [R] File coding problem: how to read a windows-1252 encoded file
In-Reply-To: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>
References: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>
Message-ID: <5372262B.20206@stats.ox.ac.uk>

On 13/05/2014 14:35, Bob O'Hara wrote:
> I'm trying to read a text file (actually the ftp file in command below),
> and I'm getting an error:
>
>> SpCodes=read.fwf("
> ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt",
> +                  widths=c(7,6,51,51), skip=6, n=5, header=F,
> stringsAsFactors=F)
> Error in substring(x, first, last) :
>    invalid multibyte string at '<e0> vent'
>
> The problem is caused by"Dendrocygne ?  ventre noir", which has a French
> character which seems to be causing the problems: there are more throughout
> the file (and I want to read the whole file: I'm picking uot bits above to
> make it easier), so I can't manually delete this. The file is apparently in
> the ISO-8859 format (or it might be windows-1252), but using that in either
> encoding= or fileEncoding= doesn't work:

Why do you expect them to?  read.fwf reads the file (not read.table) and 
it does not have those arguments.  You need to give a file/url 
connection with specified encoding.

 > con <- 
url("ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt", 
encoding = "cp1252")
 > read.fwf(con, widths=c(7,6,51,51), skip=6, n=5, header=F)
 > close(con)

>
> SpCodes=read.fwf("
> ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt",
>                   widths=c(7,6,51,51), skip=6, n=5, header=F,
> stringsAsFactors=F, fileEncoding="ISO-8859")

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pdalgd at gmail.com  Tue May 13 16:10:47 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 13 May 2014 16:10:47 +0200
Subject: [R] File coding problem: how to read a windows-1252 encoded file
In-Reply-To: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>
References: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>
Message-ID: <734BC513-9E0B-4149-975A-018FEDFEEDAB@gmail.com>

Hi Bob, Long time no see.

The following works for me. In general, I think it is tricky to rely on encodings to be passed on to the appropriate agent, so try to be as specific as possible about it.

con <- url("ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt",
     encoding="Latin1")
SpCodes=read.fwf(con,
                widths=c(7,6,51,51), skip=6, n=5, header=F,
                stringsAsFactors=F)

AFAICT, the root cause is that encoding= is passed by read.fwf() to read.table(), once the columns are split out, but not to the file connection used to get the data for splitting.

It also worked to get the whole enchilada using readLines, convert with iconv() and then use read.fwf on a textConnection to the converted lines.

And, BTW, even though encoding names vary between platforms, "ISO-8859" is almost surely wrong, because there is "ISO-8859-1", "ISO-8859-2", ...

- Peter


On 13 May 2014, at 15:35 , Bob O'Hara <rni.boh at gmail.com> wrote:

> I'm trying to read a text file (actually the ftp file in command below),
> and I'm getting an error:
> 
>> SpCodes=read.fwf("
> ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt",
> +                  widths=c(7,6,51,51), skip=6, n=5, header=F,
> stringsAsFactors=F)
> Error in substring(x, first, last) :
>  invalid multibyte string at '<e0> vent'
> 
> The problem is caused by"Dendrocygne ? ventre noir", which has a French
> character which seems to be causing the problems: there are more throughout
> the file (and I want to read the whole file: I'm picking uot bits above to
> make it easier), so I can't manually delete this. The file is apparently in
> the ISO-8859 format (or it might be windows-1252), but using that in either
> encoding= or fileEncoding= doesn't work:
> 
> SpCodes=read.fwf("
> ftp://ftpext.usgs.gov/pub/er/md/laurel/BBS/DataFiles/SpeciesList.txt",
>                 widths=c(7,6,51,51), skip=6, n=5, header=F,
> stringsAsFactors=F, fileEncoding="ISO-8859")
> 
> Can anyone suggest a solution? In case it helps, here's my session info:
>> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-pc-linux-gnu (64-bit)
> 
> locale:
> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> LC_TIME=en_GB.UTF-8        LC_COLLATE=en_US.UTF-8
> [5] LC_MONETARY=en_GB.UTF-8    LC_MESSAGES=en_US.UTF-8
> LC_PAPER=en_GB.UTF-8       LC_NAME=C
> [9] LC_ADDRESS=C               LC_TELEPHONE=C
> LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_3.1.0
>> 
> 
> 
> -- 
> Bob O'Hara
> 
> Biodiversity and Climate Research Centre
> Senckenberganlage 25
> D-60325 Frankfurt am Main,
> Germany
> 
> Tel: +49 69 798 40226
> Mobile: +49 1515 888 5440
> WWW:   http://www.bik-f.de/root/index.php?page_id=219
> Blog: http://occamstypewriter.org/boboh/
> Journal of Negative Results - EEB: www.jnr-eeb.org
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From rni.boh at gmail.com  Tue May 13 16:19:57 2014
From: rni.boh at gmail.com (Bob O'Hara)
Date: Tue, 13 May 2014 16:19:57 +0200
Subject: [R] File coding problem: how to read a windows-1252 encoded file
In-Reply-To: <734BC513-9E0B-4149-975A-018FEDFEEDAB@gmail.com>
References: <CAN-Z0xWKmBkAeUR+j0kofZpW8AirUWv-eyZJYvRES6YpWm3t6g@mail.gmail.com>
	<734BC513-9E0B-4149-975A-018FEDFEEDAB@gmail.com>
Message-ID: <CAN-Z0xXV9SrQ6L=5QLgZJT74r3U+3qo98OiXGWherN3K+kL2Zg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/16d96cc9/attachment.pl>

From cadeb at usgs.gov  Tue May 13 16:57:12 2014
From: cadeb at usgs.gov (Cade, Brian)
Date: Tue, 13 May 2014 08:57:12 -0600
Subject: [R] Nonparametric MANOVA
In-Reply-To: <alpine.LNX.2.11.1405121536150.24030@localhost>
References: <alpine.LNX.2.11.1405121536150.24030@localhost>
Message-ID: <CAM5M9BSokkFcvP1=AZLMR3OHwXyAHSA_bvFbd+h0qpyr7WfDLw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/3d1e9508/attachment.pl>

From rshepard at appl-ecosys.com  Tue May 13 17:09:56 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Tue, 13 May 2014 08:09:56 -0700 (PDT)
Subject: [R] Nonparametric MANOVA [RESOLVED]
In-Reply-To: <CAM5M9BSokkFcvP1=AZLMR3OHwXyAHSA_bvFbd+h0qpyr7WfDLw@mail.gmail.com>
References: <alpine.LNX.2.11.1405121536150.24030@localhost>
	<CAM5M9BSokkFcvP1=AZLMR3OHwXyAHSA_bvFbd+h0qpyr7WfDLw@mail.gmail.com>
Message-ID: <alpine.LNX.2.11.1405130804470.11126@localhost>

On Tue, 13 May 2014, Cade, Brian wrote:

> Your use of the term MANOVA suggests a multivariate response (Y).
> If what you really have is multiple factors (predictors), then this is a
> different modeling construct (multiple regression) and it would seem
> nonpartest() is not appropriate.

Brian,

   You are, of course, correct. I've not before had occasion to think of
MANOVA as a tool so I was ignorant until Don and you educated me. That's
much appreciated.

> I've been analyzing water quality constituents (one at a time as a
> univariate response) with multiple predictors (I'm using years, seasons
> within years, stream flow, location within watershed but anything you
> might include in a regression model could be included) in linear quantile
> regression (quantreg package). This is a semiparametric approach in the
> sense that I don't have to make any assumption about a particular
> distributional form of the error distribution since estimating the
> quantiles is estimating the inverse of an empirical cumulative
> distribution, but all the predictors have parameters associated with them.
> You can include contrasts for categorical predictors, interactions, etc.
> You also could relax the linear additive model by using smoothing
> functions (e.g., b-splines) on the predictors.

   Late yesterday I realized that what I really need is some form of
regression model. Your comments above are very helpful and I will now head
down this path.

Thanks very much,

Rich

-- 
Richard B. Shepard, Ph.D.        | Technically sound and legally defensible
Applied Ecosystem Services, Inc. | ... guaranteed.
www.appl-ecosys.com      Voice: 503-667-4517         Fax: 503-667-8863


From jdnewmil at dcn.davis.CA.us  Tue May 13 17:53:07 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 08:53:07 -0700
Subject: [R] interrogating webdatapage
In-Reply-To: <53729FEF.90807@yahoo.it>
References: <53729FEF.90807@yahoo.it>
Message-ID: <fef75ad4-c078-4ccd-a36f-8428c632cdeb@email.android.com>

There are a variety of options, but they do generally require that you understand how that particular web form interacts with your browser because there are multiple ways to design them. Firefox has some powerful plugins such as FireBug for studying how web pages work that can inform how you set up your scrape. Google for "web scraping R" to get started, and look at the Web Technologies task view at CRAN.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 13, 2014 3:42:55 PM PDT, Vincenzo Landi <landivincenzo at yahoo.it> wrote:
>Hello,
>please there is some script that can interrogating a web database (like
>
>this 
>http://pra-incecca.tragsatec.es/pra-incecca/caballos/fichaProducto.xhtml)
>following 
>a list of items and download the response into my local pc?
>Thank you in advance for any help


From jesperhybel at hotmail.com  Tue May 13 18:03:10 2014
From: jesperhybel at hotmail.com (Jesper Hybel Pedersen)
Date: Tue, 13 May 2014 18:03:10 +0200
Subject: [R] stabilitytest dse package
Message-ID: <DUB128-W12E36ABAB7D9F268516FADAE340@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/f608cdd3/attachment.pl>

From gunter.berton at gene.com  Tue May 13 18:08:52 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Tue, 13 May 2014 09:08:52 -0700
Subject: [R] stabilitytest dse package
In-Reply-To: <DUB128-W12E36ABAB7D9F268516FADAE340@phx.gbl>
References: <DUB128-W12E36ABAB7D9F268516FADAE340@phx.gbl>
Message-ID: <CACk-te15zJwpFfT4=ZGnzi-og6PuvigCGDgFQARw0tiu+gAuwg@mail.gmail.com>

Did you work your way through the package vignette? If not, you should
certainly do so. Otherwise, I cannot be of any help.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Tue, May 13, 2014 at 9:03 AM, Jesper Hybel Pedersen
<jesperhybel at hotmail.com> wrote:
> I'm trying to learn how to use the dse-package. Doing a stabilitytest on a model.
> I run the test on two models that are identical except for
>
> Model 1: TREND=0
> Model 2: TREND=NULL
>
> and find the following difference in output unexpected:
>
> library(dse)
> AR=array(c(1,-0.8,-0.15),c(3,1,1))
> model=ARMA(A=AR,B=1,TREND=0)
> stability(model)
> #> Distinct roots of det(A(L)) and moduli are:
> #>           [,1]      [,2]
> #>[1,]  1.0000000 1.0000000
> #>[2,]  1.0451762 1.0451762
> #>[3,] -6.3785096 6.3785096
> #>Trend not taken into account: The system is NOT stable.
> #>[1] FALSE
> #>attr(,"roots")
>  #>    Inverse of distinct roots of det(A(L))    moduli
> #>[1,]                              1.0000000 1.0000000
> #>[2,]                              0.9567764 0.9567764
> #>[3,]                             -0.1567764 0.1567764
> #>Advarselsbesked:
> #>In roots.ARMA(obj, fuzz = fuzz, randomize = FALSE) :
>  #> Unit roots may need to be added for non-zero trend elements.
>
> AR=array(c(1,-0.8,-0.15),c(3,1,1))
> model=ARMA(A=AR,B=1,TREND=NULL)
> stability(model)
>
> #>Distinct roots of det(A(L)) and moduli are:
> #>           [,1]      [,2]
> #>[1,]  1.0451762 1.0451762
> #>[2,] -6.3785096 6.3785096
> #>The system is stable.
> #>[1] TRUE
> #>attr(,"roots")
> #>     Inverse of distinct roots of det(A(L))    moduli
> #>[1,]                              0.9567764 0.9567764
> #>[2,]                             -0.1567764 0.1567764
>
>
> I am using:
> R version 3.0.3 (2014-03-06) "Warm Puppy"
>
> Best Regards
> Jesper Hybel Pedersen
> Denmark
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From info at aghmed.fsnet.co.uk  Tue May 13 18:24:53 2014
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Tue, 13 May 2014 17:24:53 +0100
Subject: [R] Help conduction Egger's test
In-Reply-To: <BLU436-SMTP202A658E99FF12D35E466FB85350@phx.gbl>
References: <BLU436-SMTP202A658E99FF12D35E466FB85350@phx.gbl>
Message-ID: <Zen-1WkFVl-000EMm-7l@smarthost01d.mail.zen.net.uk>

At 19:02 12/05/2014, Sultan Malik wrote:
>Hi,
>
>I am currently conducting a meta analyses and wish to carry out 
>Egger's test. I was just wondering, does the weighted linear 
>regression model proposed by Egger et al correspond to the "weighted 
>regression with multiplicative dispersion" option in Metafor?

Dear Sultan

One thing I would suggest is to also use the ranktest function. In my 
experience they can give different results. You also need to look at 
the funnel plot of course and bear in mind that none of these methods 
is very satisfactory unless you have quite a number of fairly 
homogenous studies to synthesise.

>Many thanks
>
>Sultan

Michael Dewey
info at aghmed.fsnet.co.uk
http://www.aghmed.fsnet.co.uk/home.html


From liisa.marianna88 at gmail.com  Tue May 13 12:53:09 2014
From: liisa.marianna88 at gmail.com (Liisa Marianna)
Date: Tue, 13 May 2014 13:53:09 +0300
Subject: [R] decision curve analysis
Message-ID: <CAEnUaxmA5sxvyZANuPLVkXSLkkefKB6+-ez934MtDi+k8eB8Jg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/608d70e7/attachment.pl>

From bbukar at nda.edu.ng  Tue May 13 16:49:27 2014
From: bbukar at nda.edu.ng (Baba Bukar)
Date: Tue, 13 May 2014 15:49:27 +0100
Subject: [R] Calculating transition probabilties
Message-ID: <CAHYO52fN+11O2fDTUJyJ9xgHNLhckSp6s0NA0MXEooJXQgnVQg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/7d19256c/attachment.pl>

From eliza_botto at hotmail.com  Tue May 13 19:56:54 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Tue, 13 May 2014 17:56:54 +0000
Subject: [R] gumbel distribution
Message-ID: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/2a47d1bf/attachment.pl>

From frtog at vestas.com  Tue May 13 20:08:20 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Tue, 13 May 2014 20:08:20 +0200
Subject: [R] gumbel distribution
In-Reply-To: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>

Is this a home work problem?

See

Weibull                 package:stats                  R Documentation

The Weibull Distribution

Description:

     Density, distribution function, quantile function and random
     generation for the Weibull distribution with parameters 'shape'
     and 'scale'.

Usage:

     dweibull(x, shape, scale = 1, log = FALSE)
     pweibull(q, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
     qweibull(p, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
     rweibull(n, shape, scale = 1)
     

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of eliza botto
> Sent: 13. maj 2014 19:57
> To: r-help at r-project.org
> Subject: [R] gumbel distribution
> 
> Dear useRs,
> I need some examples of gumbel probability plots in R. i'll be extremely
> grateful if you could share the codes of a working example.
> Eliza
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From eliza_botto at hotmail.com  Tue May 13 21:19:49 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Tue, 13 May 2014 19:19:49 +0000
Subject: [R] gumbel distribution
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
Message-ID: <BLU170-W23A034A773A80C50A1D02689340@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/3c38c36b/attachment.pl>

From n_omranian at yahoo.com  Tue May 13 22:12:58 2014
From: n_omranian at yahoo.com (n omranian)
Date: Tue, 13 May 2014 13:12:58 -0700 (PDT)
Subject: [R] stop a function
In-Reply-To: <AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
Message-ID: <1400011978.21672.YahooMailNeo@web140403.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/d9a8077a/attachment.pl>

From msuzen at gmail.com  Tue May 13 22:18:31 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Tue, 13 May 2014 22:18:31 +0200
Subject: [R] Calculating transition probabilties
In-Reply-To: <CAHYO52fN+11O2fDTUJyJ9xgHNLhckSp6s0NA0MXEooJXQgnVQg@mail.gmail.com>
References: <CAHYO52fN+11O2fDTUJyJ9xgHNLhckSp6s0NA0MXEooJXQgnVQg@mail.gmail.com>
Message-ID: <CAPtbhHzLo3b7tDL=RhzBnkmqZUam_STrux53gX0W8AKxOQeEgA@mail.gmail.com>

This looks like this is your homework about Markov chains. not an R
question actually.
But have a look at the markovchain package from CRAN:
http://cran.r-project.org/web/packages/markovchain/vignettes/an_introduction_to_markovchain_package.pdf

On 13 May 2014 16:49, Baba Bukar <bbukar at nda.edu.ng> wrote:
> Dear all,
>
> I am new to R and have some problem computing transition probabilities. My
> problem goes like this;
>
> data_set <-
> c(2,0,45,6,78,3,0,2,6,0,5,8,0,2,8,9,12,212,22,4,1,0,3,5,88,5,69,12,4,0,0,0,0,4,87,6,99,104,22,7)
>
> observations greater than, say 3, is considered as useful (denoted as 1)
> while less than 3 are not useful (denoted as 1). Am trying to calculate the
> transition in these count data such as P_1,1=prob from useful to useful,
> P_1,0=prob from useful to not useful, P_0,1=prob from not useful to useful
> and P_0,0=prob from not useful to not useful.
>
> Thank you much as you respond soonest
>
> Kind regards
> Zakir
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From motyocska at yahoo.com  Tue May 13 22:20:01 2014
From: motyocska at yahoo.com (Andras Farkas)
Date: Tue, 13 May 2014 13:20:01 -0700 (PDT)
Subject: [R] nls() help please
Message-ID: <1400012401.98480.YahooMailNeo@web161605.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140513/308a6df0/attachment.pl>

From dwinsemius at comcast.net  Tue May 13 23:02:04 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 14:02:04 -0700
Subject: [R] Calculating transition probabilties
In-Reply-To: <CAHYO52fN+11O2fDTUJyJ9xgHNLhckSp6s0NA0MXEooJXQgnVQg@mail.gmail.com>
References: <CAHYO52fN+11O2fDTUJyJ9xgHNLhckSp6s0NA0MXEooJXQgnVQg@mail.gmail.com>
Message-ID: <F93097D1-37C1-4DCE-B46E-2177149EE31C@comcast.net>


On May 13, 2014, at 7:49 AM, Baba Bukar wrote:

> Dear all,
> 
> I am new to R and have some problem computing transition probabilities. My
> problem goes like this;
> 
> data_set <-
> c(2,0,45,6,78,3,0,2,6,0,5,8,0,2,8,9,12,212,22,4,1,0,3,5,88,5,69,12,4,0,0,0,0,4,87,6,99,104,22,7)
> 
> observations greater than, say 3, is considered as useful (denoted as 1)
> while less than 3 are not useful (denoted as 1). Am trying to calculate the
> transition in these count data such as P_1,1=prob from useful to useful,
> P_1,0=prob from useful to not useful, P_0,1=prob from not useful to useful
> and P_0,0=prob from not useful to not useful.
> 

The rle function (run length encoding) might be helpful here:

> rle( data_set >= 3 )$lengths
 [1] 2 4 2 1 1 2 2 6 2 7 4 7
> rle( data_set >= 3 )$values
 [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE

> Thank you much as you respond soonest
> 
> Kind regards
> Zakir
> 
> 	[[alternative HTML version deleted]]

This is a plain text mailing list.

-- 
David Winsemius
Alameda, CA, USA


From rshepard at appl-ecosys.com  Tue May 13 23:21:09 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Tue, 13 May 2014 14:21:09 -0700 (PDT)
Subject: [R] Package 'compositions' and R-3.1.0
Message-ID: <alpine.LNX.2.11.1405131419070.11126@localhost>

   I just tried to install 'compositions'. It's apparently not yet available
for R-3.1.0. How can I learn when it might be available?

TIA,

Rich


From hill0093 at umn.edu  Tue May 13 23:52:09 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 13 May 2014 14:52:09 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on bottom
	axis
Message-ID: <1400017929303-4690452.post@n4.nabble.com>

A month ago I was considering the forum topic
?Label axis tick marks with a simple function of axis value?
and haven?t had time to work much on it.
Since then I have written a little program that makes 
period labels for the frequency axis, but I don?t know how to attach them.
I expected the following code to work.
Later there will be more requirements like 
1) labels should be vertical
2) the bottom of the labels should line up with the ticks
3) requirements beyond today?s consideration

horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c(?1Yr?,?1Da?,?10.8Hr?,?7Hr?,?5Hr?,?4Hr?,?3Hr?,?2.57Hr?,?2.25Hr?,?2Hr?,?1.82Hr?,?1.67Hr?,?1.54Hr?,?1.43Hr?,?1.34Hr?,?1.25Hr?)
plot(horData, verData,xaxt='n',xlim= horAxisLims)
axis(1,tick=TRUE,at= horTicLocs, labels= horLabels) 




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452.html
Sent from the R help mailing list archive at Nabble.com.


From anderegg at princeton.edu  Tue May 13 23:33:00 2014
From: anderegg at princeton.edu (Bill Anderegg)
Date: Tue, 13 May 2014 17:33:00 -0400
Subject: [R] Correlelogram with partial correlation coefficients
Message-ID: <53728F8C.3020901@princeton.edu>

Hi, I am trying to construct a correlelogram plot but plot partial correlation
coefficients, rather than normal coefficients. I've been using the
corrgram() and ggm() libraries to do correlelograms and partial correlation
analysis respectively, but I can't figure out how to combine them. Here is
my code (my dataset is "climvar4" and is a matrix with 11 climate variables with 51
observations per variable. so in each cell of the correlelogram I want to display the partial correlation between variable x and variable y, while accounting for all
other variables):

library(ggm)
library(corrgram)
panel.shadeNtextP <- function (x, y, corr = NULL, col.regions, ...)
{
   corr <- pcor(x, y, var(climvar4))	
   results <- pcor.test(corr,10,51)
   est <- results$p.value
   stars <- ifelse(est < 5e-4, "***",
                   ifelse(est < 5e-3, "**",
                          ifelse(est < 5e-2, "*", "")))
   ncol <- 14
   pal <- col.regions(ncol)
   col.ind <- as.numeric(cut(corr, breaks = seq(from = -1, to = 1,
                                                length = ncol + 1),
include.lowest = TRUE))
   usr <- par("usr")
   rect(usr[1], usr[3], usr[2], usr[4], col = pal[col.ind],
        border = NA)
   box(col = "lightgray")
   on.exit(par(usr))
   par(usr = c(0, 1, 0, 1))
   r <- formatC(corr, digits = 2, format = "f")
   cex.cor <- .8/strwidth("-X.xx")
   fonts <- ifelse(stars != "", 2,1)
   # option 1: stars:
   text(0.5, 0.4, paste0(r,"\n", stars), cex = cex.cor)
   # option 2: bolding:
   #text(0.5, 0.5, r, cex = cex.cor, font=fonts)
}
corrgram(climvar4, type="data", order=F, lower.panel=panel.shadeNtextP,
upper.panel=NULL, cex=1.3)

Thanks so much in advance!

Bill


From r.turner at auckland.ac.nz  Tue May 13 23:59:17 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 14 May 2014 09:59:17 +1200
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <alpine.LNX.2.11.1405131419070.11126@localhost>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
Message-ID: <537295B5.1090904@auckland.ac.nz>

On 14/05/14 09:21, Rich Shepard wrote:
>    I just tried to install 'compositions'. It's apparently not yet
> available
> for R-3.1.0. How can I learn when it might be available?

The compositions package has apparently been archived:

> Package ?compositions? was removed from the CRAN repository.
>
> Formerly available versions can be obtained from the archive.
>
> Archived on 2014-05-01 as undefined-behaviour errors were not
> corrected (and previously archived on 2014-03-07).


You could try retrieving the package from the archive and fixing it 
yourself.  Good luck!


Rolf Turner


From jim at bitwrit.com.au  Wed May 14 00:17:24 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 14 May 2014 08:17:24 +1000
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400017929303-4690452.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
Message-ID: <5984315.Z91ICtyo8n@localhost.localdomain>

On Tue, 13 May 2014 02:52:09 PM Hurr wrote:
> A month ago I was considering the forum topic
> ?Label axis tick marks with a simple function of axis value?
> and haven?t had time to work much on it.
> Since then I have written a little program that makes
> period labels for the frequency axis, but I don?t know how to attach 
them.
> I expected the following code to work.
> Later there will be more requirements like
> 1) labels should be vertical
> 2) the bottom of the labels should line up with the ticks
> 3) requirements beyond today?s consideration
> 
> horAxisLims=c(0,7200)
> 
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6
> 564,7000)
> 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,
> 6500,7000) #not at tics
> 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,612
> 8,6564,7000)
> 
horLabels=c(?1Yr?,?1Da?,?10.8Hr?,?7Hr?,?5Hr?,?4Hr?,?3Hr?,?2.57Hr?,?2.25Hr?,
> ?2Hr?,?1.82Hr?,?1.67Hr?,?1.54Hr?,?1.43Hr?,?1.34Hr?,?1.25Hr?) 
plot(horData,
> verData,xaxt='n',xlim= horAxisLims)
> axis(1,tick=TRUE,at= horTicLocs, labels= horLabels)
> 
Hi Hurr,
This might solve questions 1 and 2 for you:

axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

As for question 3, I'll have to pass as I make no claims to prophecy.

Jim


From dwinsemius at comcast.net  Wed May 14 00:18:30 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 15:18:30 -0700
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <537295B5.1090904@auckland.ac.nz>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
	<537295B5.1090904@auckland.ac.nz>
Message-ID: <B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>


On May 13, 2014, at 2:59 PM, Rolf Turner wrote:

> On 14/05/14 09:21, Rich Shepard wrote:
>>   I just tried to install 'compositions'. It's apparently not yet
>> available
>> for R-3.1.0. How can I learn when it might be available?
> 
> The compositions package has apparently been archived:
> 
>> Package ?compositions? was removed from the CRAN repository.
>> 
>> Formerly available versions can be obtained from the archive.
>> 
>> Archived on 2014-05-01 as undefined-behaviour errors were not
>> corrected (and previously archived on 2014-03-07).
> 
> 
> You could try retrieving the package from the archive and fixing it yourself.  Good luck!

There was just a posting on R-devel today that suggested compiling from source has a good chance to succeed without even fixes.

-- 
David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Wed May 14 00:22:32 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 15:22:32 -0700
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400017929303-4690452.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
Message-ID: <6BFBED98-FC58-4FFF-A668-5A935B918D9C@comcast.net>


On May 13, 2014, at 2:52 PM, Hurr wrote:

> A month ago I was considering the forum topic
> ?Label axis tick marks with a simple function of axis value?
> and haven?t had time to work much on it.
> Since then I have written a little program that makes 
> period labels for the frequency axis, but I don?t know how to attach them.
> I expected the following code to work.
> Later there will be more requirements like 
> 1) labels should be vertical
> 2) the bottom of the labels should line up with the ticks
> 3) requirements beyond today?s consideration
> 
> horAxisLims=c(0,7200)
> verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
> horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
> #not at tics 
> horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
> horLabels=c(?1Yr?,?1Da?,?10.8Hr?,?7Hr?,?5Hr?,?4Hr?,?3Hr?,?2.57Hr?,?2.25Hr?,?2Hr?,?1.82Hr?,?1.67Hr?,?1.54Hr?,?1.43Hr?,?1.34Hr?,?1.25Hr?)
> plot(horData, verData,xaxt='n',xlim= horAxisLims)
> axis(1,tick=TRUE,at= horTicLocs, labels= horLabels) 
> 

Yecchh. Pasted code throws an error in the horLabels assignment. "Smart quotes". Use a proper text editor.

-- 

David Winsemius
Alameda, CA, USA


From rshepard at appl-ecosys.com  Wed May 14 00:39:22 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Tue, 13 May 2014 15:39:22 -0700 (PDT)
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <537295B5.1090904@auckland.ac.nz>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
	<537295B5.1090904@auckland.ac.nz>
Message-ID: <alpine.LNX.2.11.1405131537570.11126@localhost>

On Wed, 14 May 2014, Rolf Turner wrote:

> The compositions package has apparently been archived:
>
>> Package ?compositions? was removed from the CRAN repository.
>> 
>> Formerly available versions can be obtained from the archive.
>> 
>> Archived on 2014-05-01 as undefined-behaviour errors were not
>> corrected (and previously archived on 2014-03-07).

Rolf,

   That's interesting.

> You could try retrieving the package from the archive and fixing it
> yourself. Good luck!

   I suspect that my knowledge and skills are not up to the task. However,
I'll grab the newest and take a look.

Thanks,

Rich

-- 
Richard B. Shepard, Ph.D.        | Technically sound and legally defensible
Applied Ecosystem Services, Inc. | ... guaranteed.
www.appl-ecosys.com      Voice: 503-667-4517         Fax: 503-667-8863


From rshepard at appl-ecosys.com  Wed May 14 00:40:34 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Tue, 13 May 2014 15:40:34 -0700 (PDT)
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
	<537295B5.1090904@auckland.ac.nz>
	<B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
Message-ID: <alpine.LNX.2.11.1405131539540.11126@localhost>

On Tue, 13 May 2014, David Winsemius wrote:

> There was just a posting on R-devel today that suggested compiling from
> source has a good chance to succeed without even fixes.

David,

   I'll try to find that thread and the source.

Thanks,

Rich

-- 
Richard B. Shepard, Ph.D.        | Technically sound and legally defensible
Applied Ecosystem Services, Inc. | ... guaranteed.
www.appl-ecosys.com      Voice: 503-667-4517         Fax: 503-667-8863


From dwinsemius at comcast.net  Wed May 14 00:56:27 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 15:56:27 -0700
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <alpine.LNX.2.11.1405131539540.11126@localhost>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
	<537295B5.1090904@auckland.ac.nz>
	<B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
	<alpine.LNX.2.11.1405131539540.11126@localhost>
Message-ID: <A7B1B19D-8FD0-4CD5-826E-CF08FAC9DCF6@comcast.net>


On May 13, 2014, at 3:40 PM, Rich Shepard wrote:

> On Tue, 13 May 2014, David Winsemius wrote:
> 
>> There was just a posting on R-devel today that suggested compiling from
>> source has a good chance to succeed without even fixes.
> 
> David,
> 
>  I'll try to find that thread and the source.

The source is in the usual place and there was a solitary posting that reported success with the usual mechanism for building an R packge:

R CMD build compositions

-- 
David


From rshepard at appl-ecosys.com  Wed May 14 01:25:53 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Tue, 13 May 2014 16:25:53 -0700 (PDT)
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <A7B1B19D-8FD0-4CD5-826E-CF08FAC9DCF6@comcast.net>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>
	<537295B5.1090904@auckland.ac.nz>
	<B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
	<alpine.LNX.2.11.1405131539540.11126@localhost>
	<A7B1B19D-8FD0-4CD5-826E-CF08FAC9DCF6@comcast.net>
Message-ID: <alpine.LNX.2.11.1405131625120.11126@localhost>

On Tue, 13 May 2014, David Winsemius wrote:

> The source is in the usual place and there was a solitary posting that
> reported success with the usual mechanism for building an R packge:
>
> R CMD build compositions

David,

   Thank you. I found the package home page and downloaded the source from
that.

Rich

-- 
Richard B. Shepard, Ph.D.        | Technically sound and legally defensible
Applied Ecosystem Services, Inc. | ... guaranteed.
www.appl-ecosys.com      Voice: 503-667-4517         Fax: 503-667-8863


From hill0093 at umn.edu  Wed May 14 02:59:59 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 13 May 2014 17:59:59 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <6BFBED98-FC58-4FFF-A668-5A935B918D9C@comcast.net>
References: <1400017929303-4690452.post@n4.nabble.com>
	<6BFBED98-FC58-4FFF-A668-5A935B918D9C@comcast.net>
Message-ID: <1400029199684-4690463.post@n4.nabble.com>

David,
The error I get is:
Error: unexpected input in "horLabels=c(?"
I don't get an error: "Smart quotes"
I use Notepad for editor.
Hurr



--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690463.html
Sent from the R help mailing list archive at Nabble.com.


From hill0093 at umn.edu  Wed May 14 03:11:58 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 13 May 2014 18:11:58 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <5984315.Z91ICtyo8n@localhost.localdomain>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
Message-ID: <1400029918177-4690464.post@n4.nabble.com>

I get the error message:
"Error in library(plotrix) : there is no package called ?plotrix? "
Hurr





--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690464.html
Sent from the R help mailing list archive at Nabble.com.


From Yuanzhi.Li at USherbrooke.ca  Wed May 14 02:47:12 2014
From: Yuanzhi.Li at USherbrooke.ca (Yuanzhi Li)
Date: Tue, 13 May 2014 20:47:12 -0400
Subject: [R] How to create multi variables
Message-ID: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>

Hi, everyone

I want to create a series of variables (e.g. t1, t2..., t10) which could 
be used in loops. My idea is to use function "assign"

for (i in 1:10)
{
   assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
variable ti
}

But when I create a vector containing the names of these variables and 
want to use the variables according to the subscript, it doesn't works.

t<-noquote(paste("t",1:10,sep=""))
t[1]
t1
it returns only the name of variable t1, but not the value allocated to 
t1 by FUN. So what should I do to realize this?

Or is there any better way to do this?

Can we define a series of variables which can be used according to the 
subscript like
t<-f(t1, t2..., t10),
then we have 10 variables which can be used directly?
for(i in 1:10)
{
    t[i]<-FUN# with the fines variables we can directly assign the value 
of FUN to ti
}
These are just my thoughts, I don't know whether there are available R 
codes to realized it. I am looking forward any help from you.

Thanks in advance!

Yuanzhi


From jim at bitwrit.com.au  Wed May 14 03:27:10 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 14 May 2014 11:27:10 +1000
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400029918177-4690464.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
Message-ID: <2386387.Y9COv57h50@localhost.localdomain>

On Tue, 13 May 2014 06:11:58 PM Hurr wrote:
> I get the error message:
> "Error in library(plotrix) : there is no package called ?plotrix? "
> Hurr
> 
install.packages(plotrix)

Jim


From dwinsemius at comcast.net  Wed May 14 03:37:46 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 18:37:46 -0700
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400029199684-4690463.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<6BFBED98-FC58-4FFF-A668-5A935B918D9C@comcast.net>
	<1400029199684-4690463.post@n4.nabble.com>
Message-ID: <30FF849E-E33C-41B2-8ACE-3DA55728574A@comcast.net>


On May 13, 2014, at 5:59 PM, Hurr wrote:

> David,
> The error I get is:
> Error: unexpected input in "horLabels=c(?"
> I don't get an error: "Smart quotes"
> I use Notepad for editor.

Right. You got an error,...  which you did not post. In my mail client the "double quotes" appeared with assymmetric descenders: ?   ... that is what I was calling a "smart quote" because that's what MS-Word calls it. I was using it as a term of derision.

... rather than ordinary double quotes: "

I have no experience with "Notepad", but it is apparently not protecting you from quoting with the incorrect characters for use in R. When I used R on a Windows device in the past I used TINN-R

-- 

David Winsemius
Alameda, CA, USA


From jdnewmil at dcn.davis.CA.us  Wed May 14 03:43:21 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 18:43:21 -0700
Subject: [R] How to create multi variables
In-Reply-To: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
Message-ID: <be63719b-5606-4850-848b-5171beb10576@email.android.com>

What is wrong with

myvec <- vector( "numeric", 10 )
for ( i in 1:10 ) {
  myvec[ i ] <- i
}

?

If you are using assign, IMHO you are probably doing whatever you are doing wrong.

If you want named elements, give the vector names:

names( myvec ) <- paste0( "t", 1:10 )

and you can refer to them

myvec[ "t3" ]

Go read the "Introduction to R" document again... particularly the discussion of indexing.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li <Yuanzhi.Li at USherbrooke.ca> wrote:
>Hi, everyone
>
>I want to create a series of variables (e.g. t1, t2..., t10) which
>could 
>be used in loops. My idea is to use function "assign"
>
>for (i in 1:10)
>{
>   assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>variable ti
>}
>
>But when I create a vector containing the names of these variables and 
>want to use the variables according to the subscript, it doesn't works.
>
>t<-noquote(paste("t",1:10,sep=""))
>t[1]
>t1
>it returns only the name of variable t1, but not the value allocated to
>
>t1 by FUN. So what should I do to realize this?
>
>Or is there any better way to do this?
>
>Can we define a series of variables which can be used according to the 
>subscript like
>t<-f(t1, t2..., t10),
>then we have 10 variables which can be used directly?
>for(i in 1:10)
>{
>  t[i]<-FUN# with the fines variables we can directly assign the value 
>of FUN to ti
>}
>These are just my thoughts, I don't know whether there are available R 
>codes to realized it. I am looking forward any help from you.
>
>Thanks in advance!
>
>Yuanzhi
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Wed May 14 04:00:11 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 14 May 2014 12:00:11 +1000
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <30FF849E-E33C-41B2-8ACE-3DA55728574A@comcast.net>
References: <1400017929303-4690452.post@n4.nabble.com>
	<1400029199684-4690463.post@n4.nabble.com>
	<30FF849E-E33C-41B2-8ACE-3DA55728574A@comcast.net>
Message-ID: <1590466.DsIF2rpYK9@localhost.localdomain>

That's a bummer. Apparently Notepad is no longer a straight text 
editor. I used to rely on it when I had to use Windows.

Jim

On Tue, 13 May 2014 06:37:46 PM David Winsemius wrote:
> On May 13, 2014, at 5:59 PM, Hurr wrote:
> > David,
> > The error I get is:
> > Error: unexpected input in "horLabels=c(?"
> > I don't get an error: "Smart quotes"
> > I use Notepad for editor.
> 
> Right. You got an error,...  which you did not post. In my mail client 
the
> "double quotes" appeared with assymmetric descenders: ?   ... that 
is what
> I was calling a "smart quote" because that's what MS-Word calls it. I 
was
> using it as a term of derision.
> 
> ... rather than ordinary double quotes: "
> 
> I have no experience with "Notepad", but it is apparently not 
protecting you
> from quoting with the incorrect characters for use in R. When I used 
R on a
> Windows device in the past I used TINN-R


From smartpink111 at yahoo.com  Wed May 14 04:21:08 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 13 May 2014 19:21:08 -0700 (PDT)
Subject: [R] Raising a vector to the power of elements of another vector
Message-ID: <1400034068.68763.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi,
May be this helps:

a <- 1:3
?b <- 2:4
Mnew <- matrix(a^(rep(b, each=length(a))),ncol=3,byrow=TRUE)
identical(M,Mnew)
#[1] TRUE
#or
?M1 <-t(outer(a,b, FUN="^"))
identical(M,M1)
#[1] TRUE
#or
dat <- expand.grid(a,b)
M2 <- matrix(dat[,1]^dat[,2],ncol=3,byrow=TRUE)
identical(M,M2)
#[1] TRUE


A.K.

Hi all,

Suppose I have a vector a<-c(1,2,3) and I want to raise it to the power of 2, 3, 4 and bind it into a matrix that looks like M<-matrix(c(1,1,1,4,8,16,9,27,81),3,3). Let the vector with elements 2,3,4 be called b. Can I manipulate a and b to get M without using loops? I have a massive data and if I use loops it takes very long time.
So far I have just tried using loops:
Loopy<-lapply(1:3,function(s){
?????????? a^b[s]
})
Loopyfinal<-do.call(rbind,Loopy)
I would appreciate a nicer trick, if there is one.
Thanks,
Delger 



From yuanzhi.li at usherbrooke.ca  Wed May 14 04:22:08 2014
From: yuanzhi.li at usherbrooke.ca (yuanzhi)
Date: Tue, 13 May 2014 19:22:08 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <be63719b-5606-4850-848b-5171beb10576@email.android.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
Message-ID: <1400034128155-4690470.post@n4.nabble.com>

Thank you for your reply.

Yes, there is a problem according to you suggestion.
What if the value are not numerical, e.g. I want to use the variable to
store the results of linear regression.
can I use
myvec <- vector( "numeric", 10 )
for ( i in 1:10 ) {
  myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
loop.
}
?

you advice seems only to be available when the function left allocates a
numerical value to the variable, what if the function return other type of
objects?




Jeff Newmiller wrote
> What is wrong with
> 
> myvec <- vector( "numeric", 10 )
> for ( i in 1:10 ) {
>   myvec[ i ] <- i
> }
> 
> ?
> 
> If you are using assign, IMHO you are probably doing whatever you are
> doing wrong.
> 
> If you want named elements, give the vector names:
> 
> names( myvec ) <- paste0( "t", 1:10 )
> 
> and you can refer to them
> 
> myvec[ "t3" ]
> 
> Go read the "Introduction to R" document again... particularly the
> discussion of indexing.
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go
> Live...
> DCN:&lt;

> jdnewmil at .ca

> &gt;        Basics: ##.#.       ##.#.  Live Go...
>                                       Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#. 
> rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;

> Yuanzhi.Li@

> &gt; wrote:
>>Hi, everyone
>>
>>I want to create a series of variables (e.g. t1, t2..., t10) which
>>could 
>>be used in loops. My idea is to use function "assign"
>>
>>for (i in 1:10)
>>{
>>   assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>variable ti
>>}
>>
>>But when I create a vector containing the names of these variables and 
>>want to use the variables according to the subscript, it doesn't works.
>>
>>t<-noquote(paste("t",1:10,sep=""))
>>t[1]
>>t1
>>it returns only the name of variable t1, but not the value allocated to
>>
>>t1 by FUN. So what should I do to realize this?
>>
>>Or is there any better way to do this?
>>
>>Can we define a series of variables which can be used according to the 
>>subscript like
>>t<-f(t1, t2..., t10),
>>then we have 10 variables which can be used directly?
>>for(i in 1:10)
>>{
>>  t[i]<-FUN# with the fines variables we can directly assign the value 
>>of FUN to ti
>>}
>>These are just my thoughts, I don't know whether there are available R 
>>codes to realized it. I am looking forward any help from you.
>>
>>Thanks in advance!
>>
>>Yuanzhi
>>
>>______________________________________________
>>

> R-help@

>  mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________

> R-help@

>  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.





--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
Sent from the R help mailing list archive at Nabble.com.


From hill0093 at umn.edu  Wed May 14 04:54:40 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 13 May 2014 19:54:40 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axisis
In-Reply-To: <2386387.Y9COv57h50@localhost.localdomain>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<2386387.Y9COv57h50@localhost.localdomain>
Message-ID: <1400036080805-4690474.post@n4.nabble.com>

I get:
> install.packages(plotrix)
Error in install.packages(plotrix) : object 'plotrix' not found
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690474.html
Sent from the R help mailing list archive at Nabble.com.


From jdnewmil at dcn.davis.CA.us  Wed May 14 05:10:33 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 20:10:33 -0700
Subject: [R] Put short string labels vertically near tick marks
	on	bottom axis
In-Reply-To: <1590466.DsIF2rpYK9@localhost.localdomain>
References: <1400017929303-4690452.post@n4.nabble.com>
	<1400029199684-4690463.post@n4.nabble.com>
	<30FF849E-E33C-41B2-8ACE-3DA55728574A@comcast.net>
	<1590466.DsIF2rpYK9@localhost.localdomain>
Message-ID: <75bb33a1-97fe-4451-942c-905e8c425cb6@email.android.com>

No, he captured them in some other place, perhaps his email software.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 13, 2014 7:00:11 PM PDT, Jim Lemon <jim at bitwrit.com.au> wrote:
>That's a bummer. Apparently Notepad is no longer a straight text 
>editor. I used to rely on it when I had to use Windows.
>
>Jim
>
>On Tue, 13 May 2014 06:37:46 PM David Winsemius wrote:
>> On May 13, 2014, at 5:59 PM, Hurr wrote:
>> > David,
>> > The error I get is:
>> > Error: unexpected input in "horLabels=c(?"
>> > I don't get an error: "Smart quotes"
>> > I use Notepad for editor.
>> 
>> Right. You got an error,...  which you did not post. In my mail
>client 
>the
>> "double quotes" appeared with assymmetric descenders: ?   ... that 
>is what
>> I was calling a "smart quote" because that's what MS-Word calls it. I
>
>was
>> using it as a term of derision.
>> 
>> ... rather than ordinary double quotes: "
>> 
>> I have no experience with "Notepad", but it is apparently not 
>protecting you
>> from quoting with the incorrect characters for use in R. When I used 
>R on a
>> Windows device in the past I used TINN-R
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From hill0093 at umn.edu  Wed May 14 06:19:26 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 13 May 2014 21:19:26 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <1400029918177-4690464.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
Message-ID: <1400041166419-4690478.post@n4.nabble.com>

I got rid of the quotes error by using single apostrophe quotes in notepad.

horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=horLabels) 

The plotrix error is still there.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690478.html
Sent from the R help mailing list archive at Nabble.com.


From jdnewmil at dcn.davis.CA.us  Wed May 14 06:41:22 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 13 May 2014 21:41:22 -0700
Subject: [R] How to create multi variables
In-Reply-To: <1400034128155-4690470.post@n4.nabble.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
	<1400034128155-4690470.post@n4.nabble.com>
Message-ID: <a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>

Please do the reading I recommended before posting again. My example was numeric because your example was numeric. For more complicated data, a list is a type of vector that can hold such objects, and you would know this if you had read the intro document.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 13, 2014 7:22:08 PM PDT, yuanzhi <yuanzhi.li at usherbrooke.ca> wrote:
>Thank you for your reply.
>
>Yes, there is a problem according to you suggestion.
>What if the value are not numerical, e.g. I want to use the variable to
>store the results of linear regression.
>can I use
>myvec <- vector( "numeric", 10 )
>for ( i in 1:10 ) {
>  myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
>loop.
>}
>?
>
>you advice seems only to be available when the function left allocates
>a
>numerical value to the variable, what if the function return other type
>of
>objects?
>
>
>
>
>Jeff Newmiller wrote
>> What is wrong with
>> 
>> myvec <- vector( "numeric", 10 )
>> for ( i in 1:10 ) {
>>   myvec[ i ] <- i
>> }
>> 
>> ?
>> 
>> If you are using assign, IMHO you are probably doing whatever you are
>> doing wrong.
>> 
>> If you want named elements, give the vector names:
>> 
>> names( myvec ) <- paste0( "t", 1:10 )
>> 
>> and you can refer to them
>> 
>> myvec[ "t3" ]
>> 
>> Go read the "Introduction to R" document again... particularly the
>> discussion of indexing.
>>
>---------------------------------------------------------------------------
>> Jeff Newmiller                        The     .....       .....  Go
>> Live...
>> DCN:&lt;
>
>> jdnewmil at .ca
>
>> &gt;        Basics: ##.#.       ##.#.  Live Go...
>>                                       Live:   OO#.. Dead: OO#.. 
>Playing
>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>> /Software/Embedded Controllers)               .OO#.       .OO#. 
>> rocks...1k
>>
>---------------------------------------------------------------------------
>
>> Sent from my phone. Please excuse my brevity.
>> 
>> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;
>
>> Yuanzhi.Li@
>
>> &gt; wrote:
>>>Hi, everyone
>>>
>>>I want to create a series of variables (e.g. t1, t2..., t10) which
>>>could 
>>>be used in loops. My idea is to use function "assign"
>>>
>>>for (i in 1:10)
>>>{
>>>   assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>>variable ti
>>>}
>>>
>>>But when I create a vector containing the names of these variables
>and 
>>>want to use the variables according to the subscript, it doesn't
>works.
>>>
>>>t<-noquote(paste("t",1:10,sep=""))
>>>t[1]
>>>t1
>>>it returns only the name of variable t1, but not the value allocated
>to
>>>
>>>t1 by FUN. So what should I do to realize this?
>>>
>>>Or is there any better way to do this?
>>>
>>>Can we define a series of variables which can be used according to
>the 
>>>subscript like
>>>t<-f(t1, t2..., t10),
>>>then we have 10 variables which can be used directly?
>>>for(i in 1:10)
>>>{
>>>  t[i]<-FUN# with the fines variables we can directly assign the
>value 
>>>of FUN to ti
>>>}
>>>These are just my thoughts, I don't know whether there are available
>R 
>>>codes to realized it. I am looking forward any help from you.
>>>
>>>Thanks in advance!
>>>
>>>Yuanzhi
>>>
>>>______________________________________________
>>>
>
>> R-help@
>
>>  mailing list
>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>PLEASE do read the posting guide
>>>http://www.R-project.org/posting-guide.html
>>>and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>
>> R-help@
>
>>  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
>
>
>
>--
>View this message in context:
>http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
>Sent from the R help mailing list archive at Nabble.com.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From abhinabaroy09 at gmail.com  Wed May 14 07:23:23 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Wed, 14 May 2014 10:53:23 +0530
Subject: [R] Merging data.table and data.frame
In-Reply-To: <6F2E92B4-C4F1-483A-B4B3-B0940AF66A90@gmail.com>
References: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
	<6F2E92B4-C4F1-483A-B4B3-B0940AF66A90@gmail.com>
Message-ID: <CANtKHPVQ6Gh49D=0cjPWw17gLZrnAWBQE-nt9mPtLFABMLm8GA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/bbc6c9c6/attachment.pl>

From ripley at stats.ox.ac.uk  Wed May 14 07:35:09 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 May 2014 06:35:09 +0100
Subject: [R] Package 'compositions' and R-3.1.0
In-Reply-To: <B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
References: <alpine.LNX.2.11.1405131419070.11126@localhost>	<537295B5.1090904@auckland.ac.nz>
	<B550960F-5F5F-496F-9400-7B49D6881B46@comcast.net>
Message-ID: <5373008D.6020903@stats.ox.ac.uk>

On 13/05/2014 23:18, David Winsemius wrote:
>
> On May 13, 2014, at 2:59 PM, Rolf Turner wrote:
>
>> On 14/05/14 09:21, Rich Shepard wrote:
>>>    I just tried to install 'compositions'. It's apparently not yet
>>> available
>>> for R-3.1.0. How can I learn when it might be available?
>>
>> The compositions package has apparently been archived:
>>
>>> Package ?compositions? was removed from the CRAN repository.
>>>
>>> Formerly available versions can be obtained from the archive.
>>>
>>> Archived on 2014-05-01 as undefined-behaviour errors were not
>>> corrected (and previously archived on 2014-03-07).
>>
>>
>> You could try retrieving the package from the archive and fixing it yourself.  Good luck!
>
> There was just a posting on R-devel today that suggested compiling from source has a good chance to succeed without even fixes.
>
Yes, but not giving correct results ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From frtog at vestas.com  Wed May 14 08:01:03 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 08:01:03 +0200
Subject: [R] gumbel distribution
In-Reply-To: <BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/a2f99335/attachment.pl>

From jdnewmil at dcn.davis.ca.us  Wed May 14 08:04:02 2014
From: jdnewmil at dcn.davis.ca.us (Jeff Newmiller)
Date: Tue, 13 May 2014 23:04:02 -0700 (PDT)
Subject: [R] Merging data.table and data.frame
In-Reply-To: <CANtKHPVQ6Gh49D=0cjPWw17gLZrnAWBQE-nt9mPtLFABMLm8GA@mail.gmail.com>
References: <CANtKHPURcSJ8XDWiuZOtwxB3h4BbAy=MMc9J3S=Zc1rZkLpM1w@mail.gmail.com>
	<6F2E92B4-C4F1-483A-B4B3-B0940AF66A90@gmail.com>
	<CANtKHPVQ6Gh49D=0cjPWw17gLZrnAWBQE-nt9mPtLFABMLm8GA@mail.gmail.com>
Message-ID: <alpine.BSF.2.00.1405132257580.23156@pedal.dcn.davis.ca.us>

Works for me. Can you make a reproducible example [1] the way the 
footers of all emails on this list ask you to? The str and dput functions 
are very useful tools mentioned in the referenced article.

[1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

On Wed, 14 May 2014, Abhinaba Roy wrote:

> Hi Peter,
>
> Thanks for your reply, I tried to convert my data.table into a data.frame
> and then merging but I am getting the same error. But when I check the
> class of my previously data.table object it returns "data.frame".
>
>
> Any clue as to why this is happening?
>
> Regards
>
>
> On Tue, May 13, 2014 at 7:13 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>
>>
>> On 13 May 2014, at 14:34 , Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:
>>
>>> Hi R-helpers,
>>>
>>> I am trying the following code in R
>>>
>>>
>> merge(x=Master1,y=demo_dtls,by.x=c("ID_CASE","ts"),by.y=c("ID_CASE","TS_EVENT"))
>>>
>>> where,
>>>
>>> class(demo_dtls$TS_EVENT)
>>> [1] "POSIXct" "POSIXt"
>>> class(Master1$ts)
>>> [1] "POSIXct" "POSIXt"
>>>
>>> and
>>>
>>>> class(Master1)[1] "data.table" "data.frame"> class(demo_dtls)[1]
>> "data.frame"
>>>
>>>
>>> But I am getting the following error
>>>
>>> Error in merge.data.table(x = Master1, y = demo_dtls, by.x =
>> c("ID_CASE",  :
>>>  Can not match keys in x and y to automatically determine appropriate
>>> `by` parameter. Please set `by` value explicitly.
>>>
>>> Why am I getting this error?
>>
>> You are using merge.data.frame syntax for merge.data.table. The latter
>> knows about by=, but not by.x= and by.y= (so presumably you need to rename
>> variables in x or y).
>>
>> - Peter
>>
>>
>>> Any help will be appreciated
>>>
>>>
>>> --
>>> Regards
>>> Abhinaba Roy
>>>
>>>       [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Peter Dalgaard, Professor
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>
>>
>
>
> -- 
> Regards
> Abhinaba Roy
> Statistician
> Radix Analytics Pvt. Ltd
> Ahmedabad
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                       Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k


From dwinsemius at comcast.net  Wed May 14 08:08:42 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 13 May 2014 23:08:42 -0700
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400041166419-4690478.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
Message-ID: <CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>


On May 13, 2014, at 9:19 PM, Hurr wrote:

> I got rid of the quotes error by using single apostrophe quotes in  
> notepad.
>
> horAxisLims=c(0,7200)
> verData 
> = 
> c 
> (1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000 
> )
> #not fussy
> horData 
> = 
> c 
> (1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000 
> )
> #not at tics
> horTicLocs 
> = 
> c 
> (1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000 
> )
> horLabels 
> = 
> c 
> ('1Yr 
> ','1Da 
> ','10.8Hr 
> ','7Hr 
> ','5Hr 
> ','4Hr 
> ','3Hr 
> ','2.57Hr 
> ','2.25Hr 
> ','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
> plot(horData,verData,xaxt='n',xlim=horAxisLims)
> axis(1,tick=TRUE,at=horTicLocs,labels=horLabels)
>
> The plotrix error is still there.

You are requested to post the FULL TEXT of any error message. Please  
do read the Posting Guide, and I suspect this is not the first time  
you have been advised to do so. (I do not get any error message and as  
far as I can see there are no plotrix functions being called.  
Furthermore I get no error.)

> Hurr



-- 
David Winsemius, MD
Alameda, CA, USA


From kogalurshear at gmail.com  Tue May 13 15:47:51 2014
From: kogalurshear at gmail.com (Udaya B. Kogalur)
Date: Tue, 13 May 2014 09:47:51 -0400
Subject: [R] [R-pkgs] randomForestSRC 1.5.0 is on CRAN
Message-ID: <CACsjJ_f88r40YronnvYVjdsdtTOkjvRczRSGU+p6-Y6OqDDO+g@mail.gmail.com>

DeaR useRs:

Version 1.5.0 of the package randomForestSRC is now on CRAN.

>From the NEWS file:
---------------------------------------------------------------------------------
Changes to RELEASE 1.5.0

Significant improvements to CPU and RAM usage profiles in serial and
OpenMP modes of execution.  Proximity options allow inbag, oob and
all.  VIMP implements subsetting and conditional variable importance.
NA options allow the split statistic to be based on non-missing values
only.  In addition it allows random assignment of missing values.
---------------------------------------------------------------------------------

Thank you.

Udaya B. Kogalur, Ph.D.
Adjunct Staff, Dept of Quantitative Health Sciences, Cleveland Clinic Foundation

kogalurshear at gmail.com
www.kogalur.com

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From martidan at umich.edu  Wed May 14 09:26:57 2014
From: martidan at umich.edu (danielle)
Date: Wed, 14 May 2014 00:26:57 -0700 (PDT)
Subject: [R] error in mixed logit model using mlogit function
Message-ID: <1400052417844-4690489.post@n4.nabble.com>

Dear all,

I am trying to estimate an mlm with 8 alternatives, but I received the
following error message:

Error in `colnames<-`(`*tmp*`, value = "disto.disto") : 
  attempt to set colnames on object with less than two dimensions

My data look like this:

> head(dtb)
  votechoice disto.CVP disto.FDP disto.GPS disto.LPS disto.PBD  disto.SP
disto.SVP  disto.VL risk
1        GPS 1.3797308 2.1734424 0.7447605 2.7584803 2.1036997 1.2393141 
4.320573 0.7027443    9
2        SVP 1.6202692 0.8265576 3.7447605 0.2415197 0.8963003 4.2393141 
1.320573 2.2972557    2
3        CVP 0.6202692 0.1734424 2.7447605 0.7584803 0.1036997 3.2393141 
2.320573 1.2972557    3
4        SVP 4.6202692 3.8265576 6.7447605 3.2415197 3.8963003 7.2393141 
1.679427 5.2972557    9
5        SVP 2.6202692 1.8265576 4.7447605 1.2415197 1.8963003 5.2393141 
0.320573 3.2972557    6
6        GPS 2.3797308 3.1734424 0.2552395 3.7584803 3.1036997 0.2393141 
5.320573 1.7027443    4

When I estimate a simple logit model it is working:

rpl2 <- mlogit(votechoice ~ disto | risk,data=newdtb, shape =
'wide',varying=2:9,	correlation=T,
	halton = NA,R = 10, tol = 10, print.level = 0);summary(rpl2)

but when I am trying to estimate an mlm, I get the following: 

> rpl2 <- mlogit(votechoice ~ disto | risk,data=newdtb, shape =
> 'wide',varying=2:9,correlation=T,
+ rpar=c(disto='l'),halton = NA,R = 10, tol = 10, print.level = 2)

Error in `colnames<-`(`*tmp*`, value = "disto.disto") : 
  attempt to set colnames on object with less than two dimensions


I would be grateful for any help, thanks for reading this post.
danielle







--
View this message in context: http://r.789695.n4.nabble.com/error-in-mixed-logit-model-using-mlogit-function-tp4690489.html
Sent from the R help mailing list archive at Nabble.com.


From Thierry.ONKELINX at inbo.be  Wed May 14 09:50:35 2014
From: Thierry.ONKELINX at inbo.be (ONKELINX, Thierry)
Date: Wed, 14 May 2014 07:50:35 +0000
Subject: [R] stop a function
In-Reply-To: <1400011978.21672.YahooMailNeo@web140403.mail.bf1.yahoo.com>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
	<1400011978.21672.YahooMailNeo@web140403.mail.bf1.yahoo.com>
Message-ID: <AA818EAD2576BC488B4F623941DA7427F3A4DB27@inbomail.inbo.be>

Yes.

Give us a minimal and reproducible example of your code and don't post in HTML.

See fortunes::fortune(244)


ir. Thierry Onkelinx
Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
Kliniekstraat 25
1070 Anderlecht
Belgium
+ 32 2 525 02 51
+ 32 54 43 61 85
Thierry.Onkelinx at inbo.be
www.inbo.be

To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
~ Sir Ronald Aylmer Fisher

The plural of anecdote is not data.
~ Roger Brinner

The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey

Van: n omranian [mailto:n_omranian at yahoo.com]
Verzonden: dinsdag 13 mei 2014 22:13
Aan: ONKELINX, Thierry; r-packages-owner at r-project.org; r-help at r-project.org; r-help-request at r-project.org
Onderwerp: Re: [R] stop a function

Hi,
Another problem arised now. I got this error:
Error in match(x, table, nomatch = 0L) : reached CPU time limit

I googled it  but nothing could help me to get rid of this error. Any comments, help or hints?

Thanks a lot,
NO
On Tuesday, May 13, 2014 2:36 PM, "ONKELINX, Thierry" <Thierry.ONKELINX at inbo.be> wrote:
Have a look at evalWithTimeout() from the R.utils package

Best regards,

ir. Thierry Onkelinx
Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
Kliniekstraat 25
1070 Anderlecht
Belgium
+ 32 2 525 02 51
+ 32 54 43 61 85
Thierry.Onkelinx at inbo.be
www.inbo.be

To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
~ Sir Ronald Aylmer Fisher

The plural of anecdote is not data.
~ Roger Brinner

The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey

-----Oorspronkelijk bericht-----
Van: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] Namens n omranian
Verzonden: dinsdag 13 mei 2014 14:15
Aan: r-packages-owner at r-project.org; r-help at r-project.org; r-help-request at r-project.org
Onderwerp: [R] stop a function

Hi all,

If I use a function in R which takes some parameters as an input, how can I stop this function in the while loop and try another parameter in case the function takes long time or could not converge.

Actually, I'm using "penalized" function in a loop for some fixed lambdas (pre-calculated), for some of them the function converged, but for some not. Now I decide to proceed in this way that if it takes longer than 3 mins, stop the "penalized" function and try the other lambdas.

I need to do it in the loop since the loop is in the big program and I can't manually stop and begin again.

Looking forward to your reply.
NO


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
* * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.
* * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.


From hill0093 at umn.edu  Wed May 14 09:54:48 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 14 May 2014 00:54:48 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
Message-ID: <1400054088191-4690492.post@n4.nabble.com>

Full error message is there in my neat  May 13, 2014; 9:54pm post.
For some reason your last post is a mess.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690492.html
Sent from the R help mailing list archive at Nabble.com.


From n_omranian at yahoo.com  Wed May 14 10:05:25 2014
From: n_omranian at yahoo.com (n omranian)
Date: Wed, 14 May 2014 01:05:25 -0700 (PDT)
Subject: [R] stop a function
In-Reply-To: <AA818EAD2576BC488B4F623941DA7427F3A4DB27@inbomail.inbo.be>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
	<1400011978.21672.YahooMailNeo@web140403.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4DB27@inbomail.inbo.be>
Message-ID: <1400054725.62406.YahooMailNeo@web140402.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/a054bb4c/attachment.pl>

From frtog at vestas.com  Wed May 14 10:17:56 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 10:17:56 +0200
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <1400054088191-4690492.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>

I can't find a post from you with that timestamp.

Anyway I did this in my R:

### Rcode

verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr',
    '1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=horLabels)

### Rcode end

and it worked for me (see attached png).

Nothing in your code indicates that plotrix functions should be called. The plot() and axis() functions are from the graphics packages.

No one has a clue about what happens to you because you don't share the useful information you get when you launch that code in R.

If you want some help then do the following.

1) Restart R (in case you have mucked something up in the session you have open).
2) Launch exactly the code above in the newly opened session.
3) If everything works be happy.
4) If you get some errors then copy and paste the whole output in that session and post it to the list.

Then perhaps we may be able to help you. Certainly not before that.

Have a nice day.


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Hurr
> Sent: 14. maj 2014 09:55
> To: r-help at r-project.org
> Subject: Re: [R] Put short string labels vertically near tick marks on bottom
> axis
> 
> Full error message is there in my neat  May 13, 2014; 9:54pm post.
> For some reason your last post is a mess.
> Hurr
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Put-short-
> string-labels-vertically-near-tick-marks-on-bottom-axis-
> tp4690452p4690492.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hurr.png
Type: image/png
Size: 7178 bytes
Desc: hurr.png
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/b74f59b9/attachment.png>

From r.turner at auckland.ac.nz  Wed May 14 10:39:54 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 14 May 2014 20:39:54 +1200
Subject: [R] gumbel distribution
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
Message-ID: <53732BDA.3070401@auckland.ac.nz>

On 14/05/14 18:01, Frede Aakmann T?gersen wrote:
> Don't know if I understand your last comment but I surely don't think
> that the Weibull and Gumbel distributions are the same. See their
> density function on e.g. Wikipedia.

Then *why* did you answer Ms. Botto's question about the Gumbel 
distribution with a pointer to the help on the *Weibull* distribution? I 
was very puzzled by this and thought that I must be 
missing/misunderstanding something.

cheers,

Rolf Turner


> Yours sincerely / Med venlig hilsen
>
>
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
>
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com<mailto:frtog at vestas.com>
> http://www.vestas.com<http://www.vestas.com/>
>
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
> If you have received this e-mail in error please contact the sender.
>
> From: eliza botto [mailto:eliza_botto at hotmail.com]
> Sent: 13. maj 2014 21:20
> To: Frede Aakmann T?gersen; r-help at r-project.org
> Subject: RE: [R] gumbel distribution
>
> Thankyou very much Frede. It wasn't any home I am just trying to put my grip on distribution. Believe it or not, I came to know for the first time that weibull and gumbel distributions are same. :(
>
> Eliza
>
>> From: frtog at vestas.com<mailto:frtog at vestas.com>
>> To: eliza_botto at hotmail.com<mailto:eliza_botto at hotmail.com>; r-help at r-project.org<mailto:r-help at r-project.org>
>> Date: Tue, 13 May 2014 20:08:20 +0200
>> Subject: RE: [R] gumbel distribution
>>
>> Is this a home work problem?
>>
>> See
>>
>> Weibull package:stats R Documentation
>>
>> The Weibull Distribution
>>
>> Description:
>>
>> Density, distribution function, quantile function and random
>> generation for the Weibull distribution with parameters 'shape'
>> and 'scale'.
>>
>> Usage:
>>
>> dweibull(x, shape, scale = 1, log = FALSE)
>> pweibull(q, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
>> qweibull(p, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
>> rweibull(n, shape, scale = 1)
>>
>>
>> Yours sincerely / Med venlig hilsen
>>
>>
>> Frede Aakmann T?gersen
>> Specialist, M.Sc., Ph.D.
>> Plant Performance & Modeling
>>
>> Technology & Service Solutions
>> T +45 9730 5135
>> M +45 2547 6050
>> frtog at vestas.com<mailto:frtog at vestas.com>
>> http://www.vestas.com
>>
>> Company reg. name: Vestas Wind Systems A/S
>> This e-mail is subject to our e-mail disclaimer statement.
>> Please refer to www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
>> If you have received this e-mail in error please contact the sender.
>>
>>
>>> -----Original Message-----
>>> From: r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org> [mailto:r-help-bounces at r-project.org]
>>> On Behalf Of eliza botto
>>> Sent: 13. maj 2014 19:57
>>> To: r-help at r-project.org<mailto:r-help at r-project.org>
>>> Subject: [R] gumbel distribution
>>>
>>> Dear useRs,
>>> I need some examples of gumbel probability plots in R. i'll be extremely
>>> grateful if you could share the codes of a working example.


From frtog at vestas.com  Wed May 14 10:42:22 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 10:42:22 +0200
Subject: [R] gumbel distribution
In-Reply-To: <53732BDA.3070401@auckland.ac.nz>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
	<53732BDA.3070401@auckland.ac.nz>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D4CF@DKRDSEXC016.vestas.net>

Oh, I see now. I'm blushing. 

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: Rolf Turner [mailto:r.turner at auckland.ac.nz]
> Sent: 14. maj 2014 10:40
> To: Frede Aakmann T?gersen
> Cc: eliza botto; r-help at r-project.org
> Subject: Re: [R] gumbel distribution
> 
> On 14/05/14 18:01, Frede Aakmann T?gersen wrote:
> > Don't know if I understand your last comment but I surely don't think
> > that the Weibull and Gumbel distributions are the same. See their
> > density function on e.g. Wikipedia.
> 
> Then *why* did you answer Ms. Botto's question about the Gumbel
> distribution with a pointer to the help on the *Weibull* distribution? I
> was very puzzled by this and thought that I must be
> missing/misunderstanding something.
> 
> cheers,
> 
> Rolf Turner
> 
> 
> > Yours sincerely / Med venlig hilsen
> >
> >
> > Frede Aakmann T?gersen
> > Specialist, M.Sc., Ph.D.
> > Plant Performance & Modeling
> >
> > Technology & Service Solutions
> > T +45 9730 5135
> > M +45 2547 6050
> > frtog at vestas.com<mailto:frtog at vestas.com>
> > http://www.vestas.com<http://www.vestas.com/>
> >
> > Company reg. name: Vestas Wind Systems A/S
> > This e-mail is subject to our e-mail disclaimer statement.
> > Please refer to
> www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
> > If you have received this e-mail in error please contact the sender.
> >
> > From: eliza botto [mailto:eliza_botto at hotmail.com]
> > Sent: 13. maj 2014 21:20
> > To: Frede Aakmann T?gersen; r-help at r-project.org
> > Subject: RE: [R] gumbel distribution
> >
> > Thankyou very much Frede. It wasn't any home I am just trying to put my
> grip on distribution. Believe it or not, I came to know for the first time that
> weibull and gumbel distributions are same. :(
> >
> > Eliza
> >
> >> From: frtog at vestas.com<mailto:frtog at vestas.com>
> >> To: eliza_botto at hotmail.com<mailto:eliza_botto at hotmail.com>; r-
> help at r-project.org<mailto:r-help at r-project.org>
> >> Date: Tue, 13 May 2014 20:08:20 +0200
> >> Subject: RE: [R] gumbel distribution
> >>
> >> Is this a home work problem?
> >>
> >> See
> >>
> >> Weibull package:stats R Documentation
> >>
> >> The Weibull Distribution
> >>
> >> Description:
> >>
> >> Density, distribution function, quantile function and random
> >> generation for the Weibull distribution with parameters 'shape'
> >> and 'scale'.
> >>
> >> Usage:
> >>
> >> dweibull(x, shape, scale = 1, log = FALSE)
> >> pweibull(q, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
> >> qweibull(p, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
> >> rweibull(n, shape, scale = 1)
> >>
> >>
> >> Yours sincerely / Med venlig hilsen
> >>
> >>
> >> Frede Aakmann T?gersen
> >> Specialist, M.Sc., Ph.D.
> >> Plant Performance & Modeling
> >>
> >> Technology & Service Solutions
> >> T +45 9730 5135
> >> M +45 2547 6050
> >> frtog at vestas.com<mailto:frtog at vestas.com>
> >> http://www.vestas.com
> >>
> >> Company reg. name: Vestas Wind Systems A/S
> >> This e-mail is subject to our e-mail disclaimer statement.
> >> Please refer to
> www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
> >> If you have received this e-mail in error please contact the sender.
> >>
> >>
> >>> -----Original Message-----
> >>> From: r-help-bounces at r-project.org<mailto:r-help-bounces at r-
> project.org> [mailto:r-help-bounces at r-project.org]
> >>> On Behalf Of eliza botto
> >>> Sent: 13. maj 2014 19:57
> >>> To: r-help at r-project.org<mailto:r-help at r-project.org>
> >>> Subject: [R] gumbel distribution
> >>>
> >>> Dear useRs,
> >>> I need some examples of gumbel probability plots in R. i'll be extremely
> >>> grateful if you could share the codes of a working example.


From babakbsn at gmail.com  Wed May 14 10:50:08 2014
From: babakbsn at gmail.com (Babak Bastan)
Date: Wed, 14 May 2014 08:50:08 +0000
Subject: [R] using animation with persp
Message-ID: <CAF-JZQsMLTn8TYVz6xS43MXNSEBy06axADwU+iSGnKjQ+=LY7g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/4d5c5970/attachment.pl>

From wewolski at gmail.com  Wed May 14 10:57:09 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Wed, 14 May 2014 10:57:09 +0200
Subject: [R] S3 - how to implement "colnames<-"
Message-ID: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/f7332c0e/attachment.pl>

From katherine_gobin at yahoo.com  Wed May 14 11:07:05 2014
From: katherine_gobin at yahoo.com (Katherine Gobin)
Date: Wed, 14 May 2014 17:07:05 +0800 (SGT)
Subject: [R] R equivalent functions of some EXCEL functions
Message-ID: <1400058425.69569.YahooMailNeo@web193301.mail.sg3.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/3ec78769/attachment.pl>

From nourhan.iyte at hotmail.com  Wed May 14 11:10:02 2014
From: nourhan.iyte at hotmail.com (nourhan iyte)
Date: Wed, 14 May 2014 12:10:02 +0300
Subject: [R] install sann package in R R version 3.0.3
In-Reply-To: <BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>
References: <1399496122003-4690142.post@n4.nabble.com>,
	<loom.20140508T234611-559@post.gmane.org>,
	<BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>
Message-ID: <BAY181-W46701B86864899DAD809CF81370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/7e62e231/attachment.pl>

From r.turner at auckland.ac.nz  Wed May 14 11:23:28 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 14 May 2014 21:23:28 +1200
Subject: [R] gumbel distribution
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D4CF@DKRDSEXC016.vestas.net>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
	<53732BDA.3070401@auckland.ac.nz>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D4CF@DKRDSEXC016.vestas.net>
Message-ID: <53733610.7040909@auckland.ac.nz>


Having acquired some evidence that I am not *totally* confused, let me 
suggest to Ms. Botto that she have a look at the FAdist package which 
appears to provide [dpqr]gumbel() with the usual sort of syntax.  There 
is also an implementation of the Gumbel distribution in the VGAM package.

RSiteSearch("Gumbel") turns up lots of hits.

cheers,

Rolf Turner

On 14/05/14 20:42, Frede Aakmann T?gersen wrote:
> Oh, I see now. I'm blushing.
>
> Yours sincerely / Med venlig hilsen
>
>
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
>
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
>
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender.
>
>
>> -----Original Message-----
>> From: Rolf Turner [mailto:r.turner at auckland.ac.nz]
>> Sent: 14. maj 2014 10:40
>> To: Frede Aakmann T?gersen
>> Cc: eliza botto; r-help at r-project.org
>> Subject: Re: [R] gumbel distribution
>>
>> On 14/05/14 18:01, Frede Aakmann T?gersen wrote:
>>> Don't know if I understand your last comment but I surely don't think
>>> that the Weibull and Gumbel distributions are the same. See their
>>> density function on e.g. Wikipedia.
>>
>> Then *why* did you answer Ms. Botto's question about the Gumbel
>> distribution with a pointer to the help on the *Weibull* distribution? I
>> was very puzzled by this and thought that I must be
>> missing/misunderstanding something.
>>
>> cheers,
>>
>> Rolf Turner
>>
>>
>>> Yours sincerely / Med venlig hilsen
>>>
>>>
>>> Frede Aakmann T?gersen
>>> Specialist, M.Sc., Ph.D.
>>> Plant Performance & Modeling
>>>
>>> Technology & Service Solutions
>>> T +45 9730 5135
>>> M +45 2547 6050
>>> frtog at vestas.com<mailto:frtog at vestas.com>
>>> http://www.vestas.com<http://www.vestas.com/>
>>>
>>> Company reg. name: Vestas Wind Systems A/S
>>> This e-mail is subject to our e-mail disclaimer statement.
>>> Please refer to
>> www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
>>> If you have received this e-mail in error please contact the sender.
>>>
>>> From: eliza botto [mailto:eliza_botto at hotmail.com]
>>> Sent: 13. maj 2014 21:20
>>> To: Frede Aakmann T?gersen; r-help at r-project.org
>>> Subject: RE: [R] gumbel distribution
>>>
>>> Thankyou very much Frede. It wasn't any home I am just trying to put my
>> grip on distribution. Believe it or not, I came to know for the first time that
>> weibull and gumbel distributions are same. :(
>>>
>>> Eliza
>>>
>>>> From: frtog at vestas.com<mailto:frtog at vestas.com>
>>>> To: eliza_botto at hotmail.com<mailto:eliza_botto at hotmail.com>; r-
>> help at r-project.org<mailto:r-help at r-project.org>
>>>> Date: Tue, 13 May 2014 20:08:20 +0200
>>>> Subject: RE: [R] gumbel distribution
>>>>
>>>> Is this a home work problem?
>>>>
>>>> See
>>>>
>>>> Weibull package:stats R Documentation
>>>>
>>>> The Weibull Distribution
>>>>
>>>> Description:
>>>>
>>>> Density, distribution function, quantile function and random
>>>> generation for the Weibull distribution with parameters 'shape'
>>>> and 'scale'.
>>>>
>>>> Usage:
>>>>
>>>> dweibull(x, shape, scale = 1, log = FALSE)
>>>> pweibull(q, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
>>>> qweibull(p, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)
>>>> rweibull(n, shape, scale = 1)
>>>>
>>>>
>>>> Yours sincerely / Med venlig hilsen
>>>>
>>>>
>>>> Frede Aakmann T?gersen
>>>> Specialist, M.Sc., Ph.D.
>>>> Plant Performance & Modeling
>>>>
>>>> Technology & Service Solutions
>>>> T +45 9730 5135
>>>> M +45 2547 6050
>>>> frtog at vestas.com<mailto:frtog at vestas.com>
>>>> http://www.vestas.com
>>>>
>>>> Company reg. name: Vestas Wind Systems A/S
>>>> This e-mail is subject to our e-mail disclaimer statement.
>>>> Please refer to
>> www.vestas.com/legal/notice<http://www.vestas.com/legal/notice>
>>>> If you have received this e-mail in error please contact the sender.
>>>>
>>>>
>>>>> -----Original Message-----
>>>>> From: r-help-bounces at r-project.org<mailto:r-help-bounces at r-
>> project.org> [mailto:r-help-bounces at r-project.org]
>>>>> On Behalf Of eliza botto
>>>>> Sent: 13. maj 2014 19:57
>>>>> To: r-help at r-project.org<mailto:r-help at r-project.org>
>>>>> Subject: [R] gumbel distribution
>>>>>
>>>>> Dear useRs,
>>>>> I need some examples of gumbel probability plots in R. i'll be extremely
>>>>> grateful if you could share the codes of a working example.
>


From ragia11 at hotmail.com  Wed May 14 11:33:30 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Wed, 14 May 2014 11:33:30 +0200
Subject: [R] Cure and data type
Message-ID: <DUB125-W50F4439B63CBEFE8A13C38B3370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/ad853774/attachment.pl>

From dhimanbhadra at gmail.com  Wed May 14 11:36:17 2014
From: dhimanbhadra at gmail.com (DHIMAN BHADRA)
Date: Wed, 14 May 2014 15:06:17 +0530
Subject: [R] Problem with R "density" function
Message-ID: <CAMD1hninmGgDHTSBkGvAQZ6=8bQrkzXAEk5hykigc54F4NhZnw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/1a2ab73e/attachment.pl>

From luca.cerone at gmail.com  Wed May 14 11:42:02 2014
From: luca.cerone at gmail.com (Luca Cerone)
Date: Wed, 14 May 2014 11:42:02 +0200
Subject: [R] S3 - how to implement "colnames<-"
In-Reply-To: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
References: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
Message-ID: <CAFnz2-_ug2cFf1N_SV+JfQDsSjcu1bCCADHB2QerSipsUbyZbg@mail.gmail.com>

Hi Witold,
you should first of all redefine colnames to use UseMethod.
Then you have to write a colnames.default that uses base::colnames
(so that it does not interfere with existing code and other functions)
and the you can define the method for your class.

I would suggest, though, to use attributes for your object, rather
than risking to mess up the default R function.

Hope it helps,
Cheers,
Luca

2014-05-14 10:57 GMT+02:00 Witold E Wolski <wewolski at gmail.com>:
> Have a class for which I would like to provide a "colnames<-.myclass"
> function so that
>
> colnames(myintsance) <- c("a","b","c")
> can be called.
>
> Witold
>
>
> --
> Witold Eryk Wolski
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Luca Cerone

Tel: +34 692 06 71 28
Skype: luca.cerone


From maechler at stat.math.ethz.ch  Wed May 14 11:53:09 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 14 May 2014 11:53:09 +0200
Subject: [R] S3 - how to implement "colnames<-"
In-Reply-To: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
References: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
Message-ID: <21363.15621.881628.577074@stat.math.ethz.ch>

DO *NOT*  post to both R-help and R-devel !!
That is considered *very* impolite.

As this is a question for R-help  only, i.e., not fit for
R-devel anyway :

>>>>> Witold E Wolski <wewolski at gmail.com>
>>>>>     on Wed, 14 May 2014 10:57:09 +0200 writes:

    > Have a class for which I would like to provide a "colnames<-.myclass"
    > function so that

    > colnames(myintsance) <- c("a","b","c")
    > can be called.

This is not easily possible, as `colnames<-` is *not* a generic
function.  OTOH, this is not necessary either, as
colnames, rownames are basically just short cuts for dimnames anyway:

As  `dimnames<-` *is* a generic function, 
so you write methods for `dimnames<-`.

Martin

    > -- 
    > Witold Eryk Wolski

    > [[alternative HTML version deleted]]
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Hmm,...


From maechler at stat.math.ethz.ch  Wed May 14 11:55:30 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 14 May 2014 11:55:30 +0200
Subject: [R] S3 - how to implement "colnames<-"
In-Reply-To: <CAFnz2-_ug2cFf1N_SV+JfQDsSjcu1bCCADHB2QerSipsUbyZbg@mail.gmail.com>
References: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
	<CAFnz2-_ug2cFf1N_SV+JfQDsSjcu1bCCADHB2QerSipsUbyZbg@mail.gmail.com>
Message-ID: <21363.15762.527310.129067@stat.math.ethz.ch>

Please do *NOT* crosspost to R-devel@ ...

Be careful to remove it from CC when you "reply to all"
R-help is way enough!

Martin Maechler, 
(in the function R-* mailing list manager)


From martyn.byng at nag.co.uk  Wed May 14 11:57:39 2014
From: martyn.byng at nag.co.uk (Martyn Byng)
Date: Wed, 14 May 2014 09:57:39 +0000
Subject: [R] Problem with R "density" function
In-Reply-To: <CAMD1hninmGgDHTSBkGvAQZ6=8bQrkzXAEk5hykigc54F4NhZnw@mail.gmail.com>
References: <CAMD1hninmGgDHTSBkGvAQZ6=8bQrkzXAEk5hykigc54F4NhZnw@mail.gmail.com>
Message-ID: <767d45edf2a5472ca972d2c87af5bc75@AM3PR05MB545.eurprd05.prod.outlook.com>

Hi,

Have you tried using a different bandwidth rather than the number of points,  the default bandwidth gives ...

x <- rnorm(10000)
dd <- density(x,kernel="epanechnikov",n=101)
sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 1.001014

Martyn
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of DHIMAN BHADRA
Sent: 14 May 2014 10:36
To: r-help at r-project.org
Subject: [R] Problem with R "density" function

Hello,
My friend has the following issue with R. I will be glad to receive any response.
Thanks,
Dhiman Bhadra

Hello everyone,

I am trying to use the 'density' function available with the base package of R to estimate the density of a data set for subsequent use. I just noticed that with even 1000 data points, the numerical integral of the estimated density using the Epanechnikov kernel is far from 1. I wonder if I am doing something wrong, or whether there is a bug:

x=rnorm(10000)
> dd=density(x,kernel="epanechnikov",n=101,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 5.7245

> dd=density(x,kernel="epanechnikov",n=1001,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 2.870922

> dd=density(x,kernel="epanechnikov",n=10001,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 0.9989762

So unless I use around 10000 or more data points, the integral is wrong:
there seems to be a scaling factor creeping in. Am I missing something?


Best regards,
*Apratim Guha*

__________________________________________________________________________
*Dr. Apratim Guha*
*Associate Professor, Production & Quantitative Methods Area, IIM Ahmedabad, *

*Vastrapur, Ahmedabad 380015, INDIA. Phone: (91) 79 6632 4803*
*Secretary: Ms. Sujatha Jayprakash: (91) 79 6632 4911*

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________________________________________________
This e-mail has been scanned for all viruses by Star.\ _...{{dropped:3}}


From hill0093 at umn.edu  Wed May 14 13:36:47 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 14 May 2014 04:36:47 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
Message-ID: <1400067407114-4690514.post@n4.nabble.com>

Ok, I want to try to avoid the miscommunications that 
you all seem to think I cause.
The following code works now because 
I use the single apostrophe-type of quote.
It gives the the horLabels at the bottom.

horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=horLabels)

To deal with the desirables:
1) labels should be vertical
2) the bottom of the labels should line up with the ticks
it was suggested that I try:

install.packages(plotrix)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

So I tried this code:

install.packages(plotrix)
horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

I get:
> install.packages(plotrix)
Error in install.packages(plotrix) : object 'plotrix' not found

Thanks,
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690514.html
Sent from the R help mailing list archive at Nabble.com.


From frtog at vestas.com  Wed May 14 13:48:55 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 13:48:55 +0200
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <1400067407114-4690514.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>

So the error you get when trying to install the plotrix package says:

Error in install.packages(plotrix) : object 'plotrix' not found

So install.packages thinks that you provided an R object as an argument. But the object cannot be founded.

Did you then read ?install.packages to see what types of argument you need to provide to that function?


     install.packages(pkgs, lib, repos = getOption("repos"),
                      contriburl = contrib.url(repos, type),
                      method, available = NULL, destdir = NULL,
                      dependencies = NA, type = getOption("pkgType"),
                      configure.args = getOption("configure.args"),
                      configure.vars = getOption("configure.vars"),
                      clean = FALSE, Ncpus = getOption("Ncpus", 1L),
                      verbose = getOption("verbose"),
                      libs_only = FALSE, INSTALL_opts, quiet = FALSE,
                      keep_outputs = FALSE, ...)
     
Arguments:

    pkgs: character vector of the names of packages whose current
          versions should be downloaded from the repositories.

So the first argument to install.packages() should be a string or a vector of strings. In the first case you install one package, in the latter you install a list of packages.

So you will probably get plotrix installed if you do

install.packages("plotrix") 

Or 

install.packages('plotrix')

 

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Hurr
> Sent: 14. maj 2014 13:37
> To: r-help at r-project.org
> Subject: Re: [R] Put short string labels vertically near tick marks on bottom
> axis
> 
> Ok, I want to try to avoid the miscommunications that
> you all seem to think I cause.
> The following code works now because
> I use the single apostrophe-type of quote.
> It gives the the horLabels at the bottom.
> 
> horAxisLims=c(0,7200)
> verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,612
> 8,6564,7000)
> #not fussy
> horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,610
> 0,6500,7000)
> #not at tics
> horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6
> 128,6564,7000)
> horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82
> Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
> plot(horData,verData,xaxt='n',xlim=horAxisLims)
> axis(1,tick=TRUE,at=horTicLocs,labels=horLabels)
> 
> To deal with the desirables:
> 1) labels should be vertical
> 2) the bottom of the labels should line up with the ticks
> it was suggested that I try:
> 
> install.packages(plotrix)
> axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
> library(plotrix)
> staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
> 
> So I tried this code:
> 
> install.packages(plotrix)
> horAxisLims=c(0,7200)
> verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,612
> 8,6564,7000)
> #not fussy
> horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,610
> 0,6500,7000)
> #not at tics
> horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6
> 128,6564,7000)
> horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82
> Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
> plot(horData,verData,xaxt='n',xlim=horAxisLims)
> axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
> library(plotrix)
> staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
> 
> I get:
> > install.packages(plotrix)
> Error in install.packages(plotrix) : object 'plotrix' not found
> 
> Thanks,
> Hurr
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Put-short-
> string-labels-vertically-near-tick-marks-on-bottom-axis-
> tp4690452p4690514.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From hill0093 at umn.edu  Wed May 14 14:52:22 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 14 May 2014 05:52:22 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>
Message-ID: <1400071942592-4690519.post@n4.nabble.com>

Thank you so much Frede Aakmann T?gersen-2.
Yes, the following code works with the 'plotrix' quotes and gives:
1) labels are vertical
2) the bottom of the labels line up with the ticks

install.packages('plotrix')
horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

Thank you, I guess my communication is better.
But R is hard for me.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690519.html
Sent from the R help mailing list archive at Nabble.com.


From ivan.calandra at univ-fcomte.fr  Wed May 14 14:56:38 2014
From: ivan.calandra at univ-fcomte.fr (Ivan Calandra)
Date: Wed, 14 May 2014 14:56:38 +0200
Subject: [R] nested design
Message-ID: <53736806.10401@univ-fcomte.fr>

Dear useRs,

I would like to apply a nested ANOVA on my dataset, but I cannot find a 
satisfying answer on how to implement it in R.
For example, fac2 is nested within fac1:
df <- data.frame(resp=rnorm(12), fac1=rep(LETTERS[1:2],each=6), 
fac2=rep(letters[1:6],each=2))

I have found three different ways that are said to be nested designs and 
I cannot understand whether they do the same or not. They all give 
similar results with this example but it might not always be the case.

1) following: 
http://www.personal.psu.edu/mar36/stat_461/nested/nested_designs.html
summary(aov(resp~fac1+fac1/fac2, data=df))

2) following: 
http://www.zoology.unimelb.edu.au/stats/Worksheets/nested%20two-way%20anova%20curdies.pdf
summary(aov(resp~fac1+fac2%in%fac1, data=df))
This notation is very intuitive to me.

3) following: 
http://cran.r-project.org/doc/contrib/Vikneswaran-ED_companion.pdf
summary(aov(resp~fac1+fac1:fac2, data=df))
For me, the ":" specifies the interaction. Is this then analogous since 
in a nested design the levels of fac2 are different in each level of fac1?


So my questions are: Are there differences between these notations? If 
yes, which ones? And then, which notation should I prefer?
And if they are identical, then why are there 3 (or more) ways to do it? 
Is there a reason not to have a single implementation?

Thank you in advance,
Ivan

-- 
Ivan Calandra
University of Franche-Comt?
Laboratoire Chrono-Environnement
Bureau ATER -107L
16, Route de Gray
25030 Besan?on Cedex, France
ivan.calandra at univ-fcomte.fr
+33 (0) 381 66 20 60
http://chrono-environnement.univ-fcomte.fr/spip.php?article1830


From nashjc at uottawa.ca  Wed May 14 15:02:10 2014
From: nashjc at uottawa.ca (Prof J C Nash (U30A))
Date: Wed, 14 May 2014 09:02:10 -0400
Subject: [R]  nls() help please
In-Reply-To: <mailman.31.1400061612.17136.r-help@r-project.org>
References: <mailman.31.1400061612.17136.r-help@r-project.org>
Message-ID: <53736952.9070803@uottawa.ca>

Someone might be able to come up with a neat expression, but my own
approach would be to write a residual function to create the vector res
from the parameters, for which core line would be

res<-
 D1/(p1*((E/(p2-E))^(1/p3)))+D2/(p6*((E/(p2-E))^(1/p4)))
+(p5*D1*D2)/(p1*p6*((E/(p2-E))^(0.5/p3+0.5/p4)))-1

and use either package nlmrt function nlfb or package minpack.lm
function nls.lm.

Note that if you can provide a Jacobian function (nls does this
internally, which is why it is nice), you will generally get much better
results and more quickly. Writing the residuals this way round helps
avoid sign errors in the derivatives.

You can also minimize the sum of squares -- I've examples of this in my
new book "Nonlinear parameter optimization using R tools" from Wiley.
For information, I'll be giving a tutorial on this topic at UseR 2014. I
believe this year the tutorials are included in conference registration.

Let me know off-list of your progress.

JN



On 14-05-14 06:00 AM, r-help-request at r-project.org wrote:
> Message: 29
> Date: Tue, 13 May 2014 13:20:01 -0700 (PDT)
> From: Andras Farkas <motyocska at yahoo.com>
> To: "r-help at r-project.org" <r-help at r-project.org>
> Subject: [R] nls() help please
> Message-ID:
> 	<1400012401.98480.YahooMailNeo at web161605.mail.bf1.yahoo.com>
> Content-Type: text/plain
> 
> Dear All,
>  
> please help with writing the function for the following:
>  
> we have data frame "raw"
>  
> D1 <-c(2, 2, 2, 2, 2, 5, 5, 5, 5, 5, 10, 10, 10, 10, 10, 20, 20, 20, 20, 20, 50, 50, 50, 50, 50)
> D2 <-c(0.2, 0.5, 1, 2, 5, 0.2, 0.5, 1, 2, 5, 0.2, 0.5, 1, 2, 5, 0.2, 0.5, 1, 2, 5, 0.2, 0.5, 1, 2, 5)
> E <-c(76.3, 48.8, 44.5, 15.5, 3.21, 56.7, 47.5, 26.8, 16.9, 3.25, 46.7, 35.6, 21.5, 11.1, 2.94, 24.8, 21.6, 17.3, 7.78, 1.84, 13.6, 11.1, 6.43, 3.34, 0.89)
>  
> raw <-data.frame(D1,D2,E)
>  
> reasonable starting parameters for nls (to the best of my knowledge):
>  
> start <-c(p1=8,p2=80,p3=-0.7,p4=-2.5,p5=0.3,p6=0.7)
>  
> I would like to fit this model:
>  
> 1 = D1/(p1*((E/(p2-E))^(1/p3)))+D2/(p6*((E/(p2-E))^(1/p4)))+(p5*D1*D2)/(p1*p6*((E/(p2-E))^(0.5/p3+0.5/p4)))
>  
>  
> to the data in "raw" using nls(). The weighting of the fit in this case should be done using the inverse of the variance of raw$E. Having the model equal to 1 makes it quiet difficult for me to see or understand how this can be done (versus the "usual" nls(y~p1*x+p2,...)) using the software.
>  
> As always, your help is greatly appreciated.  
>  
> Sincerely,
>  
> Andras 
> 
> 	[[alternative HTML version deleted]]


From chrisaa at med.umich.edu  Wed May 14 15:04:29 2014
From: chrisaa at med.umich.edu (Andrews, Chris)
Date: Wed, 14 May 2014 13:04:29 +0000
Subject: [R] Problem with R "density" function
In-Reply-To: <767d45edf2a5472ca972d2c87af5bc75@AM3PR05MB545.eurprd05.prod.outlook.com>
References: <CAMD1hninmGgDHTSBkGvAQZ6=8bQrkzXAEk5hykigc54F4NhZnw@mail.gmail.com>
	<767d45edf2a5472ca972d2c87af5bc75@AM3PR05MB545.eurprd05.prod.outlook.com>
Message-ID: <30411786F64EEF46856EFBA2CD9177992C2BC51A@UHEXMBSPR03.umhs.med.umich.edu>

Try adding plots, e.g. 

set.seed(20140514)
x <- rnorm(100)
hist(x, prob=TRUE, ylim=c(0,10))
dd <- density(x, n=10001, bw=0.001)
lines(dd, col=2, type="s")
dd <- density(x, n=101, bw=0.001)
lines(dd, col=3, type="s")

The density function you produce with bw=0.001 is very irregular (many sharp, narrow peaks).  You should expect to need many intervals (i.e., large n) in your Reimann integral to get an accurate estimate of the area under it.

Chris


-----Original Message-----
From: Martyn Byng [mailto:martyn.byng at nag.co.uk] 
Sent: Wednesday, May 14, 2014 5:58 AM
To: DHIMAN BHADRA; r-help at r-project.org
Subject: Re: [R] Problem with R "density" function

Hi,

Have you tried using a different bandwidth rather than the number of points,  the default bandwidth gives ...

x <- rnorm(10000)
dd <- density(x,kernel="epanechnikov",n=101)
sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 1.001014

Martyn
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of DHIMAN BHADRA
Sent: 14 May 2014 10:36
To: r-help at r-project.org
Subject: [R] Problem with R "density" function

Hello,
My friend has the following issue with R. I will be glad to receive any response.
Thanks,
Dhiman Bhadra

Hello everyone,

I am trying to use the 'density' function available with the base package of R to estimate the density of a data set for subsequent use. I just noticed that with even 1000 data points, the numerical integral of the estimated density using the Epanechnikov kernel is far from 1. I wonder if I am doing something wrong, or whether there is a bug:

x=rnorm(10000)
> dd=density(x,kernel="epanechnikov",n=101,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 5.7245

> dd=density(x,kernel="epanechnikov",n=1001,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 2.870922

> dd=density(x,kernel="epanechnikov",n=10001,bw=0.001)
> sum(dd$y)*(dd$x[2]-dd$x[1])
[1] 0.9989762

So unless I use around 10000 or more data points, the integral is wrong:
there seems to be a scaling factor creeping in. Am I missing something?


Best regards,
*Apratim Guha*

__________________________________________________________________________
*Dr. Apratim Guha*
*Associate Professor, Production & Quantitative Methods Area, IIM Ahmedabad, *

*Vastrapur, Ahmedabad 380015, INDIA. Phone: (91) 79 6632 4803*
*Secretary: Ms. Sujatha Jayprakash: (91) 79 6632 4911*

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________________________________________________
This e-mail has been scanned for all viruses by Star.\ _...{{dropped:7}}


From eliza_botto at hotmail.com  Wed May 14 15:16:59 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Wed, 14 May 2014 13:16:59 +0000
Subject: [R] gumbel distribution
In-Reply-To: <1400067650.68605.YahooMailNeo@web142603.mail.bf1.yahoo.com>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<1400067650.68605.YahooMailNeo@web142603.mail.bf1.yahoo.com>
Message-ID: <BLU170-W13628867A55F936E9161D3789370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/084cf15a/attachment.pl>

From frtog at vestas.com  Wed May 14 15:58:37 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 15:58:37 +0200
Subject: [R] gumbel distribution
Message-ID: <v42yb06ny714a58rfrnylbku.1400075868434@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/967a6d27/attachment.pl>

From 815551145 at qq.com  Wed May 14 10:26:02 2014
From: 815551145 at qq.com (Owen)
Date: Wed, 14 May 2014 08:26:02 +0000
Subject: [R] how to make R plot under Linux
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
Message-ID: <loom.20140514T102018-832@post.gmane.org>

Vojt?ch Zeisek <Vojtech.Zeisek <at> opensuse.org> writes:

> 
> On Linux You can use Rkward http://rkward.sourceforge.net/ - very nice and 
> good graphical user interface for R.
> 
> Dne P? 19. ?nora 2010 19:39:53 xinwei <at> stat.psu.edu napsal(a):
> > Hi, I am using R in Linux environment. How can i make plot in Linux just
> > like in windows?
> > 
> > thanks
> > 
> > ______________________________________________
> > R-help <at> r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> >  http://www.R-project.org/posting-guide.html and provide commented,
> >  minimal, self-contained, reproducible code.

Hi,
I have connected to the Linux server via ssh -X using Putty and can 
successfully show "xclock" window in Xming. 
However, when i used R and run  command "hist(c(1:10))", i cannot get the 
figure in the Xming window (nothing happened in the Xming window). 
The output of capabilities() is as following:
> capabilities()
    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
    TRUE     TRUE    FALSE    FALSE    FALSE    FALSE     TRUE     TRUE
  libxml     fifo   cledit    iconv      NLS  profmem    cairo
    TRUE     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE

What should i do to see the popup plot of R? should i need to ask the 
Administrator to enable X11?
Thanks!


From gunter.nickel at gmx.net  Wed May 14 11:57:23 2014
From: gunter.nickel at gmx.net (Gunter Nickel)
Date: Wed, 14 May 2014 02:57:23 -0700 (PDT)
Subject: [R] Issues with fa() function in "psych"
In-Reply-To: <CAMwbFxi2=mhjB66YH-=U7L2p0ZbeqCLDraOiUjDzUcCCtxDuKQ@mail.gmail.com>
References: <CAMwbFxi2=mhjB66YH-=U7L2p0ZbeqCLDraOiUjDzUcCCtxDuKQ@mail.gmail.com>
Message-ID: <1400061443842-4690511.post@n4.nabble.com>

Hi Sagnik,


sagnik chakravarty wrote
>    - Request you to add option for *"equamax" rotation* also if possible.

As GPApackage doesn't provide an explicit function termed "Equamax" you may
want to use Crawford-Ferguson rotation from the GPApackage ( "cfT"). With
the additional argument kappa=m*/(2*p), where m is the number of factors and
p the number of variables/items, you'll be able to achieve a Equamax
rotation. On the equivalence of orthogonal CF with Orthomax family please
refer to Browne, 2001, An overview fo Analytic Rotation in Exploratory
Factor Analysis, Multivariate Behavioural Research, 36 (1), 111-150

Cheers,
Gunter





--
View this message in context: http://r.789695.n4.nabble.com/Issues-with-fa-function-in-psych-tp4688378p4690511.html
Sent from the R help mailing list archive at Nabble.com.


From smartpink111 at yahoo.com  Wed May 14 13:44:30 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 14 May 2014 04:44:30 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400067407114-4690514.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>	<5984315.Z91ICtyo8n@localhost.localdomain>	<1400029918177-4690464.post@n4.nabble.com>	<1400041166419-4690478.post@n4.nabble.com>	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>	<1400054088191-4690492.post@n4.nabble.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
Message-ID: <1400067870.1579.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Hi,
Try:

install.packages("plotrix")
A.K.


On Wednesday, May 14, 2014 7:39 AM, Hurr <hill0093 at umn.edu> wrote:
Ok, I want to try to avoid the miscommunications that 
you all seem to think I cause.
The following code works now because 
I use the single apostrophe-type of quote.
It gives the the horLabels at the bottom.

horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=horLabels)

To deal with the desirables:
1) labels should be vertical
2) the bottom of the labels should line up with the ticks
it was suggested that I try:

install.packages(plotrix)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

So I tried this code:

install.packages(plotrix)
horAxisLims=c(0,7200)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))

I get:
> install.packages(plotrix)
Error in install.packages(plotrix) : object 'plotrix' not found

Thanks,
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690514.html

Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From raphael.paebst at googlemail.com  Wed May 14 14:18:04 2014
From: raphael.paebst at googlemail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Wed, 14 May 2014 14:18:04 +0200
Subject: [R] Voronoi-Diagrams in R
Message-ID: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>

Hello everyone!
I have returned to R after a longish break and am currently working on
a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
If I understood it correctly, the Geometry-Package only offers
functions for the Delaunay-Triangulation at the moment. Is this
correct and if so, what would be the best way to get Voronoi-Diagrams
as well?

Many Thanks in advance!

Raphael


From hill0093 at umn.edu  Wed May 14 16:00:59 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 14 May 2014 07:00:59 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <1400071942592-4690519.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>
	<1400071942592-4690519.post@n4.nabble.com>
Message-ID: <1400076059498-4690528.post@n4.nabble.com>

I want to split the long label strings by 
separating out the alphabetical unit part and 
put the number to the left (above) the unit.
I will have the separation done by my other 
program if necessary. Then I would need to 
put some strings not at tick marks.
Or is there a way to do that (semi) automatically in 
the graphics of R?
Hurr



--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690528.html
Sent from the R help mailing list archive at Nabble.com.


From boris.steipe at utoronto.ca  Wed May 14 16:25:16 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 14 May 2014 10:25:16 -0400
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
Message-ID: <B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>

Try:

install.packages("deldir")
library(deldir)
?deldir
set.seed(16180)
x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
tess <- deldir(x, y, rw = window)
plot.deldir(tess, wpoints="real", wlines="tess")

Cheers,
Boris


On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:

> Hello everyone!
> I have returned to R after a longish break and am currently working on
> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
> If I understood it correctly, the Geometry-Package only offers
> functions for the Delaunay-Triangulation at the moment. Is this
> correct and if so, what would be the best way to get Voronoi-Diagrams
> as well?
> 
> Many Thanks in advance!
> 
> Raphael
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From yuanzhi.li at usherbrooke.ca  Wed May 14 16:42:55 2014
From: yuanzhi.li at usherbrooke.ca (yuanzhi)
Date: Wed, 14 May 2014 07:42:55 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
	<1400034128155-4690470.post@n4.nabble.com>
	<a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
Message-ID: <1400078575707-4690537.post@n4.nabble.com>

Hi, I know all what you said, but it seems that you don't understand my
problem. I am sorry about my poor english level. I know that we can use a
list to store complicated objects. e.g.
x<-cbind(rnorm(10),rnorm(10),rnorm(10))
y<-cbind(rnorm(10),rnorm(10),rnorm(10))
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3])) 
ls<-list(lm1=lm1,lm2=lm2,lm3=lm3)
so the results of linear models are stored in the list "ls", and we can use
ls[[1]] to cite the results of the first linear model. But I want to do this
part
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3]))
in a loop if I have much more than 3 linear models to do. How can define a
list "ls"so that I can write the codes as

for (i in 1:3)
{
   ls[[i]]<-summary(lm(y[,i]~x[,i]))
}


Jeff Newmiller wrote
> Please do the reading I recommended before posting again. My example was
> numeric because your example was numeric. For more complicated data, a
> list is a type of vector that can hold such objects, and you would know
> this if you had read the intro document.
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go
> Live...
> DCN:&lt;

> jdnewmil at .ca

> &gt;        Basics: ##.#.       ##.#.  Live Go...
>                                       Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#. 
> rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
> On May 13, 2014 7:22:08 PM PDT, yuanzhi &lt;

> yuanzhi.li@

> &gt; wrote:
>>Thank you for your reply.
>>
>>Yes, there is a problem according to you suggestion.
>>What if the value are not numerical, e.g. I want to use the variable to
>>store the results of linear regression.
>>can I use
>>myvec <- vector( "numeric", 10 )
>>for ( i in 1:10 ) {
>>  myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
>>loop.
>>}
>>?
>>
>>you advice seems only to be available when the function left allocates
>>a
>>numerical value to the variable, what if the function return other type
>>of
>>objects?
>>
>>
>>
>>
>>Jeff Newmiller wrote
>>> What is wrong with
>>> 
>>> myvec <- vector( "numeric", 10 )
>>> for ( i in 1:10 ) {
>>>   myvec[ i ] <- i
>>> }
>>> 
>>> ?
>>> 
>>> If you are using assign, IMHO you are probably doing whatever you are
>>> doing wrong.
>>> 
>>> If you want named elements, give the vector names:
>>> 
>>> names( myvec ) <- paste0( "t", 1:10 )
>>> 
>>> and you can refer to them
>>> 
>>> myvec[ "t3" ]
>>> 
>>> Go read the "Introduction to R" document again... particularly the
>>> discussion of indexing.
>>>
>>---------------------------------------------------------------------------
>>> Jeff Newmiller                        The     .....       .....  Go
>>> Live...
>>> DCN:&lt;
>>
>>> jdnewmil at .ca
>>
>>> &gt;        Basics: ##.#.       ##.#.  Live Go...
>>>                                       Live:   OO#.. Dead: OO#.. 
>>Playing
>>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>>> /Software/Embedded Controllers)               .OO#.       .OO#. 
>>> rocks...1k
>>>
>>---------------------------------------------------------------------------
>>
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;
>>
>>> Yuanzhi.Li@
>>
>>> &gt; wrote:
>>>>Hi, everyone
>>>>
>>>>I want to create a series of variables (e.g. t1, t2..., t10) which
>>>>could 
>>>>be used in loops. My idea is to use function "assign"
>>>>
>>>>for (i in 1:10)
>>>>{
>>>>   assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>>>variable ti
>>>>}
>>>>
>>>>But when I create a vector containing the names of these variables
>>and 
>>>>want to use the variables according to the subscript, it doesn't
>>works.
>>>>
>>>>t<-noquote(paste("t",1:10,sep=""))
>>>>t[1]
>>>>t1
>>>>it returns only the name of variable t1, but not the value allocated
>>to
>>>>
>>>>t1 by FUN. So what should I do to realize this?
>>>>
>>>>Or is there any better way to do this?
>>>>
>>>>Can we define a series of variables which can be used according to
>>the 
>>>>subscript like
>>>>t<-f(t1, t2..., t10),
>>>>then we have 10 variables which can be used directly?
>>>>for(i in 1:10)
>>>>{
>>>>  t[i]<-FUN# with the fines variables we can directly assign the
>>value 
>>>>of FUN to ti
>>>>}
>>>>These are just my thoughts, I don't know whether there are available
>>R 
>>>>codes to realized it. I am looking forward any help from you.
>>>>
>>>>Thanks in advance!
>>>>
>>>>Yuanzhi
>>>>
>>>>______________________________________________
>>>>
>>
>>> R-help@
>>
>>>  mailing list
>>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>>PLEASE do read the posting guide
>>>>http://www.R-project.org/posting-guide.html
>>>>and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> ______________________________________________
>>
>>> R-help@
>>
>>>  mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>>
>>
>>--
>>View this message in context:
>>http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
>>Sent from the R help mailing list archive at Nabble.com.
>>
>>______________________________________________
>>

> R-help@

>  mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________

> R-help@

>  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.





--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690537.html
Sent from the R help mailing list archive at Nabble.com.


From eliza_botto at hotmail.com  Wed May 14 16:48:34 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Wed, 14 May 2014 14:48:34 +0000
Subject: [R] gumbel distribution
In-Reply-To: <v42yb06ny714a58rfrnylbku.1400075868434@email.android.com>
References: <v42yb06ny714a58rfrnylbku.1400075868434@email.android.com>
Message-ID: <BLU170-W70FC79DBB577152789DCA689370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/a64c36c8/attachment.pl>

From wht_crl at yahoo.com  Wed May 14 16:51:36 2014
From: wht_crl at yahoo.com (carol white)
Date: Wed, 14 May 2014 07:51:36 -0700
Subject: [R] matrix column division by vector
Message-ID: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/6443a020/attachment.pl>

From dcarlson at tamu.edu  Wed May 14 16:59:36 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Wed, 14 May 2014 14:59:36 +0000
Subject: [R] matrix column division by vector
In-Reply-To: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6E1FB@mb02.ads.tamu.edu>

You don't need do.call:

> t(t(m)/v)
     [,1] [,2] [,3]
[1,]    2    2    2
[2,]    1    1    1

> t(apply(m, 1, function(x) x/v))
     [,1] [,2] [,3]
[1,]    2    2    2
[2,]    1    1    1

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of carol white
Sent: Wednesday, May 14, 2014 9:52 AM
To: r-help at stat.math.ethz.ch
Subject: [R] matrix column division by vector

Hi,
What is the elegant script to divide the columns of a matrix by the respective position of a vector elements?

m=rbind(c(6,4,2),c(3,2,1))

v= c(3,2,1)

res= 6/3?? 4/2? 2/1
??????? 3/3?? 2/2 ?? 1/1


this is correct?
mat2 = NULL

for (i in 1: ncol(m))

??? mat2 = cbind(mat2, m[,i]/ v[i])


but how to do more compact and elegant with for ex do.call?

Many thanks

Carol
	[[alternative HTML version deleted]]


From frtog at vestas.com  Wed May 14 17:03:36 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 17:03:36 +0200
Subject: [R] matrix column division by vector
Message-ID: <jykkqnmn8ow8qub8fkd93gtg.1400079611393@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/ea2959a0/attachment.pl>

From gunter.berton at gene.com  Wed May 14 17:17:35 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 14 May 2014 08:17:35 -0700
Subject: [R] matrix column division by vector
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6E1FB@mb02.ads.tamu.edu>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6E1FB@mb02.ads.tamu.edu>
Message-ID: <CACk-te0KBH29qRkwT8y_dyjxhKNc5joS5hbaK6E2CWqYp6WLNA@mail.gmail.com>

Oh my goodness David! Don't forget that matrices are just vectors in
column major order.


> m/rep(v,e=2)
     [,1] [,2] [,3]
[1,]    2    2    2
[2,]    1    1    1

(the generalization is obvious)

should be far more efficient and simpler  than running apply loops.

-- Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 14, 2014 at 7:59 AM, David L Carlson <dcarlson at tamu.edu> wrote:
> You don't need do.call:
>
>> t(t(m)/v)
>      [,1] [,2] [,3]
> [1,]    2    2    2
> [2,]    1    1    1
>
>> t(apply(m, 1, function(x) x/v))
>      [,1] [,2] [,3]
> [1,]    2    2    2
> [2,]    1    1    1
>
> -------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77840-4352
>
>
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of carol white
> Sent: Wednesday, May 14, 2014 9:52 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] matrix column division by vector
>
> Hi,
> What is the elegant script to divide the columns of a matrix by the respective position of a vector elements?
>
> m=rbind(c(6,4,2),c(3,2,1))
>
> v= c(3,2,1)
>
> res= 6/3   4/2  2/1
>         3/3   2/2    1/1
>
>
> this is correct
> mat2 = NULL
>
> for (i in 1: ncol(m))
>
>     mat2 = cbind(mat2, m[,i]/ v[i])
>
>
> but how to do more compact and elegant with for ex do.call?
>
> Many thanks
>
> Carol
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewmil at dcn.davis.CA.us  Wed May 14 17:27:31 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 14 May 2014 08:27:31 -0700
Subject: [R] matrix column division by vector
In-Reply-To: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
Message-ID: <c384efe2-b18b-4500-8f6c-e6cb939d4d48@email.android.com>

Please post in plain text... your email is getting distorted and hard to read by the HTML.

I don't know how to use do.call for this, but when you understand how vectors recycle and matrices and arrays are laid out in memory (read the Introduction to R document if not) then the following comes to mind:

mat2 <- m / matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE )

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 14, 2014 7:51:36 AM PDT, carol white <wht_crl at yahoo.com> wrote:
>Hi,
>What is the elegant script to divide the columns of a matrix by the
>respective position of a vector elements?
>
>m=rbind(c(6,4,2),c(3,2,1))
>
>v= c(3,2,1)
>
>res= 6/3?? 4/2? 2/1
>??????? 3/3?? 2/2 ?? 1/1
>
>
>this is correct?
>mat2 = NULL
>
>for (i in 1: ncol(m))
>
>??? mat2 = cbind(mat2, m[,i]/ v[i])
>
>
>but how to do more compact and elegant with for ex do.call?
>
>Many thanks
>
>Carol
>	[[alternative HTML version deleted]]
>
>
>
>------------------------------------------------------------------------
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From wewolski at gmail.com  Wed May 14 17:38:54 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Wed, 14 May 2014 17:38:54 +0200
Subject: [R] S3 - how to implement "colnames<-"
In-Reply-To: <21363.15621.881628.577074@stat.math.ethz.ch>
References: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
	<21363.15621.881628.577074@stat.math.ethz.ch>
Message-ID: <CAAjnpdjetZQEXQg_dtMpCrQwRH1+5BAhT-4Gi44cCggpVrNLEQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/7f43bf9b/attachment.pl>

From wewolski at gmail.com  Wed May 14 17:51:21 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Wed, 14 May 2014 17:51:21 +0200
Subject: [R] roxygen2 question
Message-ID: <CAAjnpdg41UkbYhqdm_gPsvEbeHXd1oPtC-7RqdvbewYNDnhbHg@mail.gmail.com>

How to document S3Methods with roxygen so that I have only 1 entry in
the package documentation page per S3Method.

In the package documentation page they show up than as follows

read2msExperiment read 2 feature alginer long format and generate an
msexperiment
read2msExperiment.data.frame convert data.frame 2 msexperiment
read2msExperiment.default read 2 feature alginer long format and
generate an msexperiment


I did alias read2msExperiment in the documentation of
read2msExperiment.default but this only helps that read2msExperiment
points to the documentation of read2msExperiment.default.

What I would like to have is one entry in the package documentation
page for all s3Methods:

This is my roxygen code at the moment.


#' @export
read2msExperiment=function(obj,...){
  UseMethod('read2msExperiment')
}
#' read 2 feature alginer long format and generate an msexperiment
#' @aliases read2msExperiment
#' @param filename filename to read (can't be compressed)
#' @return msexperiment
#' @export
read2msExperiment.default=function(filename){
  print("read2msExperiment.default")
  aligtable=fread(filename)
  data = convertLF2Wideformat(aligtable)
  data = convert2msExperiment(data)
  return(data)
}





-- 
Witold Eryk Wolski


From dcarlson at tamu.edu  Wed May 14 18:07:10 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Wed, 14 May 2014 16:07:10 +0000
Subject: [R] matrix column division by vector
In-Reply-To: <c384efe2-b18b-4500-8f6c-e6cb939d4d48@email.android.com>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
	<c384efe2-b18b-4500-8f6c-e6cb939d4d48@email.android.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6E277@mb02.ads.tamu.edu>

Bert wins the race:

> system.time(replicate(1e5, m/rep(v,e=2)))
   user  system elapsed 
   0.25    0.00    0.25 
> system.time(replicate(1e5, m/matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE)))
   user  system elapsed 
   0.42    0.00    0.42 
> system.time(replicate(1e5, t(t(m)/v)))
   user  system elapsed 
   1.31    0.00    1.33 
> system.time(replicate(1e5, sweep(m, 2, v, "/")))
   user  system elapsed 
   3.39    0.00    3.40 
> system.time(replicate(1e5, t(apply(m, 1, function(x) x/v))))
   user  system elapsed 
   5.04    0.01    5.06

David C

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jeff Newmiller
Sent: Wednesday, May 14, 2014 10:28 AM
To: carol white; carol white; r-help at stat.math.ethz.ch
Subject: Re: [R] matrix column division by vector

Please post in plain text... your email is getting distorted and hard to read by the HTML.

I don't know how to use do.call for this, but when you understand how vectors recycle and matrices and arrays are laid out in memory (read the Introduction to R document if not) then the following comes to mind:

mat2 <- m / matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE )

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 14, 2014 7:51:36 AM PDT, carol white <wht_crl at yahoo.com> wrote:
>Hi,
>What is the elegant script to divide the columns of a matrix by the
>respective position of a vector elements?
>
>m=rbind(c(6,4,2),c(3,2,1))
>
>v= c(3,2,1)
>
>res= 6/3?? 4/2? 2/1
>??????? 3/3?? 2/2 ?? 1/1
>
>
>this is correct?
>mat2 = NULL
>
>for (i in 1: ncol(m))
>
>??? mat2 = cbind(mat2, m[,i]/ v[i])
>
>
>but how to do more compact and elegant with for ex do.call?
>
>Many thanks
>
>Carol
>	[[alternative HTML version deleted]]
>
>
>
>------------------------------------------------------------------------
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From JLucke at ria.buffalo.edu  Wed May 14 18:16:44 2014
From: JLucke at ria.buffalo.edu (JLucke at ria.buffalo.edu)
Date: Wed, 14 May 2014 12:16:44 -0400
Subject: [R] gumbel distribution
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
Message-ID: <OF84671D53.2517C57F-ON85257CD8.00594BA9-85257CD8.00596C0E@ria.buffalo.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/8a9bef22/attachment.pl>

From gunter.berton at gene.com  Wed May 14 18:22:20 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 14 May 2014 09:22:20 -0700
Subject: [R] matrix column division by vector
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6E277@mb02.ads.tamu.edu>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
	<c384efe2-b18b-4500-8f6c-e6cb939d4d48@email.android.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6E277@mb02.ads.tamu.edu>
Message-ID: <CACk-te0YWWMHTXdXGuLpF8chPfu7sebyc+fxoN=PHXshzo3Oig@mail.gmail.com>

Yes, but Jeff and I advocated essentially the same approach and the
difference between our versions is unimportant.

All the other approaches are at least aesthetically less desirable.

One "criticism" of our solution: it relies on the underlying
implementation of matrices rather than the matrix() API. In principle,
the implementation could change while the API remained constant.
However, the reality is that this would never happen (it would break
thousands of lines of code that use this approach because R was not in
the past and really still isn't entirely OO). But full disclosure
demands ...

Cheers,
Bert

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 14, 2014 at 9:07 AM, David L Carlson <dcarlson at tamu.edu> wrote:
> Bert wins the race:
>
>> system.time(replicate(1e5, m/rep(v,e=2)))
>    user  system elapsed
>    0.25    0.00    0.25
>> system.time(replicate(1e5, m/matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE)))
>    user  system elapsed
>    0.42    0.00    0.42
>> system.time(replicate(1e5, t(t(m)/v)))
>    user  system elapsed
>    1.31    0.00    1.33
>> system.time(replicate(1e5, sweep(m, 2, v, "/")))
>    user  system elapsed
>    3.39    0.00    3.40
>> system.time(replicate(1e5, t(apply(m, 1, function(x) x/v))))
>    user  system elapsed
>    5.04    0.01    5.06
>
> David C
>
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jeff Newmiller
> Sent: Wednesday, May 14, 2014 10:28 AM
> To: carol white; carol white; r-help at stat.math.ethz.ch
> Subject: Re: [R] matrix column division by vector
>
> Please post in plain text... your email is getting distorted and hard to read by the HTML.
>
> I don't know how to use do.call for this, but when you understand how vectors recycle and matrices and arrays are laid out in memory (read the Introduction to R document if not) then the following comes to mind:
>
> mat2 <- m / matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE )
>
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                       Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> ---------------------------------------------------------------------------
> Sent from my phone. Please excuse my brevity.
>
> On May 14, 2014 7:51:36 AM PDT, carol white <wht_crl at yahoo.com> wrote:
>>Hi,
>>What is the elegant script to divide the columns of a matrix by the
>>respective position of a vector elements?
>>
>>m=rbind(c(6,4,2),c(3,2,1))
>>
>>v= c(3,2,1)
>>
>>res= 6/3?? 4/2? 2/1
>>??????? 3/3?? 2/2 ?? 1/1
>>
>>
>>this is correct?
>>mat2 = NULL
>>
>>for (i in 1: ncol(m))
>>
>>??? mat2 = cbind(mat2, m[,i]/ v[i])
>>
>>
>>but how to do more compact and elegant with for ex do.call?
>>
>>Many thanks
>>
>>Carol
>>       [[alternative HTML version deleted]]
>>
>>
>>
>>------------------------------------------------------------------------
>>
>>______________________________________________
>>R-help at r-project.org mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From yuanzhi.li at usherbrooke.ca  Wed May 14 18:24:24 2014
From: yuanzhi.li at usherbrooke.ca (yuanzhi)
Date: Wed, 14 May 2014 09:24:24 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
	<1400034128155-4690470.post@n4.nabble.com>
	<a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
Message-ID: <1400084664291-4690552.post@n4.nabble.com>

I am really sorry, I misunderstand your meanings. Your suggestions are
useful, and it works!
ls<-vector("list",3)
for(i in 1:3)
{
   ls[[i]]<-summary(lm(y[,i]~x[,i]))
}
Thanks for your help very much and sorry for my mistake.





--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690552.html
Sent from the R help mailing list archive at Nabble.com.


From gunter.berton at gene.com  Wed May 14 18:26:17 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 14 May 2014 09:26:17 -0700
Subject: [R] matrix column division by vector
In-Reply-To: <CACk-te0YWWMHTXdXGuLpF8chPfu7sebyc+fxoN=PHXshzo3Oig@mail.gmail.com>
References: <1400079096.9812.YahooMailNeo@web121501.mail.ne1.yahoo.com>
	<c384efe2-b18b-4500-8f6c-e6cb939d4d48@email.android.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6E277@mb02.ads.tamu.edu>
	<CACk-te0YWWMHTXdXGuLpF8chPfu7sebyc+fxoN=PHXshzo3Oig@mail.gmail.com>
Message-ID: <CACk-te2WrL5ni=K6O_5xSsoZAnB67M2y38d75VPBiwtqaj1m4w@mail.gmail.com>

I'm wrong. Jeff's approach DOES use the matrix API and so I would say
is better than mine.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 14, 2014 at 9:22 AM, Bert Gunter <bgunter at gene.com> wrote:
> Yes, but Jeff and I advocated essentially the same approach and the
> difference between our versions is unimportant.
>
> All the other approaches are at least aesthetically less desirable.
>
> One "criticism" of our solution: it relies on the underlying
> implementation of matrices rather than the matrix() API. In principle,
> the implementation could change while the API remained constant.
> However, the reality is that this would never happen (it would break
> thousands of lines of code that use this approach because R was not in
> the past and really still isn't entirely OO). But full disclosure
> demands ...
>
> Cheers,
> Bert
>
> -- Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Wed, May 14, 2014 at 9:07 AM, David L Carlson <dcarlson at tamu.edu> wrote:
>> Bert wins the race:
>>
>>> system.time(replicate(1e5, m/rep(v,e=2)))
>>    user  system elapsed
>>    0.25    0.00    0.25
>>> system.time(replicate(1e5, m/matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE)))
>>    user  system elapsed
>>    0.42    0.00    0.42
>>> system.time(replicate(1e5, t(t(m)/v)))
>>    user  system elapsed
>>    1.31    0.00    1.33
>>> system.time(replicate(1e5, sweep(m, 2, v, "/")))
>>    user  system elapsed
>>    3.39    0.00    3.40
>>> system.time(replicate(1e5, t(apply(m, 1, function(x) x/v))))
>>    user  system elapsed
>>    5.04    0.01    5.06
>>
>> David C
>>
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jeff Newmiller
>> Sent: Wednesday, May 14, 2014 10:28 AM
>> To: carol white; carol white; r-help at stat.math.ethz.ch
>> Subject: Re: [R] matrix column division by vector
>>
>> Please post in plain text... your email is getting distorted and hard to read by the HTML.
>>
>> I don't know how to use do.call for this, but when you understand how vectors recycle and matrices and arrays are laid out in memory (read the Introduction to R document if not) then the following comes to mind:
>>
>> mat2 <- m / matrix( v, ncol=ncol(m), nrow=nrow(m), byrow=TRUE )
>>
>> ---------------------------------------------------------------------------
>> Jeff Newmiller                        The     .....       .....  Go Live...
>> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>>                                       Live:   OO#.. Dead: OO#..  Playing
>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
>> ---------------------------------------------------------------------------
>> Sent from my phone. Please excuse my brevity.
>>
>> On May 14, 2014 7:51:36 AM PDT, carol white <wht_crl at yahoo.com> wrote:
>>>Hi,
>>>What is the elegant script to divide the columns of a matrix by the
>>>respective position of a vector elements?
>>>
>>>m=rbind(c(6,4,2),c(3,2,1))
>>>
>>>v= c(3,2,1)
>>>
>>>res= 6/3?? 4/2? 2/1
>>>??????? 3/3?? 2/2 ?? 1/1
>>>
>>>
>>>this is correct?
>>>mat2 = NULL
>>>
>>>for (i in 1: ncol(m))
>>>
>>>??? mat2 = cbind(mat2, m[,i]/ v[i])
>>>
>>>
>>>but how to do more compact and elegant with for ex do.call?
>>>
>>>Many thanks
>>>
>>>Carol
>>>       [[alternative HTML version deleted]]
>>>
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>>______________________________________________
>>>R-help at r-project.org mailing list
>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>PLEASE do read the posting guide
>>>http://www.R-project.org/posting-guide.html
>>>and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From hasan.diwan at gmail.com  Wed May 14 18:26:14 2014
From: hasan.diwan at gmail.com (Hasan Diwan)
Date: Wed, 14 May 2014 09:26:14 -0700
Subject: [R] gumbel distribution
In-Reply-To: <OF84671D53.2517C57F-ON85257CD8.00594BA9-85257CD8.00596C0E@ria.buffalo.edu>
References: <BLU170-W71EE8738432CE094B49ECE89340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D260@DKRDSEXC016.vestas.net>
	<BLU170-W23A034A773A80C50A1D02689340@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D340@DKRDSEXC016.vestas.net>
	<OF84671D53.2517C57F-ON85257CD8.00594BA9-85257CD8.00596C0E@ria.buffalo.edu>
Message-ID: <CAP+bYWA_rKyRGdw27PVaZ0NiCZy-+96JOuX53gdBcWXQNmaZDQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/3570f3e2/attachment.pl>

From ragia11 at hotmail.com  Wed May 14 18:28:00 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Wed, 14 May 2014 18:28:00 +0200
Subject: [R] data presentation -curve
Message-ID: <DUB125-W56C7EBB350802CB23581C9B3370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/ac7e5d9c/attachment.pl>

From dcarlson at tamu.edu  Wed May 14 18:36:45 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Wed, 14 May 2014 16:36:45 +0000
Subject: [R] data presentation -curve
In-Reply-To: <DUB125-W56C7EBB350802CB23581C9B3370@phx.gbl>
References: <DUB125-W56C7EBB350802CB23581C9B3370@phx.gbl>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6E2E3@mb02.ads.tamu.edu>

1. data.frame
2. yes

Read the posting guide and work through a free tutorial or manual on R:
http://cran.r-project.org/other-docs.html

David C

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Ragia Ibrahim
Sent: Wednesday, May 14, 2014 11:28 AM
To: r-help at r-project.org
Subject: [R] data presentation -curve

dear group,
I had  table of ages and their related frequancy.
What data type  can I use to reoresent ir? Can I plot it in curve ?
thanks in advance
ARE 
 		 	   		  
	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Wed May 14 18:47:13 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 14 May 2014 09:47:13 -0700
Subject: [R] S3 - how to implement "colnames<-"
In-Reply-To: <CAAjnpdjetZQEXQg_dtMpCrQwRH1+5BAhT-4Gi44cCggpVrNLEQ@mail.gmail.com>
References: <CAAjnpdhA5zQD=Zjr1UL8ofTc6iBbCW3w1VWuidLdQHPsQ3PhBw@mail.gmail.com>
	<21363.15621.881628.577074@stat.math.ethz.ch>
	<CAAjnpdjetZQEXQg_dtMpCrQwRH1+5BAhT-4Gi44cCggpVrNLEQ@mail.gmail.com>
Message-ID: <CAF8bMcYvo7VTDSRGdqZhMES0HteXV0WukeO=U-g+652_kEFaRA@mail.gmail.com>

The last argument of a replacement function (one used on the left side
of an assignment) must be called 'value'.
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Wed, May 14, 2014 at 8:38 AM, Witold E Wolski <wewolski at gmail.com> wrote:
> Hi
>
> So how would I actually implement it - what is the signature?
>
>
> "dimnames<-.myclass" <- function(data,newnames){
> colnames(data) = newnames
> return(data)
> }
>
> ?
>
>
>
> On 14 May 2014 11:53, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
>
>> DO *NOT*  post to both R-help and R-devel !!
>> That is considered *very* impolite.
>>
>> As this is a question for R-help  only, i.e., not fit for
>> R-devel anyway :
>>
>> >>>>> Witold E Wolski <wewolski at gmail.com>
>> >>>>>     on Wed, 14 May 2014 10:57:09 +0200 writes:
>>
>>     > Have a class for which I would like to provide a "colnames<-.myclass"
>>     > function so that
>>
>>     > colnames(myintsance) <- c("a","b","c")
>>     > can be called.
>>
>> This is not easily possible, as `colnames<-` is *not* a generic
>> function.  OTOH, this is not necessary either, as
>> colnames, rownames are basically just short cuts for dimnames anyway:
>>
>> As  `dimnames<-` *is* a generic function,
>> so you write methods for `dimnames<-`.
>>
>> Martin
>>
>>     > --
>>     > Witold Eryk Wolski
>>
>>     > [[alternative HTML version deleted]]
>>      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>> Hmm,...
>>
>
>
>
> --
> Witold Eryk Wolski
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From frtog at vestas.com  Wed May 14 18:47:30 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 14 May 2014 18:47:30 +0200
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <1400076059498-4690528.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>
	<5984315.Z91ICtyo8n@localhost.localdomain>
	<1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>
	<1400071942592-4690519.post@n4.nabble.com>
	<1400076059498-4690528.post@n4.nabble.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D79C@DKRDSEXC016.vestas.net>

Have a look at regular expression in R!

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Hurr
> Sent: 14. maj 2014 16:01
> To: r-help at r-project.org
> Subject: Re: [R] Put short string labels vertically near tick marks on bottom
> axis
> 
> I want to split the long label strings by
> separating out the alphabetical unit part and
> put the number to the left (above) the unit.
> I will have the separation done by my other
> program if necessary. Then I would need to
> put some strings not at tick marks.
> Or is there a way to do that (semi) automatically in
> the graphics of R?
> Hurr
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Put-short-
> string-labels-vertically-near-tick-marks-on-bottom-axis-
> tp4690452p4690528.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From Ted.Harding at wlandres.net  Wed May 14 19:16:15 2014
From: Ted.Harding at wlandres.net (Ted Harding)
Date: Wed, 14 May 2014 18:16:15 +0100
Subject: [R] matrix column division by vector
In-Reply-To: <jykkqnmn8ow8qub8fkd93gtg.1400079611393@email.android.com>
Message-ID: <XFMail.20140514181615.Ted.Harding@wlandres.net>

Maybe I am missing the point -- but what is wrong with line 3 of:

  m=rbind(c(6,4,2),c(3,2,1))
  v= c(3,2,1)
  m%*%diag(1/v)
  #      [,1] [,2] [,3]
  # [1,]    2    2    2
  # [2,]    1    1    1

Ted.

On 14-May-2014 15:03:36 Frede Aakmann T?gersen wrote:
> Have a look at ?sweep
> 
> Br. Frede
> 
> 
> Sendt fra Samsung mobil
> -------- Oprindelig meddelelse --------
> Fra: carol white
> Dato:14/05/2014 16.53 (GMT+01:00)
> Til: r-help at stat.math.ethz.ch
> Emne: [R] matrix column division by vector
> 
> Hi,
> What is the elegant script to divide the columns of a matrix by the
> respective position of a vector elements?
> 
> m=rbind(c(6,4,2),c(3,2,1))
> 
> v= c(3,2,1)
> 
> res= 6/3   4/2  2/1
>         3/3   2/2    1/1
> 
> 
> this is correct
> mat2 = NULL
> 
> for (i in 1: ncol(m))
> 
>     mat2 = cbind(mat2, m[,i]/ v[i])
> 
> 
> but how to do more compact and elegant with for ex do.call?
> 
> Many thanks
> 
> Carol
>         [[alternative HTML version deleted]]
> 
> 
>       [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
Date: 14-May-2014  Time: 18:16:12
This message was sent by XFMail


From rshepard at appl-ecosys.com  Wed May 14 20:32:31 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Wed, 14 May 2014 11:32:31 -0700 (PDT)
Subject: [R] Interpreting results of rq() when tau = -1
Message-ID: <alpine.LNX.2.11.1405141125250.29384@localhost>

   I've read the quantreg vignette and ?rq and applied rq() to Brownlee's
stack loss data set. The results when I specify the desired output quantile
(tau) are easily understood. When I specify tau = -1 (as in the 4th example
in ?rq) I do not know what I'm seeing as the results. The code is:

data(stackloss)
rq(stack.loss ~ stack.x, tau=-1) # which the help page tells me returns the
 				 # full rq process

   Please point me to some documentation that explains the extensive results
of the full rq process.

Rich


From jdnewmil at dcn.davis.CA.us  Wed May 14 20:40:02 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 14 May 2014 11:40:02 -0700
Subject: [R] matrix column division by vector
In-Reply-To: <XFMail.20140514181615.Ted.Harding@wlandres.net>
References: <XFMail.20140514181615.Ted.Harding@wlandres.net>
Message-ID: <71fc700a-21f8-4fdb-b1dd-999b24076de4@email.android.com>

Scores well on notational simplicity.

Loses big on computational efficiency (lots of terms multiplied with zero, then added to the one nonzero term).
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 14, 2014 10:16:15 AM PDT, Ted Harding <Ted.Harding at wlandres.net> wrote:
>Maybe I am missing the point -- but what is wrong with line 3 of:
>
>  m=rbind(c(6,4,2),c(3,2,1))
>  v= c(3,2,1)
>  m%*%diag(1/v)
>  #      [,1] [,2] [,3]
>  # [1,]    2    2    2
>  # [2,]    1    1    1
>
>Ted.
>
>On 14-May-2014 15:03:36 Frede Aakmann T?gersen wrote:
>> Have a look at ?sweep
>> 
>> Br. Frede
>> 
>> 
>> Sendt fra Samsung mobil
>> -------- Oprindelig meddelelse --------
>> Fra: carol white
>> Dato:14/05/2014 16.53 (GMT+01:00)
>> Til: r-help at stat.math.ethz.ch
>> Emne: [R] matrix column division by vector
>> 
>> Hi,
>> What is the elegant script to divide the columns of a matrix by the
>> respective position of a vector elements?
>> 
>> m=rbind(c(6,4,2),c(3,2,1))
>> 
>> v= c(3,2,1)
>> 
>> res= 6/3   4/2  2/1
>>         3/3   2/2    1/1
>> 
>> 
>> this is correct
>> mat2 = NULL
>> 
>> for (i in 1: ncol(m))
>> 
>>     mat2 = cbind(mat2, m[,i]/ v[i])
>> 
>> 
>> but how to do more compact and elegant with for ex do.call?
>> 
>> Many thanks
>> 
>> Carol
>>         [[alternative HTML version deleted]]
>> 
>> 
>>       [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>-------------------------------------------------
>E-Mail: (Ted Harding) <Ted.Harding at wlandres.net>
>Date: 14-May-2014  Time: 18:16:12
>This message was sent by XFMail
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From kw.stat at gmail.com  Wed May 14 21:10:31 2014
From: kw.stat at gmail.com (Kevin Wright)
Date: Wed, 14 May 2014 14:10:31 -0500
Subject: [R] Correlelogram with partial correlation coefficients
In-Reply-To: <53728F8C.3020901@princeton.edu>
References: <53728F8C.3020901@princeton.edu>
Message-ID: <CAKFxdiTwtDu5os8Xzufeg_KqWLd6-RnptmB6CipwJ27JJ0D=+g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/47521c77/attachment.pl>

From 538280 at gmail.com  Wed May 14 21:16:26 2014
From: 538280 at gmail.com (Greg Snow)
Date: Wed, 14 May 2014 13:16:26 -0600
Subject: [R] R equivalent functions of some EXCEL functions
In-Reply-To: <1400058425.69569.YahooMailNeo@web193301.mail.sg3.yahoo.com>
References: <1400058425.69569.YahooMailNeo@web193301.mail.sg3.yahoo.com>
Message-ID: <CAFEqCdy_f-X_OFkfA+XVC2+vn3TGrp=v_U4h93JYx1XFQyWx_Q@mail.gmail.com>

You could search all of CRAN using the RSiteSearch function for terms
like bond or coupon.  There are also Task Views for Finance and
Econometrics that may point you towards useful packages.

On Wed, May 14, 2014 at 3:07 AM, Katherine Gobin
<katherine_gobin at yahoo.com> wrote:
> Dear R forum,
>
>
> EXCEL has some standard functions e.g.
>
>
> (1) PRICE function : Returns the price per $100 face value of a security that pays periodic interest.
>
>
> (2) COUPDAYBS : Returns the number of days from the beginning of the coupon period to the settlement date.
>
>
> (3) COUPDAYS : Returns the number of days in the coupon period that contains settlement date.
>
>
> 4) COUPDAYSNC : Returns the number of days from the settlement date to the next coupon date.
>
>
> Kindly guide if R has some inbuilt functions giving the results same as obtained from Excel functions mentioned above.
>
>
> With regards
>
> Katherine
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From alicia.r.perezporro at gmail.com  Wed May 14 20:46:21 2014
From: alicia.r.perezporro at gmail.com (=?UTF-8?Q?Alicia_R=2E_P=C3=A9rez=2DPorro?=)
Date: Wed, 14 May 2014 14:46:21 -0400
Subject: [R] Convert to integers all entries of a table (for DESeq2)
In-Reply-To: <1399946264.14221.YahooMailNeo@web142601.mail.bf1.yahoo.com>
References: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6DA81@mb02.ads.tamu.edu>
	<1399946264.14221.YahooMailNeo@web142601.mail.bf1.yahoo.com>
Message-ID: <CAP49uEDgDjCHWOtJv5a4LuPapShLkASgXV6_rLSLODdNBPbcSQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/2f0d5b63/attachment.pl>

From davidm.team at live.com  Wed May 14 17:39:04 2014
From: davidm.team at live.com (David Moskowitz)
Date: Wed, 14 May 2014 15:39:04 +0000
Subject: [R] =?utf-8?q?_Creating_multiple_orthogonal_designs?=
Message-ID: <COL402-EAS832B7530156DA891C000E783370@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/1741a79a/attachment.pl>

From interlocutorbrl2 at gmail.com  Wed May 14 19:57:01 2014
From: interlocutorbrl2 at gmail.com (K C)
Date: Wed, 14 May 2014 18:57:01 +0100
Subject: [R] model selection for nested factorial design
Message-ID: <CAB62qHv_hTTJuoANsFg0Vx+cYVAtyPv7ST3toLri0XTSuBqk3A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/98b13ee5/attachment.pl>

From cadeb at usgs.gov  Wed May 14 21:37:00 2014
From: cadeb at usgs.gov (Cade, Brian)
Date: Wed, 14 May 2014 13:37:00 -0600
Subject: [R] Interpreting results of rq() when tau = -1
In-Reply-To: <alpine.LNX.2.11.1405141125250.29384@localhost>
References: <alpine.LNX.2.11.1405141125250.29384@localhost>
Message-ID: <CAM5M9BTSXVK5HYeTu+bQVTZmC7XxWaUPSzx05+qkjM9QLbj_jw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/015a7621/attachment.pl>

From smartpink111 at yahoo.com  Wed May 14 19:32:19 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 14 May 2014 10:32:19 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
	bottom axis
In-Reply-To: <1400076059498-4690528.post@n4.nabble.com>
References: <1400017929303-4690452.post@n4.nabble.com>	<5984315.Z91ICtyo8n@localhost.localdomain>	<1400029918177-4690464.post@n4.nabble.com>	<1400041166419-4690478.post@n4.nabble.com>	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>	<1400054088191-4690492.post@n4.nabble.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>	<1400067407114-4690514.post@n4.nabble.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>	<1400071942592-4690519.post@n4.nabble.com>
	<1400076059498-4690528.post@n4.nabble.com>
Message-ID: <1400088739.54899.YahooMailNeo@web142602.mail.bf1.yahoo.com>



Hi,

May be this helps:
num <- gsub("[[:alpha:]]+","",horLabels)##from your previous post
Chr <- gsub("[0-9.]+","",horLabels)
?horLabelsNew <- parse(text=paste("{}","^", num,"*",Chr,sep=""))
plot(horData, verData,xaxt='n',xlim= horAxisLims)
axis(1,tick=TRUE,at= horTicLocs,labels=rep("",length(horLabels)))
library(plotrix)
staxlab(1,at=horTicLocs,labels=horLabelsNew,srt=90,adj=c(1,0))
A.K.


On Wednesday, May 14, 2014 10:10 AM, Hurr <hill0093 at umn.edu> wrote:
I want to split the long label strings by 
separating out the alphabetical unit part and 
put the number to the left (above) the unit.
I will have the separation done by my other 
program if necessary. Then I would need to 
put some strings not at tick marks.
Or is there a way to do that (semi) automatically in 
the graphics of R?
Hurr



--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690528.html

Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Wed May 14 17:53:22 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 14 May 2014 08:53:22 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <1400078575707-4690537.post@n4.nabble.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>	<be63719b-5606-4850-848b-5171beb10576@email.android.com>	<1400034128155-4690470.post@n4.nabble.com>	<a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
	<1400078575707-4690537.post@n4.nabble.com>
Message-ID: <1400082802.80677.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,
Try:
ls <- vector("list",3)

for (i in 1:3)
?{
?? ls[[i]] <- summary(lm(y[,i]~x[,i]))
?}

names(ls) <- paste0("lm",1:3)

A.K.


On Wednesday, May 14, 2014 10:45 AM, yuanzhi <yuanzhi.li at usherbrooke.ca> wrote:
Hi, I know all what you said, but it seems that you don't understand my
problem. I am sorry about my poor english level. I know that we can use a
list to store complicated objects. e.g.
x<-cbind(rnorm(10),rnorm(10),rnorm(10))
y<-cbind(rnorm(10),rnorm(10),rnorm(10))
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3])) 
ls<-list(lm1=lm1,lm2=lm2,lm3=lm3)
so the results of linear models are stored in the list "ls", and we can use
ls[[1]] to cite the results of the first linear model. But I want to do this
part
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3]))
in a loop if I have much more than 3 linear models to do. How can define a
list "ls"so that I can write the codes as

for (i in 1:3)
{
?  ls[[i]]<-summary(lm(y[,i]~x[,i]))
}


Jeff Newmiller wrote
> Please do the reading I recommended before posting again. My example was
> numeric because your example was numeric. For more complicated data, a
> list is a type of vector that can hold such objects, and you would know
> this if you had read the intro document.
> ---------------------------------------------------------------------------
> Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ?  .....? ? ?  .....? Go
> Live...
> DCN:&lt;

> jdnewmil at .ca

> &gt;? ? ? ? Basics: ##.#.? ? ?  ##.#.? Live Go...
>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  Live:?  OO#.. Dead: OO#..? Playing
> Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ?  #.O#.? with
> /Software/Embedded Controllers)? ? ? ? ? ? ?  .OO#.? ? ?  .OO#. 
> rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
> On May 13, 2014 7:22:08 PM PDT, yuanzhi &lt;

> yuanzhi.li@

> &gt; wrote:
>>Thank you for your reply.
>>
>>Yes, there is a problem according to you suggestion.
>>What if the value are not numerical, e.g. I want to use the variable to
>>store the results of linear regression.
>>can I use
>>myvec <- vector( "numeric", 10 )
>>for ( i in 1:10 ) {
>>? myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
>>loop.
>>}
>>?
>>
>>you advice seems only to be available when the function left allocates
>>a
>>numerical value to the variable, what if the function return other type
>>of
>>objects?
>>
>>
>>
>>
>>Jeff Newmiller wrote
>>> What is wrong with
>>> 
>>> myvec <- vector( "numeric", 10 )
>>> for ( i in 1:10 ) {
>>>?  myvec[ i ] <- i
>>> }
>>> 
>>> ?
>>> 
>>> If you are using assign, IMHO you are probably doing whatever you are
>>> doing wrong.
>>> 
>>> If you want named elements, give the vector names:
>>> 
>>> names( myvec ) <- paste0( "t", 1:10 )
>>> 
>>> and you can refer to them
>>> 
>>> myvec[ "t3" ]
>>> 
>>> Go read the "Introduction to R" document again... particularly the
>>> discussion of indexing.
>>>
>>---------------------------------------------------------------------------
>>> Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ?  .....? ? ?  .....? Go
>>> Live...
>>> DCN:&lt;
>>
>>> jdnewmil at .ca
>>
>>> &gt;? ? ? ? Basics: ##.#.? ? ?  ##.#.? Live Go...
>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  Live:?  OO#.. Dead: OO#.. 
>>Playing
>>> Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ?  #.O#.? with
>>> /Software/Embedded Controllers)? ? ? ? ? ? ?  .OO#.? ? ?  .OO#. 
>>> rocks...1k
>>>
>>---------------------------------------------------------------------------
>>
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;
>>
>>> Yuanzhi.Li@
>>
>>> &gt; wrote:
>>>>Hi, everyone
>>>>
>>>>I want to create a series of variables (e.g. t1, t2..., t10) which
>>>>could 
>>>>be used in loops. My idea is to use function "assign"
>>>>
>>>>for (i in 1:10)
>>>>{
>>>>?  assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>>>variable ti
>>>>}
>>>>
>>>>But when I create a vector containing the names of these variables
>>and 
>>>>want to use the variables according to the subscript, it doesn't
>>works.
>>>>
>>>>t<-noquote(paste("t",1:10,sep=""))
>>>>t[1]
>>>>t1
>>>>it returns only the name of variable t1, but not the value allocated
>>to
>>>>
>>>>t1 by FUN. So what should I do to realize this?
>>>>
>>>>Or is there any better way to do this?
>>>>
>>>>Can we define a series of variables which can be used according to
>>the 
>>>>subscript like
>>>>t<-f(t1, t2..., t10),
>>>>then we have 10 variables which can be used directly?
>>>>for(i in 1:10)
>>>>{
>>>>? t[i]<-FUN# with the fines variables we can directly assign the
>>value 
>>>>of FUN to ti
>>>>}
>>>>These are just my thoughts, I don't know whether there are available
>>R 
>>>>codes to realized it. I am looking forward any help from you.
>>>>
>>>>Thanks in advance!
>>>>
>>>>Yuanzhi
>>>>
>>>>______________________________________________
>>>>
>>
>>> R-help@
>>
>>>? mailing list
>>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>>PLEASE do read the posting guide
>>>>http://www.R-project.org/posting-guide.html
>>>>and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> ______________________________________________
>>
>>> R-help@
>>
>>>? mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>>
>>
>>--
>>View this message in context:
>>http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
>>Sent from the R help mailing list archive at Nabble.com.
>>
>>______________________________________________
>>

> R-help@

>? mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________

> R-help@

>? mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.





--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690537.html

Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Wed May 14 19:06:48 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 14 May 2014 10:06:48 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <1400082802.80677.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>	<be63719b-5606-4850-848b-5171beb10576@email.android.com>	<1400034128155-4690470.post@n4.nabble.com>	<a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
	<1400078575707-4690537.post@n4.nabble.com>
	<1400082802.80677.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1400087208.76809.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,
I guess you can also use ?assign with ?get
#For e.g.
set.seed(39)
mat1 <- matrix(sample(1:10, 10*5, replace=TRUE), ncol=10)
vec1 <- paste0("t",1:ncol(mat1))
for(i in 1:ncol(mat1)){
?assign(vec1[i], sum(mat1[,i]))
?}
?t1
#[1] 15
?t2
#[1] 28
sapply(vec1,get)
# t1? t2? t3? t4? t5? t6? t7? t8? t9 t10 
# 15? 28? 19? 36? 32? 17? 26? 24? 27? 24 


##
set.seed(42)
x<-cbind(rnorm(10),rnorm(10),rnorm(10))
y<-cbind(rnorm(10),rnorm(10),rnorm(10))
ls1 <- paste0("lm",1:ncol(x))

for (i in 1:ncol(x))
?{
?? assign(ls1[i], summary(lm(y[,i]~x[,i])))
?}

setNames(lapply(ls1,get),ls1)

A.K.






On Wednesday, May 14, 2014 11:53 AM, arun <smartpink111 at yahoo.com> wrote:


Hi,
Try:
ls <- vector("list",3)

for (i in 1:3)
?{
?? ls[[i]] <- summary(lm(y[,i]~x[,i]))
?}

names(ls) <- paste0("lm",1:3)

A.K.



On Wednesday, May 14, 2014 10:45 AM, yuanzhi <yuanzhi.li at usherbrooke.ca> wrote:
Hi, I know all what you said, but it seems that you don't understand my
problem. I am sorry about my poor english level. I know that we can use a
list to store complicated objects. e.g.
x<-cbind(rnorm(10),rnorm(10),rnorm(10))
y<-cbind(rnorm(10),rnorm(10),rnorm(10))
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3])) 
ls<-list(lm1=lm1,lm2=lm2,lm3=lm3)
so the results of linear models are stored in the list "ls", and we can use
ls[[1]] to cite the results of the first linear model. But I want to do this
part
lm1<-summary(lm(y[,1]~x[,1]))
lm2<-summary(lm(y[,2]~x[,2]))
lm3<-summary(lm(y[,3]~x[,3]))
in a loop if I have much more than 3 linear models to do. How can define a
list "ls"so that I can write the codes as

for (i in 1:3)
{
?? ls[[i]]<-summary(lm(y[,i]~x[,i]))
}


Jeff Newmiller wrote
> Please do the reading I recommended before posting again. My example was
> numeric because your example was numeric. For more complicated data, a
> list is a type of vector that can hold such objects, and you would know
> this if you had read the intro document.
> ---------------------------------------------------------------------------
> Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ?? .....? ? ?? .....? Go
> Live...
> DCN:&lt;

> jdnewmil at .ca

> &gt;? ? ? ? Basics: ##.#.? ? ?? ##.#.? Live Go...
>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?? Live:?? OO#.. Dead: OO#..? Playing
> Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ?? #.O#.? with
> /Software/Embedded Controllers)? ? ? ? ? ? ?? .OO#.? ? ?? .OO#. 
> rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
> On May 13, 2014 7:22:08 PM PDT, yuanzhi &lt;

> yuanzhi.li@

> &gt; wrote:
>>Thank you for your reply.
>>
>>Yes, there is a problem according to you suggestion.
>>What if the value are not numerical, e.g. I want to use the variable to
>>store the results of linear regression.
>>can I use
>>myvec <- vector( "numeric", 10 )
>>for ( i in 1:10 ) {
>>? myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
>>loop.
>>}
>>?
>>
>>you advice seems only to be available when the function left allocates
>>a
>>numerical value to the variable, what if the function return other type
>>of
>>objects?
>>
>>
>>
>>
>>Jeff Newmiller wrote
>>> What is wrong with
>>> 
>>> myvec <- vector( "numeric", 10 )
>>> for ( i in 1:10 ) {
>>>?? myvec[ i ] <- i
>>> }
>>> 
>>> ?
>>> 
>>> If you are using assign, IMHO you are probably doing whatever you are
>>> doing wrong.
>>> 
>>> If you want named elements, give the vector names:
>>> 
>>> names( myvec ) <- paste0( "t", 1:10 )
>>> 
>>> and you can refer to them
>>> 
>>> myvec[ "t3" ]
>>> 
>>> Go read the "Introduction to R" document again... particularly the
>>> discussion of indexing.
>>>
>>---------------------------------------------------------------------------
>>> Jeff Newmiller? ? ? ? ? ? ? ? ? ? ? ? The? ?? .....? ? ?? .....? Go
>>> Live...
>>> DCN:&lt;
>>
>>> jdnewmil at .ca
>>
>>> &gt;? ? ? ? Basics: ##.#.? ? ?? ##.#.? Live Go...
>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?? Live:?? OO#.. Dead: OO#.. 
>>Playing
>>> Research Engineer (Solar/Batteries? ? ? ? ? ? O.O#.? ? ?? #.O#.? with
>>> /Software/Embedded Controllers)? ? ? ? ? ? ?? .OO#.? ? ?? .OO#. 
>>> rocks...1k
>>>
>>---------------------------------------------------------------------------
>>
>>> Sent from my phone. Please excuse my brevity.
>>> 
>>> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;
>>
>>> Yuanzhi.Li@
>>
>>> &gt; wrote:
>>>>Hi, everyone
>>>>
>>>>I want to create a series of variables (e.g. t1, t2..., t10) which
>>>>could 
>>>>be used in loops. My idea is to use function "assign"
>>>>
>>>>for (i in 1:10)
>>>>{
>>>>?? assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>>>variable ti
>>>>}
>>>>
>>>>But when I create a vector containing the names of these variables
>>and 
>>>>want to use the variables according to the subscript, it doesn't
>>works.
>>>>
>>>>t<-noquote(paste("t",1:10,sep=""))
>>>>t[1]
>>>>t1
>>>>it returns only the name of variable t1, but not the value allocated
>>to
>>>>
>>>>t1 by FUN. So what should I do to realize this?
>>>>
>>>>Or is there any better way to do this?
>>>>
>>>>Can we define a series of variables which can be used according to
>>the 
>>>>subscript like
>>>>t<-f(t1, t2..., t10),
>>>>then we have 10 variables which can be used directly?
>>>>for(i in 1:10)
>>>>{
>>>>? t[i]<-FUN# with the fines variables we can directly assign the
>>value 
>>>>of FUN to ti
>>>>}
>>>>These are just my thoughts, I don't know whether there are available
>>R 
>>>>codes to realized it. I am looking forward any help from you.
>>>>
>>>>Thanks in advance!
>>>>
>>>>Yuanzhi
>>>>
>>>>______________________________________________
>>>>
>>
>>> R-help@
>>
>>>? mailing list
>>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>>PLEASE do read the posting guide
>>>>http://www.R-project.org/posting-guide.html
>>>>and provide commented, minimal, self-contained, reproducible code.
>>> 
>>> ______________________________________________
>>
>>> R-help@
>>
>>>? mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>>
>>
>>--
>>View this message in context:
>>http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
>>Sent from the R help mailing list archive at Nabble.com.
>>
>>______________________________________________
>>

> R-help@

>? mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide
>>http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________

> R-help@

>? mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.





--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690537.html

Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From rshepard at appl-ecosys.com  Wed May 14 22:04:32 2014
From: rshepard at appl-ecosys.com (Rich Shepard)
Date: Wed, 14 May 2014 13:04:32 -0700 (PDT)
Subject: [R] Interpreting results of rq() when tau = -1
In-Reply-To: <CAM5M9BTSXVK5HYeTu+bQVTZmC7XxWaUPSzx05+qkjM9QLbj_jw@mail.gmail.com>
References: <alpine.LNX.2.11.1405141125250.29384@localhost>
	<CAM5M9BTSXVK5HYeTu+bQVTZmC7XxWaUPSzx05+qkjM9QLbj_jw@mail.gmail.com>
Message-ID: <alpine.LNX.2.11.1405141302000.29384@localhost>

On Wed, 14 May 2014, Cade, Brian wrote:

> When you use tau=-1 in rq() then under the $sol you are getting estimates
> for all possible quantiles for the given regression model, ...

Brian,

   Thank you. And Roger pointed out that I overlooked ?rq.process.object. Mea
culpa!

> (see Cade and Noon 2003. A gentle introduction to quantile regression for
> ecologists.).

   I'll find a copy.

Much appreciated,

Rich


From yuanzhi.li at usherbrooke.ca  Wed May 14 22:05:58 2014
From: yuanzhi.li at usherbrooke.ca (yuanzhi)
Date: Wed, 14 May 2014 13:05:58 -0700 (PDT)
Subject: [R] How to create multi variables
In-Reply-To: <1400082802.80677.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
	<1400034128155-4690470.post@n4.nabble.com>
	<a4e81c5b-09d4-4c11-8b4a-80e90ec1483f@email.android.com>
	<1400078575707-4690537.post@n4.nabble.com>
	<1400082802.80677.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1400097958507-4690572.post@n4.nabble.com>

Yes, it works, thanks for your help.



--
View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690572.html
Sent from the R help mailing list archive at Nabble.com.


From hill0093 at umn.edu  Wed May 14 22:45:13 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 14 May 2014 13:45:13 -0700 (PDT)
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C612D79C@DKRDSEXC016.vestas.net>
References: <1400029918177-4690464.post@n4.nabble.com>
	<1400041166419-4690478.post@n4.nabble.com>
	<CAE402F4-14F2-4B74-B605-832B2689DA2C@comcast.net>
	<1400054088191-4690492.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D49A@DKRDSEXC016.vestas.net>
	<1400067407114-4690514.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D64E@DKRDSEXC016.vestas.net>
	<1400071942592-4690519.post@n4.nabble.com>
	<1400076059498-4690528.post@n4.nabble.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D79C@DKRDSEXC016.vestas.net>
Message-ID: <1400100313535-4690574.post@n4.nabble.com>

Thank you Frede Aakmann T?gersen, but your 
suggestion is too difficult for me to understand.

Two problems:
1)If I let the labels on the bottom horizontal scale be
horizontal, then when I change the graph's size horizontally 
some labels disappear and reappear depending on the 
amount of stretch. Also labels take too much horizontal space.
Also it doesn't print the same number of labels as shows on 
the screen as they disappear and reappear.
2)If I put the labels vertically on the horizontal scale,
the 4-digit numbers take too much vertical space and I 
would like to put them to the left (i.e. above) the Unit.
I could externally tell it where to put them, but the
location should be relative to the label size, not only to 
the original scale of the horizontal axis.

It seems to me that there might be a 
way in R to make this happen.

Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Put-short-string-labels-vertically-near-tick-marks-on-bottom-axis-tp4690452p4690574.html
Sent from the R help mailing list archive at Nabble.com.


From jim at bitwrit.com.au  Wed May 14 23:01:31 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Thu, 15 May 2014 07:01:31 +1000
Subject: [R] Cure and data type
In-Reply-To: <DUB125-W50F4439B63CBEFE8A13C38B3370@phx.gbl>
References: <DUB125-W50F4439B63CBEFE8A13C38B3370@phx.gbl>
Message-ID: <45165875.p7JKVvKM7v@localhost.localdomain>

On Wed, 14 May 2014 11:33:30 AM Ragia Ibrahim wrote:
> Hi,
> I have a simple table of age and frequency
> What data type should I use to represent this kind of data in R, and 
kindly
> how can I plot it in a curve thanks in advance
> RAE
> 
Hi RAE,
Here is one way:

agetable<-table(sample(0:100,1000,TRUE))
plot(agetable,main="Frequency plot")
plot(supsmu(0:100,agetable),type="l",
 main="Smoothed frequency plot")

Jim


From bbolker at gmail.com  Wed May 14 23:04:07 2014
From: bbolker at gmail.com (Ben Bolker)
Date: Wed, 14 May 2014 21:04:07 +0000
Subject: [R] model selection for nested factorial design
References: <CAB62qHv_hTTJuoANsFg0Vx+cYVAtyPv7ST3toLri0XTSuBqk3A@mail.gmail.com>
Message-ID: <loom.20140514T230257-146@post.gmane.org>

K C <interlocutorbrl2 <at> gmail.com> writes:

> 

  [snip]

> I have a dataset composed of observations taken from 16 separate
> experimental panels, each nested into one of 4 conditions (Treatment A
> Level 1, Treatment A Level 2, Treatment B Level 1, Treatment 
> B Level 2; see
> photo: http://imgur.com/ZbzFPNq). There are 100 observations of the
> dependent variable for each of the 16 panels (1600 total obs).
> 
> I'm trying to determine main effects of both treatment types, and any
> interaction effect, accounting for the within-panel variation. I'm trying
> to determine if the DV differs significantly across conditions.

    This is a stats question, not an R question per se ... I would
recommend posting to CrossValidated (http://stats.stackexchange.com)

  good luck,
     Ben Bolker


From frtog at vestas.com  Wed May 14 23:17:34 2014
From: frtog at vestas.com (=?utf-8?B?RnJlZGUgQWFrbWFubiBUw7hnZXJzZW4=?=)
Date: Wed, 14 May 2014 23:17:34 +0200
Subject: [R] Put short string labels vertically near tick marks on
 bottom axis
Message-ID: <25n8creyeisc5v470uefa6dl.1400102220222@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/27f566c9/attachment.pl>

From ulla.haverinen-shaughnessy at thl.fi  Wed May 14 22:48:22 2014
From: ulla.haverinen-shaughnessy at thl.fi (Haverinen-Shaughnessy Ulla)
Date: Wed, 14 May 2014 23:48:22 +0300
Subject: [R] How to illustrate an interaction with plotLMER.fnc
Message-ID: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>

Hello, I have built a linear mixed model (with lmer).  To illustrate an interaction between 
two (originally) continuous variable, I would like to plot the effects of X1 versus Y for 1=low and 2=high X2. I am using plotLMER.fnc but have not been able to figure out the code. Could you help?
Thanks, Ulla

From andreas.leha at med.uni-goettingen.de  Thu May 15 00:04:07 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Wed, 14 May 2014 23:04:07 +0100
Subject: [R] filename of current device
Message-ID: <87y4y481bc.fsf@med.uni-goettingen.de>

Hi all,

how do I find out about the filename, the currently open (let's say pdf)
device is writing to?

If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
would like to know, which file that pdf device is actually targeting.

Any help for my poor organization is highly appreciated...

Regards,
Andreas


From zilefacelvis at yahoo.com  Thu May 15 00:13:40 2014
From: zilefacelvis at yahoo.com (Zilefac Elvis)
Date: Wed, 14 May 2014 15:13:40 -0700 (PDT)
Subject: [R] Bubble map in R
Message-ID: <1400105620.838.YahooMailNeo@web160603.mail.bf1.yahoo.com>

Hi,
I would like to create a nice looking bubble map in R.
Here is what I have done so far (the data is found below):

#============================================================================================
library(ggplot2) 
if (dev.cur() == 1) x11(width=8,height=6) 
par(mfcol=c(1,1)) 
ggplot(site.resiudal, aes(x=Eastings, y=Northings, size=Mean, label=site.resiudal$Site),guide=FALSE)+ 
? geom_point(colour="black", fill="green", shape=21)+ 
? geom_point(aes(colour = factor(Region)))+ # I would like to specify my own colours for the regions 
? scale_area(range=c(1,15))+ 
? scale_x_continuous(name="Longitude", limits=c(-120,-100))+ 
? scale_y_continuous(name="Latitude", limits=c(48,61))+ 
? geom_text(size=4) 
#================================================================================================ ? 
- I would like to plot the "Mean" residuals such that negative residuals have dotted lines around circles while positive residuals have solid lines. The line width (lwd) should be = 3 at most.

- the size of the circle should be proportional to the "Mean"

- I have use different colours to identify different "Regions". I would like to specify my own colours for the regions
 without using the ggplot2 default colours.

- Please remove the legend to the right. It is not needed.

Thanks for your great help.
AT.


structure(list(Site = structure(c(101L, 102L, 105L, 107L, 108L, 
110L, 111L, 1L, 2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 
13L, 14L, 16L, 20L, 47L, 52L, 53L, 55L, 91L, 92L, 93L, 94L, 95L, 
96L, 99L, 15L, 17L, 18L, 19L, 21L, 114L, 23L, 26L, 36L, 59L, 
60L, 61L, 62L, 63L, 64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L, 
73L, 74L, 75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L, 
86L, 87L, 88L, 89L, 98L, 100L, 103L, 104L, 106L, 109L, 112L, 
113L, 115L, 116L, 117L, 119L, 42L, 44L, 46L, 48L, 49L, 50L, 51L, 
54L, 56L, 57L, 58L, 90L, 97L, 118L, 120L, 22L, 24L, 25L, 27L, 
28L, 29L, 30L, 31L, 32L, 33L, 34L, 35L, 37L, 38L, 39L, 40L, 41L, 
43L, 45L), .Label = c("G100", "G101", "G102", "G103", "G104", 
"G105", "G106", "G107", "G108", "G109", "G110", "G111", "G112", 
"G113", "G114", "G115", "G116", "G117", "G118", "G119", "G120", 
"GG10", "GG11", "GG12", "GG13", "GG14", "GG15", "GG16", "GG17", 
"GG18", "GG19", "GG20", "GG21", "GG22", "GG23", "GG24", "GG25", 
"GG26", "GG27", "GG28", "GG29", "GG30", "GG31", "GG32", "GG33", 
"GG34", "GG35", "GG36", "GG37", "GG38", "GG39", "GG40", "GG41", 
"GG42", "GG43", "GG44", "GG45", "GG46", "GG47", "GG48", "GG49", 
"GG50", "GG51", "GG52", "GG53", "GG54", "GG55", "GG56", "GG57", 
"GG58", "GG59", "GG60", "GG61", "GG62", "GG63", "GG64", "GG65", 
"GG66", "GG67", "GG68", "GG69", "GG70", "GG71", "GG72", "GG73", 
"GG74", "GG75", "GG76", "GG77", "GG78", "GG79", "GG80", "GG81", 
"GG82", "GG83", "GG84", "GG85", "GG86", "GG87", "GG88", "GG89", 
"GG90", "GG91", "GG92", "GG93", "GG94", "GG95", "GG96", "GG97", 
"GG98", "GG99", "GGG1", "GGG2", "GGG3", "GGG4", "GGG5", "GGG6", 
"GGG7", "GGG8", "GGG9"), class = "factor"), Name = structure(c(53L, 
87L, 29L, 92L, 36L, 76L, 102L, 103L, 119L, 2L, 9L, 11L, 45L, 
47L, 49L, 54L, 90L, 30L, 105L, 66L, 78L, 107L, 81L, 42L, 41L, 
43L, 59L, 110L, 24L, 27L, 56L, 61L, 64L, 118L, 40L, 21L, 44L, 
70L, 108L, 25L, 58L, 98L, 83L, 5L, 19L, 26L, 31L, 38L, 55L, 60L, 
71L, 74L, 75L, 85L, 95L, 120L, 109L, 1L, 67L, 20L, 50L, 63L, 
106L, 111L, 116L, 62L, 6L, 99L, 114L, 73L, 84L, 89L, 93L, 97L, 
115L, 80L, 10L, 12L, 88L, 79L, 15L, 17L, 33L, 35L, 94L, 100L, 
3L, 16L, 37L, 101L, 117L, 8L, 39L, 48L, 86L, 113L, 23L, 13L, 
69L, 96L, 104L, 32L, 65L, 82L, 14L, 22L, 18L, 46L, 68L, 72L, 
77L, 91L, 112L, 4L, 7L, 28L, 51L, 57L, 52L, 34L), .Label = c("ANEROID", 
"ARBORG", "ATHABASCA", "BANFF", "BANGOR", "BATTLEFORD", "BEAVER MINES", 
"BEAVERLODGE", "BERENS RIVER", "BIRTLE", "BISSETT", "BRANDON", 
"BUFFALO NARROWS", "CALGARY", "CALMAR", "CAMPSIE", "CAMROSE", 
"CARWAY", "CEYLON", "CHAPLIN", "CHURCHILL", "CLARESHOLM", "COLD LAKE", 
"COLLINS BAY", "CORONATION", "COTE", "CREE LAKE", "CROWSNEST", 
"CYPRESS RIVER", "DAUPHIN", "DAVIDSON", "DRUMHELLER", "EDMONTON", 
"EDSON", "ELK POINT", "EMERSON AUT", "ENILDA-BERG", "ESTEVAN", 
"FAIRVIEW", "FLIN FLON", "FORT CHIPEWYAN", "FORT MCMURRAY", "FORT VERMILION", 
"GILLAM", "GIMLI", "GLEICHEN", "GRAND RAPIDS", "GRANDE PRAIRIE", 
"GREAT FALLS", "HIGH POINT", "HIGHWOOD", "HINTON VALLEY", "HUDSON BAY", 
"INDIAN BAY", "INDIAN HEAD", "ISLAND FALLS", "JASPER WARDEN", 
"JENNER", "KEG RIVER RS", "KELLIHER", "KEY LAKE", "KINDERSLEY", 
"KLINTONEL", "LA RONGE", "LACOMBE 2", "LANGRUTH WEST", "LEADER", 
"LETHBRIDGE", "LOON LAKE", "LYNN LAKE", "MANOR", "MEDICINE HAT", 
"MELFORT", "MOOSE JAW", "MOOSOMIN", "MORDEN", "MOUNTAIN VIEW", 
"NEEPAWA MURRAY", "NINETTE", "NIPAWIN", "NORWAY HOUSE", "OLDS", 
"ONEFOUR", "OUTLOOK", "PASWEGIN", "PEACE RIVER", "PELLY", "PIERSON", 
"PILGER", "PINAWA WNRE", "PINCHER CREEK ", "PORTAGE PRAIRIE", 
"PRINCE ALBERT", "RANFURLY", "REGINA", "ROCKY MT HOUSE ", "SASKATOON", 
"SCOTFIELD", "SCOTT", "SION", "SLAVE LAKE", "SPRAGUE", "STEINBACH", 
"STETTLER NORTH", "SWAN RIVER", "SWIFT CURRENT", "THE PAS", "THOMPSON", 
"TONKIN", "URANIUM CITY ", "VAL-MARIE", "VAUXHALL", "WABASCA RS", 
"WASECA", "WASKESIU LAKE", "WEST POPLAR", "WHITECOURT", "WHITESAND DAM", 
"WINNIPEG", "YELLOW GRASS"), class = "factor"), Mean = c(-0.020525899, 
0.333863493, 0.210353772, NA, NA, 0.093520458, 0.341295298, NA, 
-0.175074657, 0.09834825, 0.075610648, NA, -0.117503802, 0.18309367, 
0.25246942, 0.221329766, 0.072167004, -0.094766032, NA, NA, 0.19783711, 
-0.166351357, -0.0996169, -0.038555432, -0.028092042, 0.297855371, 
0.108263891, 0.002057761, 0.327731415, NA, 0.180100638, 0.193837736, 
-0.003306948, 0.178881894, 0.3655509, -0.235975798, -0.176154056, 
-0.080433735, -0.110955273, -0.228010105, 0.048103255, -0.116681527, 
-0.073042421, NA, NA, 0.035356012, 0.297171565, -0.197834719, 
0.036412958, 0.055218077, NA, -0.236229087, 0.265211081, 0.271625885, 
-0.293179359, 0.113744571, -0.207770026, 0.100471248, -0.071569464, 
NA, NA, NA, -0.052716493, 0.057385851, 0.090340517, -0.30456625, 
-0.234420722, 0.082287977, 0.009973663, NA, -0.06405062, 0.074703356, 
-0.208329196, -0.272401078, 0.217991554, -0.043619919, -0.208901155, 
-0.020022401, 0.111495318, NA, 0.38239749, 0.199136959, -0.177740258, 
NA, 0.147515615, 0.309306538, 0.298741467, 0.068170296, NA, -0.02102765, 
0.001754313, -0.010196512, 0.108254156, -0.228183063, -0.196261239, 
NA, -0.167054722, 0.039949534, 0.154337034, -0.020855461, 0.136010278, 
NA, 0.096997744, NA, -0.241963754, 0.660176529, 0.423554314, 
0.190305726, -0.210778787, -0.261148915, NA, 0.054264129, -0.098706619, 
-0.138776994, NA, NA, NA, -0.113823745, 0.373292721, -0.047060083 
), Eastings = c(-102.5800018, -101.8700027, -99.08000183, -98.26999664, 
-97.23000336, -98.08000183, -95.59999847, -96.76999664, -97.23000336, 
-97.08000183, -97.02999878, -95.69999695, -97.01999664, -99.27999878, 
-96, -95.19999695, -96.06999969, -100.0500031, -101.2300034, 
-98.80000305, -99.56999969, -101.0999985, -97.84999847, -111.2200012, 
-111.1200027, -116.0299988, -117.6200027, -108.4800034, -103.6999969, 
-107.1299973, -102.3499985, -105.6200027, -105.2699966, -103.1500015, 
-101.8799973, -94.06999969, -94.72000122, -101.0800018, -97.87000275, 
-111.4499969, -111.1999969, -111.3499985, -110.4700012, -102.2799988, 
-104.6500015, -101.7799988, -105.9800034, -102.9700012, -103.6500015, 
-103.75, -102.0999985, -105.5500031, -101.6699982, -103.9199982, 
-104.6699982, -104.1800003, -102.2300034, -107.3000031, -109.5, 
-106.6500015, -107.9300003, -108.9199982, -107.7300034, -107.8499985, 
-106.3799973, -109.1800003, -108.25, -108.8300018, -109.4000015, 
-104.5999985, -107.0500031, -105.1500015, -105.6699982, -106.7200012, 
-106.0699997, -104, -101.0500031, -99.94999695, -101.2699966, 
-99.65000153, -113.8499985, -112.8199997, -113.5800018, -111.0699997, 
-111.7300034, -114.1200027, -113.2799988, -114.6800003, -116.3000031, 
-114.7799988, -115.7799988, -119.4000015, -118.5299988, -118.8799973, 
-117.4499969, -113.8300018, -110.2799988, -108.4300003, -109.0999985, 
-114.9199982, -112.7200012, -112.8700027, -113.75, -114.0999985, 
-114.0199966, -113.7300034, -113.3799973, -113.0500031, -112.8000031, 
-110.7200012, -113.6299973, -113.9800034, -112.1299973, -115.5500031, 
-114.1800003, -114.4800034, -114.3700027, -118.0299988, -117.5299988, 
-116.4499969), Northings = c(52.88000107, 52.08000183, 49.54999924, 
49.95000076, 49, 49.18000031, 49.02000046, 49.52999878, 49.91999817, 
50.93000031, 52.34999847, 51.02999878, 50.63000107, 53.15000153, 
50.47000122, 49.61999893, 50.18000031, 51.09999847, 52.11999893, 
50.41999817, 50.15000153, 53.97000122, 53.97000122, 56.65000153, 
58.77000046, 58.38000107, 57.75, 59.56999969, 58.18000031, 57.34999847, 
55.52999878, 57.25, 55.15000153, 56.22999954, 54.77000046, 58.72999954, 
56.34999847, 56.86999893, 55.79999924, 52.06999969, 50.72000122, 
51.58000183, 49.11999893, 50.90000153, 49.38000107, 51.52000046, 
51.27000046, 49.22000122, 50.54999924, 51.25, 49.61999893, 50.33000183, 
50.13000107, 51.97999954, 50.43000031, 49.81999969, 51.20000076, 
49.72000122, 50.90000153, 50.47000122, 50.97999954, 49.68000031, 
50.27000046, 49.36999893, 49, 51.52000046, 52.77000046, 52.36999893, 
53.13000107, 52.81999969, 51.47999954, 52.41999817, 53.22000122, 
52.16999817, 53.91999817, 53.33000183, 50.43000031, 49.91999817, 
49.18000031, 49.41999817, 53.27999878, 53.02999878, 53.31999969, 
53.88000107, 53.41999817, 53.88000107, 54.72000122, 54.13000107, 
55.41999817, 55.27999878, 54.15000153, 55.20000076, 56.08000183, 
55.18000031, 56.22999954, 55.97000122, 54.41999817, 55.83000183, 
54.04999924, 52.41999817, 52.33000183, 51.47000122, 52.45000076, 
51.77999878, 51.11999893, 49.93000031, 49, 50.88000107, 49.63000107, 
50.02000046, 49.13000107, 49.52000046, 50.04999924, 51.20000076, 
49.47000122, 49.63000107, 50.54999924, 52.93000031, 53.40000153, 
53.58000183), Region = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 5L, 5L, 5L, 5L, 
5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L)), .Names = c("Site", 
"Name", "Mean", "Eastings", "Northings", "Region"), class = "data.frame", row.names = c(NA, 
-120L))



From dwinsemius at comcast.net  Thu May 15 00:33:45 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 15:33:45 -0700
Subject: [R] using animation with persp
In-Reply-To: <CAF-JZQsMLTn8TYVz6xS43MXNSEBy06axADwU+iSGnKjQ+=LY7g@mail.gmail.com>
References: <CAF-JZQsMLTn8TYVz6xS43MXNSEBy06axADwU+iSGnKjQ+=LY7g@mail.gmail.com>
Message-ID: <BDC3B97F-A5A6-4695-A552-C2453BD06F7E@comcast.net>


On May 14, 2014, at 1:50 AM, Babak Bastan wrote:

> I would like to generate animating 3D plot. I have a matrix with 416
> columns and 128 rows. a piece of my matrix looks like this:[,1]
> [,2]         [,3]      [,4]      [,5]      [,6]      ....
>     [1,]   NA 0.4118836 0.6411741 0.7286600 0.7622486 0.7523395
>     [2,]   NA 0.3481329 0.6066273 0.6934485 0.7331430 0.7203792
>     [3,]   NA 0.3582897 0.6019357 0.6938022 0.7239531 0.7150477
>     [4,]   NA 0.3122690 0.5613846 0.6721538 0.7017457 0.7006137
>     [5,]   NA 0.3346040 0.5806079 0.6942141 0.7334901 0.7065037
>     [6,]   NA 0.2409363 0.5051088 0.6464730 0.6815346 0.6610605
>     [7,]   NA 0.2474494 0.5106314 0.6335089 0.6811993 0.6641183
>     [8,]   NA 0.1744042 0.4705273 0.6090679 0.6681272 0.6225694
>     [9,]   NA 0.1589965 0.4493954 0.5974459 0.6495768 0.6409229
>    [10,]   NA 0.2435564 0.4966467 0.6375015 0.6866234 0.6687507
> 
>      ...
> 
> I would like to generate something like [this][1] from [here][2] I am using
> this code:
> 
>    saveGIF({
>      for(i in 1:10)
>      {
>        persp(test, theta = 30, phi = 30, expand = 0.5, col = "lightblue")
>      }
>    },
>    movie.name = "test.gif",
>    interval = 0.2,
>    ani.width = 300,
>    ani.height = 300,)

Is that an extraneous comma?

> 
> 
> but what I am seeing with this code is fixed diagram, what should I do to
> solve my problem? by the way if I chng my code to:
> 
>    test<-MatrixY[(1:10),(1:10)]
>    saveGIF({
>      for(i in 1:10)
>      {
>        persp(test[,i], theta = 30, phi = 30, expand = 0.5, col =
> "lightblue")
>      }
>    },
>    movie.name = "test.gif",
>    interval = 0.2,
>    ani.width = 300,
>    ani.height = 300,)
> 
> I am getting this error:
> 
>    Error in seq.default(0, 1, length.out = ncol(z)) :
>      argument 'length.out' must be of length 1

What do you expect from persp() when you only send it a vector rather than a matrix?

> 
> 	[[alternative HTML version deleted]]
> 

None of your links came through because , .... contrary to the Posting Guide .... you did not post in plaintext.

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Thu May 15 00:36:42 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 15:36:42 -0700
Subject: [R] filename of current device
In-Reply-To: <87y4y481bc.fsf@med.uni-goettingen.de>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
Message-ID: <5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>


On May 14, 2014, at 3:04 PM, Andreas Leha wrote:

> Hi all,
> 
> how do I find out about the filename, the currently open (let's say pdf)
> device is writing to?
> 
> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
> would like to know, which file that pdf device is actually targeting.
> 
> Any help for my poor organization is highly appreciated...
> 

Have your read the help file for pdf()? The first argument is the default naming mechanism:

file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")

So if you call pdf() then it will write to the working directory with a named constructed from those choices.


> Regards,
> Andreas
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From andreas.leha at med.uni-goettingen.de  Thu May 15 00:44:59 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Wed, 14 May 2014 23:44:59 +0100
Subject: [R] filename of current device
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>
Message-ID: <87ppjg7zf8.fsf@med.uni-goettingen.de>

Hi David,

Thank you for following up on that.

David Winsemius <dwinsemius at comcast.net> writes:

> On May 14, 2014, at 3:04 PM, Andreas Leha wrote:
>
>> Hi all,
>> 
>> how do I find out about the filename, the currently open (let's say pdf)
>> device is writing to?
>> 
>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
>> would like to know, which file that pdf device is actually targeting.
>> 
>> Any help for my poor organization is highly appreciated...
>> 
>
> Have your read the help file for pdf()? The first argument is the default naming mechanism:
>
> file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")
>
> So if you call pdf() then it will write to the working directory with a named constructed from those choices.
>

Sorry for being unclear.  I am aware of that.  My use case is, that
apparently, I have called pdf("somefile.pdf") somewhen during a long
lasting R session.

I tend to have separate R sessions open in parallel
for the project I am working on.  So, I can easily have R session open
that run for weeks.

So, when I return to an R session (when I got some additional data, I
was asking for, e.g.) after several days, I do not know what that call
was.  And for several reasons, the actual call (pdf("somefile.pdf"))
might not even be visible in my R session.

In that situation, I would like to know, which is the open file for the
current device.

I hope that makes my question clearer.

Regards,
Andreas


From dwinsemius at comcast.net  Thu May 15 01:29:39 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 16:29:39 -0700
Subject: [R] filename of current device
In-Reply-To: <87ppjg7zf8.fsf@med.uni-goettingen.de>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>
	<87ppjg7zf8.fsf@med.uni-goettingen.de>
Message-ID: <4D5BC7BE-2B71-4FD1-9493-24119216D07B@comcast.net>


On May 14, 2014, at 3:44 PM, Andreas Leha wrote:

> Hi David,
> 
> Thank you for following up on that.
> 
> David Winsemius <dwinsemius at comcast.net> writes:
> 
>> On May 14, 2014, at 3:04 PM, Andreas Leha wrote:
>> 
>>> Hi all,
>>> 
>>> how do I find out about the filename, the currently open (let's say pdf)
>>> device is writing to?
>>> 
>>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
>>> would like to know, which file that pdf device is actually targeting.
>>> 
>>> Any help for my poor organization is highly appreciated...
>>> 
>> 
>> Have your read the help file for pdf()? The first argument is the default naming mechanism:
>> 
>> file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")
>> 
>> So if you call pdf() then it will write to the working directory with a named constructed from those choices.
>> 
> 
> Sorry for being unclear.  I am aware of that.  My use case is, that
> apparently, I have called pdf("somefile.pdf") somewhen during a long
> lasting R session.
> 
> I tend to have separate R sessions open in parallel
> for the project I am working on.  So, I can easily have R session open
> that run for weeks.
> 
> So, when I return to an R session (when I got some additional data, I
> was asking for, e.g.) after several days, I do not know what that call
> was.  And for several reasons, the actual call (pdf("somefile.pdf"))
> might not even be visible in my R session.
> 
> In that situation, I would like to know, which is the open file for the
> current device.

Well, if you acheived success with the pdf() call by executing dev.off() then you closed that device. The previous device does leave behind a footprint but not the entire name of hte file or the contents. 

?dev.prev

> old.dev <-dev.prev()
> str(old.dev)
 Named int 5
 - attr(*, "names")= chr "pdf"


If you had not changed working directory you may be able to then look at all of the pdf files. You can get information with file,info()

?file.info


> 
> I hope that makes my question clearer.
> 
> Regards,
> Andreas
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From andreas.leha at med.uni-goettingen.de  Thu May 15 01:43:31 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Thu, 15 May 2014 00:43:31 +0100
Subject: [R] filename of current device
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>
	<87ppjg7zf8.fsf@med.uni-goettingen.de>
	<4D5BC7BE-2B71-4FD1-9493-24119216D07B@comcast.net>
Message-ID: <87lhu47wpo.fsf@med.uni-goettingen.de>

Hi David,

David Winsemius <dwinsemius at comcast.net> writes:

> On May 14, 2014, at 3:44 PM, Andreas Leha wrote:
>
>> Hi David,
>> 
>> Thank you for following up on that.
>> 
>> David Winsemius <dwinsemius at comcast.net> writes:
>> 
>>> On May 14, 2014, at 3:04 PM, Andreas Leha wrote:
>>> 
>>>> Hi all,
>>>> 
>>>> how do I find out about the filename, the currently open (let's say pdf)
>>>> device is writing to?
>>>> 
>>>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
>>>> would like to know, which file that pdf device is actually targeting.
>>>> 
>>>> Any help for my poor organization is highly appreciated...
>>>> 
>>> 
>>> Have your read the help file for pdf()? The first argument is the default naming mechanism:
>>> 
>>> file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")
>>> 
>>> So if you call pdf() then it will write to the working directory with a named constructed from those choices.
>>> 
>> 
>> Sorry for being unclear.  I am aware of that.  My use case is, that
>> apparently, I have called pdf("somefile.pdf") somewhen during a long
>> lasting R session.
>> 
>> I tend to have separate R sessions open in parallel
>> for the project I am working on.  So, I can easily have R session open
>> that run for weeks.
>> 
>> So, when I return to an R session (when I got some additional data, I
>> was asking for, e.g.) after several days, I do not know what that call
>> was.  And for several reasons, the actual call (pdf("somefile.pdf"))
>> might not even be visible in my R session.
>> 
>> In that situation, I would like to know, which is the open file for the
>> current device.
>
> Well, if you acheived success with the pdf() call by executing
> dev.off() then you closed that device. The previous device does leave
> behind a footprint but not the entire name of hte file or the
> contents.
>
> ?dev.prev
>
>> old.dev <-dev.prev()
>> str(old.dev)
>  Named int 5
>  - attr(*, "names")= chr "pdf"
>
>
> If you had not changed working directory you may be able to then look
> at all of the pdf files. You can get information with file,info()
>
> ?file.info
>
>

Thanks for the follow-up.  I take it, there is no 'easy' way in R to
achieve this.

The best solution (on unix systems) that I have come up with is this:
  system(paste("lsof -p", Sys.getpid(), "| grep pdf"))
(which obviously works only before dev.off())

I was hoping for some more reliable way to achieve this, but it'll work
for me.

Thanks again,
Andreas


From dwinsemius at comcast.net  Thu May 15 01:55:21 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 16:55:21 -0700
Subject: [R] filename of current device
In-Reply-To: <87lhu47wpo.fsf@med.uni-goettingen.de>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>
	<87ppjg7zf8.fsf@med.uni-goettingen.de>
	<4D5BC7BE-2B71-4FD1-9493-24119216D07B@comcast.net>
	<87lhu47wpo.fsf@med.uni-goettingen.de>
Message-ID: <48CCD97B-3537-408D-BFEE-540A86015D90@comcast.net>


On May 14, 2014, at 4:43 PM, Andreas Leha wrote:

> Hi David,
> 
> David Winsemius <dwinsemius at comcast.net> writes:
> 
>> On May 14, 2014, at 3:44 PM, Andreas Leha wrote:
>> 
>>> Hi David,
>>> 
>>> Thank you for following up on that.
>>> 
>>> David Winsemius <dwinsemius at comcast.net> writes:
>>> 
>>>> On May 14, 2014, at 3:04 PM, Andreas Leha wrote:
>>>> 
>>>>> Hi all,
>>>>> 
>>>>> how do I find out about the filename, the currently open (let's say pdf)
>>>>> device is writing to?
>>>>> 
>>>>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
>>>>> would like to know, which file that pdf device is actually targeting.
>>>>> 
>>>>> Any help for my poor organization is highly appreciated...
>>>>> 
>>>> 
>>>> Have your read the help file for pdf()? The first argument is the default naming mechanism:
>>>> 
>>>> file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")
>>>> 
>>>> So if you call pdf() then it will write to the working directory with a named constructed from those choices.
>>>> 
>>> 
>>> Sorry for being unclear.  I am aware of that.  My use case is, that
>>> apparently, I have called pdf("somefile.pdf") somewhen during a long
>>> lasting R session.
>>> 
>>> I tend to have separate R sessions open in parallel
>>> for the project I am working on.  So, I can easily have R session open
>>> that run for weeks.
>>> 
>>> So, when I return to an R session (when I got some additional data, I
>>> was asking for, e.g.) after several days, I do not know what that call
>>> was.  And for several reasons, the actual call (pdf("somefile.pdf"))
>>> might not even be visible in my R session.
>>> 
>>> In that situation, I would like to know, which is the open file for the
>>> current device.
>> 
>> Well, if you acheived success with the pdf() call by executing
>> dev.off() then you closed that device. The previous device does leave
>> behind a footprint but not the entire name of hte file or the
>> contents.
>> 
>> ?dev.prev
>> 
>>> old.dev <-dev.prev()
>>> str(old.dev)
>> Named int 5
>> - attr(*, "names")= chr "pdf"
>> 
>> 
>> If you had not changed working directory you may be able to then look
>> at all of the pdf files. You can get information with file,info()
>> 
>> ?file.info
>> 
>> 
> 
> Thanks for the follow-up.  I take it, there is no 'easy' way in R to
> achieve this.
> 
> The best solution (on unix systems) that I have come up with is this:
>  system(paste("lsof -p", Sys.getpid(), "| grep pdf"))
> (which obviously works only before dev.off())
> 
> I was hoping for some more reliable way to achieve this, but it'll work
> for me.

I guess my definition of easy is different than yours. I couldn't quite believe that you had left behind an open pdf device and expected things to be in the same state they had been several days later. I try to close my devices to get the output "solidified". Generating a new plot is not generally costly.

-- 

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Thu May 15 02:02:53 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 17:02:53 -0700
Subject: [R] How to create multi variables
In-Reply-To: <1400034128155-4690470.post@n4.nabble.com>
References: <28108ee8f0bf2b41c526bbb4c1fa2e9c@courriel-fec.usherbrooke.ca>
	<be63719b-5606-4850-848b-5171beb10576@email.android.com>
	<1400034128155-4690470.post@n4.nabble.com>
Message-ID: <4059F17C-0F0C-4EDB-82F9-050B93806000@comcast.net>


On May 13, 2014, at 7:22 PM, yuanzhi wrote:

> Thank you for your reply.
> 
> Yes, there is a problem according to you suggestion.
> What if the value are not numerical, e.g. I want to use the variable to
> store the results of linear regression.
> can I use
> myvec <- vector( "numeric", 10 )

If you used:

 myvec <- vector("list", 10)  # it would succeed.

# In R lists _are_ vectors (but not atomic)


> for ( i in 1:10 ) {
>  myvec[ i ] <- summary(lm(y~x)) # y and x are different values in each
> loop.
> }
> ?
> 
> you advice seems only to be available when the function left allocates a
> numerical value to the variable, what if the function return other type of
> objects?

You need more study with  R programming basic texts.

-- 
David.
> 
> 
> 
> 
> Jeff Newmiller wrote
>> What is wrong with
>> 
>> myvec <- vector( "numeric", 10 )
>> for ( i in 1:10 ) {
>>  myvec[ i ] <- i
>> }
>> 
>> ?
>> 
>> If you are using assign, IMHO you are probably doing whatever you are
>> doing wrong.
>> 
>> If you want named elements, give the vector names:
>> 
>> names( myvec ) <- paste0( "t", 1:10 )
>> 
>> and you can refer to them
>> 
>> myvec[ "t3" ]
>> 
>> Go read the "Introduction to R" document again... particularly the
>> discussion of indexing.
>> ---------------------------------------------------------------------------
>> Jeff Newmiller                        The     .....       .....  Go
>> Live...
>> DCN:&lt;
> 
>> jdnewmil at .ca
> 
>> &gt;        Basics: ##.#.       ##.#.  Live Go...
>>                                      Live:   OO#.. Dead: OO#..  Playing
>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>> /Software/Embedded Controllers)               .OO#.       .OO#. 
>> rocks...1k
>> --------------------------------------------------------------------------- 
>> Sent from my phone. Please excuse my brevity.
>> 
>> On May 13, 2014 5:47:12 PM PDT, Yuanzhi Li &lt;
> 
>> Yuanzhi.Li@
> 
>> &gt; wrote:
>>> Hi, everyone
>>> 
>>> I want to create a series of variables (e.g. t1, t2..., t10) which
>>> could 
>>> be used in loops. My idea is to use function "assign"
>>> 
>>> for (i in 1:10)
>>> {
>>>  assign(paste("t",i,sep=""), FUN) # allocate the value from FUN to 
>>> variable ti
>>> }
>>> 
>>> But when I create a vector containing the names of these variables and 
>>> want to use the variables according to the subscript, it doesn't works.
>>> 
>>> t<-noquote(paste("t",1:10,sep=""))
>>> t[1]
>>> t1
>>> it returns only the name of variable t1, but not the value allocated to
>>> 
>>> t1 by FUN. So what should I do to realize this?
>>> 
>>> Or is there any better way to do this?
>>> 
>>> Can we define a series of variables which can be used according to the 
>>> subscript like
>>> t<-f(t1, t2..., t10),
>>> then we have 10 variables which can be used directly?
>>> for(i in 1:10)
>>> {
>>> t[i]<-FUN# with the fines variables we can directly assign the value 
>>> of FUN to ti
>>> }
>>> These are just my thoughts, I don't know whether there are available R 
>>> codes to realized it. I am looking forward any help from you.
>>> 
>>> Thanks in advance!
>>> 
>>> Yuanzhi
>>> 
>>> ______________________________________________
>>> 
> 
>> R-help@
> 
>> mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
> 
>> R-help@
> 
>> mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/How-to-create-multi-variables-tp4690465p4690470.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From englishinparis at aim.com  Thu May 15 02:07:50 2014
From: englishinparis at aim.com (Elan InP)
Date: Wed, 14 May 2014 20:07:50 -0400
Subject: [R] lognormal frailty in frailtypack
Message-ID: <53740556.3070503@aim.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/dedd2639/attachment.pl>

From macqueen1 at llnl.gov  Thu May 15 02:31:31 2014
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Thu, 15 May 2014 00:31:31 +0000
Subject: [R] how to make R plot under Linux
In-Reply-To: <loom.20140514T102018-832@post.gmane.org>
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
	<loom.20140514T102018-832@post.gmane.org>
Message-ID: <CF9958AB.F7D66%macqueen1@llnl.gov>

Yes, install R so that X11 is enabled, then do

x11()
hist( c(1:10) )

and you should see your histogram.

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 5/14/14 1:26 AM, "Owen" <815551145 at qq.com> wrote:

>Vojt?ch Zeisek <Vojtech.Zeisek <at> opensuse.org> writes:
>
>> 
>> On Linux You can use Rkward http://rkward.sourceforge.net/ - very nice
>>and 
>> good graphical user interface for R.
>> 
>> Dne P? 19. ?nora 2010 19:39:53 xinwei <at> stat.psu.edu napsal(a):
>> > Hi, I am using R in Linux environment. How can i make plot in Linux
>>just
>> > like in windows?
>> > 
>> > thanks
>> > 
>> > ______________________________________________
>> > R-help <at> r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> >  http://www.R-project.org/posting-guide.html and provide commented,
>> >  minimal, self-contained, reproducible code.
>
>Hi,
>I have connected to the Linux server via ssh -X using Putty and can
>successfully show "xclock" window in Xming.
>However, when i used R and run  command "hist(c(1:10))", i cannot get the
>figure in the Xming window (nothing happened in the Xming window).
>The output of capabilities() is as following:
>> capabilities()
>    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
>    TRUE     TRUE    FALSE    FALSE    FALSE    FALSE     TRUE     TRUE
>  libxml     fifo   cledit    iconv      NLS  profmem    cairo
>    TRUE     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE
>
>What should i do to see the popup plot of R? should i need to ask the
>Administrator to enable X11?
>Thanks!
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From bbolker at gmail.com  Thu May 15 02:52:41 2014
From: bbolker at gmail.com (Ben Bolker)
Date: Thu, 15 May 2014 00:52:41 +0000
Subject: [R] How to illustrate an interaction with plotLMER.fnc
References: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>
Message-ID: <loom.20140515T025121-211@post.gmane.org>

Haverinen-Shaughnessy Ulla <ulla.haverinen-shaughnessy <at> thl.fi> writes:

> 
> Hello, I have built a linear mixed model (with lmer). 
> To illustrate an interaction between 
> two (originally) continuous variable, I would like to 
> plot the effects of X1 versus Y for 1=low and 2=high
> X2. I am using plotLMER.fnc but have not been able to 
> figure out the code. Could you help?
> Thanks, Ulla
> 

  If you don't get an answer here you might try 
r-sig-mixed-models at r-project.org.  Please (1) specify what additional
package(s) you're using and (2) if at all possible include a small
reproducible example (http://tinyurl.com/reproducible-000); this will
greatly increase your chances of getting an answer.

  Ben Bolker


From lists at revelle.net  Thu May 15 03:04:23 2014
From: lists at revelle.net (William Revelle)
Date: Wed, 14 May 2014 20:04:23 -0500
Subject: [R] Issues with fa() function in "psych"
In-Reply-To: <CAMwbFxjcsExo4XZUi3pCot5efYkK5U=NcMdxbkyqf20c9wabdg@mail.gmail.com>
References: <CAMwbFxi2=mhjB66YH-=U7L2p0ZbeqCLDraOiUjDzUcCCtxDuKQ@mail.gmail.com>
	<CAAcyNCxvhFHFzGxTyEZ3z4YW8tOmo5ix7enAZ4TYXvPTjT=X-w@mail.gmail.com>
	<85300B76-7E05-4663-8D3A-E8C3FCE7DB15@revelle.net>
	<CAMwbFxjcsExo4XZUi3pCot5efYkK5U=NcMdxbkyqf20c9wabdg@mail.gmail.com>
Message-ID: <1DEB6779-C83E-425B-8856-BE15F8A990DD@revelle.net>

Sagnik,

I did some more checking and in fact you can do equamax through GPA rotation.  (Gunter Nickel pointed this out in a post to R-help).  I will implement this in version 1.4.6 (1.4.5 is now working its way through the various CRAN mirrors).

You might like 1.4.5 in that I have added various ways of displaying confidence intervals (cats eye plots) as well as upper and lower confidence limits for correlations (cor.plot.upperLowerCi)

Bill

On Apr 10, 2014, at 1:22 AM, sagnik chakravarty <sagnik.stats at gmail.com> wrote:

> Thanks a lot Bill and Revelle for your helpful response.
> It would have been great if I could know when we can expect the release of the edited version 1.4.4. 
> 
> Sagnik
> 
> 
> On Wed, Apr 9, 2014 at 8:05 PM, William Revelle <lists at revelle.net> wrote:
> Sagnik raises the question as to why the psych package does not offer the ?equamax? rotation.
> It is because all rotations are handled through the GPArotation package which does not offer equamax.
> 
> Sagnik also points out that if the requested rotation is not available, fa defaults to rotate=?none? without any warning.  I have fixed that for the  next release (1.4.4).
> (1.4.4 also will fix a bug in corr.test introduced into 1.4.3).
> 
> 
> The question about why printing just the loadings matrix leaves blank cells?  That is because the loadings matrix of class ?loadings? which the default print function prints with a cut = .3.
> Using the example from Sagnik, print(efa_pa$loadings,cut=0) will match the output of efa_pa.
> 
> The fm=?pa? option runs conventional principal axis factor analysis (ala SPSS).  As documented, this iterates max.iter times
> 
> "Not all factor programs that do principal axes do iterative solutions. The example from the SAS manual (Chapter 26) is such a case. To achieve that solution, it is necessary to specify that the max.iterations = 1. Comparing that solution to an iterated one (the default) shows that iterations improve the solution. In addition, fm="minres" or fm="mle" produces even better solutions for this example.?
> 
> The com column is factor complexity using the index developed by Hofmann (1978).  It is a row wise measure of item complexity.
> I have added more documentation to this in 1.4.4
> 
> Bill
> 
> 
> On Apr 8, 2014, at 2:28 AM, Pascal Oettli <kridox at ymail.com> wrote:
> 
> > Hello,
> >
> > And what about submitting your suggestions directly to the package
> > author/maintainer?
> >
> > And please don't post in HTML.
> >
> > Regards,
> > Pascal
> >
> > On Tue, Apr 8, 2014 at 3:13 PM, sagnik chakravarty
> > <sagnik.stats at gmail.com> wrote:
> >> Hi Team,
> >>
> >> I was using your "psych" package for factor analysis and was also comparing
> >> the results with SAS results. I have some suggestions and/or confusions
> >> regarding the fa() function in the package:
> >>
> >>   - The fa() function *doesn't account for Heywood cases* (communality
> >>   greater than 1) and never ever throws out any error related to that which
> >>   other softwares do. This is a serious and common issue in iterative factor
> >>   analysis and hence should have been accounted for.
> >>
> >>
> >>   - The fa() function doesn't provide "equamax" rotation in its rotation
> >>   list and still if you specify "*rotation=equamax*", it will run without
> >>   throwing out any error and even mentioning in the result that "equamax" has
> >>   been applied. But I have thoroughly compared results from "
> >>   *rotation=none*" and "*rotation=equamax*" options and they are exactly
> >>   same. *That means fa() is not doing the rotation at all and yet telling
> >>   that it is doing that!!* I have even mentioned "*rotation=crap*" option
> >>   just to check and surprisingly it ran(without any error) with the result
> >>   showing:
> >>
> >>           *Factor Analysis using method =  gls*
> >> *           Call: fa(r = cor_mat, nfactors = 4, n.obs = 69576, rotate =
> >> "crap", fm = "gls")*
> >>
> >>            I hope you understand the severity of this bug and hence
> >> request you to correct this.
> >>
> >>   - To my sense, there might be some problem with "fm=ml" and "fm=pa"
> >>   options since the convergence issue should be with MLE method and not PA
> >>   method but while running factor analysis with PA, I am getting the
> >>   following warning:
> >>
> >>            *maximum iteration exceeded*
> >> *            The estimated weights for the factor scores are probably
> >> incorrect.  Try a different factor extraction method.*
> >>
> >>             If I compare the results of R and SAS,* I am getting
> >> convergence error for MLE in SAS whereas I am getting the same error for PA
> >> in R *!! I am not being able to understand this mismatch.
> >>
> >>   - If I call the *loading matrix like efa_pa$loadings, the matrix shown
> >>   has many blank cells whereas the final result showing the loadings doesn't
> >>   have so* !!
> >>
> >> *Loadings:*
> >> *             PA1    PA2    PA3    PA4   *
> >> *Var1    0.401                       -0.243*
> >> *Var2    0.336 -0.104            0.710*
> >> *Var3    0.624  0.123 0.170      *
> >>
> >>
> >>   - Could you please explain* what the "com" column means* in the output:?
> >>
> >>
> >> *           PA1   PA3   PA2   PA4     h2          u2      com*
> >> *Var1  0.44  0.14 -0.03  -0.10 0.22665  0.773  1.3*
> >> *Var2  0.08  0.11  0.02   0.78  0.62951  0.370  1.1*
> >> *Var3  0.62  0.12  0.15   0.14  0.43578  0.564  1.3*
> >>
> >>   - Request you to add option for *"equamax" rotation* also if possible.
> >>
> >>
> >> I have come across the above issues until now. Please do correct me if I am
> >> wrong.
> >>
> >> Awaiting your revert which would clear out my confusions,
> >>
> >> Thanks for your valuable time,
> >>
> >> Sagnik
> >>
> >> --
> >> Regards,
> >>
> >> *SAGNIK CHAKRAVARTY*
> >>
> >> *Mob:*  +919972865435
> >> *Email:* sagnik.stats at gmail.com
> >>           sagnik.739 at gmail.com
> >>
> >>        [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> >
> >
> > --
> > Pascal Oettli
> > Project Scientist
> > JAMSTEC
> > Yokohama, Japan
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> 
> William Revelle                    http://personality-project.org/revelle.html
> Professor                                  http://personality-project.org
> Department of Psychology   http://www.wcas.northwestern.edu/psych/
> Northwestern University    http://www.northwestern.edu/
> Use R for psychology             http://personality-project.org/r
> It is 5 minutes to midnight        http://www.thebulletin.org
> 
> 
> 
> 
> 
> 
> 
> -- 
> Regards,
> 
> SAGNIK CHAKRAVARTY
> 
> Mob:  +919972865435      
> Email: sagnik.stats at gmail.com
>            sagnik.739 at gmail.com

William Revelle		           http://personality-project.org/revelle.html
Professor			           http://personality-project.org
Department of Psychology   http://www.wcas.northwestern.edu/psych/
Northwestern University	   http://www.northwestern.edu/
Use R for psychology             http://personality-project.org/r
It is 5 minutes to midnight	   http://www.thebulletin.org


From smartpink111 at yahoo.com  Thu May 15 03:42:30 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 14 May 2014 18:42:30 -0700 (PDT)
Subject: [R] Convert to integers all entries of a table (for DESeq2)
In-Reply-To: <CAP49uEDgDjCHWOtJv5a4LuPapShLkASgXV6_rLSLODdNBPbcSQ@mail.gmail.com>
References: <CAP49uEBL0=SBxy7pTu2VejFVmUPotEqhDqGEZet3Ke0Ntsxb5w@mail.gmail.com>	<53BF8FB63FAF2E4A9455EF1EE94DA726F6DA81@mb02.ads.tamu.edu>	<1399946264.14221.YahooMailNeo@web142601.mail.bf1.yahoo.com>
	<CAP49uEDgDjCHWOtJv5a4LuPapShLkASgXV6_rLSLODdNBPbcSQ@mail.gmail.com>
Message-ID: <1400118150.77743.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Hi,

I remember I got the same error when I used:
?setAs("numeric", "NumerictoInteger", function(from) as.integer(from))
##Using the same dataset

datx1 <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE, colClasses=c("character",rep("NumerictoInteger",11)))
#Error in methods::as(data[[i]], colClasses[i]) : 
#? no method or default for coercing ?character? to ?NumerictoInteger?

#Changing "numeric" to "character" gives me:
?setAs("character", "NumerictoInteger", function(from) as.integer(from))? ##though 
?datx1 <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE, colClasses=c("character",rep("NumerictoInteger",11)))


?str(datx1)
'data.frame':??? 9 obs. of? 12 variables:
?$ transcript_ID: chr? "c101054_g1_i2" "c96583_g1_i2" "c19380_g1_i1" "c102980_g1_i10" ...
?$ C3?????????? : int? 15 0 0 0 0 0 0 0 0
?$ C4?????????? : int? 231 10 9 0 6 29 0 2 0
?$ CRL_2APR10?? : int? 131 6 0 0 65 2 0 0 0
?$ CRL_1_15JUL11: int? 218 8 1 0 0 0 54 1 0
?$ CRL_2_15JUL11: int? 16 0 0 0 0 0 0 0 0
?$ C1?????????? : int? 0 0 0 0 0 0 1 0 0
?$ CRL_6OCT11c? : int? 587 29 0 0 40 29 0 0 0
?$ CRL_3DEC11?? : int? 0 0 0 0 0 0 0 0 0
?$ CRL_13DEC11b : int? 624 90 0 0 55 338 0 0 0
?$ LRV_A??????? : int? 10 0 0 0 0 0 0 0 0
?$ LRV_B??????? : int? 6 0 0 0 0 0 0 0 1


A.K.


On Wednesday, May 14, 2014 2:46 PM, Alicia R. P?rez-Porro <alicia.r.perezporro at gmail.com> wrote:

Sorry, I am pretty new using R.

Here is my code to read the table:

library("DESeq2")
setwd("~/Dropbox/TESIS/DGEA_2.0/Chapter_4_thesis/DE_analysis/DESeq2")
matrix = read.table (file.choose(), header=TRUE, row.names=1)

CeleDesign <- data.frame(
? row.names = colnames(matrix),
? condition = factor(c("SP", "SP", "EB", "EB")))
dds <- DESeqDataSetFromMatrix(countData = matrix,
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? colData = CeleDesign,
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? design = ~ condition)

By typing:

> setwd("~/Dropbox/TESIS/DGEA_2.0/Chapter_4_thesis/DE_analysis/DESeq2")
> setClass("NumerictoInteger")
> setAs("numeric", "NumerictoInteger", function(from) as.integer(from))
> matrix <- read.table(file.choose(), header=TRUE, , row.names=1, stringsAsFactors=FALSE,
+ colClasses=c("character",rep("NumerictoInteger",11)))
Error in methods::as(data[[i]], colClasses[i]) :?
? no method or default for coercing ?character? to ?NumerictoInteger?

My table has 12 columns and 138519 rows.
Any extra suggestion?

Thanks,
Alicia





--Alicia R. P?rez-Porro
PhD candidate

Giribet lab
Department of Organismic and Evolutionary Biology
MCZ labs
Harvard University
26 Oxford St, Cambridge MA 02138
phone: +1 617-496-5308
fax: +1 617-495-5667
www.oeb.harvard.edu/faculty/giribet/

Department of Marine Ecology
Center for Advanced Studies of Blanes (CEAB-CSIC)
C/Acc?s Cala St. Francesc 14?
17300 Blanes, Girona, SPAIN
phone: +34 972 336 101
fax: +34 972 337 806
www.ceab.csic.es


On Mon, May 12, 2014 at 9:57 PM, arun <smartpink111 at yahoo.com> wrote:

Hi,
>
>You may also try using 'colClasses' while reading the data.
>setClass("NumerictoInteger")
>setAs("numeric", "NumerictoInteger", function(from) as.integer(from))
>datx1 <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE, colClasses=c("character",rep("NumerictoInteger",11)))
>
>##David's result
>? dati <- data.frame(transcript_ID=datx$transcript_ID, sapply(datx[,-1], as.integer),
>???????? stringsAsFactors=FALSE)
>
>?all.equal(dati, datx1)
>#[1] TRUE
>
>A.K.
>
>
>
>On Monday, May 12, 2014 4:35 PM, David L Carlson <dcarlson at tamu.edu> wrote:
>a <- "transcript_ID C3 C4 CRL_2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL_3DEC11? CRL_13DEC11b LRV_A LRV_B
>c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00 6.00
>c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
>c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
>c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
>c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
>c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00"
>datx <- read.table(text=a, header=TRUE, stringsAsFactors=FALSE)
>
>dati <- data.frame(datx$transcript_ID, sapply(datx[,-1], as.integer),
>? ? ? ? stringsAsFactors=FALSE)
>
>-------------------------------------
>David L Carlson
>Department of Anthropology
>Texas A&M University
>College Station, TX 77840-4352
>
>
>-----Original Message-----
>From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Alicia R. P?rez-Porro
>Sent: Monday, May 12, 2014 10:38 AM
>To: r-help at r-project.org
>Subject: [R] Convert to integers all entries of a table (for DESeq2)
>
>Dear R users,
>
>I have a .txt table that looks like:
>
>transcript_ID C3? ? ? ? C4? ? ? CRL_2APR10? ? ? CRL_1_15JUL11
>CRL_2_15JUL11? ?C1? ? ? CRL_6OCT11c? ? ?CRL_3DEC11? ? ? CRL_13DEC11b
>LRV_A LRV_B
>c101054_g1_i2 15.53 231.47 131.86 218.69 16.70 0.00 587.79 0.00 624.32 10.00
>6.00
>c96583_g1_i2 0.00 10.60 6.30 8.87 0.00 0.00 29.00 0.00 90.94 0.00 0.00
>c19380_g1_i1 0.00 9.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c102980_g1_i10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c91905_g1_i3 0.00 6.66 65.11 0.00 0.00 0.00 40.92 0.00 55.37 0.00 0.00
>c108262_g1_i3 0.00 29.65 2.44 0.00 0.00 0.00 29.33 0.00 338.89 0.00 0.00
>c27948_g1_i1 0.00 0.00 0.00 54.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00
>c14898_g1_i1 0.00 2.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
>c105146_g1_i2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00
>
>I need to convert all the numeric entries into integers to be able to use
>DESeq2, e.g.:
>
>C3 C4 CRL2APR10 CRL_1_15JUL11 CRL_2_15JUL11 C1 CRL_6OCT11c CRL3DEC11
>CRL13DEC11b LRV_A LRV_B
>c101054_g1_i2 15 231 131 218 16 0 587 0 624 10 6
>c96583_g1_i2 0 10 6 8 0 0 29 0 90 0 0
>c19380_g1_i1 0 9 0 1 0 0 0 0 0 0 0
>c102980_g1_i10 0 0 0 0 0 0 0 0 0 0 0
>c91905_g1_i3 0 6 65 0 0 0 40 0 55 0 0
>c108262_g1_i3 0 29 2 0 0 0 29 0 338 0 0
>c27948_g1_i1 0 0 0 54 0 1 0 0 0 0 0
>c14898_g1_i1 0 2 0 1 0 0 0 0 0 0 0
>c105146_g1_i2 0 0 0 0 0 0 0 0 0 0 1
>
>?Any help will be welcome.
>Thanks in advance,
>
>Alicia?
>
>--
>Alicia R. P?rez-Porro
>PhD candidate
>
>Giribet lab
>Department of Organismic and Evolutionary Biology
>MCZ labs
>Harvard University
>26 Oxford St, Cambridge MA 02138
>phone: +1 617-496-5308
>fax: +1 617-495-5667
>www.oeb.harvard.edu/faculty/giribet/
>
>Department of Marine Ecology
>Center for Advanced Studies of Blanes (CEAB-CSIC)
>C/Acc?s Cala St. Francesc 14
>17300 Blanes, Girona, SPAIN
>phone: +34 972 336 101
>fax: +34 972 337 806
>www.ceab.csic.es
>
>??? [[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>


From p_connolly at slingshot.co.nz  Thu May 15 04:25:55 2014
From: p_connolly at slingshot.co.nz (p_connolly)
Date: Thu, 15 May 2014 14:25:55 +1200
Subject: [R] Character type and size using spatstats
Message-ID: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>

The spatstat package has hundreds of useful functions but I'm having
trouble understanding the intricate ways it does things.  I've read lots 
of
Rspatialcourse_CMIS_PDF Standard.pdf from here:
http://www.csiro.au/resources/pf16h but can't find what I need to know. 
I'm
particularly interested in how to set the plotting character and its
size in density plots.


   require(spatstat)
   load("CharacterSizeRData") # (attached to this message)
   ls()
[1] "all.win" "bb9"
   head(bb9)
    Col Row     ColN Concept Pch VinesJune VinesAug New Event
1    A  10 3.333333 Gold 4x   4        42       41   1  TRUE
8    A  16 3.333333 Gold 4x   4        42       41   1  TRUE
10   A  18 3.333333 Gold 4x   4        42       41   1  TRUE
11   A  19 3.333333 Gold 4x   4        42       41   1  TRUE
14   A  21 3.333333 Gold 4x   4        42       41   1  TRUE
18   A  24 3.333333 Gold 4x   4        42       34   8  TRUE
> 
## If I make a ppp class object from bb9, like so:
   ppp9A <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window = 
all.win,
                         marks = Concept))
## I can do a density plot:
   plot(density(ppp9A, 5, edge = FALSE, weights = bb9$New), main = 
"ppp9A")
## Adding to show the points:
   plot(ppp9A,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
## works except that maxsize is ignored.
##
## If I make the ppp object like this:
   ppp9B <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window = 
all.win,
                          marks = New))
   plot(density(ppp9B, 5, edge = FALSE, weights = bb9$New), main = 
"ppp9B")
   plot(ppp9B,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
## maxsize works how I intended.
##
## I tried to combine plotting character and size with a fancier use of 
marks
   ppp9C <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window = 
all.win,
                          marks = data.frame(New, Concept)))
## Then try
   plot(density(ppp9C, 5, edge = FALSE, weights = marks(ppp9C)$New), main 
= "")
   plot(ppp9C, add = TRUE, cols = "red", chars = 
levels(marks(ppp9C)$Concept),
        maxsize = max(marks(ppp9C)$New)/20)
## chars is ignored and no error message to complain or explain

What I wish to know is how to get plotting character and size
information displayed simultaneously.  I tried ways of specifying it
from bb9 dataframe instead of the ppp object, or specifying a fixed
value but it's always ignored.  Ideally, I'd like to customize the
plotting characters used, but getting the defaults to work would be a
start.

TIA

Patrick









From r.turner at auckland.ac.nz  Thu May 15 05:00:00 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 15 May 2014 15:00:00 +1200
Subject: [R] Character type and size using spatstats
In-Reply-To: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>
References: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>
Message-ID: <53742DB0.9040305@auckland.ac.nz>


Dear Patrick,

(a) Your attachment did not come through; only attachments with
extensions belonging to a limited class are passed through by the list 
software.

Perhaps you could email your data set to me privately,

(b) I have only had a quick glance at your code.  A few comments:

     * In your first call to ppp(), "range(ColN), range(Row)" will be
       ignored.  They would be used to construct a (rectangular) window
       except for the fact that you have specified "window" explicitly.

     * the argument "maxsize" gets used only if the marks involved are
       *numeric*; it'll be ignored when the marks are a factor.

     * the argument "chars" should take values which would be acceptable
       as values of the "pch" argument to plot().  The levels of
       "Concept" do not meet this requirement.

     * if I were me I wouldn't clutter things up by plotting the density
       estimate initially.  Just plot the pattern, until you get the
       sort of result you want. *Then* overlay it on top of a density
       plot.

(c) If you send me the data off-list and explain in words what it is 
that you want to achieve ("Tell me what you want to do not how you want 
to do it.") then I'm pretty sure that I can show you how to achieve it.

cheers,

Rolf

On 15/05/14 14:25, p_connolly wrote:
> The spatstat package has hundreds of useful functions but I'm having
> trouble understanding the intricate ways it does things.  I've read lots of
> Rspatialcourse_CMIS_PDF Standard.pdf from here:
> http://www.csiro.au/resources/pf16h but can't find what I need to know. I'm
> particularly interested in how to set the plotting character and its
> size in density plots.
>
>
>    require(spatstat)
>    load("CharacterSizeRData") # (attached to this message)
>    ls()
> [1] "all.win" "bb9"
>    head(bb9)
>     Col Row     ColN Concept Pch VinesJune VinesAug New Event
> 1    A  10 3.333333 Gold 4x   4        42       41   1  TRUE
> 8    A  16 3.333333 Gold 4x   4        42       41   1  TRUE
> 10   A  18 3.333333 Gold 4x   4        42       41   1  TRUE
> 11   A  19 3.333333 Gold 4x   4        42       41   1  TRUE
> 14   A  21 3.333333 Gold 4x   4        42       41   1  TRUE
> 18   A  24 3.333333 Gold 4x   4        42       34   8  TRUE
>>
> ## If I make a ppp class object from bb9, like so:
>    ppp9A <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
> all.win,
>                          marks = Concept))
> ## I can do a density plot:
>    plot(density(ppp9A, 5, edge = FALSE, weights = bb9$New), main = "ppp9A")
> ## Adding to show the points:
>    plot(ppp9A,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
> ## works except that maxsize is ignored.
> ##
> ## If I make the ppp object like this:
>    ppp9B <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
> all.win,
>                           marks = New))
>    plot(density(ppp9B, 5, edge = FALSE, weights = bb9$New), main = "ppp9B")
>    plot(ppp9B,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
> ## maxsize works how I intended.
> ##
> ## I tried to combine plotting character and size with a fancier use of
> marks
>    ppp9C <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
> all.win,
>                           marks = data.frame(New, Concept)))
> ## Then try
>    plot(density(ppp9C, 5, edge = FALSE, weights = marks(ppp9C)$New),
> main = "")
>    plot(ppp9C, add = TRUE, cols = "red", chars =
> levels(marks(ppp9C)$Concept),
>         maxsize = max(marks(ppp9C)$New)/20)
> ## chars is ignored and no error message to complain or explain
>
> What I wish to know is how to get plotting character and size
> information displayed simultaneously.  I tried ways of specifying it
> from bb9 dataframe instead of the ppp object, or specifying a fixed
> value but it's always ignored.  Ideally, I'd like to customize the
> plotting characters used, but getting the defaults to work would be a
> start.


From dgwenzi at gmail.com  Thu May 15 06:23:49 2014
From: dgwenzi at gmail.com (David Gwenzi)
Date: Wed, 14 May 2014 22:23:49 -0600
Subject: [R] for loop using index values
Message-ID: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/5b983ac0/attachment.pl>

From 815551145 at qq.com  Thu May 15 03:37:17 2014
From: 815551145 at qq.com (=?gb18030?B?09HOxA==?=)
Date: Thu, 15 May 2014 09:37:17 +0800
Subject: [R] how to make R plot under Linux
In-Reply-To: <CF9958AB.F7D66%macqueen1@llnl.gov>
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
	<loom.20140514T102018-832@post.gmane.org>
	<CF9958AB.F7D66%macqueen1@llnl.gov>
Message-ID: <tencent_0DB68D9F7AA808D87D1ED058@qq.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/5aaa41d2/attachment.pl>

From arrayprofile at yahoo.com  Thu May 15 05:33:56 2014
From: arrayprofile at yahoo.com (array chip)
Date: Wed, 14 May 2014 20:33:56 -0700 (PDT)
Subject: [R] survival estimates for covariate values
Message-ID: <1400124836.70682.YahooMailNeo@web122906.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140514/42d438e1/attachment.pl>

From panbolan at hotmail.com  Thu May 15 06:14:06 2014
From: panbolan at hotmail.com (Panos Bolan)
Date: Thu, 15 May 2014 13:14:06 +0900
Subject: [R] WGCNA on heterogeneous RNA-seq
Message-ID: <BLU184-W100866AEDAE69D9CDE7337DE360@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/a00a4970/attachment.pl>

From dwinsemius at comcast.net  Thu May 15 06:49:07 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 14 May 2014 21:49:07 -0700
Subject: [R] for loop using index values
In-Reply-To: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
References: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
Message-ID: <98BAF75F-0664-4F88-88B3-20BD6D6FE6DA@comcast.net>


On May 14, 2014, at 9:23 PM, David Gwenzi wrote:

> Hi all
>
> I have point data along a transect and I want to divide the transect  
> into
> small blocks of 10m length each. I have named the blocks as a list i.e
> subset[[i]]. Now the issue is I want to process only those blocks  
> that have
> at least 100 data points and keep the original index values of those
> subsets. How do I set the for loop. I have tried the following but  
> it is
> still processing everything
>
> select<-which(nrow(subset[[i]])>=100
> for (i in c(select)){
> ..............
> }
> Thank you in advance,

So can you provide str( subset[[1]] )?


>
> David Gwenzi
> Graduate Degree Program in Ecology
> Natural Resources Ecology Lab
> Colorado State University
>
> 	[[alternative HTML version deleted]]

And this is a plain text mailing list as described in the Posting Guide.

-- 

David Winsemius, MD
Alameda, CA, USA


From jdnewmil at dcn.davis.CA.us  Thu May 15 07:18:09 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 14 May 2014 22:18:09 -0700
Subject: [R] how to make R plot under Linux
In-Reply-To: <tencent_0DB68D9F7AA808D87D1ED058@qq.com>
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
	<loom.20140514T102018-832@post.gmane.org>
	<CF9958AB.F7D66%macqueen1@llnl.gov>
	<tencent_0DB68D9F7AA808D87D1ED058@qq.com>
Message-ID: <4d8791c5-d972-466e-a051-1ff96d6fa670@email.android.com>

This is not an Ubuntu tech support list. It is possible to install the X11 client support even on headless servers, which is one of the things R on the server needs to send graphics commands to your computer.  However, if your sysadmin won't do it then it is not going to happen, and we are most definitely not here to tell him how to do his job since this is a list for questions about R.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 14, 2014 6:37:17 PM PDT, "??" <815551145 at qq.com> wrote:
>In our server, R is already installed. But the X11 is DISABLE.
>The operational system of server is Ubuntu. It is only a command line
>system without graph interface. 
> Do you know how to Enable X11 in R on the Ubuntu server?
>I have a short chat with the administrator, he told me it is technical
>impossible to install X11 in the server. But I suspect his answer.
>There should be ways to solve it. 
> Thanks! 
>
>  
>  ------------------ Original ------------------
>  From:  "MacQueen, Don";<macqueen1 at llnl.gov>;
> Date:  May 15, 2014
>To:  "????"<815551145 at qq.com>;
>"r-help at stat.math.ethz.ch"<r-help at stat.math.ethz.ch>; 
> 
> Subject:  Re: [R] how to make R plot under Linux
>
> 
>
>Yes, install R so that X11 is enabled, then do
>
>x11()
>hist( c(1:10) )
>
>and you should see your histogram.


From frtog at vestas.com  Thu May 15 07:27:30 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Thu, 15 May 2014 07:27:30 +0200
Subject: [R] for loop using index values
In-Reply-To: <98BAF75F-0664-4F88-88B3-20BD6D6FE6DA@comcast.net>
References: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
	<98BAF75F-0664-4F88-88B3-20BD6D6FE6DA@comcast.net>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D833@DKRDSEXC016.vestas.net>

As David says it will be good to see how the structure of the list subset is. Now I'm going to guess that the i'th element of subset is a dataframe since you are using nrow(subset[[i]]).

Now you're doing 

select<-which(nrow(subset[[i]])>=100) ## added a missing closing )

so now select holds the number of rows of subset[[i]] only.

Perhaps it should be something like

select <- which(lapply(subset, nrow) >= 100).

Using some dummy data:

> tmp <- list(matrix(0,2,3),matrix(0,9,3),matrix(0,8,3),matrix(0,3,3),matrix(0,6,3))
> which((lapply(tmp, nrow) > 6))
[1] 2 3

 
By the way there is a function called subset so you could run into trouble later on when calling your list for subset.

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of David Winsemius
> Sent: 15. maj 2014 06:49
> To: David Gwenzi
> Cc: r-help at r-project.org
> Subject: Re: [R] for loop using index values
> 
> 
> On May 14, 2014, at 9:23 PM, David Gwenzi wrote:
> 
> > Hi all
> >
> > I have point data along a transect and I want to divide the transect
> > into
> > small blocks of 10m length each. I have named the blocks as a list i.e
> > subset[[i]]. Now the issue is I want to process only those blocks
> > that have
> > at least 100 data points and keep the original index values of those
> > subsets. How do I set the for loop. I have tried the following but
> > it is
> > still processing everything
> >
> > select<-which(nrow(subset[[i]])>=100
> > for (i in c(select)){
> > ..............
> > }
> > Thank you in advance,
> 
> So can you provide str( subset[[1]] )?
> 
> 
> >
> > David Gwenzi
> > Graduate Degree Program in Ecology
> > Natural Resources Ecology Lab
> > Colorado State University
> >
> > 	[[alternative HTML version deleted]]
> 
> And this is a plain text mailing list as described in the Posting Guide.
> 
> --
> 
> David Winsemius, MD
> Alameda, CA, USA
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewmil at dcn.davis.CA.us  Thu May 15 07:28:54 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 14 May 2014 22:28:54 -0700
Subject: [R] filename of current device
In-Reply-To: <87lhu47wpo.fsf@med.uni-goettingen.de>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5B23B8A4-9913-48CF-81E5-8E236BDBD04B@comcast.net>
	<87ppjg7zf8.fsf@med.uni-goettingen.de>
	<4D5BC7BE-2B71-4FD1-9493-24119216D07B@comcast.net>
	<87lhu47wpo.fsf@med.uni-goettingen.de>
Message-ID: <46080247-df11-4471-8b98-519b156b2406@email.android.com>

You know, there is a more conventional way to handle this (at least from an R users perspective): Don't do that.

The normal method of analysis in R is to perform analysis computations in separate functions than the functions that display/print results. You can easily take this one step further and put your analysis functions in a separate R file than your display functions, and save the results (typically) to an RData file. That way your display operations can run at your convenience (interactively), and there is no concern that a pdf file sits there open for long periods.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 14, 2014 4:43:31 PM PDT, Andreas Leha <andreas.leha at med.uni-goettingen.de> wrote:
>Hi David,
>
>David Winsemius <dwinsemius at comcast.net> writes:
>
>> On May 14, 2014, at 3:44 PM, Andreas Leha wrote:
>>
>>> Hi David,
>>> 
>>> Thank you for following up on that.
>>> 
>>> David Winsemius <dwinsemius at comcast.net> writes:
>>> 
>>>> On May 14, 2014, at 3:04 PM, Andreas Leha wrote:
>>>> 
>>>>> Hi all,
>>>>> 
>>>>> how do I find out about the filename, the currently open (let's
>say pdf)
>>>>> device is writing to?
>>>>> 
>>>>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice
>1' I
>>>>> would like to know, which file that pdf device is actually
>targeting.
>>>>> 
>>>>> Any help for my poor organization is highly appreciated...
>>>>> 
>>>> 
>>>> Have your read the help file for pdf()? The first argument is the
>default naming mechanism:
>>>> 
>>>> file = ifelse(onefile, "Rplots.pdf", "Rplot%03d.pdf")
>>>> 
>>>> So if you call pdf() then it will write to the working directory
>with a named constructed from those choices.
>>>> 
>>> 
>>> Sorry for being unclear.  I am aware of that.  My use case is, that
>>> apparently, I have called pdf("somefile.pdf") somewhen during a long
>>> lasting R session.
>>> 
>>> I tend to have separate R sessions open in parallel
>>> for the project I am working on.  So, I can easily have R session
>open
>>> that run for weeks.
>>> 
>>> So, when I return to an R session (when I got some additional data,
>I
>>> was asking for, e.g.) after several days, I do not know what that
>call
>>> was.  And for several reasons, the actual call (pdf("somefile.pdf"))
>>> might not even be visible in my R session.
>>> 
>>> In that situation, I would like to know, which is the open file for
>the
>>> current device.
>>
>> Well, if you acheived success with the pdf() call by executing
>> dev.off() then you closed that device. The previous device does leave
>> behind a footprint but not the entire name of hte file or the
>> contents.
>>
>> ?dev.prev
>>
>>> old.dev <-dev.prev()
>>> str(old.dev)
>>  Named int 5
>>  - attr(*, "names")= chr "pdf"
>>
>>
>> If you had not changed working directory you may be able to then look
>> at all of the pdf files. You can get information with file,info()
>>
>> ?file.info
>>
>>
>
>Thanks for the follow-up.  I take it, there is no 'easy' way in R to
>achieve this.
>
>The best solution (on unix systems) that I have come up with is this:
>  system(paste("lsof -p", Sys.getpid(), "| grep pdf"))
>(which obviously works only before dev.off())
>
>I was hoping for some more reliable way to achieve this, but it'll work
>for me.
>
>Thanks again,
>Andreas
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From frtog at vestas.com  Thu May 15 07:53:30 2014
From: frtog at vestas.com (=?utf-8?B?RnJlZGUgQWFrbWFubiBUw7hnZXJzZW4=?=)
Date: Thu, 15 May 2014 07:53:30 +0200
Subject: [R] for loop using index values
In-Reply-To: <CA+g3nKRhaGH00opNb-GALdy4hZc+vHfX1uAzXAtU6DiccUDKTQ@mail.gmail.com>
References: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
	<98BAF75F-0664-4F88-88B3-20BD6D6FE6DA@comcast.net>
	<B078CDF40DFE4045AF172A8B4F68FC4857C612D833@DKRDSEXC016.vestas.net>
	<CA+g3nKRhaGH00opNb-GALdy4hZc+vHfX1uAzXAtU6DiccUDKTQ@mail.gmail.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C612D844@DKRDSEXC016.vestas.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/c80a40e8/attachment.pl>

From peter.langfelder at gmail.com  Thu May 15 08:33:39 2014
From: peter.langfelder at gmail.com (Peter Langfelder)
Date: Wed, 14 May 2014 23:33:39 -0700
Subject: [R] WGCNA on heterogeneous RNA-seq
In-Reply-To: <BLU184-W100866AEDAE69D9CDE7337DE360@phx.gbl>
References: <BLU184-W100866AEDAE69D9CDE7337DE360@phx.gbl>
Message-ID: <CA+hbrhVap363fzqdYiN=4aLHiV-95Q-NW3Cku+j_5kxQg2JXjw@mail.gmail.com>

Hi Pan,

On Wed, May 14, 2014 at 9:14 PM, Panos Bolan <panbolan at hotmail.com> wrote:
> Dear list,
>
> Apologies for posting this to both Bioconductor and here. I recently read a
> Bioconductor post where the developer of the WGCNA suggested the use of the
> package for RNA-seq data analysis after implementing a variance
> stabilization normalization to the raw counts. I have read the tutorials and
> run the example dataset at
> http://labs.genetics.ucla.edu/horvath/CoexpressionNetwork/Rpackages/WGCNA/Tutorials/index.html.
> I would like to apply WGCNA to my RNA-seq data consisting of 1000
> transcripts whose expression is measured for 50 triplicated cell types
> (approximately 150 samples) and derive networks.
>
> I would like to ask if WGCNA can be used successfully in this kind of
> heterogeneous dataset

My standard answer to this question is that the success of WGCNA (or
any other analysis, for that matter) depends on the design of your
experiment and what the question is you want to answer. Are the
inter-line differences going to help you answer the question, or will
they confound it?

> where for most of the transcripts, the various cell
> types expression patterns might differ substantially (so that a variance
> stabilizing transformation will not give me approximately normal
> distribution for each transcript; it would rather be a mixture of normal
> distributions).

Normal distribution is not a pre-requisite of WGCNA, or, indeed, any
other linear model-based analysis (correlation can be thought of as
one of the statistics arising from a linear model). Linear models do
not assume that variables are distributed normally, only that their
residuals are distributed normally (and have the same variance - this
is where VST comes in).

HTH,

Peter


From r.turner at auckland.ac.nz  Thu May 15 08:36:59 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 15 May 2014 18:36:59 +1200
Subject: [R] how to make R plot under Linux
In-Reply-To: <4d8791c5-d972-466e-a051-1ff96d6fa670@email.android.com>
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
	<loom.20140514T102018-832@post.gmane.org>
	<CF9958AB.F7D66%macqueen1@llnl.gov>
	<tencent_0DB68D9F7AA808D87D1ED058@qq.com>
	<4d8791c5-d972-466e-a051-1ff96d6fa670@email.android.com>
Message-ID: <5374608B.4000101@auckland.ac.nz>

On 15/05/14 17:18, Jeff Newmiller wrote:
> This is not an Ubuntu tech support list. It is possible to install
> the X11 client support even on headless servers, which is one of the
> things R on the server needs to send graphics commands to your
> computer.  However, if your sysadmin won't do it then it is not going
> to happen, and we are most definitely not here to tell him how to do
> his job since this is a list for questions about R.

Well ***somebody*** ought to tell the dork how to do his job, since he 
clearly isn't doing it.  The job of a system administrator should be to 
help users to accomplish the tasks that they need to do, not to hinder, 
impede and stone-wall them.

The tell-tale word here is "administrator" --- those of that breed seem 
to get their kicks from frustrating those who do the actual work.

cheers,

Rolf Turner


From ashisdeb83 at gmail.com  Thu May 15 09:07:17 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Thu, 15 May 2014 00:07:17 -0700
Subject: [R] Counting number of days my program runs
Message-ID: <CAFcJUTp2K8gWDuD5Ej0yOmHu9XnDM9aA0rDLL9m+eUBB8AEBaQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/5fdc9879/attachment.pl>

From p_connolly at slingshot.co.nz  Thu May 15 09:27:32 2014
From: p_connolly at slingshot.co.nz (Patrick Connolly)
Date: Thu, 15 May 2014 19:27:32 +1200
Subject: [R] Character type and size using spatstats
In-Reply-To: <53742DB0.9040305@auckland.ac.nz>
References: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>
	<53742DB0.9040305@auckland.ac.nz>
Message-ID: <20140515072731.GB32760@slingshot.co.nz>

On Thu, 15-May-2014 at 03:00PM +1200, Rolf Turner wrote:

|> 
|> Dear Patrick,
|> 
|> (a) Your attachment did not come through; only attachments with
|> extensions belonging to a limited class are passed through by the
|> list software.

I should have made use of dput() twice instead.  However, it can be
got at https://db.tt/ic5YDzpN


|> 
|> Perhaps you could email your data set to me privately,
|> 
|> (b) I have only had a quick glance at your code.  A few comments:
|> 
|>     * In your first call to ppp(), "range(ColN), range(Row)" will be
|>       ignored.  They would be used to construct a (rectangular) window
|>       except for the fact that you have specified "window" explicitly.
|> 
|>     * the argument "maxsize" gets used only if the marks involved are
|>       *numeric*; it'll be ignored when the marks are a factor.
|> 
|>     * the argument "chars" should take values which would be acceptable
|>       as values of the "pch" argument to plot().  The levels of
|>       "Concept" do not meet this requirement.

But the elements of bb9$Pch do meet that requirement and that approach
still fails.  Something else is missing.  The use of "chars" appears
only once in that PDF file, so I didn't have enough to work it out for
myself.

|> 
|>     * if I were me I wouldn't clutter things up by plotting the density
|>       estimate initially.  Just plot the pattern, until you get the
|>       sort of result you want. *Then* overlay it on top of a density
|>       plot.
|> 
|> (c) If you send me the data off-list and explain in words what it
|> is that you want to achieve ("Tell me what you want to do not how
|> you want to do it.") then I'm pretty sure that I can show you how
|> to achieve it.

A picture is worth a thousand words.  I think when you see what the
example code produces, it will be clear what I wish to achieve.  I'm
sure it's something very simple but evidently too subtle for Pooh (who
is a bear with only a small brain).

Thanks for the help, Rolf.

best
Patrick 


|> 
|> cheers,
|> 
|> Rolf
|> 
|> On 15/05/14 14:25, p_connolly wrote:
|> >The spatstat package has hundreds of useful functions but I'm having
|> >trouble understanding the intricate ways it does things.  I've read lots of
|> >Rspatialcourse_CMIS_PDF Standard.pdf from here:
|> >http://www.csiro.au/resources/pf16h but can't find what I need to know. I'm
|> >particularly interested in how to set the plotting character and its
|> >size in density plots.
|> >
|> >
|> >   require(spatstat)
|> >   load("CharacterSizeRData") # (attached to this message)
|> >   ls()
|> >[1] "all.win" "bb9"
|> >   head(bb9)
|> >    Col Row     ColN Concept Pch VinesJune VinesAug New Event
|> >1    A  10 3.333333 Gold 4x   4        42       41   1  TRUE
|> >8    A  16 3.333333 Gold 4x   4        42       41   1  TRUE
|> >10   A  18 3.333333 Gold 4x   4        42       41   1  TRUE
|> >11   A  19 3.333333 Gold 4x   4        42       41   1  TRUE
|> >14   A  21 3.333333 Gold 4x   4        42       41   1  TRUE
|> >18   A  24 3.333333 Gold 4x   4        42       34   8  TRUE
|> >>
|> >## If I make a ppp class object from bb9, like so:
|> >   ppp9A <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
|> >all.win,
|> >                         marks = Concept))
|> >## I can do a density plot:
|> >   plot(density(ppp9A, 5, edge = FALSE, weights = bb9$New), main = "ppp9A")
|> >## Adding to show the points:
|> >   plot(ppp9A,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
|> >## works except that maxsize is ignored.
|> >##
|> >## If I make the ppp object like this:
|> >   ppp9B <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
|> >all.win,
|> >                          marks = New))
|> >   plot(density(ppp9B, 5, edge = FALSE, weights = bb9$New), main = "ppp9B")
|> >   plot(ppp9B,  add = TRUE, cols = "red", maxsize = max(bb9$New)/20)
|> >## maxsize works how I intended.
|> >##
|> >## I tried to combine plotting character and size with a fancier use of
|> >marks
|> >   ppp9C <- with(bb9, ppp(ColN, Row, range(ColN), range(Row), window =
|> >all.win,
|> >                          marks = data.frame(New, Concept)))
|> >## Then try
|> >   plot(density(ppp9C, 5, edge = FALSE, weights = marks(ppp9C)$New),
|> >main = "")
|> >   plot(ppp9C, add = TRUE, cols = "red", chars =
|> >levels(marks(ppp9C)$Concept),
|> >        maxsize = max(marks(ppp9C)$New)/20)
|> >## chars is ignored and no error message to complain or explain
|> >
|> >What I wish to know is how to get plotting character and size
|> >information displayed simultaneously.  I tried ways of specifying it
|> >from bb9 dataframe instead of the ppp object, or specifying a fixed
|> >value but it's always ignored.  Ideally, I'd like to customize the
|> >plotting characters used, but getting the defaults to work would be a
|> >start.

-- 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.   
   ___    Patrick Connolly   
 {~._.~}                   Great minds discuss ideas    
 _( Y )_  	         Average minds discuss events 
(:_~*~_:)                  Small minds discuss people  
 (_)-(_)  	                      ..... Eleanor Roosevelt
	  
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.


From p_connolly at slingshot.co.nz  Thu May 15 09:56:01 2014
From: p_connolly at slingshot.co.nz (Patrick Connolly)
Date: Thu, 15 May 2014 19:56:01 +1200
Subject: [R] how to make R plot under Linux
In-Reply-To: <tencent_0DB68D9F7AA808D87D1ED058@qq.com>
References: <43332.196.3.39.209.1266604793.squirrel@imap.stat.psu.edu>
	<201002191957.15297.Vojtech.Zeisek@opensuse.org>
	<loom.20140514T102018-832@post.gmane.org>
	<CF9958AB.F7D66%macqueen1@llnl.gov>
	<tencent_0DB68D9F7AA808D87D1ED058@qq.com>
Message-ID: <20140515075601.GD32760@slingshot.co.nz>

On Thu, 15-May-2014 at 09:37AM +0800, ?? wrote:

|> In our server, R is already installed. But the X11 is DISABLE.

|>  The operational system of server is Ubuntu. It is only a command
|>  line system without graph interface.

|>  Do you know how to Enable X11 in R on the Ubuntu server?

|>  I have a short chat with the administrator, he told me it is
|>  technical impossible to install X11 in the server. But I suspect
|>  his answer. There should be ways to solve it.

I understand that Rstudio can work through a browser to an Rstudio
server without X11.  I'd personally hate to work that way so I've
never checked it out, but others are less fussy.  It might work for
you.

|>  Thanks! 



|> 
|>   
|>   ------------------ Original ------------------
|>   From:  "MacQueen, Don";<macqueen1 at llnl.gov>;
|>  Date:  May 15, 2014
|>  To:  "????"<815551145 at qq.com>; "r-help at stat.math.ethz.ch"<r-help at stat.math.ethz.ch>; 
|>  
|>  Subject:  Re: [R] how to make R plot under Linux
|> 
|>  
|> 
|> Yes, install R so that X11 is enabled, then do
|> 
|> x11()
|> hist( c(1:10) )
|> 
|> and you should see your histogram.
|> 
|> -- 
|> Don MacQueen
|> 
|> Lawrence Livermore National Laboratory
|> 7000 East Ave., L-627
|> Livermore, CA 94550
|> 925-423-1062
|> 
|> 
|> 
|> 
|> 
|> On 5/14/14 1:26 AM, "Owen" <815551145 at qq.com> wrote:
|> 
|> >Vojt??ch Zeisek <Vojtech.Zeisek <at> opensuse.org> writes:
|> >
|> >> 
|> >> On Linux You can use Rkward http://rkward.sourceforge.net/ - very nice
|> >>and 
|> >> good graphical user interface for R.
|> >> 
|> >> Dne P?? 19. ??nora 2010 19:39:53 xinwei <at> stat.psu.edu napsal(a):
|> >> > Hi, I am using R in Linux environment. How can i make plot in Linux
|> >>just
|> >> > like in windows?
|> >> > 
|> >> > thanks
|> >> > 
|> >> > ______________________________________________
|> >> > R-help <at> r-project.org mailing list
|> >> > https://stat.ethz.ch/mailman/listinfo/r-help
|> >> > PLEASE do read the posting guide
|> >> >  http://www.R-project.org/posting-guide.html and provide commented,
|> >> >  minimal, self-contained, reproducible code.
|> >
|> >Hi,
|> >I have connected to the Linux server via ssh -X using Putty and can
|> >successfully show "xclock" window in Xming.
|> >However, when i used R and run  command "hist(c(1:10))", i cannot get the
|> >figure in the Xming window (nothing happened in the Xming window).
|> >The output of capabilities() is as following:
|> >> capabilities()
|> >    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
|> >    TRUE     TRUE    FALSE    FALSE    FALSE    FALSE     TRUE     TRUE
|> >  libxml     fifo   cledit    iconv      NLS  profmem    cairo
|> >    TRUE     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE
|> >
|> >What should i do to see the popup plot of R? should i need to ask the
|> >Administrator to enable X11?
|> >Thanks!
|> >
|> >______________________________________________
|> >R-help at r-project.org mailing list
|> >https://stat.ethz.ch/mailman/listinfo/r-help
|> >PLEASE do read the posting guide
|> >http://www.R-project.org/posting-guide.html
|> >and provide commented, minimal, self-contained, reproducible code.
|> 
|> .
|> 	[[alternative HTML version deleted]]
|> 

|> ______________________________________________
|> R-help at r-project.org mailing list
|> https://stat.ethz.ch/mailman/listinfo/r-help
|> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
|> and provide commented, minimal, self-contained, reproducible code.


-- 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.   
   ___    Patrick Connolly   
 {~._.~}                   Great minds discuss ideas    
 _( Y )_  	         Average minds discuss events 
(:_~*~_:)                  Small minds discuss people  
 (_)-(_)  	                      ..... Eleanor Roosevelt
	  
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.


From r.turner at auckland.ac.nz  Thu May 15 09:58:12 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 15 May 2014 19:58:12 +1200
Subject: [R] Character type and size using spatstats
In-Reply-To: <20140515072731.GB32760@slingshot.co.nz>
References: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>
	<53742DB0.9040305@auckland.ac.nz>
	<20140515072731.GB32760@slingshot.co.nz>
Message-ID: <53747394.60106@auckland.ac.nz>

On 15/05/14 19:27, Patrick Connolly wrote:
> On Thu, 15-May-2014 at 03:00PM +1200, Rolf Turner wrote:
>
> |>
> |> Dear Patrick,
> |>
> |> (a) Your attachment did not come through; only attachments with
> |> extensions belonging to a limited class are passed through by the
> |> list software.
>
> I should have made use of dput() twice instead.  However, it can be
> got at https://db.tt/ic5YDzpN

Managed to retrieve the data.  Will take a look and get back to you.

<SNIP>

cheers,

Rolf


From babakbsn at gmail.com  Thu May 15 11:13:51 2014
From: babakbsn at gmail.com (Babak Bastan)
Date: Thu, 15 May 2014 02:13:51 -0700
Subject: [R] Piecewise Aggregate Approximation in r
Message-ID: <CAF-JZQvX5U1kJPmFzmr0wLrMonnkDUhu_G47ff7LbEfQG97rHQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/de726a55/attachment.pl>

From varinsacha at yahoo.fr  Thu May 15 11:37:50 2014
From: varinsacha at yahoo.fr (varin sacha)
Date: Thu, 15 May 2014 10:37:50 +0100 (BST)
Subject: [R] Bootstrapping the prediction intervals for regression
Message-ID: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/ec297510/attachment.pl>

From kridox at ymail.com  Thu May 15 11:45:20 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Thu, 15 May 2014 18:45:20 +0900
Subject: [R] Piecewise Aggregate Approximation in r
In-Reply-To: <CAF-JZQvX5U1kJPmFzmr0wLrMonnkDUhu_G47ff7LbEfQG97rHQ@mail.gmail.com>
References: <CAF-JZQvX5U1kJPmFzmr0wLrMonnkDUhu_G47ff7LbEfQG97rHQ@mail.gmail.com>
Message-ID: <CAAcyNCwHQz55BjRhMKuJekomrydOrtyZ-qW2W18B59qPh7+Vqg@mail.gmail.com>

Hello,

library(sos)
findFn("Piecewise Aggregate Approximation")

or

RSiteSearch('Piecewise Aggregate Approximation')

Hope this helps,
Pascal

On Thu, May 15, 2014 at 6:13 PM, Babak Bastan <babakbsn at gmail.com> wrote:
> Hi experts
>
> Is there any package or function in r to use PAA (Piecewise Aggregate
> Approximation). Could you please inform me if is there any?
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From frymor at gmail.com  Thu May 15 11:54:39 2014
From: frymor at gmail.com (Assa Yeroslaviz)
Date: Thu, 15 May 2014 11:54:39 +0200
Subject: [R] bin a vector of continuous variables
Message-ID: <CA+8Xemz6QesC2j9y4qX3NQ2EaTdCRMtjrKLpecA6SfSXrPRTwg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/45ee7247/attachment.pl>

From wewolski at gmail.com  Thu May 15 11:58:59 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Thu, 15 May 2014 11:58:59 +0200
Subject: [R] dist like function but where you can configure the method
Message-ID: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>

Looking for an  fast dist implementation
where I could pass my own dist function to the "method" parameter


i.e.

mydistfun = function(x,y){
 return(ks.test(x,y)$p.value)   #some mystique implementation
}


wow = dist(data,method=mydistfun)


thanks


-- 
Witold Eryk Wolski


From smartpink111 at yahoo.com  Thu May 15 12:05:09 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 03:05:09 -0700
Subject: [R] bin a vector of continuous variables
In-Reply-To: <CA+8Xemz6QesC2j9y4qX3NQ2EaTdCRMtjrKLpecA6SfSXrPRTwg@mail.gmail.com>
References: <CA+8Xemz6QesC2j9y4qX3NQ2EaTdCRMtjrKLpecA6SfSXrPRTwg@mail.gmail.com>
Message-ID: <1400148309.29599.YahooMailNeo@web142603.mail.bf1.yahoo.com>



Hi,
check ?cut or ?findInterval
dat <- read.table(text="partner1 partner2 Substract
1_5000_5001_10000??????? 1??? 5001????? 2282.3435
1_5000_10001_15000??????? 1??? 10001????? 174.1275
1_5000_15001_20000??????? 1??? 15001????? 273.822
1_5000_20001_25000??????? 1??? 20001????? 546.27
1_5000_25001_30000??????? 1??? 25001????? 701.299
1_5000_30001_35000??????? 1??? 30001????? 189.2345",sep="",header=TRUE)

?dat <- within(dat, binnedData <- (findInterval(Substract, seq(0,2300,by=100))-1)*100)
?dat
#?????????????????? partner1 partner2 Substract binnedData
#1_5000_5001_10000???????? 1???? 5001 2282.3435?????? 2200
#1_5000_10001_15000??????? 1??? 10001? 174.1275??????? 100
#1_5000_15001_20000??????? 1??? 15001? 273.8220??????? 200
#1_5000_20001_25000??????? 1??? 20001? 546.2700??????? 500
#1_5000_25001_30000??????? 1??? 25001? 701.2990??????? 700
#1_5000_30001_35000??????? 1??? 30001? 189.2345??????? 100

A.K.


On Thursday, May 15, 2014 5:57 AM, Assa Yeroslaviz <frymor at gmail.com> wrote:
Hi all,

I have a data.frame of three columns:
? ? ? ? ? ? ? ? ?  partner1 partner2 Substract
1_5000_5001_10000? ? ? ?  1? ?  5001? ? ? 2282.3435
1_5000_10001_15000? ? ? ? 1? ? 10001? ? ?  174.1275
1_5000_15001_20000? ? ? ? 1? ? 15001? ? ?  273.822
1_5000_20001_25000? ? ? ? 1? ? 20001? ? ?  546.27
1_5000_25001_30000? ? ? ? 1? ? 25001? ? ?  701.299
1_5000_30001_35000? ? ? ? 1? ? 30001? ? ?  189.2345
...

I would like to create a new column for this data, but to bin the variable
into separate bin of 0-100, 100-200, 200-300, 300-400, etc.
so that the new data will look like that
? ? ? ? ? ? ? ? ?  partner1 partner2 Substract? ? binnedData
1_5000_5001_10000? ? ? ?  1? ?  5001? ? ? 2282.3435? ? 2200
1_5000_10001_15000? ? ? ? 1? ? 10001? ? ?  174.1275? ? 100
1_5000_15001_20000? ? ? ? 1? ? 15001? ? ?  273.822? ?  200
1_5000_20001_25000? ? ? ? 1? ? 20001? ? ?  546.27? ? ? 500
1_5000_25001_30000? ? ? ? 1? ? 25001? ? ?  701.299? ?  700
1_5000_30001_35000? ? ? ? 1? ? 30001? ? ?  189.2345? ? 100
...

Can someone give me a hint how to achieve this conversion?

thanks
Assa

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From kehld at ktk.pte.hu  Thu May 15 12:11:39 2014
From: kehld at ktk.pte.hu (=?iso-8859-2?Q?Kehl_D=E1niel?=)
Date: Thu, 15 May 2014 10:11:39 +0000
Subject: [R] bin a vector of continuous variables
In-Reply-To: <CA+8Xemz6QesC2j9y4qX3NQ2EaTdCRMtjrKLpecA6SfSXrPRTwg@mail.gmail.com>
References: <CA+8Xemz6QesC2j9y4qX3NQ2EaTdCRMtjrKLpecA6SfSXrPRTwg@mail.gmail.com>
Message-ID: <33D76D77E9AC4B438DA38B348ED6890D0B9CBFA7@EMAIL.ktkdom.pte.hu>

Hi,

you might try writing your own function, something like

roundDown <- function(x) floor(x/100)*100

> roundDown(c(2282,174,273,432))
[1] 2200  100  200  400

and than apply it to your column.

Please use ?dput next time to present your data, and post in plain text, instead of HTML.

best,
daniel
________________________________________
Felad?: r-help-bounces at r-project.org [r-help-bounces at r-project.org] ; meghatalmaz&#243;: Assa Yeroslaviz [frymor at gmail.com]
K?ldve: 2014. m?jus 15. 11:54
To: R help forum
T?rgy: [R] bin a vector of continuous variables

Hi all,

I have a data.frame of three columns:
                   partner1 partner2 Substract
1_5000_5001_10000         1     5001      2282.3435
1_5000_10001_15000        1    10001       174.1275
1_5000_15001_20000        1    15001       273.822
1_5000_20001_25000        1    20001       546.27
1_5000_25001_30000        1    25001       701.299
1_5000_30001_35000        1    30001       189.2345
...

I would like to create a new column for this data, but to bin the variable
into separate bin of 0-100, 100-200, 200-300, 300-400, etc.
 so that the new data will look like that
                   partner1 partner2 Substract    binnedData
1_5000_5001_10000         1     5001      2282.3435    2200
1_5000_10001_15000        1    10001       174.1275    100
1_5000_15001_20000        1    15001       273.822     200
1_5000_20001_25000        1    20001       546.27      500
1_5000_25001_30000        1    25001       701.299     700
1_5000_30001_35000        1    30001       189.2345    100
...

Can someone give me a hint how to achieve this conversion?

thanks
Assa

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From wht_crl at yahoo.com  Thu May 15 12:12:20 2014
From: wht_crl at yahoo.com (carol white)
Date: Thu, 15 May 2014 03:12:20 -0700
Subject: [R] find an empty char in the name of a vector
Message-ID: <1400148740.24490.YahooMailNeo@web121501.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/b831c31f/attachment.pl>

From smartpink111 at yahoo.com  Thu May 15 12:36:42 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 03:36:42 -0700 (PDT)
Subject: [R] find an empty char in the name of a vector
Message-ID: <1400150202.81507.YahooMailNeo@web142601.mail.bf1.yahoo.com>

Hi,
Assuming that this is the case:
v2 <- c("g_", "", "g2","g3")
?which(v2=="")
#[1] 2


##Second question
v1 <- c("g_", "g_w1", "g_w2", "g_bc3")
grepl("\\bg_\\b",v1)
#[1]? TRUE FALSE FALSE FALSE

v1[grepl("\\bg_\\b",v1)]
#[1] "g_"

A.K.




Hi,
I have a vector with the name of an element that is empty. How can I find out the index of this element? The following doesn't work:

empty.char = grep('[:blank:||:space:]' ,names(v))
if (length(empty.char)>0)
??? ....

How about if the name of one element is g_ and the name of other elements g_anyword???? where any word contain alphanumeric characters and I want to find the one whose name contain only g_?

Cheers,

Carol


From S.Ellison at LGCGroup.com  Thu May 15 12:38:26 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Thu, 15 May 2014 11:38:26 +0100
Subject: [R] nested design
In-Reply-To: <53736806.10401@univ-fcomte.fr>
References: <53736806.10401@univ-fcomte.fr>
Message-ID: <A4E5A0B016B8CB41A485FC629B633CED5E9D98AFAD@GOLD.corp.lgc-group.com>

> I would like to apply a nested ANOVA on my dataset, but I cannot find a
> satisfying answer on how to implement it in R.

The simplest formula for a two-level nested design is resp~fac1/fac2

All of the models you list are equivalent to this after allowing for the fact that R drops duplicated model terms. For example, fac1+fac1/fac2 expands to fac1 + fac1 + fac1:fac2 ... which reduces to fac1+fac1:fac2.

All this is specified in some detail in ?formula.

S Ellison




*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From alex at chaotic-neutral.de  Thu May 15 12:54:11 2014
From: alex at chaotic-neutral.de (Alexander Engelhardt)
Date: Thu, 15 May 2014 12:54:11 +0200
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
Message-ID: <53749CD3.8080200@chaotic-neutral.de>

Hello R-help,

I keep noticing R functions that don't compare integers like
   if(x == 2)
but instead
   if(x == 2L)

Is this a long integer? Also, when do the two notations have a different 
effect on the code?

Thanks in advance,
  Alex


From smartpink111 at yahoo.com  Thu May 15 12:58:56 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 03:58:56 -0700 (PDT)
Subject: [R] slow with indexing with is.na
Message-ID: <1400151536.51780.YahooMailNeo@web142601.mail.bf1.yahoo.com>

Hi,

If you can convert the data.frame to matrix, there would be some improvement.
For e.g.

fun1 <- function(data){
data[is.na(data)] <- 0
data}

fun2 <- function(data){
mat <- as.matrix(data)
mat[is.na(mat)] <-0
mat}




fun3 <- function(data){
mat <- as.matrix(data)
indx <- which(is.na(mat), arr.ind=TRUE)
mat[indx] <- 0
mat}

fun4 <- function(data){
?mat <- as.matrix(data)
?indx <- is.na(mat)
?mat[indx] <- 0
?mat}
?

set.seed(4853)
dat1 <- as.data.frame(matrix(sample(c(NA,1:20),3e3*3e3,replace=TRUE),ncol=3e3))

system.time(res1 <- fun1(dat1))
# user? system elapsed 
#? 1.224?? 0.040?? 1.267 

system.time(res2 <- fun2(dat1))
#? user? system elapsed 
#? 0.368?? 0.052?? 0.420 

system.time(res3 <- fun3(dat1))
#user? system elapsed 
#? 0.170?? 0.052?? 0.223?

system.time(res4 <- fun4(dat1))
#?? user? system elapsed
#? 0.277?? 0.075?? 0.354 
?identical(res1,as.data.frame(res2))
#[1] TRUE
identical(res1,as.data.frame(res3))
#[1] TRUE


A.K.


Hi,

I am new to r (with experience in Matlab).? I'm still exploring with the syntax and learning to think in a R way.? 

I have some data (3000 x 3000) in data.frame class and the following code seems to perform very slow.? 

data[is.na(data)] = 0

Would be good get some comments on this from some experienced users.? Thanks.?? 



From ruipbarradas at sapo.pt  Thu May 15 13:01:42 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 15 May 2014 12:01:42 +0100
Subject: [R] Bootstrapping the prediction intervals for regression
In-Reply-To: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>
References: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>
Message-ID: <53749E96.6060801@sapo.pt>

Hello,

Try to follow the example below and see if you can adapt it to your 
needs. Since you don't provide us with a dataset example, I start by 
making up some.


# make up some data
n <- 22
set.seed(8873)
dat <- data.frame(x1 = rnorm(n), x2 = rnorm(n))
dat$y <- x1 + x2 + rnorm(n)


B <- 100  # number of bootstrap samples
result <- array(dim = c(n, 3, B), dimnames = list(NULL, c("fit", "upr", 
"lwr"), NULL))
for(i in 1:B){
	s <- sample(nrow(dat), n, replace = TRUE)
	lm.tmp <- lm(y ~ x1 + x2, data = dat[s, ])
	result[,,i] <- predict(lm.tmp, interval = "prediction")
}


Then you can do whatever you want with 'result', including computing the 
min and max values.


Hope this helps,

Rui Barradas

Em 15-05-2014 10:37, varin sacha escreveu:
> Dear experts,
>>
>>
>> I have done a multiple linear regression on a small sample size (n=22).
>> I have computed the prediction intervals (not the confidence intervals).
>>
>>
>> Now I am trying to bootstrap the prediction intervals.
>>
>>
>> I didn't find any package doing that.
>> So I decide to create my own R function, but it doesn't work !
>>
>>
>> Here are my R codes :
>>
>>
>> LinearModel.1 <- lm(GDP.per.head ~ Competitivness.score +Quality.score, data=Dataset)
>> summary(LinearModel.1)
>> predict(LinearModel.1, interval = "prediction")
>>
>>
>> HERE IS MY R FUNCTION WHERE I HAVE TRIED TO BOOTSTRAP THE PREDICTION INTERVALS
>>
>>
>> pred.min<-rep(nrow(Dataset), na.rm=F)
>> pred.max<-rep(nrow(Dataset), na.rm=F)
>> for(i in 1:n)
>> {s<-sample(1:nrow(Dataset),size=22)
>> reg<-lm(GDP.per.head ~ Competitivness.score + Quality.score,data=Dataset[s])
>> pred.min<-pmin(reg,pred.min)
>> pred.max<-pmax(reg,pred.max)}
>>
>>
>> Thanks for your precious help.
>>
>>
> 	[[alternative HTML version deleted]]
>
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ruipbarradas at sapo.pt  Thu May 15 13:03:29 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 15 May 2014 12:03:29 +0100
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
In-Reply-To: <53749CD3.8080200@chaotic-neutral.de>
References: <53749CD3.8080200@chaotic-neutral.de>
Message-ID: <53749F01.1000103@sapo.pt>

Hello,

2 is a double, 2L is an integer. Try

 > class(2)
[1] "numeric"
 > class(2L)
[1] "integer"


Hope this helps,

Rui Barradas

Em 15-05-2014 11:54, Alexander Engelhardt escreveu:
> Hello R-help,
>
> I keep noticing R functions that don't compare integers like
>    if(x == 2)
> but instead
>    if(x == 2L)
>
> Is this a long integer? Also, when do the two notations have a different
> effect on the code?
>
> Thanks in advance,
>   Alex
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Thu May 15 13:03:44 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 04:03:44 -0700 (PDT)
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
In-Reply-To: <53749CD3.8080200@chaotic-neutral.de>
References: <53749CD3.8080200@chaotic-neutral.de>
Message-ID: <1400151824.12996.YahooMailNeo@web142606.mail.bf1.yahoo.com>

Hi Alex,

May be this link helps:
http://stackoverflow.com/questions/7014387/whats-the-difference-between-1l-and-1

A.K.




On Thursday, May 15, 2014 6:55 AM, Alexander Engelhardt <alex at chaotic-neutral.de> wrote:
Hello R-help,

I keep noticing R functions that don't compare integers like
?  if(x == 2)
but instead
?  if(x == 2L)

Is this a long integer? Also, when do the two notations have a different 
effect on the code?

Thanks in advance,
? Alex

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From kridox at ymail.com  Thu May 15 13:05:45 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Thu, 15 May 2014 20:05:45 +0900
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
In-Reply-To: <53749CD3.8080200@chaotic-neutral.de>
References: <53749CD3.8080200@chaotic-neutral.de>
Message-ID: <CAAcyNCz=ePQpWgGeK7dPKqt+GMUr36AojR3i9ttAqeV4WBxpKA@mail.gmail.com>

Hello,

Probably you will get more complete answer, but you can compare
"class(1)" with "class(1L)".

Regards,
Pascal

On Thu, May 15, 2014 at 7:54 PM, Alexander Engelhardt
<alex at chaotic-neutral.de> wrote:
> Hello R-help,
>
> I keep noticing R functions that don't compare integers like
>   if(x == 2)
> but instead
>   if(x == 2L)
>
> Is this a long integer? Also, when do the two notations have a different
> effect on the code?
>
> Thanks in advance,
>  Alex
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From ripley at stats.ox.ac.uk  Thu May 15 13:06:27 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 May 2014 12:06:27 +0100
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
In-Reply-To: <53749CD3.8080200@chaotic-neutral.de>
References: <53749CD3.8080200@chaotic-neutral.de>
Message-ID: <53749FB3.9010205@stats.ox.ac.uk>

On 15/05/2014 11:54, Alexander Engelhardt wrote:
> Hello R-help,
>
> I keep noticing R functions that don't compare integers like
>    if(x == 2)
> but instead
>    if(x == 2L)
>
> Is this a long integer? Also, when do the two notations have a different
> effect on the code?

2L is an integer. both in the mathematical sense and the sense of 
typeof().  2 is a double with a value that is a mathematical integer. 
They are stored differently, and in x == 2 'x' will be coerced to 
double, often unnecessarily.  Which is why careful authors write e.g.

length(x) == 2L

as length() the vast majority of the time gives an integer (especially 
where length-2 is expected).

> Thanks in advance,
>   Alex


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mir.salam at uef.fi  Thu May 15 13:21:58 2014
From: mir.salam at uef.fi (Mir Salam)
Date: Thu, 15 May 2014 11:21:58 +0000
Subject: [R] needs help in augented plot
Message-ID: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/c76b8f0e/attachment.pl>

From smartpink111 at yahoo.com  Thu May 15 13:26:53 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 04:26:53 -0700 (PDT)
Subject: [R] for loop using index values
In-Reply-To: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
References: <CA+g3nKTVn9aCuBC9ZpG8SbEhvjPKrweo102S=0TYEttXQX78qg@mail.gmail.com>
Message-ID: <1400153213.30009.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,

Not sure I understand correctly.? May be this helps:
##If the blocks are created as a list
set.seed(475)
?lst1 <- setNames(lapply(1:10, function(i) {rowN <- sample(20,1)*15; matrix(sample(40,10*rowN, replace=TRUE), nrow=rowN)}),1:10) 

sapply(lst1,nrow)>100
?#?? 1???? 2???? 3???? 4???? 5???? 6???? 7???? 8???? 9??? 10 
?#TRUE? TRUE? TRUE? TRUE? TRUE FALSE? TRUE FALSE? TRUE? TRUE 
sapply(lst1[sapply(lst1,nrow)>100],mean)
##
lapply(lst1[sapply(lst1,nrow)>100],summary)

A.K.





On Thursday, May 15, 2014 12:26 AM, David Gwenzi <dgwenzi at gmail.com> wrote:
Hi all

I have point data along a transect and I want to divide the transect into
small blocks of 10m length each. I have named the blocks as a list i.e
subset[[i]]. Now the issue is I want to process only those blocks that have
at least 100 data points and keep the original index values of those
subsets. How do I set the for loop. I have tried the following but it is
still processing everything

select<-which(nrow(subset[[i]])>=100
for (i in c(select)){
..............
}
Thank you in advance,

David Gwenzi
Graduate Degree Program in Ecology
Natural Resources Ecology Lab
Colorado State University

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From economics.vikram at gmail.com  Thu May 15 13:32:01 2014
From: economics.vikram at gmail.com (Vikram Bahure)
Date: Thu, 15 May 2014 17:02:01 +0530
Subject: [R] ggplot barplot error
Message-ID: <CAEfYxiWekJwP_BwahsFxueseOo8bmq1HeY5w5A0bZYNgMAcN=g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/4376efe5/attachment.pl>

From smartpink111 at yahoo.com  Thu May 15 13:56:36 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 04:56:36 -0700 (PDT)
Subject: [R] ggplot barplot error
Message-ID: <1400154996.30009.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,

Please post in plain text. (lots of "*")

May be this helps:

Date <-
c("2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-07",
"2014-04-09","2014-04-10","2014-04-01","2014-04-02","2014-04-03",
"2014-04-04","2014-04-07","2014-04-09","2014-04-10")
Flows <- c(479.6,187.2,? 148.6,?? 41.5,? 123.5,? 176.3,?? 68.3,? 401.5,
?????????? -164.2, -195.5, 35.1, -224.0,? -58.6, -138.9)
Category <- c("Equity", "Equity", "Equity", "Equity", "Equity", "Equity",
????????????? "Equity", "Debt", "Debt",?? "Debt",?? "Debt",?? "Debt",
????????????? "Debt",? "Debt")
#data1 <- cbind(Date,Flows,Category) ##gives matrix output
data1 <- data.frame(Date, Flows, Category)

library(ggplot2)
?
dat1 <- subset(data1,Flows >= 0)
dat2 <- subset(data1,Flows < 0)
ggplot() + 
??? geom_bar(data = dat1, aes(x=Date, y=Flows, fill=Category),stat = "identity", position="identity") +
??? geom_bar(data = dat2, aes(x=Date, y=Flows, fill=Category),stat = "identity", position="identity")


A.K.


Hi,

I am facing issue with ggplot plotting. I have given the data and the code
below. I have also attached the graph below.

Problem:
On date "*2014-04-07*", we have debt and equity flow, but it does not shows
equity flow. Ideally what I would like is the stack for debt/equity starts
from X axis.

*## Data*
*Date <-
c("2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-07",*
*
"2014-04-09","2014-04-10","2014-04-01","2014-04-02","2014-04-03",*
*????????? "2014-04-04","2014-04-07","2014-04-09","2014-04-10")*
*Flows <- c(479.6,187.2,? 148.6,?? 41.5,? 123.5,? 176.3,?? 68.3,? 401.5,*
*?????????? -164.2, -195.5, 35.1, -224.0,? -58.6, -138.9)*
*Category <- c("Equity", "Equity", "Equity", "Equity", "Equity", "Equity",*
*????????????? "Equity", "Debt", "Debt",?? "Debt",?? "Debt",?? "Debt",*
*????????????? "Debt",? "Debt")*
*data <- cbind(Date,Flows,Category)*

*## GGplot*
*ggplot(data = fii.df, aes(x = Date, y = FII, fill = Category)) +
geom_bar(stat="identity") *

Thanks in advance.

Regards
Vikram Bahure 



From varinsacha at yahoo.fr  Thu May 15 13:56:54 2014
From: varinsacha at yahoo.fr (varin sacha)
Date: Thu, 15 May 2014 12:56:54 +0100 (BST)
Subject: [R] Bootstrapping the prediction intervals for regression
In-Reply-To: <53749E96.6060801@sapo.pt>
References: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>
	<53749E96.6060801@sapo.pt>
Message-ID: <1400155014.39756.YahooMailNeo@web171304.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/2fea173d/attachment.pl>

From alex at chaotic-neutral.de  Thu May 15 13:57:59 2014
From: alex at chaotic-neutral.de (Alexander Engelhardt)
Date: Thu, 15 May 2014 13:57:59 +0200
Subject: [R] Why are integers coded as e.g. "2L" in R functions?
In-Reply-To: <53749FB3.9010205@stats.ox.ac.uk>
References: <53749CD3.8080200@chaotic-neutral.de>
	<53749FB3.9010205@stats.ox.ac.uk>
Message-ID: <5374ABC7.1040301@chaotic-neutral.de>

So in essence, it always provides the same output, but saves space and 
speed.

Thanks everyone!
  - Alex

On 05/15/2014 01:06 PM, Prof Brian Ripley wrote:
> On 15/05/2014 11:54, Alexander Engelhardt wrote:
>> Hello R-help,
>>
>> I keep noticing R functions that don't compare integers like
>>    if(x == 2)
>> but instead
>>    if(x == 2L)
>>
>> Is this a long integer? Also, when do the two notations have a different
>> effect on the code?
>
> 2L is an integer. both in the mathematical sense and the sense of
> typeof().  2 is a double with a value that is a mathematical integer.
> They are stored differently, and in x == 2 'x' will be coerced to
> double, often unnecessarily.  Which is why careful authors write e.g.
>
> length(x) == 2L
>
> as length() the vast majority of the time gives an integer (especially
> where length-2 is expected).
>
>> Thanks in advance,
>>   Alex
>
>


From frtog at vestas.com  Thu May 15 14:09:25 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Thu, 15 May 2014 14:09:25 +0200
Subject: [R] needs help in augented plot
In-Reply-To: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>
References: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C61AD779@DKRDSEXC016.vestas.net>

Dear Salam

So you apparently did not read the posting guide as you were supposed to when joining this list????

Every email from the list has this footer:

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

So why didn't you provide commented, minimal, self-contained, reproducible code????

Well the man page for augPred has this example:

     fm1 <- lme(Orthodont, random = ~1)
     augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))

>From this you can

plot(augFM1)

Is it something like this you want:

plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main = "Testing")

????

Or this:

plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))

????

If the latter I will leave it as an exercise to you to change the default strip height. Google for r lattice strip height

Have a nice day.


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Mir Salam
> Sent: 15. maj 2014 13:22
> To: R-help at r-project.org
> Subject: [R] needs help in augented plot
> 
> Dear all,
> 
> I have problem in augmented plot to reduce the text (font ) size in heading
> of each plot. I have 68 plots and in augmented plot, I have heading of 68 plots
> in a panel. The headline of each plot  coded with plot characteristic, but the
> text seems to be big. How I will reduce the text size?
> 
> R code
> 
> plot(augPred(fm3cham.nlme),cex=0.5))
> 
> 
> Best regards
> Salam
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From abhinabaroy09 at gmail.com  Thu May 15 14:31:33 2014
From: abhinabaroy09 at gmail.com (Abhinaba Roy)
Date: Thu, 15 May 2014 18:01:33 +0530
Subject: [R] Manipulating dataframes
Message-ID: <CANtKHPVTFgjCiT4jDXFFohNq4drFdhPuWsE8UtYrYwqEoSZyTw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/1567fa5d/attachment.pl>

From ligges at statistik.tu-dortmund.de  Thu May 15 14:34:46 2014
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Thu, 15 May 2014 14:34:46 +0200
Subject: [R] find an empty char in the name of a vector
In-Reply-To: <1400148740.24490.YahooMailNeo@web121501.mail.ne1.yahoo.com>
References: <1400148740.24490.YahooMailNeo@web121501.mail.ne1.yahoo.com>
Message-ID: <5374B466.6070101@statistik.tu-dortmund.de>



On 15.05.2014 12:12, carol white wrote:
> Hi,
> I have a vector with the name of an element that is empty. How can I find out the index of this element? The following doesn't work:
>
> empty.char = grep('[:blank:||:space:]' ,names(v))
> if (length(empty.char)>0)
>      ....

  grep("^[[:space:]]*$", c(x,y))



> How about if the name of one element is g_ and the name of other elements g_anyword     where any word contain alphanumeric characters and I want to find the one whose name contain only g_?

  grep("g_$", names(v))


Uwe Ligges

>
> Cheers,
>
> Carol
>
> 	[[alternative HTML version deleted]]
>
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From gunter.berton at gene.com  Thu May 15 14:43:58 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 15 May 2014 05:43:58 -0700
Subject: [R] Bootstrapping the prediction intervals for regression
In-Reply-To: <53749E96.6060801@sapo.pt>
References: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>
	<53749E96.6060801@sapo.pt>
Message-ID: <CACk-te0zBWn2rQyhOgwEyHy3S_SEKXBxTq+LYrbG5bZVWXNFCQ@mail.gmail.com>

Please note that this can (and should) be considerably sped up by
taking advantage of the fact that lm() will work on a matrix of
responses. Also, some improvement in speed can usually be obtained by
generating all samples at once rather than generating the sample each
time within a loop.

something like (untested):

nr <- nrow(dat)
ymat <- matrix(with(dat,sample(y,100*nr,rep=TRUE)), nrow =nr)
out <- lm(ymat ~x1+x2,data=dat)
b <- predict(out)

However, why do this anyway, as for linear models the standard closed
form solutions are available?

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 15, 2014 at 4:01 AM, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> Try to follow the example below and see if you can adapt it to your needs.
> Since you don't provide us with a dataset example, I start by making up
> some.
>
>
> # make up some data
> n <- 22
> set.seed(8873)
> dat <- data.frame(x1 = rnorm(n), x2 = rnorm(n))
> dat$y <- x1 + x2 + rnorm(n)
>
>
> B <- 100  # number of bootstrap samples
> result <- array(dim = c(n, 3, B), dimnames = list(NULL, c("fit", "upr",
> "lwr"), NULL))
> for(i in 1:B){
>         s <- sample(nrow(dat), n, replace = TRUE)
>         lm.tmp <- lm(y ~ x1 + x2, data = dat[s, ])
>         result[,,i] <- predict(lm.tmp, interval = "prediction")
> }
>
>
> Then you can do whatever you want with 'result', including computing the min
> and max values.
>
>
> Hope this helps,
>
> Rui Barradas
>
> Em 15-05-2014 10:37, varin sacha escreveu:
>>
>> Dear experts,
>>>
>>>
>>>
>>> I have done a multiple linear regression on a small sample size (n=22).
>>> I have computed the prediction intervals (not the confidence intervals).
>>>
>>>
>>> Now I am trying to bootstrap the prediction intervals.
>>>
>>>
>>> I didn't find any package doing that.
>>> So I decide to create my own R function, but it doesn't work !
>>>
>>>
>>> Here are my R codes :
>>>
>>>
>>> LinearModel.1 <- lm(GDP.per.head ~ Competitivness.score +Quality.score,
>>> data=Dataset)
>>> summary(LinearModel.1)
>>> predict(LinearModel.1, interval = "prediction")
>>>
>>>
>>> HERE IS MY R FUNCTION WHERE I HAVE TRIED TO BOOTSTRAP THE PREDICTION
>>> INTERVALS
>>>
>>>
>>> pred.min<-rep(nrow(Dataset), na.rm=F)
>>> pred.max<-rep(nrow(Dataset), na.rm=F)
>>> for(i in 1:n)
>>> {s<-sample(1:nrow(Dataset),size=22)
>>> reg<-lm(GDP.per.head ~ Competitivness.score +
>>> Quality.score,data=Dataset[s])
>>> pred.min<-pmin(reg,pred.min)
>>> pred.max<-pmax(reg,pred.max)}
>>>
>>>
>>> Thanks for your precious help.
>>>
>>>
>>         [[alternative HTML version deleted]]
>>
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From therneau at mayo.edu  Thu May 15 15:26:22 2014
From: therneau at mayo.edu (Therneau, Terry M., Ph.D.)
Date: Thu, 15 May 2014 08:26:22 -0500
Subject: [R] lognormal frailey
In-Reply-To: <mailman.29.1400148010.20517.r-help@r-project.org>
References: <mailman.29.1400148010.20517.r-help@r-project.org>
Message-ID: <3dfcdc$grvebr@ironport9.mayo.edu>

For log-normal you can use the coxme package instead.

On 05/15/2014 05:00 AM, r-help-request at r-project.org wrote:
> Hi everyone
>
> I am attempting to estimate a model with a frailty effect distributed as
> a lognormal variable.I am using the following code:
> frailtyPenal(formula, data, ..., RandDist = "LogN")
>
> I get the following error message:
> Error in frailtyPenal(Surv(,) ~  + ,  :
>     unused argument(s) (RandDist = "")
>
> What can I do? Thanks for the help


From HLiao at odu.edu  Thu May 15 15:46:13 2014
From: HLiao at odu.edu (Liao, Hongsheng)
Date: Thu, 15 May 2014 13:46:13 +0000
Subject: [R] How to make a Latex table using R
Message-ID: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/eab32a41/attachment.pl>

From luca.cerone at gmail.com  Thu May 15 16:09:47 2014
From: luca.cerone at gmail.com (Luca Cerone)
Date: Thu, 15 May 2014 16:09:47 +0200
Subject: [R] How to make a Latex table using R
In-Reply-To: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
Message-ID: <CAFnz2-8NZvn4qgbYKJvM6_58hhJK2A+S8U+uqioSRJO3Ks3A-A@mail.gmail.com>

Hi Liao,
I think that the purpose of the package is actually to create the
latex code to insert into Latex documents.
If you want to see it displayed you have to compile it with latex; the
document you have sent says that that is a gallery to show
the different kind of tables you can create.


2014-05-15 15:46 GMT+02:00 Liao, Hongsheng <HLiao at odu.edu>:
> http://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf
>
> I am trying to learn how to make a Latex table using R from the link above.  However, instead of a Latex table as showed in the link, the R codes from the link generate actual Latex codes as follows:
>
> % latex table generated in R 3.1.0 by xtable 1.7-3 package
> % Thu May 15 09:21:18 2014
> \begin{tabular}{rrlllr}
>   \hline
>  & grade & sex & disadvg & ethnicty & tlimth \\
>   \hline
> 1 & 6 & M & YES & HISPANIC & 43 \\
>   2 & 7 & M & NO & BLACK & 88 \\
>   3 & 5 & F & YES & HISPANIC & 34 \\
>   4 & 3 & M & YES & HISPANIC & 65 \\
>   5 & 8 & M & YES & WHITE & 75 \\
>   6 & 5 & M & NO & BLACK & 74 \\
>   7 & 8 & F & YES & HISPANIC & 72 \\
>   8 & 4 & M & YES & BLACK & 79 \\
>   9 & 6 & M & NO & WHITE & 88 \\
>   10 & 7 & M & YES & HISPANIC & 87 \\
>    \hline
> \end{tabular}
>
> I have TeX Live 2013 installed in my computer.  It doesn't help, either.  Should I need some kind of connection (software or codes) between R and Latex?  Thanks.
>
>
> Hongsheng (Hank) Liao, PhD.
> Lab Manager
> Center for Quantitative  Fisheries Ecology
> Old Dominion University
> 757-683-4571
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From djmuser at gmail.com  Thu May 15 16:42:15 2014
From: djmuser at gmail.com (Dennis Murphy)
Date: Thu, 15 May 2014 07:42:15 -0700
Subject: [R] ggplot barplot error
In-Reply-To: <CAEfYxiWekJwP_BwahsFxueseOo8bmq1HeY5w5A0bZYNgMAcN=g@mail.gmail.com>
References: <CAEfYxiWekJwP_BwahsFxueseOo8bmq1HeY5w5A0bZYNgMAcN=g@mail.gmail.com>
Message-ID: <CADv2QyHJ1KAZs5-JtY=sDFWuZLzmn1pE9DoEobF390_yLcC2vw@mail.gmail.com>

Hi:

There are several options, but you shot yourself in the foot by using
cbind() to combine objects of different classes into a matrix, so
everything ends up being a factor because a matrix is an atomic object
with a dim attribute, and atomic objects must have a common class, so
Flows and Category are coerced to factors. What you want is to combine
your atomic objects into a data frame, since that is what ggplot()
requires:

#------
Date <- c("2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-07",
          "2014-04-09","2014-04-10","2014-04-01","2014-04-02","2014-04-03",
          "2014-04-04","2014-04-07","2014-04-09","2014-04-10")

Flows <- c(479.6, 187.2,  148.6,   41.5,  123.5,  176.3,   68.3,  401.5,
           -164.2, -195.5, 35.1, -224.0,  -58.6, -138.9)

Category <- c("Equity", "Equity", "Equity", "Equity", "Equity", "Equity",
              "Equity", "Debt", "Debt",   "Debt",   "Debt",   "Debt",
              "Debt",  "Debt")

# Use data.frame, not cbind
DF <- data.frame(Date, Flows, Category)

#-----

Your ggplot() code will "work", but probably not the way you intended.
Here are a couple of versions of your initial plot:

#------
library(ggplot2)

# Initial plot, stacked
ggplot(data = DF, aes(x = Date, y = Flows, fill = Category)) +
    geom_bar(stat="identity")

# Initial plot, dodged
ggplot(data = DF, aes(x = Date, y = Flows, fill = Category)) +
    geom_bar(stat="identity", position = "dodge")
#------


I'm guessing what you want is to 'stack' the dodged version above; if
so, you need to plot the two groups separately and create a fill
factor 'on the fly':

#---
# "Stacking" the dodged plot - requires separate calls
# to each subset so that zero is the anchor

ggplot(data = DF, mapping = aes(x = Date, y = Flows)) +
    geom_bar(data = subset(DF, Category == "Equity"),
             stat = "identity", aes(fill = "Equity")) +
    geom_bar(data = subset(DF, Category == "Debt"),
             stat = "identity", aes(fill = "Debt")) +
    scale_fill_manual("Category",
                      values = c("Equity" = "blue", "Debt" = "red"))
#---


If you want to plot on the actual dates rather than the given dates,
and perhaps to change the date format since the year is common, here
is one way to do it:

#---
# Convert to Date format so that we can plot by actual date
DF$Date <- as.Date(as.character(DF$Date))

# Need scales package to change date format
library(scales)

ggplot(data = DF, mapping = aes(x = Date, y = Flows)) +
    geom_bar(data = subset(DF, Category == "Equity"),
             stat = "identity", aes(fill = "Equity")) +
    geom_bar(data = subset(DF, Category == "Debt"),
             stat = "identity", aes(fill = "Debt")) +
    scale_fill_manual("Category",
                      values = c("Equity" = "blue", "Debt" = "red")) +
    scale_x_date(labels = date_format("%m-%d"))
#---



I hope this covers your use case.

Dennis

On Thu, May 15, 2014 at 4:32 AM, Vikram Bahure
<economics.vikram at gmail.com> wrote:
> Hi,
>
> I am facing issue with ggplot plotting. I have given the data and the code
> below. I have also attached the graph below.
>
> Problem:
> On date "*2014-04-07*", we have debt and equity flow, but it does not shows
> equity flow. Ideally what I would like is the stack for debt/equity starts
> from X axis.
>
> *## Data*
> *Date <-
> c("2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-07",*
> *
> "2014-04-09","2014-04-10","2014-04-01","2014-04-02","2014-04-03",*
> *          "2014-04-04","2014-04-07","2014-04-09","2014-04-10")*
> *Flows <- c(479.6,187.2,  148.6,   41.5,  123.5,  176.3,   68.3,  401.5,*
> *           -164.2, -195.5, 35.1, -224.0,  -58.6, -138.9)*
> *Category <- c("Equity", "Equity", "Equity", "Equity", "Equity", "Equity",*
> *              "Equity", "Debt", "Debt",   "Debt",   "Debt",   "Debt",*
> *              "Debt",  "Debt")*
> *data <- cbind(Date,Flows,Category)*
>
> *## GGplot*
> *ggplot(data = fii.df, aes(x = Date, y = FII, fill = Category)) +
> geom_bar(stat="identity") *
>
> Thanks in advance.
>
> Regards
> Vikram Bahure
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch.duncan at gmail.com  Thu May 15 16:47:24 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 15 May 2014 10:47:24 -0400
Subject: [R] How to make a Latex table using R
In-Reply-To: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
Message-ID: <5374D37C.3060007@gmail.com>

On 15/05/2014 9:46 AM, Liao, Hongsheng wrote:
> http://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf
>
> I am trying to learn how to make a Latex table using R from the link above.  However, instead of a Latex table as showed in the link, the R codes from the link generate actual Latex codes as follows:
>
> % latex table generated in R 3.1.0 by xtable 1.7-3 package
> % Thu May 15 09:21:18 2014
> \begin{tabular}{rrlllr}
>    \hline
>   & grade & sex & disadvg & ethnicty & tlimth \\
>    \hline
> 1 & 6 & M & YES & HISPANIC & 43 \\
>    2 & 7 & M & NO & BLACK & 88 \\
>    3 & 5 & F & YES & HISPANIC & 34 \\
>    4 & 3 & M & YES & HISPANIC & 65 \\
>    5 & 8 & M & YES & WHITE & 75 \\
>    6 & 5 & M & NO & BLACK & 74 \\
>    7 & 8 & F & YES & HISPANIC & 72 \\
>    8 & 4 & M & YES & BLACK & 79 \\
>    9 & 6 & M & NO & WHITE & 88 \\
>    10 & 7 & M & YES & HISPANIC & 87 \\
>     \hline
> \end{tabular}
>
> I have TeX Live 2013 installed in my computer.  It doesn't help, either.  Should I need some kind of connection (software or codes) between R and Latex?  Thanks.

The xtable package produces LaTeX code to insert into a LaTeX document.  
You need to cut and paste it into your document,
or use Sweave or knitr to insert it automatically.  A minimal LaTeX 
document might look like this:

\documentclass{article}
\begin{document}

Insert the code here

\end{document}

You would save that in a file with a file extension .tex, and run latex 
or pdflatex on it.  To do the latter you can run those programs from the 
command line, or from varous editors, e.g. TeXWorks.

Duncan Murdoch


From acos at dpi.inpe.br  Thu May 15 16:07:58 2014
From: acos at dpi.inpe.br (=?iso-8859-1?Q?Alexsandro_C=E2ndido_de_Oliveira_Silva?=)
Date: Thu, 15 May 2014 11:07:58 -0300
Subject: [R] Bayesian Network
Message-ID: <00a001cf7047$133a98f0$39afcad0$@dpi.inpe.br>

Um texto embutido e sem conjunto de caracteres especificado foi limpo...
Nome: n?o dispon?vel
Url: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/4d1eac3c/attachment.pl>

From gunter.berton at gene.com  Thu May 15 17:07:31 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 15 May 2014 08:07:31 -0700
Subject: [R] Bayesian Network
In-Reply-To: <00a001cf7047$133a98f0$39afcad0$@dpi.inpe.br>
References: <00a001cf7047$133a98f0$39afcad0$@dpi.inpe.br>
Message-ID: <CACk-te0V0R05NBwkN_s1f5jT+Uc2iL875PcmmSgof9gLsicmZQ@mail.gmail.com>

Wrong list. This is about R programming.

Post on a statistics list like stats.stackexchange.com for statistical
discussions.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 15, 2014 at 7:07 AM, Alexsandro C?ndido de Oliveira Silva
<acos at dpi.inpe.br> wrote:
> Hello everybody!
>
> I have worked with Bayesian Network in R. Currently, the algorithm interacts
> with the user to define the model graphic.  But now I would like automate
> it. Today I found out the BNLEARN package that implements some algorithms
> (gs, iamb, fast.iamb, hc, mmhc...) for learning the structure of Bayesian
> networks. So, what your experiences about the algorithms? What is the best?
>
>
>
> Thanks a lot.
>
>
>
> Att.
>
> Alexsandro C?ndido de Oliveira Silva
>
> ____________________________________________________________________________
> _______
>
>
>
>
>
> ---
> Este email est? limpo de v?rus e malwares porque a prote??o do avast! Antiv?rus est? ativa.
> http://www.avast.com
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From smartpink111 at yahoo.com  Thu May 15 17:34:23 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 08:34:23 -0700 (PDT)
Subject: [R] Manipulating dataframes
In-Reply-To: <CANtKHPVTFgjCiT4jDXFFohNq4drFdhPuWsE8UtYrYwqEoSZyTw@mail.gmail.com>
References: <CANtKHPVTFgjCiT4jDXFFohNq4drFdhPuWsE8UtYrYwqEoSZyTw@mail.gmail.com>
Message-ID: <1400168063.51569.YahooMailNeo@web142601.mail.bf1.yahoo.com>



Hi,

May be this helps:

dat <- read.table(text="ID??? YEAR_MONTH??? ATT_1??? ATT_2
1??? 201301?????????????????? Y????????? 1
1??? 201302?????????????????? Y????????? 1
1??? 201302?????????????????? N????????? 0
1??? 201302?????????????????? Y????????? 0
1??? 201303?????????????????? N????????? 1
3??? 201301?????????????????? N????????? 1
3??? 201302?????????????????? N????????? 0
3??? 201302?????????????????? Y????????? 0
3??? 201302?????????????????? Y????????? 1
3??? 201303?????????????????? Y????????? 1",sep="",header=TRUE,stringsAsFactors=FALSE)


res <- read.table(text="ID??? YEAR_MONTH??? YEARMONTH_LAG1??? ATT1_CHNG? ATT2_CHNG
1????? 201301?????????????????? NA?????????????????????????????????? NA????????? NA
1????? 201302??????????????? 201301??????????????????????????????? 0??????????? 0
1????? 201303??????????????? 201302??????????????????????????????? 2??????????? 1
3????? 201301????????????????? NA??????????????????????????????????? NA???????? NA
3????? 201302??????????????? 201301??????????????????????????????? 0?????????? 0
3????? 201303??????????????? 201302??????????????????????????????? 1?????????? 1",sep="",header=TRUE) 


dat$YEARMONTH_LAG1 <- with(dat, ave(YEAR_MONTH, ID, FUN = function(x) c(NA, head(x, 
??? -1))))

res1 <- unsplit(lapply(split(dat, list(dat$ID, dat$YEAR_MONTH), drop = FALSE), function(x) {
??? within(x, {
??????? ATT2_CHNG <- sum(ATT_2[-1] != ATT_2[-nrow(x)])
??????? ATT1_CHNG <- sum(ATT_1[-1] != ATT_1[-nrow(x)])
??? })
??? 
}), list(dat$ID, dat$YEAR_MONTH))
res2 <- res1[!with(res1, ave(YEAR_MONTH, list(ID), FUN = function(x) duplicated(x))), 
??? c(1:2, 5:7)]
res2[, 4:5] <- lapply(res2[, 4:5], function(x) ave(x, res2$ID, FUN = function(x) c(NA, 
??? x[-length(x)])))
row.names(res2) <- 1:nrow(res2)
identical(res, res2)
#[1] TRUE

A.K.


On Thursday, May 15, 2014 11:31 AM, Abhinaba Roy <abhinabaroy09 at gmail.com> wrote:
Hi R-helpers,

I have a dataframe as shown below

ID? ? YEAR_MONTH? ? ATT_1? ? ATT_2
1? ? 201301? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 1
1? ? 201302? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 1
1? ? 201302? ? ? ? ? ? ? ? ?  N? ? ? ? ? 0
1? ? 201302? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 0
1? ? 201303? ? ? ? ? ? ? ? ?  N? ? ? ? ? 1
3? ? 201301? ? ? ? ? ? ? ? ?  N? ? ? ? ? 1
3? ? 201302? ? ? ? ? ? ? ? ?  N? ? ? ? ? 0
3? ? 201302? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 0
3? ? 201302? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 1
3? ? 201303? ? ? ? ? ? ? ? ?  Y? ? ? ? ? 1

The final dataframe I want should look like

ID? ? YEAR_MONTH? ? YEARMONTH_LAG1? ? ATT1_CHNG? ATT2_CHNG
1? ? ? 201301? ? ? ? ? ? ? ? ?  NA? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  NA
? ? ? ?  NA
1? ? ? 201302? ? ? ? ? ? ? ? 201301? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
? ? ? ? ?  0
1? ? ? 201303? ? ? ? ? ? ? ? 201302? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 2
? ? ? ? ?  1
3? ? ? 201301? ? ? ? ? ? ? ? ? NA? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? NA
? ? ? ?  NA
3? ? ? 201302? ? ? ? ? ? ? ? 201301? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
? ? ? ? ?  0
3? ? ? 201303? ? ? ? ? ? ? ? 201302? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
? ? ? ? ?  1

Note:
1. 'YEARMONTH_LAG1 ' is the previous month corresponding to the current
month. E.g., if YEAR_MONTH == 201301 then YEARMONTH_LAG1 = NA (as there is
no record for 201212, and there is none in my data as all starts from
201201). Similarly if YEAR_MONTH == 201302 then YEARMONTH_LAG1 = 201301.

2. ATT1_CHNG is the number of times the level has changed (i.e., from Y to
N and vice-verse) for 'ATT_1' in the previous month (i.e., in
YEARMONTH_LAG1)

3. ATT2_CHNG is the number of times the level has changed (i.e., from 0 to
1 and vice-verse) for ATT_2 in the previous month

How can this be done in R?
-- 
Regards
Abhinaba Roy

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From nourhan.iyte at hotmail.com  Thu May 15 18:10:48 2014
From: nourhan.iyte at hotmail.com (nourhan iyte)
Date: Thu, 15 May 2014 19:10:48 +0300
Subject: [R] Help install sann package for Simulated Annealing
In-Reply-To: <BAY181-W46701B86864899DAD809CF81370@phx.gbl>
References: <1399496122003-4690142.post@n4.nabble.com>,
	<loom.20140508T234611-559@post.gmane.org>,
	<BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>,
	<BAY181-W46701B86864899DAD809CF81370@phx.gbl>
Message-ID: <BAY181-W880AC8DD5E2AE9167D836681360@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/529f39a2/attachment.pl>

From ripley at stats.ox.ac.uk  Thu May 15 18:33:47 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 May 2014 17:33:47 +0100
Subject: [R] Help install sann package for Simulated Annealing
In-Reply-To: <BAY181-W880AC8DD5E2AE9167D836681360@phx.gbl>
References: <1399496122003-4690142.post@n4.nabble.com>,
	<loom.20140508T234611-559@post.gmane.org>,
	<BAY181-W46E7132561406D24AC4A2F81350@phx.gbl>,
	<BAY181-W46701B86864899DAD809CF81370@phx.gbl>
	<BAY181-W880AC8DD5E2AE9167D836681360@phx.gbl>
Message-ID: <5374EC6B.8090909@stats.ox.ac.uk>

Please do not repeat post: this is 
https://stat.ethz.ch/pipermail/r-help/2014-May/374643.html .

There is no such package on CRAN, probably your default repository. 
(And R package names are case sensitive: neither sann not SANN exist there.)

You will need to specify where to find it if indeed it exists: ask the 
person who told you about it.

On 15/05/2014 17:10, nourhan iyte wrote:
>
>
>
>
> Dear all,
> I try to install the package SANN but unfortunatly received this warning
> Warning in install.packages :
>    package ?sann? is not available (for R version 3.0.3)
>
>
>
> do yo know how can i solve this?
>
> or
>   if you know another helping package with example to be used for
> simulated annealing algorithm implementation please let me know

See ?optim.

>
> thank in advance
>
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
PLEASE do.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From smartpink111 at yahoo.com  Thu May 15 19:39:48 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 15 May 2014 10:39:48 -0700 (PDT)
Subject: [R] find an empty char in the name of a vector
In-Reply-To: <1400150202.81507.YahooMailNeo@web142601.mail.bf1.yahoo.com>
References: <1400150202.81507.YahooMailNeo@web142601.mail.bf1.yahoo.com>
Message-ID: <1400175588.86591.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,

Hi,

If the names vector is similar to below:
v2 <- c("g_", "", " ","g2","??????? ", "g3")
grep("^$| +",v2)
#[1] 2 3 5
#or
?grep("^\\s*$",v2)
#[1] 2 3 5

A.K.


On Thursday, May 15, 2014 6:36 AM, arun <smartpink111 at yahoo.com> wrote:
Hi,
Assuming that this is the case:
v2 <- c("g_", "", "g2","g3")
?which(v2=="")
#[1] 2


##Second question
v1 <- c("g_", "g_w1", "g_w2", "g_bc3")
grepl("\\bg_\\b",v1)
#[1]? TRUE FALSE FALSE FALSE

v1[grepl("\\bg_\\b",v1)]
#[1] "g_"

A.K.




Hi,
I have a vector with the name of an element that is empty. How can I find out the index of this element? The following doesn't work:

empty.char = grep('[:blank:||:space:]' ,names(v))
if (length(empty.char)>0)
??? ....

How about if the name of one element is g_ and the name of other elements g_anyword???? where any word contain alphanumeric characters and I want to find the one whose name contain only g_?

Cheers,

Carol


From varinsacha at yahoo.fr  Thu May 15 20:21:27 2014
From: varinsacha at yahoo.fr (varin sacha)
Date: Thu, 15 May 2014 19:21:27 +0100 (BST)
Subject: [R] Bootstrapping the prediction intervals for regression
In-Reply-To: <CACk-te0zBWn2rQyhOgwEyHy3S_SEKXBxTq+LYrbG5bZVWXNFCQ@mail.gmail.com>
References: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>	<53749E96.6060801@sapo.pt>
	<CACk-te0zBWn2rQyhOgwEyHy3S_SEKXBxTq+LYrbG5bZVWXNFCQ@mail.gmail.com>
Message-ID: <1400178087.32138.YahooMailNeo@web171305.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/61501f6f/attachment.pl>

From ruipbarradas at sapo.pt  Thu May 15 20:52:27 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 15 May 2014 19:52:27 +0100
Subject: [R] Bootstrapping the prediction intervals for regression
In-Reply-To: <1400178087.32138.YahooMailNeo@web171305.mail.ir2.yahoo.com>
References: <1400146670.9222.YahooMailNeo@web171302.mail.ir2.yahoo.com>	<53749E96.6060801@sapo.pt>
	<CACk-te0zBWn2rQyhOgwEyHy3S_SEKXBxTq+LYrbG5bZVWXNFCQ@mail.gmail.com>
	<1400178087.32138.YahooMailNeo@web171305.mail.ir2.yahoo.com>
Message-ID: <53750CEB.9070109@sapo.pt>

Hello,

The jackknife is used as a bias reduction technique, and since linear 
regression estimates are unbiased I don't see why you should use it.

Rui Barradas

Em 15-05-2014 19:21, varin sacha escreveu:
> Thanks Bert for your suggestion that is working.
>
> To answer to your question, I can say that some econometricians say that
> using bootstrap techniques on a linear regression model when the sample
> size N is small, one of the most interesting purpose is on the
> prediction intervals which is better fitted.
> For me, the bootstrap will give results that are at least as good as the
> normal approximation.
>
> When the sample size N is small, are bootstrap or jackknife better than
> the standard methods for estimating the best fit parameters ?
> What is your opinion about that question ?
>
> Best
>
> Le Jeudi 15 mai 2014 14h44, Bert Gunter <gunter.berton at gene.com> a ?crit :
> Please note that this can (and should) be considerably sped up by
> taking advantage of the fact that lm() will work on a matrix of
> responses. Also, some improvement in speed can usually be obtained by
> generating all samples at once rather than generating the sample each
> time within a loop.
>
> something like (untested):
>
> nr <- nrow(dat)
> ymat <- matrix(with(dat,sample(y,100*nr,rep=TRUE)), nrow =nr)
> out <- lm(ymat ~x1+x2,data=dat)
> b <- predict(out)
>
> However, why do this anyway, as for linear models the standard closed
> form solutions are available?
>
> Cheers,
> Bert
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Thu, May 15, 2014 at 4:01 AM, Rui Barradas <ruipbarradas at sapo.pt
> <mailto:ruipbarradas at sapo.pt>> wrote:
>  > Hello,
>  >
>  > Try to follow the example below and see if you can adapt it to your
> needs.
>  > Since you don't provide us with a dataset example, I start by making up
>  > some.
>  >
>  >
>  > # make up some data
>  > n <- 22
>  > set.seed(8873)
>  > dat <- data.frame(x1 = rnorm(n), x2 = rnorm(n))
>  > dat$y <- x1 + x2 + rnorm(n)
>  >
>  >
>  > B <- 100  # number of bootstrap samples
>  > result <- array(dim = c(n, 3, B), dimnames = list(NULL, c("fit", "upr",
>  > "lwr"), NULL))
>  > for(i in 1:B){
>  >        s <- sample(nrow(dat), n, replace = TRUE)
>  >        lm.tmp <- lm(y ~ x1 + x2, data = dat[s, ])
>  >        result[,,i] <- predict(lm.tmp, interval = "prediction")
>  > }
>  >
>  >
>  > Then you can do whatever you want with 'result', including computing
> the min
>  > and max values.
>  >
>  >
>  > Hope this helps,
>  >
>  > Rui Barradas
>  >
>  > Em 15-05-2014 10:37, varin sacha escreveu:
>  >>
>  >> Dear experts,
>  >>>
>  >>>
>  >>>
>  >>> I have done a multiple linear regression on a small sample size (n=22).
>  >>> I have computed the prediction intervals (not the confidence
> intervals).
>  >>>
>  >>>
>  >>> Now I am trying to bootstrap the prediction intervals.
>  >>>
>  >>>
>  >>> I didn't find any package doing that.
>  >>> So I decide to create my own R function, but it doesn't work !
>  >>>
>  >>>
>  >>> Here are my R codes :
>  >>>
>  >>>
>  >>> LinearModel.1 <- lm(GDP.per.head ~ Competitivness.score +Quality.score,
>  >>> data=Dataset)
>  >>> summary(LinearModel.1)
>  >>> predict(LinearModel.1, interval = "prediction")
>  >>>
>  >>>
>  >>> HERE IS MY R FUNCTION WHERE I HAVE TRIED TO BOOTSTRAP THE PREDICTION
>  >>> INTERVALS
>  >>>
>  >>>
>  >>> pred.min<-rep(nrow(Dataset), na.rm=F)
>  >>> pred.max<-rep(nrow(Dataset), na.rm=F)
>  >>> for(i in 1:n)
>  >>> {s<-sample(1:nrow(Dataset),size=22)
>  >>> reg<-lm(GDP.per.head ~ Competitivness.score +
>  >>> Quality.score,data=Dataset[s])
>  >>> pred.min<-pmin(reg,pred.min)
>  >>> pred.max<-pmax(reg,pred.max)}
>  >>>
>  >>>
>  >>> Thanks for your precious help.
>  >>>
>  >>>
>  >>        [[alternative HTML version deleted]]
>  >>
>  >>
>  >>
>  >> ______________________________________________
>  >> R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>  >> https://stat.ethz.ch/mailman/listinfo/r-help
>  >> PLEASE do read the posting guide
>  >> http://www.R-project.org/posting-guide.html
> <http://www.r-project.org/posting-guide.html>
>  >> and provide commented, minimal, self-contained, reproducible code.
>
>  >>
>  >
>  > ______________________________________________
>  > R-help at r-project.org <mailto:R-help at r-project.org> mailing list
>  > https://stat.ethz.ch/mailman/listinfo/r-help
>  > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> <http://www.r-project.org/posting-guide.html>
>  > and provide commented, minimal, self-contained, reproducible code.
>
>


From economics.vikram at gmail.com  Thu May 15 21:22:23 2014
From: economics.vikram at gmail.com (Vikram Bahure)
Date: Fri, 16 May 2014 00:52:23 +0530
Subject: [R] ggplot barplot error
In-Reply-To: <CADv2QyHJ1KAZs5-JtY=sDFWuZLzmn1pE9DoEobF390_yLcC2vw@mail.gmail.com>
References: <CAEfYxiWekJwP_BwahsFxueseOo8bmq1HeY5w5A0bZYNgMAcN=g@mail.gmail.com>
	<CADv2QyHJ1KAZs5-JtY=sDFWuZLzmn1pE9DoEobF390_yLcC2vw@mail.gmail.com>
Message-ID: <CAEfYxiVqXFVqZJOyBuGcP90ms9so0jaBvEo=j01fHHcv6huuZA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140516/217c5d5a/attachment.pl>

From arrayprofile at yahoo.com  Thu May 15 18:39:22 2014
From: arrayprofile at yahoo.com (array chip)
Date: Thu, 15 May 2014 09:39:22 -0700 (PDT)
Subject: [R] survival estimates for covariate values
In-Reply-To: <1400124836.70682.YahooMailNeo@web122906.mail.ne1.yahoo.com>
References: <1400124836.70682.YahooMailNeo@web122906.mail.ne1.yahoo.com>
Message-ID: <1400171962.16406.YahooMailNeo@web122903.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/ea816f50/attachment.pl>

From Chantel.Hodgson at students.wits.ac.za  Thu May 15 19:03:03 2014
From: Chantel.Hodgson at students.wits.ac.za (chantel7777777)
Date: Thu, 15 May 2014 10:03:03 -0700 (PDT)
Subject: [R] Markoc chain simulation of a sample path - to get empirical
 probabilities
Message-ID: <1400173383916-4690658.post@n4.nabble.com>

The question:
A computer store sells iPods. If at the end of the day they have 0 or 1 unit
of stock, they order enough new units so that their total number of units on
hand is 5. New merchandise arrives before the store opens the next day.
Demand each day is random with the following distribution

Demand     Probability
     0                0.3
     1                0.4
     2                0.2
     3                0.1 

a) What is the most likely number of units in stock on Friday given that the
store opened with 5 units of stock on Monday?

My assignment is to write an R code that takes as input a transition matrix
and an initial distribution, and then simulates data from which I can
empirically calculate probabilities...


I am confident that my transition matrix is correct, it is 
        0.0  0.0  0.1  0.2  0.4  0.3
        0.0  0.0  0.1  0.2  0.4  0.3
P=    0.3  0.4  0.3  0.0  0.0  0.0
        0.1  0.2  0.4  0.3  0.0  0.0
        0.0  0.1  0.2  0.4  0.3  0.0
        0.0  0.0  0.1  0.2  0.4  0.3
where the row1=o units of stock
               row2= 1 unit of stock....
               row3= 2 units of stock etc, and the columns also follow the
same order

(Manually I know how to do this and I have done so, but I cannot do it in R)
I have the following code:

> set.seed(1413974749)
> mChainSimulation=function(P,pathLength, initDist)
+ {
+   path=numeric(pathLength)
+   path[1]=6 # Because on Monday we open with 5 units of stock (which is
6th state in Markov chain)
+   for(i in 6:pathLength)
+   {
+     path[i]=sample(6, 1 , replace=TRUE,prob=P[path[i-1],])
+   }
+   return(path)
+ }
> numStates=6
> initDist=c(1/6,1/6,1/6,1/6,1/6,1/6)
> P=matrix(c(0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0.1, 0.2, 0.4, 0.3, 0.3, 0.4,
> 0.3, 0, 0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0,
> 0.1, 0.2, 0.4, 0.3),6,6, byrow=T)
> P
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]  0.0  0.0  0.1  0.2  0.4  0.3
[2,]  0.0  0.0  0.1  0.2  0.4  0.3
[3,]  0.3  0.4  0.3  0.0  0.0  0.0
[4,]  0.1  0.2  0.4  0.3  0.0  0.0
[5,]  0.0  0.1  0.2  0.4  0.3  0.0
[6,]  0.0  0.0  0.1  0.2  0.4  0.3
> pathLength=4
> simNum=10000
> stock0Num=0 # number of times in the simulation that it ends on 0 units of
> stock, i.e. in simulations it ends on 1
> stock1Num=0 # number of times in the simulation that it ends on 1 unit of
> stock, i.e in simulations it ends on 2
> stock2Num=0 # number of times in the simulation that it ends on 2 units of
> stock, i.e in simulations it ends on 3
> stock3Num=0 # number of times in the simulation that it ends on 3 units of
> stock, i.e in simulations it ends on 4
> stock4Num=0 # number of times in the simulation that it ends on 4 units of
> stock, i.e in simulations it ends on 5  
> stock5Num=0 # num

!!!!!!!!!!!!!!!!!!! # I get an error here in the next few
lines!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

> for(i in 1:simNum)
+ {
+   pathSimulation=mChainSimulation(P,pathLength, initDist)
+   pathEnd=pathSimulation[pathLength]
+   
+   if(pathEnd==1)
+   {
+     stock0Num=stock0Num+1
+   }
+   if(pathEnd==2)
+   {
+     stock1Num=stock1Num+1
+   }
+   if(pathEnd==3)
+   {
+     stock2Num=stock2Num+1
+   }
+   if(pathEnd==4)
+   {
+     stock3Num=stock3Num+1
+   }
+   if(pathEnd==5)
+   {
+     stock4Num=stock4Num+1
+   }
+   if(pathEnd==6)
+   {
+     stock5Num=stock5Num+1
+   }
+ }
 Hide Traceback
 
 Rerun with Debug
 Error in sample.int(length(x), size, replace, prob) : 
  incorrect number of probabilities 
3 sample.int(length(x), size, replace, prob) 
2 sample(1:numStates, 1, prob = P[path[i - 1], 6]) 
1 mChainSimulation(P, pathLength, initDist) 


I don't know how to fix my error and would greatly appreciate any help.



--
View this message in context: http://r.789695.n4.nabble.com/Markoc-chain-simulation-of-a-sample-path-to-get-empirical-probabilities-tp4690658.html
Sent from the R help mailing list archive at Nabble.com.


From han241 at purdue.edu  Thu May 15 17:47:16 2014
From: han241 at purdue.edu (Mingxuan Han)
Date: Thu, 15 May 2014 08:47:16 -0700 (PDT)
Subject: [R] How to Optimize two functions together in R
Message-ID: <1400168836305-4690654.post@n4.nabble.com>

I am trying to minimize two functions with same set of parameter(x,y). 
Currently I can only use optim() to minimize the each function one by one. 
Is there any solution I can use to optimize two functions with same set of
(X,Y) together. 



--
View this message in context: http://r.789695.n4.nabble.com/How-to-Optimize-two-functions-together-in-R-tp4690654.html
Sent from the R help mailing list archive at Nabble.com.


From lisas at salford-systems.com  Thu May 15 21:35:37 2014
From: lisas at salford-systems.com (Lisa Solomon)
Date: Thu, 15 May 2014 14:35:37 -0500
Subject: [R] Chicago, Data Mining Training (Hands-On, $35), Chicago, May 23rd
Message-ID: <2732C804E2DBB04AA90A678D76FAF2CC3D1F9DC9B2@DFW1MBX02.mex07a.mlsrvr.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/b3849d4e/attachment.pl>

From ilias.khattari at bbox.fr  Thu May 15 12:19:49 2014
From: ilias.khattari at bbox.fr (ilias.khattari at bbox.fr)
Date: Thu, 15 May 2014 12:19:49 +0200
Subject: [R] Pb
Message-ID: <mnet1.1400149189.6316.ilias.khattari@bbox.fr>


   Hi,
   I'm an engineer student who work on a project with hadoop & R. I installed
   the ODBC driver and configure it and it works with excel but I earn some
   problems with R.
   I think it's maybe because of my OS which is a Mavericks. I saw there are no
   binaries files for my OS in the RODBC package.
   Is it possible to have a non gca or a beta version of these ?
   Best regards,
   Ilias

From zaiyaolin at gmail.com  Thu May 15 12:25:31 2014
From: zaiyaolin at gmail.com (Zaiyaolin)
Date: Thu, 15 May 2014 18:25:31 +0800
Subject: [R] Ctrl + r failure
Message-ID: <7AF8CABD-8A89-4B10-BDC7-DB140EF45204@gmail.com>

Hello,

I just start to use windows 8.1 and I suddenly can't use ctrl + r to execute commands in R. This never happens when I used XP before. Dose anyone know how to deal with this situation? Thx.

Yao 

Sent from my iPhone

From ripley at stats.ox.ac.uk  Thu May 15 21:59:25 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 May 2014 20:59:25 +0100
Subject: [R] Pb
In-Reply-To: <mnet1.1400149189.6316.ilias.khattari@bbox.fr>
References: <mnet1.1400149189.6316.ilias.khattari@bbox.fr>
Message-ID: <53751C9D.3060202@stats.ox.ac.uk>

On 15/05/2014 11:19, ilias.khattari at bbox.fr wrote:
>
>     Hi,
>     I'm an engineer student who work on a project with hadoop & R. I installed
>     the ODBC driver and configure it and it works with excel but I earn some
>     problems with R.
>     I think it's maybe because of my OS which is a Mavericks. I saw there are no
>     binaries files for my OS in the RODBC package.
>     Is it possible to have a non gca or a beta version of these ?

You simply install from the package sources (and note that on OS X 10.9 
you will need an ODBC driver manager which Apple only partially 
provides: details in the RODBC manual).

R-sig-mac is the appropriate list for Mac-specific questions: see the 
footer of this and every R-help message.


>     Best regards,
>     Ilias
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From motyocska at yahoo.com  Thu May 15 22:08:20 2014
From: motyocska at yahoo.com (Andras Farkas)
Date: Thu, 15 May 2014 13:08:20 -0700 (PDT)
Subject: [R] question about wfct in minpack.lm package
Message-ID: <1400184500.55674.YahooMailNeo@web161604.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/6d357f59/attachment.pl>

From HLiao at odu.edu  Thu May 15 22:30:59 2014
From: HLiao at odu.edu (Liao, Hongsheng)
Date: Thu, 15 May 2014 20:30:59 +0000
Subject: [R] Miss lines in LaTex code generated by function xtable in R
Message-ID: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/ca91b24f/attachment.pl>

From hb at biostat.ucsf.edu  Thu May 15 22:34:54 2014
From: hb at biostat.ucsf.edu (Henrik Bengtsson)
Date: Thu, 15 May 2014 13:34:54 -0700
Subject: [R] stop a function
In-Reply-To: <1400054725.62406.YahooMailNeo@web140402.mail.bf1.yahoo.com>
References: <1399983312.88744.YahooMailNeo@web140402.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4D778@inbomail.inbo.be>
	<1400011978.21672.YahooMailNeo@web140403.mail.bf1.yahoo.com>
	<AA818EAD2576BC488B4F623941DA7427F3A4DB27@inbomail.inbo.be>
	<1400054725.62406.YahooMailNeo@web140402.mail.bf1.yahoo.com>
Message-ID: <CAFDcVCTwcMt+RJtEn59bkBUV+dONK1WsZExhwKMAdHT19MXL3w@mail.gmail.com>

Two quick comments:

1. You do not need to reset the timeout limits yourself; it's already
taken care of, cf. help("evalWithTimeout").
2. Have you tried example(evalWithTimeout)?  It should illustrate how
it works/is used.  It's also a good example to verify that it also
works on your machine (I'd be really surprised if it doesn't).  When
you have confirmed that example code works, then extend it.

Hope this helps. Unfortunately, that's all we can help you with
(unless you send a minimal reproducible example that we can also test
on our end).

/Henrik



On Wed, May 14, 2014 at 1:05 AM, n omranian <n_omranian at yahoo.com> wrote:
> Here is my code... I tried to remove many parts and keep the part which is related to evalWithTimeout.
> I have two similar while(1) loop in my original code. I only include one here.
> tnx a lot
> NO
>
>
> while (perm <= 1000)
> {
>   setTimeLimit(cpu = Inf, elapsed = Inf)
>   while (1)
>   {
>     data <- main_data[,sample(1:ncol(main_data),size=10,replace=F)]
>     dd <- ....
>     while(i<= dd)
>     {
>       y <- time[i,]
>
>       fit <- NULL
>
>       tryCatch(fit <- {evalWithTimeout({penalized(y,x,lambda1=lambda1[i],lambda2=lambda2[i],fusedl=a,standardize=T,trace=F);},
>                                        timeout=360)},
>                TimeoutException = function(ex) cat("Timeout. Skipping.\n"))
>       setTimeLimit(cpu = Inf, elapsed = Inf)
>       if (is.null(fit)==T)
>         break
>       i<-i+1
>     }
>     if (i>dd)
>       break
>   }
>
> perm<-perm+1
> }
>
> On Wednesday, May 14, 2014 9:50 AM, "ONKELINX, Thierry" <Thierry.ONKELINX at inbo.be> wrote:
>
> Yes.
>
> Give us a minimal and reproducible example of your code and don't post in HTML.
>
> See fortunes::fortune(244)
>
>
> ir. Thierry Onkelinx
> Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
> team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
> Kliniekstraat 25
> 1070 Anderlecht
> Belgium
> + 32 2 525 02 51
> + 32 54 43 61 85
> Thierry.Onkelinx at inbo.be
> www.inbo.be
>
> To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
> ~ Sir Ronald Aylmer Fisher
>
> The plural of anecdote is not data.
> ~ Roger Brinner
>
> The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
> ~ John Tukey
>
> Van: n omranian [mailto:n_omranian at yahoo.com]
> Verzonden: dinsdag 13 mei 2014 22:13
> Aan: ONKELINX, Thierry; r-packages-owner at r-project.org; r-help at r-project.org; r-help-request at r-project.org
> Onderwerp: Re: [R] stop a function
>
> Hi,
> Another problem arised now. I got this error:
> Error in match(x, table, nomatch = 0L) : reached CPU time limit
>
> I googled it  but nothing could help me to get rid of this error. Any comments, help or hints?
>
> Thanks a lot,
> NO
> On Tuesday, May 13, 2014 2:36 PM, "ONKELINX, Thierry" <Thierry.ONKELINX at inbo.be> wrote:
> Have a look at evalWithTimeout() from the R.utils package
>
> Best regards,
>
> ir. Thierry Onkelinx
> Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
> team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
> Kliniekstraat 25
> 1070 Anderlecht
> Belgium
> + 32 2 525 02 51
> + 32 54 43 61 85
> Thierry.Onkelinx at inbo.be
> www.inbo.be
>
> To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
> ~ Sir Ronald Aylmer Fisher
>
> The plural of anecdote is not data.
> ~ Roger Brinner
>
> The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
> ~ John Tukey
>
> -----Oorspronkelijk bericht-----
> Van: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] Namens n omranian
> Verzonden: dinsdag 13 mei 2014 14:15
> Aan: r-packages-owner at r-project.org; r-help at r-project.org; r-help-request at r-project.org
> Onderwerp: [R] stop a function
>
> Hi all,
>
> If I use a function in R which takes some parameters as an input, how can I stop this function in the while loop and try another parameter in case the function takes long time or could not converge.
>
> Actually, I'm using "penalized" function in a loop for some fixed lambdas (pre-calculated), for some of them the function converged, but for some not. Now I decide to proceed in this way that if it takes longer than 3 mins, stop the "penalized" function and try the other lambdas.
>
> I need to do it in the loop since the loop is in the big program and I can't manually stop and begin again.
>
> Looking forward to your reply.
> NO
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> * * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
> Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
> The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.
>
> * * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
> Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
> The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From dwinsemius at comcast.net  Thu May 15 23:08:48 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 15 May 2014 14:08:48 -0700
Subject: [R] Miss lines in LaTex code generated by function xtable in R
In-Reply-To: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>
Message-ID: <EA32139C-E105-4B89-94B9-1D56C72EB879@comcast.net>


On May 15, 2014, at 1:30 PM, Liao, Hongsheng wrote:

> data(tli)
> ## Demonstrate data.frame
> tli.table <- xtable(tli[1:10,])
> digits(tli.table)[c(2,6)] <- 0
> print(tli.table,floating=FALSE)
> 
> I used above R code to generate Latex code as below.  However, Tex Live can't run the code after I code and paste it to Tex Live.  The reasons are: at the very beginning of the Latex code, two lines are missing:
> \documentclass[11pt]{article}
> \begin{document}
> 
> At the end of the Latex code, one line is missing: \end{document}.  I have to type those three lines in TeX Live in order to run the code.  Does anyone know how to add those three lines in xtable function in R?  Thanks.
> 

Just use paste(). Note that the help page for ?print.xtable says: "Note that the function also (invisibly) returns a character vector of the results (which can be helpful for post-processing). "

-- 
David.
> 
> % latex table generated in R 3.1.0 by xtable 1.7-3 package
> % Thu May 15 14:25:13 2014
> \begin{table}[ht]
> \centering
> \begin{tabular}{rrlllr}
>  \hline\hline
> & grade & sex & disadvg & ethnicty & tlimth \\
>  \hline
> 1 & 6 & M & YES & HISPANIC & 43 \\
>  2 & 7 & M & NO & BLACK & 88 \\
>  3 & 5 & F & YES & HISPANIC & 34 \\
>  4 & 3 & M & YES & HISPANIC & 65 \\
>  5 & 8 & M & YES & WHITE & 75 \\
>  6 & 5 & M & NO & BLACK & 74 \\
>  7 & 8 & F & YES & HISPANIC & 72 \\
>  8 & 4 & M & YES & BLACK & 79 \\
>  9 & 6 & M & NO & WHITE & 88 \\
>  10 & 7 & M & YES & HISPANIC & 87 \\
>  11 & 3 & M & NO & WHITE & 79 \\
>  12 & 6 & F & NO & WHITE & 84 \\
>  13 & 8 & M & NO & WHITE & 90 \\
>  14 & 5 & M & NO & WHITE & 73 \\
>  15 & 8 & F & NO & WHITE & 72 \\
>  16 & 6 & F & NO & BLACK & 82 \\
>  17 & 4 & M & NO & WHITE & 69 \\
>  18 & 3 & F & YES & HISPANIC & 17 \\
>  19 & 3 & M & NO & HISPANIC & 37 \\
>  20 & 5 & M & NO & WHITE & 70 \\
>   \hline\hline
> \end{tabular}
> \end{table}
> 
> 
> 
> 
> 
> Hongsheng (Hank) Liao, PhD.
> Lab Manager
> Center for Quantitative  Fisheries Ecology
> Old Dominion University
> 757-683-4571
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From jdnewmil at dcn.davis.CA.us  Fri May 16 00:11:32 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Thu, 15 May 2014 15:11:32 -0700
Subject: [R] Miss lines in LaTex code generated by function xtable in R
In-Reply-To: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>
Message-ID: <4e66d986-fa1c-434f-aedc-19093aa91349@email.android.com>

Why not use knitr to build the document that the output of xtable is to be a part of?
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 15, 2014 1:30:59 PM PDT, "Liao, Hongsheng" <HLiao at odu.edu> wrote:
>data(tli)
> ## Demonstrate data.frame
> tli.table <- xtable(tli[1:10,])
> digits(tli.table)[c(2,6)] <- 0
> print(tli.table,floating=FALSE)
>
>I used above R code to generate Latex code as below.  However, Tex Live
>can't run the code after I code and paste it to Tex Live.  The reasons
>are: at the very beginning of the Latex code, two lines are missing:
>\documentclass[11pt]{article}
>\begin{document}
>
>At the end of the Latex code, one line is missing: \end{document}.  I
>have to type those three lines in TeX Live in order to run the code. 
>Does anyone know how to add those three lines in xtable function in R? 
>Thanks.
>
>
>% latex table generated in R 3.1.0 by xtable 1.7-3 package
>% Thu May 15 14:25:13 2014
>\begin{table}[ht]
>\centering
>\begin{tabular}{rrlllr}
>  \hline\hline
> & grade & sex & disadvg & ethnicty & tlimth \\
>  \hline
>1 & 6 & M & YES & HISPANIC & 43 \\
>  2 & 7 & M & NO & BLACK & 88 \\
>  3 & 5 & F & YES & HISPANIC & 34 \\
>  4 & 3 & M & YES & HISPANIC & 65 \\
>  5 & 8 & M & YES & WHITE & 75 \\
>  6 & 5 & M & NO & BLACK & 74 \\
>  7 & 8 & F & YES & HISPANIC & 72 \\
>  8 & 4 & M & YES & BLACK & 79 \\
>  9 & 6 & M & NO & WHITE & 88 \\
>  10 & 7 & M & YES & HISPANIC & 87 \\
>  11 & 3 & M & NO & WHITE & 79 \\
>  12 & 6 & F & NO & WHITE & 84 \\
>  13 & 8 & M & NO & WHITE & 90 \\
>  14 & 5 & M & NO & WHITE & 73 \\
>  15 & 8 & F & NO & WHITE & 72 \\
>  16 & 6 & F & NO & BLACK & 82 \\
>  17 & 4 & M & NO & WHITE & 69 \\
>  18 & 3 & F & YES & HISPANIC & 17 \\
>  19 & 3 & M & NO & HISPANIC & 37 \\
>  20 & 5 & M & NO & WHITE & 70 \\
>   \hline\hline
>\end{tabular}
>\end{table}
>
>
>
>
>
>Hongsheng (Hank) Liao, PhD.
>Lab Manager
>Center for Quantitative  Fisheries Ecology
>Old Dominion University
>757-683-4571
>
>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From ewiener at emory.edu  Fri May 16 01:47:37 2014
From: ewiener at emory.edu (ravenween)
Date: Thu, 15 May 2014 16:47:37 -0700 (PDT)
Subject: [R] How to make a Latex table using R
In-Reply-To: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA8BD@KIRK.ts.odu.edu>
Message-ID: <1400197657818-4690676.post@n4.nabble.com>

stargazer is the best. 
http://cran.r-project.org/web/packages/stargazer/stargazer.pdf
<http://cran.r-project.org/web/packages/stargazer/stargazer.pdf>   heres an
example code:

stargazer(women_con_mod, women_con_mod,
          se = list(WCM_naive.std.err,WCM_rob.std.err), 
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Political Participation"), 
          covariate.labels=c("Religiosity * Conservative","Religiosity",
"Education","Black","Hispanic","Family Income", "Volunteer Associations",
"Age"),  
          no.space=TRUE, 
          omit.stat=c("LL","ser","f", "rsq"),
          column.labels=c("Naive SE", "Robust SE"), 
          dep.var.caption="", 
          model.numbers=FALSE)


Above, I am just comparing one regression to the same regression with robust
standard errors. Its beautiful, works perfectly by copy-paste in Latexian,
at the very least. 



--
View this message in context: http://r.789695.n4.nabble.com/How-to-make-a-Latex-table-using-R-tp4690647p4690676.html
Sent from the R help mailing list archive at Nabble.com.


From r.turner at auckland.ac.nz  Fri May 16 02:01:08 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 16 May 2014 12:01:08 +1200
Subject: [R] Markoc chain simulation of a sample path - to get empirical
 probabilities
In-Reply-To: <1400173383916-4690658.post@n4.nabble.com>
References: <1400173383916-4690658.post@n4.nabble.com>
Message-ID: <53755544.6010509@auckland.ac.nz>


(1) This list is *NOT* for helping people with homework.

(2) Your code is kludgy, inefficient, and apparently wrong.

(3) Think about what is going to happen in your very first call to 
sample() --- it will be:

     sample(6,1,prob=P[path[5],])

(Note that "replace=TRUE" is unnecessary and nonsensical here.)

But path[5] has not been set yet --- so it is NA.  Crash!!!

Think through what you are doing more carefully.

(4) Talk to your instructor!  I am *fairly* confident that he or she 
will not bite.

cheers,

Rolf Turner

On 16/05/14 05:03, chantel7777777 wrote:
> The question:
> A computer store sells iPods. If at the end of the day they have 0 or 1 unit
> of stock, they order enough new units so that their total number of units on
> hand is 5. New merchandise arrives before the store opens the next day.
> Demand each day is random with the following distribution
>
> Demand     Probability
>       0                0.3
>       1                0.4
>       2                0.2
>       3                0.1
>
> a) What is the most likely number of units in stock on Friday given that the
> store opened with 5 units of stock on Monday?
>
> My assignment is to write an R code that takes as input a transition matrix
> and an initial distribution, and then simulates data from which I can
> empirically calculate probabilities...
>
>
> I am confident that my transition matrix is correct, it is
>          0.0  0.0  0.1  0.2  0.4  0.3
>          0.0  0.0  0.1  0.2  0.4  0.3
> P=    0.3  0.4  0.3  0.0  0.0  0.0
>          0.1  0.2  0.4  0.3  0.0  0.0
>          0.0  0.1  0.2  0.4  0.3  0.0
>          0.0  0.0  0.1  0.2  0.4  0.3
> where the row1=o units of stock
>                 row2= 1 unit of stock....
>                 row3= 2 units of stock etc, and the columns also follow the
> same order
>
> (Manually I know how to do this and I have done so, but I cannot do it in R)
> I have the following code:
>
>> set.seed(1413974749)
>> mChainSimulation=function(P,pathLength, initDist)
> + {
> +   path=numeric(pathLength)
> +   path[1]=6 # Because on Monday we open with 5 units of stock (which is
> 6th state in Markov chain)
> +   for(i in 6:pathLength)
> +   {
> +     path[i]=sample(6, 1 , replace=TRUE,prob=P[path[i-1],])
> +   }
> +   return(path)
> + }
>> numStates=6
>> initDist=c(1/6,1/6,1/6,1/6,1/6,1/6)
>> P=matrix(c(0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0.1, 0.2, 0.4, 0.3, 0.3, 0.4,
>> 0.3, 0, 0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0, 0.1, 0.2, 0.4, 0.3, 0, 0, 0,
>> 0.1, 0.2, 0.4, 0.3),6,6, byrow=T)
>> P
>       [,1] [,2] [,3] [,4] [,5] [,6]
> [1,]  0.0  0.0  0.1  0.2  0.4  0.3
> [2,]  0.0  0.0  0.1  0.2  0.4  0.3
> [3,]  0.3  0.4  0.3  0.0  0.0  0.0
> [4,]  0.1  0.2  0.4  0.3  0.0  0.0
> [5,]  0.0  0.1  0.2  0.4  0.3  0.0
> [6,]  0.0  0.0  0.1  0.2  0.4  0.3
>> pathLength=4
>> simNum=10000
>> stock0Num=0 # number of times in the simulation that it ends on 0 units of
>> stock, i.e. in simulations it ends on 1
>> stock1Num=0 # number of times in the simulation that it ends on 1 unit of
>> stock, i.e in simulations it ends on 2
>> stock2Num=0 # number of times in the simulation that it ends on 2 units of
>> stock, i.e in simulations it ends on 3
>> stock3Num=0 # number of times in the simulation that it ends on 3 units of
>> stock, i.e in simulations it ends on 4
>> stock4Num=0 # number of times in the simulation that it ends on 4 units of
>> stock, i.e in simulations it ends on 5
>> stock5Num=0 # num
>
> !!!!!!!!!!!!!!!!!!! # I get an error here in the next few
> lines!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>
>> for(i in 1:simNum)
> + {
> +   pathSimulation=mChainSimulation(P,pathLength, initDist)
> +   pathEnd=pathSimulation[pathLength]
> +
> +   if(pathEnd==1)
> +   {
> +     stock0Num=stock0Num+1
> +   }
> +   if(pathEnd==2)
> +   {
> +     stock1Num=stock1Num+1
> +   }
> +   if(pathEnd==3)
> +   {
> +     stock2Num=stock2Num+1
> +   }
> +   if(pathEnd==4)
> +   {
> +     stock3Num=stock3Num+1
> +   }
> +   if(pathEnd==5)
> +   {
> +     stock4Num=stock4Num+1
> +   }
> +   if(pathEnd==6)
> +   {
> +     stock5Num=stock5Num+1
> +   }
> + }
>   Hide Traceback
>
>   Rerun with Debug
>   Error in sample.int(length(x), size, replace, prob) :
>    incorrect number of probabilities
> 3 sample.int(length(x), size, replace, prob)
> 2 sample(1:numStates, 1, prob = P[path[i - 1], 6])
> 1 mChainSimulation(P, pathLength, initDist)
>
>
> I don't know how to fix my error and would greatly appreciate any help.


From r.turner at auckland.ac.nz  Fri May 16 03:16:16 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 16 May 2014 13:16:16 +1200
Subject: [R] Character type and size using spatstats
In-Reply-To: <20140515072731.GB32760@slingshot.co.nz>
References: <91f9be2c809a9fcf306e90856873b185@slingshot.co.nz>
	<53742DB0.9040305@auckland.ac.nz>
	<20140515072731.GB32760@slingshot.co.nz>
Message-ID: <537566E0.2040804@auckland.ac.nz>


Dear Patrick,

OK.  I think I have figured out what you are trying to do.

You want:

    * each "type" of point (where type is the corresponding
      level of "Concept") to be represented by a different symbol,

    * the size of the symbol to be determined by the value of "New".

The "maxsize" argument, as I think the help for plot.ppp() makes clear, 
*only* controls the size of the symbols (circles and squares) used when 
the marks involved are numeric.  If the marks are a factor then the 
points are plotted using the points() function, with a different 
plotting character for each level of the factor, but "maxsize" has no 
effect on the size of the character plotted.

The spatstat package has no facility explicitly aimed at controlling the 
size of "general" plotted characters.

The size of plotted characters can be controlled to some extent by using 
the "cex" argument that can be supplied to the built-in graphics 
functions in R, but it's a bit kludgy.

I experimented with various options to try to get a perspicuous plot. 
The following code is the best (none too good) that I could come up 
with.  Note that I made a selection of plotting characters that seemed 
"appealing" to my eye.  Note also that one entry of "Concept" was the 
null string "", which seemed to me to be undesirable so I change it to 
be a visible string. :-)

L    <- levels(bb9$Concept)
L[1] <- "WTF"
M    <- factor(bb9$Concept,labels=L)
X    <- with(bb9, ppp(ColN, Row, window = all.win, marks = M))
CEX  <- round(log(1+bb9[,"New"]))/2
CHA  <- c(18,20:23,1)
plot(X,cols="red",chars=CHA,which.marks="Concept",cex=CEX)

It is not clear to me why you are using spatstat here.  Of course 
spatstat is *wonderful* but it is aimed at answering questions about 
spatial point processes.  Your data appear to be the result of 
distributing plants in a field, in a more-or-less orderly and 
predetermined fashion rather than being the result of some random 
process.  But I could be misinterpreting what I see.

cheers,

Rolf


From Art.Burke at educationnorthwest.org  Fri May 16 03:13:07 2014
From: Art.Burke at educationnorthwest.org (Art Burke)
Date: Thu, 15 May 2014 18:13:07 -0700
Subject: [R] Retrieving the matched data frame from Matching?
Message-ID: <2A85392715B78D4E87D89D4AD8199C0E12CD4A3E54@W0803.EducationNorthWest.Local>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140515/1d59a1e7/attachment.pl>

From gunter.berton at gene.com  Fri May 16 05:26:45 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 15 May 2014 20:26:45 -0700
Subject: [R] Retrieving the matched data frame from Matching?
In-Reply-To: <2A85392715B78D4E87D89D4AD8199C0E12CD4A3E54@W0803.EducationNorthWest.Local>
References: <2A85392715B78D4E87D89D4AD8199C0E12CD4A3E54@W0803.EducationNorthWest.Local>
Message-ID: <CACk-te1kCZxD1stFW0GwLjyFYK1xU1RS0-7Gab6SEcP_SrgsrQ@mail.gmail.com>

Don't know anything about this in particular, but ?str, as in

str(m8)

is often useful in such situations. But hopefully you'll get a better,
more specific answer.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 15, 2014 at 6:13 PM, Art Burke
<Art.Burke at educationnorthwest.org> wrote:
> I'm trying to use the Matching package to create a matched dataset but I'm having trouble retrieving the data frame where the comparison cases are identified. Could someone please give me a pointer on how to do this? The call was a simple one and seems to have worked with no errors ...
>
> m8 <- Match(TR = Tr8, X = X8, M = 2)
> summary(m8)
>
> Appeciated!
>
> Art
> ____________________________________________________________
> Arthur Burke, Ph.D.
> Senior Methodology Advisor
> Education Northwest
> 101 SW Main St., Ste 500
> Portland OR 97204
> Email: art.burke at educationnorthwest.org
> Phone: 503.275.9592
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dulcalma at bigpond.com  Fri May 16 06:35:17 2014
From: dulcalma at bigpond.com (Duncan Mackay)
Date: Fri, 16 May 2014 14:35:17 +1000
Subject: [R] Miss lines in LaTex code generated by function xtable in R
In-Reply-To: <EA32139C-E105-4B89-94B9-1D56C72EB879@comcast.net>
References: <44F908E52BA1744BB88DEB8E10103AAD241DA9ED@KIRK.ts.odu.edu>
	<EA32139C-E105-4B89-94B9-1D56C72EB879@comcast.net>
Message-ID: <003301cf70c0$3da92240$b8fb66c0$@bigpond.com>

Hi

If print gives you trouble try

cat("\\end{document}\n\n")

Regards

Duncan

Duncan Mackay
Department of Agronomy and Soil Science
University of New England
Armidale NSW 2351
Email: home: mackay at northnet.com.au

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
Behalf Of David Winsemius
Sent: Friday, 16 May 2014 07:09
To: Liao, Hongsheng
Cc: r-help at r-project.org
Subject: Re: [R] Miss lines in LaTex code generated by function xtable in R


On May 15, 2014, at 1:30 PM, Liao, Hongsheng wrote:

> data(tli)
> ## Demonstrate data.frame
> tli.table <- xtable(tli[1:10,])
> digits(tli.table)[c(2,6)] <- 0
> print(tli.table,floating=FALSE)
> 
> I used above R code to generate Latex code as below.  However, Tex Live
can't run the code after I code and paste it to Tex Live.  The reasons are:
at the very beginning of the Latex code, two lines are missing:
> \documentclass[11pt]{article}
> \begin{document}
> 
> At the end of the Latex code, one line is missing: \end{document}.  I have
to type those three lines in TeX Live in order to run the code.  Does anyone
know how to add those three lines in xtable function in R?  Thanks.
> 

Just use paste(). Note that the help page for ?print.xtable says: "Note that
the function also (invisibly) returns a character vector of the results
(which can be helpful for post-processing). "

-- 
David.
> 
> % latex table generated in R 3.1.0 by xtable 1.7-3 package
> % Thu May 15 14:25:13 2014
> \begin{table}[ht]
> \centering
> \begin{tabular}{rrlllr}
>  \hline\hline
> & grade & sex & disadvg & ethnicty & tlimth \\
>  \hline
> 1 & 6 & M & YES & HISPANIC & 43 \\
>  2 & 7 & M & NO & BLACK & 88 \\
>  3 & 5 & F & YES & HISPANIC & 34 \\
>  4 & 3 & M & YES & HISPANIC & 65 \\
>  5 & 8 & M & YES & WHITE & 75 \\
>  6 & 5 & M & NO & BLACK & 74 \\
>  7 & 8 & F & YES & HISPANIC & 72 \\
>  8 & 4 & M & YES & BLACK & 79 \\
>  9 & 6 & M & NO & WHITE & 88 \\
>  10 & 7 & M & YES & HISPANIC & 87 \\
>  11 & 3 & M & NO & WHITE & 79 \\
>  12 & 6 & F & NO & WHITE & 84 \\
>  13 & 8 & M & NO & WHITE & 90 \\
>  14 & 5 & M & NO & WHITE & 73 \\
>  15 & 8 & F & NO & WHITE & 72 \\
>  16 & 6 & F & NO & BLACK & 82 \\
>  17 & 4 & M & NO & WHITE & 69 \\
>  18 & 3 & F & YES & HISPANIC & 17 \\
>  19 & 3 & M & NO & HISPANIC & 37 \\
>  20 & 5 & M & NO & WHITE & 70 \\
>   \hline\hline
> \end{tabular}
> \end{table}
> 
> 
> 
> 
> 
> Hongsheng (Hank) Liao, PhD.
> Lab Manager
> Center for Quantitative  Fisheries Ecology
> Old Dominion University
> 757-683-4571
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From sagnik.stats at gmail.com  Fri May 16 07:24:30 2014
From: sagnik.stats at gmail.com (sagnik chakravarty)
Date: Fri, 16 May 2014 10:54:30 +0530
Subject: [R] Issues with fa() function in "psych"
In-Reply-To: <1DEB6779-C83E-425B-8856-BE15F8A990DD@revelle.net>
References: <CAMwbFxi2=mhjB66YH-=U7L2p0ZbeqCLDraOiUjDzUcCCtxDuKQ@mail.gmail.com>
	<CAAcyNCxvhFHFzGxTyEZ3z4YW8tOmo5ix7enAZ4TYXvPTjT=X-w@mail.gmail.com>
	<85300B76-7E05-4663-8D3A-E8C3FCE7DB15@revelle.net>
	<CAMwbFxjcsExo4XZUi3pCot5efYkK5U=NcMdxbkyqf20c9wabdg@mail.gmail.com>
	<1DEB6779-C83E-425B-8856-BE15F8A990DD@revelle.net>
Message-ID: <CAMwbFxgCcVjn_MFmU6YW9i01MO30ku3GM5Ly9Qa4J9QpLeC8qQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140516/28fd45be/attachment.pl>

From mir.salam at uef.fi  Fri May 16 09:45:34 2014
From: mir.salam at uef.fi (Mir Salam)
Date: Fri, 16 May 2014 07:45:34 +0000
Subject: [R] FW: needs help in augented plot
In-Reply-To: <eb51b8c14f6643cc925c74582d0ef38e@UEF-EXC13-02.uefad.uef.fi>
References: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C61AD779@DKRDSEXC016.vestas.net>,
	<eb51b8c14f6643cc925c74582d0ef38e@UEF-EXC13-02.uefad.uef.fi>
Message-ID: <6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>

Dear Med venlig hilsen and all
Thanks a lot for your attention and valuable codes.  I produced the graph using the follwing code. I fitted mixed effects dominant height model. The grpah is showing plot-specific dominant height against Age. 

aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
               data=aspdomH22,
               fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~ 1+origin+soilcharacter),
               random = b0+b2~1|plotno,
               start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
               weights=varPower(form = ~age, 0.5),
               correlation=corAR1())

windows()
plot(augpred(fm3cham.nlme)

Note: if you look the attched graph, the highlighted heading of the text of the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce the front size. Actually, this is my plot id. To overcome the problem I used your suggested code, but I got the folllowing error

plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex = 0.5)))

Error in plot.augPred(augPred(fm3cham.nlme), strip = strip.custom(par.strip.text = list(cex = 0.5))) :
  could not find function "strip.custom"

how I will fix the problem?

Thanks for your help. Actually I am new in R

Best regards
Salam







________________________________________
From: Frede Aakmann T?gersen <frtog at vestas.com>
Sent: Thursday, May 15, 2014 3:09 PM
To: Mir Salam; R-help at r-project.org
Subject: RE: needs help in augented plot

Dear Salam

So you apparently did not read the posting guide as you were supposed to when joining this list????

Every email from the list has this footer:

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

So why didn't you provide commented, minimal, self-contained, reproducible code????

Well the man page for augPred has this example:

     fm1 <- lme(Orthodont, random = ~1)
     augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))

>From this you can

plot(augFM1)

Is it something like this you want:

plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main = "Testing")

????

Or this:

plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))

????

If the latter I will leave it as an exercise to you to change the default strip height. Google for r lattice strip height

Have a nice day.


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender.


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Mir Salam
> Sent: 15. maj 2014 13:22
> To: R-help at r-project.org
> Subject: [R] needs help in augented plot
>
> Dear all,
>
> I have problem in augmented plot to reduce the text (font ) size in heading
> of each plot. I have 68 plots and in augmented plot, I have heading of 68 plots
> in a panel. The headline of each plot  coded with plot characteristic, but the
> text seems to be big. How I will reduce the text size?
>
> R code
>
> plot(augPred(fm3cham.nlme),cex=0.5))
>
>
> Best regards
> Salam
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________________
From: Mir Salam
Sent: Thursday, May 15, 2014 9:37 PM
To: Frede Aakmann T?gersen
Cc: r-help-owner at r-project.org
Subject: RE: needs help in augented plot

Dear Med venlig hilsen
Thanks a lot for your attention and valuable codes.  I produced the graph using the follwing code.

aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
               data=aspdomH22,
               fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~ 1+origin+soilcharacter),
               random = b0+b2~1|plotno,
               start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
               weights=varPower(form = ~age, 0.5),
               correlation=corAR1())

windows()
plot(augpred(fm3cham.nlme)

Note: if you look the attched graph, the highlighted heading of the text of the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce the front size. Actually, this is my plot id. To overcome the problem I used your suggested code, but I got the folllowing error

plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex = 0.5)))

Error in plot.augPred(augPred(fm3cham.nlme), strip = strip.custom(par.strip.text = list(cex = 0.5))) :
  could not find function "strip.custom"

how I will fix the problem?

Thanks for your help. Actually I am new in R

Best regards
Salam







________________________________________
From: Frede Aakmann T?gersen <frtog at vestas.com>
Sent: Thursday, May 15, 2014 3:09 PM
To: Mir Salam; R-help at r-project.org
Subject: RE: needs help in augented plot

Dear Salam

So you apparently did not read the posting guide as you were supposed to when joining this list????

Every email from the list has this footer:

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

So why didn't you provide commented, minimal, self-contained, reproducible code????

Well the man page for augPred has this example:

     fm1 <- lme(Orthodont, random = ~1)
     augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))

>From this you can

plot(augFM1)

Is it something like this you want:

plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main = "Testing")

????

Or this:

plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))

????

If the latter I will leave it as an exercise to you to change the default strip height. Google for r lattice strip height

Have a nice day.


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender.


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Mir Salam
> Sent: 15. maj 2014 13:22
> To: R-help at r-project.org
> Subject: [R] needs help in augented plot
>
> Dear all,
>
> I have problem in augmented plot to reduce the text (font ) size in heading
> of each plot. I have 68 plots and in augmented plot, I have heading of 68 plots
> in a panel. The headline of each plot  coded with plot characteristic, but the
> text seems to be big. How I will reduce the text size?
>
> R code
>
> plot(augPred(fm3cham.nlme),cex=0.5))
>
>
> Best regards
> Salam
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Augmented plot.pdf
Type: application/pdf
Size: 28194 bytes
Desc: Augmented plot.pdf
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140516/32c26481/attachment.pdf>

From frtog at vestas.com  Fri May 16 10:29:04 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Fri, 16 May 2014 10:29:04 +0200
Subject: [R] needs help in augented plot
In-Reply-To: <6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>
References: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C61AD779@DKRDSEXC016.vestas.net>,
	<eb51b8c14f6643cc925c74582d0ef38e@UEF-EXC13-02.uefad.uef.fi>
	<6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C61AD907@DKRDSEXC016.vestas.net>

Hi

strip.custom() is a function in the lattice package so you need to load that package first

library("lattice").

You could also consider to not have that many panels on one page. Use the layout argument of the lattice plot functions to set the number of rows and columns of panel. See ?xyplot which is implicitly called when you plot an augPred  object.

Something like this

plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex = 0.5)), layout = c(3,4)) 

Here 3 is the number of columns and 4 is the number of rows.

Best regards

Frede


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: Mir Salam [mailto:mir.salam at uef.fi]
> Sent: 16. maj 2014 09:46
> To: r1
> Cc: Frede Aakmann T?gersen
> Subject: FW: needs help in augented plot
> 
> Dear Med venlig hilsen and all
> Thanks a lot for your attention and valuable codes.  I produced the graph
> using the follwing code. I fitted mixed effects dominant height model. The
> grpah is showing plot-specific dominant height against Age.
> 
> aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
> fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
>                data=aspdomH22,
>                fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~
> 1+origin+soilcharacter),
>                random = b0+b2~1|plotno,
>                start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
>                weights=varPower(form = ~age, 0.5),
>                correlation=corAR1())
> 
> windows()
> plot(augpred(fm3cham.nlme)
> 
> Note: if you look the attched graph, the highlighted heading of the text of
> the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce
> the front size. Actually, this is my plot id. To overcome the problem I used
> your suggested code, but I got the folllowing error
> 
> plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex =
> 0.5)))
> 
> Error in plot.augPred(augPred(fm3cham.nlme), strip =
> strip.custom(par.strip.text = list(cex = 0.5))) :
>   could not find function "strip.custom"
> 
> how I will fix the problem?
> 
> Thanks for your help. Actually I am new in R
> 
> Best regards
> Salam
> 
> 
> 
> 
> 
> 
> 
> ________________________________________
> From: Frede Aakmann T?gersen <frtog at vestas.com>
> Sent: Thursday, May 15, 2014 3:09 PM
> To: Mir Salam; R-help at r-project.org
> Subject: RE: needs help in augented plot
> 
> Dear Salam
> 
> So you apparently did not read the posting guide as you were supposed to
> when joining this list????
> 
> Every email from the list has this footer:
> 
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> So why didn't you provide commented, minimal, self-contained,
> reproducible code????
> 
> Well the man page for augPred has this example:
> 
>      fm1 <- lme(Orthodont, random = ~1)
>      augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))
> 
> From this you can
> 
> plot(augFM1)
> 
> Is it something like this you want:
> 
> plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main =
> "Testing")
> 
> ????
> 
> Or this:
> 
> plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))
> 
> ????
> 
> If the latter I will leave it as an exercise to you to change the default strip
> height. Google for r lattice strip height
> 
> Have a nice day.
> 
> 
> Yours sincerely / Med venlig hilsen
> 
> 
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
> 
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
> 
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender.
> 
> 
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org]
> > On Behalf Of Mir Salam
> > Sent: 15. maj 2014 13:22
> > To: R-help at r-project.org
> > Subject: [R] needs help in augented plot
> >
> > Dear all,
> >
> > I have problem in augmented plot to reduce the text (font ) size in heading
> > of each plot. I have 68 plots and in augmented plot, I have heading of 68
> plots
> > in a panel. The headline of each plot  coded with plot characteristic, but the
> > text seems to be big. How I will reduce the text size?
> >
> > R code
> >
> > plot(augPred(fm3cham.nlme),cex=0.5))
> >
> >
> > Best regards
> > Salam
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> ________________________________________
> From: Mir Salam
> Sent: Thursday, May 15, 2014 9:37 PM
> To: Frede Aakmann T?gersen
> Cc: r-help-owner at r-project.org
> Subject: RE: needs help in augented plot
> 
> Dear Med venlig hilsen
> Thanks a lot for your attention and valuable codes.  I produced the graph
> using the follwing code.
> 
> aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
> fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
>                data=aspdomH22,
>                fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~
> 1+origin+soilcharacter),
>                random = b0+b2~1|plotno,
>                start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
>                weights=varPower(form = ~age, 0.5),
>                correlation=corAR1())
> 
> windows()
> plot(augpred(fm3cham.nlme)
> 
> Note: if you look the attched graph, the highlighted heading of the text of
> the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce
> the front size. Actually, this is my plot id. To overcome the problem I used
> your suggested code, but I got the folllowing error
> 
> plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex =
> 0.5)))
> 
> Error in plot.augPred(augPred(fm3cham.nlme), strip =
> strip.custom(par.strip.text = list(cex = 0.5))) :
>   could not find function "strip.custom"
> 
> how I will fix the problem?
> 
> Thanks for your help. Actually I am new in R
> 
> Best regards
> Salam
> 
> 
> 
> 
> 
> 
> 
> ________________________________________
> From: Frede Aakmann T?gersen <frtog at vestas.com>
> Sent: Thursday, May 15, 2014 3:09 PM
> To: Mir Salam; R-help at r-project.org
> Subject: RE: needs help in augented plot
> 
> Dear Salam
> 
> So you apparently did not read the posting guide as you were supposed to
> when joining this list????
> 
> Every email from the list has this footer:
> 
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> So why didn't you provide commented, minimal, self-contained,
> reproducible code????
> 
> Well the man page for augPred has this example:
> 
>      fm1 <- lme(Orthodont, random = ~1)
>      augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))
> 
> From this you can
> 
> plot(augFM1)
> 
> Is it something like this you want:
> 
> plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main =
> "Testing")
> 
> ????
> 
> Or this:
> 
> plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))
> 
> ????
> 
> If the latter I will leave it as an exercise to you to change the default strip
> height. Google for r lattice strip height
> 
> Have a nice day.
> 
> 
> Yours sincerely / Med venlig hilsen
> 
> 
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
> 
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
> 
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender.
> 
> 
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org]
> > On Behalf Of Mir Salam
> > Sent: 15. maj 2014 13:22
> > To: R-help at r-project.org
> > Subject: [R] needs help in augented plot
> >
> > Dear all,
> >
> > I have problem in augmented plot to reduce the text (font ) size in heading
> > of each plot. I have 68 plots and in augmented plot, I have heading of 68
> plots
> > in a panel. The headline of each plot  coded with plot characteristic, but the
> > text seems to be big. How I will reduce the text size?
> >
> > R code
> >
> > plot(augPred(fm3cham.nlme),cex=0.5))
> >
> >
> > Best regards
> > Salam
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From mir.salam at uef.fi  Fri May 16 11:17:41 2014
From: mir.salam at uef.fi (Mir Salam)
Date: Fri, 16 May 2014 09:17:41 +0000
Subject: [R] problem solved in augented plot
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C61AD907@DKRDSEXC016.vestas.net>
References: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C61AD779@DKRDSEXC016.vestas.net>,
	<eb51b8c14f6643cc925c74582d0ef38e@UEF-EXC13-02.uefad.uef.fi>
	<6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C61AD907@DKRDSEXC016.vestas.net>
Message-ID: <ed03fa1155504518bf855c4d0b90eb43@UEF-EXC13-02.uefad.uef.fi>

Dear Med venlig hilsen,

Thanks for your valuable time and help. Finally I solved the peoblem based on your help. 


Best regards
Abdus Salam
Project Manager (ENPI)
PhD student
University of Eastern Finland (UEF)
Finland

________________________________________
From: Frede Aakmann T?gersen <frtog at vestas.com>
Sent: Friday, May 16, 2014 11:29 AM
To: Mir Salam; r1
Subject: RE: needs help in augented plot

Hi

strip.custom() is a function in the lattice package so you need to load that package first

library("lattice").

You could also consider to not have that many panels on one page. Use the layout argument of the lattice plot functions to set the number of rows and columns of panel. See ?xyplot which is implicitly called when you plot an augPred  object.

Something like this

plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex = 0.5)), layout = c(3,4))

Here 3 is the number of columns and 4 is the number of rows.

Best regards

Frede


Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender.


> -----Original Message-----
> From: Mir Salam [mailto:mir.salam at uef.fi]
> Sent: 16. maj 2014 09:46
> To: r1
> Cc: Frede Aakmann T?gersen
> Subject: FW: needs help in augented plot
>
> Dear Med venlig hilsen and all
> Thanks a lot for your attention and valuable codes.  I produced the graph
> using the follwing code. I fitted mixed effects dominant height model. The
> grpah is showing plot-specific dominant height against Age.
>
> aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
> fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
>                data=aspdomH22,
>                fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~
> 1+origin+soilcharacter),
>                random = b0+b2~1|plotno,
>                start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
>                weights=varPower(form = ~age, 0.5),
>                correlation=corAR1())
>
> windows()
> plot(augpred(fm3cham.nlme)
>
> Note: if you look the attched graph, the highlighted heading of the text of
> the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce
> the front size. Actually, this is my plot id. To overcome the problem I used
> your suggested code, but I got the folllowing error
>
> plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex =
> 0.5)))
>
> Error in plot.augPred(augPred(fm3cham.nlme), strip =
> strip.custom(par.strip.text = list(cex = 0.5))) :
>   could not find function "strip.custom"
>
> how I will fix the problem?
>
> Thanks for your help. Actually I am new in R
>
> Best regards
> Salam
>
>
>
>
>
>
>
> ________________________________________
> From: Frede Aakmann T?gersen <frtog at vestas.com>
> Sent: Thursday, May 15, 2014 3:09 PM
> To: Mir Salam; R-help at r-project.org
> Subject: RE: needs help in augented plot
>
> Dear Salam
>
> So you apparently did not read the posting guide as you were supposed to
> when joining this list????
>
> Every email from the list has this footer:
>
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> So why didn't you provide commented, minimal, self-contained,
> reproducible code????
>
> Well the man page for augPred has this example:
>
>      fm1 <- lme(Orthodont, random = ~1)
>      augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))
>
> From this you can
>
> plot(augFM1)
>
> Is it something like this you want:
>
> plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main =
> "Testing")
>
> ????
>
> Or this:
>
> plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))
>
> ????
>
> If the latter I will leave it as an exercise to you to change the default strip
> height. Google for r lattice strip height
>
> Have a nice day.
>
>
> Yours sincerely / Med venlig hilsen
>
>
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
>
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
>
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender.
>
>
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org]
> > On Behalf Of Mir Salam
> > Sent: 15. maj 2014 13:22
> > To: R-help at r-project.org
> > Subject: [R] needs help in augented plot
> >
> > Dear all,
> >
> > I have problem in augmented plot to reduce the text (font ) size in heading
> > of each plot. I have 68 plots and in augmented plot, I have heading of 68
> plots
> > in a panel. The headline of each plot  coded with plot characteristic, but the
> > text seems to be big. How I will reduce the text size?
> >
> > R code
> >
> > plot(augPred(fm3cham.nlme),cex=0.5))
> >
> >
> > Best regards
> > Salam
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ________________________________________
> From: Mir Salam
> Sent: Thursday, May 15, 2014 9:37 PM
> To: Frede Aakmann T?gersen
> Cc: r-help-owner at r-project.org
> Subject: RE: needs help in augented plot
>
> Dear Med venlig hilsen
> Thanks a lot for your attention and valuable codes.  I produced the graph
> using the follwing code.
>
> aspdomH2<-groupedData(domH2~age|plotno,data=aspdomH2)
> fm3cham.nlme<-nlme(domH2~cham(age,b0,b1,b2),
>                data=aspdomH22,
>                fixed = list(b0~1+origin+soilcharacter,b1~ 1,b2 ~
> 1+origin+soilcharacter),
>                random = b0+b2~1|plotno,
>                start=c(b0=26.3387,0,0,0,b1=0.1065,b2=1.9453,0,0,0),
>                weights=varPower(form = ~age, 0.5),
>                correlation=corAR1())
>
> windows()
> plot(augpred(fm3cham.nlme)
>
> Note: if you look the attched graph, the highlighted heading of the text of
> the each plot (i.e. ASS/3, HASS/3.....) are too big front size. I want to reduce
> the front size. Actually, this is my plot id. To overcome the problem I used
> your suggested code, but I got the folllowing error
>
> plot(augPred(fm3cham.nlme),strip = strip.custom(par.strip.text = list(cex =
> 0.5)))
>
> Error in plot.augPred(augPred(fm3cham.nlme), strip =
> strip.custom(par.strip.text = list(cex = 0.5))) :
>   could not find function "strip.custom"
>
> how I will fix the problem?
>
> Thanks for your help. Actually I am new in R
>
> Best regards
> Salam
>
>
>
>
>
>
>
> ________________________________________
> From: Frede Aakmann T?gersen <frtog at vestas.com>
> Sent: Thursday, May 15, 2014 3:09 PM
> To: Mir Salam; R-help at r-project.org
> Subject: RE: needs help in augented plot
>
> Dear Salam
>
> So you apparently did not read the posting guide as you were supposed to
> when joining this list????
>
> Every email from the list has this footer:
>
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> So why didn't you provide commented, minimal, self-contained,
> reproducible code????
>
> Well the man page for augPred has this example:
>
>      fm1 <- lme(Orthodont, random = ~1)
>      augFM1 <- augPred(fm1, length.out = 2, level = c(0,1))
>
> From this you can
>
> plot(augFM1)
>
> Is it something like this you want:
>
> plot(augFM1, par.settings = list(par.main.text = list(cex = 0.5)), main =
> "Testing")
>
> ????
>
> Or this:
>
> plot(augFM1, strip = strip.custom(par.strip.text = list(cex = 0.5)))
>
> ????
>
> If the latter I will leave it as an exercise to you to change the default strip
> height. Google for r lattice strip height
>
> Have a nice day.
>
>
> Yours sincerely / Med venlig hilsen
>
>
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
>
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
>
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender.
>
>
> > -----Original Message-----
> > From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org]
> > On Behalf Of Mir Salam
> > Sent: 15. maj 2014 13:22
> > To: R-help at r-project.org
> > Subject: [R] needs help in augented plot
> >
> > Dear all,
> >
> > I have problem in augmented plot to reduce the text (font ) size in heading
> > of each plot. I have 68 plots and in augmented plot, I have heading of 68
> plots
> > in a panel. The headline of each plot  coded with plot characteristic, but the
> > text seems to be big. How I will reduce the text size?
> >
> > R code
> >
> > plot(augPred(fm3cham.nlme),cex=0.5))
> >
> >
> > Best regards
> > Salam
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Fri May 16 11:25:44 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 16 May 2014 19:25:44 +1000
Subject: [R] Markoc chain simulation of a sample path - to get empirical
	probabilities
In-Reply-To: <1400173383916-4690658.post@n4.nabble.com>
References: <1400173383916-4690658.post@n4.nabble.com>
Message-ID: <2858926.ak67tRWMQ1@localhost.localdomain>

On Thu, 15 May 2014 10:03:03 AM chantel7777777 wrote:

Dear Chantel,
The problem:
A perplexed student decides to post her/his (note non-sexist usage) 
homework to the R help list on a Friday evening. On Monday morning, 
she finds that she/he has received five different answers. Realizing that 
some might be incorrect, she/he persuades her/his smart friend to 
check them. Sadly, the friend, while very smart, is also very lazy and 
only does one now and then. The probabilities of the number of the 
answers judged incorrect each day are:

Incorrect	Probability
0		0.25
1		0.3
2		0.25
3		0.2

Whenever she/he gets this information, she/he strikes off those 
answers from the list. If she/he has one or no remaining answers at 
the end of each day, she/he posts the question to the R help list that 
evening, and receives five more answers the next morning. What is 
the most probable value for the number of remaining answers that 
she/he will have on Friday morning?
 First you need the transition matrix. Assuming that the steps are from 
morning to morning:

pmat<-
 matrix(c(0.25,0,0,0.45,0.3,
 0.3,0.25,0,0.2,0.25,
 0.25,0.3,0.25,0,0.2,
 0.2,0.25,0.3,0.25,0,
 0,0.2,0.25,0.3,0.25),
 nrow=5,ncol=5,byrow=TRUE)
 rownames(pmat)<-colnames(pmat)<-2:6
pmat

Since she/he began with five answers, we begin with state 4. Notice 
here that since each step is from morning to morning and the R help 
list is amazingly reliable, there are no 0 or 1 states.

initstate<-c(0,0,0,1,0)

One method of calculating the distribution after a number of steps is 
to multiply the initial state by the transition matrix raised to the power 
of the number of steps, so:

initstate%*%pmat%*%pmat%*%pmat%*%pmat

While this produces the correct answer, it is not the correct method. 
You want to collect a number of probabilistic outcomes and use this to 
estimate the most likely value of the number of potential answers 
remaining on Friday morning.

outcomes<-rep(NA,100)
for(round in 1:100) {
 start=4
 for(i in 1:4) start<-sample(1:5,1,prob=pmat[start,])
 outcomes[round]<-start
}
table(outcomes)

So our hypothetical student might be able to work out from this how to 
correct her/his code.

Jim


From bt_jannis at yahoo.de  Fri May 16 11:25:19 2014
From: bt_jannis at yahoo.de (Jannis)
Date: Fri, 16 May 2014 11:25:19 +0200
Subject: [R] solution for r-help to the problem of yahoo addresses bouncing?
Message-ID: <5375D97F.1080104@yahoo.de>

Hi R users,



this is not R related but rather affects the r-help list in general but 
I hope that some r-help users may have found a solution.

Since recently, i get messages like this from the list server:

"Your membership in the mailing list R-help has been disabled due to
excessive bounces..."


I suspect this is due to yahoo recently changing its handling of DMARC 
policies. Is there anything I can do from my side to change this? Or is 
the only solution to change the mail provider?


Thanks for any hints
Jannis


From hill0093 at umn.edu  Fri May 16 12:53:07 2014
From: hill0093 at umn.edu (Hurr)
Date: Fri, 16 May 2014 03:53:07 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
Message-ID: <1400237587556-4690696.post@n4.nabble.com>

The first ten lines of code work OK temporariy.
The final line is for a second more-usual axis.
But if I say line=4 to prevent its overwriting the 
first axis, it goes off the graph page.
How do I solve that prob;em?

install.packages('plotrix')
library(plotrix)
horAxisLims=c(0,7213)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)))
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
axis(1,labels=TRUE,tick=TRUE,line=3,at=NULL)




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696.html
Sent from the R help mailing list archive at Nabble.com.


From azamjaafari at yahoo.com  Fri May 16 08:49:37 2014
From: azamjaafari at yahoo.com (azam jaafari)
Date: Fri, 16 May 2014 07:49:37 +0100 (BST)
Subject: [R] neural network in R
Message-ID: <1400222977.59240.YahooMailNeo@web172906.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140516/b7a2db2d/attachment.pl>

From matthias.weber at fnt.de  Fri May 16 13:17:43 2014
From: matthias.weber at fnt.de (Mat)
Date: Fri, 16 May 2014 04:17:43 -0700 (PDT)
Subject: [R] create new rows with 0, if nessecary
Message-ID: <1400239063918-4690699.post@n4.nabble.com>

hello togehter, 

i have a little problem, i have frames like this two:
      Cat      Hours      
A    101     15
B    103     10

      Cat      Hours      
A    103     16
B    106     11

I need to convert this 2 data.frames into the following equal structure:
      Cat      Hours
A    101
B    102
C    103
D    104
E    105
F    106

The 2 examples should be look this one:

      Cat      Hours
A    101      15
B    102       0
C    103      10
D    104       0
E    105       0
F    106       0

      Cat      Hours
A    101       0
B    102       0
C    103      16
D    104       0
E    105       0
F    106      11



--
View this message in context: http://r.789695.n4.nabble.com/create-new-rows-with-0-if-nessecary-tp4690699.html
Sent from the R help mailing list archive at Nabble.com.


From S.Ellison at LGCGroup.com  Fri May 16 13:40:52 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Fri, 16 May 2014 12:40:52 +0100
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400237587556-4690696.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
Message-ID: <A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>

> The first ten lines of code work OK temporariy.
> The final line is for a second more-usual axis.
> But if I say line=4 to prevent its overwriting the first axis, it goes off the graph
> page.
> How do I solve that prob;em?

Change the plot margins before plotting using par(mar)

Example:

windows() #or X11()
par(mar=c(6.5, 4,4,2)+0.1)
plot(1:10, xlab="")
axis(1, line=4)

Also consider using par(mgp) to get the axis labels a bit closer to the axis, or using mtext() to place x axis labels.

S Ellison



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From martyn.byng at nag.co.uk  Fri May 16 13:50:36 2014
From: martyn.byng at nag.co.uk (Martyn Byng)
Date: Fri, 16 May 2014 11:50:36 +0000
Subject: [R] create new rows with 0, if nessecary
In-Reply-To: <1400239063918-4690699.post@n4.nabble.com>
References: <1400239063918-4690699.post@n4.nabble.com>
Message-ID: <2d51438d5fb44837a83c246ec01d5443@AM3PR05MB545.eurprd05.prod.outlook.com>

Hi,

Something like:

aa <-structure(list(Cat = c(101, 103), Hours = c(15, 10)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
bb <-structure(list(Cat = c(103, 106), Hours = c(16, 11)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
dd <- data.frame(Cat=min(aa[,1],bb[,1]):max(aa[,1],bb[,1]))

gg1 <- merge(aa,dd,all=TRUE)
gg1[is.na(gg1[,2]),2] <- 0

gg2 <- merge(bb,dd,all=TRUE)
gg2[is.na(gg2[,2]),2] <- 0

Might be what you are looking for.

Martyn
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Mat
Sent: 16 May 2014 12:18
To: r-help at r-project.org
Subject: [R] create new rows with 0, if nessecary

hello togehter, 

i have a little problem, i have frames like this two:
      Cat      Hours      
A    101     15
B    103     10

      Cat      Hours      
A    103     16
B    106     11

I need to convert this 2 data.frames into the following equal structure:
      Cat      Hours
A    101
B    102
C    103
D    104
E    105
F    106

The 2 examples should be look this one:

      Cat      Hours
A    101      15
B    102       0
C    103      10
D    104       0
E    105       0
F    106       0

      Cat      Hours
A    101       0
B    102       0
C    103      16
D    104       0
E    105       0
F    106      11



--
View this message in context: http://r.789695.n4.nabble.com/create-new-rows-with-0-if-nessecary-tp4690699.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________________________________________________
This e-mail has been scanned for all viruses by Star.\ _...{{dropped:3}}


From hill0093 at umn.edu  Fri May 16 15:55:56 2014
From: hill0093 at umn.edu (Hurr)
Date: Fri, 16 May 2014 06:55:56 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
Message-ID: <1400248556736-4690707.post@n4.nabble.com>

Thankyou S Ellison,
The following code works preliminarily,
To start-with, how do I omit the axis label?
I tried xlab=NULL in the plot command

install.packages('plotrix')
library(plotrix)
horAxisLims=c(0,7213)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims)
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)))
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
par(mar=c(8,4,4,2)+.1)  #c(bot,lef,top,rit); default:c(5,4,4,2)+.1 
axis(1,labels=TRUE,tick=TRUE,line=3.5,at=NULL)




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690707.html
Sent from the R help mailing list archive at Nabble.com.


From jari.oksanen at oulu.fi  Fri May 16 15:57:38 2014
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Fri, 16 May 2014 13:57:38 +0000
Subject: [R] dist like function but where you can configure the method
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
Message-ID: <loom.20140516T154543-490@post.gmane.org>

Witold E Wolski <wewolski <at> gmail.com> writes:

> 
> Looking for an  fast dist implementation
> where I could pass my own dist function to the "method" parameter
> 
> i.e.
> 
> mydistfun = function(x,y){
>  return(ks.test(x,y)$p.value)   #some mystique implementation
> }
> 
> wow = dist(data,method=mydistfun)

I think it is best to write that function yourself.

The "dist" object is a vector corresponding to a lower triangle
(without the diagonal) of a symmetric matrix and with attributes.
The attributes are class which should be c("mydist", "dist"), Size
which is the length(x), Labels (optional) which are the 
names of your items and if given, should have length(x), 
call = match.call(), Diag = FALSE, Upper = FALSE and method name.
All you need is a vector with attributes.

All this will add very little overhead to your calculation, so
for all practical purposes this implementation is just as fast as 
is your "mystique implementation" of pairwise distances. Your
example (ks.test()) probably would be pretty slow. If you can
vectorize your distance, it can be really fast, even if you 
calculate the full symmetric matrix and throw away the diagonal and
upper triangle.

Cheers, Jari Oksanen


From dcarlson at tamu.edu  Fri May 16 16:07:32 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Fri, 16 May 2014 14:07:32 +0000
Subject: [R] create new rows with 0, if nessecary
In-Reply-To: <2d51438d5fb44837a83c246ec01d5443@AM3PR05MB545.eurprd05.prod.outlook.com>
References: <1400239063918-4690699.post@n4.nabble.com>
	<2d51438d5fb44837a83c246ec01d5443@AM3PR05MB545.eurprd05.prod.outlook.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EAA2@mb02.ads.tamu.edu>

A bit simpler is to add the Hours column when creating the dd data.frame:

dd <- data.frame(Cat=min(aa[,1],bb[,1]):max(aa[,1],bb[,1]), Hours=0)

Then just
gg1 <- merge(aa,dd,all=TRUE)
gg2 <- merge(bb,dd,all=TRUE)

David Carlson


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Martyn Byng
Sent: Friday, May 16, 2014 6:51 AM
To: Mat; r-help at r-project.org
Subject: Re: [R] create new rows with 0, if nessecary

Hi,

Something like:

aa <-structure(list(Cat = c(101, 103), Hours = c(15, 10)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
bb <-structure(list(Cat = c(103, 106), Hours = c(16, 11)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
dd <- data.frame(Cat=min(aa[,1],bb[,1]):max(aa[,1],bb[,1]))

gg1 <- merge(aa,dd,all=TRUE)
gg1[is.na(gg1[,2]),2] <- 0

gg2 <- merge(bb,dd,all=TRUE)
gg2[is.na(gg2[,2]),2] <- 0

Might be what you are looking for.

Martyn
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Mat
Sent: 16 May 2014 12:18
To: r-help at r-project.org
Subject: [R] create new rows with 0, if nessecary

hello togehter, 

i have a little problem, i have frames like this two:
      Cat      Hours      
A    101     15
B    103     10

      Cat      Hours      
A    103     16
B    106     11

I need to convert this 2 data.frames into the following equal structure:
      Cat      Hours
A    101
B    102
C    103
D    104
E    105
F    106

The 2 examples should be look this one:

      Cat      Hours
A    101      15
B    102       0
C    103      10
D    104       0
E    105       0
F    106       0

      Cat      Hours
A    101       0
B    102       0
C    103      16
D    104       0
E    105       0
F    106      11



--
View this message in context: http://r.789695.n4.nabble.com/create-new-rows-with-0-if-nessecary-tp4690699.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________________________________________________
This e-mail has been scanned for all viruses by Star.\ _...{{dropped:9}}


From dcarlson at tamu.edu  Fri May 16 16:49:49 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Fri, 16 May 2014 14:49:49 +0000
Subject: [R] Retrieving the matched data frame from Matching?
In-Reply-To: <CACk-te1kCZxD1stFW0GwLjyFYK1xU1RS0-7Gab6SEcP_SrgsrQ@mail.gmail.com>
References: <2A85392715B78D4E87D89D4AD8199C0E12CD4A3E54@W0803.EducationNorthWest.Local>
	<CACk-te1kCZxD1stFW0GwLjyFYK1xU1RS0-7Gab6SEcP_SrgsrQ@mail.gmail.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EAC7@mb02.ads.tamu.edu>

The str() function will show you what is contained in m8. If you look at the manual page for Match:

> ?Match

the section labeled "Value" gives more details on what results are returned by the Match() function. The print() and summary() functions usually show abbreviated results. In this case a list with 20 elements returned. If you don't know what a list is or how to extract things from a list, you will have to learn more about R.

The official documentation: http://cran.r-project.org/manuals.html
User-contributed manuals and tutorials: http://cran.r-project.org/other-docs.html

David C

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Bert Gunter
Sent: Thursday, May 15, 2014 10:27 PM
To: Art Burke
Cc: r-help at r-project.org
Subject: Re: [R] Retrieving the matched data frame from Matching?

Don't know anything about this in particular, but ?str, as in

str(m8)

is often useful in such situations. But hopefully you'll get a better,
more specific answer.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 15, 2014 at 6:13 PM, Art Burke
<Art.Burke at educationnorthwest.org> wrote:
> I'm trying to use the Matching package to create a matched dataset but I'm having trouble retrieving the data frame where the comparison cases are identified. Could someone please give me a pointer on how to do this? The call was a simple one and seems to have worked with no errors ...
>
> m8 <- Match(TR = Tr8, X = X8, M = 2)
> summary(m8)
>
> Appeciated!
>
> Art
> ____________________________________________________________
> Arthur Burke, Ph.D.
> Senior Methodology Advisor
> Education Northwest
> 101 SW Main St., Ste 500
> Portland OR 97204
> Email: art.burke at educationnorthwest.org
> Phone: 503.275.9592
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From S.Ellison at LGCGroup.com  Fri May 16 17:08:29 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Fri, 16 May 2014 16:08:29 +0100
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400248556736-4690707.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
Message-ID: <A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>

> To start-with, how do I omit the axis label?
> I tried xlab=NULL in the plot command
NULL is the default for xlab (see ?plot.default, which probably gives most of the information you need) 

Try 'xlab=""' or xlab=NA.


S



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From taniuxpc at gmail.com  Fri May 16 17:12:49 2014
From: taniuxpc at gmail.com (=?UTF-8?Q?Tania_Pati=C3=B1o?=)
Date: Fri, 16 May 2014 08:12:49 -0700
Subject: [R] account
Message-ID: <CAJm3CFSWAzoXXjFafS2zhwN9uw6J4vwYUNOM5ks1WAVh16dcOQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140516/0b692aae/attachment.pl>

From wewolski at gmail.com  Fri May 16 17:46:21 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Fri, 16 May 2014 17:46:21 +0200
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <loom.20140516T154543-490@post.gmane.org>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
Message-ID: <CAAjnpdjaAL11cC+e0mSOeaNe-i2bkhuW837q65QhL8sZuim3jg@mail.gmail.com>

Dear Jari,

Thanks for your reply...

The overhead would be
2 for loops
for(i in 1:dim(x)[2])
for(j in i:dim(x)[2])

isn't it? Or are you seeing a different way to implement it?

A for loop is pretty expensive in R. Therefore I am looking for an
implementation similar to apply or lapply were the iteration is made
in native code.





On 16 May 2014 15:57, Jari Oksanen <jari.oksanen at oulu.fi> wrote:
> Witold E Wolski <wewolski <at> gmail.com> writes:
>
>>
>> Looking for an  fast dist implementation
>> where I could pass my own dist function to the "method" parameter
>>
>> i.e.
>>
>> mydistfun = function(x,y){
>>  return(ks.test(x,y)$p.value)   #some mystique implementation
>> }
>>
>> wow = dist(data,method=mydistfun)
>
> I think it is best to write that function yourself.
>
> The "dist" object is a vector corresponding to a lower triangle
> (without the diagonal) of a symmetric matrix and with attributes.
> The attributes are class which should be c("mydist", "dist"), Size
> which is the length(x), Labels (optional) which are the
> names of your items and if given, should have length(x),
> call = match.call(), Diag = FALSE, Upper = FALSE and method name.
> All you need is a vector with attributes.
>
> All this will add very little overhead to your calculation, so
> for all practical purposes this implementation is just as fast as
> is your "mystique implementation" of pairwise distances. Your
> example (ks.test()) probably would be pretty slow. If you can
> vectorize your distance, it can be really fast, even if you
> calculate the full symmetric matrix and throw away the diagonal and
> upper triangle.
>
> Cheers, Jari Oksanen
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Witold Eryk Wolski


From hill0093 at umn.edu  Fri May 16 17:59:20 2014
From: hill0093 at umn.edu (Hurr)
Date: Fri, 16 May 2014 08:59:20 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
Message-ID: <1400255960725-4690716.post@n4.nabble.com>

Sorry I didn't catch-on to xlab="" earlier.
The following code works preliminarily,
now I need to add an axis-title to the added axis.
I don't see axistitle in axis command selections.

install.packages('plotrix')
library(plotrix)
horAxisLims=c(0,7213)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="")
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)))
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
par(mar=c(8,4,4,2)+.1)  #c(bot,lef,top,rit); default:c(5,4,4,2)+.1 
axis(1,labels=TRUE,tick=TRUE,line=3.5,at=NULL)




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690716.html
Sent from the R help mailing list archive at Nabble.com.


From b.rowlingson at lancaster.ac.uk  Fri May 16 18:12:09 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri, 16 May 2014 17:12:09 +0100
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
Message-ID: <CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>

On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com> wrote:
> Dear Jari,
>
> Thanks for your reply...
>
> The overhead would be
> 2 for loops
> for(i in 1:dim(x)[2])
> for(j in i:dim(x)[2])
>
> isn't it? Or are you seeing a different way to implement it?
>
> A for loop is pretty expensive in R. Therefore I am looking for an
> implementation similar to apply or lapply were the iteration is made
> in native code.

No, a for loop is not pretty expensive in R -- at least not compared
to doing a k-s test:

 > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
   user  system elapsed
  3.680   0.012   3.697

 3.68 seconds to do 10000 ks tests (and generate 200 runifs)

 > system.time(for(i in 1:10000){})
   user  system elapsed
  0.000   0.000   0.001

 0.000s time to do 10000 loops. Oh lets nest it for fun:

 > system.time(for(i in 1:100){for(i in 1:100){ks.test(runif(100),runif(100))}})
   user  system elapsed
  3.692   0.004   3.701

 no different. Even a ks-test with only 5 items is taking me 2.2 seconds.

Moral: don't worry about the for loops.

Barry


From mario_wiegand at gmx.de  Fri May 16 14:29:06 2014
From: mario_wiegand at gmx.de (marioger)
Date: Fri, 16 May 2014 05:29:06 -0700 (PDT)
Subject: [R] Using centers of hierarchical clustering for k-means
Message-ID: <1400243345905-4690704.post@n4.nabble.com>

Hi,

i have the following problem: I am using k-means algorithm for clustering.
But instead of using randomized centers, I would like to use centers created
by hierarchical clustering. So I want to apply "hclust" on my data set (in
this case the iris data), getting a solution by "cutree", calculating the
means/centers of the resulting clusters and use these centers as starting
points for k-means clusterng. But I have no idea how I calculate the centers
of the clusters and how to use them as starting points for the k-means
algorithm.

Hope you can help. Thanks in advance.

Mario



--
View this message in context: http://r.789695.n4.nabble.com/Using-centers-of-hierarchical-clustering-for-k-means-tp4690704.html
Sent from the R help mailing list archive at Nabble.com.


From smartpink111 at yahoo.com  Fri May 16 16:17:06 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 16 May 2014 07:17:06 -0700 (PDT)
Subject: [R] create new rows with 0, if nessecary
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EAA2@mb02.ads.tamu.edu>
References: <1400239063918-4690699.post@n4.nabble.com>	<2d51438d5fb44837a83c246ec01d5443@AM3PR05MB545.eurprd05.prod.outlook.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6EAA2@mb02.ads.tamu.edu>
Message-ID: <1400249826.16227.YahooMailNeo@web142603.mail.bf1.yahoo.com>



Hi David,

It created duplicated Cat.
gg1
? Cat Hours
1 101???? 0
2 101??? 15
3 102???? 0
4 103???? 0
5 103??? 10
6 104???? 0
7 105???? 0
8 106???? 0
#Probably,

gg1[!duplicated(gg1$Cat,fromLast=TRUE),]
? Cat Hours
2 101??? 15
3 102???? 0
5 103??? 10
6 104???? 0
7 105???? 0
8 106???? 0

A.K.




On Friday, May 16, 2014 10:09 AM, David L Carlson <dcarlson at tamu.edu> wrote:
A bit simpler is to add the Hours column when creating the dd data.frame:

dd <- data.frame(Cat=min(aa[,1],bb[,1]):max(aa[,1],bb[,1]), Hours=0)

Then just
gg1 <- merge(aa,dd,all=TRUE)
gg2 <- merge(bb,dd,all=TRUE)

David Carlson


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Martyn Byng
Sent: Friday, May 16, 2014 6:51 AM
To: Mat; r-help at r-project.org
Subject: Re: [R] create new rows with 0, if nessecary

Hi,

Something like:

aa <-structure(list(Cat = c(101, 103), Hours = c(15, 10)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
bb <-structure(list(Cat = c(103, 106), Hours = c(16, 11)), .Names = c("Cat","Hours"), row.names = c(NA, -2L), class = "data.frame")
dd <- data.frame(Cat=min(aa[,1],bb[,1]):max(aa[,1],bb[,1]))

gg1 <- merge(aa,dd,all=TRUE)
gg1[is.na(gg1[,2]),2] <- 0

gg2 <- merge(bb,dd,all=TRUE)
gg2[is.na(gg2[,2]),2] <- 0

Might be what you are looking for.

Martyn
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Mat
Sent: 16 May 2014 12:18
To: r-help at r-project.org
Subject: [R] create new rows with 0, if nessecary

hello togehter, 

i have a little problem, i have frames like this two:
? ? ? Cat? ? ? Hours? ? ? 
A? ? 101? ?  15
B? ? 103? ?  10

? ? ? Cat? ? ? Hours? ? ? 
A? ? 103? ?  16
B? ? 106? ?  11

I need to convert this 2 data.frames into the following equal structure:
? ? ? Cat? ? ? Hours
A? ? 101
B? ? 102
C? ? 103
D? ? 104
E? ? 105
F? ? 106

The 2 examples should be look this one:

? ? ? Cat? ? ? Hours
A? ? 101? ? ? 15
B? ? 102? ? ?  0
C? ? 103? ? ? 10
D? ? 104? ? ?  0
E? ? 105? ? ?  0
F? ? 106? ? ?  0

? ? ? Cat? ? ? Hours
A? ? 101? ? ?  0
B? ? 102? ? ?  0
C? ? 103? ? ? 16
D? ? 104? ? ?  0
E? ? 105? ? ?  0
F? ? 106? ? ? 11



--
View this message in context: http://r.789695.n4.nabble.com/create-new-rows-with-0-if-nessecary-tp4690699.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

________________________________________________________________________
This e-mail has been scanned for all viruses by Star.\ _...{{dropped:9}}


______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ulla.haverinen-shaughnessy at thl.fi  Fri May 16 16:50:27 2014
From: ulla.haverinen-shaughnessy at thl.fi (Haverinen-Shaughnessy Ulla)
Date: Fri, 16 May 2014 17:50:27 +0300
Subject: [R] How to illustrate an interaction with plotLMER.fnc
In-Reply-To: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>
References: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>
Message-ID: <48AA04DF2878F74987EBC3715B9EE13C03159F7CB3AB@EXMAIL.stakes.fi>

Hello, I have built a linear mixed model (with lmer).  To illustrate an interaction between two (originally) continuous variable, I would like to plot the effects of X1 versus Y for 1=low and 2=high X2. I am using plotLMER.fnc but have not been able to figure out the code. Could you help?
Thanks, Ulla


From gunter.berton at gene.com  Fri May 16 18:48:51 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 16 May 2014 09:48:51 -0700
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
Message-ID: <CACk-te31j3r5HFSqu-Hm_bXA0FV8iyppBrMzutkKQjmK_GWCMw@mail.gmail.com>

Yes, ... and further

apply-type functions still have to loop at the interpreter level, and
generally take about the same time as their translation to for loops
(with suitable caveats for this kind of vague assertion). Their chief
advantage is readability and adherence to R's functional paradigm
(again with suitable caveats).

Alternatively, byte code compilation with the compiler package **may**
(significantly) improve speed, but it very much depends ...

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 16, 2014 at 9:12 AM, Barry Rowlingson
<b.rowlingson at lancaster.ac.uk> wrote:
> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com> wrote:
>> Dear Jari,
>>
>> Thanks for your reply...
>>
>> The overhead would be
>> 2 for loops
>> for(i in 1:dim(x)[2])
>> for(j in i:dim(x)[2])
>>
>> isn't it? Or are you seeing a different way to implement it?
>>
>> A for loop is pretty expensive in R. Therefore I am looking for an
>> implementation similar to apply or lapply were the iteration is made
>> in native code.
>
> No, a for loop is not pretty expensive in R -- at least not compared
> to doing a k-s test:
>
>  > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>    user  system elapsed
>   3.680   0.012   3.697
>
>  3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>
>  > system.time(for(i in 1:10000){})
>    user  system elapsed
>   0.000   0.000   0.001
>
>  0.000s time to do 10000 loops. Oh lets nest it for fun:
>
>  > system.time(for(i in 1:100){for(i in 1:100){ks.test(runif(100),runif(100))}})
>    user  system elapsed
>   3.692   0.004   3.701
>
>  no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>
> Moral: don't worry about the for loops.
>
> Barry
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From cscherb1 at gwdg.de  Fri May 16 18:49:49 2014
From: cscherb1 at gwdg.de (Christoph Scherber)
Date: Fri, 16 May 2014 18:49:49 +0200
Subject: [R] How to illustrate an interaction with plotLMER.fnc
In-Reply-To: <48AA04DF2878F74987EBC3715B9EE13C03159F7CB3AB@EXMAIL.stakes.fi>
References: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>
	<48AA04DF2878F74987EBC3715B9EE13C03159F7CB3AB@EXMAIL.stakes.fi>
Message-ID: <537641AD.50201@gwdg.de>

Dear Ulla,

Wouldn?t it be more straightforward to use John Fox?s effects package 
for this?

library(effects)
plot(effect("variable1:variable2",model))

Best wishes
Christoph

Am 16.05.2014 16:50, schrieb Haverinen-Shaughnessy Ulla:
> Hello, I have built a linear mixed model (with lmer).  To illustrate an interaction between two (originally) continuous variable, I would like to plot the effects of X1 versus Y for 1=low and 2=high X2. I am using plotLMER.fnc but have not been able to figure out the code. Could you help?
> Thanks, Ulla
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jari.oksanen at oulu.fi  Fri May 16 18:54:30 2014
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Fri, 16 May 2014 16:54:30 +0000
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CAAjnpdjaAL11cC+e0mSOeaNe-i2bkhuW837q65QhL8sZuim3jg@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<CAAjnpdjaAL11cC+e0mSOeaNe-i2bkhuW837q65QhL8sZuim3jg@mail.gmail.com>
Message-ID: <5DA0B6AC-EDAC-4F83-A283-C855A59FC574@oulu.fi>

I did not regard the loops as the overhead but a part of the process. Overhead is setting attributes. The loop is not so very expensive compared to ks.test(). You can always replace the loop with an apply on the vector of indices, but about the only way to speed up calculations is to use parallel processing (parLapply, parSapply, parRapply functions of the parallel processing.

I wrote about vectorization: that would be faster, but it cannot be done blindly to just "any function", but you must deconstruct the function to see if it can decomposed into operations of vectors. In vegan:::designdist we do that for some function types, but you really must *think* about the function you are using to know if you can write it in vectorized form. It is not automatic.

Cheers, Jari Oksanen
On 16/05/2014, at 18:46 PM, Witold E Wolski wrote:

> Dear Jari,
> 
> Thanks for your reply...
> 
> The overhead would be
> 2 for loops
> for(i in 1:dim(x)[2])
> for(j in i:dim(x)[2])
> 
> isn't it? Or are you seeing a different way to implement it?
> 
> A for loop is pretty expensive in R. Therefore I am looking for an
> implementation similar to apply or lapply were the iteration is made
> in native code.
> 
> 
> 
> 
> 
> On 16 May 2014 15:57, Jari Oksanen <jari.oksanen at oulu.fi> wrote:
>> Witold E Wolski <wewolski <at> gmail.com> writes:
>> 
>>> 
>>> Looking for an  fast dist implementation
>>> where I could pass my own dist function to the "method" parameter
>>> 
>>> i.e.
>>> 
>>> mydistfun = function(x,y){
>>> return(ks.test(x,y)$p.value)   #some mystique implementation
>>> }
>>> 
>>> wow = dist(data,method=mydistfun)
>> 
>> I think it is best to write that function yourself.
>> 
>> The "dist" object is a vector corresponding to a lower triangle
>> (without the diagonal) of a symmetric matrix and with attributes.
>> The attributes are class which should be c("mydist", "dist"), Size
>> which is the length(x), Labels (optional) which are the
>> names of your items and if given, should have length(x),
>> call = match.call(), Diag = FALSE, Upper = FALSE and method name.
>> All you need is a vector with attributes.
>> 
>> All this will add very little overhead to your calculation, so
>> for all practical purposes this implementation is just as fast as
>> is your "mystique implementation" of pairwise distances. Your
>> example (ks.test()) probably would be pretty slow. If you can
>> vectorize your distance, it can be really fast, even if you
>> calculate the full symmetric matrix and throw away the diagonal and
>> upper triangle.
>> 
>> Cheers, Jari Oksanen
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> -- 
> Witold Eryk Wolski


From dcarlson at tamu.edu  Fri May 16 18:58:56 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Fri, 16 May 2014 16:58:56 +0000
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400255960725-4690716.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
	<1400255960725-4690716.post@n4.nabble.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EBF2@mb02.ads.tamu.edu>

?title

Used for main titles, subtitles, and x/y labels.

David C

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Hurr
Sent: Friday, May 16, 2014 10:59 AM
To: r-help at r-project.org
Subject: Re: [R] Second axis on bottom of graph

Sorry I didn't catch-on to xlab="" earlier.
The following code works preliminarily,
now I need to add an axis-title to the added axis.
I don't see axistitle in axis command selections.

install.packages('plotrix')
library(plotrix)
horAxisLims=c(0,7213)
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="")
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)))
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
par(mar=c(8,4,4,2)+.1)  #c(bot,lef,top,rit); default:c(5,4,4,2)+.1 
axis(1,labels=TRUE,tick=TRUE,line=3.5,at=NULL)




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690716.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From dcarlson at tamu.edu  Fri May 16 19:07:35 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Fri, 16 May 2014 17:07:35 +0000
Subject: [R] Using centers of hierarchical clustering for k-means
In-Reply-To: <1400243345905-4690704.post@n4.nabble.com>
References: <1400243345905-4690704.post@n4.nabble.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EC05@mb02.ads.tamu.edu>

This should get you started

> set.seed(42)
> x <- matrix(rnorm(200, 25, 5), 40, 5)
> x.clus <- hclust(dist(x))
> x.g4 <- cutree(x.clus, 4)
> x.cent <- aggregate(x, list(x.g4), mean)
> x.km <- kmeans(x, x.cent[,-1])
> xtabs(~x.g4+x.km$cluster)
    x.km$cluster
x.g4  1  2  3  4
   1 10  0  1  0
   2  0 12  2  0
   3  0  2 10  0
   4  0  0  0  3

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of marioger
Sent: Friday, May 16, 2014 7:29 AM
To: r-help at r-project.org
Subject: [R] Using centers of hierarchical clustering for k-means

Hi,

i have the following problem: I am using k-means algorithm for clustering.
But instead of using randomized centers, I would like to use centers created
by hierarchical clustering. So I want to apply "hclust" on my data set (in
this case the iris data), getting a solution by "cutree", calculating the
means/centers of the resulting clusters and use these centers as starting
points for k-means clusterng. But I have no idea how I calculate the centers
of the clusters and how to use them as starting points for the k-means
algorithm.

Hope you can help. Thanks in advance.

Mario



--
View this message in context: http://r.789695.n4.nabble.com/Using-centers-of-hierarchical-clustering-for-k-means-tp4690704.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From sarah.goslee at gmail.com  Fri May 16 19:09:18 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Fri, 16 May 2014 13:09:18 -0400
Subject: [R] Using centers of hierarchical clustering for k-means
In-Reply-To: <1400243345905-4690704.post@n4.nabble.com>
References: <1400243345905-4690704.post@n4.nabble.com>
Message-ID: <CAM_vjumbW+D42XrJZiHYqDA9gfF5G8MVzRzYcx2DaeYank4u8Q@mail.gmail.com>

Well, you could use the group membership from the clustering along
with, for instance, aggregate() to get the mean values for each
cluster, and pass those to kmeans() using the centers argument as
described in the help file.

Unless you want medoids instead of centroids, since you didn't specify?

If you post a reproducible example including the code for the parts
you know how to do, you might get someone willing to fill in the code
for the unknown parts.

Sarah

On Fri, May 16, 2014 at 8:29 AM, marioger <mario_wiegand at gmx.de> wrote:
> Hi,
>
> i have the following problem: I am using k-means algorithm for clustering.
> But instead of using randomized centers, I would like to use centers created
> by hierarchical clustering. So I want to apply "hclust" on my data set (in
> this case the iris data), getting a solution by "cutree", calculating the
> means/centers of the resulting clusters and use these centers as starting
> points for k-means clusterng. But I have no idea how I calculate the centers
> of the clusters and how to use them as starting points for the k-means
> algorithm.
>
> Hope you can help. Thanks in advance.
>
> Mario
>
>
-- 
Sarah Goslee
http://www.functionaldiversity.org


From hill0093 at umn.edu  Fri May 16 19:34:12 2014
From: hill0093 at umn.edu (Hurr)
Date: Fri, 16 May 2014 10:34:12 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EBF2@mb02.ads.tamu.edu>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
	<1400255960725-4690716.post@n4.nabble.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6EBF2@mb02.ads.tamu.edu>
Message-ID: <1400261652020-4690729.post@n4.nabble.com>

Thank you David for title()
In the axis command I need line=3.5, 
but it only works with whole numbers.
Better yet, it would be better to move 
the horLabels upward almost to the axis.
I can't figure out how to do that either.
Please show me.
Hurr





--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690729.html
Sent from the R help mailing list archive at Nabble.com.


From ruipbarradas at sapo.pt  Fri May 16 20:55:57 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Fri, 16 May 2014 19:55:57 +0100
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>	<loom.20140516T154543-490@post.gmane.org>	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
Message-ID: <53765F3D.6070400@sapo.pt>

Hello,

The compiler package is good at speeding up for loops but in this case 
the gain is neglectable. The ks test is the real time problem.

library(compiler)

f1 <- function(n){
	for(i in 1:100){
		for(i in 1:100){
			ks.test(runif(100),runif(100))
		}
	}
}

f1.c <- cmpfun(f1)

system.time(f1())
    user  system elapsed
    3.50    0.00    3.53
system.time(f1.c())
    user  system elapsed
    3.47    0.00    3.48


Rui Barradas

Em 16-05-2014 17:12, Barry Rowlingson escreveu:
> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com> wrote:
>> Dear Jari,
>>
>> Thanks for your reply...
>>
>> The overhead would be
>> 2 for loops
>> for(i in 1:dim(x)[2])
>> for(j in i:dim(x)[2])
>>
>> isn't it? Or are you seeing a different way to implement it?
>>
>> A for loop is pretty expensive in R. Therefore I am looking for an
>> implementation similar to apply or lapply were the iteration is made
>> in native code.
>
> No, a for loop is not pretty expensive in R -- at least not compared
> to doing a k-s test:
>
>   > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>     user  system elapsed
>    3.680   0.012   3.697
>
>   3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>
>   > system.time(for(i in 1:10000){})
>     user  system elapsed
>    0.000   0.000   0.001
>
>   0.000s time to do 10000 loops. Oh lets nest it for fun:
>
>   > system.time(for(i in 1:100){for(i in 1:100){ks.test(runif(100),runif(100))}})
>     user  system elapsed
>    3.692   0.004   3.701
>
>   no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>
> Moral: don't worry about the for loops.
>
> Barry
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ulla.haverinen-shaughnessy at thl.fi  Fri May 16 19:40:18 2014
From: ulla.haverinen-shaughnessy at thl.fi (Haverinen-Shaughnessy Ulla)
Date: Fri, 16 May 2014 20:40:18 +0300
Subject: [R] How to illustrate an interaction with plotLMER.fnc
In-Reply-To: <537641AD.50201@gwdg.de>
References: <9A9A05D4-DC6A-4295-AFC5-D558EF69CCAB@thl.fi>
	<48AA04DF2878F74987EBC3715B9EE13C03159F7CB3AB@EXMAIL.stakes.fi>
	<537641AD.50201@gwdg.de>
Message-ID: <48AA04DF2878F74987EBC3715B9EE13C03159F7CB3B9@EXMAIL.stakes.fi>

It works, thanks a million!

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Christoph Scherber
Sent: 16. toukokuuta 2014 19:50
To: r-help at r-project.org
Subject: Re: [R] How to illustrate an interaction with plotLMER.fnc

Dear Ulla,

Wouldn?t it be more straightforward to use John Fox?s effects package for this?

library(effects)
plot(effect("variable1:variable2",model))

Best wishes
Christoph

Am 16.05.2014 16:50, schrieb Haverinen-Shaughnessy Ulla:
> Hello, I have built a linear mixed model (with lmer).  To illustrate an interaction between two (originally) continuous variable, I would like to plot the effects of X1 versus Y for 1=low and 2=high X2. I am using plotLMER.fnc but have not been able to figure out the code. Could you help?
> Thanks, Ulla
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From wewolski at gmail.com  Fri May 16 22:00:15 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Fri, 16 May 2014 22:00:15 +0200
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <53765F3D.6070400@sapo.pt>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
	<53765F3D.6070400@sapo.pt>
Message-ID: <CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>

Ouch,

First : my question was not how to implement dist but if there is a
more generic dist function than stats:dist.

Secondly: ks.test is ment as a placeholder (see the comment in the
code I did send) for any other function taking two vector arguments.

Third: I do subscribe to the idea that a function call is easier to
read and understand than a for loop. @Bert apply is a native C
function and the loop is not interpreted AFAIK

@Rui @Barry @Jari What do you benchmark? an empty loop?

Look at the trivial benchmarks below: _apply_ clearly outperforms a
for loop in R , It always has, it outperforms even an empty for

# an empty unrealistic for loop as suggested by Rui , Barry and Jari
f1 <- function(n){
  for(i in 1:n){
    for(j in 1:n){
    }
  }}


myfunc = function(x,y=x){x-y}

# a for loop which does actually something
f2 <- function(n){
  mm <- matrix(0,ncol=n,nrow=n)
  for(i in 1:n){
    for(j in 1:n){
      mm[i,j] = myfunc(i,j)
    }
  }
  return(mm)
}

# and array
f3 = function(n){
  res = rep(0,n*n)
  for(i in 1:(n*n))
  {
    res[i] = myfunc(i)
  }
}


n = 1000
system.time(f1(n))
system.time(f2(n))
system.time(f3(n))
system.time(apply(t(1:(n*n)),1,myfunc))


> system.time(f1(n))
       User      System verstrichen
       0.28        0.00        0.28
> system.time(f2(n))
       User      System verstrichen
       6.80        0.00        7.09
> system.time(f3(n))
       User      System verstrichen
       5.83        0.00        5.98
> system.time(apply(t(1:(n*n)),1,myfunc))
       User      System verstrichen
       0.19        0.00        0.19






On 16 May 2014 20:55, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> The compiler package is good at speeding up for loops but in this case the
> gain is neglectable. The ks test is the real time problem.
>
> library(compiler)
>
> f1 <- function(n){
>
>         for(i in 1:100){
>                 for(i in 1:100){
>                         ks.test(runif(100),runif(100))
>                 }
>         }
> }
>
> f1.c <- cmpfun(f1)
>
> system.time(f1())
>    user  system elapsed
>    3.50    0.00    3.53
> system.time(f1.c())
>    user  system elapsed
>    3.47    0.00    3.48
>
>
> Rui Barradas
>
> Em 16-05-2014 17:12, Barry Rowlingson escreveu:
>>
>> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com>
>> wrote:
>>>
>>> Dear Jari,
>>>
>>> Thanks for your reply...
>>>
>>> The overhead would be
>>> 2 for loops
>>> for(i in 1:dim(x)[2])
>>> for(j in i:dim(x)[2])
>>>
>>> isn't it? Or are you seeing a different way to implement it?
>>>
>>> A for loop is pretty expensive in R. Therefore I am looking for an
>>> implementation similar to apply or lapply were the iteration is made
>>> in native code.
>>
>>
>> No, a for loop is not pretty expensive in R -- at least not compared
>> to doing a k-s test:
>>
>>   > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>>     user  system elapsed
>>    3.680   0.012   3.697
>>
>>   3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>>
>>   > system.time(for(i in 1:10000){})
>>     user  system elapsed
>>    0.000   0.000   0.001
>>
>>   0.000s time to do 10000 loops. Oh lets nest it for fun:
>>
>>   > system.time(for(i in 1:100){for(i in
>> 1:100){ks.test(runif(100),runif(100))}})
>>     user  system elapsed
>>    3.692   0.004   3.701
>>
>>   no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>>
>> Moral: don't worry about the for loops.
>>
>> Barry
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>



-- 
Witold Eryk Wolski


From dwinsemius at comcast.net  Fri May 16 22:14:39 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 16 May 2014 13:14:39 -0700
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400255960725-4690716.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
	<1400255960725-4690716.post@n4.nabble.com>
Message-ID: <3AA2E71B-E537-4F71-BC62-6DFDBCC10803@comcast.net>


On May 16, 2014, at 8:59 AM, Hurr wrote:

> Sorry I didn't catch-on to xlab="" earlier.
> The following code works preliminarily,
> now I need to add an axis-title to the added axis.
> I don't see axistitle in axis command selections.

That's because it is part of the 'title' function.

-- 
David.

> 
> install.packages('plotrix')
> library(plotrix)
> horAxisLims=c(0,7213)
> verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
> #not fussy 
> horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
> #not at tics 
> horTicLocs=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
> horLabels=c('1Yr','1Da','10.8Hr','7Hr','5Hr','4Hr','3Hr','2.57Hr','2.25Hr','2Hr','1.82Hr','1.67Hr','1.54Hr','1.43Hr','1.34Hr','1.25Hr')
> plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="")
> axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)))
> staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
> par(mar=c(8,4,4,2)+.1)  #c(bot,lef,top,rit); default:c(5,4,4,2)+.1 
> axis(1,labels=TRUE,tick=TRUE,line=3.5,at=NULL)
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690716.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Fri May 16 23:07:20 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 16 May 2014 14:07:20 -0700
Subject: [R] solution for r-help to the problem of yahoo addresses
	bouncing?
In-Reply-To: <5375D97F.1080104@yahoo.de>
References: <5375D97F.1080104@yahoo.de>
Message-ID: <95EBCAC5-EE82-4BCF-A794-AA75B7743EED@comcast.net>


On May 16, 2014, at 2:25 AM, Jannis wrote:

> Hi R users,
> 
> 
> 
> this is not R related but rather affects the r-help list in general but I hope that some r-help users may have found a solution.
> 
> Since recently, i get messages like this from the list server:
> 
> "Your membership in the mailing list R-help has been disabled due to
> excessive bounces..."
> 
> 
> I suspect this is due to yahoo recently changing its handling of DMARC policies.

Yes. It is due to ISP bounces coming back to the ETHZ server. You do not say what you did with the rest of the message. Did you click on the re-enable hyperlink? About 250 people were recently forcibly unsubscribed on the same day, mostly with yahoo, gmail, or hotmail addresses,  because they had failed to re-enable their subscriptions. (This action by the mailserver filled up the mailboxes of all the moderators.)

> Is there anything I can do from my side to change this? Or is the only solution to change the mail provider?

Seek out methods of putting r-help on your whitemail list. Please do not ask me to describe this for you further. That is your and your ISP's responsibility to sort out.

-- 

David Winsemius
Alameda, CA, USA


From wdunlap at tibco.com  Fri May 16 23:09:47 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Fri, 16 May 2014 14:09:47 -0700
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
	<53765F3D.6070400@sapo.pt>
	<CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
Message-ID: <CAF8bMcbdp3GTQzGQnSowRRUGxFzUb3sf-rBABR=o=QMKr2XOLw@mail.gmail.com>

>> system.time(apply(t(1:(n*n)),1,myfunc))
>        User      System verstrichen
>        0.19        0.00        0.19

That calls 'myfunc' exactly once:

> system.time(apply(t(1:(3*3)), 1, print))
[1] 1 2 3 4 5 6 7 8 9
   user  system elapsed
      0       0       0


Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Fri, May 16, 2014 at 1:00 PM, Witold E Wolski <wewolski at gmail.com> wrote:
> Ouch,
>
> First : my question was not how to implement dist but if there is a
> more generic dist function than stats:dist.
>
> Secondly: ks.test is ment as a placeholder (see the comment in the
> code I did send) for any other function taking two vector arguments.
>
> Third: I do subscribe to the idea that a function call is easier to
> read and understand than a for loop. @Bert apply is a native C
> function and the loop is not interpreted AFAIK
>
> @Rui @Barry @Jari What do you benchmark? an empty loop?
>
> Look at the trivial benchmarks below: _apply_ clearly outperforms a
> for loop in R , It always has, it outperforms even an empty for
>
> # an empty unrealistic for loop as suggested by Rui , Barry and Jari
> f1 <- function(n){
>   for(i in 1:n){
>     for(j in 1:n){
>     }
>   }}
>
>
> myfunc = function(x,y=x){x-y}
>
> # a for loop which does actually something
> f2 <- function(n){
>   mm <- matrix(0,ncol=n,nrow=n)
>   for(i in 1:n){
>     for(j in 1:n){
>       mm[i,j] = myfunc(i,j)
>     }
>   }
>   return(mm)
> }
>
> # and array
> f3 = function(n){
>   res = rep(0,n*n)
>   for(i in 1:(n*n))
>   {
>     res[i] = myfunc(i)
>   }
> }
>
>
> n = 1000
> system.time(f1(n))
> system.time(f2(n))
> system.time(f3(n))
> system.time(apply(t(1:(n*n)),1,myfunc))
>
>
>> system.time(f1(n))
>        User      System verstrichen
>        0.28        0.00        0.28
>> system.time(f2(n))
>        User      System verstrichen
>        6.80        0.00        7.09
>> system.time(f3(n))
>        User      System verstrichen
>        5.83        0.00        5.98
>> system.time(apply(t(1:(n*n)),1,myfunc))
>        User      System verstrichen
>        0.19        0.00        0.19
>
>
>
>
>
>
> On 16 May 2014 20:55, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>> Hello,
>>
>> The compiler package is good at speeding up for loops but in this case the
>> gain is neglectable. The ks test is the real time problem.
>>
>> library(compiler)
>>
>> f1 <- function(n){
>>
>>         for(i in 1:100){
>>                 for(i in 1:100){
>>                         ks.test(runif(100),runif(100))
>>                 }
>>         }
>> }
>>
>> f1.c <- cmpfun(f1)
>>
>> system.time(f1())
>>    user  system elapsed
>>    3.50    0.00    3.53
>> system.time(f1.c())
>>    user  system elapsed
>>    3.47    0.00    3.48
>>
>>
>> Rui Barradas
>>
>> Em 16-05-2014 17:12, Barry Rowlingson escreveu:
>>>
>>> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com>
>>> wrote:
>>>>
>>>> Dear Jari,
>>>>
>>>> Thanks for your reply...
>>>>
>>>> The overhead would be
>>>> 2 for loops
>>>> for(i in 1:dim(x)[2])
>>>> for(j in i:dim(x)[2])
>>>>
>>>> isn't it? Or are you seeing a different way to implement it?
>>>>
>>>> A for loop is pretty expensive in R. Therefore I am looking for an
>>>> implementation similar to apply or lapply were the iteration is made
>>>> in native code.
>>>
>>>
>>> No, a for loop is not pretty expensive in R -- at least not compared
>>> to doing a k-s test:
>>>
>>>   > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>>>     user  system elapsed
>>>    3.680   0.012   3.697
>>>
>>>   3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>>>
>>>   > system.time(for(i in 1:10000){})
>>>     user  system elapsed
>>>    0.000   0.000   0.001
>>>
>>>   0.000s time to do 10000 loops. Oh lets nest it for fun:
>>>
>>>   > system.time(for(i in 1:100){for(i in
>>> 1:100){ks.test(runif(100),runif(100))}})
>>>     user  system elapsed
>>>    3.692   0.004   3.701
>>>
>>>   no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>>>
>>> Moral: don't worry about the for loops.
>>>
>>> Barry
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>
>
>
> --
> Witold Eryk Wolski
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Fri May 16 23:10:22 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 16 May 2014 14:10:22 -0700
Subject: [R] account
In-Reply-To: <CAJm3CFSWAzoXXjFafS2zhwN9uw6J4vwYUNOM5ks1WAVh16dcOQ@mail.gmail.com>
References: <CAJm3CFSWAzoXXjFafS2zhwN9uw6J4vwYUNOM5ks1WAVh16dcOQ@mail.gmail.com>
Message-ID: <A7B26C0D-E64D-44AD-899D-B747D8E0D6C1@comcast.net>


On May 16, 2014, at 8:12 AM, Tania Pati?o wrote:

> R-help could you please stop to send me messages thank you!

The moderators do not have your password. You need to unsubscribe yourself. See the bottom of the page
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> 
> https://stat.ethz.ch/mailman/listinfo/r-help

-- 

David Winsemius
Alameda, CA, USA


From gunter.berton at gene.com  Fri May 16 23:13:26 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Fri, 16 May 2014 14:13:26 -0700
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
	<53765F3D.6070400@sapo.pt>
	<CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
Message-ID: <CACk-te03=EjbTOuaBr6VHGTnC82qOQUdHCQL6nxGVdws5=nHtw@mail.gmail.com>

If the apply() call is not empty, its contents must of course be
interpreted. That's where the time goes.

>system.time(for(i in 1:1e6)rnorm(1))
   user  system elapsed
   5.25    0.00    5.29

> system.time(lapply(1:1e6,rnorm,n=1))
   user  system elapsed
   9.64    0.01    9.72

> system.time(vapply(1:1e6,rnorm,FUN.VALUE=0,n=1))
   user  system elapsed
   5.69    0.00    5.73


I rest my case.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Fri, May 16, 2014 at 1:00 PM, Witold E Wolski <wewolski at gmail.com> wrote:
> Ouch,
>
> First : my question was not how to implement dist but if there is a
> more generic dist function than stats:dist.
>
> Secondly: ks.test is ment as a placeholder (see the comment in the
> code I did send) for any other function taking two vector arguments.
>
> Third: I do subscribe to the idea that a function call is easier to
> read and understand than a for loop. @Bert apply is a native C
> function and the loop is not interpreted AFAIK
>
> @Rui @Barry @Jari What do you benchmark? an empty loop?
>
> Look at the trivial benchmarks below: _apply_ clearly outperforms a
> for loop in R , It always has, it outperforms even an empty for
>
> # an empty unrealistic for loop as suggested by Rui , Barry and Jari
> f1 <- function(n){
>   for(i in 1:n){
>     for(j in 1:n){
>     }
>   }}
>
>
> myfunc = function(x,y=x){x-y}
>
> # a for loop which does actually something
> f2 <- function(n){
>   mm <- matrix(0,ncol=n,nrow=n)
>   for(i in 1:n){
>     for(j in 1:n){
>       mm[i,j] = myfunc(i,j)
>     }
>   }
>   return(mm)
> }
>
> # and array
> f3 = function(n){
>   res = rep(0,n*n)
>   for(i in 1:(n*n))
>   {
>     res[i] = myfunc(i)
>   }
> }
>
>
> n = 1000
> system.time(f1(n))
> system.time(f2(n))
> system.time(f3(n))
> system.time(apply(t(1:(n*n)),1,myfunc))
>
>
>> system.time(f1(n))
>        User      System verstrichen
>        0.28        0.00        0.28
>> system.time(f2(n))
>        User      System verstrichen
>        6.80        0.00        7.09
>> system.time(f3(n))
>        User      System verstrichen
>        5.83        0.00        5.98
>> system.time(apply(t(1:(n*n)),1,myfunc))
>        User      System verstrichen
>        0.19        0.00        0.19
>
>
>
>
>
>
> On 16 May 2014 20:55, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>> Hello,
>>
>> The compiler package is good at speeding up for loops but in this case the
>> gain is neglectable. The ks test is the real time problem.
>>
>> library(compiler)
>>
>> f1 <- function(n){
>>
>>         for(i in 1:100){
>>                 for(i in 1:100){
>>                         ks.test(runif(100),runif(100))
>>                 }
>>         }
>> }
>>
>> f1.c <- cmpfun(f1)
>>
>> system.time(f1())
>>    user  system elapsed
>>    3.50    0.00    3.53
>> system.time(f1.c())
>>    user  system elapsed
>>    3.47    0.00    3.48
>>
>>
>> Rui Barradas
>>
>> Em 16-05-2014 17:12, Barry Rowlingson escreveu:
>>>
>>> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com>
>>> wrote:
>>>>
>>>> Dear Jari,
>>>>
>>>> Thanks for your reply...
>>>>
>>>> The overhead would be
>>>> 2 for loops
>>>> for(i in 1:dim(x)[2])
>>>> for(j in i:dim(x)[2])
>>>>
>>>> isn't it? Or are you seeing a different way to implement it?
>>>>
>>>> A for loop is pretty expensive in R. Therefore I am looking for an
>>>> implementation similar to apply or lapply were the iteration is made
>>>> in native code.
>>>
>>>
>>> No, a for loop is not pretty expensive in R -- at least not compared
>>> to doing a k-s test:
>>>
>>>   > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>>>     user  system elapsed
>>>    3.680   0.012   3.697
>>>
>>>   3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>>>
>>>   > system.time(for(i in 1:10000){})
>>>     user  system elapsed
>>>    0.000   0.000   0.001
>>>
>>>   0.000s time to do 10000 loops. Oh lets nest it for fun:
>>>
>>>   > system.time(for(i in 1:100){for(i in
>>> 1:100){ks.test(runif(100),runif(100))}})
>>>     user  system elapsed
>>>    3.692   0.004   3.701
>>>
>>>   no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>>>
>>> Moral: don't worry about the for loops.
>>>
>>> Barry
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>
>
>
> --
> Witold Eryk Wolski
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From hanhtham.tran at yahoo.com.vn  Fri May 16 23:07:02 2014
From: hanhtham.tran at yahoo.com.vn (Tham Tran)
Date: Fri, 16 May 2014 14:07:02 -0700 (PDT)
Subject: [R] Multiple
 Comparisons-Kruskal-Wallis-Test:	kruskal{agricolae} and kruskalmc{pgirmess}
 don't yield the	same results although they should do (?)
In-Reply-To: <96A12A2B-E537-40D6-9D52-6C70EFE1B526@gmail.com>
References: <1343972561741-4639004.post@n4.nabble.com>
	<83EEA65E-CE50-4408-BB38-A9F93AC0E7D3@gmail.com>
	<1343986395570-4639027.post@n4.nabble.com>
	<2DB71D97-41E7-44F7-9722-5FA260CAA15C@gmail.com>
	<004401cd7197$e9df7a70$bd9e6f50$@edu>
	<96A12A2B-E537-40D6-9D52-6C70EFE1B526@gmail.com>
Message-ID: <1400274422775-4690739.post@n4.nabble.com>

Dear Mr. Dalgaard,

Could you help me know the name of post-hoc multi-comparaison test mentioned
in kruskal function of agricolae package?

Thank you in advance.

Tham Tran



--
View this message in context: http://r.789695.n4.nabble.com/Multiple-Comparisons-Kruskal-Wallis-Test-kruskal-agricolae-and-kruskalmc-pgirmess-don-t-yield-the-sa-tp4639004p4690739.html
Sent from the R help mailing list archive at Nabble.com.


From byron_dom at yahoo.com  Sat May 17 01:18:18 2014
From: byron_dom at yahoo.com (Byron Dom)
Date: Fri, 16 May 2014 16:18:18 -0700 (PDT)
Subject: [R]  Using unbalanced-learning algorithms in the randomForest
Message-ID: <1400282298.67147.YahooMailBasic@web142801.mail.bf1.yahoo.com>


Responding to my own post/question here.

Andy Liaw directed me to this page: http://grokbase.com/t/r/r-help/05av0aaa2e/r-repost-examples-of-classwt-strata-and-sampsize-i-n-randomforest, which gives an answer to my question. 

----------------------------------- original post ---------------------------------------------------
Date: Tue, 6 May 2014 22:54:22 -0700 (PDT)
From: Byron Dom <byron_dom at yahoo.com>
To: "r-help at r-project.org" <r-help at r-project.org>
Subject: [R] Using unbalanced-learning algorithms in the randomForest
    package.
Message-ID:
    <1399442062.12706.YahooMailNeo at web142801.mail.bf1.yahoo.com>
Content-Type: text/plain
In archive: https://stat.ethz.ch/pipermail/r-help/2014-May/374384.html

The following report by the authors of the randomForest package describes two different algorithm modifications for using random forests to learn classifiers for "unbalanced" learning problems in which one class is much less frequent than the other (in 2-class problems). These two variations are called "balanced RF" and "weighted RF."
http://statistics.berkeley.edu/sites/default/files/tech-reports/666.pdf


Would someone please answer these three questions.
(1) Is it possible to use the R randomForest package to learn random forests using either of these modified RF-learning algorithms? 
(2) If it is possible, how does one do it?
(3) Is there some detailed documentation for running these modified versions? I've read the R package manual but it's too sketchy. It seems to be primarily for users who are already familiar with the package and just need to look up some detail like the name of an argument.


From r.turner at auckland.ac.nz  Sat May 17 01:33:09 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Sat, 17 May 2014 11:33:09 +1200
Subject: [R] FW: needs help in augented plot
In-Reply-To: <6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>
References: <2584da97241541b6a9e2b2e3f7c01ace@UEF-EXC13-02.uefad.uef.fi>,
	<B078CDF40DFE4045AF172A8B4F68FC4857C61AD779@DKRDSEXC016.vestas.net>,
	<eb51b8c14f6643cc925c74582d0ef38e@UEF-EXC13-02.uefad.uef.fi>
	<6bdb937667ab46ae94c592d7d0e67379@UEF-EXC13-02.uefad.uef.fi>
Message-ID: <5376A035.5010700@auckland.ac.nz>

On 16/05/14 19:45, Mir Salam wrote:
> Dear Med venlig hilsen and all
> Thanks a lot for your attention and valuable codes.  I produced the
> graph using the follwing code. I fitted mixed effects dominant height
> model. The grpah is showing plot-specific dominant height against
> Age.

<SNIP>

You are not very intuitive are you?  "Med venlig hilsen" is not a name. 
  It is the "complimentary closure" of a letter/email in Danish, 
literally translating into English as ``With friendly greetings''.
As a rudimentary Google search would have told you, and as a sensible 
person would have inferred from context.

cheers,

Rolf Turner


From dwinsemius at comcast.net  Sat May 17 02:21:18 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 16 May 2014 17:21:18 -0700
Subject: [R] Multiple
	Comparisons-Kruskal-Wallis-Test:	kruskal{agricolae} and
	kruskalmc{pgirmess} don't yield the	same results although
	they should do (?)
In-Reply-To: <1400274422775-4690739.post@n4.nabble.com>
References: <1343972561741-4639004.post@n4.nabble.com>
	<83EEA65E-CE50-4408-BB38-A9F93AC0E7D3@gmail.com>
	<1343986395570-4639027.post@n4.nabble.com>
	<2DB71D97-41E7-44F7-9722-5FA260CAA15C@gmail.com>
	<004401cd7197$e9df7a70$bd9e6f50$@edu>
	<96A12A2B-E537-40D6-9D52-6C70EFE1B526@gmail.com>
	<1400274422775-4690739.post@n4.nabble.com>
Message-ID: <DA66665C-186C-4502-BA10-D953F8786315@comcast.net>


On May 16, 2014, at 2:07 PM, Tham Tran wrote:

> Dear Mr. Dalgaard,

You do realize that was a posting from 2012, right?
> 
> Could you help me know the name of post-hoc multi-comparaison test mentioned
> in kruskal function of agricolae package?

There are multiple such tests mentioned on that function help page. 

Did you review the material above the Nabble posting? (This is why including the context in every posting is the recommended way to pose a question on r-help.) See also the rest of the Posting Guide.

 PLEASE do read the posting guide http://www.R-project.org/posting-guide.html

> 
> Thank you in advance.
> 
> Tham Tran
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Multiple-Comparisons-Kruskal-Wallis-Test-kruskal-agricolae-and-kruskalmc-pgirmess-don-t-yield-the-sa-tp4639004p4690739.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> 
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From S.Ellison at LGCGroup.com  Sat May 17 03:18:08 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Sat, 17 May 2014 02:18:08 +0100
Subject: [R] Second axis on bottom of graph
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EBF2@mb02.ads.tamu.edu>
References: <1400237587556-4690696.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B54B@GOLD.corp.lgc-group.com>
	<1400248556736-4690707.post@n4.nabble.com>
	<A4E5A0B016B8CB41A485FC629B633CED5E9D98B6AA@GOLD.corp.lgc-group.com>
	<1400255960725-4690716.post@n4.nabble.com>,
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6EBF2@mb02.ads.tamu.edu>
Message-ID: <A4E5A0B016B8CB41A485FC629B633CED5E9D5BCBAA@GOLD.corp.lgc-group.com>

David L Carlson [dcarlson at tamu.edu] said:
> ?title
>
> Used for main titles, subtitles, and x/y labels.

You might also check mtext as a way to add text at more or less arbitrary positions in the margin region.

And a look at some basic (and not so basic)  R plotting texts might save waiting for R-help answers; for example, Ted Harding's at https://www.harding.edu/fmccown/r/ and the R Graph Gallery at http://rgraphgallery.blogspot.co.uk/


S Ellison


*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From rnieuws at gmail.com  Sat May 17 07:19:38 2014
From: rnieuws at gmail.com (Rnieuws)
Date: Sat, 17 May 2014 07:19:38 +0200
Subject: [R] How to Optimize two functions together in R
In-Reply-To: <1400168836305-4690654.post@n4.nabble.com>
References: <1400168836305-4690654.post@n4.nabble.com>
Message-ID: <EA2E1330-35D7-4C4F-9B41-06CEF8396C60@gmail.com>

Try to minimize the sum of those two functions.

Andr? de Boer


> Op 15 mei 2014 om 17:47 heeft Mingxuan Han <han241 at purdue.edu> het volgende geschreven:
> 
> I am trying to minimize two functions with same set of parameter(x,y). 
> Currently I can only use optim() to minimize the each function one by one. 
> Is there any solution I can use to optimize two functions with same set of
> (X,Y) together. 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/How-to-Optimize-two-functions-together-in-R-tp4690654.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From chuse22 at gmail.com  Sat May 17 11:10:08 2014
From: chuse22 at gmail.com (Xuse Chuse)
Date: Sat, 17 May 2014 11:10:08 +0200
Subject: [R] Lamperti trnasformation simulation.
Message-ID: <CANZw-E4EjZxKk-ztCxdS7yhyN_DFLdVpmApauycUPW9CxrK7DQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140517/6434a221/attachment.pl>

From johnson.cheryl625 at gmail.com  Sat May 17 16:25:28 2014
From: johnson.cheryl625 at gmail.com (Cheryl Johnson)
Date: Sat, 17 May 2014 10:25:28 -0400
Subject: [R] Warning Message: In saveSWF({ : the executablepng2swf.exedoes
	not exist!
Message-ID: <CAJJ9dtugUE=ggtTMt_wc4E=kPAhfsq-J4EOQvFALKoM72XNJ=g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140517/24b79c73/attachment.pl>

From ville.o.hallikainen at gmail.com  Sat May 17 16:43:53 2014
From: ville.o.hallikainen at gmail.com (Ville Hallikainen)
Date: Sat, 17 May 2014 17:43:53 +0300
Subject: [R] Old version of R base and additional packages
Message-ID: <537775A9.50707@gmail.com>

Dear R-users,
what is the most easiest way to download old versions of R and it's 
packages. I have found some functions, but none of them have worked. How 
to use the Archieve for this purpose. I would like to have detailed 
instructions for Ubuntu and Mac.

Thank you, with best regards Ville Hallikainen


From e.daadmehr at yahoo.com  Sat May 17 17:56:53 2014
From: e.daadmehr at yahoo.com (Elham Daadmehr)
Date: Sat, 17 May 2014 08:56:53 -0700 (PDT)
Subject: [R] From "deldir"
Message-ID: <1400342213.5934.YahooMailNeo@web140704.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140517/9a8aaec4/attachment.pl>

From laksh.murthy at gmail.com  Sat May 17 18:05:02 2014
From: laksh.murthy at gmail.com (Lakshmi Murthy)
Date: Sat, 17 May 2014 12:05:02 -0400
Subject: [R] Old version of R base and additional packages
In-Reply-To: <537775A9.50707@gmail.com>
References: <537775A9.50707@gmail.com>
Message-ID: <CACZ+mUUVpGUicHeSwVSiBekr_sRROkPyk=bTtNdWdgVRuxAGUQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140517/e12d910f/attachment.pl>

From smartpink111 at yahoo.com  Sat May 17 18:31:08 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 17 May 2014 09:31:08 -0700 (PDT)
Subject: [R] Old version of R base and additional packages
In-Reply-To: <CACZ+mUUVpGUicHeSwVSiBekr_sRROkPyk=bTtNdWdgVRuxAGUQ@mail.gmail.com>
References: <537775A9.50707@gmail.com>
	<CACZ+mUUVpGUicHeSwVSiBekr_sRROkPyk=bTtNdWdgVRuxAGUQ@mail.gmail.com>
Message-ID: <1400344268.28016.YahooMailNeo@web142603.mail.bf1.yahoo.com>

HI,
Use the link (https://stat.ethz.ch/mailman/listinfo/r-help) to unsubscribe.
A.K.




On Saturday, May 17, 2014 12:27 PM, Lakshmi Murthy <laksh.murthy at gmail.com> wrote:
Please unsubscribe me from the r-help list

Thanks,
Lakshmi


On Sat, May 17, 2014 at 10:43 AM, Ville Hallikainen <
ville.o.hallikainen at gmail.com> wrote:

> Dear R-users,
> what is the most easiest way to download old versions of R and it's
> packages. I have found some functions, but none of them have worked. How to
> use the Archieve for this purpose. I would like to have detailed
> instructions for Ubuntu and Mac.
>
> Thank you, with best regards Ville Hallikainen
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/
> posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

??? [[alternative HTML version deleted]]


______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From dcarlson at tamu.edu  Sat May 17 18:37:12 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Sat, 17 May 2014 16:37:12 +0000
Subject: [R] dist like function but where you can configure the method
In-Reply-To: <CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
References: <CAAjnpdgzwcaGyGL3xuaozxS-OrdvmbCJKB1mT+HNhi3_4faRBw@mail.gmail.com>
	<loom.20140516T154543-490@post.gmane.org>
	<24a6d3b0c76946698ff9ad1e88ec6d61@EX-1-HT0.lancs.local>
	<CANVKczPByeHV9rqmpy38_hcu99J_fNCke3H_Y3V7+spTBvXOEw@mail.gmail.com>
	<53765F3D.6070400@sapo.pt>
	<CAAjnpdhQVKepr=LWX0E6E0y2QiLV2S03gAVVHeE6rmpZcGpk3w@mail.gmail.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6F06C@mb02.ads.tamu.edu>

Function designdist() in package vegan lets you define your own distance measure, but it does not let you simply provide a function as your original request indicated. Function distance() in package ecodist() indicates that it is written to make it simple to add new distance functions, but warns that it is not efficient for large matrices.

David Carlson

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Witold E Wolski
Sent: Friday, May 16, 2014 3:00 PM
To: Rui Barradas
Cc: Jari Oksanen; r-help at stat.math.ethz.ch; Barry Rowlingson
Subject: Re: [R] dist like function but where you can configure the method

Ouch,

First : my question was not how to implement dist but if there is a more generic dist function than stats:dist.

Secondly: ks.test is ment as a placeholder (see the comment in the code I did send) for any other function taking two vector arguments.

Third: I do subscribe to the idea that a function call is easier to read and understand than a for loop. @Bert apply is a native C function and the loop is not interpreted AFAIK

@Rui @Barry @Jari What do you benchmark? an empty loop?

Look at the trivial benchmarks below: _apply_ clearly outperforms a for loop in R , It always has, it outperforms even an empty for

# an empty unrealistic for loop as suggested by Rui , Barry and Jari
f1 <- function(n){
  for(i in 1:n){
    for(j in 1:n){
    }
  }}


myfunc = function(x,y=x){x-y}

# a for loop which does actually something
f2 <- function(n){
  mm <- matrix(0,ncol=n,nrow=n)
  for(i in 1:n){
    for(j in 1:n){
      mm[i,j] = myfunc(i,j)
    }
  }
  return(mm)
}

# and array
f3 = function(n){
  res = rep(0,n*n)
  for(i in 1:(n*n))
  {
    res[i] = myfunc(i)
  }
}


n = 1000
system.time(f1(n))
system.time(f2(n))
system.time(f3(n))
system.time(apply(t(1:(n*n)),1,myfunc))


> system.time(f1(n))
       User      System verstrichen
       0.28        0.00        0.28
> system.time(f2(n))
       User      System verstrichen
       6.80        0.00        7.09
> system.time(f3(n))
       User      System verstrichen
       5.83        0.00        5.98
> system.time(apply(t(1:(n*n)),1,myfunc))
       User      System verstrichen
       0.19        0.00        0.19






On 16 May 2014 20:55, Rui Barradas <ruipbarradas at sapo.pt> wrote:
> Hello,
>
> The compiler package is good at speeding up for loops but in this case 
> the gain is neglectable. The ks test is the real time problem.
>
> library(compiler)
>
> f1 <- function(n){
>
>         for(i in 1:100){
>                 for(i in 1:100){
>                         ks.test(runif(100),runif(100))
>                 }
>         }
> }
>
> f1.c <- cmpfun(f1)
>
> system.time(f1())
>    user  system elapsed
>    3.50    0.00    3.53
> system.time(f1.c())
>    user  system elapsed
>    3.47    0.00    3.48
>
>
> Rui Barradas
>
> Em 16-05-2014 17:12, Barry Rowlingson escreveu:
>>
>> On Fri, May 16, 2014 at 4:46 PM, Witold E Wolski <wewolski at gmail.com>
>> wrote:
>>>
>>> Dear Jari,
>>>
>>> Thanks for your reply...
>>>
>>> The overhead would be
>>> 2 for loops
>>> for(i in 1:dim(x)[2])
>>> for(j in i:dim(x)[2])
>>>
>>> isn't it? Or are you seeing a different way to implement it?
>>>
>>> A for loop is pretty expensive in R. Therefore I am looking for an 
>>> implementation similar to apply or lapply were the iteration is made 
>>> in native code.
>>
>>
>> No, a for loop is not pretty expensive in R -- at least not compared 
>> to doing a k-s test:
>>
>>   > system.time(for(i in 1:10000){ks.test(runif(100),runif(100))})
>>     user  system elapsed
>>    3.680   0.012   3.697
>>
>>   3.68 seconds to do 10000 ks tests (and generate 200 runifs)
>>
>>   > system.time(for(i in 1:10000){})
>>     user  system elapsed
>>    0.000   0.000   0.001
>>
>>   0.000s time to do 10000 loops. Oh lets nest it for fun:
>>
>>   > system.time(for(i in 1:100){for(i in
>> 1:100){ks.test(runif(100),runif(100))}})
>>     user  system elapsed
>>    3.692   0.004   3.701
>>
>>   no different. Even a ks-test with only 5 items is taking me 2.2 seconds.
>>
>> Moral: don't worry about the for loops.
>>
>> Barry
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>



--
Witold Eryk Wolski

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Sat May 17 18:41:32 2014
From: smartpink111 at yahoo.com (arun)
Date: Sat, 17 May 2014 09:41:32 -0700 (PDT)
Subject: [R] Saving the ouput data
In-Reply-To: <1400323084.9210.YahooMailNeo@web126102.mail.ne1.yahoo.com>
References: <1400323084.9210.YahooMailNeo@web126102.mail.ne1.yahoo.com>
Message-ID: <1400344892.52387.YahooMailNeo@web142601.mail.bf1.yahoo.com>


Hi,
Using the example data from ?rcorr
library(Hmisc)
library(Hmisc)?? 
? x <- c(-2, -1, 0, 1, 2)
???? y <- c(4,?? 1, 0, 1, 4)
???? z <- c(1,?? 2, 3, 4, NA)
???? v <- c(1,?? 2, 3, 4, 5)
???? rho <- rcorr(cbind(x,y,z,v))
#you could use ?capture.output
?capture.output(rho, file="file1.txt")

#or may be:

sapply(rho,write.table,file="file2.csv",append=TRUE,sep=",")


A.K.



On Saturday, May 17, 2014 6:41 AM, smart hendsome <putra_autumn86 at yahoo.com> wrote:



Hi Arun,


Im new R users. I have one question how to save the output data from R. Below is the code. I want this output automatically save into file .csv. Hope you can help me. Thanks.

> rho <- rcorr(as.matrix(dtxna), type="spearman")
> rho
????? V1?? V2?? V3?? V4?? V5?? V6?? V7?? V8?? V9? V10
V1? 1.00 0.12 0.23 0.27 0.18 0.20 0.16 0.15 0.20 0.13
V2? 0.12 1.00 0.11 0.15 0.20 0.14 0.26 0.24 0.16 0.23
V3? 0.23 0.11 1.00 0.27 0.16 0.24 0.14 0.14 0.21 0.09
V4? 0.27 0.15 0.27 1.00 0.20 0.30 0.19 0.16 0.24 0.14
V5? 0.18 0.20 0.16 0.20 1.00 0.15 0.22 0.29 0.25 0.18
V6? 0.20 0.14 0.24 0.30 0.15 1.00 0.24 0.13 0.18
0.12
V7? 0.16 0.26 0.14 0.19 0.22 0.24 1.00 0.26 0.19 0.23
V8? 0.15 0.24 0.14 0.16 0.29 0.13 0.26 1.00 0.21 0.23
V9? 0.20 0.16 0.21 0.24 0.25 0.18 0.19 0.21 1.00 0.15
V10 0.13 0.23 0.09 0.14 0.18 0.12 0.23 0.23 0.15 1.00

n= 17073 


P
??? V1 V2 V3 V4 V5 V6 V7 V8 V9 V10
V1????? 0? 0? 0? 0? 0? 0? 0? 0? 0 
V2?? 0???? 0? 0? 0? 0? 0? 0? 0? 0 
V3?? 0? 0???? 0? 0? 0? 0? 0? 0? 0 
V4?? 0? 0? 0???? 0? 0?
0? 0? 0? 0 
V5?? 0? 0? 0? 0???? 0? 0? 0? 0? 0 
V6?? 0? 0? 0? 0? 0???? 0? 0? 0? 0 
V7?? 0? 0? 0? 0? 0? 0???? 0? 0? 0 
V8?? 0? 0? 0? 0? 0? 0? 0???? 0? 0 
V9?? 0? 0? 0? 0? 0? 0? 0? 0???? 0 
V10? 0? 0? 0? 0? 0? 0? 0? 0? 0??


From ripley at stats.ox.ac.uk  Sat May 17 19:13:57 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 May 2014 18:13:57 +0100
Subject: [R] Old version of R base and additional packages
In-Reply-To: <537775A9.50707@gmail.com>
References: <537775A9.50707@gmail.com>
Message-ID: <537798D5.4090701@stats.ox.ac.uk>

On 17/05/2014 15:43, Ville Hallikainen wrote:
> Dear R-users,
> what is the most easiest way to download old versions of R and it's
> packages. I have found some functions, but none of them have worked. How
> to use the Archieve for this purpose. I would like to have detailed
> instructions for Ubuntu and Mac.

So please follow the posting guide and ask on R-sig-debian and R-sig-mac 
respectively.  The 'detailed instructions' are in the 'R Installation 
and Administration Manual' for the version(s) of R you want.

The 'easiest way' is to retrieve them from your personal backups (and 
the only reason I can guess for wanting to do this is to reproduce old 
work using tools you once had).

Older OS X binary R distributions are available at 
http://cran.r-project.org/bin/macosx/old/ .  Only current (at the end of 
the R series) binary packages are available on CRAN, so older ones would 
need to be installed from the sources under src/contrib/Archive, 
following the instructions in the manual.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From r.turner at auckland.ac.nz  Sun May 18 00:25:52 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Sun, 18 May 2014 10:25:52 +1200
Subject: [R] From "deldir"
In-Reply-To: <1400342213.5934.YahooMailNeo@web140704.mail.bf1.yahoo.com>
References: <1400342213.5934.YahooMailNeo@web140704.mail.bf1.yahoo.com>
Message-ID: <5377E1F0.5030105@auckland.ac.nz>

On 18/05/14 03:56, Elham Daadmehr wrote:
> Dear all,
> Please guide me in following situation.
> I use these function from "deldir" package.
>
>        x <- runif(20)
>        y <- runif(20)
>        z <- deldir(x,y,rw=c(0,1,0,1))
>        w <- tile.list(z)
>        plot(w)
>        ccc <- heat.colors(2)
>        plot(w,fillcol=ccc,close=TRUE)
>
>
> Is each cell red with prob 1/2? or cells were colored deterministic?

The colours are (in some sense) deterministic.  The tiles are plotted in 
the order in which the points appear in the data set.  The fillcol 
vector is "recycled" to give a vector of length equal to the number of 
points.  Thus the tile corresponding to (x[1],y[1]) gets coloured with 
the colour given by ccc[1].  The tile corresponding to (x[2],y[2]) gets 
coloured with the colour given by ccc[2].  The tile corresponding to 
(x[3],y[3]) gets coloured with the colour given by ccc[1] again.  The 
tile corresponding to (x[4],y[4]) gets coloured with the colour given by 
ccc[2] again.  And so on.

cheers,

Rolf Turner


From acos at dpi.inpe.br  Sat May 17 18:31:28 2014
From: acos at dpi.inpe.br (acos at dpi.inpe.br)
Date: Sat, 17 May 2014 13:31:28 -0300
Subject: [R] Discrete and Continuous variables
Message-ID: <20140517133128.0plgo7i5qo88gk8g@agenda.dpi.inpe.br>

Hello everybody!

I have a data frame with discrete and continuous variables something  
like this:

0	1	1.46270716	5309.0171	912.5704	1000.0000
1	0	1.55237329	5559.0171	809.0170	1000.0000
0	1	1.19595444	5809.0171	750.0000	1000.0000
2	2	0.96467876	6059.0171	707.1068	1000.0000
1	0	1.46927392	3250.0000	559.0170	750.0000
2	0	1.65267885	3500.0000	707.1068	750.0000


Discrete variables should be specified as factor >as.factor() and  
continuos variables as numeric >as.numeric().
The problem is:
The users that will enter with the variables. Is it possible identify  
which input variable are continuous or discrete?

Thank guys!


From izwiener at gmx.de  Sat May 17 19:22:41 2014
From: izwiener at gmx.de (Isabella Zwiener)
Date: Sat, 17 May 2014 19:22:41 +0200
Subject: [R] Lack-of-fit test for linear mixed effects model (lme) including
 two fixed effects
Message-ID: <trinity-56844bfb-0d4a-44ba-9b8b-bf5090f31503-1400347361776@3capp-gmx-bs62>


   Dear list members,

   I fitted a linear mixed effects model using the lme function from nlme
   package. In the model I included two fixed effects, one being continuous and
   one a factor having 4 categories. Furthermore, I have one random effect (id)
   which I want to include as a random intercept only. I used the following
   code:

   fit1 <- lme(outcome ~ fixed1 + fixed2, random = ~1|id)

   Now I would like to perform a lack-of-fit test. In a previous post (where
   there  was only one continuous fixed effect) I have seen the following
   suggestion:

   fit1 <- lme(outcome ~ fixed1, random = ~1|id, method="ML")
   fit2  <-  lme(outcome  ~ factor(fixed1, ordered=TRUE), random = ~1|id,
   method="ML")
   anova(fit1,fit2)

   Now my questions are:
   1) How do I perform a lack-of-fit test with one continuous and one factor as
   fixed affects?
   2) Is it necessary to set method=ML for the lack-of-fit test?
   3)  If  I have to use method=ML for the lack-of-fit test, should I use
   method=ML also in my model taht I would like to interpret? In my original
   model I used REML, but only because this is the default in lme and I did not
   change it.

   As I have not applied a lack-of-fit test before, I would really be glad for
   any help!

   Best regards,
   John

From rose at rz.uni-potsdam.de  Sun May 18 07:16:46 2014
From: rose at rz.uni-potsdam.de (Juergen Rose)
Date: Sun, 18 May 2014 07:16:46 +0200
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
Message-ID: <1400390206.11032.0.camel@impala.homenet>

I had the following files in /:

root at caiman:/root(8)# ll /
total 160301
drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
-rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala -> /net/impala/data_impala/
lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 -> /net/lynx2/data_lynx2/
drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
-rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala -> /net/impala/home_impala/
lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 -> /net/lynx2/home_lynx2/
lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
-rw-r--r--   1 root root   1797418 May 14 14:22 login.log
drwx------   2 root root     16384 Jan 20  2011 lost+found/
drwxr-xr-x   2 root root         0 May 14 14:21 misc/
drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
drwxr-xr-x   4 root root         0 May 17 17:38 net/
drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
drwx------  36 root root      4096 May 17 15:00 root/
drwxr-xr-x  30 root root       840 May 16 18:21 run/
drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
-rw-r--r--   1 root root 162191459 Jan 13  2011 stage3-amd64-20110113.tar.bz2
dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/


Then I did as root:
R
> source("http://bioconductor.org/biocLite.R")
> biocLite("vsn")

Save workspace image? [y/n/c]: n
root at caiman:/root(15)# ll /
total 93
drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
drwx------   2 root root 16384 Jan 20  2011 lost+found/
drwxr-xr-x   2 root root     0 May 14 14:21 misc/
drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
drwxr-xr-x   2 root root     0 May 17 17:38 net/
drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
drwx------  36 root root  4096 May 17 15:00 root/
drwxr-xr-x  30 root root   840 May 16 18:21 run/
drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/

I.e., all not directory files in / disappeared. This happens on two systems.


From jdnewmil at dcn.davis.CA.us  Sun May 18 07:38:06 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sat, 17 May 2014 22:38:06 -0700
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <1400390206.11032.0.camel@impala.homenet>
References: <1400390206.11032.0.camel@impala.homenet>
Message-ID: <a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>

Then you had best not do it again if you don't like that result.

1) This is not the right mailing list for issues having to do with bioconductor. Please go to the bioconductor mailing list for that.

2) Running random scripts straight from the internet as root without reviewing them is exactly the kind of thing any experienced *nix user would never do. That is why user-level accounts have limits on the things they can do. I doubt you are supposed to be running anything with your current directory set to /, ever, especially not logged in as root.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 17, 2014 10:16:46 PM PDT, Juergen Rose <rose at rz.uni-potsdam.de> wrote:
>I had the following files in /:
>
>root at caiman:/root(8)# ll /
>total 160301
>drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
>drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
>-rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
>lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
>drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
>lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala ->
>/net/impala/data_impala/
>lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 ->
>/net/lynx2/data_lynx2/
>drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
>drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
>-rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
>lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
>drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
>lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala ->
>/net/impala/home_impala/
>lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 ->
>/net/lynx2/home_lynx2/
>lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
>drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
>drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
>-rw-r--r--   1 root root   1797418 May 14 14:22 login.log
>drwx------   2 root root     16384 Jan 20  2011 lost+found/
>drwxr-xr-x   2 root root         0 May 14 14:21 misc/
>drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
>drwxr-xr-x   4 root root         0 May 17 17:38 net/
>drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
>dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
>drwx------  36 root root      4096 May 17 15:00 root/
>drwxr-xr-x  30 root root       840 May 16 18:21 run/
>drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
>-rw-r--r--   1 root root 162191459 Jan 13  2011
>stage3-amd64-20110113.tar.bz2
>dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
>drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
>drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
>drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>
>
>Then I did as root:
>R
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("vsn")
>
>Save workspace image? [y/n/c]: n
>root at caiman:/root(15)# ll /
>total 93
>drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
>drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
>drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
>drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
>drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
>drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
>drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
>drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
>drwx------   2 root root 16384 Jan 20  2011 lost+found/
>drwxr-xr-x   2 root root     0 May 14 14:21 misc/
>drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
>drwxr-xr-x   2 root root     0 May 17 17:38 net/
>drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
>dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
>drwx------  36 root root  4096 May 17 15:00 root/
>drwxr-xr-x  30 root root   840 May 16 18:21 run/
>drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
>dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
>drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
>drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
>drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>
>I.e., all not directory files in / disappeared. This happens on two
>systems.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From xie at yihui.name  Sun May 18 07:47:39 2014
From: xie at yihui.name (Yihui Xie)
Date: Sun, 18 May 2014 00:47:39 -0500
Subject: [R] Warning Message: In saveSWF({ : the
 executablepng2swf.exedoes not exist!
In-Reply-To: <CAJJ9dtugUE=ggtTMt_wc4E=kPAhfsq-J4EOQvFALKoM72XNJ=g@mail.gmail.com>
References: <CAJJ9dtugUE=ggtTMt_wc4E=kPAhfsq-J4EOQvFALKoM72XNJ=g@mail.gmail.com>
Message-ID: <CANROs4dEmWg25429uQ2V-FyW4H1XWES6NEPjxOrsXJqhjSkBqw@mail.gmail.com>

That means saveSWF() cannot find SWF Tools, and you should either put
it on PATH or provide its installation path. See `swftools` in
?animation::saveSWF

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Web: http://yihui.name


On Sat, May 17, 2014 at 9:25 AM, Cheryl Johnson
<johnson.cheryl625 at gmail.com> wrote:
> By using the animation package, I get the warning message "In saveSWF({ :
> the executablepng2swf.exedoes not exist!". Help in understanding why this
> message is given will be appreciated.
>
> Thanks


From gunter.berton at gene.com  Sun May 18 08:14:20 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Sat, 17 May 2014 23:14:20 -0700
Subject: [R] Lack-of-fit test for linear mixed effects model (lme)
 including two fixed effects
In-Reply-To: <trinity-56844bfb-0d4a-44ba-9b8b-bf5090f31503-1400347361776@3capp-gmx-bs62>
References: <trinity-56844bfb-0d4a-44ba-9b8b-bf5090f31503-1400347361776@3capp-gmx-bs62>
Message-ID: <CACk-te1QyAeywc-=msikcfL+L9SdJV0__2zBoJYgMKydorbSAg@mail.gmail.com>

This is really the sort of issue that should be discussed with a local
statistical expert.

(1) It is,  a statistical, not an R programming question;

(2) Would be better posed on the R-sig-mixed-moodels list anyway;

(3) As lack of fit tests tend to be basically useless and
scientifically meaningless, the real question is what is the context
for your question -- what are the meaningful practical  (not
statistical) concerns that you want to address with the test? Again,
the sort of thing best discussed in person with a local expert.

Cheers,
Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Sat, May 17, 2014 at 10:22 AM, Isabella Zwiener <izwiener at gmx.de> wrote:
>
>    Dear list members,
>
>    I fitted a linear mixed effects model using the lme function from nlme
>    package. In the model I included two fixed effects, one being continuous and
>    one a factor having 4 categories. Furthermore, I have one random effect (id)
>    which I want to include as a random intercept only. I used the following
>    code:
>
>    fit1 <- lme(outcome ~ fixed1 + fixed2, random = ~1|id)
>
>    Now I would like to perform a lack-of-fit test. In a previous post (where
>    there  was only one continuous fixed effect) I have seen the following
>    suggestion:
>
>    fit1 <- lme(outcome ~ fixed1, random = ~1|id, method="ML")
>    fit2  <-  lme(outcome  ~ factor(fixed1, ordered=TRUE), random = ~1|id,
>    method="ML")
>    anova(fit1,fit2)
>
>    Now my questions are:
>    1) How do I perform a lack-of-fit test with one continuous and one factor as
>    fixed affects?
>    2) Is it necessary to set method=ML for the lack-of-fit test?
>    3)  If  I have to use method=ML for the lack-of-fit test, should I use
>    method=ML also in my model taht I would like to interpret? In my original
>    model I used REML, but only because this is the default in lme and I did not
>    change it.
>
>    As I have not applied a lack-of-fit test before, I would really be glad for
>    any help!
>
>    Best regards,
>    John
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From s.blomberg1 at uq.edu.au  Sun May 18 09:29:42 2014
From: s.blomberg1 at uq.edu.au (Simon Blomberg)
Date: Sun, 18 May 2014 17:29:42 +1000
Subject: [R] Lamperti trnasformation simulation.
In-Reply-To: <CANZw-E4EjZxKk-ztCxdS7yhyN_DFLdVpmApauycUPW9CxrK7DQ@mail.gmail.com>
References: <CANZw-E4EjZxKk-ztCxdS7yhyN_DFLdVpmApauycUPW9CxrK7DQ@mail.gmail.com>
Message-ID: <53786166.6070703@uq.edu.au>

On 17/05/14 19:10, Xuse Chuse wrote:
> Dear users,
>
> I am trying to simulate a Lamperti transformation of a brownian motion:
> W(e_t). Could anyone give some clue how to do it? Thank you beforehand.
>
> Regards,
> C.
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
See package sde, and Stefano Iacus' excellent book.

Simon.

-- 
Simon Blomberg, BSc (Hons), PhD, MAppStat, AStat.
Lecturer and Consultant Statistician
School of Biological Sciences
The University of Queensland
St. Lucia Queensland 4072
Australia
T: +61 7 3365 2506
email: S.Blomberg1_at_uq.edu.au
http://www.evolutionarystatistics.org

Policies:
1.  I will NOT analyse your data for you.
2.  Your deadline is your problem.

Statistics is the grammar of science - Karl Pearson.


From msuzen at gmail.com  Sun May 18 09:50:02 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Sun, 18 May 2014 09:50:02 +0200
Subject: [R] How to Optimize two functions together in R
In-Reply-To: <1400168836305-4690654.post@n4.nabble.com>
References: <1400168836305-4690654.post@n4.nabble.com>
Message-ID: <CAPtbhHwhZH8sthxeLDSmO-y601gdqx_+0_ty539veB3Fx=7qRA@mail.gmail.com>

This deals with the multi-objective optimisation.
Try MCO and emoa packages.

http://stats.stackexchange.com/questions/77580/optimization-of-multiple-objective-functions-with-constraints


On 15 May 2014 17:47, Mingxuan Han <han241 at purdue.edu> wrote:
> I am trying to minimize two functions with same set of parameter(x,y).
> Currently I can only use optim() to minimize the each function one by one.
> Is there any solution I can use to optimize two functions with same set of
> (X,Y) together.
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/How-to-Optimize-two-functions-together-in-R-tp4690654.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pburns at pburns.seanet.com  Sun May 18 10:47:56 2014
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Sun, 18 May 2014 09:47:56 +0100
Subject: [R] Discrete and Continuous variables
In-Reply-To: <20140517133128.0plgo7i5qo88gk8g@agenda.dpi.inpe.br>
References: <20140517133128.0plgo7i5qo88gk8g@agenda.dpi.inpe.br>
Message-ID: <537873BC.4040303@pburns.seanet.com>

Perhaps something involving:

sapply(dataFrame, function(z) length(unique(z)))

Pat

On 17/05/2014 17:31, acos at dpi.inpe.br wrote:
> Hello everybody!
>
> I have a data frame with discrete and continuous variables something
> like this:
>
> 0    1    1.46270716    5309.0171    912.5704    1000.0000
> 1    0    1.55237329    5559.0171    809.0170    1000.0000
> 0    1    1.19595444    5809.0171    750.0000    1000.0000
> 2    2    0.96467876    6059.0171    707.1068    1000.0000
> 1    0    1.46927392    3250.0000    559.0170    750.0000
> 2    0    1.65267885    3500.0000    707.1068    750.0000
>
>
> Discrete variables should be specified as factor >as.factor() and
> continuos variables as numeric >as.numeric().
> The problem is:
> The users that will enter with the variables. Is it possible identify
> which input variable are continuous or discrete?
>
> Thank guys!
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

-- 
Patrick Burns
pburns at pburns.seanet.com
twitter: @burnsstat @portfolioprobe
http://www.portfolioprobe.com/blog
http://www.burns-stat.com
(home of:
  'Impatient R'
  'The R Inferno'
  'Tao Te Programming')


From ligges at statistik.tu-dortmund.de  Sun May 18 14:49:08 2014
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sun, 18 May 2014 14:49:08 +0200
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>
References: <1400390206.11032.0.camel@impala.homenet>
	<a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>
Message-ID: <5378AC44.4060706@statistik.tu-dortmund.de>

As alternative, just use R itself for it:


chooseBioCmirror()
setRepositories() # select BioC repositories here
install.packages("vsn")


Which should so the trick without any additional tools not shiped with R 
directly.

Best,
Uwe Ligges


On 18.05.2014 07:38, Jeff Newmiller wrote:
> Then you had best not do it again if you don't like that result.
>
> 1) This is not the right mailing list for issues having to do with bioconductor. Please go to the bioconductor mailing list for that.
>
> 2) Running random scripts straight from the internet as root without reviewing them is exactly the kind of thing any experienced *nix user would never do. That is why user-level accounts have limits on the things they can do. I doubt you are supposed to be running anything with your current directory set to /, ever, especially not logged in as root.
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                        Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> ---------------------------------------------------------------------------
> Sent from my phone. Please excuse my brevity.
>
> On May 17, 2014 10:16:46 PM PDT, Juergen Rose <rose at rz.uni-potsdam.de> wrote:
>> I had the following files in /:
>>
>> root at caiman:/root(8)# ll /
>> total 160301
>> drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
>> drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
>> -rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
>> lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
>> drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala ->
>> /net/impala/data_impala/
>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 ->
>> /net/lynx2/data_lynx2/
>> drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
>> drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
>> -rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
>> lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
>> drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala ->
>> /net/impala/home_impala/
>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 ->
>> /net/lynx2/home_lynx2/
>> lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
>> drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
>> drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
>> -rw-r--r--   1 root root   1797418 May 14 14:22 login.log
>> drwx------   2 root root     16384 Jan 20  2011 lost+found/
>> drwxr-xr-x   2 root root         0 May 14 14:21 misc/
>> drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
>> drwxr-xr-x   4 root root         0 May 17 17:38 net/
>> drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
>> dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
>> drwx------  36 root root      4096 May 17 15:00 root/
>> drwxr-xr-x  30 root root       840 May 16 18:21 run/
>> drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
>> -rw-r--r--   1 root root 162191459 Jan 13  2011
>> stage3-amd64-20110113.tar.bz2
>> dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
>> drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
>> drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
>> drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>>
>>
>> Then I did as root:
>> R
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("vsn")
>>
>> Save workspace image? [y/n/c]: n
>> root at caiman:/root(15)# ll /
>> total 93
>> drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
>> drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
>> drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
>> drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
>> drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
>> drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
>> drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
>> drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
>> drwx------   2 root root 16384 Jan 20  2011 lost+found/
>> drwxr-xr-x   2 root root     0 May 14 14:21 misc/
>> drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
>> drwxr-xr-x   2 root root     0 May 17 17:38 net/
>> drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
>> dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
>> drwx------  36 root root  4096 May 17 15:00 root/
>> drwxr-xr-x  30 root root   840 May 16 18:21 run/
>> drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
>> dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
>> drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
>> drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
>> drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>>
>> I.e., all not directory files in / disappeared. This happens on two
>> systems.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From mtmorgan at fhcrc.org  Sun May 18 15:30:56 2014
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sun, 18 May 2014 06:30:56 -0700
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <1400390206.11032.0.camel@impala.homenet>
References: <1400390206.11032.0.camel@impala.homenet>
Message-ID: <5378B610.7070602@fhcrc.org>

This would be very bad and certainly unintended if it were the responsibility of 
biocLite. Can we communicate off-list about this? In particular can you report

   noquote(readLines("http://bioconductor.org/biocLite.R"))

?

Martin Morgan

On 05/17/2014 10:16 PM, Juergen Rose wrote:
> I had the following files in /:
>
> root at caiman:/root(8)# ll /
> total 160301
> drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
> drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
> -rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
> lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
> drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
> lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala -> /net/impala/data_impala/
> lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 -> /net/lynx2/data_lynx2/
> drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
> drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
> -rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
> lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
> drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
> lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala -> /net/impala/home_impala/
> lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 -> /net/lynx2/home_lynx2/
> lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
> drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
> drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
> -rw-r--r--   1 root root   1797418 May 14 14:22 login.log
> drwx------   2 root root     16384 Jan 20  2011 lost+found/
> drwxr-xr-x   2 root root         0 May 14 14:21 misc/
> drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
> drwxr-xr-x   4 root root         0 May 17 17:38 net/
> drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
> dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
> drwx------  36 root root      4096 May 17 15:00 root/
> drwxr-xr-x  30 root root       840 May 16 18:21 run/
> drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
> -rw-r--r--   1 root root 162191459 Jan 13  2011 stage3-amd64-20110113.tar.bz2
> dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
> drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
> drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
> drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>
>
> Then I did as root:
> R
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("vsn")
>
> Save workspace image? [y/n/c]: n
> root at caiman:/root(15)# ll /
> total 93
> drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
> drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
> drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
> drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
> drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
> drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
> drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
> drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
> drwx------   2 root root 16384 Jan 20  2011 lost+found/
> drwxr-xr-x   2 root root     0 May 14 14:21 misc/
> drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
> drwxr-xr-x   2 root root     0 May 17 17:38 net/
> drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
> dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
> drwx------  36 root root  4096 May 17 15:00 root/
> drwxr-xr-x  30 root root   840 May 16 18:21 run/
> drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
> dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
> drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
> drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
> drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>
> I.e., all not directory files in / disappeared. This happens on two systems.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M1 B861
Phone: (206) 667-2793


From freerisk3 at gmail.com  Sun May 18 16:25:56 2014
From: freerisk3 at gmail.com (Pete)
Date: Sun, 18 May 2014 14:25:56 +0000
Subject: [R] help with xts
Message-ID: <loom.20140518T161858-773@post.gmane.org>

I have 3 xts objects: test, cond1, cond2
You can download here:

https://dl.dropboxusercontent.com/u/102669/obj.rar

My problem is very simple.

test [ cond1 < cond2] = NA                           THIS WORKS

test [ cond1 < cond2] = -test [ cond1 < cond2]       THIS DOESN'T WORKS

Why?

My objective is to substitute all values in test (when cond1 < cond2) with
the corresponding values of test but with negative sign


From gunter.berton at gene.com  Sun May 18 17:14:27 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Sun, 18 May 2014 08:14:27 -0700
Subject: [R] help with xts
In-Reply-To: <loom.20140518T161858-773@post.gmane.org>
References: <loom.20140518T161858-773@post.gmane.org>
Message-ID: <CACk-te1rZd38_cnQ8MnhHyFOd7y9zsVq2Ko8crEYUJ5d9BEbeg@mail.gmail.com>

Presumably -z is not defined for an xts class object,z ? (whereas indexing is)

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Sun, May 18, 2014 at 7:25 AM, Pete <freerisk3 at gmail.com> wrote:
> I have 3 xts objects: test, cond1, cond2
> You can download here:
>
> https://dl.dropboxusercontent.com/u/102669/obj.rar
>
> My problem is very simple.
>
> test [ cond1 < cond2] = NA                           THIS WORKS
>
> test [ cond1 < cond2] = -test [ cond1 < cond2]       THIS DOESN'T WORKS
>
> Why?
>
> My objective is to substitute all values in test (when cond1 < cond2) with
> the corresponding values of test but with negative sign
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From josh.m.ulrich at gmail.com  Sun May 18 18:35:52 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 18 May 2014 11:35:52 -0500
Subject: [R] help with xts
In-Reply-To: <loom.20140518T161858-773@post.gmane.org>
References: <loom.20140518T161858-773@post.gmane.org>
Message-ID: <CAPPM_gRcgR4xbX6-wUiswS75LfKcOgDY9AWu8uttZSKwmyN8tQ@mail.gmail.com>

Using subset assignment with an array usually doesn't work well with
xts/zoo objects.  Your case wouldn't even work with a matrix because
you have NA in your array.

In this case, you can achieve the same result using multiplication:
pos.neg.1 <- ((cond1 < cond2)*-2+1)
test <- test * pos.neg.1

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Sun, May 18, 2014 at 9:25 AM, Pete <freerisk3 at gmail.com> wrote:
> I have 3 xts objects: test, cond1, cond2
> You can download here:
>
> https://dl.dropboxusercontent.com/u/102669/obj.rar
>
> My problem is very simple.
>
> test [ cond1 < cond2] = NA                           THIS WORKS
>
> test [ cond1 < cond2] = -test [ cond1 < cond2]       THIS DOESN'T WORKS
>
> Why?
>
> My objective is to substitute all values in test (when cond1 < cond2) with
> the corresponding values of test but with negative sign
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From tim at mlhim.org  Sun May 18 18:54:12 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Sun, 18 May 2014 13:54:12 -0300
Subject: [R] unable to collate and parse R files for package -- unexpected
	end of input
Message-ID: <CA+=OU3VKVbW3HYHqqCPM+s7QQeyWptkn9jY26s4pmXQYrSu52Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140518/89479633/attachment.pl>

From ripley at stats.ox.ac.uk  Sun May 18 19:08:23 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 May 2014 18:08:23 +0100
Subject: [R] filename of current device
In-Reply-To: <87y4y481bc.fsf@med.uni-goettingen.de>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
Message-ID: <5378E907.7070606@stats.ox.ac.uk>

On 14/05/2014 23:04, Andreas Leha wrote:
> Hi all,
>
> how do I find out about the filename, the currently open (let's say pdf)
> device is writing to?
>
> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
> would like to know, which file that pdf device is actually targeting.
>
> Any help for my poor organization is highly appreciated...

You cannot know this for an arbitrary device, at least not from R.

Most files in R are opened with the C call fopen() and thereafter 
referred to by a file handle: the file can be renamed, unlinked ... 
whilst the handle is open.  Some system utilities[*] may be able to tell 
you what filepaths are/were associated with file handles open in a 
process, but it cannot be done portably.

However, in R-devel there is the possibility of a device recording extra 
information about itself.  See the NEWS item

     ? Graphics devices can add attributes to their description in
       .Device and .Devices.  Several of those included with R use a
       "filepath" attribute.

AFAIR the pdf() device does: let's see

 > pdf('/tmp/foo.pdf')
 > dev.cur()
pdf
   2
 > .Devices
[[1]]
[1] "null device"

[[2]]
[1] "pdf"
attr(,"filepath")
[1] "/tmp/foo.pdf"


There is at least one exception: for historical reasons locked in by 
undocumented use in package tkrplot, the win.metafile() device does 
include the file path in the device 'name'.

[*] They have existed at least on Linux, Windows and OS X.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pdalgd at gmail.com  Sun May 18 20:43:22 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 18 May 2014 20:43:22 +0200
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>
References: <1400390206.11032.0.camel@impala.homenet>
	<a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>
Message-ID: <AE77A01B-1480-4A8F-A2D5-3162A83F55BD@gmail.com>


On 18 May 2014, at 07:38 , Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:

> Then you had best not do it again if you don't like that result.
> 
> 1) This is not the right mailing list for issues having to do with bioconductor. Please go to the bioconductor mailing list for that.

Hmm, this is one case where I'd really rather not scare people off R-help. Non-BioC users do use BioC packages from time to time and what Juergen did is what the BioConductor web pages tells new users to do (probably minus the as-root bit). A warn-off on R-help seems entirely warranted. Good to see that Martin Morgan is taking the issue very seriously in his post below.

> 
> 2) Running random scripts straight from the internet as root without reviewing them is exactly the kind of thing any experienced *nix user would never do. That is why user-level accounts have limits on the things they can do. I doubt you are supposed to be running anything with your current directory set to /, ever, especially not logged in as root.
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                      Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
> On May 17, 2014 10:16:46 PM PDT, Juergen Rose <rose at rz.uni-potsdam.de> wrote:
>> I had the following files in /:
>> 
>> root at caiman:/root(8)# ll /
>> total 160301
>> drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
>> drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
>> -rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
>> lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
>> drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala ->
>> /net/impala/data_impala/
>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 ->
>> /net/lynx2/data_lynx2/
>> drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
>> drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
>> -rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
>> lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
>> drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala ->
>> /net/impala/home_impala/
>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 ->
>> /net/lynx2/home_lynx2/
>> lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
>> drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
>> drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
>> -rw-r--r--   1 root root   1797418 May 14 14:22 login.log
>> drwx------   2 root root     16384 Jan 20  2011 lost+found/
>> drwxr-xr-x   2 root root         0 May 14 14:21 misc/
>> drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
>> drwxr-xr-x   4 root root         0 May 17 17:38 net/
>> drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
>> dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
>> drwx------  36 root root      4096 May 17 15:00 root/
>> drwxr-xr-x  30 root root       840 May 16 18:21 run/
>> drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
>> -rw-r--r--   1 root root 162191459 Jan 13  2011
>> stage3-amd64-20110113.tar.bz2
>> dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
>> drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
>> drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
>> drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>> 
>> 
>> Then I did as root:
>> R
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("vsn")
>> 
>> Save workspace image? [y/n/c]: n
>> root at caiman:/root(15)# ll /
>> total 93
>> drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
>> drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
>> drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
>> drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
>> drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
>> drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
>> drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
>> drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
>> drwx------   2 root root 16384 Jan 20  2011 lost+found/
>> drwxr-xr-x   2 root root     0 May 14 14:21 misc/
>> drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
>> drwxr-xr-x   2 root root     0 May 17 17:38 net/
>> drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
>> dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
>> drwx------  36 root root  4096 May 17 15:00 root/
>> drwxr-xr-x  30 root root   840 May 16 18:21 run/
>> drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
>> dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
>> drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
>> drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
>> drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>> 
>> I.e., all not directory files in / disappeared. This happens on two
>> systems.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From murdoch.duncan at gmail.com  Sun May 18 22:24:17 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sun, 18 May 2014 16:24:17 -0400
Subject: [R] unable to collate and parse R files for package --
 unexpected end of input
In-Reply-To: <CA+=OU3VKVbW3HYHqqCPM+s7QQeyWptkn9jY26s4pmXQYrSu52Q@mail.gmail.com>
References: <CA+=OU3VKVbW3HYHqqCPM+s7QQeyWptkn9jY26s4pmXQYrSu52Q@mail.gmail.com>
Message-ID: <537916F1.5050308@gmail.com>

On 18/05/2014, 12:54 PM, Timothy W. Cook wrote:
> This is the error I get attempting to build and install a package I wrote.
>
> I am using R Studio (but I did try with R CMDs as well).
>
> The file that is blamed in the error is the last file alphabetically.  If I
> remove that file.  I get the same error on the remaining last file
> alphabetically.  So my guess is that it isn't actually one of these files.
>   However, I have no clue how to troubleshoot this problem.  I am quite new
> to R.

This indicates that you open a block using "{" (or perhaps "[" or "("), 
but never close it.  Unfortunately the parser doesn't tell you where the 
opening brace was.

A quick way to locate which file is to parse your source files one at a 
time; e.g.

for (f in list.files("somedir/R", full.names=TRUE)) parse(f)

This will get an error on the first file with unmatched braces.  It 
won't tell you where to look in that file, but it's usually not too hard 
to find that by looking.  There are ways to find the spot automatically, 
but they're not trivial:  see the discussion of partial parse results in 
?parse, and fill in a bunch of blanks.  Here without much explanation is 
an example.

f <- "some file with unbalanced braces"
text <- readLines(f)
src <- srcfile(text)
parse(text=text, srcfile=src)  # Generates error

d <- getParseData(src)
d[d$token == "'{'" && d$parent == 0,]

This will print something like

     line1 col1 line2 col2  id parent token terminal text
217    37    3    37    3 217      0   '{'     TRUE    {

telling you that the brace on line 37 was never matched.  If you don't 
find anything, try other kinds of parens or brackets, though they are 
less likely.

Duncan Murdoch

>
> I built a generator to create this R pkg.  But it is based on a very
> similar one that works okay that I built by hand.
>
> They are available in their entirety on GitHub at:
> https://github.com/mlhim/R_test_prj
>
> The one that works is:  ccdTest244AllDatatypes299a8123d9f7
>
> The one that doesn't work is: ccdTest244AllDatatypesa5c7aca0036f
>
> The 00install.out file isn't particularly enlightening:
> -----------------------------------------------------------------------------
> * installing *source* package ???ccdTest244AllDatatypesa5c7aca0036f??? ...
> ** R
> Error in parse(outFile) :
>
> /home/tim/MLHIM/git/R_test_prj/ccdTest244AllDatatypesa5c7aca0036f.Rcheck/00_pkg_src/ccdTest244AllDatatypesa5c7aca0036f/R/meta:43:0:
> unexpected end of input
> 41:     return('
> http://www.ccdgen.com/ccdlib/ccd-31598ac4-eac4-4f45-928e-a5c7aca0036f.xsd')
> 42: }
>     ^
> ERROR: unable to collate and parse R files for package
> ???ccdTest244AllDatatypesa5c7aca0036f???
> * removing
> ???/home/tim/MLHIM/git/R_test_prj/ccdTest244AllDatatypesa5c7aca0036f.Rcheck/ccdTest244AllDatatypesa5c7aca0036f???
>
>
>
> * installing *source* package ???ccdTest244AllDatatypesa5c7aca0036f??? ...
> ** R
> Error in parse(outFile) :
>
> /home/tim/MLHIM/git/R_test_prj/ccdTest244AllDatatypesa5c7aca0036f.Rcheck/00_pkg_src/ccdTest244AllDatatypesa5c7aca0036f/R/meta:43:0:
> unexpected end of input
> 41:     return('
> http://www.ccdgen.com/ccdlib/ccd-31598ac4-eac4-4f45-928e-a5c7aca0036f.xsd')
> 42: }
>     ^
> ERROR: unable to collate and parse R files for package
> ???ccdTest244AllDatatypesa5c7aca0036f???
> * removing
> ???/home/tim/MLHIM/git/R_test_prj/ccdTest244AllDatatypesa5c7aca0036f.Rcheck/ccdTest244AllDatatypesa5c7aca0036f???
> -------------------------------------------------------------
>
> Any help  is greatly appreciated.
>
> This is part of a large open source effort in healthcare interoperability
> and data analysis.
>
> Thanks In Advance,
> Tim
>
>
> ============================================
> Timothy Cook
> LinkedIn Profile:http://www.linkedin.com/in/timothywaynecook
> MLHIM http://www.mlhim.org
>
> 	[[alternative HTML version deleted]]
>
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From tim at mlhim.org  Sun May 18 22:40:20 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Sun, 18 May 2014 17:40:20 -0300
Subject: [R] unable to collate and parse R files for package --
 unexpected end of input
In-Reply-To: <537916F1.5050308@gmail.com>
References: <CA+=OU3VKVbW3HYHqqCPM+s7QQeyWptkn9jY26s4pmXQYrSu52Q@mail.gmail.com>
	<537916F1.5050308@gmail.com>
Message-ID: <CA+=OU3UbpwCz075Dzf6zLU5o5L7bnKg3X+fgv1cwpKWtJC+_nA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140518/6187b763/attachment.pl>

From tim at mlhim.org  Sun May 18 22:59:37 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Sun, 18 May 2014 17:59:37 -0300
Subject: [R] unable to collate and parse R files for package --
 unexpected end of input
In-Reply-To: <CA+=OU3UbpwCz075Dzf6zLU5o5L7bnKg3X+fgv1cwpKWtJC+_nA@mail.gmail.com>
References: <CA+=OU3VKVbW3HYHqqCPM+s7QQeyWptkn9jY26s4pmXQYrSu52Q@mail.gmail.com>
	<537916F1.5050308@gmail.com>
	<CA+=OU3UbpwCz075Dzf6zLU5o5L7bnKg3X+fgv1cwpKWtJC+_nA@mail.gmail.com>
Message-ID: <CA+=OU3VxaTH2qErhfR8HH1xGH+hwkiat1OD13A_r5fsQaqdd6w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140518/7970d719/attachment.pl>

From byron_dom at yahoo.com  Mon May 19 00:49:48 2014
From: byron_dom at yahoo.com (Byron Dom)
Date: Sun, 18 May 2014 15:49:48 -0700 (PDT)
Subject: [R] Is there an easier way than this to list all functions in the
	global environment?
Message-ID: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>



After an unsuccessful search thru several books plus online documentation, I was unable to find a simple way to do this, so I wrote my own function (see below) to do it. ?I'm relatively new to R however, so I'm guessing that there must be an easier way to do it.

I want to list all functions and only the functions (not other objects also) in the global environment.

I'm working with several old R workspaces that contain a very large number of objects -- functions, data structures, etc. and I would to be able to easily find out which objects are functions.

The function below (listfunc()) works fine. I'm just asking this for future reference.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
listfunc <- function() { 
# lists names of all function objects in the global environment 
obj <- objects(.GlobalEnv) 
funclist <- character(length = 0) 
for (i in 1:length(obj)) { 
? ? if (mode(get(obj[i])) == "function") funclist <- c(funclist,obj[i]) 
? } 
return(funclist) 
}
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


From Peter.Alspach at plantandfood.co.nz  Mon May 19 01:24:30 2014
From: Peter.Alspach at plantandfood.co.nz (Peter Alspach)
Date: Mon, 19 May 2014 11:24:30 +1200
Subject: [R] Is there an easier way than this to list all functions in
 the	global environment?
In-Reply-To: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>
References: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>
Message-ID: <ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>

Tena koe Byron

Many years ago, I came across the following function by Simon Fear:

function (splitby = mode, pos = 1, ...) 
{
    lsout <- ls(pos = pos, ...)
    tapply(lsout, sapply(lsout, function(x) {
        splitby(get(x))
    }), invisible)
}

from which one can deduce that, given your obj, the following line could replace your loop:

obj[sapply(obj, function(x) mode(get(x))=='function')]

For future reference, it can be slow in R to  continually append to an object:

test <- character(0)
system.time(for (i in 1:10^5) test <- c(test, as.character(i)))
#   user  system elapsed 
#  47.86    0.02   47.89 
test <- character(10^5)
system.time(for (i in 1:10^5) test[i] <- as.character(i))
#   user  system elapsed 
#   0.25    0.00    0.25

HTH ....

Peter Alspach
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Byron Dom
Sent: Monday, 19 May 2014 10:50 a.m.
To: "r-help at r-project.org"
Subject: [R] Is there an easier way than this to list all functions in the global environment?



After an unsuccessful search thru several books plus online documentation, I was unable to find a simple way to do this, so I wrote my own function (see below) to do it. ?I'm relatively new to R however, so I'm guessing that there must be an easier way to do it.

I want to list all functions and only the functions (not other objects also) in the global environment.

I'm working with several old R workspaces that contain a very large number of objects -- functions, data structures, etc. and I would to be able to easily find out which objects are functions.

The function below (listfunc()) works fine. I'm just asking this for future reference.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
listfunc <- function() {
# lists names of all function objects in the global environment obj <- objects(.GlobalEnv) funclist <- character(length = 0) for (i in 1:length(obj)) {
? ? if (mode(get(obj[i])) == "function") funclist <- c(funclist,obj[i])
? }
return(funclist)
}
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
The contents of this e-mail are confidential and may be ...{{dropped:14}}


From jwd at surewest.net  Mon May 19 03:25:20 2014
From: jwd at surewest.net (jwd)
Date: Sun, 18 May 2014 18:25:20 -0700
Subject: [R] Saving the ouput data
In-Reply-To: <1400344892.52387.YahooMailNeo@web142601.mail.bf1.yahoo.com>
References: <1400323084.9210.YahooMailNeo@web126102.mail.ne1.yahoo.com>
	<1400344892.52387.YahooMailNeo@web142601.mail.bf1.yahoo.com>
Message-ID: <20140518182520.5fa7fd46@draco>

Or you can try help(sink).

JWDougherty


From smartpink111 at yahoo.com  Mon May 19 04:01:55 2014
From: smartpink111 at yahoo.com (arun)
Date: Sun, 18 May 2014 19:01:55 -0700 (PDT)
Subject: [R] Is there an easier way than this to list all functions in
	the	global environment?
In-Reply-To: <ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>
References: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>
	<ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>
Message-ID: <1400464915.9206.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,

You may also check ?lsf.str()
c(lsf.str())
A.K.


On Sunday, May 18, 2014 7:27 PM, Peter Alspach <Peter.Alspach at plantandfood.co.nz> wrote:
Tena koe Byron

Many years ago, I came across the following function by Simon Fear:

function (splitby = mode, pos = 1, ...) 
{
? ? lsout <- ls(pos = pos, ...)
? ? tapply(lsout, sapply(lsout, function(x) {
? ? ? ? splitby(get(x))
? ? }), invisible)
}

from which one can deduce that, given your obj, the following line could replace your loop:

obj[sapply(obj, function(x) mode(get(x))=='function')]

For future reference, it can be slow in R to? continually append to an object:

test <- character(0)
system.time(for (i in 1:10^5) test <- c(test, as.character(i)))
#?  user? system elapsed 
#? 47.86? ? 0.02?  47.89 
test <- character(10^5)
system.time(for (i in 1:10^5) test[i] <- as.character(i))
#?  user? system elapsed 
#?  0.25? ? 0.00? ? 0.25

HTH ....

Peter Alspach
-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Byron Dom
Sent: Monday, 19 May 2014 10:50 a.m.
To: "r-help at r-project.org"
Subject: [R] Is there an easier way than this to list all functions in the global environment?



After an unsuccessful search thru several books plus online documentation, I was unable to find a simple way to do this, so I wrote my own function (see below) to do it. ?I'm relatively new to R however, so I'm guessing that there must be an easier way to do it.

I want to list all functions and only the functions (not other objects also) in the global environment.

I'm working with several old R workspaces that contain a very large number of objects -- functions, data structures, etc. and I would to be able to easily find out which objects are functions.

The function below (listfunc()) works fine. I'm just asking this for future reference.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
listfunc <- function() {
# lists names of all function objects in the global environment obj <- objects(.GlobalEnv) funclist <- character(length = 0) for (i in 1:length(obj)) {
? ? if (mode(get(obj[i])) == "function") funclist <- c(funclist,obj[i])
? }
return(funclist)
}
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
The contents of this e-mail are confidential and may be ...{{dropped:14}}

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jwd at surewest.net  Mon May 19 04:40:55 2014
From: jwd at surewest.net (jwd)
Date: Sun, 18 May 2014 19:40:55 -0700
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <1400390206.11032.0.camel@impala.homenet>
References: <1400390206.11032.0.camel@impala.homenet>
Message-ID: <20140518194055.7b79aa63@draco>

On Sun, 18 May 2014 07:16:46 +0200
Juergen Rose <rose at rz.uni-potsdam.de> wrote:

What disappeared are links and three files.  The links are recreatable,
although they would be better placed in user space rather than
under /.  Of the three files, the *bz2 appears to be part of a Gentoo
release, the second a grub configuration backup - not needed, and the
last a log file.  While the locaton of these files and links might be
an idiosyncrasy of the Linux distribution you are using, most
distributions are inherently more careful in configuration.  You should
get into the habit of creating a user with more limited scope than root
and learn to use "su" and "sudo" if you need super-user rights.
Working from root could seriously imperil your system and your work's
integrity.  

JWDougherty


From 494967282 at qq.com  Mon May 19 02:40:36 2014
From: 494967282 at qq.com (caoweina)
Date: Mon, 19 May 2014 08:40:36 +0800
Subject: [R]  Testing parallel regression assumption
Message-ID: <5C8E57D0-D9BD-4C9D-B25C-74DD8F7B3AB9@qq.com>

Dear Rose :
    I saw your questions about the R function that performs brant test. Have you worked out ?  Please give some advice. I need to do  the brant test in R . Thank you very much!
   sincerely!

                       Anna

From hill0093 at umn.edu  Mon May 19 06:56:03 2014
From: hill0093 at umn.edu (Hurr)
Date: Sun, 18 May 2014 21:56:03 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400237587556-4690696.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
Message-ID: <1400475363368-4690803.post@n4.nabble.com>

Sorry, I'm enclosing incomplete not-runnable code.

axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)),padj=0)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0)) 
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); 
frqLabels <- vector(length=nFrqTicInvls+1); 
frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls 
for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl 
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=.jcall(OuWid,"S","sR",frqTicLocs[i],as.integer(4)) 
for(i in 1:(nFrqTicInvls+1))print(frqLabels[i]) 
axis(1,tick=TRUE,line=3.5,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0) 
staxlab(1,at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0)) 

The first axis and first staxlab works.
The second axis is OK below the first axis.
The print(frqLabels[i]) is OK.
But the second staxlab puts the frqLabels[i] on the first (upper) axis.
I must have to add something to the second staxlab to select second axis? 

Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690803.html
Sent from the R help mailing list archive at Nabble.com.


From jim at bitwrit.com.au  Mon May 19 07:13:55 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Mon, 19 May 2014 15:13:55 +1000
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400475363368-4690803.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
Message-ID: <3648385.EsayWLG79T@localhost.localdomain>

On Sun, 18 May 2014 09:56:03 PM Hurr wrote:
> Sorry, I'm enclosing incomplete not-runnable code.
> 
> 
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)),padj=0)
> staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
> nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1);
> frqLabels <- vector(length=nFrqTicInvls+1);
> frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls
> for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl
> for(i in
> 1:
(nFrqTicInvls+1))frqLabels[i]=.jcall(OuWid,"S","sR",frqTicLocs[i],as.integ
> er(4)) for(i in 1:(nFrqTicInvls+1))print(frqLabels[i])
> 
axis(1,tick=TRUE,line=3.5,at=frqTicLocs,labels=rep("",length(frqLabels)),pad
> j=0) staxlab(1,at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0))
> 
> The first axis and first staxlab works.
> The second axis is OK below the first axis.
> The print(frqLabels[i]) is OK.
> But the second staxlab puts the frqLabels[i] on the first (upper) axis.
> I must have to add something to the second staxlab to select second 
axis?
> 
Try looking at the help page, in particular the top.line argument.

Jim


From hill0093 at umn.edu  Mon May 19 08:12:21 2014
From: hill0093 at umn.edu (Hurr)
Date: Sun, 18 May 2014 23:12:21 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <3648385.EsayWLG79T@localhost.localdomain>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
Message-ID: <1400479941314-4690805.post@n4.nabble.com>

Thanks Jim, I see you are the author of staxlab.
In the second staxlab I have tried line=3.5 like in axis, and 
top.line=3.5, separately, with no apparent effect.
We should have to select the second axis somehow.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690805.html
Sent from the R help mailing list archive at Nabble.com.


From habibi383 at gmail.com  Mon May 19 05:18:18 2014
From: habibi383 at gmail.com (Effat Habibi)
Date: Sun, 18 May 2014 20:18:18 -0700
Subject: [R] converting a matrix to array
Message-ID: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>

Dear Sir/ Madam,

I have a problem with converting a matrix (247 rows, 16 columns) to an array in R.

Would you please help me in this regard.

Thank you,
E. Habibi

From jim at bitwrit.com.au  Mon May 19 09:08:56 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Mon, 19 May 2014 17:08:56 +1000
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400479941314-4690805.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
Message-ID: <2769064.n4pP2Haier@localhost.localdomain>

On Sun, 18 May 2014 11:12:21 PM Hurr wrote:
> Thanks Jim, I see you are the author of staxlab.
> In the second staxlab I have tried line=3.5 like in axis, and
> top.line=3.5, separately, with no apparent effect.
> We should have to select the second axis somehow.
> Hurr
> 
> 
You are correct, as I didn't run your code I forgot about the rotation. Here 
is a revised staxlab function that should correct the problem and will 
appear in the next version of plotrix. Thanks for alerting me to it.

Jim
-------------- next part --------------
# staxlab produces staggered axis tick labels
# note that barplot() tends to mess things up by plotting an X axis 
# even when axes=FALSE

staxlab<-function(side=1,at,labels,nlines=2,top.line=0.5,
 line.spacing=0.8,srt=NA,ticklen=0.03,adj=1,...) {

 if(missing(labels)) labels<-at
 nlabels<-length(labels)
 if(missing(at)) at<-1:nlabels
 axislim<-par("usr")[3:4-2*side%%2]
 if(any(at < axislim[1]) || any(at > axislim[2]))
  warning("Some axis labels are off the plot")
 if(is.na(srt)) {
  linepos<-rep(top.line,nlines)
  for(i in 2:nlines) linepos[i]<-linepos[i-1]+line.spacing
  linepos<-rep(linepos,ceiling(nlabels/nlines))[1:nlabels]
  axis(side=side,at=at,labels=rep("",nlabels))
  mtext(text=labels,side=side,line=linepos,at=at,...)
 }
 else {
  linewidth<-strheight("M")
  xylim<-par("usr")
  if(side == 1) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[3]-ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[3]-ticklen*(xylim[4]-xylim[3])-top.line*linewidth
  }
  if(side == 3) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[4]+ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[4]+ticklen*(xylim[4]-xylim[3])+top.line*linewidth
  }
  if(side == 2) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[1]-ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[1]-ticklen*(xylim[2]-xylim[1])-top.line*linewidth
  }
  if(side == 4) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[2]+ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[2]+ticklen*(xylim[2]-xylim[1])+top.line*linewidth
  }
  par(xpd=TRUE)
  text(xpos,ypos,labels,srt=srt,adj=adj,...)
  par(xpd=FALSE)
 }
}

From jim at bitwrit.com.au  Mon May 19 09:15:41 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Mon, 19 May 2014 17:15:41 +1000
Subject: [R] converting a matrix to array
In-Reply-To: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>
References: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>
Message-ID: <3013103.W2YQarhCUe@localhost.localdomain>

On Sun, 18 May 2014 08:18:18 PM Effat Habibi wrote:
> Dear Sir/ Madam,
> 
> I have a problem with converting a matrix (247 rows, 16 columns) to 
an array
> in R.
> 
> Would you please help me in this regard.
> 
Hi Effat,

"A two-dimensional array is the same thing as a matrix."

>From the help page for "array".

Jim


From bt_jannis at yahoo.de  Mon May 19 09:54:49 2014
From: bt_jannis at yahoo.de (Jannis)
Date: Mon, 19 May 2014 09:54:49 +0200
Subject: [R] solution for r-help to the problem of yahoo addresses
	bouncing?
In-Reply-To: <95EBCAC5-EE82-4BCF-A794-AA75B7743EED@comcast.net>
References: <5375D97F.1080104@yahoo.de>
	<95EBCAC5-EE82-4BCF-A794-AA75B7743EED@comcast.net>
Message-ID: <5379B8C9.6040503@yahoo.de>

Hi David,

thanks for your reply.


On 16.05.2014 23:07, David Winsemius wrote:
> On May 16, 2014, at 2:25 AM, Jannis wrote:
>
>> Hi R users,
>>
>>
>>
>> I suspect this is due to yahoo recently changing its handling of DMARC policies.
> Yes. It is due to ISP bounces coming back to the ETHZ server. You do not say what you did with the rest of the message. Did you click on the re-enable hyperlink? About 250 people were recently forcibly unsubscribed on the same day, mostly with yahoo, gmail, or hotmail addresses,  because they had failed to re-enable their subscriptions. (This action by the mailserver filled up the mailboxes of all the moderators.)

I reenabled the mailadress at least 5 times at different times after the 
original reminder so I suspect this may not permanently solve the issue.

>
>> Is there anything I can do from my side to change this? Or is the only solution to change the mail provider?
> Seek out methods of putting r-help on your whitemail list. Please do not ask me to describe this for you further. That is your and your ISP's responsibility to sort out.
>

There seems to be no indivdual whitelist for yahoo. I am no expert on 
these issues but as far as i understand it has more to do with the list 
mails not originating from the senders IP range. You are right that you 
(or the people hosting the list) are not responsible for all the 
individual receivers ISP setting, but in the yahoo case the information 
on these webpages  may solve the issue:

https://help.yahoo.com/kb/postmaster/SLN3435.html?impressions=true



I personally, however, can not fill in these forms.

Sorry for the hassle! If this issue prevails I will certainly contact 
the yahoo people to change the way they deal with mailing lists or just 
change the ISP.



Cheers
Jannis


From andreas.leha at med.uni-goettingen.de  Mon May 19 10:06:26 2014
From: andreas.leha at med.uni-goettingen.de (Andreas Leha)
Date: Mon, 19 May 2014 09:06:26 +0100
Subject: [R] filename of current device
In-Reply-To: <5378E907.7070606@stats.ox.ac.uk>
References: <87y4y481bc.fsf@med.uni-goettingen.de>
	<5378E907.7070606@stats.ox.ac.uk>
Message-ID: <5379BB82.3030001@med.uni-goettingen.de>



On 18/05/2014 18:08, Prof Brian Ripley wrote:
> On 14/05/2014 23:04, Andreas Leha wrote:
>> Hi all,
>>
>> how do I find out about the filename, the currently open (let's say pdf)
>> device is writing to?
>>
>> If I find 'dev.cur()' returning 'pdf 3' when I expect 'nulldevice 1' I
>> would like to know, which file that pdf device is actually targeting.
>>
>> Any help for my poor organization is highly appreciated...
> 
> You cannot know this for an arbitrary device, at least not from R.
> 
> Most files in R are opened with the C call fopen() and thereafter
> referred to by a file handle: the file can be renamed, unlinked ...
> whilst the handle is open.  Some system utilities[*] may be able to tell
> you what filepaths are/were associated with file handles open in a
> process, but it cannot be done portably.
> 
> However, in R-devel there is the possibility of a device recording extra
> information about itself.  See the NEWS item
> 
>     ? Graphics devices can add attributes to their description in
>       .Device and .Devices.  Several of those included with R use a
>       "filepath" attribute.
> 
> AFAIR the pdf() device does: let's see
> 
>> pdf('/tmp/foo.pdf')
>> dev.cur()
> pdf
>   2
>> .Devices
> [[1]]
> [1] "null device"
> 
> [[2]]
> [1] "pdf"
> attr(,"filepath")
> [1] "/tmp/foo.pdf"
> 
> 
> There is at least one exception: for historical reasons locked in by
> undocumented use in package tkrplot, the win.metafile() device does
> include the file path in the device 'name'.
> 
> [*] They have existed at least on Linux, Windows and OS X.
> 


Very nice!  Thank you for pointing that out.  That's exactly what I was
hoping to see in R.  Good to know that this is already there.

Regards,
Andreas


From fff200200 at gmail.com  Mon May 19 10:27:58 2014
From: fff200200 at gmail.com (Klot Lee)
Date: Mon, 19 May 2014 16:27:58 +0800
Subject: [R] could I smooth the geom_line output on ggplot2?
Message-ID: <CABxLr4Zbgn-B7AP1O8S4QAYqmJTC4z3f0eKrhZuKRQqe1q2y3w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/8b958076/attachment.pl>

From freerisk3 at gmail.com  Mon May 19 10:58:03 2014
From: freerisk3 at gmail.com (Pietro)
Date: Mon, 19 May 2014 10:58:03 +0200
Subject: [R] help with xts
In-Reply-To: <CAPPM_gRcgR4xbX6-wUiswS75LfKcOgDY9AWu8uttZSKwmyN8tQ@mail.gmail.com>
References: <loom.20140518T161858-773@post.gmane.org>
	<CAPPM_gRcgR4xbX6-wUiswS75LfKcOgDY9AWu8uttZSKwmyN8tQ@mail.gmail.com>
Message-ID: <5379C79B.6040305@gmail.com>

Thanks to all for your ideas and inspirations

Il 18/05/2014 18.35, Joshua Ulrich ha scritto:
> Using subset assignment with an array usually doesn't work well with
> xts/zoo objects.  Your case wouldn't even work with a matrix because
> you have NA in your array.
>
> In this case, you can achieve the same result using multiplication:
> pos.neg.1 <- ((cond1 < cond2)*-2+1)
> test <- test * pos.neg.1
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
>
> On Sun, May 18, 2014 at 9:25 AM, Pete <freerisk3 at gmail.com> wrote:
>> I have 3 xts objects: test, cond1, cond2
>> You can download here:
>>
>> https://dl.dropboxusercontent.com/u/102669/obj.rar
>>
>> My problem is very simple.
>>
>> test [ cond1 < cond2] = NA                           THIS WORKS
>>
>> test [ cond1 < cond2] = -test [ cond1 < cond2]       THIS DOESN'T WORKS
>>
>> Why?
>>
>> My objective is to substitute all values in test (when cond1 < cond2) with
>> the corresponding values of test but with negative sign
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> .
>


From nilsson.henric at gmail.com  Mon May 19 10:09:02 2014
From: nilsson.henric at gmail.com (Henric Winell)
Date: Mon, 19 May 2014 10:09:02 +0200
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <AE77A01B-1480-4A8F-A2D5-3162A83F55BD@gmail.com>
References: <1400390206.11032.0.camel@impala.homenet>
	<a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>
	<AE77A01B-1480-4A8F-A2D5-3162A83F55BD@gmail.com>
Message-ID: <5379BC1E.1010502@gmail.com>

On 2014-05-18 20:43, peter dalgaard wrote:
>
> On 18 May 2014, at 07:38 , Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
>> Then you had best not do it again if you don't like that result.
>>
>> 1) This is not the right mailing list for issues having to do with bioconductor. Please go to the bioconductor mailing list for that.
>
> Hmm, this is one case where I'd really rather not scare people off R-help. Non-BioC users do use BioC packages from time to time and what Juergen did is what the BioConductor web pages tells new users to do (probably minus the as-root bit). A warn-off on R-help seems entirely warranted. Good to see that Martin Morgan is taking the issue very seriously in his post below.

As a non-BioC user using BioC packages I've always wondered why the 
standard R functionality isn't enough.  Can someone, please, tell me why 
'biocLite()' should be used?

I've always succeeded installing BioC packages using the standard R 
tools (as indicated by Uwe in his reply).


Henric Winell



>
>>
>> 2) Running random scripts straight from the internet as root without reviewing them is exactly the kind of thing any experienced *nix user would never do. That is why user-level accounts have limits on the things they can do. I doubt you are supposed to be running anything with your current directory set to /, ever, especially not logged in as root.
>> ---------------------------------------------------------------------------
>> Jeff Newmiller                        The     .....       .....  Go Live...
>> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>>                                       Live:   OO#.. Dead: OO#..  Playing
>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
>> ---------------------------------------------------------------------------
>> Sent from my phone. Please excuse my brevity.
>>
>> On May 17, 2014 10:16:46 PM PDT, Juergen Rose <rose at rz.uni-potsdam.de> wrote:
>>> I had the following files in /:
>>>
>>> root at caiman:/root(8)# ll /
>>> total 160301
>>> drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
>>> drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
>>> -rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
>>> lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
>>> drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
>>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala ->
>>> /net/impala/data_impala/
>>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 ->
>>> /net/lynx2/data_lynx2/
>>> drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
>>> drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
>>> -rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
>>> lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
>>> drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
>>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala ->
>>> /net/impala/home_impala/
>>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 ->
>>> /net/lynx2/home_lynx2/
>>> lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
>>> drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
>>> drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
>>> -rw-r--r--   1 root root   1797418 May 14 14:22 login.log
>>> drwx------   2 root root     16384 Jan 20  2011 lost+found/
>>> drwxr-xr-x   2 root root         0 May 14 14:21 misc/
>>> drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
>>> drwxr-xr-x   4 root root         0 May 17 17:38 net/
>>> drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
>>> dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
>>> drwx------  36 root root      4096 May 17 15:00 root/
>>> drwxr-xr-x  30 root root       840 May 16 18:21 run/
>>> drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
>>> -rw-r--r--   1 root root 162191459 Jan 13  2011
>>> stage3-amd64-20110113.tar.bz2
>>> dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
>>> drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
>>> drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
>>> drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>>>
>>>
>>> Then I did as root:
>>> R
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("vsn")
>>>
>>> Save workspace image? [y/n/c]: n
>>> root at caiman:/root(15)# ll /
>>> total 93
>>> drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
>>> drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
>>> drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
>>> drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
>>> drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
>>> drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
>>> drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
>>> drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
>>> drwx------   2 root root 16384 Jan 20  2011 lost+found/
>>> drwxr-xr-x   2 root root     0 May 14 14:21 misc/
>>> drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
>>> drwxr-xr-x   2 root root     0 May 17 17:38 net/
>>> drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
>>> dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
>>> drwx------  36 root root  4096 May 17 15:00 root/
>>> drwxr-xr-x  30 root root   840 May 16 18:21 run/
>>> drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
>>> dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
>>> drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
>>> drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
>>> drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>>>
>>> I.e., all not directory files in / disappeared. This happens on two
>>> systems.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From highstat at highstat.com  Mon May 19 12:02:52 2014
From: highstat at highstat.com (Highland Statistics Ltd)
Date: Mon, 19 May 2014 11:02:52 +0100
Subject: [R] Course: Introduction to GAM and GAMM with R
Message-ID: <5379D6CC.9030602@highstat.com>

We would like to announce the following stats course:

Course: Introduction to Generalized Additive Models and Generalized 
Additive Mixed Effects Models with R
Where: Deakin University, Melbourne, Australia
When: 25 - 29 August, 2014

URL Flyer: http://www.highstat.com/Courses/Flyer2014_08Deakin.pdf
Further info: http://www.highstat.com/statscourse.htm

Kind regards,

Alain


-- 
Dr. Alain F. Zuur

First author of:
1. Beginner's Guide to GAMM with R (2014).
2. Beginner's Guide to GLM and GLMM with R (2013).
3. Beginner's Guide to GAM with R (2012).
4. Zero Inflated Models and GLMM with R (2012).
5. A Beginner's Guide to R (2009).
6. Mixed effects models and extensions in ecology with R (2009).
7. Analysing Ecological Data (2007).

Highland Statistics Ltd.
9 St Clair Wynd
UK - AB41 6DZ Newburgh
Tel:   0044 1358 788177
Email: highstat at highstat.com
URL:   www.highstat.com
blog: http://www.highstat.com/wordpress/


From hill0093 at umn.edu  Mon May 19 14:23:20 2014
From: hill0093 at umn.edu (Hurr)
Date: Mon, 19 May 2014 05:23:20 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <2769064.n4pP2Haier@localhost.localdomain>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
Message-ID: <1400502200111-4690819.post@n4.nabble.com>

Thanks again Jim.
Sorry, again I'm enclosing incomplete not-runnable code.
Modified like this it works with the new staxlab function which 
I inserted before the second staxlab call. 
How long before I don't need to insert it?
I didn't see a way to select the specific axis, so
I used top.line=5. Is that what I should do?

axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)),padj=0)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0)) 
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels <-
vector(length=nFrqTicInvls+1); 
frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls 
for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl 
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=.jcall(OuWid,"S","sR",frqTicLocs[i],as.integer(4)) 
for(i in 1:(nFrqTicInvls+1))print(frqLabels[i]) 
axis(1,tick=TRUE,line=3.5,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0) 
staxlab(1,top.line=5,at=frqTicLocs,labels=frqLabels,srt=90) 
title(xlab="Cycles/Yr",line=6)

Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690819.html
Sent from the R help mailing list archive at Nabble.com.


From frymor at gmail.com  Mon May 19 14:48:35 2014
From: frymor at gmail.com (Assa Yeroslaviz)
Date: Mon, 19 May 2014 14:48:35 +0200
Subject: [R] extract duplications from list
Message-ID: <CA+8XemygQfFEx5n152w-3ksPBjN_=z6d36_J+zTiVT9yNUsstA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/05d472e2/attachment.pl>

From Marie-Line.Glaesener at uni.lu  Mon May 19 14:55:10 2014
From: Marie-Line.Glaesener at uni.lu (Marie-Line GLAESENER)
Date: Mon, 19 May 2014 12:55:10 +0000
Subject: [R] Spatial Quantile Regression: Extracting residuals
Message-ID: <99D322B6F7951F468D4788B2CB077C7B1BA4CBAA@hoshi.uni.lux>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/803110b4/attachment.pl>

From jim at bitwrit.com.au  Mon May 19 14:57:20 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Mon, 19 May 2014 22:57:20 +1000
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400502200111-4690819.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
Message-ID: <9795046.ct7tZ63rPa@localhost.localdomain>

On Mon, 19 May 2014 05:23:20 AM Hurr wrote:
> Thanks again Jim.
> Sorry, again I'm enclosing incomplete not-runnable code.
> Modified like this it works with the new staxlab function which
> I inserted before the second staxlab call.
> How long before I don't need to insert it?
> I didn't see a way to select the specific axis, so
> I used top.line=5. Is that what I should do?
> 
> 
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)),padj=0)
> staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0))
> nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels 
<-
> vector(length=nFrqTicInvls+1);
> frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls
> for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl
> for(i in
> 1:
(nFrqTicInvls+1))frqLabels[i]=.jcall(OuWid,"S","sR",frqTicLocs[i],as.integ
> er(4)) for(i in 1:(nFrqTicInvls+1))print(frqLabels[i])
> 
axis(1,tick=TRUE,line=3.5,at=frqTicLocs,labels=rep("",length(frqLabels)),pad
> j=0) staxlab(1,top.line=5,at=frqTicLocs,labels=frqLabels,srt=90)
> title(xlab="Cycles/Yr",line=6)
> 
> Hurr

I guess top.line=5 would be almost off the bottom of the plot. I assume 
that you know how it should look (I don't) and can adjust the top.line 
value until it looks right. the next version of plotrix will probably be out 
in a week or two.

Jim


From matthias.weber at fnt.de  Mon May 19 15:00:03 2014
From: matthias.weber at fnt.de (Mat)
Date: Mon, 19 May 2014 06:00:03 -0700 (PDT)
Subject: [R] substring if value starts with a character
Message-ID: <1400504403682-4690823.post@n4.nabble.com>

Hello togehter, 

i have a litte problem to convert a data.frame. My data.frame looks like
this one
      A
1  R5000
2  R4800
3  R4700
4  3500
5  3800

I need now a command, which outputs all the numbers, without the character
in front.
The solution look like this one:
    
     A
1  5000
2  4800
3  4700
4  3500
5  3800

Thanks.

Best regards. Mat



--
View this message in context: http://r.789695.n4.nabble.com/substring-if-value-starts-with-a-character-tp4690823.html
Sent from the R help mailing list archive at Nabble.com.


From ruipbarradas at sapo.pt  Mon May 19 15:03:27 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Mon, 19 May 2014 14:03:27 +0100
Subject: [R] Testing parallel regression assumption
In-Reply-To: <5C8E57D0-D9BD-4C9D-B25C-74DD8F7B3AB9@qq.com>
References: <5C8E57D0-D9BD-4C9D-B25C-74DD8F7B3AB9@qq.com>
Message-ID: <537A011F.1080906@sapo.pt>

Hello,

Take a look at

http://stats.stackexchange.com/questions/58772/brant-test-in-r

Hope this helps,

Rui Barradas

Em 19-05-2014 01:40, caoweina escreveu:
> Dear Rose :
>      I saw your questions about the R function that performs brant test. Have you worked out ?  Please give some advice. I need to do  the brant test in R . Thank you very much!
>     sincerely!
>
>                         Anna
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ruipbarradas at sapo.pt  Mon May 19 15:10:02 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Mon, 19 May 2014 14:10:02 +0100
Subject: [R] substring if value starts with a character
In-Reply-To: <1400504403682-4690823.post@n4.nabble.com>
References: <1400504403682-4690823.post@n4.nabble.com>
Message-ID: <537A02AA.7030805@sapo.pt>

Hello,

Try the following.

dat <- read.table(text = "
  A
1  R5000
2  R4800
3  R4700
4  3500
5  3800
", header = TRUE)

dat

dat2 <- dat
dat2[] <- lapply(dat, function(x) sub("^[[:alpha:]]*(.*$)", "\\1", x))
dat2


Hope this helps,

Rui Barradas

Em 19-05-2014 14:00, Mat escreveu:
> Hello togehter,
>
> i have a litte problem to convert a data.frame. My data.frame looks like
> this one
>        A
> 1  R5000
> 2  R4800
> 3  R4700
> 4  3500
> 5  3800
>
> I need now a command, which outputs all the numbers, without the character
> in front.
> The solution look like this one:
>
>       A
> 1  5000
> 2  4800
> 3  4700
> 4  3500
> 5  3800
>
> Thanks.
>
> Best regards. Mat
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/substring-if-value-starts-with-a-character-tp4690823.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jholtman at gmail.com  Mon May 19 15:14:27 2014
From: jholtman at gmail.com (jim holtman)
Date: Mon, 19 May 2014 09:14:27 -0400
Subject: [R] extract duplications from list
In-Reply-To: <CA+8XemygQfFEx5n152w-3ksPBjN_=z6d36_J+zTiVT9yNUsstA@mail.gmail.com>
References: <CA+8XemygQfFEx5n152w-3ksPBjN_=z6d36_J+zTiVT9yNUsstA@mail.gmail.com>
Message-ID: <CAAxdm-6K+2=7ig=55a=g33BQc-k3e3ybyhCG2gBy_ntvR7OLwA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/34f6d1ef/attachment.pl>

From ivan.calandra at univ-fcomte.fr  Mon May 19 15:16:17 2014
From: ivan.calandra at univ-fcomte.fr (Ivan Calandra)
Date: Mon, 19 May 2014 15:16:17 +0200
Subject: [R] substring if value starts with a character
In-Reply-To: <1400504403682-4690823.post@n4.nabble.com>
References: <1400504403682-4690823.post@n4.nabble.com>
Message-ID: <537A0421.2030904@univ-fcomte.fr>

Hi Mat,

Try that:
gsub("[A-Za-z]", "", df$A)

This is a regular expression that looks for all characters (A to Z and a 
to z) and replaces it with nothing ("")
You will need to convert the column to numeric after this operation.

HTH,
Ivan

--
Ivan Calandra
University of Franche-Comt?
Laboratoire Chrono-Environnement
Bureau ATER -107L
16, Route de Gray
25030 Besan?on Cedex, France
ivan.calandra at univ-fcomte.fr
+33 (0) 381 66 20 60
http://chrono-environnement.univ-fcomte.fr/spip.php?article1830

Le 19/05/14 15:00, Mat a ?crit :
> Hello togehter,
>
> i have a litte problem to convert a data.frame. My data.frame looks like
> this one
>        A
> 1  R5000
> 2  R4800
> 3  R4700
> 4  3500
> 5  3800
>
> I need now a command, which outputs all the numbers, without the character
> in front.
> The solution look like this one:
>      
>       A
> 1  5000
> 2  4800
> 3  4700
> 4  3500
> 5  3800
>
> Thanks.
>
> Best regards. Mat
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/substring-if-value-starts-with-a-character-tp4690823.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ashisdeb83 at gmail.com  Mon May 19 15:29:15 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Mon, 19 May 2014 06:29:15 -0700
Subject: [R] K-mean Clustering in URL's
Message-ID: <CAFcJUTr=kopJxf0O7Tx1Hhma458BFcLhkYK-ADtwQz2H4wUg7g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/06e8531e/attachment.pl>

From careyshan at gmail.com  Mon May 19 16:08:00 2014
From: careyshan at gmail.com (Shane Carey)
Date: Mon, 19 May 2014 15:08:00 +0100
Subject: [R] Boxplots
Message-ID: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/5513cf0c/attachment.pl>

From mtmorgan at fhcrc.org  Mon May 19 16:25:57 2014
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Mon, 19 May 2014 07:25:57 -0700
Subject: [R] dev-lang/R-3.1.0: biocLite("vsn") removes all files in /
In-Reply-To: <5379BC1E.1010502@gmail.com>
References: <1400390206.11032.0.camel@impala.homenet>	<a5201e79-f0e2-405a-a472-bfb9c1f943b2@email.android.com>	<AE77A01B-1480-4A8F-A2D5-3162A83F55BD@gmail.com>
	<5379BC1E.1010502@gmail.com>
Message-ID: <537A1475.7070706@fhcrc.org>

On 05/19/2014 01:09 AM, Henric Winell wrote:
> On 2014-05-18 20:43, peter dalgaard wrote:
>>
>> On 18 May 2014, at 07:38 , Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>
>>> Then you had best not do it again if you don't like that result.
>>>
>>> 1) This is not the right mailing list for issues having to do with
>>> bioconductor. Please go to the bioconductor mailing list for that.
>>
>> Hmm, this is one case where I'd really rather not scare people off R-help.
>> Non-BioC users do use BioC packages from time to time and what Juergen did is
>> what the BioConductor web pages tells new users to do (probably minus the
>> as-root bit). A warn-off on R-help seems entirely warranted. Good to see that
>> Martin Morgan is taking the issue very seriously in his post below.
>
> As a non-BioC user using BioC packages I've always wondered why the standard R
> functionality isn't enough.  Can someone, please, tell me why 'biocLite()'
> should be used?
>
> I've always succeeded installing BioC packages using the standard R tools (as
> indicated by Uwe in his reply).

Conversely, I've always succeeded in installing CRAN and Bioc packages via

   source("http://bioconductor.org/biocLite.R")
   biocLite(...)

and am more-or-less flummoxed by the extra steps I'm asked to perform (to choose 
and set repositories) when I take that rare foray into install.packages()-land! 
One point is that http://bioconductor.org actually points to an Amazon 
CloudFront address, which means that the content comes from a geographically 
proximate and reliable location (this makes choice of repository mostly 
irrelevant for normal users, just point to bioconductor.org)



Bioconductor has a repository and release schedule that differs from R 
(Bioconductor has a 'devel' branch to which new packages and updates are 
introduced, and a stable 'release' branch emitted once every 6 months to which 
bug fixes but not new features are introduced).

A consequences of the mismatch between R and Bioconductor release schedules is 
that the Bioconductor version identified by Uwe's method is sometimes not the 
most recent 'release' available. For instance, R 3.1.1 will likely be introduced 
some months before the next Bioc release. After the Bioc release, 3.1.1 users 
will be pointed to an out-of-date version of Bioconductor.

A consequence of the distinct 'devel' branch is that Uwe's method sometimes 
points only to the 'release' repository, whereas Bioconductor developers and 
users wanting leading-edge features wish to access the Bioconductor 'devel' 
repository. For instance, the next Bioc release will be available for R.3.1.x, 
so Bioconductor developers and leading-edge users need to be able to install the 
devel version of Bioconductor packages into the same version (though perhaps 
different instance or at least library location) of R that currently supports 
the release version.

An indirect consequence of the structured release is that Bioconductor packages 
generally have more extensive dependencies with one another, both explicitly via 
the usual package mechanisms and implicitly because the repository, release 
structure, and Bioconductor community  interactions favor re-use of data 
representations and analysis concepts across packages. There is thus a higher 
premium on knowing that packages are from the same release, and that all 
packages are current within the release.



These days, the main purpose of source("http://bioconductor.org/biocLite.R") is 
to install and attach the 'BiocInstaller' package.

In a new installation, the script installs the most recent version of the 
BiocInstaller package relevant to the version of R in use, regardless of the 
relative times of R and Bioconductor release cycles. The BiocInstaller package 
serves as the primary way to identify the version of Bioconductor in use

   > library(BiocInstaller)
   Bioconductor version 2.14 (BiocInstaller 1.14.2), ?biocLite for help

Since new features are often appealing to users, but at the same time require an 
updated version of Bioconductor, the source() command evaluated in an 
out-of-date R will nudge users to upgrade, e.g., in R-2.15.3

   > source("http://bioconductor.org/biocLite.R")
   A new version of Bioconductor is available after installing the most
     recent version of R; see http://bioconductor.org/install

The biocLite() function is provided by BiocInstaller. This is a wrapper around 
install.packages, but with the repository chosen according to the version of 
Bioconductor in use, rather than to the version relevant at the time of the 
release of R.

biocLite also nudges users to remain current within a release, by default 
checking for out-of-date packages and asking if the user would like to update

 > biocLite()
BioC_mirror: http://bioconductor.org
Using Bioconductor version 2.14 (BiocInstaller 1.14.2), R version
   3.1.0.
Old packages: 'BBmisc', 'genefilter', 'GenomicAlignments',
   'GenomicRanges', 'IRanges', 'MASS', 'reshape2', 'Rgraphviz',
   'RJSONIO', 'rtracklayer'
Update all/some/none? [a/s/n]:

The BiocInstaller package provides facilities for switching to the 'devel' 
version of Bioconductor

 > BiocInstaller::useDevel()
Installing package into ?/home/mtmorgan/R/x86_64-unknown-linux-gnu-library/3.1?
(as ?lib? is unspecified)
trying URL 
'http://bioconductor.org/packages/3.0/bioc/src/contrib/BiocInstaller_1.15.5.tar.gz'
Content type 'application/x-gzip' length 14144 bytes (13 Kb)
opened URL
==================================================
downloaded 13 Kb

* installing *source* package ?BiocInstaller? ...
...
Bioconductor version 3.0 (BiocInstaller 1.15.5), ?biocLite for help
'BiocInstaller' changed to version 1.15.5

(at some points in the R / Bioc release cycle use of 'devel' requires use of a 
different version of R itself, in which case the attempt to useDevel() fails 
with an appropriate message).

The BiocInstaller package also provides biocValid() to test that the installed 
packages are not a hodgepodge from different Bioconductor releases (the 'too 
new' packages have been installed from source rather than a repository; regular 
users would seldom have these).

 > biocValid()

* sessionInfo()

R version 3.1.0 Patched (2014-05-06 r65533)
Platform: x86_64-unknown-linux-gnu (64-bit)
...

* Out-of-date packages
...

update with biocLite()

* Packages too new for Bioconductor version '3.0'
...

downgrade with biocLite(c("ShortRead", "BatchJobs"))

Error: 9 package(s) out of date; 2 package(s) too new


Certainly for casual users install.packages() offers a familiar and 
not-incorrect way of installing Bioconductor packages. For users who spend a lot 
of time in Bioconductor, the features outlined above become increasingly 
important and biocLite() is the way to go.

Martin

>
>
> Henric Winell
>
>
>
>>
>>>
>>> 2) Running random scripts straight from the internet as root without
>>> reviewing them is exactly the kind of thing any experienced *nix user would
>>> never do. That is why user-level accounts have limits on the things they can
>>> do. I doubt you are supposed to be running anything with your current
>>> directory set to /, ever, especially not logged in as root.
>>> ---------------------------------------------------------------------------
>>> Jeff Newmiller                        The     .....       .....  Go Live...
>>> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>>>                                       Live:   OO#.. Dead: OO#..  Playing
>>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>>> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
>>> ---------------------------------------------------------------------------
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> On May 17, 2014 10:16:46 PM PDT, Juergen Rose <rose at rz.uni-potsdam.de> wrote:
>>>> I had the following files in /:
>>>>
>>>> root at caiman:/root(8)# ll /
>>>> total 160301
>>>> drwxr-xr-x   2 root root      4096 May 16 12:23 bin/
>>>> drwxr-xr-x   6 root root      3072 May 14 13:58 boot/
>>>> -rw-r--r--   1 root root     38673 May 14 14:22 boot_local-d.log
>>>> lrwxrwxrwx   1 root root        11 Jan 22  2011 data -> data_caiman/
>>>> drwxr-xr-x   7 root root      4096 Mar  9 22:29 data_caiman/
>>>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 data_impala ->
>>>> /net/impala/data_impala/
>>>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 data_lynx2 ->
>>>> /net/lynx2/data_lynx2/
>>>> drwxr-xr-x  21 root root      4040 May 14 14:40 dev/
>>>> drwxr-xr-x 160 root root     12288 May 17 17:14 etc/
>>>> -rw-------   1 root root     15687 Dec 26 13:42 grub.cfg_old
>>>> lrwxrwxrwx   1 root root        11 Jan 23  2011 home -> home_caiman/
>>>> drwxr-xr-x   5 root root      4096 Dec 26 11:31 home_caiman/
>>>> lrwxrwxrwx   1 root root        23 Dec 29 13:43 home_impala ->
>>>> /net/impala/home_impala/
>>>> lrwxrwxrwx   1 root root        21 Jan 27 08:13 home_lynx2 ->
>>>> /net/lynx2/home_lynx2/
>>>> lrwxrwxrwx   1 root root         5 Mar 30 04:25 lib -> lib64/
>>>> drwxr-xr-x   3 root root      4096 May 14 04:31 lib32/
>>>> drwxr-xr-x  17 root root     12288 May 16 12:23 lib64/
>>>> -rw-r--r--   1 root root   1797418 May 14 14:22 login.log
>>>> drwx------   2 root root     16384 Jan 20  2011 lost+found/
>>>> drwxr-xr-x   2 root root         0 May 14 14:21 misc/
>>>> drwxr-xr-x  10 root root      4096 Nov  4  2013 mnt/
>>>> drwxr-xr-x   4 root root         0 May 17 17:38 net/
>>>> drwxr-xr-x  13 root root      4096 Feb 13 13:25 opt/
>>>> dr-xr-xr-x 270 root root         0 May 14 14:21 proc/
>>>> drwx------  36 root root      4096 May 17 15:00 root/
>>>> drwxr-xr-x  30 root root       840 May 16 18:21 run/
>>>> drwxr-xr-x   2 root root     12288 May 16 12:23 sbin/
>>>> -rw-r--r--   1 root root 162191459 Jan 13  2011
>>>> stage3-amd64-20110113.tar.bz2
>>>> dr-xr-xr-x  12 root root         0 May 14 14:21 sys/
>>>> drwxrwxrwt  16 root root      1648 May 17 17:14 tmp/
>>>> drwxr-xr-x  19 root root      4096 May  6 04:40 usr/
>>>> drwxr-xr-x  16 root root      4096 Dec 26 11:17 var/
>>>>
>>>>
>>>> Then I did as root:
>>>> R
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("vsn")
>>>>
>>>> Save workspace image? [y/n/c]: n
>>>> root at caiman:/root(15)# ll /
>>>> total 93
>>>> drwxr-xr-x   2 root root  4096 May 16 12:23 bin/
>>>> drwxr-xr-x   6 root root  3072 May 14 13:58 boot/
>>>> drwxr-xr-x   7 root root  4096 Mar  9 22:29 data_caiman/
>>>> drwxr-xr-x  21 root root  4040 May 14 14:40 dev/
>>>> drwxr-xr-x 160 root root 12288 May 17 17:14 etc/
>>>> drwxr-xr-x   5 root root  4096 Dec 26 11:31 home_caiman/
>>>> drwxr-xr-x   3 root root  4096 May 14 04:31 lib32/
>>>> drwxr-xr-x  17 root root 12288 May 16 12:23 lib64/
>>>> drwx------   2 root root 16384 Jan 20  2011 lost+found/
>>>> drwxr-xr-x   2 root root     0 May 14 14:21 misc/
>>>> drwxr-xr-x  10 root root  4096 Nov  4  2013 mnt/
>>>> drwxr-xr-x   2 root root     0 May 17 17:38 net/
>>>> drwxr-xr-x  13 root root  4096 Feb 13 13:25 opt/
>>>> dr-xr-xr-x 272 root root     0 May 14 14:21 proc/
>>>> drwx------  36 root root  4096 May 17 15:00 root/
>>>> drwxr-xr-x  30 root root   840 May 16 18:21 run/
>>>> drwxr-xr-x   2 root root 12288 May 16 12:23 sbin/
>>>> dr-xr-xr-x  12 root root     0 May 17 17:38 sys/
>>>> drwxrwxrwt  19 root root  1752 May 17 18:33 tmp/
>>>> drwxr-xr-x  19 root root  4096 May  6 04:40 usr/
>>>> drwxr-xr-x  16 root root  4096 Dec 26 11:17 var/
>>>>
>>>> I.e., all not directory files in / disappeared. This happens on two
>>>> systems.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


-- 
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M1 B861
Phone: (206) 667-2793


From jdnewmil at dcn.davis.CA.us  Mon May 19 16:31:14 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Mon, 19 May 2014 07:31:14 -0700
Subject: [R] Boxplots
In-Reply-To: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
Message-ID: <e814e201-b391-4f3a-bf5e-d168e1236c35@email.android.com>

Read the posting guide, which tells you to provide a minimal reproducible example [1] (there it's more than one way to accomplish what you have done already) and post using plain text (so your R code comes through without being corrupted).

[1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 19, 2014 7:08:00 AM PDT, Shane Carey <careyshan at gmail.com> wrote:
>Hi,
>
>I have boxplots by factors for a dataset and trying to include a
>boxplot to
>represent the entire dataset.
>
>Any idea how this would be done?
>
>Thanks


From jun.shen.ut at gmail.com  Mon May 19 16:42:27 2014
From: jun.shen.ut at gmail.com (Jun Shen)
Date: Mon, 19 May 2014 10:42:27 -0400
Subject: [R] level for confint (nls)
Message-ID: <CAMCXXmp8ir0QM8Fb4kVb3=Yk9VQO=Qzpe8n+AjkCObLBJ06vxA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/0ae7be4d/attachment.pl>

From ashenkin at ufl.edu  Mon May 19 16:42:53 2014
From: ashenkin at ufl.edu (Alexander Shenkin)
Date: Mon, 19 May 2014 15:42:53 +0100
Subject: [R] How to define and calculate volume of 3D polygon?
Message-ID: <537A186D.4070604@ufl.edu>

Hi Folks,

I have a set of x,y,z points in 3D space that defines the outline of a 
tree crown (5 - 15 perimeter points + 1 top & bottom point). I would 
like to calculate the volume of the corresponding 3D polygon based on 
those points.  I have been able to use geometry::convhulln, but I think 
this isn't the right algorithm, since the polygon needs to pass through 
each point in order, and not just snap a rubber-band around the outer 
points.

Any suggestions for alternative algorithms and packages would be most 
welcome!

Thanks,
Allie

    seq          x          y    z
1    1 -1.7310065  2.4502278 11.1
2    2 -1.9048260 -0.6096212  9.0
3    3  2.8652209  0.8891057 11.0
4    4  2.3929514 -3.4516349 11.2
5    5 -2.6436343  5.2745803 11.7
6    6 -4.3521504  4.6924180 11.7
7    7  6.1441732 -4.8051156 11.6
8    8 -6.2157823 -3.2193244  8.0
9    9  1.0024961 -2.8275434  9.0
10  10 -3.9656821  3.0452201  8.0
11  11  4.2070518 -1.5970958 11.0
12  12 -0.9461915  1.2902409  9.8
13  13  2.2792265  0.7517491 11.4


From han241 at purdue.edu  Mon May 19 16:42:04 2014
From: han241 at purdue.edu (Mingxuan Han)
Date: Mon, 19 May 2014 07:42:04 -0700 (PDT)
Subject: [R] How to Optimize two functions together in R
In-Reply-To: <CAPtbhHwhZH8sthxeLDSmO-y601gdqx_+0_ty539veB3Fx=7qRA@mail.gmail.com>
References: <1400168836305-4690654.post@n4.nabble.com>
	<CAPtbhHwhZH8sthxeLDSmO-y601gdqx_+0_ty539veB3Fx=7qRA@mail.gmail.com>
Message-ID: <1400510524719-4690832.post@n4.nabble.com>

I try to use NSGAII function in the mco but I am kind of confusing about the
numbers of input and output dimension in the argument. Could you explain a
little about this? Thank you. 



--
View this message in context: http://r.789695.n4.nabble.com/How-to-Optimize-two-functions-together-in-R-tp4690654p4690832.html
Sent from the R help mailing list archive at Nabble.com.


From tim at mlhim.org  Mon May 19 16:44:17 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Mon, 19 May 2014 11:44:17 -0300
Subject: [R] XML pkg. Namespace message
Message-ID: <CA+=OU3X5qQ9pKFEh54aQzBhvCJ+kYAY5ir76bRzVxWbLzURMYg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/05b1e038/attachment.pl>

From gunter.berton at gene.com  Mon May 19 17:23:31 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Mon, 19 May 2014 08:23:31 -0700
Subject: [R] level for confint (nls)
In-Reply-To: <CAMCXXmp8ir0QM8Fb4kVb3=Yk9VQO=Qzpe8n+AjkCObLBJ06vxA@mail.gmail.com>
References: <CAMCXXmp8ir0QM8Fb4kVb3=Yk9VQO=Qzpe8n+AjkCObLBJ06vxA@mail.gmail.com>
Message-ID: <CACk-te2a-umT0PriQKf7HHMm4Ypd5WGHEKjOGQYfGwGpKhkViA@mail.gmail.com>

I believe this has to do with numeric issues in nonlinear fitting and
interpolation, and is neither concerned with R programming nor trivial
to answer. I therefore suggest you post on the stats.stackexchange.com
for a fuller discussion of the issues.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Mon, May 19, 2014 at 7:42 AM, Jun Shen <jun.shen.ut at gmail.com> wrote:
> Dear list,
>
> I have this nls model and trying to calculate the confidence interval for
> some parameter. I found if I use the default value level=0.95, confint can
> calculate a value; when I change the level=0.9, then it return  :Error in
> prof$getProfile() : number of iterations exceeded maximum of 50.
>
> The strange thing is if I use level=0.8, it is working again. Why is that?
> How do I get an CI value for any level? Thanks.
>
> Jun Shen
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From murdoch.duncan at gmail.com  Mon May 19 17:42:23 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 19 May 2014 11:42:23 -0400
Subject: [R] How to define and calculate volume of 3D polygon?
In-Reply-To: <537A186D.4070604@ufl.edu>
References: <537A186D.4070604@ufl.edu>
Message-ID: <537A265F.5010902@gmail.com>

On 19/05/2014, 10:42 AM, Alexander Shenkin wrote:
> Hi Folks,
>
> I have a set of x,y,z points in 3D space that defines the outline of a
> tree crown (5 - 15 perimeter points + 1 top & bottom point). I would
> like to calculate the volume of the corresponding 3D polygon based on
> those points.  I have been able to use geometry::convhulln, but I think
> this isn't the right algorithm, since the polygon needs to pass through
> each point in order, and not just snap a rubber-band around the outer
> points.
>
> Any suggestions for alternative algorithms and packages would be most
> welcome!

If you aren't using the convex hull, you need to specify more 
information.  The vertices of a polyhedron don't have a natural order, 
so passing through them "in order" doesn't make sense.

One way to specify this information is to specify which triples of 
vertices form triangular faces, as convhulln does.

I don't know of a package containing code to compute the volume, but a 
description of the algorithm is on this page:

http://www.ecse.rpi.edu/~wrf/Research/Short_Notes/volume.html

Duncan Murdoch


>
> Thanks,
> Allie
>
>      seq          x          y    z
> 1    1 -1.7310065  2.4502278 11.1
> 2    2 -1.9048260 -0.6096212  9.0
> 3    3  2.8652209  0.8891057 11.0
> 4    4  2.3929514 -3.4516349 11.2
> 5    5 -2.6436343  5.2745803 11.7
> 6    6 -4.3521504  4.6924180 11.7
> 7    7  6.1441732 -4.8051156 11.6
> 8    8 -6.2157823 -3.2193244  8.0
> 9    9  1.0024961 -2.8275434  9.0
> 10  10 -3.9656821  3.0452201  8.0
> 11  11  4.2070518 -1.5970958 11.0
> 12  12 -0.9461915  1.2902409  9.8
> 13  13  2.2792265  0.7517491 11.4
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From msuzen at gmail.com  Mon May 19 17:57:42 2014
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Mon, 19 May 2014 17:57:42 +0200
Subject: [R] How to Optimize two functions together in R
In-Reply-To: <1400510524719-4690832.post@n4.nabble.com>
References: <1400168836305-4690654.post@n4.nabble.com>
	<CAPtbhHwhZH8sthxeLDSmO-y601gdqx_+0_ty539veB3Fx=7qRA@mail.gmail.com>
	<1400510524719-4690832.post@n4.nabble.com>
Message-ID: <CAPtbhHyD4V9kqLW6kCWHxx12UQYjJPgu3ui81sv7eY6D60fOqg@mail.gmail.com>

Use defaul values initially, to see if you got reasonable results. See
here for the details of nsga2
http://dx.doi.org/10.1109/4235.996017

On 19 May 2014 16:42, Mingxuan Han <han241 at purdue.edu> wrote:
> I try to use NSGAII function in the mco but I am kind of confusing about the
> numbers of input and output dimension in the argument. Could you explain a
> little about this? Thank you.
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/How-to-Optimize-two-functions-together-in-R-tp4690654p4690832.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Mon May 19 18:01:11 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 19 May 2014 09:01:11 -0700 (PDT)
Subject: [R] extract duplications from list
In-Reply-To: <CA+8XemygQfFEx5n152w-3ksPBjN_=z6d36_J+zTiVT9yNUsstA@mail.gmail.com>
References: <CA+8XemygQfFEx5n152w-3ksPBjN_=z6d36_J+zTiVT9yNUsstA@mail.gmail.com>
Message-ID: <1400515271.22446.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,

You may try:

myList <- list(structure(list(X = c("FBgn0000008", "FBgn0000014", "FBgn0000028", 
"FBgn0000109", "FBgn0000114", "FBgn0000120"), NAME = c("FBgn0000008", 
"FBgn0000014", "FBgn0000028", "FBgn0000109", "FBgn0000114", "FBgn0000120"
), MEM.SHIP = c(0.9304502, 1, 1, 1, 0.4839886, 1)), .Names = c("X", 
"NAME", "MEM.SHIP"), class = "data.frame", row.names = c("1", 
"2", "3", "4", "5", "6")), structure(list(X = c("FBgn0000251", 
"FBgn0001168", "FBgn0001941", "FBgn0003053", "FBgn0003159", "FBgn0000120"
), NAME = c("FBgn0000251", "FBgn0001168", "FBgn0001941", "FBgn0000028", 
"FBgn0003159", "FBgn0003162"), MEM.SHIP = c(0.313865, 0.8995011, 
0.7485548, 0.4426997, 0.4843226, 0.655629)), .Names = c("X", 
"NAME", "MEM.SHIP"), class = "data.frame", row.names = c("1", 
"2", "3", "4", "5", "6")))

library(data.table)
?dt1 <- rbindlist(myList)
fun1 <- function(val){duplicated(val)|duplicated(val,fromLast=TRUE)}
dt1[,paste0("Col",1:2):=lapply(.SD, fun1),.SDcols=1:2]
dt1

A.K.




On Monday, May 19, 2014 8:50 AM, Assa Yeroslaviz <frymor at gmail.com> wrote:
Hi,

I have a list of 40 data.frames.

I would like to identify duplicated entries in the whole list, not only in
one specific data.frame, but in all 40.

Here is my list:

> myList
[[1]]
? ? ? ? ? ? X? ? ? ? NAME? MEM.SHIP
1 FBgn0000008 FBgn0000008 0.9304502
2 FBgn0000014 FBgn0000014 1.0000000
3 FBgn0000028 FBgn0000028 1.0000000
4 FBgn0000109 FBgn0000109 1.0000000
5 FBgn0000114 FBgn0000114 0.4839886
6 FBgn0000120 FBgn0000120 1.0000000

[[2]]
? ? ? ? ? ? X? ? ? ? NAME? MEM.SHIP
1 FBgn0000251 FBgn0000251 0.3138650
2 FBgn0001168 FBgn0001168 0.8995011
3 FBgn0001941 FBgn0001941 0.7485548
4 FBgn0003053 FBgn0000028 0.4426997
5 FBgn0003159 FBgn0003159 0.4843226
6 FBgn0000120 FBgn0003162 0.6556290


I would like to know whether there are duplicated entries in the first
and/or second column of all. In this list I have two duplications one is
FBgn0000120 in both lines Nr. 6 and the second is FBgn0000028 in line 3 and
line 4 in df1 and df2 respectively.


Is there a way to do it. With unique I don't get any results. and I cannot
convert the list into a data.frame, as the number of items in each df is
different.

Thanks
Assa

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From S.Ellison at LGCGroup.com  Mon May 19 18:09:27 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Mon, 19 May 2014 17:09:27 +0100
Subject: [R] Boxplots
In-Reply-To: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
Message-ID: <04589D30-126E-4E9F-897E-8125078F13AE@LGCGroup.com>



> I have boxplots by factors for a dataset and trying to include a boxplot to
> represent the entire dataset.

Have a look at last the example in ?boxplot which plots a second set of values beside a first set. In your case, specifying xlim larger than needed by one and then using boxplot(x, at=n+1) is the kind of thing you'd need to do.

S Ellison



*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From rmh at temple.edu  Mon May 19 18:33:33 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Mon, 19 May 2014 12:33:33 -0400
Subject: [R] Boxplots
In-Reply-To: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
Message-ID: <CAGx1TMDXnnRipMEh9mSh6r=Cj5P-7Pxc6e7HO=HbF-0TCoM6HQ@mail.gmail.com>

tmp <- data.frame(y=c(rnorm(20), rnorm(20), c=rnorm(20)),
g=rep(letters[1:3], each=20))

library(lattice)
library(latticeExtra)
A <- bwplot(y ~ g, data=tmp)
B <- bwplot(y ~ rep("Y",60), data=tmp, horizontal=FALSE)

resizePanels(c(Individual=A, "All Together"=B, layout=c(2,1)), w=c(3,1))


## for even more options, you can look at the examples in
## the HH package
## install.packages("HH") ## if necessary
library(HH)
demo("bwplot.examples", package="HH")
example("panel.bwplot.superpose", package="HH")
?panel.bwplot.intermediate.hh
?panel.bwplot.superpose

On Mon, May 19, 2014 at 10:08 AM, Shane Carey <careyshan at gmail.com> wrote:
> Hi,
>
> I have boxplots by factors for a dataset and trying to include a boxplot to
> represent the entire dataset.
>
> Any idea how this would be done?
>
> Thanks
>
> --
> Shane
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From byron_dom at yahoo.com  Mon May 19 19:13:25 2014
From: byron_dom at yahoo.com (Byron Dom)
Date: Mon, 19 May 2014 10:13:25 -0700 (PDT)
Subject: [R] Is there an easier way than this to list all functions in
	the	global environment?
In-Reply-To: <ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>
References: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>
	<ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>
Message-ID: <1400519605.15453.YahooMailNeo@web142806.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/46528837/attachment.pl>

From byron_dom at yahoo.com  Mon May 19 19:15:59 2014
From: byron_dom at yahoo.com (Byron Dom)
Date: Mon, 19 May 2014 10:15:59 -0700 (PDT)
Subject: [R] Is there an easier way than this to list all functions in
	the	global environment?
In-Reply-To: <1400464915.9206.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <1400453388.63191.YahooMailNeo@web142805.mail.bf1.yahoo.com>
	<ED8CD182D432434485C7D1787FB06DDC2281C6CCE0@AKLEXM01.PFR.CO.NZ>
	<1400464915.9206.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1400519759.27885.YahooMailNeo@web142801.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/71e42c9d/attachment.pl>

From smartpink111 at yahoo.com  Mon May 19 17:26:58 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 19 May 2014 08:26:58 -0700 (PDT)
Subject: [R] substring if value starts with a character
In-Reply-To: <1400504403682-4690823.post@n4.nabble.com>
References: <1400504403682-4690823.post@n4.nabble.com>
Message-ID: <1400513218.93751.YahooMailNeo@web142606.mail.bf1.yahoo.com>



Hi,
Try:
?dat <- read.table(text="A
1? R5000
2? R4800
3? R4700
4? 3500
5? 3800",sep="",header=TRUE,stringsAsFactors=FALSE)
?dat$A <- as.numeric(gsub("[[:alpha:]]+","",dat$A))
A.K.



On Monday, May 19, 2014 9:02 AM, Mat <matthias.weber at fnt.de> wrote:
Hello togehter, 

i have a litte problem to convert a data.frame. My data.frame looks like
this one
? ? ? A
1? R5000
2? R4800
3? R4700
4? 3500
5? 3800

I need now a command, which outputs all the numbers, without the character
in front.
The solution look like this one:
? ? 
? ?  A
1? 5000
2? 4800
3? 4700
4? 3500
5? 3800

Thanks.

Best regards. Mat



--
View this message in context: http://r.789695.n4.nabble.com/substring-if-value-starts-with-a-character-tp4690823.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Mon May 19 18:22:42 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 19 May 2014 09:22:42 -0700 (PDT)
Subject: [R] converting a matrix to array
In-Reply-To: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>
References: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>
Message-ID: <1400516562.22446.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,


If you meant to convert the matrix to a 3D array, check this link:

http://stackoverflow.com/questions/9572656/how-to-convert-matrix-into-array

A.K.



On Monday, May 19, 2014 2:18 AM, Effat Habibi <habibi383 at gmail.com> wrote:
Dear Sir/ Madam,

I have a problem with converting a matrix (247 rows, 16 columns) to an array in R.

Would you please help me in this regard.

Thank you,
E. Habibi
______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From acos at dpi.inpe.br  Mon May 19 19:40:41 2014
From: acos at dpi.inpe.br (=?UTF-8?Q?Alexsandro_C=C3=A2ndido_de_Oliveira_S?= =?UTF-8?Q?ilva?=)
Date: Mon, 19 May 2014 14:40:41 -0300
Subject: [R] R save with encoding...
Message-ID: <00ae01cf7389$7548c1d0$5fda4570$@dpi.inpe.br>

Um texto embutido e sem conjunto de caracteres especificado foi limpo...
Nome: n?o dispon?vel
Url: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/bf532211/attachment.pl>

From letter at openmailbox.org  Mon May 19 15:46:47 2014
From: letter at openmailbox.org (message)
Date: Mon, 19 May 2014 13:46:47 +0000
Subject: [R] solve scalar linear equation
Message-ID: <d38e3e73b5877e359e3a4398181adea1@openmailbox.org>

Readers,

The function 'solve' states that it is applicable to a vector or matrix 
object.

Please what is the syntax to solve a very simple equation like:

5x + 1 = 56

The books read so far give explanations for simultaneous linear 
equations or differential equations, but there have not been able to 
find a very basic description to solve simple equations (as an initial 
learning stage). Thanks.


From careyshan at gmail.com  Mon May 19 23:41:23 2014
From: careyshan at gmail.com (Shane Carey)
Date: Mon, 19 May 2014 22:41:23 +0100
Subject: [R] Boxplots
In-Reply-To: <CAGx1TMDXnnRipMEh9mSh6r=Cj5P-7Pxc6e7HO=HbF-0TCoM6HQ@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
	<CAGx1TMDXnnRipMEh9mSh6r=Cj5P-7Pxc6e7HO=HbF-0TCoM6HQ@mail.gmail.com>
Message-ID: <CA+jRDxBW9qNbSuDfcCHp6e-OvXAAf76T3JrwYKsjVmjYQXKBBQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/80caa171/attachment.pl>

From ruipbarradas at sapo.pt  Tue May 20 00:04:27 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Mon, 19 May 2014 23:04:27 +0100
Subject: [R] solve scalar linear equation
In-Reply-To: <d38e3e73b5877e359e3a4398181adea1@openmailbox.org>
References: <d38e3e73b5877e359e3a4398181adea1@openmailbox.org>
Message-ID: <537A7FEB.4060108@sapo.pt>

Hello,

Try ?uniroot instead.
Your equation is equivalent to 5x - 55 = 0, so the instruction would be

uniroot(function(x) 5*x - 55, c(0, 20))

Hope this helps,

Rui Barradas

Em 19-05-2014 14:46, message escreveu:
> Readers,
>
> The function 'solve' states that it is applicable to a vector or matrix
> object.
>
> Please what is the syntax to solve a very simple equation like:
>
> 5x + 1 = 56
>
> The books read so far give explanations for simultaneous linear
> equations or differential equations, but there have not been able to
> find a very basic description to solve simple equations (as an initial
> learning stage). Thanks.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From marlinkcox at gmail.com  Tue May 20 02:34:06 2014
From: marlinkcox at gmail.com (Marlin Keith Cox)
Date: Mon, 19 May 2014 16:34:06 -0800
Subject: [R] Subsets of a function
Message-ID: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/5c7e07f9/attachment.pl>

From gunter.berton at gene.com  Tue May 20 02:39:03 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Mon, 19 May 2014 17:39:03 -0700
Subject: [R] Subsets of a function
In-Reply-To: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>
References: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>
Message-ID: <CACk-te3UOh7=XsFArPaBpVvfkR2i0y5G=YrfoG9qtxqeLOvpXA@mail.gmail.com>

Have you read "An Introduction to R" and sections on indexing (?"[")
where this is discussed. Have you read about apply type functions
there like ?tapply.  If not, don't you think you should. If so, read
again.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Mon, May 19, 2014 at 5:34 PM, Marlin Keith Cox <marlinkcox at gmail.com> wrote:
> Hi all, this is a reoccurring theme in my programming and I need some help
> with it.  When I use a built in function and need to use it on a subset of
> my data frame, I always end up using the subset function first, but this
> seems very clunky.  For example, if I have years 2003:2013 with season "a"
> and "b" within each year, and I want to create a smooth.spline, I end up
> creating a subset for each year and season, and then have a smooth spline
> function for each year and season.  Can I do this more efficiently?
>
>
> The subsets are below:
>
>
> size.2003<-subset(size,Year==2003&Season=="a")
>
> size.2004<-subset(size,Year==2004&Season=="a")
>
> size.2005<-subset(size,Year==2005&Season=="a")
>
> size.2006<-subset(size,Year==2006&Season=="a")
>
> size.2007<-subset(size,Year==2007&Season=="a")
>
> size.2008<-subset(size,Year==2008&Season=="a")
>
> size.2009<-subset(size,Year==2009&Season=="a")
>
> size.2010<-subset(size,Year==2010&Season=="a")
>
> size.2011<-subset(size,Year==2011&Season=="a")
>
> size.2012<-subset(size,Year==2012&Season=="a")
>
> size.2013<-subset(size,Year==2013&Season=="a")
>
> size.2003b<-subset(size,Year==2003&Season=="b")
>
> size.2004b<-subset(size,Year==2004&Season=="b")
>
> size.2005b<-subset(size,Year==2005&Season=="b")
>
> size.2006b<-subset(size,Year==2006&Season=="b")
>
> size.2007b<-subset(size,Year==2007&Season=="b")
>
> size.2008b<-subset(size,Year==2008&Season=="b")
>
> size.2009b<-subset(size,Year==2009&Season=="b")
>
> size.2010b<-subset(size,Year==2010&Season=="b")
>
> size.2011b<-subset(size,Year==2011&Season=="b")
>
> size.2012b<-subset(size,Year==2012&Season=="b")
>
> size.2013b<-subset(size,Year==2013&Season=="b")
>
> The smooth.spline is below
>
> 2003<-with(size.2003,smooth.spline(Size,Prop,spar=0.25))
>
> 2004<-with(size.2004,smooth.spline(Size,Prop,spar=0.25))
> 2005<-with(size.2005,smooth.spline(Size,Prop,spar=0.25))
> etc. etc.
>
> M. Keith Cox, Ph.D.
> Principal
> MKConsulting
> 17105 Glacier Hwy
> Juneau, AK 99801
> U.S. 907.957.4606
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jholtman at gmail.com  Tue May 20 02:44:00 2014
From: jholtman at gmail.com (jim holtman)
Date: Mon, 19 May 2014 20:44:00 -0400
Subject: [R] Subsets of a function
In-Reply-To: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>
References: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>
Message-ID: <CAAxdm-6Sy4+kNaCvX9VXVSchqTXnD_1-tzNmzZwoYGPi0KAODA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140519/b0bcaef2/attachment.pl>

From wdunlap at tibco.com  Tue May 20 03:21:57 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 19 May 2014 18:21:57 -0700
Subject: [R] Boxplots
In-Reply-To: <CA+jRDxBW9qNbSuDfcCHp6e-OvXAAf76T3JrwYKsjVmjYQXKBBQ@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
	<CAGx1TMDXnnRipMEh9mSh6r=Cj5P-7Pxc6e7HO=HbF-0TCoM6HQ@mail.gmail.com>
	<CA+jRDxBW9qNbSuDfcCHp6e-OvXAAf76T3JrwYKsjVmjYQXKBBQ@mail.gmail.com>
Message-ID: <CAF8bMcbCveBnk6COU=AF6aDWgH++aMJdbTU20SY5QWxn_-OGzA@mail.gmail.com>

Another method uses the core boxplot() function but replaces the usual
call to split() with a variant that puts all the data at the end of
the list of splits:

> splitPlusAll <- function(x, ...) c(split(x, ...), list(All=x))
> boxplot(with(mtcars, splitPlusAll(wt, list(gear,am), drop=TRUE)))
> boxplot(with(mtcars, split(wt, list(gear,am), drop=TRUE)))

(It helps if you show what you have done when your question arose, as
there are several R functions for drawing boxplots.)

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Mon, May 19, 2014 at 2:41 PM, Shane Carey <careyshan at gmail.com> wrote:
> Great,
>
> Thanks everyone :-)
>
> On Monday, May 19, 2014, Richard M. Heiberger <rmh at temple.edu> wrote:
>
>> tmp <- data.frame(y=c(rnorm(20), rnorm(20), c=rnorm(20)),
>> g=rep(letters[1:3], each=20))
>>
>> library(lattice)
>> library(latticeExtra)
>> A <- bwplot(y ~ g, data=tmp)
>> B <- bwplot(y ~ rep("Y",60), data=tmp, horizontal=FALSE)
>>
>> resizePanels(c(Individual=A, "All Together"=B, layout=c(2,1)), w=c(3,1))
>>
>>
>> ## for even more options, you can look at the examples in
>> ## the HH package
>> ## install.packages("HH") ## if necessary
>> library(HH)
>> demo("bwplot.examples", package="HH")
>> example("panel.bwplot.superpose", package="HH")
>> ?panel.bwplot.intermediate.hh
>> ?panel.bwplot.superpose
>>
>> On Mon, May 19, 2014 at 10:08 AM, Shane Carey <careyshan at gmail.com<javascript:;>>
>> wrote:
>> > Hi,
>> >
>> > I have boxplots by factors for a dataset and trying to include a boxplot
>> to
>> > represent the entire dataset.
>> >
>> > Any idea how this would be done?
>> >
>> > Thanks
>> >
>> > --
>> > Shane
>> >
>> >         [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org <javascript:;> mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>
>
> --
> Shane
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From fff200200 at gmail.com  Tue May 20 02:48:50 2014
From: fff200200 at gmail.com (Klot Lee)
Date: Tue, 20 May 2014 08:48:50 +0800
Subject: [R] How could I graph a special coordinate
Message-ID: <CABxLr4YjyyQ56DVnkTUnZTPW49D5MG4pS6BOJND2zStoRBHrZQ@mail.gmail.com>

hi,

I'v got some data attached as apx.csv.  It shows the relationship about a
kind of enzyme and the temperature.
"yhf" and "xbt" are 2 kind of cowpea. "apx" is the kind of enzyme and "low"
means the lowest temperature intraday. "date" means 1 to 121 days.

What I want to show with it is how is "apx" changes with "low" on 2 kind of
cowpeas. And "date" is better not missing in graph.
I have made one by ggplot2 using apx2.csv (reshaped by melt).

apx<- read.csv("apx2.csv")
p<- ggplot(apx, aes(x= dat, y=apx, colour= factor(var)))
p + geom_line()+facet_wrap(~var,ncol=1, scales= "free_y")

The graph is NOT good enough. It is not easy to find the relationship
between "apx" and "low". How could I do better? Is it possible to show
"low" data as graph background color changing with "date"? Thank you.

-- 
Stand Alone Complex

From frtog at vestas.com  Tue May 20 07:15:10 2014
From: frtog at vestas.com (=?utf-8?B?RnJlZGUgQWFrbWFubiBUw7hnZXJzZW4=?=)
Date: Tue, 20 May 2014 07:15:10 +0200
Subject: [R] R save with encoding...
In-Reply-To: <00ae01cf7389$7548c1d0$5fda4570$@dpi.inpe.br>
References: <00ae01cf7389$7548c1d0$5fda4570$@dpi.inpe.br>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C61AE09B@DKRDSEXC016.vestas.net>

Hi

See ?plotmath.

Something like this:

plot(1, 1, main = expression(paste("INTERVALS ", lambda)))



Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Alexsandro C?ndido de Oliveira Silva
> Sent: 19. maj 2014 19:41
> To: r-help at r-project.org
> Subject: [R] R save with encoding...
> 
> Hello everybody!!
> 
> 
> 
> I'm trying to plot a graphic with the title: INTERVALS ?.
> 
> But the special character ? can't be encoded using ISO8859-1.
> 
> 
> 
> Which another encoding I need to choose?
> 
> 
> 
> Att.
> 
> Alexsandro C?ndido de Oliveira Silva
> 
> __________________________________________________________
> _________________________
> 
> 
> 
> 
> 
> ---
> Este email est? limpo de v?rus e malwares porque a prote??o do avast!
> Antiv?rus est? ativa.
> http://www.avast.com
> 
> 	[[alternative HTML version deleted]]


From gunter.berton at gene.com  Tue May 20 07:30:09 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Mon, 19 May 2014 22:30:09 -0700
Subject: [R] How could I graph a special coordinate
In-Reply-To: <CABxLr4YjyyQ56DVnkTUnZTPW49D5MG4pS6BOJND2zStoRBHrZQ@mail.gmail.com>
References: <CABxLr4YjyyQ56DVnkTUnZTPW49D5MG4pS6BOJND2zStoRBHrZQ@mail.gmail.com>
Message-ID: <CACk-te0oaRriFF4yPTqsqHp5_RC+yQq0Nj+OKrBBrjkqJV8oUg@mail.gmail.com>

Check out the R Graph Gallery for ideas.

http://rgraphgallery.blogspot.com/

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Mon, May 19, 2014 at 5:48 PM, Klot Lee <fff200200 at gmail.com> wrote:
> hi,
>
> I'v got some data attached as apx.csv.  It shows the relationship about a
> kind of enzyme and the temperature.
> "yhf" and "xbt" are 2 kind of cowpea. "apx" is the kind of enzyme and "low"
> means the lowest temperature intraday. "date" means 1 to 121 days.
>
> What I want to show with it is how is "apx" changes with "low" on 2 kind of
> cowpeas. And "date" is better not missing in graph.
> I have made one by ggplot2 using apx2.csv (reshaped by melt).
>
> apx<- read.csv("apx2.csv")
> p<- ggplot(apx, aes(x= dat, y=apx, colour= factor(var)))
> p + geom_line()+facet_wrap(~var,ncol=1, scales= "free_y")
>
> The graph is NOT good enough. It is not easy to find the relationship
> between "apx" and "low". How could I do better? Is it possible to show
> "low" data as graph background color changing with "date"? Thank you.
>
> --
> Stand Alone Complex
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From babuawara at gmail.com  Tue May 20 08:06:14 2014
From: babuawara at gmail.com (vikram ranga)
Date: Tue, 20 May 2014 11:36:14 +0530
Subject: [R] density in hist does not come as 1
Message-ID: <CAL-ALVE=cMrjMYJeKTWZYoK07SAG2iH28M5=HGAsMGpsNsntSQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/94dbb1a3/attachment.pl>

From kridox at ymail.com  Tue May 20 08:50:58 2014
From: kridox at ymail.com (Pascal Oettli)
Date: Tue, 20 May 2014 15:50:58 +0900
Subject: [R] density in hist does not come as 1
In-Reply-To: <CAL-ALVE=cMrjMYJeKTWZYoK07SAG2iH28M5=HGAsMGpsNsntSQ@mail.gmail.com>
References: <CAL-ALVE=cMrjMYJeKTWZYoK07SAG2iH28M5=HGAsMGpsNsntSQ@mail.gmail.com>
Message-ID: <CAAcyNCxYi9WSU7F4VwWQC95xqax8R1q4JRVk_Y0Dvyxhk-N1=w@mail.gmail.com>

Hello,

What you are doing wrong? Correctly read the help page.

>From the help page: "if FALSE, probability densities, component
density, are plotted (so that the histogram has a *total area of
one*)"

> sum(check$density * diff(check$breaks))
[1] 1

HTH,
Pascal

On Tue, May 20, 2014 at 3:06 PM, vikram ranga <babuawara at gmail.com> wrote:
> Dear List,
>
> I am trying to make a histogram with following data:
>
> dput(a)
> c(1, 0, 1.5, 1, 0, 0, 0, 1, 1.5, 0, 0, 1, 0, 0, 0, 1, 1, 2, 1,
> 0, 0, 0, 1, 1, 1, 0, 1, 0.5, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0,
> 0, 0, 0, 0, 1, 1, 1, 0, 0, 1.5, 0, 0, 0, 0, 1, 0, 0, 0.5, 0,
> 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 2, 0, 0, 0, 1, 1, 0,
> 0, 0, 1.5)
>
> So, I did
>
> hist(a, freq = FALSE, breaks = 5)
> but the first bar height is going above 1!
> I did some checking
>
> check <- hist(a, freq = FALSE, breaks = 5)
> check$density
>
> #[1] 1.146341 0.707317 0.097561 0.048780
>
> first bar went above 1, however, the values should be
> check$counts/length(a)
> #[1] 0.57317 0.35366 0.04878 0.02439
> sum(check$counts/length(a))
> #[1] 1
>
>
> What am I going wrong here?
>
> Thank you for your time!
>
> Regards,
>
> Vikram.
>
> sessionInfo()
>
> R version 3.1.0 (2014-04-10)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_India.1252  LC_CTYPE=English_India.1252
>  LC_MONETARY=English_India.1252
> [4] LC_NUMERIC=C                   LC_TIME=English_India.1252
> .
> .
> .
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Pascal Oettli
Project Scientist
JAMSTEC
Yokohama, Japan


From luca at stat.unipg.it  Tue May 20 08:51:51 2014
From: luca at stat.unipg.it (Luca Scrucca)
Date: Tue, 20 May 2014 08:51:51 +0200
Subject: [R] How to include static PDFs vignettes in an R package
Message-ID: <3020B814-AC83-4D04-B892-A6B54D3C0173@stat.unipg.it>

Hi all,

prior to R version 3.0 I used to include a static PDF file as package vignette following the instructions in http://www.icesi.edu.co/CRAN/web/packages/R.rsp/vignettes/NonSweaveVignettes.pdf (I know this is a little bit old), except that the relevant files where in vignette/ directory of the package and not on inst/doc/.
This was recognized by the R build system, so the vignette appeared when calling browseVignettes() as well as in the 'Overview of user guides and package vignettes' section of the package HTML help page. However, this doesn't work anymore, and I have tried many different ways but with no success.
Did someone find another solution to include static PDF files as vignettes in R packages?
Thanks in advance.

Luca


-- 
--------------------------------------------------
Dr Luca Scrucca
Department of Economics 
University of Perugia
Via A. Pascoli, 20
06123 Perugia (ITALY)
Tel. +39-075-5855229
Fax: +39-075-5855950
E-mail:   luca at stat.unipg.it
Web page: http://www.stat.unipg.it/luca


From Thierry.ONKELINX at inbo.be  Tue May 20 09:35:01 2014
From: Thierry.ONKELINX at inbo.be (ONKELINX, Thierry)
Date: Tue, 20 May 2014 07:35:01 +0000
Subject: [R] Subsets of a function
In-Reply-To: <CAAxdm-6Sy4+kNaCvX9VXVSchqTXnD_1-tzNmzZwoYGPi0KAODA@mail.gmail.com>
References: <CAHskWAV06uj12BdS_NkuhD89mf47a9m+DetdgDChRpCBv8Dj+w@mail.gmail.com>
	<CAAxdm-6Sy4+kNaCvX9VXVSchqTXnD_1-tzNmzZwoYGPi0KAODA@mail.gmail.com>
Message-ID: <AA818EAD2576BC488B4F623941DA7427F3A51A22@inbomail.inbo.be>

Another option is the plyr package.

library(plyr)
result <- dlply(size, ~ Year +Season, function(.sub){
        with(.sub, smooth.spline(Size, Prop, spar = 0.25))
}


ir. Thierry Onkelinx
Instituut voor natuur- en bosonderzoek / Research Institute for Nature and Forest
team Biometrie & Kwaliteitszorg / team Biometrics & Quality Assurance
Kliniekstraat 25
1070 Anderlecht
Belgium
+ 32 2 525 02 51
+ 32 54 43 61 85
Thierry.Onkelinx at inbo.be
www.inbo.be

To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of.
~ Sir Ronald Aylmer Fisher

The plural of anecdote is not data.
~ Roger Brinner

The combination of some data and an aching desire for an answer does not ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey

-----Oorspronkelijk bericht-----
Van: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] Namens jim holtman
Verzonden: dinsdag 20 mei 2014 2:44
Aan: Marlin Keith Cox
CC: r-help at r-project.org
Onderwerp: Re: [R] Subsets of a function

It would have been nice if you at least supplied a subset of the data, but here is a try at it:

myList <- split(size, list(size$Year, size$Season)) result <- lapply(myList, function(.sub){
    smooth.spline(.sub$Size, spar = 0.25)
})




Jim Holtman
Data Munger Guru

What is the problem that you are trying to solve?
Tell me what you want to do, not how you want to do it.


On Mon, May 19, 2014 at 8:34 PM, Marlin Keith Cox <marlinkcox at gmail.com>wrote:

> Hi all, this is a reoccurring theme in my programming and I need some
> help with it.  When I use a built in function and need to use it on a
> subset of my data frame, I always end up using the subset function
> first, but this seems very clunky.  For example, if I have years 2003:2013 with season "a"
> and "b" within each year, and I want to create a smooth.spline, I end
> up creating a subset for each year and season, and then have a smooth
> spline function for each year and season.  Can I do this more efficiently?
>
>
> The subsets are below:
>
>
> size.2003<-subset(size,Year==2003&Season=="a")
>
> size.2004<-subset(size,Year==2004&Season=="a")
>
> size.2005<-subset(size,Year==2005&Season=="a")
>
> size.2006<-subset(size,Year==2006&Season=="a")
>
> size.2007<-subset(size,Year==2007&Season=="a")
>
> size.2008<-subset(size,Year==2008&Season=="a")
>
> size.2009<-subset(size,Year==2009&Season=="a")
>
> size.2010<-subset(size,Year==2010&Season=="a")
>
> size.2011<-subset(size,Year==2011&Season=="a")
>
> size.2012<-subset(size,Year==2012&Season=="a")
>
> size.2013<-subset(size,Year==2013&Season=="a")
>
> size.2003b<-subset(size,Year==2003&Season=="b")
>
> size.2004b<-subset(size,Year==2004&Season=="b")
>
> size.2005b<-subset(size,Year==2005&Season=="b")
>
> size.2006b<-subset(size,Year==2006&Season=="b")
>
> size.2007b<-subset(size,Year==2007&Season=="b")
>
> size.2008b<-subset(size,Year==2008&Season=="b")
>
> size.2009b<-subset(size,Year==2009&Season=="b")
>
> size.2010b<-subset(size,Year==2010&Season=="b")
>
> size.2011b<-subset(size,Year==2011&Season=="b")
>
> size.2012b<-subset(size,Year==2012&Season=="b")
>
> size.2013b<-subset(size,Year==2013&Season=="b")
>
> The smooth.spline is below
>
> 2003<-with(size.2003,smooth.spline(Size,Prop,spar=0.25))
>
> 2004<-with(size.2004,smooth.spline(Size,Prop,spar=0.25))
> 2005<-with(size.2005,smooth.spline(Size,Prop,spar=0.25))
> etc. etc.
>
> M. Keith Cox, Ph.D.
> Principal
> MKConsulting
> 17105 Glacier Hwy
> Juneau, AK 99801
> U.S. 907.957.4606
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
* * * * * * * * * * * * * D I S C L A I M E R * * * * * * * * * * * * *
Dit bericht en eventuele bijlagen geven enkel de visie van de schrijver weer en binden het INBO onder geen enkel beding, zolang dit bericht niet bevestigd is door een geldig ondertekend document.
The views expressed in this message and any annex are purely those of the writer and may not be regarded as stating an official position of INBO, as long as the message is not confirmed by a duly signed document.


From hill0093 at umn.edu  Tue May 20 09:45:36 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 20 May 2014 00:45:36 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <9795046.ct7tZ63rPa@localhost.localdomain>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
Message-ID: <1400571936847-4690867.post@n4.nabble.com>

How can I:
1) make ticks shorter or longer 
2) make ticks cross the axis line
3) make ticks project toward the plot 
4) make grid lines 
5) make perpendicular labels be 
   close to the axis near ticks 
   projecting away from the plot 




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690867.html
Sent from the R help mailing list archive at Nabble.com.


From wewolski at gmail.com  Tue May 20 10:35:39 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Tue, 20 May 2014 10:35:39 +0200
Subject: [R] Documenting docType data
Message-ID: <CAAjnpdgzgRCW3A6hsJe96XOFPRb-AkKy+jTVgQyAW7vmuc6AwA@mail.gmail.com>

Hi,

I am Trying to document data using roxygen2 by following the
stackoverflow question:
http://stackoverflow.com/questions/9561684/documenting-dataset-with-roxygen2


And although my data resigin in mypackage/data
has extension .rda and .csv

I am getting the same error as in the stackoverlfow issue:

** testing if installed package can be loaded
Error in namespaceExport(ns, exports) :
  undefined exports: feature_alignment_requant
Error: loading failed
Execution halted
ERROR: loading failed

best regards
Witold


-- 
Witold Eryk Wolski


From julien.riou.k at gmail.com  Tue May 20 12:05:51 2014
From: julien.riou.k at gmail.com (Julien Riou)
Date: Tue, 20 May 2014 12:05:51 +0200
Subject: [R] Variance of predictions from lme4 models at existing levels?
Message-ID: <CAL49zWOuPD-cue4jOqx0Rw6Vr2b3dGZ7wH3xuFu+2WdCm4b6sA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/2101b0e3/attachment.pl>

From rh at knut-krueger.de  Tue May 20 12:37:08 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Tue, 20 May 2014 12:37:08 +0200
Subject: [R] \ escape sequence and windows path
Message-ID: <537B3054.6040403@knut-krueger.de>


Is there any function to change the windows path to linux path?

especially I would like to have the possibility to use
f.e
path="C:\foo1\foo2\"
I can import those paths with
path = readline()  but not directly in a script

Regards Knut


From murdoch.duncan at gmail.com  Tue May 20 13:02:45 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 20 May 2014 07:02:45 -0400
Subject: [R] How to include static PDFs vignettes in an R package
In-Reply-To: <3020B814-AC83-4D04-B892-A6B54D3C0173@stat.unipg.it>
References: <3020B814-AC83-4D04-B892-A6B54D3C0173@stat.unipg.it>
Message-ID: <537B3655.7040804@gmail.com>

On 20/05/2014, 2:51 AM, Luca Scrucca wrote:
> Hi all,
>
> prior to R version 3.0 I used to include a static PDF file as package vignette following the instructions in http://www.icesi.edu.co/CRAN/web/packages/R.rsp/vignettes/NonSweaveVignettes.pdf (I know this is a little bit old), except that the relevant files where in vignette/ directory of the package and not on inst/doc/.
> This was recognized by the R build system, so the vignette appeared when calling browseVignettes() as well as in the 'Overview of user guides and package vignettes' section of the package HTML help page. However, this doesn't work anymore, and I have tried many different ways but with no success.
> Did someone find another solution to include static PDF files as vignettes in R packages?
> Thanks in advance.

You need to include the source, otherwise R doesn't consider it to be a 
vignette.

If this package is for your own use (not for CRAN), the "source" could 
simply be an instruction to copy the .pdf from somewhere -- see the 
current non-Sweave vignettes section of Writing R Extensions for how to 
set this up.  I don't think that would be acceptable on CRAN under their 
open source policy.

Duncan Murdoch


From Roger.Bivand at nhh.no  Tue May 20 13:06:49 2014
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 20 May 2014 11:06:49 +0000
Subject: [R] Spatial Quantile Regression: Extracting residuals
References: <99D322B6F7951F468D4788B2CB077C7B1BA4CBAA@hoshi.uni.lux>
Message-ID: <loom.20140520T125147-97@post.gmane.org>

Marie-Line GLAESENER <Marie-Line.Glaesener <at> uni.lu> writes:

> 
> Dear R users,
> 
> Could anyone tell me if there is a way to obtain the residuals from a
model fitted by
> 
> qregspiv(y ~  x,wmat=wmat,inst=NULL,tau=.5,rhomat =
seq(-1,1,.01),printsariv=T,silent=F,   nboot=300,data=)
> 
> in McSpatial, using the Chernozhukov and Hansen (2006) method.

This is a very specialised question, and even on the more appropriate list
R-sig-geo might not be answered. Writing to the package maintainer is one
possibility, but as you see from:

library(McSpatial)
example(qregspiv)
fit <- qregspiv(form, wmat=wmat, data=mdata, rhomat=seq(-1,1,0.01),
nboot=300, tau=0.5)
str(fit)

shows only:

 num [1:4, 1:4] 7.35 0.288 0.343 0.05 1.993 ...
 - attr(*, "dimnames")=List of 2
  ..$ : chr [1:4] "(Intercept)" "lnland" "lnbldg" "WY"
  ..$ : chr [1:4] "Coef." "Std. Err." "Z-Values" "Pr(>|z|)"

so that apart from the coefficient values and their distribution summaries,
nothing else is returned. This means that you will have to put qregspiv into
debug() mode, and manipulate those internal objects that you need, but which
are not returned.

Hope this helps,

Roger

> 
> Many thanks in advance and kind regards,
> 
> Marie-Line
> 
> Ph.D. Candidate
> Institute of Geography and Spatial Planning
> 
> UNIVERSIT? DU LUXEMBOURG
> CAMPUS WALFERDANGE
> Route de Diekirch / BP 2
> L-7201 Walferdange
> Luxembourg
> marie-line.glaesener <at> uni.lu<mailto:marie-line.glaesener <at> uni.lu>
> www.geo.ipse.uni.lu<http://www.geo.ipse.uni.lu/>
> 
> 
> 
> 
> Dear R users,
> 
> Could anyone tell me if there is a way to obtain the residuals from a
model fitted by
> 
> qregspiv(y ~  x,wmat=wmat,inst=NULL,tau=.5,rhomat =
seq(-1,1,.01),printsariv=T,silent=F,   nboot=300,data=)
> 
> in McSpatial, using the Chernozhukov and Hansen (2006) method.
> 
> Many thanks in advance and kind regards,
> 
> Marie-Line
> 
> Ph.D. Candidate
> Institute of Geography and Spatial Planning
> 
> UNIVERSIT? DU LUXEMBOURG
> CAMPUS WALFERDANGE
> Route de Diekirch / BP 2
> L-7201 Walferdange
> Luxembourg
> marie-line.glaesener <at> uni.lu<mailto:marie-line.glaesener <at> uni.lu>
> www.geo.ipse.uni.lu<http://www.geo.ipse.uni.lu/>
> 
> 	[[alternative HTML version deleted]]
> 
>


From pdalgd at gmail.com  Tue May 20 14:28:50 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 20 May 2014 14:28:50 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B3054.6040403@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
Message-ID: <AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>


On 20 May 2014, at 12:37 , Knut Krueger <rh at knut-krueger.de> wrote:

> 
> Is there any function to change the windows path to linux path?
> 
> especially I would like to have the possibility to use
> f.e
> path="C:\foo1\foo2\"
> I can import those paths with
> path = readline()  but not directly in a script
> 

In R string specifications, \ is an escape character. \n is newline, \b rings the bell, \" is a double quote, etc. So "C:\foo1\foo2\" is unterminated and containes 2 form feed characters. 

There's no way around using \\ to specify a backslash in a string literal.  For file paths, you can also use the forward slash instead of the backslash.

> Regards Knut
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From h.wickham at gmail.com  Tue May 20 14:34:45 2014
From: h.wickham at gmail.com (Hadley Wickham)
Date: Tue, 20 May 2014 07:34:45 -0500
Subject: [R] Documenting docType data
In-Reply-To: <CAAjnpdgzgRCW3A6hsJe96XOFPRb-AkKy+jTVgQyAW7vmuc6AwA@mail.gmail.com>
References: <CAAjnpdgzgRCW3A6hsJe96XOFPRb-AkKy+jTVgQyAW7vmuc6AwA@mail.gmail.com>
Message-ID: <CABdHhvGk-B=MxLbyEFt+CdrjbZQE5HZyKzLWhQ+tcO2=tWQ7tg@mail.gmail.com>

Don't export the dataset? (as mentioned in the answer to that
question). If that doesn't help, please supply a minimal reproducible
example.

Hadley

On Tue, May 20, 2014 at 3:35 AM, Witold E Wolski <wewolski at gmail.com> wrote:
> Hi,
>
> I am Trying to document data using roxygen2 by following the
> stackoverflow question:
> http://stackoverflow.com/questions/9561684/documenting-dataset-with-roxygen2
>
>
> And although my data resigin in mypackage/data
> has extension .rda and .csv
>
> I am getting the same error as in the stackoverlfow issue:
>
> ** testing if installed package can be loaded
> Error in namespaceExport(ns, exports) :
>   undefined exports: feature_alignment_requant
> Error: loading failed
> Execution halted
> ERROR: loading failed
>
> best regards
> Witold
>
>
> --
> Witold Eryk Wolski
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
http://had.co.nz/


From careyshan at gmail.com  Tue May 20 14:44:26 2014
From: careyshan at gmail.com (Shane Carey)
Date: Tue, 20 May 2014 13:44:26 +0100
Subject: [R] Boxplots
In-Reply-To: <CAF8bMcbCveBnk6COU=AF6aDWgH++aMJdbTU20SY5QWxn_-OGzA@mail.gmail.com>
References: <CA+jRDxBWr0S-QLJ3Vuykz7jzgXNHUHHkZ08xmHoeXkwUd3SWGw@mail.gmail.com>
	<CAGx1TMDXnnRipMEh9mSh6r=Cj5P-7Pxc6e7HO=HbF-0TCoM6HQ@mail.gmail.com>
	<CA+jRDxBW9qNbSuDfcCHp6e-OvXAAf76T3JrwYKsjVmjYQXKBBQ@mail.gmail.com>
	<CAF8bMcbCveBnk6COU=AF6aDWgH++aMJdbTU20SY5QWxn_-OGzA@mail.gmail.com>
Message-ID: <CA+jRDxAdzcNSDmtKm9fgkjbmotA=-jzWzZEu596stBaTdDK=OQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/f9f27f30/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Tue May 20 15:22:14 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 20 May 2014 06:22:14 -0700
Subject: [R] \ escape sequence and windows path
In-Reply-To: <AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
Message-ID: <ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>

Most importantly, "\\" is a string literal containing ONE backslash character. Yes you can create strings in R source code that represent Windows-style paths, but they must APPEAR different in that context. You may find it helpful to know that the print function can output escaped strings suitable for inclusion in R code, while the cat function can output those same strings without the escaping.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 20, 2014 5:28:50 AM PDT, peter dalgaard <pdalgd at gmail.com> wrote:
>
>On 20 May 2014, at 12:37 , Knut Krueger <rh at knut-krueger.de> wrote:
>
>> 
>> Is there any function to change the windows path to linux path?
>> 
>> especially I would like to have the possibility to use
>> f.e
>> path="C:\foo1\foo2\"
>> I can import those paths with
>> path = readline()  but not directly in a script
>> 
>
>In R string specifications, \ is an escape character. \n is newline, \b
>rings the bell, \" is a double quote, etc. So "C:\foo1\foo2\" is
>unterminated and containes 2 form feed characters. 
>
>There's no way around using \\ to specify a backslash in a string
>literal.  For file paths, you can also use the forward slash instead of
>the backslash.
>
>> Regards Knut
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From careyshan at gmail.com  Tue May 20 15:39:17 2014
From: careyshan at gmail.com (Shane Carey)
Date: Tue, 20 May 2014 14:39:17 +0100
Subject: [R] cumulative frequency distribution combined with histogram in
 one plot at two different scales
Message-ID: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/959602ae/attachment.pl>

From chrissair at gmx.net  Tue May 20 15:39:41 2014
From: chrissair at gmx.net (ChrisR)
Date: Tue, 20 May 2014 06:39:41 -0700 (PDT)
Subject: [R] logLik in betareg()
Message-ID: <1400593181950-4690885.post@n4.nabble.com>

Hi everyone,

I have estimated different models with the betareg() command from the
package 'betareg' (3.0-4). When I started to compare them using likelihood
ratio tests, it occured to me that the logLik() of the models increased with
increasing number of parameters. I confirmed this observations by repeating
the MockJurors example from the betareg vignette. 

Now my question is, why does the loglikelihood becomes bigger with more
explanatory variables included? (Applying logLik() to the standard glm()
command yields a negative loglikelihood which moves toward zero with each
additional predictor included.) 

Thanks for hints,
Chris



--
View this message in context: http://r.789695.n4.nabble.com/logLik-in-betareg-tp4690885.html
Sent from the R help mailing list archive at Nabble.com.


From hill0093 at umn.edu  Tue May 20 16:34:35 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 20 May 2014 07:34:35 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400571936847-4690867.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
Message-ID: <1400596475482-4690888.post@n4.nabble.com>

I had asked How can I:
1) make ticks shorter or longer
2) make ticks cross the axis line
3) make ticks project toward the plot
4) make grid lines
5) make perpendicular labels be
   close to the axis near ticks
   projecting away from the plot 

I figured out that par(tck=..) solves three of the questions:
1) make ticks shorter or longer
3) make ticks project toward the plot
4) make grid lines
But my how do I?
5) set the small distance I want the perdendicular 
labels to be from the axis and from the ticks.

Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690888.html
Sent from the R help mailing list archive at Nabble.com.


From rh at knut-krueger.de  Tue May 20 16:54:06 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Tue, 20 May 2014 16:54:06 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
Message-ID: <537B6C8E.1090603@knut-krueger.de>

Am 20.05.2014 15:22, schrieb Jeff Newmiller:
> Most importantly, "\\" is a string literal containing ONE backslash character. Yes you can create strings in R source code that represent Windows-style paths, but they must APPEAR different in that context. You may find it helpful to know that the print function can output escaped strings suitable for inclusion in R code, while the cat function can output those same strings without the escaping.

Thanks for your answer,

I am familiar with the escape strings, but I was looking for a way to 
convert copied path from windows:

working:

y=readline()
# paste f.e c:\foo1\foo2
y
[1] "c:\\foo1\\foo2"


but I was looking for

y=foo("c:\foo1\foo2").
because it is annoying to change all \ to \\ or to /

Regards Knut


From dcarlson at tamu.edu  Tue May 20 17:04:45 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Tue, 20 May 2014 15:04:45 +0000
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B6C8E.1090603@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F6FFEB@mb02.ads.tamu.edu>

Annoying but easy. Would this work for you?

y <- gsub("\\\\", "/", readline())
C:\foo1\foo2\
> y
[1] "C:/foo1/foo2/"

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Knut Krueger
Sent: Tuesday, May 20, 2014 9:54 AM
To: 'R R-help'
Subject: Re: [R] \ escape sequence and windows path

Am 20.05.2014 15:22, schrieb Jeff Newmiller:
> Most importantly, "\\" is a string literal containing ONE backslash character. Yes you can create strings in R source code that represent Windows-style paths, but they must APPEAR different in that context. You may find it helpful to know that the print function can output escaped strings suitable for inclusion in R code, while the cat function can output those same strings without the escaping.

Thanks for your answer,

I am familiar with the escape strings, but I was looking for a way to 
convert copied path from windows:

working:

y=readline()
# paste f.e c:\foo1\foo2
y
[1] "c:\\foo1\\foo2"


but I was looking for

y=foo("c:\foo1\foo2").
because it is annoying to change all \ to \\ or to /

Regards Knut

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Tue May 20 17:32:35 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Tue, 20 May 2014 08:32:35 -0700
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B6C8E.1090603@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
Message-ID: <CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>

On Tue, May 20, 2014 at 7:54 AM, Knut Krueger <rh at knut-krueger.de> wrote:
> Am 20.05.2014 15:22, schrieb Jeff Newmiller:
>>
>> Most importantly, "\\" is a string literal containing ONE backslash
>> character. Yes you can create strings in R source code that represent
>> Windows-style paths, but they must APPEAR different in that context. You may
>> find it helpful to know that the print function can output escaped strings
>> suitable for inclusion in R code, while the cat function can output those
>> same strings without the escaping.
>
>
> Thanks for your answer,
>
> I am familiar with the escape strings, but I was looking for a way to
> convert copied path from windows:

Well, if I understand you correctly, your response appear to belie
that claim.  "\" ,the **single** backslash character, is **shown** as
2 backslash characters at the console,"\\" by print() (which is called
silently) , and is **shown** as a single backslash character by cat().
viz.

> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
[1] "a\\b"
> cat(paste("a","b",sep="\\"))
a\b

Does this help clarify? Or have i misunderstood you?

Cheers,
Bert

>
> working:
>
> y=readline()
> # paste f.e c:\foo1\foo2
> y
> [1] "c:\\foo1\\foo2"
>
>
> but I was looking for
>
> y=foo("c:\foo1\foo2").
> because it is annoying to change all \ to \\ or to /
>
> Regards Knut
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From mario_wiegand at gmx.de  Tue May 20 12:01:10 2014
From: mario_wiegand at gmx.de (marioger)
Date: Tue, 20 May 2014 03:01:10 -0700 (PDT)
Subject: [R] Using centers of hierarchical clustering for k-means
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F6EC05@mb02.ads.tamu.edu>
References: <1400243345905-4690704.post@n4.nabble.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F6EC05@mb02.ads.tamu.edu>
Message-ID: <1400580070268-4690870.post@n4.nabble.com>

Thank you very much for your help. everything works great



--
View this message in context: http://r.789695.n4.nabble.com/Using-centers-of-hierarchical-clustering-for-k-means-tp4690704p4690870.html
Sent from the R help mailing list archive at Nabble.com.


From jlaborde at huskers.unl.edu  Tue May 20 12:41:38 2014
From: jlaborde at huskers.unl.edu (jlaborde at huskers.unl.edu)
Date: Tue, 20 May 2014 10:41:38 +0000
Subject: [R] Fitting multiple nonlinear regression lines with nlrob()
Message-ID: <1400582489365.77416@huskers.unl.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/36b87ed0/attachment.pl>

From laura.riggi at slu.se  Tue May 20 15:26:58 2014
From: laura.riggi at slu.se (Laura Riggi)
Date: Tue, 20 May 2014 13:26:58 +0000
Subject: [R] Variation Inflation factor for GLS
Message-ID: <129789545FD9CA4C8A495D5B9A92F37F4C0EEBEC@exchange2-1>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/51e36dc5/attachment.pl>

From Martin.Loos at eawag.ch  Tue May 20 15:59:25 2014
From: Martin.Loos at eawag.ch (blosloos)
Date: Tue, 20 May 2014 06:59:25 -0700 (PDT)
Subject: [R] Rprintf not updating
In-Reply-To: <1270513607216-1752289.post@n4.nabble.com>
References: <E574CC38-9B14-4948-9B7F-6281716269E8@wisc.edu>
	<1270481360943-1751725.post@n4.nabble.com>
	<835DA262-5CD0-49A3-985D-B20FF88F6102@wisc.edu>
	<1270501224675-1752102.post@n4.nabble.com>
	<0C6C2745-327C-4B3F-B91D-7B4F0A0B73AE@wisc.edu>
	<1270513607216-1752289.post@n4.nabble.com>
Message-ID: <1400594365181-4690887.post@n4.nabble.com>

Hi

Could not make this example work, maybe because its missing
*rPercentComplete pointing at percentComplete. The above mentioned link has
been moved? to:
https://gist.github.com/KRD1/2503984

however, this worked for me:

*R side:*

/pBar <- txtProgressBar( min = 0, max = 100, style = 3)
blub<-.Call("FUBAR", 
		as.matrix(blab),
		as.matrix(blib),		
	        ...,
		pBar,
		PACKAGE="blob"
)	
close(pBar)/


*C side:*
/  
...
extern "C"{

SEXP FUBAR(
    SEXP blab,
    SEXP blib,
    ...,
   SEXP pBar
){

   ...

   SEXP utilsPackage; 
   PROTECT(utilsPackage = eval(lang2(install("getNamespace"),
ScalarString(mkChar("utils"))),R_GlobalEnv));
   SEXP percentComplete;
   PROTECT(percentComplete = NEW_NUMERIC(1));
   double *rPercentComplete;
   rPercentComplete = NUMERIC_POINTER(percentComplete);


   for(some loop on n){
       *rPercentComplete = n;
        eval(lang4(install("setTxtProgressBar"), pBar, percentComplete,
R_NilValue), utilsPackage);
   }


   UNPROTECT(...)
   return ...
}

}/



--
View this message in context: http://r.789695.n4.nabble.com/Rprintf-not-updating-tp1751703p4690887.html
Sent from the R help mailing list archive at Nabble.com.


From peter_mei at web.de  Tue May 20 16:08:36 2014
From: peter_mei at web.de (Peter Meissner)
Date: Tue, 20 May 2014 16:08:36 +0200
Subject: [R] NppToR / RMySQL / loadNamespace() Error
Message-ID: <537B61E4.6070201@web.de>

Dear Listeners,

I finally managed to install RMySQL on my Win7(64Bit) machine with R.3.1.0.

Now, as long as I start R manually and load the package everything is
working just fine: the package loads and I can connect to a database and
query it.

But, when NppToR does start the R session for me something is going
wrong and I have no clue where even to start.

The R-output reads like this:


 > require(RMySQL)
Loading required package: RMySQL
Loading required package: DBI
Error : .onLoad failed in loadNamespace() for 'RMySQL', details:
call: utils::readRegistry("SOFTWARE\\MySQL AB", hive = "HLM",
maxdepth = 2)
error: Registry key 'SOFTWARE\MySQL AB' not found


Does anybody have an idea how to fix or circumvent this?


Best, Peter


From trichter at uni-bremen.de  Tue May 20 16:25:57 2014
From: trichter at uni-bremen.de (Tim Richter-Heitmann)
Date: Tue, 20 May 2014 16:25:57 +0200
Subject: [R] Large matrices and pairs/ggpairs
Message-ID: <537B65F5.7020402@uni-bremen.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/663f73d0/attachment.pl>

From pdalgd at gmail.com  Tue May 20 17:45:48 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 20 May 2014 17:45:48 +0200
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400596475482-4690888.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
Message-ID: <1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>


On 20 May 2014, at 16:34 , Hurr <hill0093 at umn.edu> wrote:

> I had asked How can I:
> 1) make ticks shorter or longer
> 2) make ticks cross the axis line
> 3) make ticks project toward the plot
> 4) make grid lines
> 5) make perpendicular labels be
>   close to the axis near ticks
>   projecting away from the plot 
> 
> I figured out that par(tck=..) solves three of the questions:
> 1) make ticks shorter or longer
> 3) make ticks project toward the plot
> 4) make grid lines
> But my how do I?
> 5) set the small distance I want the perdendicular 
> labels to be from the axis and from the ticks.
> 

2nd element of par(mgp=...), I think.


> Hurr
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690888.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From wewolski at gmail.com  Tue May 20 17:48:38 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Tue, 20 May 2014 17:48:38 +0200
Subject: [R] Documenting docType data
In-Reply-To: <CABdHhvGk-B=MxLbyEFt+CdrjbZQE5HZyKzLWhQ+tcO2=tWQ7tg@mail.gmail.com>
References: <CAAjnpdgzgRCW3A6hsJe96XOFPRb-AkKy+jTVgQyAW7vmuc6AwA@mail.gmail.com>
	<CABdHhvGk-B=MxLbyEFt+CdrjbZQE5HZyKzLWhQ+tcO2=tWQ7tg@mail.gmail.com>
Message-ID: <CAAjnpdjAub5NuMuY5iCj9jxT6GQ49q3WzXhe1pyJ+bABaGbaBw@mail.gmail.com>

Thanks a lot. I still had an @export.

On 20 May 2014 14:34, Hadley Wickham <h.wickham at gmail.com> wrote:
> Don't export the dataset? (as mentioned in the answer to that
> question). If that doesn't help, please supply a minimal reproducible
> example.
>
> Hadley
>
> On Tue, May 20, 2014 at 3:35 AM, Witold E Wolski <wewolski at gmail.com> wrote:
>> Hi,
>>
>> I am Trying to document data using roxygen2 by following the
>> stackoverflow question:
>> http://stackoverflow.com/questions/9561684/documenting-dataset-with-roxygen2
>>
>>
>> And although my data resigin in mypackage/data
>> has extension .rda and .csv
>>
>> I am getting the same error as in the stackoverlfow issue:
>>
>> ** testing if installed package can be loaded
>> Error in namespaceExport(ns, exports) :
>>   undefined exports: feature_alignment_requant
>> Error: loading failed
>> Execution halted
>> ERROR: loading failed
>>
>> best regards
>> Witold
>>
>>
>> --
>> Witold Eryk Wolski
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
>
> --
> http://had.co.nz/



-- 
Witold Eryk Wolski


From rh at knut-krueger.de  Tue May 20 18:04:31 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Tue, 20 May 2014 18:04:31 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
Message-ID: <537B7D0F.2050607@knut-krueger.de>

Am 20.05.2014 17:32, schrieb Bert Gunter:

>> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
> [1] "a\\b"
>> cat(paste("a","b",sep="\\"))
> a\b
>
> Does this help clarify? Or have i misunderstood you?

@David and @Bert

unfortunately yes. My question is more a system level question as about 
any converting functions.

The question is how to paste a windows path directly into an R script 
(without readline() or readClipboard() and how could I convert this 
string that it is usable in R. Means any function which is not using 
escape characters

it seems to be possible for readline() an  readClipboard().

I do not want to use y=readline() I do want to use 
y=foo("c:\foo1\foo2\") but this seems to be impossible because R is 
interpreting one backslash as escape sequence. So how does readline() 
and readClipboard() are working? Is there any other callback from utils 
which is able to deal with this?

I am afraid there is no way.

The reason is to prevent errors for beginning windows R user. If the 
path is long they either forget to convert one backslash or all and then 
they are frustrated that it is not working. And telling them to use 
search and replace ... Whatever they would replace it might be worse 
than before ;-)

regards Knut


From jfox at mcmaster.ca  Tue May 20 18:09:52 2014
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 20 May 2014 12:09:52 -0400
Subject: [R] Variation Inflation factor for GLS
In-Reply-To: <129789545FD9CA4C8A495D5B9A92F37F4C0EEBEC@exchange2-1>
References: <129789545FD9CA4C8A495D5B9A92F37F4C0EEBEC@exchange2-1>
Message-ID: <web-510903556@cgpsrv2.cis.mcmaster.ca>

Dear Laura,

There is no car::vif() method for gls objects, but the approach that car:::vif.lm() uses -- to compute VIFs (and generalized VIFs) from the correlation matrix of the coefficients -- should be applicable to models fit by gls().

I'll take a look a providing a vif.gls() method when I have some time, but, especially if you want VIFs, as opposed to GVIFs, you should be able to do the computations yourself.

I hope this helps,
 John

------------------------------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox/
	

On Tue, 20 May 2014 13:26:58 +0000
 Laura Riggi <laura.riggi at slu.se> wrote:
> Dear all,
> I am running a gls and I would like to check the vif of my model. It seems that the vif function in the car package and the vif.mer function available online do not work for gls. Would you know of a method to measure variance inflation factors for GLS?
> Thank you
> Laura
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From christoph.schlaechter at gmail.com  Tue May 20 18:16:25 2014
From: christoph.schlaechter at gmail.com (=?UTF-8?Q?Christoph_Schl=C3=A4chter?=)
Date: Tue, 20 May 2014 18:16:25 +0200
Subject: [R] Subset, period of days like one after another in a group
Message-ID: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/2637621e/attachment.pl>

From smartpink111 at yahoo.com  Tue May 20 18:42:47 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 20 May 2014 09:42:47 -0700 (PDT)
Subject: [R] Subset, period of days like one after another in a group
In-Reply-To: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>
References: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>
Message-ID: <1400604167.14953.YahooMailNeo@web142606.mail.bf1.yahoo.com>



Hi,
#if 'dat` is the dataset
May be this helps.
lst1 <- setNames(split(dat, cumsum(c(TRUE,diff(dat$date)!=1))),LETTERS[1:4])
A.K.



On Tuesday, May 20, 2014 12:17 PM, Christoph Schl?chter <christoph.schlaechter at gmail.com> wrote:
Dear all,

I have a subset of a data frame with 3 columns and a few rows. The columns
are ?date? [%Y %m %d], ?mon? [%b]? and ?wea? for type of weather with ?dw?
dry weather ?rw? rainy weather.

Here it is as a list:

structure(list(date = structure(c(15765, 15766, 15767, 15768,
15769, 15770, 15771, 15772, 15773, 15780, 15781, 15782, 15788,
15789, 15790, 15791, 15792, 15795), class = "Date"), mon = c("Mrz",
"Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz",
"Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz"), wea =
structure(c(1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L), .Label = c("dw", "rw"), class = "factor")), .Names = c("date",
"mon", "wea"), row.names = c(1156L, 1157L, 1158L, 1159L, 1160L,
1161L, 1162L, 1163L, 1164L, 1171L, 1172L, 1173L, 1179L, 1180L,
1181L, 1182L, 1183L, 1186L), class = "data.frame")

I want to get a period of days when it is dry weather and the difference
between days should be not more than one day.

For this example I need something to get:

Maybe as Group:

A:

2013-03-01 Mrz? dw
2013-03-02 Mrz? dw
2013-03-03 Mrz? dw
2013-03-04 Mrz? dw
2013-03-05 Mrz? dw
2013-03-06 Mrz? dw
2013-03-07 Mrz? dw
2013-03-08 Mrz? dw
2013-03-09 Mrz? dw

B

2013-03-16 Mrz? dw
2013-03-17 Mrz? dw
2013-03-18 Mrz? dw

C

2013-03-24 Mrz? dw
2013-03-25 Mrz? dw
2013-03-26 Mrz? dw
2013-03-27 Mrz? dw
2013-03-28 Mrz? dw

D

2013-03-31 Mrz? dw

How can I achive this. I really have only very few ideas like cast() or
melt() or both but i have trouble with the date format.

Thanks in advance. <r-help at r-project.org> <r-help at r-project.org>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ripley at stats.ox.ac.uk  Tue May 20 18:46:19 2014
From: ripley at stats.ox.ac.uk (Brian Ripley)
Date: Tue, 20 May 2014 17:46:19 +0100
Subject: [R] NppToR / RMySQL / loadNamespace() Error
In-Reply-To: <537B61E4.6070201@web.de>
References: <537B61E4.6070201@web.de>
Message-ID: <456B241F-D13F-433E-A21F-EED658914E94@stats.ox.ac.uk>

We have no idea what NppToR Is.  But as a guess you ran 64-bit R and it ran 32-bit or v.v.
Why don't you ask NppToR's help service?

The architecture of MySQL must match that of the R under which you installed RMySQL.


> On 20 May 2014, at 15:08, Peter Meissner <peter_mei at web.de> wrote:
> 
> Dear Listeners,
> 
> I finally managed to install RMySQL on my Win7(64Bit) machine with R.3.1.0.
> 
> Now, as long as I start R manually and load the package everything is
> working just fine: the package loads and I can connect to a database and
> query it.
> 
> But, when NppToR does start the R session for me something is going
> wrong and I have no clue where even to start.
> 
> The R-output reads like this:
> 
> 
> > require(RMySQL)
> Loading required package: RMySQL
> Loading required package: DBI
> Error : .onLoad failed in loadNamespace() for 'RMySQL', details:
> call: utils::readRegistry("SOFTWARE\\MySQL AB", hive = "HLM",
> maxdepth = 2)
> error: Registry key 'SOFTWARE\MySQL AB' not found
> 
> 
> Does anybody have an idea how to fix or circumvent this?
> 
> 
> Best, Peter
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dcarlson at tamu.edu  Tue May 20 19:00:41 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Tue, 20 May 2014 17:00:41 +0000
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B7D0F.2050607@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F70143@mb02.ads.tamu.edu>

Now I understand. Not really a solution, but you can instruct students to use only forward slashes in their paths since R will convert to backslash on Windows systems automatically. After a couple of broken commands, they should get the hang of it.

David C

-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Knut Krueger
Sent: Tuesday, May 20, 2014 11:05 AM
To: r-help at r-project.org
Subject: Re: [R] \ escape sequence and windows path

Am 20.05.2014 17:32, schrieb Bert Gunter:

>> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
> [1] "a\\b"
>> cat(paste("a","b",sep="\\"))
> a\b
>
> Does this help clarify? Or have i misunderstood you?

@David and @Bert

unfortunately yes. My question is more a system level question as about 
any converting functions.

The question is how to paste a windows path directly into an R script 
(without readline() or readClipboard() and how could I convert this 
string that it is usable in R. Means any function which is not using 
escape characters

it seems to be possible for readline() an  readClipboard().

I do not want to use y=readline() I do want to use 
y=foo("c:\foo1\foo2\") but this seems to be impossible because R is 
interpreting one backslash as escape sequence. So how does readline() 
and readClipboard() are working? Is there any other callback from utils 
which is able to deal with this?


I am afraid there is no way.

The reason is to prevent errors for beginning windows R user. If the 
path is long they either forget to convert one backslash or all and then 
they are frustrated that it is not working. And telling them to use 
search and replace ... Whatever they would replace it might be worse 
than before ;-)

regards Knut

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From murdoch.duncan at gmail.com  Tue May 20 19:03:09 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 20 May 2014 13:03:09 -0400
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B7D0F.2050607@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de>
Message-ID: <537B8ACD.3080204@gmail.com>

On 20/05/2014 12:04 PM, Knut Krueger wrote:
> Am 20.05.2014 17:32, schrieb Bert Gunter:
>
> >> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
> > [1] "a\\b"
> >> cat(paste("a","b",sep="\\"))
> > a\b
> >
> > Does this help clarify? Or have i misunderstood you?
>
> @David and @Bert
>
> unfortunately yes. My question is more a system level question as about
> any converting functions.
>
> The question is how to paste a windows path directly into an R script
> (without readline() or readClipboard() and how could I convert this
> string that it is usable in R. Means any function which is not using
> escape characters
>
> it seems to be possible for readline() an  readClipboard().
>
> I do not want to use y=readline() I do want to use
> y=foo("c:\foo1\foo2\") but this seems to be impossible because R is
> interpreting one backslash as escape sequence. So how does readline()
> and readClipboard() are working? Is there any other callback from utils
> which is able to deal with this?

The difference between the two cases is that you are trying to write 
something in the R language when you write

y=foo("c:\foo1\foo2\")

but that is not a legal R statement, since you never close the opening 
quote.  When using readLines() etc., you're just reading data, you're 
not trying to parse it as R code.

I have no idea what you mean by a "callback from utils".

If you want to solve the problem "I have a pathname in the clipboard, 
and want to put it in a string", it's not hard to write
a function that essentially does readLines("clipboard").  It's a little 
harder to make that platform-neutral, but it sounds as if you're only 
working on Windows.

If you want to solve the problem, "I want to write some R source code 
that contains a pathname, but I don't want to escape the backslashes", 
then I think you're out of luck.  There are ways to read data inline in 
your source, e.g. you can paste

f <- scan(what="character")
c:\foo1\foo2\


into your console to read x, but that doesn't work with source(), so I'd 
avoid it.

Duncan Murdoch

>
> I am afraid there is no way.
>
> The reason is to prevent errors for beginning windows R user. If the
> path is long they either forget to convert one backslash or all and then
> they are frustrated that it is not working. And telling them to use
> search and replace ... Whatever they would replace it might be worse
> than before ;-)
>
> regards Knut
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Tue May 20 19:02:32 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 20 May 2014 10:02:32 -0700 (PDT)
Subject: [R] Subset, period of days like one after another in a group
In-Reply-To: <1400604167.14953.YahooMailNeo@web142606.mail.bf1.yahoo.com>
References: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>
	<1400604167.14953.YahooMailNeo@web142606.mail.bf1.yahoo.com>
Message-ID: <1400605352.4054.YahooMailNeo@web142603.mail.bf1.yahoo.com>



Hi,

In your example the "wea", only showed "dw".? Suppose the data is like this:

dat1 <- structure(list(date = structure(c(15765, 15766, 15767, 15768, 
15769, 15770, 15771, 15772, 15773, 15780, 15781, 15782, 15788, 
15789, 15790, 15791, 15792, 15795, 15796, 15797, 15798, 15799, 
15800, 15801, 15803, 15804, 15805, 15806), class = "Date"), mon = structure(c(1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L), .Label = "Mrz", class = "factor"), 
??? wea = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
??? 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
??? 2L, 2L, 2L), .Label = c("dw", "rw"), class = "factor")), .Names = c("date", 
"mon", "wea"), row.names = c("1156", "1157", "1158", "1159", 
"1160", "1161", "1162", "1163", "1164", "1171", "1172", "1173", 
"1179", "1180", "1181", "1182", "1183", "1186", "1187", "1188", 
"1189", "1190", "1191", "1192", "1193", "1194", "1195", "1196"
), class = "data.frame")


split(dat1,list(dat1$wea,cumsum(c(TRUE,diff(dat1$date)!=1))),drop=TRUE)
#or
?lapply(split(dat1,dat1$wea),function(x) split(x,cumsum(c(TRUE,diff(x$date)!=1))))
##if you want only "dw"
datdw <- droplevels(subset(dat1,wea=="dw"))? ##assuming that you wanted "wea" column to #be factor 
?split(datdw,cumsum(c(TRUE,diff(datdw$date)!=1)))
A.K.




On Tuesday, May 20, 2014 12:42 PM, arun <smartpink111 at yahoo.com> wrote:


Hi,
#if 'dat` is the dataset
May be this helps.
lst1 <- setNames(split(dat, cumsum(c(TRUE,diff(dat$date)!=1))),LETTERS[1:4])
A.K.




On Tuesday, May 20, 2014 12:17 PM, Christoph Schl?chter <christoph.schlaechter at gmail.com> wrote:
Dear all,

I have a subset of a data frame with 3 columns and a few rows. The columns
are ?date? [%Y %m %d], ?mon? [%b]? and ?wea? for type of weather with ?dw?
dry weather ?rw? rainy weather.

Here it is as a list:

structure(list(date = structure(c(15765, 15766, 15767, 15768,
15769, 15770, 15771, 15772, 15773, 15780, 15781, 15782, 15788,
15789, 15790, 15791, 15792, 15795), class = "Date"), mon = c("Mrz",
"Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz",
"Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz", "Mrz"), wea =
structure(c(1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L), .Label = c("dw", "rw"), class = "factor")), .Names = c("date",
"mon", "wea"), row.names = c(1156L, 1157L, 1158L, 1159L, 1160L,
1161L, 1162L, 1163L, 1164L, 1171L, 1172L, 1173L, 1179L, 1180L,
1181L, 1182L, 1183L, 1186L), class = "data.frame")

I want to get a period of days when it is dry weather and the difference
between days should be not more than one day.

For this example I need something to get:

Maybe as Group:

A:

2013-03-01 Mrz? dw
2013-03-02 Mrz? dw
2013-03-03 Mrz? dw
2013-03-04 Mrz? dw
2013-03-05 Mrz? dw
2013-03-06 Mrz? dw
2013-03-07 Mrz? dw
2013-03-08 Mrz? dw
2013-03-09 Mrz? dw

B

2013-03-16 Mrz? dw
2013-03-17 Mrz? dw
2013-03-18 Mrz? dw

C

2013-03-24 Mrz? dw
2013-03-25 Mrz? dw
2013-03-26 Mrz? dw
2013-03-27 Mrz? dw
2013-03-28 Mrz? dw

D

2013-03-31 Mrz? dw

How can I achive this. I really have only very few ideas like cast() or
melt() or both but i have trouble with the date format.

Thanks in advance. <r-help at r-project.org> <r-help at r-project.org>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From gunter.berton at gene.com  Tue May 20 19:15:18 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Tue, 20 May 2014 10:15:18 -0700
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B8ACD.3080204@gmail.com>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de> <537B8ACD.3080204@gmail.com>
Message-ID: <CACk-te2ov-gtSwZedu30Tooq1v3fMPr8g1+w40EYOyRq2MbNQw@mail.gmail.com>

Duncan:

"...
If you want to solve the problem "I have a pathname in the clipboard,
and want to put it in a string", it's not hard to write
a function that essentially does readLines("clipboard")...."

Does not the Windows version R function readClipboard() do this already?

-- Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Tue, May 20, 2014 at 10:03 AM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> On 20/05/2014 12:04 PM, Knut Krueger wrote:
>>
>> Am 20.05.2014 17:32, schrieb Bert Gunter:
>>
>> >> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
>> > [1] "a\\b"
>> >> cat(paste("a","b",sep="\\"))
>> > a\b
>> >
>> > Does this help clarify? Or have i misunderstood you?
>>
>> @David and @Bert
>>
>> unfortunately yes. My question is more a system level question as about
>> any converting functions.
>>
>> The question is how to paste a windows path directly into an R script
>> (without readline() or readClipboard() and how could I convert this
>> string that it is usable in R. Means any function which is not using
>> escape characters
>>
>> it seems to be possible for readline() an  readClipboard().
>>
>> I do not want to use y=readline() I do want to use
>> y=foo("c:\foo1\foo2\") but this seems to be impossible because R is
>> interpreting one backslash as escape sequence. So how does readline()
>> and readClipboard() are working? Is there any other callback from utils
>> which is able to deal with this?
>
>
> The difference between the two cases is that you are trying to write
> something in the R language when you write
>
> y=foo("c:\foo1\foo2\")
>
> but that is not a legal R statement, since you never close the opening
> quote.  When using readLines() etc., you're just reading data, you're not
> trying to parse it as R code.
>
> I have no idea what you mean by a "callback from utils".
>
> If you want to solve the problem "I have a pathname in the clipboard, and
> want to put it in a string", it's not hard to write
> a function that essentially does readLines("clipboard").  It's a little
> harder to make that platform-neutral, but it sounds as if you're only
> working on Windows.
>
> If you want to solve the problem, "I want to write some R source code that
> contains a pathname, but I don't want to escape the backslashes", then I
> think you're out of luck.  There are ways to read data inline in your
> source, e.g. you can paste
>
> f <- scan(what="character")
> c:\foo1\foo2\
>
>
> into your console to read x, but that doesn't work with source(), so I'd
> avoid it.
>
> Duncan Murdoch
>
>>
>> I am afraid there is no way.
>>
>> The reason is to prevent errors for beginning windows R user. If the
>> path is long they either forget to convert one backslash or all and then
>> they are frustrated that it is not working. And telling them to use
>> search and replace ... Whatever they would replace it might be worse
>> than before ;-)
>>
>> regards Knut
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Tue May 20 19:32:29 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 20 May 2014 10:32:29 -0700 (PDT)
Subject: [R] dealing with missing values
Message-ID: <1400607149.22069.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,
It is better to show the data using ?dput().? It is not clear whether your missing values are read as "" or NA in the dataset.
Also, assuming that the function is from library(ade4)

#1st case. NAs

dat <-? structure(list(X = structure(c(1L, 1L, NA, NA, 2L, 2L), .Label = c("df", 
"rd"), class = "factor"), Y = structure(c(1L, NA, 1L, 2L, NA, 
2L), .Label = c("as", "eq"), class = "factor")), .Names = c("X", 
"Y"), class = "data.frame", row.names = c(NA, -6L))??

#2nd case ""

dat1 <- structure(list(X = structure(c(2L, 2L, 1L, 1L, 3L, 3L), .Label = c("", 
"df", "rd"), class = "factor"), Y = structure(c(2L, 1L, 2L, 3L, 
1L, 3L), .Label = c("", "as", "eq"), class = "factor")), .Names = c("X", 
"Y"), class = "data.frame", row.names = c(NA, -6L))



library(ade4)


?acm.disjonctif(dat)
#? X.df X.rd Y.as Y.eq
#1??? 1??? 0??? 1??? 0
#2??? 1??? 0??? 0??? 0
#3??? 0??? 0??? 1??? 0
#4??? 0??? 0??? 0??? 1
#5??? 0??? 1??? 0??? 0
#6??? 0??? 1??? 0??? 1
?acm.disjonctif(dat1)
#? X. X.df X.rd Y. Y.as Y.eq
#1? 0??? 1??? 0? 0??? 1??? 0
#2? 0??? 1??? 0? 1??? 0??? 0
#3? 1??? 0??? 0? 0??? 1??? 0
#4? 1??? 0??? 0? 0??? 0??? 1
#5? 0??? 0??? 1? 1??? 0??? 0
#6? 0??? 0??? 1? 0??? 0??? 1

#It seems that your data is similar to dat1
dat1[dat1==''] <- NA
?dat1 <- droplevels(dat1)
?acm.disjonctif(dat1)
#? X.df X.rd Y.as Y.eq
#1??? 1??? 0??? 1??? 0
#2??? 1??? 0??? 0??? 0
#3??? 0??? 0??? 1??? 0
#4??? 0??? 0??? 0??? 1
#5??? 0??? 1??? 0??? 0
#6??? 0??? 1??? 0??? 1

A.K.



I have missing values in my data:

??????????? X?????????????? Y
?????????? df??????????? as
?????????? df????????????? 
??????????????????????????? as
??????????????????????????? eq
?????????? rd
?????????? rd??????????? eq


I am using the function ' acm.disjonctif' in R. But this function considers the missing values as factor (it assigned 1's):

? X. X.df X.rd Y. Y.as Y.eq
1? 0??? 1??? 0? 0??? 1??? 0
2? 0??? 1??? 0? 1??? 0??? 0
3? 1??? 0??? 0? 0??? 1??? 0
4? 1??? 0??? 0? 0??? 0??? 1
5? 0??? 0??? 1? 1??? 0??? 0
6? 0??? 0??? 1? 0??? 0??? 1


I want to use acm.disjonctif but I do not want to use the missing values (so columns X. and Y.) in this table. How can I solve this problem? 



From murdoch.duncan at gmail.com  Tue May 20 19:39:39 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 20 May 2014 13:39:39 -0400
Subject: [R] \ escape sequence and windows path
In-Reply-To: <CACk-te2ov-gtSwZedu30Tooq1v3fMPr8g1+w40EYOyRq2MbNQw@mail.gmail.com>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>	<537B7D0F.2050607@knut-krueger.de>	<537B8ACD.3080204@gmail.com>
	<CACk-te2ov-gtSwZedu30Tooq1v3fMPr8g1+w40EYOyRq2MbNQw@mail.gmail.com>
Message-ID: <537B935B.8000004@gmail.com>

On 20/05/2014 1:15 PM, Bert Gunter wrote:
> Duncan:
>
> "...
> If you want to solve the problem "I have a pathname in the clipboard,
> and want to put it in a string", it's not hard to write
> a function that essentially does readLines("clipboard")...."
>
> Does not the Windows version R function readClipboard() do this already?

Yes, it does.  I generally use the form I gave because it generalizes 
better:  read.csv("clipboard") is easier for me to type than 
read.csv(text = readClipboard()).

Duncan Murdoch
>
> -- Bert
>
>
> Bert Gunter
> Genentech Nonclinical Biostatistics
> (650) 467-7374
>
> "Data is not information. Information is not knowledge. And knowledge
> is certainly not wisdom."
> H. Gilbert Welch
>
>
>
>
> On Tue, May 20, 2014 at 10:03 AM, Duncan Murdoch
> <murdoch.duncan at gmail.com> wrote:
> > On 20/05/2014 12:04 PM, Knut Krueger wrote:
> >>
> >> Am 20.05.2014 17:32, schrieb Bert Gunter:
> >>
> >> >> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
> >> > [1] "a\\b"
> >> >> cat(paste("a","b",sep="\\"))
> >> > a\b
> >> >
> >> > Does this help clarify? Or have i misunderstood you?
> >>
> >> @David and @Bert
> >>
> >> unfortunately yes. My question is more a system level question as about
> >> any converting functions.
> >>
> >> The question is how to paste a windows path directly into an R script
> >> (without readline() or readClipboard() and how could I convert this
> >> string that it is usable in R. Means any function which is not using
> >> escape characters
> >>
> >> it seems to be possible for readline() an  readClipboard().
> >>
> >> I do not want to use y=readline() I do want to use
> >> y=foo("c:\foo1\foo2\") but this seems to be impossible because R is
> >> interpreting one backslash as escape sequence. So how does readline()
> >> and readClipboard() are working? Is there any other callback from utils
> >> which is able to deal with this?
> >
> >
> > The difference between the two cases is that you are trying to write
> > something in the R language when you write
> >
> > y=foo("c:\foo1\foo2\")
> >
> > but that is not a legal R statement, since you never close the opening
> > quote.  When using readLines() etc., you're just reading data, you're not
> > trying to parse it as R code.
> >
> > I have no idea what you mean by a "callback from utils".
> >
> > If you want to solve the problem "I have a pathname in the clipboard, and
> > want to put it in a string", it's not hard to write
> > a function that essentially does readLines("clipboard").  It's a little
> > harder to make that platform-neutral, but it sounds as if you're only
> > working on Windows.
> >
> > If you want to solve the problem, "I want to write some R source code that
> > contains a pathname, but I don't want to escape the backslashes", then I
> > think you're out of luck.  There are ways to read data inline in your
> > source, e.g. you can paste
> >
> > f <- scan(what="character")
> > c:\foo1\foo2\
> >
> >
> > into your console to read x, but that doesn't work with source(), so I'd
> > avoid it.
> >
> > Duncan Murdoch
> >
> >>
> >> I am afraid there is no way.
> >>
> >> The reason is to prevent errors for beginning windows R user. If the
> >> path is long they either forget to convert one backslash or all and then
> >> they are frustrated that it is not working. And telling them to use
> >> search and replace ... Whatever they would replace it might be worse
> >> than before ;-)
> >>
> >> regards Knut
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From hill0093 at umn.edu  Tue May 20 19:41:18 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 20 May 2014 10:41:18 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
Message-ID: <1400607678558-4690912.post@n4.nabble.com>

I was able to put tck=-0.1 into either par() or 
axis() and it made a tick difference I understood.
As I understand it, default for mgp is c(3,1,0).
When I put mgp=c(3,4,0) or mgp=c(3,7,0) into 
either par() or axis() I see no difference.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690912.html
Sent from the R help mailing list archive at Nabble.com.


From smartpink111 at yahoo.com  Tue May 20 19:40:31 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 20 May 2014 10:40:31 -0700 (PDT)
Subject: [R] dealing with missing values
In-Reply-To: <1400607149.22069.YahooMailNeo@web142603.mail.bf1.yahoo.com>
References: <1400607149.22069.YahooMailNeo@web142603.mail.bf1.yahoo.com>
Message-ID: <1400607631.18090.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Also, if the dataset is `dat1`

?model.matrix(~X+Y,data=dat1)[,-1]
? Xdf Xrd Yas Yeq
1?? 1?? 0?? 1?? 0
2?? 1?? 0?? 0?? 0
3?? 0?? 0?? 1?? 0
4?? 0?? 0?? 0?? 1
5?? 0?? 1?? 0?? 0
6?? 0?? 1?? 0?? 1
A.K.





On Tuesday, May 20, 2014 1:32 PM, arun <smartpink111 at yahoo.com> wrote:
Hi,
It is better to show the data using ?dput().? It is not clear whether your missing values are read as "" or NA in the dataset.
Also, assuming that the function is from library(ade4)

#1st case. NAs

dat <-? structure(list(X = structure(c(1L, 1L, NA, NA, 2L, 2L), .Label = c("df", 
"rd"), class = "factor"), Y = structure(c(1L, NA, 1L, 2L, NA, 
2L), .Label = c("as", "eq"), class = "factor")), .Names = c("X", 
"Y"), class = "data.frame", row.names = c(NA, -6L))??

#2nd case ""

dat1 <- structure(list(X = structure(c(2L, 2L, 1L, 1L, 3L, 3L), .Label = c("", 
"df", "rd"), class = "factor"), Y = structure(c(2L, 1L, 2L, 3L, 
1L, 3L), .Label = c("", "as", "eq"), class = "factor")), .Names = c("X", 
"Y"), class = "data.frame", row.names = c(NA, -6L))



library(ade4)


?acm.disjonctif(dat)
#? X.df X.rd Y.as Y.eq
#1??? 1??? 0??? 1??? 0
#2??? 1??? 0??? 0??? 0
#3??? 0??? 0??? 1??? 0
#4??? 0??? 0??? 0??? 1
#5??? 0??? 1??? 0??? 0
#6??? 0??? 1??? 0??? 1
?acm.disjonctif(dat1)
#? X. X.df X.rd Y. Y.as Y.eq
#1? 0??? 1??? 0? 0??? 1??? 0
#2? 0??? 1??? 0? 1??? 0??? 0
#3? 1??? 0??? 0? 0??? 1??? 0
#4? 1??? 0??? 0? 0??? 0??? 1
#5? 0??? 0??? 1? 1??? 0??? 0
#6? 0??? 0??? 1? 0??? 0??? 1

#It seems that your data is similar to dat1
dat1[dat1==''] <- NA
?dat1 <- droplevels(dat1)
?acm.disjonctif(dat1)
#? X.df X.rd Y.as Y.eq
#1??? 1??? 0??? 1??? 0
#2??? 1??? 0??? 0??? 0
#3??? 0??? 0??? 1??? 0
#4??? 0??? 0??? 0??? 1
#5??? 0??? 1??? 0??? 0
#6??? 0??? 1??? 0??? 1

A.K.



I have missing values in my data:

??????????? X?????????????? Y
?????????? df??????????? as
?????????? df????????????? 
??????????????????????????? as
??????????????????????????? eq
?????????? rd
?????????? rd??????????? eq


I am using the function ' acm.disjonctif' in R. But this function considers the missing values as factor (it assigned 1's):

? X. X.df X.rd Y. Y.as Y.eq
1? 0??? 1??? 0? 0??? 1??? 0
2? 0??? 1??? 0? 1??? 0??? 0
3? 1??? 0??? 0? 0??? 1??? 0
4? 1??? 0??? 0? 0??? 0??? 1
5? 0??? 0??? 1? 1??? 0??? 0
6? 0??? 0??? 1? 0??? 0??? 1


I want to use acm.disjonctif but I do not want to use the missing values (so columns X. and Y.) in this table. How can I solve this problem? 



From dcarlson at tamu.edu  Tue May 20 19:52:01 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Tue, 20 May 2014 17:52:01 +0000
Subject: [R] \ escape sequence and windows path
In-Reply-To: <CACk-te2ov-gtSwZedu30Tooq1v3fMPr8g1+w40EYOyRq2MbNQw@mail.gmail.com>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de> <537B8ACD.3080204@gmail.com>
	<CACk-te2ov-gtSwZedu30Tooq1v3fMPr8g1+w40EYOyRq2MbNQw@mail.gmail.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F70210@mb02.ads.tamu.edu>

That's the solution I was working on. Design the function (the foo() in your example) to read the clipboard so you do not need to paste anything. That greatly reduces how generally the function can be used since it will fail if there is not a path in the clipboard, but it solves (ameliorates?) the immediate problem:

path.files <- function(...) { list.files(readClipboard(), ...) }

If I copy "C:\Rtools" to the clipboard:

> path.files()
[1] "bin"          "COPYING"      "gcc-4.6.3"    "README.txt"   "Rtools.txt"  
[6] "unins000.dat" "unins000.exe" "VERSION.txt"
> path.files(full.names=TRUE)
[1] "C:\\Rtools/bin"          "C:\\Rtools/COPYING"     
[3] "C:\\Rtools/gcc-4.6.3"    "C:\\Rtools/README.txt"  
[5] "C:\\Rtools/Rtools.txt"   "C:\\Rtools/unins000.dat"
[7] "C:\\Rtools/unins000.exe" "C:\\Rtools/VERSION.txt" 

David C


-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Bert Gunter
Sent: Tuesday, May 20, 2014 12:15 PM
To: Duncan Murdoch
Cc: r-help at r-project.org
Subject: Re: [R] \ escape sequence and windows path

Duncan:

"...
If you want to solve the problem "I have a pathname in the clipboard,
and want to put it in a string", it's not hard to write
a function that essentially does readLines("clipboard")...."

Does not the Windows version R function readClipboard() do this already?

-- Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Tue, May 20, 2014 at 10:03 AM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> On 20/05/2014 12:04 PM, Knut Krueger wrote:
>>
>> Am 20.05.2014 17:32, schrieb Bert Gunter:
>>
>> >> paste("a","b",sep="\\") ## "\\" is the escaped single backslash
>> > [1] "a\\b"
>> >> cat(paste("a","b",sep="\\"))
>> > a\b
>> >
>> > Does this help clarify? Or have i misunderstood you?
>>
>> @David and @Bert
>>
>> unfortunately yes. My question is more a system level question as about
>> any converting functions.
>>
>> The question is how to paste a windows path directly into an R script
>> (without readline() or readClipboard() and how could I convert this
>> string that it is usable in R. Means any function which is not using
>> escape characters
>>
>> it seems to be possible for readline() an  readClipboard().
>>
>> I do not want to use y=readline() I do want to use
>> y=foo("c:\foo1\foo2\") but this seems to be impossible because R is
>> interpreting one backslash as escape sequence. So how does readline()
>> and readClipboard() are working? Is there any other callback from utils
>> which is able to deal with this?
>
>
> The difference between the two cases is that you are trying to write
> something in the R language when you write
>
> y=foo("c:\foo1\foo2\")
>
> but that is not a legal R statement, since you never close the opening
> quote.  When using readLines() etc., you're just reading data, you're not
> trying to parse it as R code.
>
> I have no idea what you mean by a "callback from utils".
>
> If you want to solve the problem "I have a pathname in the clipboard, and
> want to put it in a string", it's not hard to write
> a function that essentially does readLines("clipboard").  It's a little
> harder to make that platform-neutral, but it sounds as if you're only
> working on Windows.
>
> If you want to solve the problem, "I want to write some R source code that
> contains a pathname, but I don't want to escape the backslashes", then I
> think you're out of luck.  There are ways to read data inline in your
> source, e.g. you can paste
>
> f <- scan(what="character")
> c:\foo1\foo2\
>
>
> into your console to read x, but that doesn't work with source(), so I'd
> avoid it.
>
> Duncan Murdoch
>
>>
>> I am afraid there is no way.
>>
>> The reason is to prevent errors for beginning windows R user. If the
>> path is long they either forget to convert one backslash or all and then
>> they are frustrated that it is not working. And telling them to use
>> search and replace ... Whatever they would replace it might be worse
>> than before ;-)
>>
>> regards Knut
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From raphael.paebst at gmail.com  Tue May 20 20:04:43 2014
From: raphael.paebst at gmail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Tue, 20 May 2014 20:04:43 +0200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
Message-ID: <CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>

Thank you very much, this looks promising.

I have a follow-up question however, probably due to my thickness when
it comes to the underlying math.

I am translating (as closely as possible) some code that has
originally been written for Mathlab and uses the delaunay() function
there. Now, if I understand it correctly, Mathlab uses the same
Qhull-Library as a basis, as does the Geometry-Package. So in theory
delaunay(x) in Mathlab and delaunay(x) in R should give me the same
results for the same x, where x is a matrix of coordinates.

If I use deldir(x1, x2) where x1 and x2 are the first and second
column of that same matrix above, is there any chance to get the same
result as with delaunayn() or at least something similar in format to
the result of delaunayn()?

Many thanks again and please excuse my crude english.

Raphael
On 5/14/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
> Try:
>
> install.packages("deldir")
> library(deldir)
> ?deldir
> set.seed(16180)
> x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
> tess <- deldir(x, y, rw = window)
> plot.deldir(tess, wpoints="real", wlines="tess")
>
> Cheers,
> Boris
>
>
> On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:
>
>> Hello everyone!
>> I have returned to R after a longish break and am currently working on
>> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
>> If I understood it correctly, the Geometry-Package only offers
>> functions for the Delaunay-Triangulation at the moment. Is this
>> correct and if so, what would be the best way to get Voronoi-Diagrams
>> as well?
>>
>> Many Thanks in advance!
>>
>> Raphael
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From cryan at binghamton.edu  Tue May 20 22:31:48 2014
From: cryan at binghamton.edu (Christopher W Ryan)
Date: Tue, 20 May 2014 16:31:48 -0400
Subject: [R] empty density plot for point pattern in spatstat
Message-ID: <CAM+rpYnjg_SGnyGrVcwuakX1xmXd7ysy1gZntdn7m2zD=kqong@mail.gmail.com>

I'm running R-3.0.3 on Windows XP Professional on an institutional PC.
(My freedom to update to a more recent version of R is limited,
although I might be able to prevail upon the powers that be, if that
would solve the problem.)

I installed spatstat via install.packages() and received version 1.37-0.

Here is some code:

library(spatstat)
data(redwood)
plot(redwoods)  # works OK
plot(Kest(redwood))  # works OK
plot(density(redwood))  # produces an "empty" plot as described above

Any suggestions? What am I missing?

Thanks.

--Chris Ryan


From jvadams at usgs.gov  Tue May 20 23:19:34 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Tue, 20 May 2014 16:19:34 -0500
Subject: [R] cumulative frequency distribution combined with histogram
 in one plot at two different scales
In-Reply-To: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
References: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
Message-ID: <CAN5YmCH4XbHWp+mBOCuBqDUQnGfJyLFMisCTDsMziXRgfZijXA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/e513821c/attachment.pl>

From boris.steipe at utoronto.ca  Tue May 20 22:40:56 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Tue, 20 May 2014 16:40:56 -0400
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
Message-ID: <1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>

deldir() uses Lee and Schacter's algorithm, while the geometry package is a (partial) implementation of Barber et. al's Quickhull. Since both algorithms are correct, they should give the same results for the same data.

How about you post a small input dataset and list the output that you need...


B.




On 2014-05-20, at 2:04 PM, Raphael P?bst wrote:

> Thank you very much, this looks promising.
> 
> I have a follow-up question however, probably due to my thickness when
> it comes to the underlying math.
> 
> I am translating (as closely as possible) some code that has
> originally been written for Mathlab and uses the delaunay() function
> there. Now, if I understand it correctly, Mathlab uses the same
> Qhull-Library as a basis, as does the Geometry-Package. So in theory
> delaunay(x) in Mathlab and delaunay(x) in R should give me the same
> results for the same x, where x is a matrix of coordinates.
> 
> If I use deldir(x1, x2) where x1 and x2 are the first and second
> column of that same matrix above, is there any chance to get the same
> result as with delaunayn() or at least something similar in format to
> the result of delaunayn()?
> 
> Many thanks again and please excuse my crude english.
> 
> Raphael
> On 5/14/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>> Try:
>> 
>> install.packages("deldir")
>> library(deldir)
>> ?deldir
>> set.seed(16180)
>> x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
>> tess <- deldir(x, y, rw = window)
>> plot.deldir(tess, wpoints="real", wlines="tess")
>> 
>> Cheers,
>> Boris
>> 
>> 
>> On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:
>> 
>>> Hello everyone!
>>> I have returned to R after a longish break and am currently working on
>>> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
>>> If I understood it correctly, the Geometry-Package only offers
>>> functions for the Delaunay-Triangulation at the moment. Is this
>>> correct and if so, what would be the best way to get Voronoi-Diagrams
>>> as well?
>>> 
>>> Many Thanks in advance!
>>> 
>>> Raphael
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Tue May 20 23:29:31 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 20 May 2014 17:29:31 -0400
Subject: [R] R save with encoding...
In-Reply-To: <00ae01cf7389$7548c1d0$5fda4570$@dpi.inpe.br>
References: <00ae01cf7389$7548c1d0$5fda4570$@dpi.inpe.br>
Message-ID: <3B39A1F2-A425-49D3-80E7-15D9F28558D4@comcast.net>


On May 19, 2014, at 1:40 PM, Alexsandro C?ndido de Oliveira Silva wrote:

> Hello everybody!!
>
>
>
> I'm trying to plot a graphic with the title: INTERVALS ??.
>
> But the special character ?? can't be encoded using ISO8859-1.

For future reference the reason this went unanaswered as long as it  
did is bacause that "special character" did not show up a Greek lambda  
because you posted in HTML rather than plain text. (It did show up as  
a lambda when Frede Aakmann T?gersen replied.) I looked at the "??"  
and thought "who knows what that is?".
>
> Which another encoding I need to choose?

There _is) another posting style you should choose
>
>
>
> Att.
>
> Alexsandro C??ndido de Oliveira Silva
>
> ___________________________________________________________________________________
>
> 	[[alternative HTML version deleted]]

-- 

David Winsemius, MD
Alameda, CA, USA


From raphael.paebst at gmail.com  Tue May 20 23:33:54 2014
From: raphael.paebst at gmail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Tue, 20 May 2014 23:33:54 +0200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
Message-ID: <CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>

Thanks for the answer!

I'll post a sample tomorrow, I have however found the following:
triang.list() gives me the coordinates of the triangle's vertices,
while delaunayn() gives me the indices of those coordinates. Thus it
should be more or less simple to convert the output of deldir() into
that of delaunayn()

Once again, thanks!

Raphael

On 5/20/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
> deldir() uses Lee and Schacter's algorithm, while the geometry package is a
> (partial) implementation of Barber et. al's Quickhull. Since both algorithms
> are correct, they should give the same results for the same data.
>
> How about you post a small input dataset and list the output that you
> need...
>
>
> B.
>
>
>
>
> On 2014-05-20, at 2:04 PM, Raphael P?bst wrote:
>
>> Thank you very much, this looks promising.
>>
>> I have a follow-up question however, probably due to my thickness when
>> it comes to the underlying math.
>>
>> I am translating (as closely as possible) some code that has
>> originally been written for Mathlab and uses the delaunay() function
>> there. Now, if I understand it correctly, Mathlab uses the same
>> Qhull-Library as a basis, as does the Geometry-Package. So in theory
>> delaunay(x) in Mathlab and delaunay(x) in R should give me the same
>> results for the same x, where x is a matrix of coordinates.
>>
>> If I use deldir(x1, x2) where x1 and x2 are the first and second
>> column of that same matrix above, is there any chance to get the same
>> result as with delaunayn() or at least something similar in format to
>> the result of delaunayn()?
>>
>> Many thanks again and please excuse my crude english.
>>
>> Raphael
>> On 5/14/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>>> Try:
>>>
>>> install.packages("deldir")
>>> library(deldir)
>>> ?deldir
>>> set.seed(16180)
>>> x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
>>> tess <- deldir(x, y, rw = window)
>>> plot.deldir(tess, wpoints="real", wlines="tess")
>>>
>>> Cheers,
>>> Boris
>>>
>>>
>>> On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:
>>>
>>>> Hello everyone!
>>>> I have returned to R after a longish break and am currently working on
>>>> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
>>>> If I understood it correctly, the Geometry-Package only offers
>>>> functions for the Delaunay-Triangulation at the moment. Is this
>>>> correct and if so, what would be the best way to get Voronoi-Diagrams
>>>> as well?
>>>>
>>>> Many Thanks in advance!
>>>>
>>>> Raphael
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jvadams at usgs.gov  Tue May 20 23:35:49 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Tue, 20 May 2014 16:35:49 -0500
Subject: [R] empty density plot for point pattern in spatstat
In-Reply-To: <CAM+rpYnjg_SGnyGrVcwuakX1xmXd7ysy1gZntdn7m2zD=kqong@mail.gmail.com>
References: <CAM+rpYnjg_SGnyGrVcwuakX1xmXd7ysy1gZntdn7m2zD=kqong@mail.gmail.com>
Message-ID: <CAN5YmCEb57mYWXu4i+VeT8CAu7R2r+G8yu7eaapEai94juHkGg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140520/767dcc7f/attachment.pl>

From pdalgd at gmail.com  Tue May 20 23:46:00 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 20 May 2014 23:46:00 +0200
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400607678558-4690912.post@n4.nabble.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<1400475363368-4690803.post@n4.nabble.com>
	<3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
Message-ID: <DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>

Hm? Try

plot(0, mgp=c(3,2,0), las=2)


On 20 May 2014, at 19:41 , Hurr <hill0093 at umn.edu> wrote:

> I was able to put tck=-0.1 into either par() or 
> axis() and it made a tick difference I understood.
> As I understand it, default for mgp is c(3,1,0).
> When I put mgp=c(3,4,0) or mgp=c(3,7,0) into 
> either par() or axis() I see no difference.
> Hurr
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690912.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From r.turner at auckland.ac.nz  Wed May 21 03:01:21 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 21 May 2014 13:01:21 +1200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
Message-ID: <537BFAE1.3050603@auckland.ac.nz>



It sounds to me as though you are simply getting yourself flummoxed by 
the fact that the different packages produce their output in different 
formats.  The information in the output will be the same (as Boris has 
indicated) --- it will just be arranged differently.  Learn to interpret 
the output of each function (RTFM!) and you will find that there is no 
problem.

cheers,

Rolf Turner
(author of "deldir")

On 21/05/14 09:33, Raphael P?bst wrote:
> Thanks for the answer!
>
> I'll post a sample tomorrow, I have however found the following:
> triang.list() gives me the coordinates of the triangle's vertices,
> while delaunayn() gives me the indices of those coordinates. Thus it
> should be more or less simple to convert the output of deldir() into
> that of delaunayn()
>
> Once again, thanks!
>
> Raphael
>
> On 5/20/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>> deldir() uses Lee and Schacter's algorithm, while the geometry package is a
>> (partial) implementation of Barber et. al's Quickhull. Since both algorithms
>> are correct, they should give the same results for the same data.
>>
>> How about you post a small input dataset and list the output that you
>> need...
>>
>>
>> B.
>>
>>
>>
>>
>> On 2014-05-20, at 2:04 PM, Raphael P?bst wrote:
>>
>>> Thank you very much, this looks promising.
>>>
>>> I have a follow-up question however, probably due to my thickness when
>>> it comes to the underlying math.
>>>
>>> I am translating (as closely as possible) some code that has
>>> originally been written for Mathlab and uses the delaunay() function
>>> there. Now, if I understand it correctly, Mathlab uses the same
>>> Qhull-Library as a basis, as does the Geometry-Package. So in theory
>>> delaunay(x) in Mathlab and delaunay(x) in R should give me the same
>>> results for the same x, where x is a matrix of coordinates.
>>>
>>> If I use deldir(x1, x2) where x1 and x2 are the first and second
>>> column of that same matrix above, is there any chance to get the same
>>> result as with delaunayn() or at least something similar in format to
>>> the result of delaunayn()?
>>>
>>> Many thanks again and please excuse my crude english.
>>>
>>> Raphael
>>> On 5/14/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>>>> Try:
>>>>
>>>> install.packages("deldir")
>>>> library(deldir)
>>>> ?deldir
>>>> set.seed(16180)
>>>> x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
>>>> tess <- deldir(x, y, rw = window)
>>>> plot.deldir(tess, wpoints="real", wlines="tess")
>>>>
>>>> Cheers,
>>>> Boris
>>>>
>>>>
>>>> On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:
>>>>
>>>>> Hello everyone!
>>>>> I have returned to R after a longish break and am currently working on
>>>>> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
>>>>> If I understood it correctly, the Geometry-Package only offers
>>>>> functions for the Delaunay-Triangulation at the moment. Is this
>>>>> correct and if so, what would be the best way to get Voronoi-Diagrams
>>>>> as well?


From smartpink111 at yahoo.com  Wed May 21 03:52:14 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 20 May 2014 18:52:14 -0700 (PDT)
Subject: [R] cumulative frequency distribution combined with histogram
	in one plot at two different scales
In-Reply-To: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
References: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
Message-ID: <1400637134.44220.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Hi,

May be you can try ?twoord.plot from library(plotrix)
A.K.


On Tuesday, May 20, 2014 9:41 AM, Shane Carey <careyshan at gmail.com> wrote:
Hi,

I amtrying to plot a cfd with a histogram on one plot. The problem is the
scale (y-axis) of the plots are hugely different and as a result the
histogram plot is hard to read. Are there any examples of plots like this
done in R:

http://ej.iop.org/images/0952-4746/32/3/325/Full/jrp428239f9_online.jpg

Thanks



-- 
Shane

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From yczhang at nigpas.ac.cn  Wed May 21 07:49:50 2014
From: yczhang at nigpas.ac.cn (=?GBK?B?1cXS1LS6?=)
Date: Wed, 21 May 2014 13:49:50 +0800 (GMT+08:00)
Subject: [R] bootstrapping for maxium data
Message-ID: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/0fac59d0/attachment.pl>

From jens.scheidtmann at gmail.com  Wed May 21 08:11:12 2014
From: jens.scheidtmann at gmail.com (Jens Scheidtmann)
Date: Wed, 21 May 2014 08:11:12 +0200
Subject: [R] POSIXct: subtle difference in representation leads to error for
	"+"
Message-ID: <CADfVb56JG9AG7m=Es0feJZdSVJY+gSaFuFWGN46p5vcFL8HUyg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/ba85e0f5/attachment.pl>

From tcmuigai at gmail.com  Wed May 21 09:06:48 2014
From: tcmuigai at gmail.com (Charles Thuo)
Date: Wed, 21 May 2014 10:06:48 +0300
Subject: [R] How to create a time series from a data set where some days are
	skipped
Message-ID: <CAAJc=rNDe2c4+NUWmqPoWta_eQFD7=VaOsbOppNoYHyiBB-nJg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/9271420b/attachment.pl>

From jim at bitwrit.com.au  Wed May 21 09:15:49 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 21 May 2014 17:15:49 +1000
Subject: [R] cumulative frequency distribution combined with histogram
	in one plot at two different scales
In-Reply-To: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
References: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
Message-ID: <29181660.Qbuq9a3Bc4@localhost.localdomain>

On Tue, 20 May 2014 02:39:17 PM Shane Carey wrote:
> Hi,
> 
> I amtrying to plot a cfd with a histogram on one plot. The problem is 
the
> scale (y-axis) of the plots are hugely different and as a result the
> histogram plot is hard to read. Are there any examples of plots like 
this
> done in R:
> 
> 
http://ej.iop.org/images/0952-4746/32/3/325/Full/jrp428239f9_online.jpg
> 
Hi Shane,
Try this:

mmp<-c(4,23,38,33,6,6,6,2,1,0,1,0)
cmmp<-cumsum(mmp)
dft<-seq(0,550,by=50)
library(plotrix)
twoord.plot(lx=dft,ly=mmp,rx=dft,ry=cmmp,
 type=c("bar","b"),halfwidth=25,lcol=NA)

Jim


From jdnewmil at dcn.davis.CA.us  Wed May 21 09:33:10 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 21 May 2014 00:33:10 -0700
Subject: [R] POSIXct: subtle difference in representation leads to error
	for	"+"
In-Reply-To: <CADfVb56JG9AG7m=Es0feJZdSVJY+gSaFuFWGN46p5vcFL8HUyg@mail.gmail.com>
References: <CADfVb56JG9AG7m=Es0feJZdSVJY+gSaFuFWGN46p5vcFL8HUyg@mail.gmail.com>
Message-ID: <37c2dfed-eeca-4d12-ae34-22f13225d9a0@email.android.com>

You did not show us how "x" was created, so we cannot tell whether this indicates a bug or not. My bet would be that "x' was created in some way that bypassed the standard POSIXct creation code.

Note that your timezone specification is not atypical for output shorthand but may not yield consistent results for input on different OS or locale combinations. I think "Etc/GMT-1" or "Europe/Amsterdam" will be more reliable depending on your typical data sources.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 20, 2014 11:11:12 PM PDT, Jens Scheidtmann <jens.scheidtmann at gmail.com> wrote:
>Dear all,
>
>I have had a "weird" problem in R 3.0.2:
>
>> x
>[1] "2006-03-14 12:48:01 CET"  "2006-05-02 11:09:48 CEST"
>> str(x)
> POSIXct[1:2], format: "2006-03-14 12:48:01" "2006-05-02 11:09:48"
>> x + 6
>Error in unclass(e1) + unclass(e2) :
>  non-numeric argument to binary operator
>> as.POSIXct(x) + 6
>Error in unclass(e1) + unclass(e2) :
>  non-numeric argument to binary operator
>
>I was puzzled to the max and did not understand what's wrong:
>
>> y <- c(as.POSIXct("2006-03-14 12:48:01 CET"), as.POSIXct("2006-05-02
>11:09:48 CEST"))
>> y
>[1] "2006-03-14 12:48:01 CET"  "2006-05-02 11:09:48 CEST"
>> str(y)
> POSIXct[1:2], format: "2006-03-14 12:48:01" "2006-05-02 11:09:48"
>> y + 6
>[1] "2006-03-14 12:48:07 CET"  "2006-05-02 11:09:54 CEST"
>
>My immediate assumption was, that something was wrong with the internal
>representation. After some googling I discovered dput and there it was:
>
>> dput(x)
>structure(c("1142336881", "1146560988"), class = c("POSIXct",
>"POSIXt"))
>> dput(y)
>structure(c(1142336881, 1146560988), class = c("POSIXct", "POSIXt"))
>
>So on the inside "x" is a character vector, while "y" is a numeric
>vector.
>Ok, seems I need to force conversion to the "sensible" representation:
>
>> xx <- as.POSIXct(as.character(x))
>> dput(xx)
>structure(c(1142336881, 1146560988), class = c("POSIXct", "POSIXt"),
>tzone
>= "")
>
>Now my questions:
>
>Shouldn't as.POSIXct() force the recommended or canonical internal
>representation?
>Would you regard this as a bug?
>Or is the code, which created x in the first place to blame?
>
>Thanks in advance,
>
>Jens
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From ripley at stats.ox.ac.uk  Wed May 21 10:06:16 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 May 2014 09:06:16 +0100
Subject: [R] POSIXct: subtle difference in representation leads to error
 for	"+"
In-Reply-To: <37c2dfed-eeca-4d12-ae34-22f13225d9a0@email.android.com>
References: <CADfVb56JG9AG7m=Es0feJZdSVJY+gSaFuFWGN46p5vcFL8HUyg@mail.gmail.com>
	<37c2dfed-eeca-4d12-ae34-22f13225d9a0@email.android.com>
Message-ID: <537C5E78.90301@stats.ox.ac.uk>

On 21/05/2014 08:33, Jeff Newmiller wrote:
> You did not show us how "x" was created, so we cannot tell whether this indicates a bug or not. My bet would be that "x' was created in some way that bypassed the standard POSIXct creation code.
>
> Note that your timezone specification is not atypical for output shorthand but may not yield consistent results for input on different OS or locale combinations. I think "Etc/GMT-1" or "Europe/Amsterdam" will be more reliable depending on your typical data sources.

Etc/GMT-1 is not standard (although widely implemented) and does not 
have DST so seems inappropriate here.  But note that we only have the 
time-zone abbreviations here, not the 'timezone specification'.  (See 
?Sys.timezone.)

"CET" is pretty much portable as a time zone and well-defined post 1945. 
But that does not mean that many places in the current CET time zone 
have used CET ever since 1945: the DST transition rules were changing up 
to the 1980s, and Portugal has been in and out of CET (twice) since.

All systems I know will use CET and CEST consistently as abbreviations 
for  UTC+01:00 and UTC+02:00 (with the sign commonly used for that 
notation, the opposite of GMT-1).

> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                        Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> ---------------------------------------------------------------------------
> Sent from my phone. Please excuse my brevity.
>
> On May 20, 2014 11:11:12 PM PDT, Jens Scheidtmann <jens.scheidtmann at gmail.com> wrote:
>> Dear all,
>>
>> I have had a "weird" problem in R 3.0.2:
>>
>>> x
>> [1] "2006-03-14 12:48:01 CET"  "2006-05-02 11:09:48 CEST"
>>> str(x)
>> POSIXct[1:2], format: "2006-03-14 12:48:01" "2006-05-02 11:09:48"
>>> x + 6
>> Error in unclass(e1) + unclass(e2) :
>>   non-numeric argument to binary operator
>>> as.POSIXct(x) + 6
>> Error in unclass(e1) + unclass(e2) :
>>   non-numeric argument to binary operator
>>
>> I was puzzled to the max and did not understand what's wrong:
>>
>>> y <- c(as.POSIXct("2006-03-14 12:48:01 CET"), as.POSIXct("2006-05-02
>> 11:09:48 CEST"))
>>> y
>> [1] "2006-03-14 12:48:01 CET"  "2006-05-02 11:09:48 CEST"
>>> str(y)
>> POSIXct[1:2], format: "2006-03-14 12:48:01" "2006-05-02 11:09:48"
>>> y + 6
>> [1] "2006-03-14 12:48:07 CET"  "2006-05-02 11:09:54 CEST"
>>
>> My immediate assumption was, that something was wrong with the internal
>> representation. After some googling I discovered dput and there it was:
>>
>>> dput(x)
>> structure(c("1142336881", "1146560988"), class = c("POSIXct",
>> "POSIXt"))
>>> dput(y)
>> structure(c(1142336881, 1146560988), class = c("POSIXct", "POSIXt"))
>>
>> So on the inside "x" is a character vector, while "y" is a numeric
>> vector.
>> Ok, seems I need to force conversion to the "sensible" representation:
>>
>>> xx <- as.POSIXct(as.character(x))
>>> dput(xx)
>> structure(c(1142336881, 1146560988), class = c("POSIXct", "POSIXt"),
>> tzone
>> = "")
>>
>> Now my questions:
>>
>> Shouldn't as.POSIXct() force the recommended or canonical internal
>> representation?
>> Would you regard this as a bug?
>> Or is the code, which created x in the first place to blame?
>>
>> Thanks in advance,
>>
>> Jens
>>
>> 	[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From careyshan at gmail.com  Wed May 21 10:16:37 2014
From: careyshan at gmail.com (Shane Carey)
Date: Wed, 21 May 2014 09:16:37 +0100
Subject: [R] cumulative frequency distribution combined with histogram
 in one plot at two different scales
In-Reply-To: <29181660.Qbuq9a3Bc4@localhost.localdomain>
References: <CA+jRDxBwpc7WMf0MPhmiCbFjTY1fi4_cS6bMc_teTz_8hZBu9w@mail.gmail.com>
	<29181660.Qbuq9a3Bc4@localhost.localdomain>
Message-ID: <CA+jRDxDgXT+1sWrtiryWjqrRnZZj6nvkhvYkadS-QFf7dDrc_g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/89a8bf61/attachment.pl>

From matthias.weber at fnt.de  Wed May 21 10:20:52 2014
From: matthias.weber at fnt.de (Mat)
Date: Wed, 21 May 2014 01:20:52 -0700 (PDT)
Subject: [R] create line chart from data.frame
Message-ID: <1400660452697-4690953.post@n4.nabble.com>

Hello together,

i want to create a line graph, from a data.frame like this one:
          Categorie      Y10_11   Y11_12    Y12_13      Y13_14
A        Service              1           2           3               4
B        Support             2           5            5               0
C        Telephone         1            3           1               10 
D        Online              10           12         6                8
E        Offline               8            7          0                2
F        Hotline              15          18         7                3

Is there any way, to create a line chart, with the years (Y10_11, etc.) in
the X-axis and the Categorie in the Y-axis. The lines should be created with
the numbers for each categorie. So in each plot there should be 6 lines in
dependence of the value for each year.

Thank you.

Best regards.

Mat



--
View this message in context: http://r.789695.n4.nabble.com/create-line-chart-from-data-frame-tp4690953.html
Sent from the R help mailing list archive at Nabble.com.


From jim at bitwrit.com.au  Wed May 21 10:37:46 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 21 May 2014 18:37:46 +1000
Subject: [R] create line chart from data.frame
In-Reply-To: <1400660452697-4690953.post@n4.nabble.com>
References: <1400660452697-4690953.post@n4.nabble.com>
Message-ID: <1756530.IrfsfjdjXN@localhost.localdomain>

On Wed, 21 May 2014 01:20:52 AM Mat wrote:
> Hello together,
> 
> i want to create a line graph, from a data.frame like this one:
>           Categorie      Y10_11   Y11_12    Y12_13      Y13_14
> A        Service              1           2           3               4
> B        Support             2           5            5               0
> C        Telephone         1            3           1               10
> D        Online              10           12         6                8
> E        Offline               8            7          0                2
> F        Hotline              15          18         7                3
> 
> Is there any way, to create a line chart, with the years (Y10_11, etc.) in
> the X-axis and the Categorie in the Y-axis. The lines should be created 
with
> the numbers for each categorie. So in each plot there should be 6 
lines in
> dependence of the value for each year.

Hi Mat,
Try this:

mwdf<-read.table(text=
"Categorie Y10_11 Y11_12 Y12_13 Y13_14
 Service              1      2     3       4
 Support             2      5     5       0
 Telephone         1      3     1      10 
 Online              10   12      6       8
 Offline               8      7      0       2
 Hotline              15  18      7      3",
 header=TRUE)
matplot(t(mwdf[,2:5]),type="b",xaxt="n")
axis(1,at=1:4,labels=names(mwdf)[2:5])
legend(3,17,mwdf[,1],pch=as.character(1:6),col=1:6)

Jim


From kmersman at smail.uni-koeln.de  Wed May 21 10:49:44 2014
From: kmersman at smail.uni-koeln.de (Katharina Mersmann)
Date: Wed, 21 May 2014 10:49:44 +0200
Subject: [R] Waldtest and different sample sizes
Message-ID: <000001cf74d1$9cc81960$d6584c20$@uni-koeln.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/62ec9769/attachment.pl>

From pdalgd at gmail.com  Wed May 21 11:26:33 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 21 May 2014 11:26:33 +0200
Subject: [R] Summary to data frame in R!!
In-Reply-To: <ED2A99BF-CBAE-4DE9-B60C-0A1D99B59725@me.com>
References: <CANtKHPXwSwUb7j-f8PwifY_377pd0shSvuV8gDiE1-DGuKOaAQ@mail.gmail.com>
	<ED2A99BF-CBAE-4DE9-B60C-0A1D99B59725@me.com>
Message-ID: <BAF78946-5179-4247-B17C-C22B2899D915@gmail.com>


On 07 May 2014, at 17:55 , Marc Schwartz <marc_schwartz at me.com> wrote:

>> as.data.frame(sapply(mtcars[, c("mpg", "disp")], summary))

I'd use lapply() rather than sapply() here. That goes directly from a list to a data frame, avoiding the detour via a matrix. 

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From katherine_gobin at yahoo.com  Wed May 21 11:29:21 2014
From: katherine_gobin at yahoo.com (Katherine Gobin)
Date: Wed, 21 May 2014 17:29:21 +0800 (SGT)
Subject: [R] Splitting vector elements
Message-ID: <1400664561.53928.YahooMailNeo@web193306.mail.sg3.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/7321c7d3/attachment.pl>

From luca.cerone at gmail.com  Wed May 21 11:38:06 2014
From: luca.cerone at gmail.com (Luca Cerone)
Date: Wed, 21 May 2014 11:38:06 +0200
Subject: [R] Splitting vector elements
In-Reply-To: <1400664561.53928.YahooMailNeo@web193306.mail.sg3.yahoo.com>
References: <1400664561.53928.YahooMailNeo@web193306.mail.sg3.yahoo.com>
Message-ID: <CAFnz2-8OEoGoUjE-y005Y6xe+1QLLS7deB1vSAE9cTGAizgvTg@mail.gmail.com>

Hi Katherin,
the following code does the trick:

x <- strsplit(dat," ")
df <- data.frame(p1=sapply(x, function(x) x[1]), p2 = sapply(x,
function(x) x[2]))

Hope it helps,
Luca

2014-05-21 11:29 GMT+02:00 Katherine Gobin <katherine_gobin at yahoo.com>:
> Dear R forum
>
> I have a vector as
>
> dat = c("ABC 1", "ABC 2", "ABC 3", "DEF 10", "DEF 20")
>
>> dat
> [1] "ABC 1"  "ABC 2"  "ABC 3"  "DEF 10" "DEF 20"
>
> I need to split the names into two parts say
>
>    p1      p2
>  ABC    1
>  ABC    2
>  ABC    3
>  DEF     10
>  DEF     20
>
> Kindly guide
>
> Katherine
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Luca Cerone

Tel: +34 692 06 71 28
Skype: luca.cerone


From smartpink111 at yahoo.com  Wed May 21 12:08:16 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 21 May 2014 03:08:16 -0700 (PDT)
Subject: [R] Splitting vector elements
In-Reply-To: <CAFnz2-8OEoGoUjE-y005Y6xe+1QLLS7deB1vSAE9cTGAizgvTg@mail.gmail.com>
References: <1400664561.53928.YahooMailNeo@web193306.mail.sg3.yahoo.com>
	<CAFnz2-8OEoGoUjE-y005Y6xe+1QLLS7deB1vSAE9cTGAizgvTg@mail.gmail.com>
Message-ID: <1400666896.58848.YahooMailNeo@web142601.mail.bf1.yahoo.com>



Hi Katherine,

#or you can use:
read.table(text=dat,sep="",header=FALSE,stringsAsFactors=FALSE)
#?? V1 V2
#1 ABC? 1
#2 ABC? 2
#3 ABC? 3
#4 DEF 10
#5 DEF 20
A.K.


On Wednesday, May 21, 2014 5:38 AM, Luca Cerone <luca.cerone at gmail.com> wrote:
Hi Katherin,
the following code does the trick:

x <- strsplit(dat," ")
df <- data.frame(p1=sapply(x, function(x) x[1]), p2 = sapply(x,
function(x) x[2]))

Hope it helps,
Luca

2014-05-21 11:29 GMT+02:00 Katherine Gobin <katherine_gobin at yahoo.com>:
> Dear R forum
>
> I have a vector as
>
> dat = c("ABC 1", "ABC 2", "ABC 3", "DEF 10", "DEF 20")
>
>> dat
> [1] "ABC 1"? "ABC 2"? "ABC 3"? "DEF 10" "DEF 20"
>
> I need to split the names into two parts say
>
>? ? p1? ? ? p2
>? ABC? ? 1
>? ABC? ? 2
>? ABC? ? 3
>? DEF? ?  10
>? DEF? ?  20
>
> Kindly guide
>
> Katherine
>
>? ? ? ?  [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Luca Cerone

Tel: +34 692 06 71 28
Skype: luca.cerone

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From luca.cerone at gmail.com  Wed May 21 12:56:15 2014
From: luca.cerone at gmail.com (Luca Cerone)
Date: Wed, 21 May 2014 12:56:15 +0200
Subject: [R] Splitting vector elements
In-Reply-To: <1400666896.58848.YahooMailNeo@web142601.mail.bf1.yahoo.com>
References: <1400664561.53928.YahooMailNeo@web193306.mail.sg3.yahoo.com>
	<CAFnz2-8OEoGoUjE-y005Y6xe+1QLLS7deB1vSAE9cTGAizgvTg@mail.gmail.com>
	<1400666896.58848.YahooMailNeo@web142601.mail.bf1.yahoo.com>
Message-ID: <CAFnz2-9ekaRgGHE+tcof3-GAL5Je+7iawRqX=BjSoAjgir4ZFQ@mail.gmail.com>

Thanks Arun,
I agree using read.table is probably easier :)

2014-05-21 12:08 GMT+02:00 arun <smartpink111 at yahoo.com>:
>
>
> Hi Katherine,
>
> #or you can use:
> read.table(text=dat,sep="",header=FALSE,stringsAsFactors=FALSE)
> #   V1 V2
> #1 ABC  1
> #2 ABC  2
> #3 ABC  3
> #4 DEF 10
> #5 DEF 20
> A.K.
>
>
> On Wednesday, May 21, 2014 5:38 AM, Luca Cerone <luca.cerone at gmail.com> wrote:
> Hi Katherin,
> the following code does the trick:
>
> x <- strsplit(dat," ")
> df <- data.frame(p1=sapply(x, function(x) x[1]), p2 = sapply(x,
> function(x) x[2]))
>
> Hope it helps,
> Luca
>
> 2014-05-21 11:29 GMT+02:00 Katherine Gobin <katherine_gobin at yahoo.com>:
>> Dear R forum
>>
>> I have a vector as
>>
>> dat = c("ABC 1", "ABC 2", "ABC 3", "DEF 10", "DEF 20")
>>
>>> dat
>> [1] "ABC 1"  "ABC 2"  "ABC 3"  "DEF 10" "DEF 20"
>>
>> I need to split the names into two parts say
>>
>>    p1      p2
>>  ABC    1
>>  ABC    2
>>  ABC    3
>>  DEF     10
>>  DEF     20
>>
>> Kindly guide
>>
>> Katherine
>>
>>         [[alternative HTML version deleted]]
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>
>
> --
> Luca Cerone
>
> Tel: +34 692 06 71 28
> Skype: luca.cerone
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Luca Cerone

Tel: +34 692 06 71 28
Skype: luca.cerone


From hill0093 at umn.edu  Wed May 21 13:05:55 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 21 May 2014 04:05:55 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
References: <3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
Message-ID: <1400670355340-4690962.post@n4.nabble.com>

Next I want to move the x axis labels up towards the axis to 
make the gap smaller. The mgp= was suggested to me. 
The staxlab function to be standard soon was sent to me by 
the author to make staxlab work on the second x axis.
Runnable code to help demonstrate what I want to do:
Hurr

#trying for both period-labeled and frequency labeled horizontal axis 
rm(list=ls(all=TRUE))
install.packages('plotrix')
library(plotrix)
staxlab<-function(side=1,at,labels,nlines=2,top.line=0.5,
 line.spacing=0.8,srt=NA,ticklen=0.03,adj=1,...) {
 if(missing(labels)) labels<-at
 nlabels<-length(labels)
 if(missing(at)) at<-1:nlabels
 axislim<-par("usr")[3:4-2*side%%2]
 if(any(at < axislim[1]) || any(at > axislim[2]))
  warning("Some axis labels are off the plot")
 if(is.na(srt)) {
  linepos<-rep(top.line,nlines)
  for(i in 2:nlines) linepos[i]<-linepos[i-1]+line.spacing
  linepos<-rep(linepos,ceiling(nlabels/nlines))[1:nlabels]
  axis(side=side,at=at,labels=rep("",nlabels))
  mtext(text=labels,side=side,line=linepos,at=at,...)
 }
 else {
  linewidth<-strheight("M")
  xylim<-par("usr")
  if(side == 1) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[3]-ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[3]-ticklen*(xylim[4]-xylim[3])-top.line*linewidth
  }
  if(side == 3) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[4]+ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[4]+ticklen*(xylim[4]-xylim[3])+top.line*linewidth
  }
  if(side == 2) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[1]-ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[1]-ticklen*(xylim[2]-xylim[1])-top.line*linewidth
  }
  if(side == 4) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[2]+ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[2]+ticklen*(xylim[2]-xylim[1])+top.line*linewidth
  }
  par(xpd=TRUE)
  text(xpos,ypos,labels,srt=srt,adj=adj,...)
  par(xpd=FALSE)
 }
}
horAxisLims=c(0,7213); hAL1=horAxisLims[1]; print(hAL1);
print(horAxisLims[2]) 
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
horTicLocs=c(1,365.,1252,1461,1753,2191,2922,4383,7000)
horLabels=c("1Yr","1Da","7Hr","6Hr","5Hr","4Hr","3Hr","2Hr","1.25\nHr")
par(mar=c(8,4,4,2)+.1,lheight=0.7)  #c(bot,lef,top,rit);
default:c(5,4,4,2)+.1 
#default mgp=c(3,1,0) margin line in mex units
c(axisTitle,axisLabel,axisLine) 
#plot(0, mgp=c(3,2,0), las=2) 
plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="",mgp=c(3,5,0))
axis(1,tick=TRUE,at=horTicLocs,labels=rep("",length(horLabels)),padj=0,tck=-.1)
staxlab(1,at=horTicLocs,labels=horLabels,srt=90,adj=c(1,0)) 
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels <-
vector(length=nFrqTicInvls+1); 
frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls 
for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl 
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=format(frqTicLocs[i],digits=4,trim=TRUE,scientific=FALSE) 
for(i in 1:(nFrqTicInvls+1))print(frqLabels[i]) 
#tck if >= 0.5 then fraction of relevant side; if =1 then gridlines 
axis(1,tick=TRUE,line=3.5,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0,tck=-.1) 
staxlab(1,top.line=5,at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0)) 
title(xlab="Cycles/Yr",line=6)




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4690962.html
Sent from the R help mailing list archive at Nabble.com.


From smartpink111 at yahoo.com  Wed May 21 13:07:12 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 21 May 2014 04:07:12 -0700 (PDT)
Subject: [R] How to create a time series from a data set where some days
	are	skipped
In-Reply-To: <CAAJc=rNDe2c4+NUWmqPoWta_eQFD7=VaOsbOppNoYHyiBB-nJg@mail.gmail.com>
References: <CAAJc=rNDe2c4+NUWmqPoWta_eQFD7=VaOsbOppNoYHyiBB-nJg@mail.gmail.com>
Message-ID: <1400670432.84480.YahooMailNeo@web142602.mail.bf1.yahoo.com>



Hi,

You may check ?isWeekday, ?isBizday, from library(timeDate)
library(timeDate)
tS <- timeSequence(as.Date("2008/1/1"), as.Date("2014/4/21"))
tWd <- tS[isWeekday(tS)]
length(tWd)
#[1] 1645

?pubHolUS <- holiday(2008:2014,listHolidays("US"))

tS1 <- tS[isBizday(tS, holidays = holidayNYSE(2008:2014), wday = 1:5)]
length(tS1)
#[1] 1588


?tS2 <- tS[isBizday(tS,holidays=holiday(2008:2014,listHolidays("US")), wday=1:5)]
?length(tS2)
#[1] 1552

A.K.



On Wednesday, May 21, 2014 3:08 AM, Charles Thuo <tcmuigai at gmail.com> wrote:
I have a data set with daily claim numbers. I group with monthly totals and
create a time series as follows


v.ts<- ts(v, start=2008,frequency=12)

How can the daily data be converted into a time series where there is no
claim number for sundays and public holidays.


Charles.

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From raphael.paebst at gmail.com  Wed May 21 13:34:03 2014
From: raphael.paebst at gmail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Wed, 21 May 2014 13:34:03 +0200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <537BFAE1.3050603@auckland.ac.nz>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
	<537BFAE1.3050603@auckland.ac.nz>
Message-ID: <CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>

I believe you are right. A night of sleep has done wonders for my
understanding of the problem.

Thank you for your patience and help!

Raphael

On 5/21/14, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>
>
> It sounds to me as though you are simply getting yourself flummoxed by
> the fact that the different packages produce their output in different
> formats.  The information in the output will be the same (as Boris has
> indicated) --- it will just be arranged differently.  Learn to interpret
> the output of each function (RTFM!) and you will find that there is no
> problem.
>
> cheers,
>
> Rolf Turner
> (author of "deldir")
>
> On 21/05/14 09:33, Raphael P?bst wrote:
>> Thanks for the answer!
>>
>> I'll post a sample tomorrow, I have however found the following:
>> triang.list() gives me the coordinates of the triangle's vertices,
>> while delaunayn() gives me the indices of those coordinates. Thus it
>> should be more or less simple to convert the output of deldir() into
>> that of delaunayn()
>>
>> Once again, thanks!
>>
>> Raphael
>>
>> On 5/20/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>>> deldir() uses Lee and Schacter's algorithm, while the geometry package is
>>> a
>>> (partial) implementation of Barber et. al's Quickhull. Since both
>>> algorithms
>>> are correct, they should give the same results for the same data.
>>>
>>> How about you post a small input dataset and list the output that you
>>> need...
>>>
>>>
>>> B.
>>>
>>>
>>>
>>>
>>> On 2014-05-20, at 2:04 PM, Raphael P?bst wrote:
>>>
>>>> Thank you very much, this looks promising.
>>>>
>>>> I have a follow-up question however, probably due to my thickness when
>>>> it comes to the underlying math.
>>>>
>>>> I am translating (as closely as possible) some code that has
>>>> originally been written for Mathlab and uses the delaunay() function
>>>> there. Now, if I understand it correctly, Mathlab uses the same
>>>> Qhull-Library as a basis, as does the Geometry-Package. So in theory
>>>> delaunay(x) in Mathlab and delaunay(x) in R should give me the same
>>>> results for the same x, where x is a matrix of coordinates.
>>>>
>>>> If I use deldir(x1, x2) where x1 and x2 are the first and second
>>>> column of that same matrix above, is there any chance to get the same
>>>> result as with delaunayn() or at least something similar in format to
>>>> the result of delaunayn()?
>>>>
>>>> Many thanks again and please excuse my crude english.
>>>>
>>>> Raphael
>>>> On 5/14/14, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>>>>> Try:
>>>>>
>>>>> install.packages("deldir")
>>>>> library(deldir)
>>>>> ?deldir
>>>>> set.seed(16180)
>>>>> x <- runif(20); y <- runif(20); window <- c(0,1,0,1)
>>>>> tess <- deldir(x, y, rw = window)
>>>>> plot.deldir(tess, wpoints="real", wlines="tess")
>>>>>
>>>>> Cheers,
>>>>> Boris
>>>>>
>>>>>
>>>>> On 2014-05-14, at 8:18 AM, Raphael P?bst wrote:
>>>>>
>>>>>> Hello everyone!
>>>>>> I have returned to R after a longish break and am currently working
>>>>>> on
>>>>>> a project where I need Delaunay-Triangulations and Voronoi-Diagrams.
>>>>>> If I understood it correctly, the Geometry-Package only offers
>>>>>> functions for the Delaunay-Triangulation at the moment. Is this
>>>>>> correct and if so, what would be the best way to get Voronoi-Diagrams
>>>>>> as well?
>
>


From friendly at yorku.ca  Wed May 21 14:00:58 2014
From: friendly at yorku.ca (Michael Friendly)
Date: Wed, 21 May 2014 08:00:58 -0400
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B3054.6040403@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
Message-ID: <537C957A.2040706@yorku.ca>

An easy non-R solution is to use a clipboard utility like PathCopy. 
Most have the capability to configure how a windows path is copied
to the clipboard.

On 5/20/2014 6:37 AM, Knut Krueger wrote:
>
> Is there any function to change the windows path to linux path?
>
> especially I would like to have the possibility to use
> f.e
> path="C:\foo1\foo2\"
> I can import those paths with
> path = readline()  but not directly in a script
>
> Regards Knut
>


-- 
Michael Friendly     Email: friendly AT yorku DOT ca
Professor, Psychology Dept. & Chair, Quantitative Methods
York University      Voice: 416 736-2100 x66249 Fax: 416 736-5814
4700 Keele Street    Web:   http://www.datavis.ca
Toronto, ONT  M3J 1P3 CANADA


From dwinsemius at comcast.net  Wed May 21 14:24:51 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 21 May 2014 08:24:51 -0400
Subject: [R] bootstrapping for maxium data
In-Reply-To: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>
References: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>
Message-ID: <A6B62DA0-5EB6-4180-8148-97E5DEB736FB@comcast.net>

Run the examples in the ?boot help page. Notice that boot needs a function that accepts a dataframe and an index vector.

Sent from my iPhone

> On May 21, 2014, at 1:49 AM, ??? <yczhang at nigpas.ac.cn> wrote:
> 
> Dear friends,
> 
> 
> I  have a numeric vector composed of 320 numbers.
> 
> 
> Now, I want to do resample for 10000 times. I want to get maxium number for every trial and get a 10000 maxium numbers.
> 
> 
> I have tried to use "boot" package such as follows.
> 
> 
> results<-boot(data=nearshore1,statistic=max,R=10000,stype="w")
> 
> 
> But, surprising, the results shows that I got 10000 A (A is the maxium number in "nearshore1")
> 
> 
> It's a puzzle to me. I do not know how to do that. Thank you.
> 
> 
> Yichun
> 
> 
> 
> 
> 
> 
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From rh at knut-krueger.de  Wed May 21 14:54:22 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Wed, 21 May 2014 14:54:22 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F70143@mb02.ads.tamu.edu>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>	<537B7D0F.2050607@knut-krueger.de>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70143@mb02.ads.tamu.edu>
Message-ID: <537CA1FE.9040609@knut-krueger.de>

Am 20.05.2014 19:00, schrieb David L Carlson:
> Now I understand. Not really a solution, but you can instruct students to use only forward slashes in their paths since R will convert to backslash on Windows systems automatically. After a couple of broken commands, they should get the hang of it.
>
> David C
this was the first idea, but it seems not the easiest way ...

Knut


From gunter.berton at gene.com  Wed May 21 15:23:35 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 21 May 2014 06:23:35 -0700
Subject: [R] bootstrapping for maxium data
In-Reply-To: <A6B62DA0-5EB6-4180-8148-97E5DEB736FB@comcast.net>
References: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>
	<A6B62DA0-5EB6-4180-8148-97E5DEB736FB@comcast.net>
Message-ID: <CACk-te0H8MUr4D6jcA5PoFijvfm1OYZ8WhxYhQUVmRTgMMVYaw@mail.gmail.com>

Perhaps it should be mentioned that resampling does not produce a
correct CI for extreme quantiles, so the whole exercise may be
pointless.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 21, 2014 at 5:24 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> Run the examples in the ?boot help page. Notice that boot needs a function that accepts a dataframe and an index vector.
>
> Sent from my iPhone
>
>> On May 21, 2014, at 1:49 AM, ??? <yczhang at nigpas.ac.cn> wrote:
>>
>> Dear friends,
>>
>>
>> I  have a numeric vector composed of 320 numbers.
>>
>>
>> Now, I want to do resample for 10000 times. I want to get maxium number for every trial and get a 10000 maxium numbers.
>>
>>
>> I have tried to use "boot" package such as follows.
>>
>>
>> results<-boot(data=nearshore1,statistic=max,R=10000,stype="w")
>>
>>
>> But, surprising, the results shows that I got 10000 A (A is the maxium number in "nearshore1")
>>
>>
>> It's a puzzle to me. I do not know how to do that. Thank you.
>>
>>
>> Yichun
>>
>>
>>
>>
>>
>>
>>
>>    [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jdnewmil at dcn.davis.CA.us  Wed May 21 15:25:01 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Wed, 21 May 2014 06:25:01 -0700
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537CA1FE.9040609@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70143@mb02.ads.tamu.edu>
	<537CA1FE.9040609@knut-krueger.de>
Message-ID: <d0c4da81-6633-480a-a729-b0c60373e66f@email.android.com>

I tend to view this as enforced training in string escaping.

One option i have not seen mentioned is the file.choose function, which is GUI but a little tedious for deep directories.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 21, 2014 5:54:22 AM PDT, Knut Krueger <rh at knut-krueger.de> wrote:
>Am 20.05.2014 19:00, schrieb David L Carlson:
>> Now I understand. Not really a solution, but you can instruct
>students to use only forward slashes in their paths since R will
>convert to backslash on Windows systems automatically. After a couple
>of broken commands, they should get the hang of it.
>>
>> David C
>this was the first idea, but it seems not the easiest way ...
>
>Knut
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From ggrothendieck at gmail.com  Wed May 21 15:49:46 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 21 May 2014 09:49:46 -0400
Subject: [R] \ escape sequence and windows path
In-Reply-To: <d0c4da81-6633-480a-a729-b0c60373e66f@email.android.com>
References: <537B3054.6040403@knut-krueger.de>
	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>
	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>
	<537B6C8E.1090603@knut-krueger.de>
	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>
	<537B7D0F.2050607@knut-krueger.de>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70143@mb02.ads.tamu.edu>
	<537CA1FE.9040609@knut-krueger.de>
	<d0c4da81-6633-480a-a729-b0c60373e66f@email.android.com>
Message-ID: <CAP01uR=mRjOmVuFuzW9VWKM46PdZctr0ti3qZzeUuwdfGCdmDA@mail.gmail.com>

On Wed, May 21, 2014 at 9:25 AM, Jeff Newmiller
<jdnewmil at dcn.davis.ca.us> wrote:
> I tend to view this as enforced training in string escaping.
>
> One option i have not seen mentioned is the file.choose function, which is GUI but a little tedious for deep directories.

I also was thinking about that too but note that file.choose() does
not work for directories so you need a second command choose.dir() for
those.   readline(), which the poster mentioned, does work for both
cases.

If the context of this is writing an R script and you want to paste it
into your editor session then any powerful editor has the capability
of adding functions to perform such transformations. e.g.
http://vim.wikia.com/wiki/Copy_filename_to_clipboard

Many other programming languages that support escape sequences in
string literals also have a syntax to not interpret the escapes and R
really needs that capability too.  For example,
https://docs.python.org/2.0/ref/strings.html

Other usage scenarios where this would be useful are dealing with
literal latex text and dealing with text literals containing both
single and double quotes.


From han241 at purdue.edu  Wed May 21 15:59:08 2014
From: han241 at purdue.edu (han241 at purdue.edu)
Date: Wed, 21 May 2014 09:59:08 -0400 (EDT)
Subject: [R] stop subscribing mailing list
Message-ID: <1644742924.184674.1400680748307.JavaMail.root@mailhub028.itcs.purdue.edu>

Dear, 

I would like to stop to receive any email from R-help mailing list for this email address. Thank you.


Mingxuan Han


From skfglades at gmail.com  Wed May 21 16:01:48 2014
From: skfglades at gmail.com (Steve Friedman)
Date: Wed, 21 May 2014 10:01:48 -0400
Subject: [R] stop subscribing mailing list
In-Reply-To: <1644742924.184674.1400680748307.JavaMail.root@mailhub028.itcs.purdue.edu>
References: <1644742924.184674.1400680748307.JavaMail.root@mailhub028.itcs.purdue.edu>
Message-ID: <CAHB_=Uc8A7zUP9K+v1MWrCcp=R=3zCZaYwJ9_hHAvVcNRByVOw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/59afe58f/attachment.pl>

From jun.shen.ut at gmail.com  Wed May 21 17:32:18 2014
From: jun.shen.ut at gmail.com (Jun Shen)
Date: Wed, 21 May 2014 11:32:18 -0400
Subject: [R] How to draw a transparent polygon
Message-ID: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/5edab021/attachment.pl>

From dcarlson at tamu.edu  Wed May 21 17:47:34 2014
From: dcarlson at tamu.edu (David L Carlson)
Date: Wed, 21 May 2014 15:47:34 +0000
Subject: [R] How to draw a transparent polygon
In-Reply-To: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
Message-ID: <53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>

The standard colors in R are opaque, but you can add an alpha value to make them semi-transparent. In this example we set alpha halfway between 0 and 255 to define a semi-transparent red:

> set.seed(42)
> x <- runif(10)*10
> y <- runif(10)*10
> plot(x, y, pch=16)
> col2rgb("red", alpha=TRUE)
      [,1]
red    255
green    0
blue     0
alpha  255
> redtrans <- rgb(255, 0, 0, 127, maxColorValue=255)
> polygon(c(2, 5, 8), c(2, 10, 2), col=redtrans)

-------------------------------------
David L Carlson
Department of Anthropology
Texas A&M University
College Station, TX 77840-4352





-----Original Message-----
From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jun Shen
Sent: Wednesday, May 21, 2014 10:32 AM
To: R-help
Subject: [R] How to draw a transparent polygon

Hi everyone,

How do I draw a transparent ploygon overlaying with a scatter plot?

Let's say, we call plot() to have a scatter plot, then call polygon() to
add a polygon. I was hoping the polygon can be transparent so the scatter
plot is still visible. I can't find any argument in polygon() for such a
feature. Is there another way to do it? Thanks.

Jun Shen

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From wdunlap at tibco.com  Wed May 21 18:05:21 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 21 May 2014 09:05:21 -0700
Subject: [R] How to draw a transparent polygon
In-Reply-To: <53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
Message-ID: <CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>

You can use adjustcolor() to do some of the arithmetic for you.  E.g.,
the following draws red squares with 10 opacities ('alpha's) from 5%
to 95%:
   plot(1:10)
   square <- 0.45 * cbind(c(-1,1,1,-1),c(-1,-1,1,1))
   for(i in 1:10) polygon(square+i, col=adjustcolor("red", alpha=(i-.5)/10))
Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Wed, May 21, 2014 at 8:47 AM, David L Carlson <dcarlson at tamu.edu> wrote:
> The standard colors in R are opaque, but you can add an alpha value to make them semi-transparent. In this example we set alpha halfway between 0 and 255 to define a semi-transparent red:
>
>> set.seed(42)
>> x <- runif(10)*10
>> y <- runif(10)*10
>> plot(x, y, pch=16)
>> col2rgb("red", alpha=TRUE)
>       [,1]
> red    255
> green    0
> blue     0
> alpha  255
>> redtrans <- rgb(255, 0, 0, 127, maxColorValue=255)
>> polygon(c(2, 5, 8), c(2, 10, 2), col=redtrans)
>
> -------------------------------------
> David L Carlson
> Department of Anthropology
> Texas A&M University
> College Station, TX 77840-4352
>
>
>
>
>
> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jun Shen
> Sent: Wednesday, May 21, 2014 10:32 AM
> To: R-help
> Subject: [R] How to draw a transparent polygon
>
> Hi everyone,
>
> How do I draw a transparent ploygon overlaying with a scatter plot?
>
> Let's say, we call plot() to have a scatter plot, then call polygon() to
> add a polygon. I was hoping the polygon can be transparent so the scatter
> plot is still visible. I can't find any argument in polygon() for such a
> feature. Is there another way to do it? Thanks.
>
> Jun Shen
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From frtog at vestas.com  Wed May 21 18:55:37 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 21 May 2014 18:55:37 +0200
Subject: [R] stop subscribing mailing list
Message-ID: <1pj3w7riwqn2bqyh0vq32c91.1400691333190@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/55df649c/attachment.pl>

From boris.steipe at utoronto.ca  Wed May 21 19:37:36 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 21 May 2014 13:37:36 -0400
Subject: [R] How to draw a transparent polygon
In-Reply-To: <CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
	<CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>
Message-ID: <CBCC37A7-48B3-4BA0-9839-819485D66B21@utoronto.ca>

... I just specify alpha values directly in the hex-code for a color:

set.seed(112352)
plot(runif(20),runif(20), pch=16)
polygon(runif(3), runif(3), col="#FF000022")
polygon(runif(3), runif(3), col="#00FF0022")
polygon(runif(3), runif(3), col="#0000FF22")

B.


On 2014-05-21, at 12:05 PM, William Dunlap wrote:

> You can use adjustcolor() to do some of the arithmetic for you.  E.g.,
> the following draws red squares with 10 opacities ('alpha's) from 5%
> to 95%:
>   plot(1:10)
>   square <- 0.45 * cbind(c(-1,1,1,-1),c(-1,-1,1,1))
>   for(i in 1:10) polygon(square+i, col=adjustcolor("red", alpha=(i-.5)/10))
> Bill Dunlap
> TIBCO Software
> wdunlap tibco.com
> 
> 
> On Wed, May 21, 2014 at 8:47 AM, David L Carlson <dcarlson at tamu.edu> wrote:
>> The standard colors in R are opaque, but you can add an alpha value to make them semi-transparent. In this example we set alpha halfway between 0 and 255 to define a semi-transparent red:
>> 
>>> set.seed(42)
>>> x <- runif(10)*10
>>> y <- runif(10)*10
>>> plot(x, y, pch=16)
>>> col2rgb("red", alpha=TRUE)
>>      [,1]
>> red    255
>> green    0
>> blue     0
>> alpha  255
>>> redtrans <- rgb(255, 0, 0, 127, maxColorValue=255)
>>> polygon(c(2, 5, 8), c(2, 10, 2), col=redtrans)
>> 
>> -------------------------------------
>> David L Carlson
>> Department of Anthropology
>> Texas A&M University
>> College Station, TX 77840-4352
>> 
>> 
>> 
>> 
>> 
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jun Shen
>> Sent: Wednesday, May 21, 2014 10:32 AM
>> To: R-help
>> Subject: [R] How to draw a transparent polygon
>> 
>> Hi everyone,
>> 
>> How do I draw a transparent ploygon overlaying with a scatter plot?
>> 
>> Let's say, we call plot() to have a scatter plot, then call polygon() to
>> add a polygon. I was hoping the polygon can be transparent so the scatter
>> plot is still visible. I can't find any argument in polygon() for such a
>> feature. Is there another way to do it? Thanks.
>> 
>> Jun Shen
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jun.shen.ut at gmail.com  Wed May 21 19:59:06 2014
From: jun.shen.ut at gmail.com (Jun Shen)
Date: Wed, 21 May 2014 13:59:06 -0400
Subject: [R] How to draw a transparent polygon
In-Reply-To: <CBCC37A7-48B3-4BA0-9839-819485D66B21@utoronto.ca>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
	<CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>
	<CBCC37A7-48B3-4BA0-9839-819485D66B21@utoronto.ca>
Message-ID: <CAMCXXmo8TCK7DXqXLo6gB6EPAiQWrhythDivRnSYa4AxZM_ZXg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/4a63ce80/attachment.pl>

From jholtman at gmail.com  Wed May 21 20:12:51 2014
From: jholtman at gmail.com (jim holtman)
Date: Wed, 21 May 2014 14:12:51 -0400
Subject: [R] Subset, period of days like one after another in a group
In-Reply-To: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>
References: <CACU-vMhv-tiJcJWCDOmtP0ewS7tVtwT9bs8sqtMtRtm1ypzzPw@mail.gmail.com>
Message-ID: <CAAxdm-6FfB6RRS7cjHWtShq35YkruWS0cF8qqa_TyctTFKVwCQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/a6ba2c29/attachment.pl>

From boris.steipe at utoronto.ca  Wed May 21 20:26:50 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 21 May 2014 14:26:50 -0400
Subject: [R] How to draw a transparent polygon
In-Reply-To: <CAMCXXmo8TCK7DXqXLo6gB6EPAiQWrhythDivRnSYa4AxZM_ZXg@mail.gmail.com>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
	<CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>
	<CBCC37A7-48B3-4BA0-9839-819485D66B21@utoronto.ca>
	<CAMCXXmo8TCK7DXqXLo6gB6EPAiQWrhythDivRnSYa4AxZM_ZXg@mail.gmail.com>
Message-ID: <D61C928D-22C6-4879-97DD-F6E2B10D35E6@utoronto.ca>

Hex-codes are ubiquitously used on the Web - they are a short-hand version of specifying rgb triplets. The first two digits specify the red value, the second two are for green, then blue. R accepts a fourth pair of digits to optionally specify the transparency, the semantics of the code is thus "#RRGGBB" or "#RRGGBBAA".

I prefer hex codes because they are compact, and convenient to make up colors on the fly. But there are many ways to define colors rigorously and then convert them.

E.g. if you go with one of the internally defined "named" colors:
R provides col2rgb() to convert different types of colors to rgb values, and rgb() to convert triplets of rgb values to hex-code. (Since col2rgb creates rows with values between 0 and 255, and rgb expects columns with intensities from 0 to 1, you have to transpose and divide).

rgb(t(col2rgb("red"))/255)        # "#FF0000"
rgb(t(col2rgb("peachpuff"))/255)  # "#FFDAB9"

But the real advantage is when using color matching and palette tools like:
   https://kuler.adobe.com/

Or you can extract color palettes from images like here:
   http://www.pictaculous.com/

Or you can use the "eye-dropper" tool of standard image editing software to access to color value of a particular pixel, or online here ...
   http://html-color-codes.info/colors-from-image/
   http://imagecolorpicker.com/

Many options.
Hope this helps,
Boris



On 2014-05-21, at 1:59 PM, Jun Shen wrote:

> Thanks everyone who replied. 
> 
> Boris, could you explain a bit more how to obtain this hex-code for a specific color? Thanks.
> 
> Jun
> 
> 
> On Wed, May 21, 2014 at 1:37 PM, Boris Steipe <boris.steipe at utoronto.ca> wrote:
> ... I just specify alpha values directly in the hex-code for a color:
> 
> set.seed(112352)
> plot(runif(20),runif(20), pch=16)
> polygon(runif(3), runif(3), col="#FF000022")
> polygon(runif(3), runif(3), col="#00FF0022")
> polygon(runif(3), runif(3), col="#0000FF22")
> 
> B.
> 
> 
> On 2014-05-21, at 12:05 PM, William Dunlap wrote:
> 
> > You can use adjustcolor() to do some of the arithmetic for you.  E.g.,
> > the following draws red squares with 10 opacities ('alpha's) from 5%
> > to 95%:
> >   plot(1:10)
> >   square <- 0.45 * cbind(c(-1,1,1,-1),c(-1,-1,1,1))
> >   for(i in 1:10) polygon(square+i, col=adjustcolor("red", alpha=(i-.5)/10))
> > Bill Dunlap
> > TIBCO Software
> > wdunlap tibco.com
> >
> >
> > On Wed, May 21, 2014 at 8:47 AM, David L Carlson <dcarlson at tamu.edu> wrote:
> >> The standard colors in R are opaque, but you can add an alpha value to make them semi-transparent. In this example we set alpha halfway between 0 and 255 to define a semi-transparent red:
> >>
> >>> set.seed(42)
> >>> x <- runif(10)*10
> >>> y <- runif(10)*10
> >>> plot(x, y, pch=16)
> >>> col2rgb("red", alpha=TRUE)
> >>      [,1]
> >> red    255
> >> green    0
> >> blue     0
> >> alpha  255
> >>> redtrans <- rgb(255, 0, 0, 127, maxColorValue=255)
> >>> polygon(c(2, 5, 8), c(2, 10, 2), col=redtrans)
> >>
> >> -------------------------------------
> >> David L Carlson
> >> Department of Anthropology
> >> Texas A&M University
> >> College Station, TX 77840-4352
> >>
> >>
> >>
> >>
> >>
> >> -----Original Message-----
> >> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jun Shen
> >> Sent: Wednesday, May 21, 2014 10:32 AM
> >> To: R-help
> >> Subject: [R] How to draw a transparent polygon
> >>
> >> Hi everyone,
> >>
> >> How do I draw a transparent ploygon overlaying with a scatter plot?
> >>
> >> Let's say, we call plot() to have a scatter plot, then call polygon() to
> >> add a polygon. I was hoping the polygon can be transparent so the scatter
> >> plot is still visible. I can't find any argument in polygon() for such a
> >> feature. Is there another way to do it? Thanks.
> >>
> >> Jun Shen
> >>
> >>        [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


From kate.ignatius at gmail.com  Wed May 21 20:26:54 2014
From: kate.ignatius at gmail.com (Kate Ignatius)
Date: Wed, 21 May 2014 14:26:54 -0400
Subject: [R] Mean of colMeans
Message-ID: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>

Hi All,

I've successfully gotten out the colMeans for 60 columns using:

col <- colMeans(x, na.rm = TRUE, dims = 1)

My next question is: is there a way of getting a mean of all the
column means (ie a mean of a mean)?

Thanks!


From gunter.berton at gene.com  Wed May 21 20:45:37 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Wed, 21 May 2014 11:45:37 -0700
Subject: [R] How to draw a transparent polygon
In-Reply-To: <D61C928D-22C6-4879-97DD-F6E2B10D35E6@utoronto.ca>
References: <CAMCXXmphrCOePbj1JAWa+BQr=gz88pMFJ6qD0J-AZvAqHdHDFw@mail.gmail.com>
	<53BF8FB63FAF2E4A9455EF1EE94DA726F70724@mb02.ads.tamu.edu>
	<CAF8bMcZOD+2XXqAKBzNwzjpF3TKgEtb33qk1sjNVsv5KNpCm0Q@mail.gmail.com>
	<CBCC37A7-48B3-4BA0-9839-819485D66B21@utoronto.ca>
	<CAMCXXmo8TCK7DXqXLo6gB6EPAiQWrhythDivRnSYa4AxZM_ZXg@mail.gmail.com>
	<D61C928D-22C6-4879-97DD-F6E2B10D35E6@utoronto.ca>
Message-ID: <CACk-te2168vjwdvQRqWgrHhpVxnreTNUjUphbuKo-688bMGcPg@mail.gmail.com>

Inline.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Wed, May 21, 2014 at 11:26 AM, Boris Steipe <boris.steipe at utoronto.ca> wrote:
> Hex-codes are ubiquitously used on the Web - they are a short-hand version of specifying rgb triplets. The first two digits specify the red value, the second two are for green, then blue. R accepts a fourth pair of digits to optionally specify the transparency, the semantics of the code is thus "#RRGGBB" or "#RRGGBBAA".
>
> I prefer hex codes because they are compact, and convenient to make up colors on the fly. But there are many ways to define colors rigorously and then convert them.
>
> E.g. if you go with one of the internally defined "named" colors:
> R provides col2rgb() to convert different types of colors to rgb values, and rgb() to convert triplets of rgb values to hex-code. (Since col2rgb creates rows with values between 0 and 255, and rgb expects columns with intensities from 0 to 1, you have to transpose and divide).

Not strictly true. There's a maxColorValue argument to rgb, so instead
of dividing and using the default of 1, you can not divide and and
specify the max:

> rgb(t(col2rgb("red")),max=255)
[1] "#FF0000"

> rgb(t(col2rgb("peachpuff")),max=255)
[1] "#FFDAB9"




>
> rgb(t(col2rgb("red"))/255)        # "#FF0000"
> rgb(t(col2rgb("peachpuff"))/255)  # "#FFDAB9"
>
> But the real advantage is when using color matching and palette tools like:
>    https://kuler.adobe.com/
>
> Or you can extract color palettes from images like here:
>    http://www.pictaculous.com/
>
> Or you can use the "eye-dropper" tool of standard image editing software to access to color value of a particular pixel, or online here ...
>    http://html-color-codes.info/colors-from-image/
>    http://imagecolorpicker.com/
>
> Many options.
> Hope this helps,
> Boris
>
>
>
> On 2014-05-21, at 1:59 PM, Jun Shen wrote:
>
>> Thanks everyone who replied.
>>
>> Boris, could you explain a bit more how to obtain this hex-code for a specific color? Thanks.
>>
>> Jun
>>
>>
>> On Wed, May 21, 2014 at 1:37 PM, Boris Steipe <boris.steipe at utoronto.ca> wrote:
>> ... I just specify alpha values directly in the hex-code for a color:
>>
>> set.seed(112352)
>> plot(runif(20),runif(20), pch=16)
>> polygon(runif(3), runif(3), col="#FF000022")
>> polygon(runif(3), runif(3), col="#00FF0022")
>> polygon(runif(3), runif(3), col="#0000FF22")
>>
>> B.
>>
>>
>> On 2014-05-21, at 12:05 PM, William Dunlap wrote:
>>
>> > You can use adjustcolor() to do some of the arithmetic for you.  E.g.,
>> > the following draws red squares with 10 opacities ('alpha's) from 5%
>> > to 95%:
>> >   plot(1:10)
>> >   square <- 0.45 * cbind(c(-1,1,1,-1),c(-1,-1,1,1))
>> >   for(i in 1:10) polygon(square+i, col=adjustcolor("red", alpha=(i-.5)/10))
>> > Bill Dunlap
>> > TIBCO Software
>> > wdunlap tibco.com
>> >
>> >
>> > On Wed, May 21, 2014 at 8:47 AM, David L Carlson <dcarlson at tamu.edu> wrote:
>> >> The standard colors in R are opaque, but you can add an alpha value to make them semi-transparent. In this example we set alpha halfway between 0 and 255 to define a semi-transparent red:
>> >>
>> >>> set.seed(42)
>> >>> x <- runif(10)*10
>> >>> y <- runif(10)*10
>> >>> plot(x, y, pch=16)
>> >>> col2rgb("red", alpha=TRUE)
>> >>      [,1]
>> >> red    255
>> >> green    0
>> >> blue     0
>> >> alpha  255
>> >>> redtrans <- rgb(255, 0, 0, 127, maxColorValue=255)
>> >>> polygon(c(2, 5, 8), c(2, 10, 2), col=redtrans)
>> >>
>> >> -------------------------------------
>> >> David L Carlson
>> >> Department of Anthropology
>> >> Texas A&M University
>> >> College Station, TX 77840-4352
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> -----Original Message-----
>> >> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On Behalf Of Jun Shen
>> >> Sent: Wednesday, May 21, 2014 10:32 AM
>> >> To: R-help
>> >> Subject: [R] How to draw a transparent polygon
>> >>
>> >> Hi everyone,
>> >>
>> >> How do I draw a transparent ploygon overlaying with a scatter plot?
>> >>
>> >> Let's say, we call plot() to have a scatter plot, then call polygon() to
>> >> add a polygon. I was hoping the polygon can be transparent so the scatter
>> >> plot is still visible. I can't find any argument in polygon() for such a
>> >> feature. Is there another way to do it? Thanks.
>> >>
>> >> Jun Shen
>> >>
>> >>        [[alternative HTML version deleted]]
>> >>
>> >> ______________________________________________
>> >> R-help at r-project.org mailing list
>> >> https://stat.ethz.ch/mailman/listinfo/r-help
>> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> >> and provide commented, minimal, self-contained, reproducible code.
>> >>
>> >> ______________________________________________
>> >> R-help at r-project.org mailing list
>> >> https://stat.ethz.ch/mailman/listinfo/r-help
>> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> >> and provide commented, minimal, self-contained, reproducible code.
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From sarah.goslee at gmail.com  Wed May 21 21:11:19 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Wed, 21 May 2014 15:11:19 -0400
Subject: [R] Mean of colMeans
In-Reply-To: <CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>
	<CAM_vjukqv8=hvuyD5Mb=KFYrJMJKnmCCCff3ffY158CUTYhpuw@mail.gmail.com>
	<CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>
Message-ID: <CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>

That would be because col is a function in base R, and thus a poor
choice of names for user objects. Nonetheless, it worked when I ran
it, but you didn't provide reproducible example so who knows.

R> set.seed(1)
R> x <- data.frame(matrix(runif(150), ncol=10))
R> # col is a function, so not a good name
R> col <- colMeans(x)
R> mean(col)
[1] 0.5119

It's polite to include the list on your reply.

Sarah

On Wed, May 21, 2014 at 2:50 PM, Kate Ignatius <kate.ignatius at gmail.com> wrote:
> That didn't work: gave me the error =
>
> [1] NA
> Warning message:
> In mean.default(col) : argument is not numeric or logical: returning NA
>
> But writing it like: mean(colMeans(x, na.rm = TRUE, dims = 1)), worked
>
> Thanks!
>
> On Wed, May 21, 2014 at 2:31 PM, Sarah Goslee <sarah.goslee at gmail.com> wrote:
>> Is
>>
>> mean(col)
>>
>> not what you're looking for?
>>
>> Sarah
>>
>> On Wed, May 21, 2014 at 2:26 PM, Kate Ignatius <kate.ignatius at gmail.com> wrote:
>>> Hi All,
>>>
>>> I've successfully gotten out the colMeans for 60 columns using:
>>>
>>> col <- colMeans(x, na.rm = TRUE, dims = 1)
>>>
>>> My next question is: is there a way of getting a mean of all the
>>> column means (ie a mean of a mean)?
>>>
>>> Thanks!
>>>

-- 
Sarah Goslee
http://www.functionaldiversity.org


From kate.ignatius at gmail.com  Wed May 21 21:20:02 2014
From: kate.ignatius at gmail.com (Kate Ignatius)
Date: Wed, 21 May 2014 15:20:02 -0400
Subject: [R] Mean of colMeans
In-Reply-To: <CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>
	<CAM_vjukqv8=hvuyD5Mb=KFYrJMJKnmCCCff3ffY158CUTYhpuw@mail.gmail.com>
	<CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>
	<CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>
Message-ID: <CAE6QMsbJ_53VKB6Fvc2BJPcsUZ3R_yu8RkKZYHTo4hBnec5YJA@mail.gmail.com>

Thanks for the explanation.  And tip... this was a quick a dirty code
so didn't really think about naming something that is already a
function in R.  Data was generic - just a bunch of columns with
numbers so didn't bother including that as I know that wasn't the
problem. Same goes with replying - automatically went to reply, will
remember to reply-all.

On Wed, May 21, 2014 at 3:11 PM, Sarah Goslee <sarah.goslee at gmail.com> wrote:
> That would be because col is a function in base R, and thus a poor
> choice of names for user objects. Nonetheless, it worked when I ran
> it, but you didn't provide reproducible example so who knows.
>
> R> set.seed(1)
> R> x <- data.frame(matrix(runif(150), ncol=10))
> R> # col is a function, so not a good name
> R> col <- colMeans(x)
> R> mean(col)
> [1] 0.5119
>
> It's polite to include the list on your reply.
>
> Sarah
>
> On Wed, May 21, 2014 at 2:50 PM, Kate Ignatius <kate.ignatius at gmail.com> wrote:
>> That didn't work: gave me the error =
>>
>> [1] NA
>> Warning message:
>> In mean.default(col) : argument is not numeric or logical: returning NA
>>
>> But writing it like: mean(colMeans(x, na.rm = TRUE, dims = 1)), worked
>>
>> Thanks!
>>
>> On Wed, May 21, 2014 at 2:31 PM, Sarah Goslee <sarah.goslee at gmail.com> wrote:
>>> Is
>>>
>>> mean(col)
>>>
>>> not what you're looking for?
>>>
>>> Sarah
>>>
>>> On Wed, May 21, 2014 at 2:26 PM, Kate Ignatius <kate.ignatius at gmail.com> wrote:
>>>> Hi All,
>>>>
>>>> I've successfully gotten out the colMeans for 60 columns using:
>>>>
>>>> col <- colMeans(x, na.rm = TRUE, dims = 1)
>>>>
>>>> My next question is: is there a way of getting a mean of all the
>>>> column means (ie a mean of a mean)?
>>>>
>>>> Thanks!
>>>>
>
> --
> Sarah Goslee
> http://www.functionaldiversity.org


From frtog at vestas.com  Wed May 21 21:38:11 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 21 May 2014 21:38:11 +0200
Subject: [R] Mean of colMeans
In-Reply-To: <CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>
	<CAM_vjukqv8=hvuyD5Mb=KFYrJMJKnmCCCff3ffY158CUTYhpuw@mail.gmail.com>
	<CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>
	<CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C6240FAD@DKRDSEXC016.vestas.net>

Hhhhmmmmmmhhhm, but is that not the same as

mean(as.matrix(x))

?????

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Sarah Goslee
> Sent: 21. maj 2014 21:11
> To: Kate Ignatius; r-help
> Subject: Re: [R] Mean of colMeans
> 
> That would be because col is a function in base R, and thus a poor
> choice of names for user objects. Nonetheless, it worked when I ran
> it, but you didn't provide reproducible example so who knows.
> 
> R> set.seed(1)
> R> x <- data.frame(matrix(runif(150), ncol=10))
> R> # col is a function, so not a good name
> R> col <- colMeans(x)
> R> mean(col)
> [1] 0.5119
> 
> It's polite to include the list on your reply.
> 
> Sarah
> 
> On Wed, May 21, 2014 at 2:50 PM, Kate Ignatius <kate.ignatius at gmail.com>
> wrote:
> > That didn't work: gave me the error =
> >
> > [1] NA
> > Warning message:
> > In mean.default(col) : argument is not numeric or logical: returning NA
> >
> > But writing it like: mean(colMeans(x, na.rm = TRUE, dims = 1)), worked
> >
> > Thanks!
> >
> > On Wed, May 21, 2014 at 2:31 PM, Sarah Goslee
> <sarah.goslee at gmail.com> wrote:
> >> Is
> >>
> >> mean(col)
> >>
> >> not what you're looking for?
> >>
> >> Sarah
> >>
> >> On Wed, May 21, 2014 at 2:26 PM, Kate Ignatius
> <kate.ignatius at gmail.com> wrote:
> >>> Hi All,
> >>>
> >>> I've successfully gotten out the colMeans for 60 columns using:
> >>>
> >>> col <- colMeans(x, na.rm = TRUE, dims = 1)
> >>>
> >>> My next question is: is there a way of getting a mean of all the
> >>> column means (ie a mean of a mean)?
> >>>
> >>> Thanks!
> >>>
> 
> --
> Sarah Goslee
> http://www.functionaldiversity.org
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From anna_carter2008 at yahoo.com  Wed May 21 09:59:26 2014
From: anna_carter2008 at yahoo.com (Anna Carter)
Date: Wed, 21 May 2014 15:59:26 +0800 (SGT)
Subject: [R] Groupwise sum
Message-ID: <1400659166.15429.YahooMailNeo@web192603.mail.sg3.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/9c6cf1e7/attachment.pl>

From angelocanty at sympatico.ca  Wed May 21 17:44:49 2014
From: angelocanty at sympatico.ca (Angelo Canty)
Date: Wed, 21 May 2014 11:44:49 -0400
Subject: [R] bootstrapping for maxium data
In-Reply-To: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>
References: <1d764b5.95e4.1461d541fb9.Coremail.yczhang@nigpas.ac.cn>
Message-ID: <BLU0-SMTP8217FB3AF66C5876A55228DE3C0@phx.gbl>

Yichun,

1. You are doing this wrong!
2. It is the wrong thing to do!

In more detail:
1. To use boot, it helps to read the help file which clearly says the 
statistic must be a function of two arguments, the original dataset and 
the indices saying which of the original datapoints are in the bootstrap 
dataset (or the frequency of each original datapoint in the bootstrap 
dataset). A valid statistic would be
function(x,i) max(x[i])

2. See Davison and Hinkley example 2.15 which shows that the bootstrap 
is inconsistent for the sample maximum!


On 21/05/2014 1:49 AM, ??? wrote:
> Dear friends,
>
>
> I  have a numeric vector composed of 320 numbers.
>
>
> Now, I want to do resample for 10000 times. I want to get maxium number for every trial and get a 10000 maxium numbers.
>
>
> I have tried to use "boot" package such as follows.
>
>
> results<-boot(data=nearshore1,statistic=max,R=10000,stype="w")
>
>
> But, surprising, the results shows that I got 10000 A (A is the maxium number in "nearshore1")
>
>
> It's a puzzle to me. I do not know how to do that. Thank you.
>
>
> Yichun
>
>
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


-- 
------------------------------------------------------------------
|   Angelo J. Canty                Email: cantya at mcmaster.ca     |
|   Mathematics and Statistics     Phone: (905) 525-9140 x 27079 |
|   McMaster University            Fax  : (905) 522-0935         |
|   1280 Main St. W.                                             |
|   Hamilton ON L8S 4K1                                          |


From st.scharf at utoronto.ca  Wed May 21 16:38:26 2014
From: st.scharf at utoronto.ca (Sara Scharf)
Date: Wed, 21 May 2014 14:38:26 +0000
Subject: [R] syntax for MANOVA (& factor labeling)
Message-ID: <BFF308E3F4F67941B2A6C11C5E3B03D1F0D9@arborexmbx3.UTORARBOR.UTORAD.Utoronto.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/068218e4/attachment.pl>

From giovanni.millo at generali.com  Wed May 21 18:28:55 2014
From: giovanni.millo at generali.com (Millo Giovanni)
Date: Wed, 21 May 2014 16:28:55 +0000
Subject: [R] Waldtest and different sample sizes
Message-ID: <DB36B6DC36CFD746A374F62BE5B5C5BD04ADA65D@D3MBXSRVPD1.corp.generali.net>


Dear Katharina,

if I get it right, you just want to assess the significance of 'lag(numfull_FCRlong,1)'. For this purpose, you can simply look at the relevant t-statistic in the model summary. BTW, the latter is the square root of the (F-version of the) Wald test for the restriction you are interested in, so it is asymptotically equivalent to what you wanted to do.

So you just need to estimate the nesting model (caus2, for you) and look at the p.value. Or do I make it too simple?

Best wishes,
Giovanni

Giovanni Millo, PhD
Research Dept.,
Assicurazioni Generali SpA
Via Machiavelli 3,
34132 Trieste (Italy)
tel. +39 040 671184
fax  +39 040 671160

--------- original message ----------
Date: Wed, 21 May 2014 10:49:44 +0200
From: "Katharina Mersmann" <kmersman at smail.uni-koeln.de>
To: <r-help at r-project.org>
Subject: [R] Waldtest and different sample sizes
Message-ID: <000001cf74d1$9cc81960$d6584c20$@uni-koeln.de>
Content-Type: text/plain

Hey R Users!

I?m trying to run a waldtest comparing an restricted and unrestricted model.

But sample size is different (because of NA?s), so I get an error message:



> caus2<-plm(CSmean~ lag(CSmean,1)+ lag(numfull_FCRlong,1)+

+                GDP+linpol_GDPpCapita+fort_budget+fort_percentDebt+

+                linpol_primSurplus+Inflation+lagBYmean,

+                data = data.plm, index = c("countrynr","quartal"),model =
"within")

> waldtest(caus2,update(caus2,.~.-lag(numfull_FCRlong,1),test = "Chisq")

Fehler in waldtest.default(caus2, update(caus2, . ~ . ?
lag(numfull_FCRlong,1),  :

  models were not all fitted to the same size of dataset



So I tried to remove the NA?s first:

> data.plm.naomit<-na.omit(data.plm)

> caus2<-plm(CSmean~ lag(CSmean,1)+ lag(numfull_FCRlong,1)+

+                GDP+linpol_GDPpCapita+fort_budget+fort_percentDebt+

+                linpol_primSurplus+Inflation+lagBYmean,

+                data = data.plm.naomit, index =
c("countrynr","quartal"),model = "within")

Fehler in model.matrix.pFormula(formula, data, rhs = 1, model = model,  :

  NA in the individual index variable

Zus?tzlich: Warnmeldung:

In `[.data.frame`(index, as.numeric(rownames(mf)), ) :

  NAs durch Umwandlung erzeugt

> waldtest(caus2,update(caus2,.~.-lag(numfull_FCRlong,1),test = "Chisq")

Fehler in waldtest.default(caus2, update(caus2, . ~ . ?
lag(numfull_FCRlong,1),  :

  models were not all fitted to the same size of dataset



But this doesn?t work either, because of the error during the fitting
process, another way:

>
caus2_small<-update(caus2,.~.-lag(numfull_FCRlong,1),data=data.plm[-ch2$na.a
ction])

Fehler in -ch2$na.action : ung?ltiges Argument f?r un?ren Operator

> waldtest(caus2,ch2_small)



What should I do? Is the removal of NA?s a common procedure?





Thanks for your advice and have a nice day ;)

Katie


        [[alternative HTML version deleted]]

Ai sensi del D.Lgs. 196/2003 si precisa che le informazi...{{dropped:12}}


From jens.scheidtmann at gmail.com  Wed May 21 11:51:56 2014
From: jens.scheidtmann at gmail.com (Jens Scheidtmann)
Date: Wed, 21 May 2014 11:51:56 +0200
Subject: [R] POSIXct: subtle difference in representation leads to error
 for "+"
In-Reply-To: <37c2dfed-eeca-4d12-ae34-22f13225d9a0@email.android.com>
References: <CADfVb56JG9AG7m=Es0feJZdSVJY+gSaFuFWGN46p5vcFL8HUyg@mail.gmail.com>
	<37c2dfed-eeca-4d12-ae34-22f13225d9a0@email.android.com>
Message-ID: <CADfVb56AsuqE+ywiJMjojrJUe+2UMQ5UDnNiD8mKAqKyZLsBcQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/dfa64a25/attachment.pl>

From heliocamargo at gmail.com  Wed May 21 22:31:46 2014
From: heliocamargo at gmail.com (Helio Camargo)
Date: Wed, 21 May 2014 17:31:46 -0300
Subject: [R] approxfun question
Message-ID: <CAM==DOeuNLAucogdyZiuU+Btbcu8YZgHxVUU1no-7QcUCpJoGg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/f9db28f5/attachment.pl>

From John.Morrongiello at csiro.au  Wed May 21 14:36:06 2014
From: John.Morrongiello at csiro.au (John.Morrongiello at csiro.au)
Date: Wed, 21 May 2014 12:36:06 +0000
Subject: [R] using asList with lme4 object
Message-ID: <2547E22D246F3945BB491BDD8257C2E77F03C4C8@exmbx06-cdc.nexus.csiro.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/bcd80849/attachment.pl>

From joseleopoldo1792 at gmail.com  Wed May 21 20:58:52 2014
From: joseleopoldo1792 at gmail.com (Igor Sosa Mayor)
Date: Wed, 21 May 2014 20:58:52 +0200
Subject: [R] Mean of colMeans
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>
Message-ID: <87a9abnekz.fsf@pedroche.home>

Kate Ignatius <kate.ignatius at gmail.com> writes:
> Hi All,
>
> I've successfully gotten out the colMeans for 60 columns using:
>
> col <- colMeans(x, na.rm = TRUE, dims = 1)
>
> My next question is: is there a way of getting a mean of all the
> column means (ie a mean of a mean)?

maybe
mean(x)
?

-- 
:: Igor Sosa Mayor     :: joseleopoldo1792 at gmail.com ::
:: GnuPG: 0x1C1E2890   :: http://www.gnupg.org/      ::
:: jabberid: rogorido  ::                            ::


From kafi_dano at yahoo.com  Wed May 21 20:50:06 2014
From: kafi_dano at yahoo.com (kafi dano)
Date: Wed, 21 May 2014 11:50:06 -0700 (PDT)
Subject: [R] program
Message-ID: <1400698206.43700.YahooMailNeo@web124701.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/d5a7920b/attachment.pl>

From leo.lahti at iki.fi  Wed May 21 12:07:22 2014
From: leo.lahti at iki.fi (antagomir)
Date: Wed, 21 May 2014 03:07:22 -0700 (PDT)
Subject: [R] The Future of R | API to Public Databases
In-Reply-To: <4F12EF5B.80007@rampaginggeek.com>
References: <CANY9Q8k+ZYVrKJJGBJp+jtnYAW15GQkOCivYVPGwgYQA9dLOxg@mail.gmail.com>
	<598E886C-0FCA-4DF7-823F-588CCFFF9466@noaa.gov>
	<4F119D73.2000409@rampaginggeek.com>
	<BLU166-W38EB5C747F54A389F2413CBE9D0@phx.gbl>
	<CANY9Q8kD6zmFUAGWdmEeD0bGLvabzO0F1BnJqs3PCZhYtgf+Qg@mail.gmail.com>
	<CANz9Z_+M8nWU6-F+9D7cz2LUPuWC_6BfxzYBjjJUMSW+h10BNQ@mail.gmail.com>
	<4F128421.30902@stats.ox.ac.uk>
	<CANY9Q8ko7kWvXJib+c0NTfhYjO6vDjB_3OEE3NJ4Ey0+v0qc5w@mail.gmail.com>
	<4F12EF5B.80007@rampaginggeek.com>
Message-ID: <1400666842085-4690960.post@n4.nabble.com>

Just a note on this earlier thread: R package collections for public APIs
seem to be now emerging and thriving in various disciplines: 

- Bioinformatics the Bioconductor collection contains many API packages
- rOpenSci: R tools for open science-related APIs 
- rOpenHealth: R tools for open healthcare-related APIs
- rOpenGov: R tools for open government data and computational social
science (disclaimer: I am one of the main developers for this one)

These community projects and aim to fill the gap discussed in this thread.
The APIs and needs are many, and best tackled with community-driven package
collections written by the actual users. 

Have a look at those projects - your contributions to any of them is
certainly welcome.

best,
Leo Lahti





--
View this message in context: http://r.789695.n4.nabble.com/The-Future-of-R-API-to-Public-Databases-tp4293526p4690960.html
Sent from the R help mailing list archive at Nabble.com.


From VGao at panagora.com  Wed May 21 22:37:10 2014
From: VGao at panagora.com (Gao, Vicky)
Date: Wed, 21 May 2014 20:37:10 +0000
Subject: [R] Questions in R about optim( ) and optimize( )
Message-ID: <E6231A6C907F1E4EBDC773DF7F92327CDFE6D6@exmailbox1.panagora.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/a32942d0/attachment.pl>

From peter_mei at web.de  Wed May 21 17:26:11 2014
From: peter_mei at web.de (Peter Meissner)
Date: Wed, 21 May 2014 17:26:11 +0200
Subject: [R] NppToR / RMySQL / loadNamespace() Error
In-Reply-To: <456B241F-D13F-433E-A21F-EED658914E94@stats.ox.ac.uk>
References: <537B61E4.6070201@web.de>
	<456B241F-D13F-433E-A21F-EED658914E94@stats.ox.ac.uk>
Message-ID: <537CC593.8010502@web.de>

Thanks a lot for the input (and thanks for R),

but nope, both R versions are  the same ... and I really do not think 
that NppToR is actually causing the problem.

Since RMySQL has problems (as I understand the errors/warnings) to find 
what it expects to find I thought that maybe there is a way to manually 
tell it whatever information is lost when RGUI is started by an external 
program (I already set the MYSQL_HOME system variable to where MySQL is 
installed).

I really do not think that NppToR causes the problem but that the 
startup is somewhat different and therefore path information get mixed 
up or regestry entries are not found anymore - I guess.

(Info: NppToR is a small program that allows to use one of those very 
very popular awesome, professional and allround text editors in 
combination with R by passing through code from the editor to R ... like 
Emacs for Windows or TinR or ... .)

Best, Peter



Am 20.05.2014 18:46, schrieb Brian Ripley:
> We have no idea what NppToR Is.  But as a guess you ran 64-bit R and it ran 32-bit or v.v.
> Why don't you ask NppToR's help service?
>
> The architecture of MySQL must match that of the R under which you installed RMySQL.
>
>
>> On 20 May 2014, at 15:08, Peter Meissner <peter_mei at web.de> wrote:
>>
>> Dear Listeners,
>>
>> I finally managed to install RMySQL on my Win7(64Bit) machine with R.3.1.0.
>>
>> Now, as long as I start R manually and load the package everything is
>> working just fine: the package loads and I can connect to a database and
>> query it.
>>
>> But, when NppToR does start the R session for me something is going
>> wrong and I have no clue where even to start.
>>
>> The R-output reads like this:
>>
>>
>>> require(RMySQL)
>> Loading required package: RMySQL
>> Loading required package: DBI
>> Error : .onLoad failed in loadNamespace() for 'RMySQL', details:
>> call: utils::readRegistry("SOFTWARE\\MySQL AB", hive = "HLM",
>> maxdepth = 2)
>> error: Registry key 'SOFTWARE\MySQL AB' not found
>>
>>
>> Does anybody have an idea how to fix or circumvent this?
>>
>>
>> Best, Peter
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From nospam at lisse.NA  Wed May 21 11:49:51 2014
From: nospam at lisse.NA (Dr Eberhard Lisse)
Date: Wed, 21 May 2014 10:49:51 +0100
Subject: [R] SQL vs R
In-Reply-To: <CALhdq6uMELiGNZ7-Cbb8FxTGPrwjNTifgNo=3QaPdUEyOR+z5A@mail.gmail.com>
References: <53640CC1.50903@lisse.NA>	<1e53f028-28d0-488f-923d-498555cc8a56@email.android.com>	<53689A4C.9070609@lisse.na>	<08cea6cf-77ce-490b-a6db-249fdb445ba8@email.android.com>	<5368A792.4040605@lisse.NA>	<CAP01uRmv1NGaYTkpargJWgC_C1DcNrxY3-tyW9PSu64peRCLrA@mail.gmail.com>	<5368C29E.6030204@lisse.NA>	<E4F06C98-3315-4E56-A400-A5F9E695B449@vims.edu>	<5368F277.1070809@lisse.NA>
	<CALhdq6uMELiGNZ7-Cbb8FxTGPrwjNTifgNo=3QaPdUEyOR+z5A@mail.gmail.com>
Message-ID: <537C76BF.4080007@lisse.NA>

So,

some feedback.

Have installed MariaDB 10.0.10 on the Linux box. That speeded things up.
Changed from InnoDB/XtraDb to Aria. That speeded loading of the data up.
Have installed MariaDB on the iMac. That speeded things up more.
Tried to tune MariadDB's config. Didn't speed things up much, but for
the query buffer.
Figured out Replication (from the linux box to the iMac). This slowed
loading down somewhat.
Played with the SQL. Speeded things up significantly.
Played with the inxdexes. Did not speed things up much.
Found what I could do in data.table that was faster than SQL and did
that. Obvious increase in speed.

My R processing time came down from 35 to 6 1/2 minutes.


Removed all large tables before saving (and once the raw data was no
longer required). That reduced RData from 150MB to 7KB.

Pushed the table and image generation into a second R file. This takes 4
seconds. The corresponding LyX/LaTeX/Beamer/KnitR runs in 12 seconds.

Installed RStudio. Nice.

Adding new SQL queries adds between 30 and 90 seconds in the input R
file, next to nothing to the presentation generation.

I could not care lass how long the input takes, even hours, as long as I
can save the analysis results and not the data into the RData.

el

PS: Ordered a MacPro :-)-O. Will report back.

on 2014-05-06, 15:40 Peter Crowther said the following:
> The dataset is not large by database standards.  Even in mySQL - not known
> for its speed at multi-row querying - the queries you describe should
> complete within a few seconds on even moderately recent hardware if your
> indexes are reasonable.
> 
> What are your performance criteria for processing these queries, and how
> have you / your team optimised the relational database storage?
> 
> Cheers,
> 
> - Peter
> --
> Peter Crowther, Director, Melandra Limited
> 
> 
> On 6 May 2014 15:32, Dr Eberhard Lisse <el at lisse.na> wrote:
> 
> Exactly,
> 
> which is why I am looking for something faster :-)-O
> 
> el
> 
> on 2014-05-06, 15:21 David R Forrest said the following:
>>>> It sounds as if your underlying MySQL database is too slow for your
>>>> purposes.  Whatever you layer on top of it will be constrained by
>>>> the underlying database.  To speed up the process significantly,
>>>> you may need to do work on the database backend part of the
>>>> process.
>>>>
>>>> Dave
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
>


From boris.steipe at utoronto.ca  Wed May 21 22:52:26 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Wed, 21 May 2014 16:52:26 -0400
Subject: [R] Mean of colMeans
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C6240FAD@DKRDSEXC016.vestas.net>
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>
	<CAM_vjukqv8=hvuyD5Mb=KFYrJMJKnmCCCff3ffY158CUTYhpuw@mail.gmail.com>
	<CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>
	<CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C6240FAD@DKRDSEXC016.vestas.net>
Message-ID: <3F21933D-FDCF-4E32-97A4-E594F9D0FC98@utoronto.ca>

Not necessarily. Missing values may base the means on unequal numbers of observation:

x <- c(1,1,1,2,NA,2)
dim(x) <- c(3,2)
cM <- colMeans(x, na.rm = TRUE, dims = 1)
mean(cM)
mean(x, na.rm = TRUE)

B.

On 2014-05-21, at 3:38 PM, Frede Aakmann T?gersen wrote:

> Hhhhmmmmmmhhhm, but is that not the same as
> 
> mean(as.matrix(x))
> 
> ?????
> 
> Yours sincerely / Med venlig hilsen
> 
> 
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
> 
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
> 
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender. 
> 
> 
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
>> On Behalf Of Sarah Goslee
>> Sent: 21. maj 2014 21:11
>> To: Kate Ignatius; r-help
>> Subject: Re: [R] Mean of colMeans
>> 
>> That would be because col is a function in base R, and thus a poor
>> choice of names for user objects. Nonetheless, it worked when I ran
>> it, but you didn't provide reproducible example so who knows.
>> 
>> R> set.seed(1)
>> R> x <- data.frame(matrix(runif(150), ncol=10))
>> R> # col is a function, so not a good name
>> R> col <- colMeans(x)
>> R> mean(col)
>> [1] 0.5119
>> 
>> It's polite to include the list on your reply.
>> 
>> Sarah
>> 
>> On Wed, May 21, 2014 at 2:50 PM, Kate Ignatius <kate.ignatius at gmail.com>
>> wrote:
>>> That didn't work: gave me the error =
>>> 
>>> [1] NA
>>> Warning message:
>>> In mean.default(col) : argument is not numeric or logical: returning NA
>>> 
>>> But writing it like: mean(colMeans(x, na.rm = TRUE, dims = 1)), worked
>>> 
>>> Thanks!
>>> 
>>> On Wed, May 21, 2014 at 2:31 PM, Sarah Goslee
>> <sarah.goslee at gmail.com> wrote:
>>>> Is
>>>> 
>>>> mean(col)
>>>> 
>>>> not what you're looking for?
>>>> 
>>>> Sarah
>>>> 
>>>> On Wed, May 21, 2014 at 2:26 PM, Kate Ignatius
>> <kate.ignatius at gmail.com> wrote:
>>>>> Hi All,
>>>>> 
>>>>> I've successfully gotten out the colMeans for 60 columns using:
>>>>> 
>>>>> col <- colMeans(x, na.rm = TRUE, dims = 1)
>>>>> 
>>>>> My next question is: is there a way of getting a mean of all the
>>>>> column means (ie a mean of a mean)?
>>>>> 
>>>>> Thanks!
>>>>> 
>> 
>> --
>> Sarah Goslee
>> http://www.functionaldiversity.org
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r.turner at auckland.ac.nz  Wed May 21 23:07:00 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 22 May 2014 09:07:00 +1200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
	<537BFAE1.3050603@auckland.ac.nz>
	<CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>
Message-ID: <537D1574.1030303@auckland.ac.nz>

On 21/05/14 23:34, Raphael P?bst wrote:
> I believe you are right. A night of sleep has done wonders for my
> understanding of the problem.

Oh sleep it is a gentle thing
Beloved from pole to pole!

> Thank you for your patience and help!

Patience?  Moi?  This must be some new use of the word "patience" with 
which I am not familiar! :-)

Glad your tessellations are working out.

cheers,

Rolf


From pdalgd at gmail.com  Wed May 21 23:25:25 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 21 May 2014 23:25:25 +0200
Subject: [R] approxfun question
In-Reply-To: <CAM==DOeuNLAucogdyZiuU+Btbcu8YZgHxVUU1no-7QcUCpJoGg@mail.gmail.com>
References: <CAM==DOeuNLAucogdyZiuU+Btbcu8YZgHxVUU1no-7QcUCpJoGg@mail.gmail.com>
Message-ID: <3FA5C661-57E6-4E53-9E89-804753983191@gmail.com>


On 21 May 2014, at 22:31 , Helio Camargo <heliocamargo at gmail.com> wrote:

> Sorry for the naive question, but is it actually possible do SEE the
> approximation function y=f(x) in any of the output options of approxfun?

Yes and no...

> a <- approxfun(x, y, rule = 2:1)
> a
function (v) 
.approxfun(x, y, v, method, yleft, yright, f)
<bytecode: 0x1159f1118>
<environment: 0x1017ec630>
> ls(environment(a), all=TRUE)
[1] "f"      "method" "x"      "y"      "yleft"  "yright"
> stats:::.approxfun
function (x, y, v, method, yleft, yright, f) 
.Call(C_Approx, x, y, v, method, yleft, yright, f)
<bytecode: 0x1155a91f0>

and if you dig a little deeper, you find that the call to C_approx is also the content of approx() once all the initial "red tape" is peeled off. So the function is really not much different from a call to approx() using the arguments that were saved at the creation of the function.



> 
> Cheers,
> 
> --
> Helio
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jim at bitwrit.com.au  Thu May 22 00:44:34 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Thu, 22 May 2014 08:44:34 +1000
Subject: [R] Groupwise sum
In-Reply-To: <1400659166.15429.YahooMailNeo@web192603.mail.sg3.yahoo.com>
References: <1400659166.15429.YahooMailNeo@web192603.mail.sg3.yahoo.com>
Message-ID: <5132034.j15QyA5ehS@localhost.localdomain>

On Wed, 21 May 2014 03:59:26 PM Anna Carter wrote:
> Dear R forum,
> 
> I have following data.frame -
> 
> my_dat = data.frame(sr = c(0,0,0,0, 1, 1, 1, 1, 2, 2, 2, 2), bond = 
c("A",
> "B", "B", "B", "A", "B", "B", "B", "A", "B", "B", "B"), cashflow = c(1000,
> 2000, 2000, 4000, 10, 200, 300, 100, 80, 40, 60, 120))
> > my_dat
> 
>    sr   bond  cashflow
> 1   0    A     1000
> 2   0    B     2000
> 3   0    B     2000
> 4   0    B     4000
> 5   1    A       10
> 6   1    B      200
> 7   1    B      300
> 8   1    B      100
> 9   2    A       80
> 10  2    B       40
> 11  2    B       60
> 12  2    B      120
> 
> The above data.frame is just an example. My original data is bit 
large. My
> requirement is for given sr no, I need to add the cashflow values, for 
each
> bond. Thus, I need the output (as a data.frame) as -
> 
> 
> # OUTPUT
> 
>   sr bond cashflow_total
> 1  0    A           1000
> 2  0    B           8000
> 3  1    A             10
> 4  1    B            600
> 5  2    A             80
> 6  2    B            220
> 
> My - code
> 
> my_dat$key = paste(my_dat$bond, my_dat$sr, sep = "_")
> cashflow_total = tapply(my_dat$cashflow, my_dat$key, sum)
> 
> > cashflow_total
> 
>  A_0  A_1  A_2  B_0  B_1  B_2 
> 1000   10   80 8000  600  220
> 
> How do maintain the original order of sr and bond as in my_dat 
data.frame
> and obtain the 
> 
> above OUTPUT?
> 
Hi Anna,
Try this:

aggregate(my_dat$cashflow,my_dat[c("bond","sr")],sum)

Jim


From hill0093 at umn.edu  Thu May 22 00:50:21 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 21 May 2014 15:50:21 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
References: <3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
Message-ID: <1400712621633-4691012.post@n4.nabble.com>

On the page listing all of the post topics and time last post it
says that this topic has a post at 6:05 am today, but
that post doesn't show up when I view this topic.
There must be some kind of programming error.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691012.html
Sent from the R help mailing list archive at Nabble.com.


From duermite at gmail.com  Thu May 22 00:34:58 2014
From: duermite at gmail.com (Liz Duermit)
Date: Wed, 21 May 2014 18:34:58 -0400
Subject: [R] Sizeplot Legend
Message-ID: <CACponrm7kE-0B=mTQ7UmPm6GHjK4v2kh0ZFDAVnkvRd30eoh7A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/3084c9f9/attachment.pl>

From jim at bitwrit.com.au  Thu May 22 01:49:02 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Thu, 22 May 2014 09:49:02 +1000
Subject: [R] Sizeplot Legend
In-Reply-To: <CACponrm7kE-0B=mTQ7UmPm6GHjK4v2kh0ZFDAVnkvRd30eoh7A@mail.gmail.com>
References: <CACponrm7kE-0B=mTQ7UmPm6GHjK4v2kh0ZFDAVnkvRd30eoh7A@mail.gmail.com>
Message-ID: <2700095.IrL46x22gD@localhost.localdomain>

On Wed, 21 May 2014 06:34:58 PM Liz Duermit wrote:
> I'm using the sizeplot() function from the plotrix package to plot 
binomial
> data in which there are a number of repeated values.
> 
> a portion of my data look like this:
> 
> mortality = c(1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1,
> 0, 0, 1, 0, 0, 1, 0, 1, 0)
> ww.max = c(4.0,  5.0,  3.0,  2.0,  2.5,  2.5, 10.0,  9.0,  2.0,  0.5,  4.0,
> 3.0,  5.0,  1.0,  4.0, 2.0,  4.0,  3.0,  2.0,  5.0,  6.0,  3.0,  4.0,  2.0,
> 3.0,  4.0,  4.0,  3.0,  5.0,  7.0)
> 
> I am using the following code for my graph:
> 
> sizeplot(ww.max, mortality, scale=1, pow=.75)
> 
> I would like to add a legend that indicates the relationship between 
size of
> the point and the number of repetitions, any suggestions?

Hi Liz,
This might be suitable, although I am not sure whether the calculation 
of "cex" is correct:

mortality<-c(1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 
 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0)
ww.max<-c(4.0,  5.0,  3.0,  2.0,  2.5,  2.5, 10.0,  
 9.0,  2.0,  0.5,  4.0,  3.0,  5.0,  1.0,  4.0, 2.0,  4.0, 
 3.0,  2.0,  5.0,  6.0,  3.0,  4.0,  2.0, 3.0,  4.0,  4.0,
 3.0,  5.0,  7.0)
# get a nicer plot area
x11(height=4)
sizeplot(ww.max, mortality, scale=1, pow=.75,
 ylim=c(-0.5,1.5),yaxt="n")
axis(2,at=0:1,labels=c("alive","dead"))
points(seq(7,9.5,by=0.5),rep(0.6,6),cex=(1:6)^0.8)
text(seq(7,9.5,by=0.5),0.35,1:6)

Jim


From sarah.goslee at gmail.com  Thu May 22 02:01:46 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Wed, 21 May 2014 20:01:46 -0400
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400712621633-4691012.post@n4.nabble.com>
References: <3648385.EsayWLG79T@localhost.localdomain>
	<1400479941314-4690805.post@n4.nabble.com>
	<2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
Message-ID: <CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>

Well, yes, and also a user error.

On Wed, May 21, 2014 at 6:50 PM, Hurr <hill0093 at umn.edu> wrote:
> On the page listing all of the post topics and time last post it
> says that this topic has a post at 6:05 am today, but
> that post doesn't show up when I view this topic.
> There must be some kind of programming error.
> Hurr

> --
> View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691012.html
> Sent from the R help mailing list archive at Nabble.com.

The programming error is in claiming that Nabble is the R-help list
mailing list archive.

The user error is expecting the R-help email list to know anything
about Nabble, and in relying on the Nabble interface instead of
actually joining the R-help email list. See the footer of this message
for information.

Sarah

-- 
Sarah Goslee
http://www.functionaldiversity.org


From smartpink111 at yahoo.com  Thu May 22 04:32:30 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 21 May 2014 19:32:30 -0700 (PDT)
Subject: [R] Groupwise sum
In-Reply-To: <5132034.j15QyA5ehS@localhost.localdomain>
References: <1400659166.15429.YahooMailNeo@web192603.mail.sg3.yahoo.com>
	<5132034.j15QyA5ehS@localhost.localdomain>
Message-ID: <1400725950.39364.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Hi Anna,

In addition, you may also try:
library(data.table)
dt1 <- data.table(my_dat, key=c('sr', 'bond'))
dt2 <- dt1[,list(cashflow_total=sum(cashflow)), by=c('sr','bond')]

A.K.


On Wednesday, May 21, 2014 6:46 PM, Jim Lemon <jim at bitwrit.com.au> wrote:
On Wed, 21 May 2014 03:59:26 PM Anna Carter wrote:
> Dear R forum,
> 
> I have following data.frame -
> 
> my_dat = data.frame(sr = c(0,0,0,0, 1, 1, 1, 1, 2, 2, 2, 2), bond = 
c("A",
> "B", "B", "B", "A", "B", "B", "B", "A", "B", "B", "B"), cashflow = c(1000,
> 2000, 2000, 4000, 10, 200, 300, 100, 80, 40, 60, 120))
> > my_dat
> 
>? ? sr?  bond? cashflow
> 1?  0? ? A? ?  1000
> 2?  0? ? B? ?  2000
> 3?  0? ? B? ?  2000
> 4?  0? ? B? ?  4000
> 5?  1? ? A? ? ?  10
> 6?  1? ? B? ? ? 200
> 7?  1? ? B? ? ? 300
> 8?  1? ? B? ? ? 100
> 9?  2? ? A? ? ?  80
> 10? 2? ? B? ? ?  40
> 11? 2? ? B? ? ?  60
> 12? 2? ? B? ? ? 120
> 
> The above data.frame is just an example. My original data is bit 
large. My
> requirement is for given sr no, I need to add the cashflow values, for 
each
> bond. Thus, I need the output (as a data.frame) as -
> 
> 
> # OUTPUT
> 
>?  sr bond cashflow_total
> 1? 0? ? A? ? ? ? ?  1000
> 2? 0? ? B? ? ? ? ?  8000
> 3? 1? ? A? ? ? ? ? ?  10
> 4? 1? ? B? ? ? ? ? ? 600
> 5? 2? ? A? ? ? ? ? ?  80
> 6? 2? ? B? ? ? ? ? ? 220
> 
> My - code
> 
> my_dat$key = paste(my_dat$bond, my_dat$sr, sep = "_")
> cashflow_total = tapply(my_dat$cashflow, my_dat$key, sum)
> 
> > cashflow_total
> 
>? A_0? A_1? A_2? B_0? B_1? B_2 
> 1000?  10?  80 8000? 600? 220
> 
> How do maintain the original order of sr and bond as in my_dat 
data.frame
> and obtain the 
> 
> above OUTPUT?
> 
Hi Anna,
Try this:

aggregate(my_dat$cashflow,my_dat[c("bond","sr")],sum)

Jim

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From duermite at gmail.com  Thu May 22 04:38:13 2014
From: duermite at gmail.com (Liz Duermit)
Date: Wed, 21 May 2014 22:38:13 -0400
Subject: [R] Sizeplot Legend
In-Reply-To: <2700095.IrL46x22gD@localhost.localdomain>
References: <CACponrm7kE-0B=mTQ7UmPm6GHjK4v2kh0ZFDAVnkvRd30eoh7A@mail.gmail.com>
	<2700095.IrL46x22gD@localhost.localdomain>
Message-ID: <CACponrkaWdBi67TtOkPY7QeJS5SostrP0cgWcihZTG+R4mrYzA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/1b47847f/attachment.pl>

From 538280 at gmail.com  Thu May 22 04:41:18 2014
From: 538280 at gmail.com (Greg Snow)
Date: Wed, 21 May 2014 20:41:18 -0600
Subject: [R] Large matrices and pairs/ggpairs
In-Reply-To: <537B65F5.7020402@uni-bremen.de>
References: <537B65F5.7020402@uni-bremen.de>
Message-ID: <CAFEqCdwFRYDkP_w+S2rbd9Fjd8Qzj-rGHE7E1OmB5BAnu7ZyLg@mail.gmail.com>

You can specify whatever plotting size you want for graphics devices,
so for example you could send the plot to a pdf device set up as A0 or
other poster size.  Then you just have the challenge of finding a
place to print it.

The pairs2 function in the TeachingDemos package will create pairs
like plots for subsets where the subset for the rows is different from
the subset for the columns.  So for example you could do something
like:

library(TeachingDemos)

pairs( mydata[,1:5])
pairs( mydata[, 6:10] )
pairs2( mydata[,1:5], mydata[,6:10 )
pairs2( mydata[,6:10], mydata[,1:5] )

then print out the 4 graphs and arrange them in a 2x2 grid to get an
overall 10x10 pairs plot.  Expand this more and you can create a nice
poster of all 40x40 plots of interest.  I used 5x5 for each pairs
plot, but you can choose what makes the most sense for your data.




On Tue, May 20, 2014 at 8:25 AM, Tim Richter-Heitmann
<trichter at uni-bremen.de> wrote:
> Hi there,
>
> i recently started to learn R to deal  with a huge data matrix to deal
> with with ecological data (about 40 observations in 360 samples, divided
> in 7 groups of similar samples). I want to do a simple pairs or ggpairs:
>
> pairs(mydata, pch=20, col=brewer.pal(7, "Dark2")[unclass(all$group)])
>
> ggpairs(mydata, colour="group") (preferred)
>
>
>
> Of course, the plot margins are way to small to produce a 40x40 plot
> matrix (or is there a way to create poster-sized plots?), so i need to
> produce 39 x,y scatter-plots for each single column and arrange them
> somehow. Is there a way to do it automatically (without creating 39
> single plots one by one?)
> Another option would be to only show plots with x,y pairs with
> correlation values above a certain treshold (i would need to create the
> cor-matrix first and identify those highly correlated pairs by myself,
> correct, or is there a way to tell R to do that?)
> And finally, ggpairs is giving me fits because the font size of the
> upper part does not change despite me trying to tell R to do so
> (params=list(corSize=10) or just params=list(Size=10) or
> upper=list(params=c(Size=10)).
>
>
> As i said i am a beginner and hopefully my questions are not too stupid.
>
> --
> Tim Richter-Heitmann (M.Sc.)
> PhD Candidate
>
>
>
> International Max-Planck Research School for Marine Microbiology
> University of Bremen
> Microbial Ecophysiology Group (AG Friedrich)
> FB02 - Biologie/Chemie
> Leobener Stra?e (NW2 A2130)
> D-28359 Bremen
> Tel.: 0049(0)421 218-63062
> Fax: 0049(0)421 218-63069
>
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From frtog at vestas.com  Thu May 22 07:24:15 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Thu, 22 May 2014 07:24:15 +0200
Subject: [R] approxfun question
In-Reply-To: <CAM==DOeuNLAucogdyZiuU+Btbcu8YZgHxVUU1no-7QcUCpJoGg@mail.gmail.com>
References: <CAM==DOeuNLAucogdyZiuU+Btbcu8YZgHxVUU1no-7QcUCpJoGg@mail.gmail.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C6241008@DKRDSEXC016.vestas.net>

Like this:

> x <- 1:10
> y <- rnorm(10)
> f <- approxfun(x, y)
> f
function (v) 
.approxfun(x, y, v, method, yleft, yright, f)
<bytecode: 0x000000000cd7a340>
<environment: 0x000000000cd79a38>

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Helio Camargo
> Sent: 21. maj 2014 22:32
> To: r-help at r-project.org
> Subject: [R] approxfun question
> 
> Sorry for the naive question, but is it actually possible do SEE the
> approximation function y=f(x) in any of the output options of approxfun?
> 
> Cheers,
> 
> --
> Helio
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From rh at knut-krueger.de  Thu May 22 08:10:37 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Thu, 22 May 2014 08:10:37 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537B8ACD.3080204@gmail.com>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>	<537B7D0F.2050607@knut-krueger.de>
	<537B8ACD.3080204@gmail.com>
Message-ID: <537D94DD.2050102@knut-krueger.de>

Am 20.05.2014 19:03, schrieb Duncan Murdoch:

> I have no idea what you mean by a "callback from utils".

clipboard {utils}
 >  readClipboard
function (format = 1L, raw = FALSE)
.Call(C_readClipboard, format, raw)
<bytecode: 0x080d6c20>
<environment: namespace:utils>
 >
I do not know whether it is an real callback or a normal call to an C 
subroutine
https://en.wikipedia.org/wiki/Callback_%28computer_programming%29Knut


From rh at knut-krueger.de  Thu May 22 08:15:20 2014
From: rh at knut-krueger.de (Knut Krueger)
Date: Thu, 22 May 2014 08:15:20 +0200
Subject: [R] \ escape sequence and windows path
In-Reply-To: <537D94DD.2050102@knut-krueger.de>
References: <537B3054.6040403@knut-krueger.de>	<AEBF773C-DEA7-4424-A31C-A15B7044A8C6@gmail.com>	<ce2c2d82-56e4-405c-8691-4fcde78149f7@email.android.com>	<537B6C8E.1090603@knut-krueger.de>	<CACk-te32U2w5qajne-Q1nUEHzqU2UuYEEoa68Ft5EDurBW_+oQ@mail.gmail.com>	<537B7D0F.2050607@knut-krueger.de>	<537B8ACD.3080204@gmail.com>
	<537D94DD.2050102@knut-krueger.de>
Message-ID: <537D95F8.2090207@knut-krueger.de>

Sorry
https://en.wikipedia.org/wiki/Callback_%28computer_programming%29
Knut


From freestym at gmail.com  Wed May 21 13:17:01 2014
From: freestym at gmail.com (=?UTF-8?Q?Martina_Marb=C3=A0?=)
Date: Wed, 21 May 2014 13:17:01 +0200
Subject: [R] Unsubscribe mailing list
Message-ID: <CABGpqKoKr-BLLs29=Q6O-D5QyjFGKW_faUJ85kYf2sc6MuodEw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140521/7ed7927a/attachment.pl>

From ragia11 at hotmail.com  Thu May 22 09:54:13 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Thu, 22 May 2014 09:54:13 +0200
Subject: [R] select randomly from a list
In-Reply-To: <mailman.26.1400666409.17616.r-help@r-project.org>
References: <mailman.26.1400666409.17616.r-help@r-project.org>
Message-ID: <DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/5b387760/attachment.pl>

From aguitatierra at hotmail.com  Thu May 22 10:05:48 2014
From: aguitatierra at hotmail.com (Beatriz R. Gonzalez Dominguez)
Date: Thu, 22 May 2014 10:05:48 +0200
Subject: [R] Combine factorial column intp a new column
Message-ID: <BLU436-SMTP140CA6A517A164B12AF9114D93F0@phx.gbl>

Dear R-users,

I'd be very greatful if you could help me with the following as after a 
few tests I haven't still been able to get the right outcome.

I've got this data:
dd_1 <- data.frame(ID = c("1","2", "3", "4", "5"),
                  Class_a = c("a",NA, "a", NA, NA),
                  Class_b = c(NA, "b", "b", "b", "b"))

And I'd like to produce a new column 'CLASS':
dd_2 <- data.frame(ID = c("1","2", "3", "4", "5"),
                  Class_a = c("a",NA, "a", NA, NA),
                  Class_b = c(NA, "b", "b", "b", "b"),
                  CLASS = c("a", "b", "a-b", "b", "b"))

Thanks a lot!


From smartpink111 at yahoo.com  Thu May 22 10:32:05 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 01:32:05 -0700 (PDT)
Subject: [R] Unsubscribe mailing list
In-Reply-To: <CABGpqKoKr-BLLs29=Q6O-D5QyjFGKW_faUJ85kYf2sc6MuodEw@mail.gmail.com>
References: <CABGpqKoKr-BLLs29=Q6O-D5QyjFGKW_faUJ85kYf2sc6MuodEw@mail.gmail.com>
Message-ID: <1400747525.97655.YahooMailNeo@web142602.mail.bf1.yahoo.com>



Hi,
Please use the link (https://stat.ethz.ch/mailman/listinfo/r-help) to unsubscribe.

A.K.


On Thursday, May 22, 2014 3:39 AM, Martina Marb? <freestym at gmail.com> wrote:
Hi,

I would like to unsubscribe from the mailing list.
Thanks

-- 
--
Martina Marb?

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Thu May 22 10:43:19 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 01:43:19 -0700 (PDT)
Subject: [R] Combine factorial column intp a new column
In-Reply-To: <BLU436-SMTP140CA6A517A164B12AF9114D93F0@phx.gbl>
References: <BLU436-SMTP140CA6A517A164B12AF9114D93F0@phx.gbl>
Message-ID: <1400748199.79480.YahooMailNeo@web142603.mail.bf1.yahoo.com>



Hi,
May be this helps:
?ddNew <-? transform(dd_1, CLASS= gsub("NA-|-NA","",paste(Class_a, Class_b, sep="-")))
?identical(ddNew, dd_2)
#[1] TRUE
A.K.


On Thursday, May 22, 2014 4:07 AM, Beatriz R. Gonzalez Dominguez <aguitatierra at hotmail.com> wrote:
Dear R-users,

I'd be very greatful if you could help me with the following as after a 
few tests I haven't still been able to get the right outcome.

I've got this data:
dd_1 <- data.frame(ID = c("1","2", "3", "4", "5"),
? ? ? ? ? ? ? ? ? Class_a = c("a",NA, "a", NA, NA),
? ? ? ? ? ? ? ? ? Class_b = c(NA, "b", "b", "b", "b"))

And I'd like to produce a new column 'CLASS':
dd_2 <- data.frame(ID = c("1","2", "3", "4", "5"),
? ? ? ? ? ? ? ? ? Class_a = c("a",NA, "a", NA, NA),
? ? ? ? ? ? ? ? ? Class_b = c(NA, "b", "b", "b", "b"),
? ? ? ? ? ? ? ? ? CLASS = c("a", "b", "a-b", "b", "b"))

Thanks a lot!

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Thu May 22 10:56:21 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 01:56:21 -0700 (PDT)
Subject: [R] select randomly from a list
In-Reply-To: <DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
References: <mailman.26.1400666409.17616.r-help@r-project.org>
	<DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
Message-ID: <1400748981.95056.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,

I am not sure I understand the problem.? Please provide a reproducible example using ?dput().

mylist <- list(1:3, LETTERS[1:2], rnorm(4))
sample(mylist,1)
sample(mylist,1)

?mylist1 <- list(1:2)
sample(mylist1,1)
#[[1]]
#[1] 1 2

?sample(mylist1,1)
#[[1]]
#[1] 1 2
A.K.




On Thursday, May 22, 2014 3:55 AM, Ragia Ibrahim <ragia11 at hotmail.com> wrote:
Hi,
kindly I want to select randomly and item from list of items. the list generated in a looping process. 
I used sample(mylist,1) it works fine. BUTsome times the list have only one item. that should be chosen in this case since there is no other one.
I found that sample return different item not included in the list
thanks in advance
RAE
??? ???  ??? ?  ??? ??? ? 
??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Thu May 22 11:05:53 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Thu, 22 May 2014 19:05:53 +1000
Subject: [R] select randomly from a list
In-Reply-To: <DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
References: <mailman.26.1400666409.17616.r-help@r-project.org>
	<DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
Message-ID: <5388814.RVmoWXhtcA@localhost.localdomain>

On Thu, 22 May 2014 09:54:13 AM Ragia Ibrahim wrote:
> Hi,
> kindly I want to select randomly and item from list of items. the list
> generated in a looping process. I used sample(mylist,1) it works fine.
> BUTsome times the list have only one item. that should be chosen in 
this
> case since there is no other one. I found that sample return different 
item
> not included in the list thanks in advance
> RAE
> 
Hi RAE,
This doesn't happen in an example like this:

for(i in 1:5) {
 testlist<-list()
 for(j in 1:i) testlist[[j]]<-sample(LETTERS[1:26],1)
 cat("list is\n")
 print(testlist)
 cat("sample is\n")
 print(sample(testlist,1))
}

How are you generating your lists?

Jim


From smartpink111 at yahoo.com  Thu May 22 11:08:08 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 02:08:08 -0700 (PDT)
Subject: [R] Mean of colMeans
In-Reply-To: <3F21933D-FDCF-4E32-97A4-E594F9D0FC98@utoronto.ca>
References: <CAE6QMsbZOJqfWO78SCAUhsvSvrpRFYXWtd3f6bVj8Mxcx_3gBw@mail.gmail.com>	<CAM_vjukqv8=hvuyD5Mb=KFYrJMJKnmCCCff3ffY158CUTYhpuw@mail.gmail.com>	<CAE6QMsa3no_wmbJFsyhSD_CdRnqHh7O3CuOOQg6joVjL_fe8aA@mail.gmail.com>	<CAM_vjun10=b4mJCfuxm+1LZovsVWz9ooEFp6Fd-rgtALC=01=Q@mail.gmail.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C6240FAD@DKRDSEXC016.vestas.net>
	<3F21933D-FDCF-4E32-97A4-E594F9D0FC98@utoronto.ca>
Message-ID: <1400749688.78006.YahooMailNeo@web142606.mail.bf1.yahoo.com>



?Also, the ?colMeans() route seems to be slightly faster (in cases with no missing values).
set.seed(398)
x <- matrix(rnorm(1e4*2e4), ncol=2e4)

?system.time(res1 <- mean(colMeans(x)))
?# user? system elapsed 
?#0.227?? 0.000?? 0.227 



?system.time(res2 <- mean(x))
# user? system elapsed 
# 0.46??? 0.00??? 0.46 

all.equal(res1,res2)
#[1] TRUE

A.K.



On Wednesday, May 21, 2014 4:53 PM, Boris Steipe <boris.steipe at utoronto.ca> wrote:
Not necessarily. Missing values may base the means on unequal numbers of observation:

x <- c(1,1,1,2,NA,2)
dim(x) <- c(3,2)
cM <- colMeans(x, na.rm = TRUE, dims = 1)
mean(cM)
mean(x, na.rm = TRUE)

B.

On 2014-05-21, at 3:38 PM, Frede Aakmann T?gersen wrote:

> Hhhhmmmmmmhhhm, but is that not the same as
> 
> mean(as.matrix(x))
> 
> ?????
> 
> Yours sincerely / Med venlig hilsen
> 
> 
> Frede Aakmann T?gersen
> Specialist, M.Sc., Ph.D.
> Plant Performance & Modeling
> 
> Technology & Service Solutions
> T +45 9730 5135
> M +45 2547 6050
> frtog at vestas.com
> http://www.vestas.com
> 
> Company reg. name: Vestas Wind Systems A/S
> This e-mail is subject to our e-mail disclaimer statement.
> Please refer to www.vestas.com/legal/notice
> If you have received this e-mail in error please contact the sender. 
> 
> 
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
>> On Behalf Of Sarah Goslee
>> Sent: 21. maj 2014 21:11
>> To: Kate Ignatius; r-help
>> Subject: Re: [R] Mean of colMeans
>> 
>> That would be because col is a function in base R, and thus a poor
>> choice of names for user objects. Nonetheless, it worked when I ran
>> it, but you didn't provide reproducible example so who knows.
>> 
>> R> set.seed(1)
>> R> x <- data.frame(matrix(runif(150), ncol=10))
>> R> # col is a function, so not a good name
>> R> col <- colMeans(x)
>> R> mean(col)
>> [1] 0.5119
>> 
>> It's polite to include the list on your reply.
>> 
>> Sarah
>> 
>> On Wed, May 21, 2014 at 2:50 PM, Kate Ignatius <kate.ignatius at gmail.com>
>> wrote:
>>> That didn't work: gave me the error =
>>> 
>>> [1] NA
>>> Warning message:
>>> In mean.default(col) : argument is not numeric or logical: returning NA
>>> 
>>> But writing it like: mean(colMeans(x, na.rm = TRUE, dims = 1)), worked
>>> 
>>> Thanks!
>>> 
>>> On Wed, May 21, 2014 at 2:31 PM, Sarah Goslee
>> <sarah.goslee at gmail.com> wrote:
>>>> Is
>>>> 
>>>> mean(col)
>>>> 
>>>> not what you're looking for?
>>>> 
>>>> Sarah
>>>> 
>>>> On Wed, May 21, 2014 at 2:26 PM, Kate Ignatius
>> <kate.ignatius at gmail.com> wrote:
>>>>> Hi All,
>>>>> 
>>>>> I've successfully gotten out the colMeans for 60 columns using:
>>>>> 
>>>>> col <- colMeans(x, na.rm = TRUE, dims = 1)
>>>>> 
>>>>> My next question is: is there a way of getting a mean of all the
>>>>> column means (ie a mean of a mean)?
>>>>> 
>>>>> Thanks!
>>>>> 
>> 
>> --
>> Sarah Goslee
>> http://www.functionaldiversity.org
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.

> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From kuldeep.singh at rockwellcollins.com  Thu May 22 10:45:28 2014
From: kuldeep.singh at rockwellcollins.com (Kuldeep Singh)
Date: Thu, 22 May 2014 14:15:28 +0530
Subject: [R] Unsubscribe mailing list
In-Reply-To: <CABGpqKoKr-BLLs29=Q6O-D5QyjFGKW_faUJ85kYf2sc6MuodEw@mail.gmail.com>
References: <CABGpqKoKr-BLLs29=Q6O-D5QyjFGKW_faUJ85kYf2sc6MuodEw@mail.gmail.com>
Message-ID: <CAK+3jh3sYO6T9w22ADhsG0_dsU0G4PGYkPzRxpKnF9f7d6mWnw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/ee815131/attachment.pl>

From bbukar at nda.edu.ng  Thu May 22 11:38:59 2014
From: bbukar at nda.edu.ng (Baba Bukar)
Date: Thu, 22 May 2014 10:38:59 +0100
Subject: [R] HMM states simulation
Message-ID: <CAHYO52ccCX7wKOJ1g93L8S4-iK4zvYiwibvszVCXETJjpMhsmw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/e49ecbda/attachment.pl>

From pdalgd at gmail.com  Thu May 22 11:50:39 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 22 May 2014 11:50:39 +0200
Subject: [R] select randomly from a list
In-Reply-To: <5388814.RVmoWXhtcA@localhost.localdomain>
References: <mailman.26.1400666409.17616.r-help@r-project.org>
	<DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
	<5388814.RVmoWXhtcA@localhost.localdomain>
Message-ID: <C6A63DDA-0AFA-415F-9D53-4584F169ED8D@gmail.com>

It's a well known quirk of sample that it changes behavior when the x argument has length 1:

> replicate(10,sample(4:5, 1))
 [1] 5 4 5 4 5 4 5 4 4 4
> replicate(10,sample(5:5, 1))
 [1] 5 3 1 1 1 2 5 3 2 2

One workaround is to zap the offending branch inside sample:

> Sample <- function (x, size, replace = FALSE, prob = NULL) 
       x[sample.int(length(x), size, replace, prob)]
> replicate(10,Sample(5:5, 1))
 [1] 5 5 5 5 5 5 5 5 5 5

(It's one of the cases of misguided user-friendliness that is probably long regretted by its authors, but has been around for so long that it is painful to change because code relies on the current behavior. A similar case is diag().)

-pd

On 22 May 2014, at 11:05 , Jim Lemon <jim at bitwrit.com.au> wrote:

> On Thu, 22 May 2014 09:54:13 AM Ragia Ibrahim wrote:
>> Hi,
>> kindly I want to select randomly and item from list of items. the list
>> generated in a looping process. I used sample(mylist,1) it works fine.
>> BUTsome times the list have only one item. that should be chosen in 
> this
>> case since there is no other one. I found that sample return different 
> item
>> not included in the list thanks in advance
>> RAE
>> 
> Hi RAE,
> This doesn't happen in an example like this:
> 
> for(i in 1:5) {
> testlist<-list()
> for(j in 1:i) testlist[[j]]<-sample(LETTERS[1:26],1)
> cat("list is\n")
> print(testlist)
> cat("sample is\n")
> print(sample(testlist,1))
> }
> 
> How are you generating your lists?
> 
> Jim
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From careyshan at gmail.com  Thu May 22 11:50:39 2014
From: careyshan at gmail.com (Shane Carey)
Date: Thu, 22 May 2014 10:50:39 +0100
Subject: [R] Boxplot colors
Message-ID: <CA+jRDxCbn4fd_HgReQ=BiiSXUusFQK_6=nxs681U4YHPmhJsiw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/90821d4d/attachment.pl>

From ashisdeb83 at gmail.com  Thu May 22 11:53:22 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Thu, 22 May 2014 02:53:22 -0700
Subject: [R] K-mean Clustering URL's and ranking them according to there
 recent visit .
Message-ID: <CAFcJUTruaQKMWiqxSH1_uohijvbAdE=MhH6bSXL-PfcKg4tb+A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/c3b8872c/attachment.pl>

From letter at openmailbox.org  Thu May 22 12:28:41 2014
From: letter at openmailbox.org (message)
Date: Thu, 22 May 2014 10:28:41 +0000
Subject: [R] solve scalar linear equation
In-Reply-To: <mailman.31.1400580008.2663.r-help@r-project.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
Message-ID: <175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>

On 2014-05-20 10:00, r-help-request at r-project.org wrote:
> ------------------------------
> 
> Message: 32
> Date: Mon, 19 May 2014 23:04:27 +0100
> From: Rui Barradas <ruipbarradas at sapo.pt>
> To: message <letter at openmailbox.org>, r-help at r-project.org
> 
> uniroot(function(x) 5*x - 55, c(0, 20))
> 

Why does this instruction fail if the interval is changed?

> uniroot(function(x) 5*x - 55, c(0, 10))
Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
   f() values at end points not of opposite sign


From hill0093 at umn.edu  Thu May 22 12:31:02 2014
From: hill0093 at umn.edu (Hurr)
Date: Thu, 22 May 2014 03:31:02 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
References: <2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
Message-ID: <1400754662955-4691042.post@n4.nabble.com>

Sorry, I don't know enough about R to understand what you said. 
But I don't think I need to understand it.
And secondly, my reason for my stupid recent post about not finding a 
recent post was that I didn't notice that there was a little "1  2" in 
the lower right hand corner meaning that I had to select a second page.
I think it is better to start a new thread when 
that happens so others will see my post too.
Hurr



--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691042.html
Sent from the R help mailing list archive at Nabble.com.


From bhh at xs4all.nl  Thu May 22 13:00:57 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 22 May 2014 13:00:57 +0200
Subject: [R] solve scalar linear equation
In-Reply-To: <175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
Message-ID: <CFFCE9F1-ECBF-408D-AC16-3C644C004E9C@xs4all.nl>


On 22-05-2014, at 12:28, message <letter at openmailbox.org> wrote:

> On 2014-05-20 10:00, r-help-request at r-project.org wrote:
>> ------------------------------
>> Message: 32
>> Date: Mon, 19 May 2014 23:04:27 +0100
>> From: Rui Barradas <ruipbarradas at sapo.pt>
>> To: message <letter at openmailbox.org>, r-help at r-project.org
>> uniroot(function(x) 5*x - 55, c(0, 20))
> 
> Why does this instruction fail if the interval is changed?
> 
>> uniroot(function(x) 5*x - 55, c(0, 10))
> Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
>  f() values at end points not of opposite sign
> 

I don?t believe this.
The error message says it all.

5*0-55 ==> -55
5*10-55 ==> -5

See the Details section of the uniroot documentation.

Berend

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ruipbarradas at sapo.pt  Thu May 22 13:44:02 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 22 May 2014 12:44:02 +0100
Subject: [R] solve scalar linear equation
In-Reply-To: <175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
Message-ID: <537DE302.1020904@sapo.pt>

Hello,

Because there is no root of that function in the interval c(0, 10). Just 
like the error message says.

Rui Barradas

Em 22-05-2014 11:28, message escreveu:
> On 2014-05-20 10:00, r-help-request at r-project.org wrote:
>> ------------------------------
>>
>> Message: 32
>> Date: Mon, 19 May 2014 23:04:27 +0100
>> From: Rui Barradas <ruipbarradas at sapo.pt>
>> To: message <letter at openmailbox.org>, r-help at r-project.org
>>
>> uniroot(function(x) 5*x - 55, c(0, 20))
>>
>
> Why does this instruction fail if the interval is changed?
>
>> uniroot(function(x) 5*x - 55, c(0, 10))
> Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
>    f() values at end points not of opposite sign
>


From boris.steipe at utoronto.ca  Thu May 22 14:17:54 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Thu, 22 May 2014 08:17:54 -0400
Subject: [R] select randomly from a list
In-Reply-To: <5388814.RVmoWXhtcA@localhost.localdomain>
References: <mailman.26.1400666409.17616.r-help@r-project.org>
	<DUB125-W5497FAB0319E0FE6E84A8CB33F0@phx.gbl>
	<5388814.RVmoWXhtcA@localhost.localdomain>
Message-ID: <99DA4375-05BB-49D3-B781-4B861626C353@utoronto.ca>

You are probably encountering an annoying behaviour of sample(): when it is given exactly one integer as an argument, it takes this as the upper limit of a range.

a <- c(3,5)
sample(a,10, replace=TRUE)
#[1] 5 5 3 3 3 3 3 3 3 5


a <- c(5)
sample(a,10, replace=TRUE)
#[1] 2 1 3 1 1 3 4 5 1 4

#i.e. this is the same as 
sample(1:5,10, replace=TRUE)

#An easy way to catch this is:

if (length(a) > 1) sample(a,1) else a 



Boris



On 2014-05-22, at 5:05 AM, Jim Lemon wrote:

> On Thu, 22 May 2014 09:54:13 AM Ragia Ibrahim wrote:
>> Hi,
>> kindly I want to select randomly and item from list of items. the list
>> generated in a looping process. I used sample(mylist,1) it works fine.
>> BUTsome times the list have only one item. that should be chosen in 
> this
>> case since there is no other one. I found that sample return different 
> item
>> not included in the list thanks in advance
>> RAE
>> 
> Hi RAE,
> This doesn't happen in an example like this:
> 
> for(i in 1:5) {
> testlist<-list()
> for(j in 1:i) testlist[[j]]<-sample(LETTERS[1:26],1)
> cat("list is\n")
> print(testlist)
> cat("sample is\n")
> print(sample(testlist,1))
> }
> 
> How are you generating your lists?
> 
> Jim
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jwm302 at gmail.com  Thu May 22 13:40:22 2014
From: jwm302 at gmail.com (Justin Michell)
Date: Thu, 22 May 2014 13:40:22 +0200
Subject: [R] Non-convergence in boot.stepAIC function with a logit model
Message-ID: <C7CEC3FD-3CB7-4244-9540-C569B41C85B3@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/24a8f444/attachment.pl>

From vweinbir at gmail.com  Thu May 22 14:10:21 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Thu, 22 May 2014 14:10:21 +0200
Subject: [R] Metafor: How to integrate effectsizes?
In-Reply-To: <Zen-1Whiwx-00093M-0m@smarthost01d.mail.zen.net.uk>
References: <CAMuCtg627YQ-mArR1RWWM-xm6M5BV0j4WatLFq=3iSLnq3AhwQ@mail.gmail.com>
	<CAMuCtg7ypqrSqBboJBa-YSO28+9Hdw2W7U-WVchKUSfXuBQCvw@mail.gmail.com>
	<Zen-1WdeCc-0007OW-6m@smarthost01b.mail.zen.net.uk>
	<CAMuCtg7Xsvypi48xjAPGePZsTKOf7dz4Y2w1Px1OCf7p7FNKDg@mail.gmail.com>
	<Zen-1Wdh1f-000AIS-Ux@smarthost01c.mail.zen.net.uk>
	<077E31A57DA26E46AB0D493C9966AC730DAA4F3A14@UM-MAIL4112.unimaas.nl>
	<Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
	<CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>
	<077E31A57DA26E46AB0D493C9966AC730DAA8436C1@UM-MAIL4112.unimaas.nl>
	<Zen-1Whiwx-00093M-0m@smarthost01d.mail.zen.net.uk>
Message-ID: <CAMuCtg5041dL5TEOaopCrf+TeQBBbDmcspD=n=VLRyj6LsNrog@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/02346f6f/attachment.pl>

From letter at openmailbox.org  Thu May 22 14:35:15 2014
From: letter at openmailbox.org (message)
Date: Thu, 22 May 2014 12:35:15 +0000
Subject: [R] solve scalar linear equation
In-Reply-To: <CFFCE9F1-ECBF-408D-AC16-3C644C004E9C@xs4all.nl>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
	<CFFCE9F1-ECBF-408D-AC16-3C644C004E9C@xs4all.nl>
Message-ID: <dbdc3bb17b018b140e1d9f70c21540b0@openmailbox.org>

On 2014-05-22 11:00, Berend Hasselman wrote:
>> 
>>> uniroot(function(x) 5*x - 55, c(0, 10))
>> Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
>>  f() values at end points not of opposite sign
>> 
> 
> I don?t believe this.
> The error message says it all.
> 
> 5*0-55 ==> -55
> 5*10-55 ==> -5
> 

The error states "opposite sign", which suggests to a rudimentary novice 
that end points (0 and 10, or 0 and 20) must give results of the 
function such that one value is negative, another value is positive. Or 
is this interpretation wrong?

> See the Details section of the uniroot documentation.
> 

The documentation states that the upper end point (in this example 10, 
or 20) must be strictly larger than the lower point (0). What is being 
mis-understood please?


From jdnewmil at dcn.davis.CA.us  Thu May 22 14:37:18 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Thu, 22 May 2014 05:37:18 -0700
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400754662955-4691042.post@n4.nabble.com>
References: <2769064.n4pP2Haier@localhost.localdomain>
	<1400502200111-4690819.post@n4.nabble.com>
	<9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
Message-ID: <6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>

Sarah's perhaps-too-clever comments had nothing to do with R, and everything to do with the fact that Nabble misleadingly suggests to you that this mailing list is hosted at their website. Very few of the participants on this EMAIL LIST use Nabble, so we don't have any idea about the troubles you may be having or the web page buttons you write about, and your mention of these issues is OFF TOPIC. Please read the Posting Guide.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 22, 2014 3:31:02 AM PDT, Hurr <hill0093 at umn.edu> wrote:
>Sorry, I don't know enough about R to understand what you said. 
>But I don't think I need to understand it.
>And secondly, my reason for my stupid recent post about not finding a 
>recent post was that I didn't notice that there was a little "1  2" in 
>the lower right hand corner meaning that I had to select a second page.
>I think it is better to start a new thread when 
>that happens so others will see my post too.
>Hurr
>
>
>
>--
>View this message in context:
>http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691042.html
>Sent from the R help mailing list archive at Nabble.com.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From marongiu.luigi at gmail.com  Thu May 22 14:43:23 2014
From: marongiu.luigi at gmail.com (Luigi Marongiu)
Date: Thu, 22 May 2014 13:43:23 +0100
Subject: [R] multiple colour to symbols using brkdn.plot()
Message-ID: <CAMk+s2QzL-1d+Ut8Fk-dCUPn2=k4nRxGtM70jz8ZheDq25VLcQ@mail.gmail.com>

 Dear all,
I have been plotting response variable (defined as "y" in the example
below) from 4 groups (defined as "z" variable ) under 5 conditions
(defined by the "x" variable). The formula used is: y ~ z+x.
I can differentiate the different z value using a call pch=c(symbol 1,
symbol 2, ...) but it would be even better to have different colours
for each of these symbols.
In analogy to the pch=c(symbol 1, symbol 2, ...) i have tired to
provide a bg(colour 1, colour 2, ...) but this give the colour to the
x variables rather than the z ones.
How can I give the colour to the z variables?

best regards,
Luigi


# code:
my.data<-structure(list(
  row = 1:60,
  x = c(
0, 0, 0, 1, 1, 1, 2, 2, 2,
3, 3, 3, 4, 4, 4, 0, 0, 0,
1, 1, 1, 2, 2, 2, 3, 3, 3,
4, 4, 4, 0, 0, 0, 1, 1, 1,
2, 2, 2, 3, 3, 3, 4, 4, 4,
3, 3, 3, 0, 0, 0, 1, 1, 1,
2, 2, 2, 3, 3, 3, 4, 4, 4),
  y = c(
2073.928223, 2131.830067, 2131.830067, 0.143912883,
2191.348468, 2073.928223, 2117.20479, 2017.59903, 1896.388977,
1976.358448, 2003.757427, 1883.378928, 2283.756186,
2363.732429, 2315.416732, 2206.485917, 2191.348468,
2176.314869, 1990.010783, 2059.700178, 1976.358448,
617.4528799, 613.2168858, 617.4528799, 1686.950197,
1819.655315, 1832.225173, 1480.122531, 1298.652866,
1212.260417, 495.3736815, 505.7106218, 538.0337432,
383.9842946, 365.919416, 330.0195927, 505.7106218,
541.7503854, 498.7956356, 512.7214729, 584.3675585,
564.5956413, 604.8318804, 604.8318804, 592.4688595,
1272.107849, 1298.652866, 1298.652866, 1935.96084,
2088.254554, 1962.799773, 4452.994159, 4422.444691,
4128.243033, 312.3359691, 316.6659968, 332.2993098,
1500.642011, 1531.95584, 1430.042989),
  z = c(
0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2,
3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3)),
 row.names = c(NA, -60L),  class = "data.frame")
attach(my.data)
### *** PLOT DATA *** ###
# open library
 library(plotrix)
par(mfrow = c(1, 2))
brkdn.plot(
  y ~ z+x,data=my.data, mct="mean", md="sd",
  stagger=NA, dispbar=TRUE,
  type="p", pch=c(0, 1, 2, 5),
  main="z indicated by symbol ",
  xlab=expression(bold("x")),
  ylab=expression(bold("y"))
 )
brkdn.plot(
  y ~ z+x,data=my.data, mct="mean", md="sd",
  stagger=NA, dispbar=TRUE,
  type="p", pch=c(21, 21, 21, 21), bg=c("blue", "green", "red", "orange"),
  main="z indicated by colour (???)",
  xlab=expression(bold("x")),
  ylab=expression(bold("y"))
 )


From murdoch.duncan at gmail.com  Thu May 22 14:44:25 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 22 May 2014 08:44:25 -0400
Subject: [R] How to compute a P-value for a complex mixture of
 chi-squared distributions in R
In-Reply-To: <53978.201.81.178.2.1370060787.squirrel@webmail.mbe.bio.br>
References: <53978.201.81.178.2.1370060787.squirrel@webmail.mbe.bio.br>
Message-ID: <537DF129.9010504@gmail.com>

On 01/06/2013, 12:26 AM, Tiago V. Pereira wrote:
> Hello, R users!
>
> I am struggling with the following problem:
>
> I need to compute a P-value for a mixture of two chi-squared
> distributions. My P-value is given by:
>
> P = 0.5*prob(sqrt(chi2(1)) <= x) + 0.5*prob(sqrt(chi2(2)) <= x)

Isn't this simply

0.5*pchisq(x^2, df=1) + 0.5*pchisq(x^2, df=2)

?

Duncan Murdoch

>
> In words, I need to compute the p-value for 50?50 mixture of the square
> root of a chi-squared random variable with 1 degree of freedom and the
> square root of a chi-squared with two degrees of freedom.
>
> Although I can quickly simulate data, the P-values I am looking for are at
> the tail of the distribution, that is, alpha levels below 10^-7. Hence,
> simulation is not efficient.
>
> Are you aware of smart approach?
>
>
> All the best,
>
> Tiago
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From letter at openmailbox.org  Thu May 22 14:48:36 2014
From: letter at openmailbox.org (message)
Date: Thu, 22 May 2014 12:48:36 +0000
Subject: [R] manual installation errors; install.package, R CMD
In-Reply-To: <mailman.31.1400580008.2663.r-help@r-project.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
Message-ID: <70ed10b51716241aa4e82b57e33af0e4@openmailbox.org>

Readers,

As root user, from the command:

install.packages()

A dialogue window appears to select packages of interest. What to do if 
a specific packages exists on the cran page 
(http://cran.r-project.org/web/packages/available_packages_by_name.html), 
but not in the dialogue window of a repository?

Sometimes, a dependent package is reported as being un-available, e.g.:

> install.packages("mclust")
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
   package ?mclust? is not available

Alternatively, tried the command 'R CMD':

R CMD INSTALL 
http://cran.r-project.org/src/contrib/ChemoSpec_1.61-3.tar.gz
Warning: invalid package 
?http://cran.r-project.org/src/contrib/ChemoSpec_1.61-3.tar.gz?
Error: ERROR: no packages specified

The FAQ web page 
(http://cran.r-project.org/doc/FAQ/R-FAQ.html#How-can-add_002don-packages-be-installed_003f) 
states that the above syntax should be accepted.

What is my mistake please?


From ruipbarradas at sapo.pt  Thu May 22 14:55:10 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Thu, 22 May 2014 13:55:10 +0100
Subject: [R] solve scalar linear equation
In-Reply-To: <dbdc3bb17b018b140e1d9f70c21540b0@openmailbox.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>	<175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>	<CFFCE9F1-ECBF-408D-AC16-3C644C004E9C@xs4all.nl>
	<dbdc3bb17b018b140e1d9f70c21540b0@openmailbox.org>
Message-ID: <537DF3AE.1080300@sapo.pt>

Hello,
See inline.

Em 22-05-2014 13:35, message escreveu:
> On 2014-05-22 11:00, Berend Hasselman wrote:
>>>
>>>> uniroot(function(x) 5*x - 55, c(0, 10))
>>> Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
>>>  f() values at end points not of opposite sign
>>>
>>
>> I don?t believe this.
>> The error message says it all.
>>
>> 5*0-55 ==> -55
>> 5*10-55 ==> -5
>>
>
> The error states "opposite sign", which suggests to a rudimentary novice
> that end points (0 and 10, or 0 and 20) must give results of the
> function such that one value is negative, another value is positive. Or
> is this interpretation wrong?

No, it's not. This is basic Math.

>
>> See the Details section of the uniroot documentation.
>>
>
> The documentation states that the upper end point (in this example 10,
> or 20) must be strictly larger than the lower point (0). What is being
> mis-understood please?

I believe that Berend was trying to have you read that "The function 
values at the endpoints must be of opposite signs (or zero), for 
extendInt="no", the default."
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bhh at xs4all.nl  Thu May 22 14:55:55 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 22 May 2014 14:55:55 +0200
Subject: [R] solve scalar linear equation
In-Reply-To: <dbdc3bb17b018b140e1d9f70c21540b0@openmailbox.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<175f89712be9e5e7740bc3c7ccd5cc7c@openmailbox.org>
	<CFFCE9F1-ECBF-408D-AC16-3C644C004E9C@xs4all.nl>
	<dbdc3bb17b018b140e1d9f70c21540b0@openmailbox.org>
Message-ID: <47920709-D686-4395-877A-50C4CF72F6BF@xs4all.nl>


On 22-05-2014, at 14:35, message <letter at openmailbox.org> wrote:

> On 2014-05-22 11:00, Berend Hasselman wrote:
>>>> uniroot(function(x) 5*x - 55, c(0, 10))
>>> Error in uniroot(function(x) 5 * x - 55, c(0, 10)) :
>>> f() values at end points not of opposite sign
>> I don?t believe this.
>> The error message says it all.
>> 5*0-55 ==> -55
>> 5*10-55 ==> -5
> 
> The error states "opposite sign", which suggests to a rudimentary novice that end points (0 and 10, or 0 and 20) must give results of the function such that one value is negative, another value is positive. Or is this interpretation wrong?
> 

No. It is exactly what the error message says. Both function values are negatieve i.e. not of opposite sign.
Which is why you got the error message.

>> See the Details section of the uniroot documentation.
> 
> The documentation states that the upper end point (in this example 10, or 20) must be strictly larger than the lower point (0). What is being mis-understood please?
> 

Read the sentences after the first.

Berend

From sarah.goslee at gmail.com  Thu May 22 15:08:25 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Thu, 22 May 2014 09:08:25 -0400
Subject: [R] manual installation errors; install.package, R CMD
In-Reply-To: <70ed10b51716241aa4e82b57e33af0e4@openmailbox.org>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<70ed10b51716241aa4e82b57e33af0e4@openmailbox.org>
Message-ID: <CAM_vjun9qxvdAtZoZA7fGdR+Q_SjQHvOmiCNBOYqACcPa+HkiQ@mail.gmail.com>

Hi,

On Thu, May 22, 2014 at 8:48 AM, message <letter at openmailbox.org> wrote:
> Readers,
>
> As root user, from the command:
>
> install.packages()
>
> A dialogue window appears to select packages of interest. What to do if a
> specific packages exists on the cran page
> (http://cran.r-project.org/web/packages/available_packages_by_name.html),
> but not in the dialogue window of a repository?
>
> Sometimes, a dependent package is reported as being un-available, e.g.:
>
>> install.packages("mclust")
>
> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
>   package ?mclust? is not available

It's possible that a package is not available for your OS or version
of R, but you don't tell us either.

> Alternatively, tried the command 'R CMD':
>
> R CMD INSTALL http://cran.r-project.org/src/contrib/ChemoSpec_1.61-3.tar.gz
> Warning: invalid package
> ?http://cran.r-project.org/src/contrib/ChemoSpec_1.61-3.tar.gz?
> Error: ERROR: no packages specified
>
> The FAQ web page
> (http://cran.r-project.org/doc/FAQ/R-FAQ.html#How-can-add_002don-packages-be-installed_003f)
> states that the above syntax should be accepted.
>
> What is my mistake please?

That FAQ doesn't say that R is capable of downloading it for you: you
need to download the package manually, then use R CMD INSTALL to
install the *local* package.

Sarah


-- 
Sarah Goslee
http://www.functionaldiversity.org


From zuzulaz at gmail.com  Thu May 22 15:09:25 2014
From: zuzulaz at gmail.com (zuzana zajkova)
Date: Thu, 22 May 2014 15:09:25 +0200
Subject: [R] Fwd: problem importing apparently common txt files
In-Reply-To: <CAGPf-21sZHf35qdVPHb0znvq59_mfBxgbieT0EM0Y0QU5JDT8g@mail.gmail.com>
References: <CAGPf-21sZHf35qdVPHb0znvq59_mfBxgbieT0EM0Y0QU5JDT8g@mail.gmail.com>
Message-ID: <CADQCJLCxdVE45nR2PucrE=C41-zZwgvFAUXVu0rL=4WWWZpbOw@mail.gmail.com>

Dear list,

I would like to import into R studio txt files coming from Adobe photoshop.
These files contain different measures. The files are apparently common txt
files with columns separate by tab.  However with common function
read.table the import process doesn't work and weird symbols appear once
imported.  An example file is attached.

Do you have any idea what it is happening?

Thank you in advance

Zuzana



Here just a view of a file.
"Documento"    "Longitud"    "?ngulo"    "?rea"    "Altura"    "Anchura"
"6143066.17.4.12.DSC_0001.png"    "8.832613"    "-90.000000"
"6143066.17.4.12.DSC_0001.png"    "8.937918"    "90.337288"
"6143066.17.4.12.DSC_0001.png"            "551.103109"    "16.736842"
"52.543860"
"6143066.17.4.12.DSC_0002.png"    "8.942544"    "-89.662891"
"6143066.17.4.12.DSC_0002.png"    "8.994992"    "-90.000000"
"6143066.17.4.12.DSC_0002.png"            "550.146507"    "16.736842"
"52.491228"
"6106937.17.4.12.DSC_0004.png"    "12.159715"    "-89.008611"
-------------- next part --------------
?"Documento"	"Longitud"	"?ngulo"	"?rea"	"Altura"	"Anchura"
"6143066.17.4.12.DSC_0001.png"	"8.832613"	"-90.000000"			
"6143066.17.4.12.DSC_0001.png"	"8.937918"	"90.337288"			
"6143066.17.4.12.DSC_0001.png"			"551.103109"	"16.736842"	"52.543860"
"6143066.17.4.12.DSC_0002.png"	"8.942544"	"-89.662891"			
"6143066.17.4.12.DSC_0002.png"	"8.994992"	"-90.000000"			
"6143066.17.4.12.DSC_0002.png"			"550.146507"	"16.736842"	"52.491228"
"6106937.17.4.12.DSC_0004.png"	"12.159715"	"-89.008611"			
"6106937.17.4.12.DSC_0004.png"	"12.054468"	"-88.999954"			
"6106937.17.4.12.DSC_0004.png"			"574.210834"	"17.526316"	"52.192982"
"6106937.17.4.12.DSC_0005.png"	"12.210640"	"-89.753112"			
"6106937.17.4.12.DSC_0005.png"	"12.316239"	"-89.510454"			
"6106937.17.4.12.DSC_0005.png"			"573.669129"	"17.561404"	"52.122807"
"6188609.17.4.12.DSC_0009.png"	"13.268267"	"-91.590146"			
"6188609.17.4.12.DSC_0009.png"	"13.319529"	"-91.357689"			
"6188609.17.4.12.DSC_0009.png"			"526.275162"	"15.491228"	"52.438596"
"6188609.17.4.12.DSC_0010.png"	"13.196761"	"-91.371180"			
"6188609.17.4.12.DSC_0010.png"	"13.231048"	"-91.215643"			
"6188609.17.4.12.DSC_0010.png"			"526.780856"	"15.491228"	"52.385965"
"6143090.15.4.12.DSC_0013.png"	"12.140351"	"-90.000000"			
"6143090.15.4.12.DSC_0013.png"	"12.000000"	"-90.000000"			
"6143090.15.4.12.DSC_0013.png"			"610.210834"	"18.421053"	"52.596491"
"6143090.15.4.12.DSC_0014.png"	"12.090731"	"-89.750728"			
"6143090.15.4.12.DSC_0014.png"	"11.992736"	"-90.000000"			
"6143090.15.4.12.DSC_0014.png"			"610.641120"	"18.245614"	"52.649123"
"6195159.14.5.12.DSC_0017.png"	"16.742131"	"-88.559723"			
"6195159.14.5.12.DSC_0017.png"	"16.847362"	"-88.568721"			
"6195159.14.5.12.DSC_0017.png"			"630.465066"	"20.473684"	"55.684211"
"6195159.14.5.12.DSC_0018.png"	"16.797712"	"-88.205510"			
"6195159.14.5.12.DSC_0018.png"	"16.846130"	"-88.747572"			
"6195159.14.5.12.DSC_0018.png"			"630.216990"	"20.491228"	"55.684211"
"6175701.15.4.12.DSC_0021.png"	"14.732429"	"-101.116408"			
"6175701.15.4.12.DSC_0021.png"	"14.629281"	"-101.195797"			
"6175701.15.4.12.DSC_0021.png"			"518.332718"	"18.298246"	"53.614035"
"6175701.15.4.12.DSC_0022.png"	"14.780985"	"-101.703689"			
"6175701.15.4.12.DSC_0022.png"	"14.801433"	"-101.064184"			
"6175701.15.4.12.DSC_0022.png"			"517.615882"	"18.245614"	"53.508772"
"6134530.15.4.12.DSC_0025.png"	"10.868923"	"-94.025757"			
"6134530.15.4.12.DSC_0025.png"	"10.865356"	"-93.748940"			
"6134530.15.4.12.DSC_0025.png"			"569.846414"	"18.649123"	"54.526316"
"6134530.15.4.12.DSC_0026.png"	"10.902122"	"-93.875406"			
"6134530.15.4.12.DSC_0026.png"	"10.899807"	"-93.691386"			
"6134530.15.4.12.DSC_0026.png"			"570.213296"	"18.666667"	"54.456140"
"6140703.DSC_0029.png"	"13.057253"	"-94.469557"			
"6140703.DSC_0029.png"	"13.019577"	"-94.327648"			
"6140703.DSC_0029.png"			"507.530317"	"16.157895"	"51.473684"
"6140703.DSC_0030.png"	"12.981982"	"-94.184916"			
"6140703.DSC_0030.png"	"13.086967"	"-94.151285"			
"6140703.DSC_0030.png"			"507.125269"	"16.157895"	"51.736842"
"6140725.15.4.12.DSC_0033 - copia.png"	"14.174917"	"-95.682369"			
"6140725.15.4.12.DSC_0033 - copia.png"	"14.213342"	"-95.809112"			
"6140725.15.4.12.DSC_0033 - copia.png"			"583.036627"	"20.894737"	"54.017544"
"6140725.15.4.12.DSC_0034 - copia.png"	"14.143528"	"-95.837885"			
"6140725.15.4.12.DSC_0034 - copia.png"	"14.101640"	"-95.568737"			
"6140725.15.4.12.DSC_0034 - copia.png"			"583.289628"	"20.894737"	"53.894737"
"6108933.8.6.11.DSC_0038 - copia.png"	"12.386412"	"-89.513079"			
"6108933.8.6.11.DSC_0038 - copia.png"	"12.387754"	"-89.026228"			
"6108933.8.6.11.DSC_0038 - copia.png"			"584.929825"	"16.105263"	"53.666667"
"6108933.8.6.11.DSC_0039 - copia.png"	"12.473795"	"-90.241690"			
"6108933.8.6.11.DSC_0039 - copia.png"	"12.315902"	"-89.755211"			
"6108933.8.6.11.DSC_0039 - copia.png"			"584.813173"	"16.035088"	"53.649123"
"6119907..25.6.11.DSC_0049.png"	"15.230990"	"-87.029603"			
"6119907..25.6.11.DSC_0049.png"	"15.397578"	"-86.473440"			
"6119907..25.6.11.DSC_0049.png"			"608.383810"	"16.561404"	"56.508772"
"6119907.25.6.11.DSC_0049(2).png"	"15.399792"	"-86.342233"			
"6119907.25.6.11.DSC_0049(2).png"	"15.362572"	"-86.464480"			
"6119907.25.6.11.DSC_0049(2).png"			"606.813789"	"16.421053"	"56.438596"
"6119907.25.6.11.DSC_0049(2).png"			"606.357649"	"16.421053"	"56.438596"
"6119913.28.5.11.DSC_0051.png"	"17.000326"	"-90.354676"			
"6119913.28.5.11.DSC_0051.png"	"16.947450"	"-89.822109"			
"6119913.28.5.11.DSC_0051.png"			"561.634041"	"19.771930"	"55.736842"
"6119913.28.5.11.DSC_0052.png"	"16.982782"	"-89.644865"			
"6119913.28.5.11.DSC_0052.png"	"16.912426"	"-89.762260"			
"6119913.28.5.11.DSC_0052.png"			"561.411511"	"19.824561"	"55.719298"
"6119925.16.6.11.DSC_0055.png"	"14.846252"	"-88.645742"			
"6119925.16.6.11.DSC_0055.png"	"14.844759"	"-88.916521"			
"6119925.16.6.11.DSC_0055.png"			"528.357649"	"16.333333"	"50.438596"
"6119925.16.6.11.DSC_0056.png"	"14.843598"	"-89.187348"			
"6119925.16.6.11.DSC_0056.png"	"14.737510"	"-89.454342"			
"6119925.16.6.11.DSC_0056.png"			"527.981841"	"16.315789"	"50.368421"

From letter at openmailbox.org  Thu May 22 15:24:53 2014
From: letter at openmailbox.org (message)
Date: Thu, 22 May 2014 13:24:53 +0000
Subject: [R] manual installation errors; install.package, R CMD
In-Reply-To: <CAM_vjun9qxvdAtZoZA7fGdR+Q_SjQHvOmiCNBOYqACcPa+HkiQ@mail.gmail.com>
References: <mailman.31.1400580008.2663.r-help@r-project.org>
	<70ed10b51716241aa4e82b57e33af0e4@openmailbox.org>
	<CAM_vjun9qxvdAtZoZA7fGdR+Q_SjQHvOmiCNBOYqACcPa+HkiQ@mail.gmail.com>
Message-ID: <64d503cb5e4b4411d9a7cc84ff1af811@openmailbox.org>

On 2014-05-22 13:08, Sarah Goslee wrote:
> 
> It's possible that a package is not available for your OS or version
> of R, but you don't tell us either.
> 

For the record, GNU/Linux R2110

> 
> That FAQ doesn't say that R is capable of downloading it for you: you
> need to download the package manually, then use R CMD INSTALL to
> install the *local* package.
> 

For the benefit of other novices, that help page should state that the 
term "path" refers to _local_path. Thanks anyway.


From smartpink111 at yahoo.com  Thu May 22 15:47:13 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 06:47:13 -0700 (PDT)
Subject: [R] Fwd: problem importing apparently common txt files
In-Reply-To: <CADQCJLCxdVE45nR2PucrE=C41-zZwgvFAUXVu0rL=4WWWZpbOw@mail.gmail.com>
References: <CAGPf-21sZHf35qdVPHb0znvq59_mfBxgbieT0EM0Y0QU5JDT8g@mail.gmail.com>
	<CADQCJLCxdVE45nR2PucrE=C41-zZwgvFAUXVu0rL=4WWWZpbOw@mail.gmail.com>
Message-ID: <1400766433.10169.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi,

Check if this works:
?dat1 <- read.table("folder2.txt", header=TRUE,stringsAsFactors=FALSE,sep="\t",fileEncoding="UTF-16")


'data.frame':??? 79 obs. of? 6 variables:
?$ Documento: chr? "6143066.17.4.12.DSC_0001.png" "6143066.17.4.12.DSC_0001.png" "6143066.17.4.12.DSC_0001.png" "6143066.17.4.12.DSC_0002.png" ...
?$ Longitud : num? 8.83 8.94 NA 8.94 8.99 ...
?$ ?ngulo?? : num? -90 90.3 NA -89.7 -90 ...
?$ ?rea???? : num? NA NA 551 NA NA ...
?$ Altura?? : num? NA NA 16.7 NA NA ...
?$ Anchura? : num? NA NA 52.5 NA NA ...



A.K.


On Thursday, May 22, 2014 9:11 AM, zuzana zajkova <zuzulaz at gmail.com> wrote:
Dear list,

I would like to import into R studio txt files coming from Adobe photoshop.
These files contain different measures. The files are apparently common txt
files with columns separate by tab.? However with common function
read.table the import process doesn't work and weird symbols appear once
imported.? An example file is attached.

Do you have any idea what it is happening?

Thank you in advance

Zuzana



Here just a view of a file.
"Documento"? ? "Longitud"? ? "?ngulo"? ? "?rea"? ? "Altura"? ? "Anchura"
"6143066.17.4.12.DSC_0001.png"? ? "8.832613"? ? "-90.000000"
"6143066.17.4.12.DSC_0001.png"? ? "8.937918"? ? "90.337288"
"6143066.17.4.12.DSC_0001.png"? ? ? ? ? ? "551.103109"? ? "16.736842"
"52.543860"
"6143066.17.4.12.DSC_0002.png"? ? "8.942544"? ? "-89.662891"
"6143066.17.4.12.DSC_0002.png"? ? "8.994992"? ? "-90.000000"
"6143066.17.4.12.DSC_0002.png"? ? ? ? ? ? "550.146507"? ? "16.736842"
"52.491228"
"6106937.17.4.12.DSC_0004.png"? ? "12.159715"? ? "-89.008611"
______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From monaly.mistry at gmail.com  Thu May 22 16:13:59 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Thu, 22 May 2014 15:13:59 +0100
Subject: [R] subsetting to exclude different values for each subject in study
Message-ID: <CANpv+65jxJy=d5DfYT+-sYM7HmnnU3UubM=tY=PQ2dmJHioxQQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/2fca1682/attachment.pl>

From rmh at temple.edu  Thu May 22 16:41:25 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Thu, 22 May 2014 10:41:25 -0400
Subject: [R] Boxplot colors
In-Reply-To: <CA+jRDxCbn4fd_HgReQ=BiiSXUusFQK_6=nxs681U4YHPmhJsiw@mail.gmail.com>
References: <CA+jRDxCbn4fd_HgReQ=BiiSXUusFQK_6=nxs681U4YHPmhJsiw@mail.gmail.com>
Message-ID: <CAGx1TMDVJxZeb89x7pZ7YE6ZgAja1MLsWLMW+knL2hCGp+MtWA@mail.gmail.com>

## Shane,

## This uses your color_list.   Your other variables weren't included
in the email
## so I invented some data.

## I recommend bwplot() using panel=panel.bwplot.superpose

## and I also show how to use boxplot()


## install.packages("HH") ## if necessary.
library(HH)
## install.packages("reshape2") ## if necessary.
library(reshape2)

## you didn't include data, so I am making up some data
pH <- data.frame(matrix(rnorm(200), 10, 20))

bwplot(value ~ variable, data=melt(pH), col=unlist(colors_list),
       panel=panel.bwplot.superpose, groups=variable)

boxplot(value ~ variable, data=melt(pH), col=unlist(colors_list))

## Rich

On Thu, May 22, 2014 at 5:50 AM, Shane Carey <careyshan at gmail.com> wrote:
> Hi
>
> Im producing boxplots based on factors and rearranging them by median (This
> is for a Geochemistry element). Im giving each boxplot a unique color based
> on its level (factor) name.
>
> Im trying to produce a look up list to produce these colors as the order of
> the boxplots will change from element to element.
>
> Here is by color lool up and boxplot code:
>
> colors_list<-list("Dalradian Appin Group quartzite"="#FFFF00","Sperrins
> Dalradian (position uncertain)"="#D7D79E",
>                   "Namurian sandstone, shale"="#C7D79E","Lr-Mid Ordovocian
> acid volcanics"="#FFD37F",
>                   "Tertiary granite, felsite"="#FF5500","Caledonian
> appinite suite"="#946379",
>                   "Dalradian Argyll Gp quartzite"="#FFFF00","Slishwood
> Division" ="#FFEDCC",
>                   "Dalradian S Highland Gp volcanics"="#00E6A9","LEITRIM
> GP; Visean mudstone, sandstone"="#E6CCCC",
>                   "Dalradian Argyll Group"="#FFD9C7","Metadolerite or
> amphibolite"="#4C7300",
>                   "Caledonian granite"="#FF7F7F","Dalradian Appin
> Group"="#9EAAD7",
>                   "Lr-Mid Ordovician basic volcanics"="#448970","Ordovician
> Granite"="#E60000",
>                   "Tertiary basic intrusion"="#8400A8","Dalradian Argyll Gp
> volcanics"="#00E6A9",
>                   "VISEAN \"\"basal clastics\"\""="#73A6A6","Carboniferous
> volcs & minor intrus"="#AAFF00",
>                   "Metagabbro, metadiorite (Tyrone Plu"="#00A885","TYRONE
> GP; Visean mudstone, sandstone"="#CC9999",
>                   "Late Visean-Westphalian 'ORS'"="#F5A27A","Dalradian S
> Highland Group"="#FFD9C7",
>                   "Mid Devonian ORS"="#FFD37F","Mid-Up Ordovician
> slate"="#C2753D",
>                   "Interbasaltic formation laterite, b"="#FFFF00","Visean
> shelf limestone, shale"="#FF00C5",
>                   "Tertiary rhyolite (volc&intru)"="#FFEABE","COURCEYAN
> \"\"basal clastics\"\""="#4D8099",
>                   "Up Dev-Lr Carb ORS"="#CDAA66","Tyrone CI
> (Corvanaghan=?Slishwood"="#C9FFC9",
>                   "Visean basinal limestone \"\"Calp\"\""="#CFD6EB","Mid-Up
> Ordovician g'wacke, sndst, shale"="#C29ED7",
>                   "Up Silurian - Lr Devonian ORS"="#CD8966","Westphalian
> shale, sandstone"="#B2B2B2",
>                   "Upper Basalt Formation"="#FAC2E0","Causeway Tholeiite
> Mbr"="#C29ED7",
>                   "Courceyan limestone"="#73B2FF","Tertiary minor
> volcanics"="#E600A9",
>                   "Silurian sandstone, g'wacke, shale"="#ADE6D1","Up
> Cretaceous limestone"="#73FFDF",
>                   "Lower Basalt Formation"="#E0A8C7","Ballycastle
> succession"="#CCB3B3",
>                   "Navan Group"="#408CBF","Devonian basic volcs, minor
> intrus"="#A5F57A",
>                   "Up. Ord-Sil \"\"Moffat shale\"\"
> etc."="#FFFFDB","Oligocene clay, sand"="#704489",
>                   "Lr Jurassic mudstone"="#704489","Lr Jurassic
> mudstone"="#267300",
>                   "Mid-Up Ordovician acid volcanics"="#448970","Armagh
> Gp"="#8073B3",
>                   "Rathkenny Formation"="#704489","Triassic
> sandstone"="#F7DB5E",
>                   "Waulsortian Limestones"="#B2B2B2","Permian
> sandstone"="#F5CA7A",
>                   "Mid-Up Ordovician basic volcanics"="#448970")
>
>
> boxplot(na.omit(C_pH$DATA.pH)~bymedian,axes=FALSE,horizontal=TRUE,col=unlist(colors_list),outwex=one,whisklty
> = "solid",whisklwd=lwth,outcol= "black", outpch=dtsym,  outcex=dtsize)
>
> However it is not reading the colors based on the color_list given here.
> Anyone know how to solve this?
>
> Thanks for your help
>
> --
> Shane
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pdalgd at gmail.com  Thu May 22 16:57:09 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 22 May 2014 16:57:09 +0200
Subject: [R] How to compute a P-value for a complex mixture of
	chi-squared distributions in R
In-Reply-To: <537DF129.9010504@gmail.com>
References: <53978.201.81.178.2.1370060787.squirrel@webmail.mbe.bio.br>
	<537DF129.9010504@gmail.com>
Message-ID: <9F4A7A5F-6673-4DE4-9D3A-45975E1C3996@gmail.com>


On 22 May 2014, at 14:44 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 01/06/2013, 12:26 AM, Tiago V. Pereira wrote:
>> Hello, R users!
>> 
>> I am struggling with the following problem:
>> 
>> I need to compute a P-value for a mixture of two chi-squared
>> distributions. My P-value is given by:
>> 
>> P = 0.5*prob(sqrt(chi2(1)) <= x) + 0.5*prob(sqrt(chi2(2)) <= x)
> 
> Isn't this simply
> 
> 0.5*pchisq(x^2, df=1) + 0.5*pchisq(x^2, df=2)
> 

...as suggested by yours truly in 2011! ( :-o ???!!!)
 


On Jun 12, 2011, at 03:36 , Thomas Lumley wrote:

> On Sun, Jun 12, 2011 at 12:44 PM, Tiago Pereira
> <tiago.pereira at mbe.bio.br> wrote:
> 
>> The test I am working on has an asymptotic 0.5*chi2(1)+0.5*chi2(2)
>> distribution, where numbers inside parenthesis stand for the degrees of
>> freedom. Is is possible to compute quickly in R the cumulative distribution
>> of that distribution?
>> 
> 
> There appear to be pchibar() functions in both the ibdreg and ic.infer
> packages that should do want you want.  Simulation is also fairly
> efficient.

Assuming that you mean a 50-50 mixture of the two, it should also work just to take the average of the two CDFs. The integral is a linear operator after all. 

-- 
Peter Dalgaard
Center for Statistics, Copenhagen Business School

> ?
> 
> Duncan Murdoch
> 
>> 
>> In words, I need to compute the p-value for 50?50 mixture of the square
>> root of a chi-squared random variable with 1 degree of freedom and the
>> square root of a chi-squared with two degrees of freedom.
>> 
>> Although I can quickly simulate data, the P-values I am looking for are at
>> the tail of the distribution, that is, alpha levels below 10^-7. Hence,
>> simulation is not efficient.
>> 
>> Are you aware of smart approach?
>> 
>> 
>> All the best,
>> 
>> Tiago
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From monaly.mistry at gmail.com  Thu May 22 17:31:39 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Thu, 22 May 2014 16:31:39 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <1400770984.79444.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <CANpv+65jxJy=d5DfYT+-sYM7HmnnU3UubM=tY=PQ2dmJHioxQQ@mail.gmail.com>
	<1400770984.79444.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/2181585f/attachment.pl>

From gunter.berton at gene.com  Thu May 22 17:36:46 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 22 May 2014 08:36:46 -0700
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
References: <CANpv+65jxJy=d5DfYT+-sYM7HmnnU3UubM=tY=PQ2dmJHioxQQ@mail.gmail.com>
	<1400770984.79444.YahooMailNeo@web142605.mail.bf1.yahoo.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
Message-ID: <CACk-te2BKvFNnpQS96bPqeCCvaktUY9WiLkacK3nQVQ-OEYthw@mail.gmail.com>

Follow the link at the bottom of this message!

-- Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 22, 2014 at 8:31 AM, Monaly Mistry <monaly.mistry at gmail.com> wrote:
> Hi,
>
> Sorry I'm fairly new to R and I don't really understand using dput(), when
> you say reproducible example do you mean the code with the output?
>
> Best,
>
> Monaly.
>
>
> On Thu, May 22, 2014 at 4:03 PM, arun <smartpink111 at yahoo.com> wrote:
>
>> Hi,
>>
>> It would be helpful if you provide a reproducible example using ?dput().
>>
>> A.K.
>>
>>
>>
>>
>> On Thursday, May 22, 2014 10:15 AM, Monaly Mistry <monaly.mistry at gmail.com>
>> wrote:
>> Hi,
>>
>> I've written a code to determine the difference in score for a single
>> subject and its non-neighbours
>>
>> o<-(ao[,c(13,5)]) ##this is the table with the relevant information
>> o<-na.omit(o)  ##omitted data with NA
>> o<-o[!o$NestkastNummer %in% c(176,140,162,713),] ##removed neighbours
>> XO[7,1]<-abs((XO[1,"176"]-(mean(o[,"COR_LOC"]))))  #difference between that
>> individual and average non-neighbours scores
>>
>> Since each subject has a different number of non-neighbours I was wondering
>> if there is an efficient way of writing the code, instead of writing the
>> same code again and again (76 subjects) for each subject and its
>> non-neighbours.
>>
>>
>> Best,
>>
>> Monaly.
>>
>>     [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From raphael.paebst at gmail.com  Thu May 22 17:36:56 2014
From: raphael.paebst at gmail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Thu, 22 May 2014 17:36:56 +0200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <537D1574.1030303@auckland.ac.nz>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
	<537BFAE1.3050603@auckland.ac.nz>
	<CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>
	<537D1574.1030303@auckland.ac.nz>
Message-ID: <CADuMfoHdiNestMBPuqtPjNeL3F__fUvqqdkF3=0+MmnqU28a9g@mail.gmail.com>

Hello again,
I have found further depths of confusion concerning delaunay
triangulations to explore.

Here is the code I'm using to create the confusing results:

bm <- getbm(x) # a data.frame with 2 columns and 800 rows, values are
integers ranging from 1 to 82

del <- deldir(bm) # creating an object of type deldir with the 800
coordinates from bm
tri <- triang.list(del) # creating a list of length n, holding the n
triangles created by the delaunay triangulation with deldir(bm) as
data.frames

geodel <- delaunayn(bm) # creating a matrix with 3 columns and m rows
for the m triangles created by the delaunay triangulation using
delaunayn(bm) from geometry-package

now, the following is what I would expect: n and m should be the same,
since both triangulations should give me the same number of triangles,
right?

but this is what I get:

nrow(geodel) = 1584
length(tri) = 1186

This confuses me and I have the feeling I have left out some very
important parameter either in delaunayn() or deldir() to create the
different results.
There is however more confusion to come, this time in the result of
triang.list(del):

Every element in that list is a data.frame holding information on one
triangle. It has 3 columns and 3 rows with column headers 'ptNum', 'x'
and 'y'. Now I would expect, that 'ptNum' would give me the index at
which I can find the coordinates 'x' and 'y' as a row in my original
data.frame of coordinates, bm. And for example

bm[1,] gives me the same 'x' and 'y' that are listed in data.frame
tri[1] as 'ptNum' = 1.
But for some other points this does not work and for example the 'x'
and 'y' of 'ptNum' = 129 do not match bm[129, ]. Have I totally
misunderstood the meaning of 'ptNum' in this case or does my mistake
lie somewhere else?

Once again please excuse my slightly chaotic description of my
problems and my faulty english and thanks for any help you can give!

Raphael

On 5/21/14, Rolf Turner <r.turner at auckland.ac.nz> wrote:
> On 21/05/14 23:34, Raphael P?bst wrote:
>> I believe you are right. A night of sleep has done wonders for my
>> understanding of the problem.
>
> Oh sleep it is a gentle thing
> Beloved from pole to pole!
>
>> Thank you for your patience and help!
>
> Patience?  Moi?  This must be some new use of the word "patience" with
> which I am not familiar! :-)
>
> Glad your tessellations are working out.
>
> cheers,
>
> Rolf
>
>


From smartpink111 at yahoo.com  Thu May 22 17:42:36 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 22 May 2014 08:42:36 -0700 (PDT)
Subject: [R] converting a matrix to array
In-Reply-To: <CADfwB82JhYO5zQzwn9DU5_CyUw3dG9+hQRNRTiFaQ5rpNsN6Pg@mail.gmail.com>
References: <D3FD9829-82BC-435F-A209-406A5900E604@gmail.com>	<1400516562.22446.YahooMailNeo@web142605.mail.bf1.yahoo.com>	<CADfwB82nt9_qcxeU74=XTXugt47LhJ2doJYyqSEj6TGCy3b-Zw@mail.gmail.com>	<1400605748.25387.YahooMailNeo@web142604.mail.bf1.yahoo.com>	<CADfwB808x5FXrAaX2p7zY-dbpfSSDPdFiJhdW0NkVPesDBw3zw@mail.gmail.com>	<1400750335.5681.YahooMailNeo@web142603.mail.bf1.yahoo.com>
	<CADfwB82JhYO5zQzwn9DU5_CyUw3dG9+hQRNRTiFaQ5rpNsN6Pg@mail.gmail.com>
Message-ID: <1400773356.38872.YahooMailNeo@web142604.mail.bf1.yahoo.com>


Hi,
Try:
mat <- as.matrix(read.csv("R.csv",header=TRUE,stringsAsFactors=FALSE,sep="\t",row.names=1))
pdf("Hist_colwise.pdf")
lst1 <- lapply(seq_len(ncol(mat)),function(i) {x<- mat[,i,drop=FALSE]; hist(x, main=paste("Histogram of", colnames(x)))})
dev.off()

##or may be this would be another way to look at the data
library(reshape2)
library(ggplot2)
?dat <- melt(mat)


pdf("Hist_all.pdf", width=14)
ggplot(dat, aes(x=Var2, y=value, fill=Var1))+geom_histogram(stat="identity",position="dodge")+
?theme(legend.position = "none")+
?xlab("") +
?theme(axis.line = element_line(colour = "black"),
?panel.grid.major = element_blank(),
?panel.grid.minor = element_blank(),
?panel.border = element_blank(),
?panel.background = element_blank()) 
dev.off()



A.K.


On Thursday, May 22, 2014 10:48 AM, Effat Habibi <habibi383 at gmail.com> wrote:



Thanks. I think columnwise histogram should be fine. Can you please help me with the commands for making that?
On May 22, 2014 2:21 AM, "arun" <smartpink111 at yahoo.com> wrote:

Hi Effat,
>
>Sorry, I was a bit busy.? I did read the data.?
>
>
>mat <- as.matrix(read.csv("R.csv",header=TRUE,stringsAsFactors=FALSE,sep="\t",row.names=1))
>?is.matrix(mat)
>#[1] TRUE
>
>?head(mat,2)
>????????? COG0001H COG0002E COG0003P COG0004P COG0005F COG0006E COG0007H
>NC_014218?????? NA?????? NA?????? NA?????? NA????? 274????? 502?????? NA
>NC_013501????? 437????? 345?????? NA????? 458????? 284????? 364????? 271
>????????? COG0008J COG0009J COG0010E COG0011S COG0012J COG0013J COG0014E
>NC_014218????? 427????? 212?????? NA????? 103????? 365????? 890?????? NA
>NC_013501????? 500????? 317????? 316?????? NA????? 366????? 953?????? NA
>????????? COG0015F
>NC_014218????? 479
>NC_013501????? 431
>
>
>
>I am not sure I understand what you really wanted.? In the matrix example I showed, I did the table for all the elements of the matrix.? Do you want a columnwise histogram or a rowwise histogram??
>
>A.K.
>
>
>
>On Tuesday, May 20, 2014 1:29 PM, Effat Habibi <habibi383 at gmail.com> wrote:
>
>
>
>Thanks, it works. But this histogram doesn't show any information about my data,
>I want to make an informative histogram of my data which tells about length of different COGs across?
>the genome.?
>
>
>
>
>


From c.wordley at live.com  Thu May 22 15:52:31 2014
From: c.wordley at live.com (Claire)
Date: Thu, 22 May 2014 14:52:31 +0100
Subject: [R] Post-hoc tests on linear mixed model give mixed results.
Message-ID: <DUB122-W430987BB4D240B6173A031903F0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/1ae7e64d/attachment.pl>

From careyshan at gmail.com  Thu May 22 18:28:52 2014
From: careyshan at gmail.com (Shane Carey)
Date: Thu, 22 May 2014 17:28:52 +0100
Subject: [R] Boxplot colors
In-Reply-To: <CAGx1TMDVJxZeb89x7pZ7YE6ZgAja1MLsWLMW+knL2hCGp+MtWA@mail.gmail.com>
References: <CA+jRDxCbn4fd_HgReQ=BiiSXUusFQK_6=nxs681U4YHPmhJsiw@mail.gmail.com>
	<CAGx1TMDVJxZeb89x7pZ7YE6ZgAja1MLsWLMW+knL2hCGp+MtWA@mail.gmail.com>
Message-ID: <CA+jRDxBYY+SXQYV0Yb+9MSSsmtBHgVHTO6i-8yzaQyRhF=rNsA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/cf17143d/attachment.pl>

From gunter.berton at gene.com  Thu May 22 18:29:44 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 22 May 2014 09:29:44 -0700
Subject: [R] Post-hoc tests on linear mixed model give mixed results.
In-Reply-To: <DUB122-W430987BB4D240B6173A031903F0@phx.gbl>
References: <DUB122-W430987BB4D240B6173A031903F0@phx.gbl>
Message-ID: <CACk-te0MUGNGg4OZ3UcG-WW2U+WOWi2d6yiBrxTX4ZZPi+GkYQ@mail.gmail.com>

Wrong list! This does not concern R programming.

Post on the r-sig-mixed-models list instead in **PLAIN TEXT** rather than html.

Cheers,
Bert

Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 22, 2014 at 6:52 AM, Claire <c.wordley at live.com> wrote:
> Dear all,
>
> I am quite new to R so apologies if I fail to ask properly. I have done a test comparing bat species richness in five habitats as assessed by three methods. I used a linear mixed model in lme4 and got habitat, method and the interaction between the two as significant, with the random effects explaining little variation.
>
> I then ran Tukey's post hoc tests as pairwise comparisons in three ways:
>
> Firstly in lsmeans:
> lsmeans(LMM.richness, pairwise~Habitat*Method, adjust="tukey")
>
> Then in ?agricolae?:
>
> tx <- with(diversity, interaction(Method, Habitat))
> amod <- aov(Richness ~ tx, data=diversity)
> library(agricolae)
> interaction <-HSD.test(amod, "tx", group=TRUE)
> interaction
>
> Then in ghlt 'multcomp':
> summary(glht(LMM.richness, linfct=mcp(Habitat="Tukey")))
>
> summary(glht(LMM.richness, linfct=mcp(Method="Tukey")))
>
> tuk <- glht(amod, linfct = mcp(tx = "Tukey"))
> summary(tuk)          # standard display
> tuk.cld <- cld(tuk)   # letter-based display
> opar <- par(mai=c(1,1,1.5,1))
> par(mfrow=c(1,1))
> plot(tuk.cld)
> par(opar)
>
> I got somewhat different levels of significance from each method, with ghlt giving me the greatest number of significant results and lsmeans the least. All the results from all packages make sense based on the graphs of the data.
>
> Can anyone tell me if there are underlying reasons why these tests might be more or less conservative, whether in any case I have failed to specify anything correctly or whether any of these post-hoc tests are not suitable for linear mixed models?
>
> Thankyou for your time,
> Claire
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From hill0093 at umn.edu  Thu May 22 18:44:39 2014
From: hill0093 at umn.edu (Hurr)
Date: Thu, 22 May 2014 09:44:39 -0700 (PDT)
Subject: [R] How do I move the axis labels precisely
Message-ID: <1400777079952-4691082.post@n4.nabble.com>

#trying for both period-labeled and frequency labeled horizontal axis 
rm(list=ls(all=TRUE))
install.packages('plotrix')
library(plotrix)
staxlab<-function(side=1,at,labels,nlines=2,top.line=0.5,
 line.spacing=0.8,srt=NA,ticklen=0.03,adj=1,...) {
 if(missing(labels)) labels<-at
 nlabels<-length(labels)
 if(missing(at)) at<-1:nlabels
 axislim<-par("usr")[3:4-2*side%%2]
 if(any(at < axislim[1]) || any(at > axislim[2]))
  warning("Some axis labels are off the plot")
 if(is.na(srt)) {
  linepos<-rep(top.line,nlines)
  for(i in 2:nlines) linepos[i]<-linepos[i-1]+line.spacing
  linepos<-rep(linepos,ceiling(nlabels/nlines))[1:nlabels]
  axis(side=side,at=at,labels=rep("",nlabels))
  mtext(text=labels,side=side,line=linepos,at=at,...)
 }
 else {
  linewidth<-strheight("M")
  xylim<-par("usr")
  if(side == 1) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[3]-ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[3]-ticklen*(xylim[4]-xylim[3])-top.line*linewidth
  }
  if(side == 3) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[4]+ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[4]+ticklen*(xylim[4]-xylim[3])+top.line*linewidth
  }
  if(side == 2) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[1]-ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[1]-ticklen*(xylim[2]-xylim[1])-top.line*linewidth
  }
  if(side == 4) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[2]+ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[2]+ticklen*(xylim[2]-xylim[1])+top.line*linewidth
  }
  par(xpd=TRUE)
  text(xpos,ypos,labels,srt=srt,adj=adj,...)
  par(xpd=FALSE)
 }
}
horAxisLims=c(0,7213); print(horAxisLims) 
par(mar=c(8,4,4,2)+.1,lheight=0.7)  #margins=c(bot,lef,top,rit);
default:c(5,4,4,2)+.1 
#vertical text space = char height * character expansion * lheight 
#set only by
par():ask,fig,fin,lheight,mai,mar,mex,mfcol,mfrow,mfg,new,oma,omd,omi,pin,plt,ps,pty,usr,xlog,ylog,ylbias 
prdAxDistDown=0; frqAxDistDown=3.5; 
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy 
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics 
prdTicLocs=c(1,365.,1252,1461,1753,2191,2922,4383,7000)
prdLabels=c("1Yr","1Da","7Hr","6Hr","5Hr","4Hr","3Hr","2Hr","1.25\nHr");
print(prdLabels) 
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels <-
vector(length=nFrqTicInvls+1); 
frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls 
for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl 
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=format(round(frqTicLocs[i]),digits=4,trim=TRUE,scientific=FALSE) 
print(frqLabels) 
#default mgp=c(3,1,0) margin line in mex units
c(axisTitle,axisLabel,axisLine) 
las=2; #las=2 makes axis labels perpendicular to axis 
plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="") 
#tck if >= 0.5 then fraction of relevant side; if =1 then gridlines 
axis(1,tick=TRUE,line=prdAxDistDown,at=prdTicLocs,labels=rep("",length(prdLabels)),padj=0,tck=-.08)
staxlab(1,top.line=(prdAxDistDown),at=prdTicLocs,labels=prdLabels,srt=90,adj=c(1,0)) 
axis(1,tick=TRUE,line=frqAxDistDown,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0,tck=-.08) 
staxlab(1,top.line=(frqAxDistDown),at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0)) 
title(xlab="Cycles/Yr",line=6)




--
View this message in context: http://r.789695.n4.nabble.com/How-do-I-move-the-axis-labels-precisely-tp4691082.html
Sent from the R help mailing list archive at Nabble.com.


From aoife.doherty at liverpool.ac.uk  Thu May 22 18:20:59 2014
From: aoife.doherty at liverpool.ac.uk (AoifeM)
Date: Thu, 22 May 2014 09:20:59 -0700 (PDT)
Subject: [R] Running the cox model in R, through python or unix.
Message-ID: <1400775659210-4691077.post@n4.nabble.com>

Hi guys, 

I have a piece of R code. Example code:

>R
>library(survival)
>ReadTable <- read.table("TestFile",header=F)
>CoxModel <-coxph(Surv(V1)~V2+V3+V4+V5,data=ReadTable)
>summary(CoxModel)
>plot(survfit(CoxModel))

I have to run this on 100 files, instead of 1 "TestFile", and get outputs of
100 plots and summaries, instead of one summary and plot.

Would anyone know how to run this set of R commands in a shell script on
unix, or through a python script? I've been trying to understand Rpy2, PypeR
and pyRserve, but I was wondering if someone had come across this before,
and could show me a simple example of running R commands (such as those
above) through unix or python.

Many thanks
Aoife





--
View this message in context: http://r.789695.n4.nabble.com/Running-the-cox-model-in-R-through-python-or-unix-tp4691077.html
Sent from the R help mailing list archive at Nabble.com.


From nashjc at uottawa.ca  Thu May 22 18:45:56 2014
From: nashjc at uottawa.ca (Prof J C Nash (U30A))
Date: Thu, 22 May 2014 12:45:56 -0400
Subject: [R]  Questions in R about optim( ) and optimize( )
In-Reply-To: <mailman.29.1400752809.19868.r-help@r-project.org>
References: <mailman.29.1400752809.19868.r-help@r-project.org>
Message-ID: <537E29C4.7030901@uottawa.ca>

You need to provide reproducible examples if you want to get readers to
actually give you answers.

The two issues both come up from time to time and generally relate to
how the objective function is set up, though sometimes to options in the
call. However, "generally" really isn't good enough.

JN



> Date: Wed, 21 May 2014 20:37:10 +0000
> From: "Gao, Vicky" <VGao at panagora.com>
> To: "'r-help at r-project.org'" <r-help at r-project.org>
> Subject: [R] Questions in R about optim( ) and optimize( )
> Message-ID:
> 	<E6231A6C907F1E4EBDC773DF7F92327CDFE6D6 at exmailbox1.panagora.com>
> Content-Type: text/plain
> 
> Hello,
> 
> I would be really thankful if I could bother you with two questions.
> 
> 1.  I ran into some problems when I used the code "optim()" in my work. I used it to optimize a function-fn(x,y), where x is a two-dimensional parameter.  For y I want to pass the value later when I use optim(), because it needs to be inside of a loop, which changes the value of y every time.
> 
> "For (point in 100:500){
>       ....
>       optim(c(0,0.5),fn,p=point)
>       ....
>    }"
> 
> But it always turned to be "Error in fn(par, ...) : argument "p" is missing, with no default".  I'm confused about this, is that caused by optim() has some specific requirements towards the objective function?
> 
> 2.  I'm also confused about "optimize()" actually.  My code is like: "optimize(f,c(0,0.99),b=1.0,p=point)". I have nothing wrong when I run it, but the result is not accurate enough. Like I got the $minimum as 0.39 from the interval as above (0,0.99), however, I got 0.87 when I change it to (0.2,0.99), 0.96 for (0.3, 0.99). And the only thing I changed is the interval value, so I'm not sure what I should do to improve it.
> 
> As above, could you help me with these two problems? I would really appreciate that if you could give me some information.
> 
> Thank you very much! I look forward for your reply soon.
> 
> Vicky
> 
> 
> 	[[alternative HTML version deleted]]


From zuzulaz at gmail.com  Thu May 22 18:58:34 2014
From: zuzulaz at gmail.com (zuzana zajkova)
Date: Thu, 22 May 2014 18:58:34 +0200
Subject: [R] Fwd: problem importing apparently common txt files
In-Reply-To: <1400766433.10169.YahooMailNeo@web142602.mail.bf1.yahoo.com>
References: <CAGPf-21sZHf35qdVPHb0znvq59_mfBxgbieT0EM0Y0QU5JDT8g@mail.gmail.com>
	<CADQCJLCxdVE45nR2PucrE=C41-zZwgvFAUXVu0rL=4WWWZpbOw@mail.gmail.com>
	<1400766433.10169.YahooMailNeo@web142602.mail.bf1.yahoo.com>
Message-ID: <CADQCJLDvy9CndHKF6T6g3vGu9DQ+kfNLK-aAwOioQM+kFJHUwA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/cdb624e0/attachment.pl>

From kate.ignatius at gmail.com  Thu May 22 20:25:08 2014
From: kate.ignatius at gmail.com (Kate Ignatius)
Date: Thu, 22 May 2014 14:25:08 -0400
Subject: [R] Adding segments to a dot plot in ggplot2
Message-ID: <CAE6QMsaVmWf1H4puxb6W2uFe_62stcheHPKcgbF-d18KEmSyCw@mail.gmail.com>

I'm trying to plot a GWAS (in you will) with lined segments
representing an overall p-value for each gene.  Here is my code:

skatg <- ggplot(comm, aes(x = position,y = p, colour = grey)) +
                     geom_point(size = 0.75) +
                      geom_segment(data=rare, aes(x = txStart, y =
-log10(p), xend=txEnd,  yend = -log10(p), colour = darkgreen))   +
                      labs(x = "Position",y = "-log10 P value") +
                      facet_wrap(~ Chrom, scales = "free", ncol = 4)

Where comm is a file with 250k+ variants and genes.in.locus is a file
with about 18k genes.

When running this script, I get the error

Don't know how to automatically pick scale for object of type
function. Defaulting to continuous
Error in data.frame(x = c(40840353L, 31902418L, 19468080L, 236748505L,  :
  arguments imply differing number of rows: 79746, 0

Is this because there are different number of rows in each data frame
I'm trying to plot?  If so, what is a best way to overcome this error?

Example of my data is as follows:

comm:

         Name        gene Chrom       position         p
1  rs10000037    FAM114A1     4  38924330 0.7513597
2  rs10000250      CC2D2A     4  15482477 0.9202882
4  rs10000911       USP38     4 144136193 0.8335902
5     rs10001      STXBP2    19   7711221 0.4709547
7  rs10001370       USP46     4  53463730 0.8759828
8   rs1000152      ZNF462     9 109687288 0.3451001
10 rs10002583        POLN     4   2194953 0.7878575
12 rs10002971         EGF     4 110896050 0.5082255
15 rs10003873      SORBS2     4 186605868 0.2309855
16 rs10003909    ARHGAP24     4  86915848 0.8714853
17 rs10003947       ANXA3     4  79512800 0.5141532
18    rs10004        SSR1     6   7310259 0.6851725
20 rs10004136       STX18     4   4463587 0.5296092
21 rs10004516       ENPEP     4 111398208 0.8564897
22  rs1000521      SLC8A3    14  70522484 0.6234326
23 rs10005849       DCHS2     4 155287317 0.8192577
24 rs10006362       RGS12     4   3319271 0.8061674
25  rs1000640        WWP2    6  69905668 0.2682735
26 rs10006580      PCDH18     4 138449812 0.5178650
27 rs10006676       CYTL1     4   5021086 0.3531493
28 rs10006845       PCDH7     4  31116375 0.4817453
29 rs10007075       NEIL3     4 178274694 0.5433481
31 rs10008636 TMPRSS11BNL     4  69083563 0.8346434
32 rs10008910        UBA6     4  68500171 0.5705853
33 rs10009228      CHRNA9     4  40356422 0.4223378


rare:

       geneName txStart  txEnd Chrom    position         p
36131    YTHDC1    6026  45746     4   6026 0.5009490
10898   FAM110C   38813  46588     19  38813 1.0000000
37306    ZNF595   53178  88099     4  53178 0.1261045
16450   KIR2DL4   57208  68123    19  57208 0.0000156
28406    SCAND3   61610  77316     6  61610 0.2568
19926       MPG  127017 135850    6 127017 00.000987456
34149    TRIM27  174179 195169     6 174179 0.025698

I haven't included all information here.

Any help will be greatly appreciated.

Thanks!


From jfox at mcmaster.ca  Thu May 22 20:40:31 2014
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 22 May 2014 14:40:31 -0400
Subject: [R] Variation Inflation factor for GLS
In-Reply-To: <129789545FD9CA4C8A495D5B9A92F37F4C0EEBEC@exchange2-1>
References: <129789545FD9CA4C8A495D5B9A92F37F4C0EEBEC@exchange2-1>
Message-ID: <003801cf75ed$4fe5e880$efb1b980$@mcmaster.ca>

Dear Laura,

I've modified vif() in the development version of the car package on R-Forge
so that it works with a wider variety of models, including gls models. Once
the package is built on R-Forge, which usually takes about a day, you can
install it via install.packages("car",
repos="http://R-Forge.R-project.org"). Eventually, the development version
of the car package will be moved to CRAN.

Best,
 John

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of Laura Riggi
> Sent: Tuesday, May 20, 2014 9:27 AM
> To: r-help at R-project.org
> Subject: [R] Variation Inflation factor for GLS
> 
> Dear all,
> I am running a gls and I would like to check the vif of my model. It
> seems that the vif function in the car package and the vif.mer function
> available online do not work for gls. Would you know of a method to
> measure variance inflation factors for GLS?
> Thank you
> Laura
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From c.wordley at live.com  Thu May 22 20:59:45 2014
From: c.wordley at live.com (Claire)
Date: Thu, 22 May 2014 19:59:45 +0100
Subject: [R] Post-hoc tests on linear mixed model give mixed results.
In-Reply-To: <CACk-te0MUGNGg4OZ3UcG-WW2U+WOWi2d6yiBrxTX4ZZPi+GkYQ@mail.gmail.com>
References: <DUB122-W430987BB4D240B6173A031903F0@phx.gbl>,
	<CACk-te0MUGNGg4OZ3UcG-WW2U+WOWi2d6yiBrxTX4ZZPi+GkYQ@mail.gmail.com>
Message-ID: <DUB122-W22596454B04C064411BC3E903F0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/a4eabbf8/attachment.pl>

From maggieymakar at gmail.com  Thu May 22 18:57:54 2014
From: maggieymakar at gmail.com (Maggie Makar)
Date: Thu, 22 May 2014 12:57:54 -0400
Subject: [R] Random forest proximity measure
Message-ID: <CAMOyBZicUTod5tQd3EykL+KzT3SS7e5EENXX0BOVnMwVsmnbNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/73a5737d/attachment.pl>

From rkirkwo2 at uwyo.edu  Thu May 22 21:34:12 2014
From: rkirkwo2 at uwyo.edu (mr_kirkwood)
Date: Thu, 22 May 2014 12:34:12 -0700 (PDT)
Subject: [R] Zip multiple files with same prefix?
Message-ID: <1400787251993-4691088.post@n4.nabble.com>

I have thousands of files that need to be zipped. The files that need to be
zipped together have the same seven digit prefix e.g. 40111h1. 

I am a novice at R-Studio and would appreciate some help on this matter. 

Thanks!



--
View this message in context: http://r.789695.n4.nabble.com/Zip-multiple-files-with-same-prefix-tp4691088.html
Sent from the R help mailing list archive at Nabble.com.


From charlie at stat.umn.edu  Thu May 22 23:00:04 2014
From: charlie at stat.umn.edu (Charles Geyer)
Date: Thu, 22 May 2014 16:00:04 -0500
Subject: [R] equivalent of R CMD BATCH --vanilla for those who can't do
	anything non-GUI?
Message-ID: <CAKctRd0nh_ca76gabB-PVf=hFZG-UNbaES5d+jKBtcjraLkceg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/bd5b324d/attachment.pl>

From 538280 at gmail.com  Thu May 22 23:16:57 2014
From: 538280 at gmail.com (Greg Snow)
Date: Thu, 22 May 2014 15:16:57 -0600
Subject: [R] equivalent of R CMD BATCH --vanilla for those who can't do
 anything non-GUI?
In-Reply-To: <CAKctRd0nh_ca76gabB-PVf=hFZG-UNbaES5d+jKBtcjraLkceg@mail.gmail.com>
References: <CAKctRd0nh_ca76gabB-PVf=hFZG-UNbaES5d+jKBtcjraLkceg@mail.gmail.com>
Message-ID: <CAFEqCdyiPL4-LQ7xThP518WoCPVi8oeLBnr6H-M94jThWqkzOQ@mail.gmail.com>

You could have them spawn a vanilla R session using system instead of
the command line:

system('R CMD BATH --vanilla foo.R')

Or you could use the local argument to source to evaluate in a new
environment that does not inherit from the global environment:

source('foo.R', local=new.env(parent=parent.env(.GlobalEnv)))

this will prevent the code seeing anything in the global environment,
but it could still use functions/objects from any loaded packages.

On Thu, May 22, 2014 at 3:00 PM, Charles Geyer <charlie at stat.umn.edu> wrote:
> For a Google Group about aster models, I want to say that people wanting
> help are best advised to provide an example that works as
>
> R CMD BATCH --vanilla foo.R
>
> but I realize that many R users have zero idea of how to start R in any way
> other than clicking on an icon.  Is there a way to start up the standard
> mac and windows GUIs or Rstudio with no loaded saved global environment?
> (Without making it impossible to go back to what they were doing before?)
>
> Is there a way to make the source function do the job (ignore everything in
> the global environment)?
>
> What do you tell users about how to make an example that doesn't assume
> there is huge amounts of crap that the user doesn't even remember what it
> is that is involved?
>
> Do I just have to explain the command line to all the GUI fans?
>
> --
> Charles Geyer
> Professor, School of Statistics
> University of Minnesota
> charlie at stat.umn.edu
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From monaly.mistry at gmail.com  Thu May 22 23:19:29 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Thu, 22 May 2014 22:19:29 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <3AC319F89ED.00001567jrkrideau@inbox.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
Message-ID: <CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/dc87b5ed/attachment.pl>

From hill0093 at umn.edu  Thu May 22 23:32:24 2014
From: hill0093 at umn.edu (Hurr)
Date: Thu, 22 May 2014 14:32:24 -0700 (PDT)
Subject: [R] How do I move the axis labels precisely
In-Reply-To: <1400777079952-4691082.post@n4.nabble.com>
References: <1400777079952-4691082.post@n4.nabble.com>
Message-ID: <1400794344266-4691095.post@n4.nabble.com>

I included runnable code to help demonstrate what I want to do but
Sorry in my rush I forgot to include this request:
I want to move the x axis labels to make the right end close to 
the axis with a very small gap, and the bottom close to the 
tick with an even smaller gap. 
The staxlab function to be standard soon was sent to me by 
the author to make staxlab work on the second x axis.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/How-do-I-move-the-axis-labels-precisely-tp4691082p4691095.html
Sent from the R help mailing list archive at Nabble.com.


From murdoch.duncan at gmail.com  Thu May 22 23:41:30 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 22 May 2014 17:41:30 -0400
Subject: [R] equivalent of R CMD BATCH --vanilla for those who can't do
 anything non-GUI?
In-Reply-To: <CAKctRd0nh_ca76gabB-PVf=hFZG-UNbaES5d+jKBtcjraLkceg@mail.gmail.com>
References: <CAKctRd0nh_ca76gabB-PVf=hFZG-UNbaES5d+jKBtcjraLkceg@mail.gmail.com>
Message-ID: <537E6F0A.5060408@gmail.com>

On 22/05/2014, 5:00 PM, Charles Geyer wrote:
> For a Google Group about aster models, I want to say that people wanting
> help are best advised to provide an example that works as
>
> R CMD BATCH --vanilla foo.R
>
> but I realize that many R users have zero idea of how to start R in any way
> other than clicking on an icon.  Is there a way to start up the standard
> mac and windows GUIs or Rstudio with no loaded saved global environment?
> (Without making it impossible to go back to what they were doing before?)

On Windows, you can copy the shortcut, and edit it to add a --vanilla 
option to the command line.

>
> Is there a way to make the source function do the job (ignore everything in
> the global environment)?

Only in the way Greg said:  start a new R process to run it.

>
> What do you tell users about how to make an example that doesn't assume
> there is huge amounts of crap that the user doesn't even remember what it
> is that is involved?

I just ask for a "minimal, self-contained example".  You won't always 
get that, but I suspect people won't always follow your --vanilla 
instructions, either.

Duncan Murdoch

>
> Do I just have to explain the command line to all the GUI fans?
>


From r.turner at auckland.ac.nz  Fri May 23 01:18:55 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 23 May 2014 11:18:55 +1200
Subject: [R] Post-hoc tests on linear mixed model give mixed results.
In-Reply-To: <DUB122-W22596454B04C064411BC3E903F0@phx.gbl>
References: <DUB122-W430987BB4D240B6173A031903F0@phx.gbl>,
	<CACk-te0MUGNGg4OZ3UcG-WW2U+WOWi2d6yiBrxTX4ZZPi+GkYQ@mail.gmail.com>
	<DUB122-W22596454B04C064411BC3E903F0@phx.gbl>
Message-ID: <537E85DF.1040401@auckland.ac.nz>

On 23/05/14 06:59, Claire wrote:
> Thanks Bert,
>
> Will post on r-sig-mixed-models list. Can't help it being in html
> though as i sent the query via -email.

Huh?  What do you mean by "-email"?  Do you really mean "email" (without 
the minus sign)? We *all* send our queries via email.  This *is* email. 
  Set your <expletive deleted> email *not* to post in html!!!

cheers,

Rolf


From r.turner at auckland.ac.nz  Fri May 23 01:21:49 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 23 May 2014 11:21:49 +1200
Subject: [R] HMM states simulation
In-Reply-To: <CAHYO52ccCX7wKOJ1g93L8S4-iK4zvYiwibvszVCXETJjpMhsmw@mail.gmail.com>
References: <CAHYO52ccCX7wKOJ1g93L8S4-iK4zvYiwibvszVCXETJjpMhsmw@mail.gmail.com>
Message-ID: <537E868D.5090809@auckland.ac.nz>

On 22/05/14 21:38, Baba Bukar wrote:
> Dear all,
>
> I have 100 observations sampled from poisson and negative binomial
> distributions and i want set a hidden states for the observations, class
> with zero and one {0,1}. Larger observations to be one and smaller
> observations to be zero using R.
>
> Can someone please help?

No, I don't think anyone can help you.  You question is too ill-posed, 
incoherent and garbled.

If you can actually explain what you want to do, in meaningful terms, 
then some *might* be able to help.  However I suspect that you really 
have no clear idea of what you want to do, and/or what you want to do 
makes no sense at all.

cheers,

Rolf Turner


From r.turner at auckland.ac.nz  Fri May 23 01:36:11 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 23 May 2014 11:36:11 +1200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <CADuMfoHdiNestMBPuqtPjNeL3F__fUvqqdkF3=0+MmnqU28a9g@mail.gmail.com>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
	<537BFAE1.3050603@auckland.ac.nz>
	<CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>
	<537D1574.1030303@auckland.ac.nz>
	<CADuMfoHdiNestMBPuqtPjNeL3F__fUvqqdkF3=0+MmnqU28a9g@mail.gmail.com>
Message-ID: <537E89EB.8080306@auckland.ac.nz>


I just tried the following:

require(deldir)
require(geometry)
set.seed(42)
bm <- data.frame(x=sample(1:82,800,TRUE),y=sample(1:82,800,TRUE))
del <- deldir(bm)
tri <- triang.list(del)
geodel <- delaunayn(bm)
length(tri) # Got [1] 1481
dim(geodel) # Got [1] 1481    3

So all seems to be in harmony in the universe.

Something is weird about your "bm"; hard to say what without seeing it.

One thought:  Are there any duplicated points in your "bm"?  (Upon 
re-reading your message and noting the problem with "ptNum", I think 
this might be the case.)

Try doing something like:

newbm <- bm[!duplicated(bm),]

and then hit "newbm" with both deldir() and delaunayn().

cheers,

Rolf Turner

On 23/05/14 03:36, Raphael P?bst wrote:
> Hello again,
> I have found further depths of confusion concerning delaunay
> triangulations to explore.
>
> Here is the code I'm using to create the confusing results:
>
> bm <- getbm(x) # a data.frame with 2 columns and 800 rows, values are
> integers ranging from 1 to 82
>
> del <- deldir(bm) # creating an object of type deldir with the 800
> coordinates from bm
> tri <- triang.list(del) # creating a list of length n, holding the n
> triangles created by the delaunay triangulation with deldir(bm) as
> data.frames
>
> geodel <- delaunayn(bm) # creating a matrix with 3 columns and m rows
> for the m triangles created by the delaunay triangulation using
> delaunayn(bm) from geometry-package
>
> now, the following is what I would expect: n and m should be the same,
> since both triangulations should give me the same number of triangles,
> right?
>
> but this is what I get:
>
> nrow(geodel) = 1584
> length(tri) = 1186
>
> This confuses me and I have the feeling I have left out some very
> important parameter either in delaunayn() or deldir() to create the
> different results.
> There is however more confusion to come, this time in the result of
> triang.list(del):
>
> Every element in that list is a data.frame holding information on one
> triangle. It has 3 columns and 3 rows with column headers 'ptNum', 'x'
> and 'y'. Now I would expect, that 'ptNum' would give me the index at
> which I can find the coordinates 'x' and 'y' as a row in my original
> data.frame of coordinates, bm. And for example
>
> bm[1,] gives me the same 'x' and 'y' that are listed in data.frame
> tri[1] as 'ptNum' = 1.
> But for some other points this does not work and for example the 'x'
> and 'y' of 'ptNum' = 129 do not match bm[129, ]. Have I totally
> misunderstood the meaning of 'ptNum' in this case or does my mistake
> lie somewhere else?
>
> Once again please excuse my slightly chaotic description of my
> problems and my faulty english and thanks for any help you can give!


From jim at bitwrit.com.au  Fri May 23 02:56:13 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 23 May 2014 10:56:13 +1000
Subject: [R] multiple colour to symbols using brkdn.plot()
In-Reply-To: <CAMk+s2QzL-1d+Ut8Fk-dCUPn2=k4nRxGtM70jz8ZheDq25VLcQ@mail.gmail.com>
References: <CAMk+s2QzL-1d+Ut8Fk-dCUPn2=k4nRxGtM70jz8ZheDq25VLcQ@mail.gmail.com>
Message-ID: <10007070.cD2bpR9WZy@localhost.localdomain>

On Thu, 22 May 2014 01:43:23 PM Luigi Marongiu wrote:
>  Dear all,
> I have been plotting response variable (defined as "y" in the example
> below) from 4 groups (defined as "z" variable ) under 5 conditions
> (defined by the "x" variable). The formula used is: y ~ z+x.
> I can differentiate the different z value using a call pch=c(symbol 1,
> symbol 2, ...) but it would be even better to have different colours
> for each of these symbols.
> In analogy to the pch=c(symbol 1, symbol 2, ...) i have tired to
> provide a bg(colour 1, colour 2, ...) but this give the colour to the
> x variables rather than the z ones.
> How can I give the colour to the z variables?
> 
Hi Luigi,
Very good example. The brkdn.plot function assigns colors to the "group" 
variable based upon the "col" argument. Try using this:

brkdn.plot(y~z+x,
  data=my.data, mct="mean", md="sd",
  stagger=NA, dispbar=TRUE,
  type="p", pch=20, col=2:6,
  main="z indicated by colour (???)",
  xlab="x",ylab="y",cex=2)

Jim


From monaly.mistry at gmail.com  Fri May 23 06:42:31 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Fri, 23 May 2014 05:42:31 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>
	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/17399bb9/attachment.pl>

From ricardorocha23 at hotmail.com  Fri May 23 02:11:43 2014
From: ricardorocha23 at hotmail.com (Ricardo Rocha)
Date: Thu, 22 May 2014 21:11:43 -0300
Subject: [R] Loop Issue
Message-ID: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140522/77719c55/attachment.pl>

From yvan at dragonfly.co.nz  Fri May 23 07:14:23 2014
From: yvan at dragonfly.co.nz (Yvan Richard)
Date: Fri, 23 May 2014 17:14:23 +1200
Subject: [R] Loop Issue
In-Reply-To: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>
References: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>
Message-ID: <CAMrYPbHpMn4kXn3oYOXptyL3Ug=VqarpQgF=SDbHVFeqi0E2CA@mail.gmail.com>

Hi Ricardo
Assuming you have a good reason to use such approach (what are you
trying to do ultimately?), you can just increment your counter when
you get a good value, i.e.:

x <- numeric()
n <- 0
while (n < 10) {
    u <- log(runif(1, -1, 2))
    if (is.finite(u)) {
        n <- n+1
        x[n] <- u
    }
}
x

On 23 May 2014 12:11, Ricardo Rocha <ricardorocha23 at hotmail.com> wrote:
> Hi everybody.
>
> Consider the following exampling code:
>
> x=numeric()
>   for(i in 1:10){
>     u=runif(1,-1,2)
>     x[i]=log(u)
>   }
> This code, in each interation, generates a random value in the (-1,2) interval and then calculates the log of the value.
> When the generated value is less than 0 the log produces a NaN, which gives a warning.
>
> What I want is to make it start over when a warning is produced, in order to repeat it until a positive value is generated and therefore the log is calculated. Logically, would be like: "if there's a warning here, go back at the beginning and start over", without changing the iteration.
>
> Could someone help me with some directions?
>
> Thanks a lot,
>
> Ricardo
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Yvan Richard

      DRAGONFLY Science

Physical address: Level 5, 158 Victoria St, Te Aro, Wellington
Postal address: PO Box 27535, Wellington 6141
New Zealand
Ph: 04.385.9285
web page


From jim at bitwrit.com.au  Fri May 23 10:17:01 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 23 May 2014 18:17:01 +1000
Subject: [R] Loop Issue
In-Reply-To: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>
References: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>
Message-ID: <4038291.o0Z2oc1SUE@localhost.localdomain>

On Thu, 22 May 2014 09:11:43 PM Ricardo Rocha wrote:
> Hi everybody.
> 
> Consider the following exampling code:
> 
> x=numeric()
>   for(i in 1:10){
>     u=runif(1,-1,2)
>     x[i]=log(u)
>   }
> This code, in each interation, generates a random value in the (-1,2)
> interval and then calculates the log of the value. When the generated 
value
> is less than 0 the log produces a NaN, which gives a warning.
> 
> What I want is to make it start over when a warning is produced, in 
order to
> repeat it until a positive value is generated and therefore the log is
> calculated. Logically, would be like: "if there's a warning here, go back
> at the beginning and start over", without changing the iteration.
> 
> Could someone help me with some directions?
> 
Hi Ricardo,
Perhaps what you want is something like this:

i<-1
while(I < 11) {
 u<-runif(1,-1,2)
 if(u >= 0) {
  x[i]<-log(u)
  i<-i+1
 }
}

Jim


From raphael.paebst at gmail.com  Fri May 23 10:34:59 2014
From: raphael.paebst at gmail.com (=?ISO-8859-1?Q?Raphael_P=E4bst?=)
Date: Fri, 23 May 2014 10:34:59 +0200
Subject: [R] Voronoi-Diagrams in R
In-Reply-To: <537E89EB.8080306@auckland.ac.nz>
References: <CADuMfoFHMscaxCf4TSTtbvPdKDe47qvkTrF7pYEbdtXCXo=Jbw@mail.gmail.com>
	<B0934752-EBD7-440D-996D-3CEDBC39387E@utoronto.ca>
	<CADuMfoGN_o8eMOkoRDieNBSmv_HsvywtWp=QDtd7Qz2jXTQcJg@mail.gmail.com>
	<1BCB80AC-4381-431C-A712-038D31E8C05E@utoronto.ca>
	<CADuMfoHxScoQM1n8vsvOa1bNuGh++HAvzYm_PPizUC6LTZG2zg@mail.gmail.com>
	<537BFAE1.3050603@auckland.ac.nz>
	<CADuMfoFmU7CiVGfKN1SgDaWKCSV4122DmcpHLQpM-k1XWtoW0g@mail.gmail.com>
	<537D1574.1030303@auckland.ac.nz>
	<CADuMfoHdiNestMBPuqtPjNeL3F__fUvqqdkF3=0+MmnqU28a9g@mail.gmail.com>
	<537E89EB.8080306@auckland.ac.nz>
Message-ID: <CADuMfoFMY4ExCFo+MqQ7UdeQi7_YX=fA2CKb8xSTQ7SrSFWsMw@mail.gmail.com>

Ok, now I'm scared. I copied the exact code from your post and got
length(tri) = 1481 and
dim(geodel) = 1577    3

You are right though, there seem to bee duplicates in my original bm,
but removing them still got diffeent results. I fear there's something
weird going on with my R installation.

Cheers

Raphael


On 5/23/14, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>
> I just tried the following:
>
> require(deldir)
> require(geometry)
> set.seed(42)
> bm <- data.frame(x=sample(1:82,800,TRUE),y=sample(1:82,800,TRUE))
> del <- deldir(bm)
> tri <- triang.list(del)
> geodel <- delaunayn(bm)
> length(tri) # Got [1] 1481
> dim(geodel) # Got [1] 1481    3
>
> So all seems to be in harmony in the universe.
>
> Something is weird about your "bm"; hard to say what without seeing it.
>
> One thought:  Are there any duplicated points in your "bm"?  (Upon
> re-reading your message and noting the problem with "ptNum", I think
> this might be the case.)
>
> Try doing something like:
>
> newbm <- bm[!duplicated(bm),]
>
> and then hit "newbm" with both deldir() and delaunayn().
>
> cheers,
>
> Rolf Turner
>
> On 23/05/14 03:36, Raphael P?bst wrote:
>> Hello again,
>> I have found further depths of confusion concerning delaunay
>> triangulations to explore.
>>
>> Here is the code I'm using to create the confusing results:
>>
>> bm <- getbm(x) # a data.frame with 2 columns and 800 rows, values are
>> integers ranging from 1 to 82
>>
>> del <- deldir(bm) # creating an object of type deldir with the 800
>> coordinates from bm
>> tri <- triang.list(del) # creating a list of length n, holding the n
>> triangles created by the delaunay triangulation with deldir(bm) as
>> data.frames
>>
>> geodel <- delaunayn(bm) # creating a matrix with 3 columns and m rows
>> for the m triangles created by the delaunay triangulation using
>> delaunayn(bm) from geometry-package
>>
>> now, the following is what I would expect: n and m should be the same,
>> since both triangulations should give me the same number of triangles,
>> right?
>>
>> but this is what I get:
>>
>> nrow(geodel) = 1584
>> length(tri) = 1186
>>
>> This confuses me and I have the feeling I have left out some very
>> important parameter either in delaunayn() or deldir() to create the
>> different results.
>> There is however more confusion to come, this time in the result of
>> triang.list(del):
>>
>> Every element in that list is a data.frame holding information on one
>> triangle. It has 3 columns and 3 rows with column headers 'ptNum', 'x'
>> and 'y'. Now I would expect, that 'ptNum' would give me the index at
>> which I can find the coordinates 'x' and 'y' as a row in my original
>> data.frame of coordinates, bm. And for example
>>
>> bm[1,] gives me the same 'x' and 'y' that are listed in data.frame
>> tri[1] as 'ptNum' = 1.
>> But for some other points this does not work and for example the 'x'
>> and 'y' of 'ptNum' = 129 do not match bm[129, ]. Have I totally
>> misunderstood the meaning of 'ptNum' in this case or does my mistake
>> lie somewhere else?
>>
>> Once again please excuse my slightly chaotic description of my
>> problems and my faulty english and thanks for any help you can give!
>
>


From smartpink111 at yahoo.com  Fri May 23 11:40:00 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 02:40:00 -0700 (PDT)
Subject: [R] Loop Issue
In-Reply-To: <4038291.o0Z2oc1SUE@localhost.localdomain>
References: <COL129-W599D495747770F0B6C621AD93E0@phx.gbl>
	<4038291.o0Z2oc1SUE@localhost.localdomain>
Message-ID: <1400838000.69249.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,
You may also try:
fun1 <- function(n, repl, val1, val2) {
??? mat1 <- suppressWarnings(replicate(repl, log(runif(n, val1, val2))))
??? mat1[!is.na(mat1)][seq(n)]
}

#Jim's function
fun2 <- function(init, final, val1, val2) {
??? i <- init
??? while (i < final) {
??????? u <- runif(1, val1, val2)
??????? if (u >= 0) {
??????????? x[i] <- log(u)
??????????? i <- i + 1
??????? }
??? }
??? x
}


set.seed(49)
?x1 <- fun1(10,3,-1,2)
?set.seed(49)
?x2 <- fun2(1,11,-1,2)
?identical(x1,x2)
#[1] TRUE

###Speed comparison
set.seed(58)
?system.time(x1 <- fun1(1e5,100, -1,2))
#?? user? system elapsed 
#? 1.392?? 0.105?? 1.500 


set.seed(58)
?system.time(x2 <- fun2(1,1e5+1,-1,2))
#?? user? system elapsed 
# 31.930?? 0.988? 32.973

identical(x1,x2)
#[1] TRUE


A.K.








On Friday, May 23, 2014 4:19 AM, Jim Lemon <jim at bitwrit.com.au> wrote:
On Thu, 22 May 2014 09:11:43 PM Ricardo Rocha wrote:
> Hi everybody.
> 
> Consider the following exampling code:
> 
> x=numeric()
>?  for(i in 1:10){
>? ?  u=runif(1,-1,2)
>? ?  x[i]=log(u)
>?  }
> This code, in each interation, generates a random value in the (-1,2)
> interval and then calculates the log of the value. When the generated 
value
> is less than 0 the log produces a NaN, which gives a warning.
> 
> What I want is to make it start over when a warning is produced, in 
order to
> repeat it until a positive value is generated and therefore the log is
> calculated. Logically, would be like: "if there's a warning here, go back
> at the beginning and start over", without changing the iteration.
> 
> Could someone help me with some directions?
> 
Hi Ricardo,
Perhaps what you want is something like this:

i<-1
while(I < 11) {
u<-runif(1,-1,2)
if(u >= 0) {
? x[i]<-log(u)
? i<-i+1
}
}

Jim


______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From monaly.mistry at gmail.com  Fri May 23 12:34:24 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Fri, 23 May 2014 11:34:24 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>
	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>
	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>
Message-ID: <CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/7040d252/attachment.pl>

From frtog at vestas.com  Fri May 23 12:58:43 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Fri, 23 May 2014 12:58:43 +0200
Subject: [R] subsetting to exclude different values for each subject
	in	study
In-Reply-To: <CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>
	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>
	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>

Hi Monaly

I guess that if you made the neighborhood data available (using dput()) then Arun will easily show you how to automatically with only  a couple of code lines instead of those many lines you had to make by hand.

Have a nice day.

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender.


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Monaly Mistry
> Sent: 23. maj 2014 12:34
> To: arun; r-help at r-project.org
> Subject: Re: [R] subsetting to exclude different values for each subject in
> study
>
> Hi,
>
> I did use the library deldir, I didn't put that code in since I  wasn't
> sure if it was really relevant to the question as I just made the
> tesselations identifying which tessellation belonged to which individual.
> Following that I by hand recorded which individuals were sharing a boundary
> with each other.
>
> Best,
>
> Monaly.
>
>
> On Fri, May 23, 2014 at 11:25 AM, arun <smartpink111 at yahoo.com> wrote:
>
> > Hi,
> >
> > I am not sure how you did that.  May be using library(deldir).  I didn't
> > find that codes in your previous email.
> >
> > A.K.
> >
> > On Friday, May 23, 2014 12:42 AM, Monaly Mistry
> <monaly.mistry at gmail.com>
> > wrote:
> >
> >
> >
> > Hi,
> > Neighbours in this case were selected if they shared a boundary in the
> > voroni tesellation.
> >
> > Best,
> > Monaly
> > On May 23, 2014 3:19 AM, "arun" <smartpink111 at yahoo.com> wrote:
> > >
> > >
> > >
> > > HI Monaly,
> > > Thanks for the code and dput.  But, I have a doubt about how you are
> > selecting the neigbours.  Is there another dataset with the information?
> > Sorry, if I have missed something
> > > For e.g.
> > > ### average difference b/n neighbours for each individual
> > > XO["avg", "176"]<- mean(abs((XO[1,"176"])-XO[1,c("140","162","713")]))
> > >
> > >
> > > A.K.
> > >
> > >
> > > On Thursday, May 22, 2014 5:21 PM, Monaly Mistry <
> > monaly.mistry at gmail.com> wrote:
> > > Hi Everyone,
> > >
> > > I hope I did this correctly (I called my data frame ao) and Thank you
> > very
> > > much for the info about using dput(), I'm starting to understand all the
> > > different things that can be done in R and I appreciate all the advice.
> > I
> > > must appologize in advance since my coding is quite long but hopefully it
> > > makes sense. and there is a efficient way to do this.
> > >
> > > structure(list(num = 1:99, FORM_CHK = c(20870L, 22018L, 30737L,
> > > 22010L, 22028L, 36059L, 36063L, 36066L, 30587L, 30612L, 36056L,
> > > 30376L, 35153L, 30435L, 30536L, 30486L, 30475L, 36053L, 36048L,
> > > 36076L, 36045L, 36065L, 35772L, 36949L, 35702L, 36894L, 36080L,
> > > 35542L, 35457L, 35533L, 36042L, 36925L, 36827L, 36008L, 35817L,
> > > 36350L, 35985L, 35973L, 35801L, 36639L, 35810L, 35812L, 35807L,
> > > 36351L, 35967L, 35944L, 37006L, 36345L, 36062L, 36077L, 35802L,
> > > 35984L, 36043L, 35769L, 36360L, 36082L, 36071L, 36354L, 35771L,
> > > 35754L, 36295L, 35746L, 36064L, 35779L, 35751L, 35752L, 35785L,
> > > 35792L, 37011L, 36003L, 36040L, 36831L, 36031L, 36652L, 36992L,
> > > 36965L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
> > > NA, NA, NA, NA, NA, NA, NA, NA, NA), RingNummerMan =
> structure(c(1L,
> > > 2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L,
> > > 16L, 17L, 19L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 34L,
> > > 35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 46L, 47L, 48L,
> > > 49L, 50L, 51L, 52L, 54L, 55L, 56L, 57L, 58L, 59L, 60L, 61L, 63L,
> > > 65L, 67L, 69L, 70L, 73L, 74L, 75L, 76L, 78L, 79L, 80L, 81L, 82L,
> > > 83L, 85L, 86L, 87L, 88L, 89L, 93L, 96L, 97L, 18L, 20L, 21L, 28L,
> > > 32L, 33L, 45L, 53L, 62L, 64L, 66L, 68L, 71L, 72L, 77L, 84L, 90L,
> > > 91L, 92L, 94L, 95L, 98L, 99L), .Label = c("AJ...75425", "AL...62371",
> > > "AR...11060", "AR...29297", "AR...29307", "AR...29502", "AR...29504",
> > > "AR...29507", "AR...30039", "AR...30085", "AR...30165", "AR...30491",
> > > "AR...30563", "AR...30616", "AR...30652", "AR...30687", "AR...30701",
> > > "AR...30927", "AR...30959", "AR...30963", "AR...30964", "AR...30965",
> > > "AR...30966", "AR...30985", "AR...30988", "AR...40917", "AR...40996",
> > > "AR...45735", "AR...45904", "AR...45928", "AR...47609", "AR...65387",
> > > "AR...65479", "AR...65550", "AR...65629", "AR...65948", "AR...86074",
> > > "AR...86521", "AR...86527", "AR...90061", "AR...90064", "AR...90067",
> > > "AR...90077", "AR...90081", "AR...90098", "AR...90101", "AR...90106",
> > > "AR...90112", "AR...90133", "AR...90155", "AR...90176", "AR...90178",
> > > "AR...90180", "AR...90187", "AR...90212", "AR...90247", "AR...90252",
> > > "AR...90256", "AR...90258", "AR...90269", "AR...90272", "AR...90275",
> > > "AR...90294", "AR...90298", "AR...90300", "AR...90337", "AR...90338",
> > > "AR...90367", "AR...90397", "AR...90410", "AR...90463", "AR...90520",
> > > "AR...90544", "AR...90556", "AR...90678", "AR...90712", "AR...90737",
> > > "AR...90744", "AR...90829", "AR...90862", "AR...90863", "AR...90873",
> > > "AR...90880", "AR...90892", "AR...90898", "AR...90945", "AR...90951",
> > > "AR...90965", "AR...90970", "AR...90972", "AU...15008", "AU...15009",
> > > "AU...15027", "AU...15032", "AU...15036", "AU...15038", "AU...15046",
> > > "AU...15049", "AU...15505"), class = "factor"), year_score_taken =
> > c(2006L,
> > > 2008L, 2009L, 2008L, 2008L, 2011L, 2011L, 2011L, 2009L, 2009L,
> > > 2011L, 2009L, 2010L, 2009L, 2009L, 2009L, 2009L, 2011L, 2011L,
> > > 2011L, 2011L, 2011L, 2011L, 2012L, 2011L, 2012L, 2011L, 2010L,
> > > 2010L, 2010L, 2011L, 2012L, 2012L, 2011L, 2011L, 2012L, 2011L,
> > > 2011L, 2011L, 2012L, 2011L, 2011L, 2011L, 2012L, 2011L, 2011L,
> > > 2013L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L, 2012L,
> > > 2012L, 2011L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L,
> > > 2011L, 2011L, 2011L, 2011L, 2013L, 2011L, 2011L, 2012L, 2011L,
> > > 2012L, 2012L, 2012L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
> > > NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), COR_LOC =
> > c(15.13404,
> > > 13.88054, 30.0969, 19.09152, 16.88054, 14.15718, 39.15718, 16.15718,
> > > 16.13566, 23.07538, 39.15718, 24.56838, 12.13942, 21.4123, 19.06945,
> > > 12.33264, 32.48872, 30.15718, 37.15718, 37.15718, 49.15718, 22.15718,
> > > 18.50272, 23.69432, 24.9322, 47.29712, 41.15718, 21.47903, 38.6588,
> > > 34.99572, 28.15718, 13.08614, 16.71908, 22.68894, 19.2616, 15.96234,
> > > 22.83964, 13.89992, 14.2616, 18.17118, 24.2616, 22.2616, 13.2616,
> > > 23.96234, 24.89992, 24.05062, 10.20884, 6.96234, 13.15718, 17.15718,
> > > 40.2616, 21.83964, 20.15718, 39.50272, 26.81164, 20.3843, 14.15718,
> > > 7.96234, 19.50272, 40.74384, 5.7675, 42.95482, 29.15718, 18.32188,
> > > 28.74384, 37.74384, 22.32188, 25.32188, 18.20884, 14.68894, 22.15718,
> > > 39.71908, 18.2067, 15.1109, 15.61466, 47.4532, NA, NA, NA, NA,
> > > NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
> > > NA, NA, NA), IndividuID = c(11394L, 15676L, 342518L, 344902L,
> > > 344909L, 377497L, 377499L, 377504L, 352003L, 351986L, 352260L,
> > > 352392L, 353800L, 353892L, 353949L, 354060L, 354074L, 377487L,
> > > 377490L, 377511L, 377513L, 377495L, 377297L, 357796L, 366326L,
> > > 378446L, 377518L, 358157L, 358730L, 366215L, 377519L, 378407L,
> > > 378453L, 377443L, 377358L, 377726L, 377422L, 377402L, 377341L,
> > > 378354L, 377350L, 377352L, 377347L, 378408L, 377396L, 377374L,
> > > 377774L, 377743L, 377500L, 377510L, 377342L, 377421L, 377786L,
> > > 377294L, 377836L, 378291L, 377508L, 378199L, 377296L, 377280L,
> > > 373000L, 373020L, 377496L, 377306L, 373025L, 377278L, 377310L,
> > > 377317L, 377337L, 377439L, 377450L, 377464L, 377478L, 400290L,
> > > 400361L, 400260L, 357889L, 377477L, 377298L, 400370L, 356930L,
> > > 356939L, 378115L, 377562L, 378018L, 377834L, 378290L, 378228L,
> > > 378268L, 378052L, 378103L, 377332L, 377514L, 400356L, 400357L,
> > > 400372L, 400259L, 400256L, 400354L), BroedJaar = c(2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L), ManipulatieOuders =
> > c(0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> > > 0L, 0L), LegBeginDag = c(11L, 15L, 15L, 13L, 8L, 26L, 15L, 16L,
> > > 1L, 3L, 4L, 9L, 13L, 20L, 11L, 2L, 9L, 13L, 31L, 1L, 12L, 8L,
> > > 13L, 7L, 10L, 11L, 17L, 10L, 11L, 19L, 20L, 13L, 14L, 24L, 17L,
> > > 10L, 8L, 29L, 7L, 26L, 10L, 15L, 2L, 6L, 8L, 13L, 1L, 5L, 12L,
> > > 12L, 15L, 19L, 10L, 1L, 5L, 13L, 6L, 5L, 16L, 2L, 2L, 30L, 10L,
> > > 21L, 8L, 19L, 8L, 27L, 3L, 8L, 14L, 18L, 17L, 7L, 4L, 10L, 13L,
> > > 11L, 31L, 25L, 23L, 7L, 7L, 7L, 8L, 3L, 14L, 14L, 15L, 5L, 10L,
> > > 11L, 18L, 1L, 31L, 3L, 8L, 20L, 14L), LegBeginMaand = c(4L, 4L,
> > > 5L, 4L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
> > > 3L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,
> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,
> > > 4L), broodinfo = c(55334L, 55325L, 55317L, 55349L, 55366L, 55303L,
> > > 55461L, 55528L, 55296L, 55297L, 55630L, 55567L, 55345L, 55444L,
> > > 55526L, 55571L, 55462L, 55346L, 55576L, 55577L, 55601L, 55300L,
> > > 55607L, 55634L, 55558L, 55633L, 55590L, 55594L, 55537L, 55466L,
> > > 55327L, 55603L, 55600L, 55302L, 55319L, 55609L, 55574L, 55310L,
> > > 55554L, 55582L, 55561L, 55320L, 55555L, 55578L, 55343L, 55331L,
> > > 55314L, 55560L, 55460L, 55551L, 55322L, 55306L, 55348L, 55589L,
> > > 55572L, 55565L, 55595L, 55606L, 55323L, 55635L, 55568L, 55614L,
> > > 55447L, 55312L, 55344L, 55321L, 55569L, 55309L, 55570L, 55562L,
> > > 55550L, 55605L, 55465L, 55445L, 55587L, 55332L, 55629L, 55613L,
> > > 55448L, 55632L, 55636L, 55531L, 55329L, 55597L, 55298L, 55596L,
> > > 55318L, 55608L, 55463L, 55532L, 55557L, 55536L, 55333L, 55533L,
> > > 55538L, 55637L, 55330L, 55326L, 55525L), BroedselID = c(55334L,
> > > 55325L, 55317L, 55349L, 55366L, 55303L, 55461L, 55528L, 55296L,
> > > 55297L, 55630L, 55567L, 55345L, 55444L, 55526L, 55571L, 55462L,
> > > 55346L, 55576L, 55577L, 55601L, 55300L, 55607L, 55634L, 55558L,
> > > 55633L, 55590L, 55594L, 55537L, 55466L, 55327L, 55603L, 55600L,
> > > 55302L, 55319L, 55609L, 55574L, 55310L, 55554L, 55582L, 55561L,
> > > 55320L, 55555L, 55578L, 55343L, 55331L, 55314L, 55560L, 55460L,
> > > 55551L, 55322L, 55306L, 55348L, 55589L, 55572L, 55565L, 55595L,
> > > 55606L, 55323L, 55635L, 55568L, 55614L, 55447L, 55312L, 55344L,
> > > 55321L, 55569L, 55309L, 55570L, 55562L, 55550L, 55605L, 55465L,
> > > 55445L, 55587L, 55332L, 55629L, 55613L, 55448L, 55632L, 55636L,
> > > 55531L, 55329L, 55597L, 55298L, 55596L, 55318L, 55608L, 55463L,
> > > 55532L, 55557L, 55536L, 55333L, 55533L, 55538L, 55637L, 55330L,
> > > 55326L, 55525L), NestkastNummer = c(176L, 124L, 51L, 717L, 54L,
> > > 19L, 11L, 42L, 90L, 9L, 713L, 82L, 709L, 2L, 39L, 86L, 16L, 710L,
> > > 93L, 94L, 163L, 14L, 170L, 718L, 79L, 715L, 130L, 133L, 57L,
> > > 25L, 128L, 164L, 162L, 15L, 60L, 172L, 91L, 31L, 73L, 97L, 111L,
> > > 64L, 74L, 95L, 704L, 148L, 36L, 80L, 8L, 68L, 105L, 22L, 716L,
> > > 127L, 88L, 81L, 140L, 169L, 109L, 719L, 35L, 185L, 6L, 34L, 707L,
> > > 101L, 38L, 28L, 84L, 113L, 62L, 168L, 23L, 3L, 117L, 150L, 705L,
> > > 183L, 7L, 714L, 720L, 49L, 144L, 153L, 12L, 143L, 56L, 171L,
> > > 17L, 50L, 77L, 55L, 175L, 52L, 58L, 722L, 145L, 125L, 32L), lat_xm =
> > > c(729.2669944,
> > > 1001.809576, 501.4865527, 105.2662516, 622.0842564, 313.4718688,
> > > 198.828763, 248.3819471, 466.4434076, 155.709257, 433.2482345,
> > > 388.4860969, 306.5590574, 14.98895776, 191.9843836, 309.4336924,
> > > 308.6123573, 351.526526, 606.8213156, 601.8249333, 912.0799656,
> > > 267.5461811, 1084.557939, 264.26089, 359.6713191, 488.4822672,
> > > 1018.578266, 915.707476, 773.276261, 171.4513083, 1084.831712,
> > > 952.5985963, 878.4741353, 288.3530553, 913.9963847, 1071.827424,
> > > 456.313756, 51.12730755, 582.6607182, 592.1059359, 740.3548678,
> > > 1042.875765, 476.8468377, 654.0474325, 276.375404, 877.6528113,
> > > 135.7921596, 300.9466765, 145.6480126, 829.1262723, 601.4827177,
> > > 237.6363065, 500.3230173, 1129.730741, 398.06821, 340.8493193,
> > > 770.4016222, 1051.63655, 571.7097287, 314.4300781, 117.5861334,
> > > 437.9708453, 95.41039954, 105.7453938, 235.5829892, 627.9704095,
> > > 177.0636713, 99.17481232, 396.6993402, 973.4739067, 1034.662528,
> > > 1046.77705, 221.278275, 27.24031031, 724.0652756, 942.6742674,
> > > 325.9970589, 261.933799, 116.7648206, 464.0478832, 532.6968545,
> > > 423.9399058, 656.8536222, 979.9076146, 221.2098377, 701.5473216,
> > > 709.8290013, 1120.559295, 345.5719307, 463.4318862, 429.6207308,
> > > 659.112262, 717.7684649, 533.3812884, 819.3388243, 600.9351721,
> > > 722.4910753, 1126.719223, 26.8297633), long_ym = c(385.4016022,
> > > 744.3388344, 1278.519267, 582.1054392, 1183.781188, 1313.545671,
> > > 1155.204087, 1008.093201, 812.6125238, 1045.899477, 474.135164,
> > > 887.4467064, 626.9169985, 700.9728169, 849.3068501, 799.1579293,
> > > 1418.180093, 598.1175046, 928.3664402, 1111.83807, 367.2768291,
> > > 1318.32705, 501.4891137, 542.5200518, 1095.7148, 552.6387801,
> > > 636.2573659, 479.9172936, 1057.018971, 980.7392501, 739.0014835,
> > > 485.8106446, 371.9470232, 1365.91848, 942.3769994, 664.2784869,
> > > 887.335514, 669.5046549, 1156.983212, 893.8960158, 933.9261864,
> > > 783.4794517, 1191.342439, 975.8466709, 453.8976828, 55.70866057,
> > > 731.2178331, 973.6227733, 1002.199869, 920.5827929, 678.1778549,
> > > 1141.415921, 578.9919757, 710.2019861, 738.8902861, 936.706063,
> > > 480.8068625, 454.8984371, 771.1368166, 510.940689, 680.7353401,
> > > 1087.041598, 895.6751282, 641.8171157, 573.7658194, 651.9358502,
> > > 816.2819528, 819.6178023, 828.7357905, 801.8266126, 856.9792948,
> > > 415.0906484, 1086.374437, 737.4447458, 559.866446, 0, 423.6526577,
> > > 1166.990753, 957.8330951, 562.8687158, 564.7590286, 1339.676479,
> > > 197.5933584, 132.099559, 1205.686591, 246.6303384, 1106.500715,
> > > 597.3391415, 1389.380609, 1312.878499, 1155.760068, 1152.090634,
> > > 433.6602223, 1252.833235, 1028.88666, 522.3937678, 151.7810272,
> > > 796.3780665, 631.3647851), avg_pop_eb = c(23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
> > > 23.57103359, 23.57103359)), .Names = c("num", "FORM_CHK",
> > "RingNummerMan",
> > > "year_score_taken", "COR_LOC", "IndividuID", "BroedJaar",
> > > "ManipulatieOuders",
> > > "LegBeginDag", "LegBeginMaand", "broodinfo", "BroedselID",
> > > "NestkastNummer",
> > > "lat_xm", "long_ym", "avg_pop_eb"), class = "data.frame", row.names =
> > c(NA,
> > > -99L))
> > >
> > >
> > > #Below is the code I made to run my analyses
> > > XO<- matrix( 0,6, 76, byrow=TRUE);XO  #I first made a matrix to store my
> > > results in
> > > names(ao)
> > > ao$NestkastNummer
> > > b<-c(77:99)
> > > abo<-ao$NestkastNummer[-b];abo   #removed values that were NA
> > > rownames(XO) = c("EB_score","avg","pop_size","pop_avg_score",
> > > "adj_pop_avg", "ind_pop_dif")
> > > colnames(XO) = c((abo))
> > > ncol(XO)
> > > names(ao)
> > > t <- ao$COR_LOC;t
> > > i <- c(77:99)
> > > ti <- t[-i];ti
> > > XO[1,] = c(ti);XO  #assigned values from data frame to the matrix
> > >
> > > ### average difference b/n neighbours for each individual
> > > XO["avg", "176"]<- mean(abs((XO[1,"176"])-XO[1,c("140","162","713")]))
> > > XO["avg", "124"]<-
> > > mean(abs((XO[1,"124"])-XO[1,c("113","64","128","172","130","117")]))
> > > XO["avg", "51"]<- mean(abs((XO[1,"51"])-XO[1,c("74")]))
> > > XO["avg", "717"]<-
> > mean(abs((XO[1,"717"])-XO[1,c("34","707","704","718")]))
> > > XO["avg", "54"]<- mean(abs((XO[1,"54"])-XO[1,c("73","94")]))
> > > XO["avg", "19"]<- mean(abs((XO[1,"19"])-XO[1,c("15","14")]))
> > > XO["avg", "11"]<- mean(abs((XO[1,"11"])-XO[1,c("22","23","9")]))
> > > XO["avg", "42"]<-
> > > mean(abs((XO[1,"42"])-XO[1,c("23","79","80","39","25","9")]))
> > > XO["avg", "90"]<-
> > mean(abs((XO[1,"90"])-XO[1,c("91","97","109","88","84")]))
> > > XO["avg", "9"]<- mean(abs((XO[1,"9"])-XO[1,c("11","23","42","25","8")]))
> > > XO["avg", "713"]<-
> > mean(abs((XO[1,"713"])-XO[1,c("715","719","710","176")]))
> > > XO["avg", "82"]<- mean(abs((XO[1,"82"])-XO[1,c("81","91","84","86")]))
> > > XO["avg", "709"]<-
> > > mean(abs((XO[1,"709"])-XO[1,c("36","86","88","710","718","707","35")]))
> > > XO["avg", "2"]<- mean(abs((XO[1,"2"])-XO[1,c("3","31")]))
> > > XO["avg", "39"]<-
> > > mean(abs((XO[1,"39"])-XO[1,c("25","42","80","81","86","38","28","6")]))
> > > XO["avg", "86"]<-
> > > mean(abs((XO[1,"86"])-
> XO[1,c("38","39","81","82","84","88","709","36")]))
> > > XO["avg", "16"]<- mean(abs((XO[1,"16"])-XO[1,c("15")]))
> > > XO["avg", "710"]<-
> > > mean(abs((XO[1,"710"])-XO[1,c("709","88","713","719","718")]))
> > > XO["avg", "93"]<-
> > > mean(abs((XO[1,"93"])-XO[1,c("185","94","95","111","97","91")]))
> > > XO["avg", "94"]<-
> > mean(abs((XO[1,"94"])-XO[1,c("73","54","95","93","185")]))
> > > XO["avg", "163"]<-
> > mean(abs((XO[1,"163"])-XO[1,c("133","164","168","162")]))
> > > XO["avg", "14"]<- mean(abs((XO[1,"14"])-XO[1,c("15","19")]))
> > > XO["avg", "170"]<-
> > mean(abs((XO[1,"170"])-XO[1,c("130","164","169","168")]))
> > > XO["avg", "718"]<-
> > > mean(abs((XO[1,"718"])-XO[1,c("707","709","710","719","704")]))
> > > XO["avg", "79"]<-
> > > mean(abs((XO[1,"79"])-XO[1,c("23","22","185","81","80","42")]))
> > > XO["avg", "715"]<- mean(abs((XO[1,"715"])-XO[1,c("716","713")]))
> > > XO["avg", "130"]<-
> > > mean(abs((XO[1,"130"])-XO[1,c("124","172","170","164","133","117")]))
> > > XO["avg", "133"]<-
> > > mean(abs((XO[1,"133"])-XO[1,c("117","130","164","163","162","140")]))
> > > XO["avg", "57"]<- mean(abs((XO[1,"57"])-XO[1,c("95","111")]))
> > > XO["avg", "25"]<- mean(abs((XO[1,"25"])-
> XO[1,c("8","9","42","80","39")]))
> > > XO["avg", "128"]<-
> > mean(abs((XO[1,"128"])-XO[1,c("124","64","127","172")]))
> > > XO["avg", "164"]<-
> > > mean(abs((XO[1,"164"])-XO[1,c("130","170","169","168","163","133")]))
> > > XO["avg", "162"]<-
> > mean(abs((XO[1,"162"])-XO[1,c("176","140","133","163")]))
> > > XO["avg", "15"]<- mean(abs((XO[1,"15"])-XO[1,c("16","19","14")]))
> > > XO["avg", "60"]<- mean(abs((XO[1,"60"])-XO[1,c("62","68","113")]))
> > > XO["avg", "172"]<-
> > mean(abs((XO[1,"172"])-XO[1,c("124","128","127","130")]))
> > > XO["avg", "91"]<-
> > > mean(abs((XO[1,"91"])-XO[1,c("185","93","97","90","84","82","81")]))
> > > XO["avg", "31"]<- mean(abs((XO[1,"31"])-
> XO[1,c("2","3","36","35","34")]))
> > > XO["avg", "73"]<- mean(abs((XO[1,"73"])-XO[1,c("74","54","94","185")]))
> > > XO["avg", "97"]<-
> > > mean(abs((XO[1,"97"])-XO[1,c("91","93","111","109","90")]))
> > > XO["avg", "111"]<-
> > > mean(abs((XO[1,"111"])-XO[1,c("95","57","68","101","109","97","93")]))
> > > XO["avg", "64"]<- mean(abs((XO[1,"64"])-
> XO[1,c("113","62","128","124")]))
> > > XO["avg", "74"]<- mean(abs((XO[1,"74"])-XO[1,c("51","73","185")]))
> > > XO["avg", "95"]<- mean(abs((XO[1,"95"])-XO[1,c("94","57","111","93")]))
> > > XO["avg", "704"]<-
> > mean(abs((XO[1,"704"])-XO[1,c("719","718","707","717")]))
> > > XO["avg", "148"]<- mean(abs((XO[1,"148"])-XO[1,c("150")]))
> > > XO["avg", "36"]<-
> > > mean(abs((XO[1,"36"])-XO[1,c("28","38","86","709","707","35","3")]))
> > > XO["avg", "80"]<-
> > mean(abs((XO[1,"80"])-XO[1,c("42","79","81","39","25")]))
> > > XO["avg", "8"]<- mean(abs((XO[1,"8"])-XO[1,c("9","25")]))
> > > XO["avg", "68"]<-
> > > mean(abs((XO[1,"68"])-XO[1,c("111","60","113","117","101")]))
> > > XO["avg", "105"]<-
> > mean(abs((XO[1,"105"])-XO[1,c("88","109","101","716")]))
> > > XO["avg", "22"]<- mean(abs((XO[1,"22"])-XO[1,c("11","79","23")]))
> > > XO["avg", "716"]<- mean(abs((XO[1,"716"])-XO[1,c("88","105","715")]))
> > > XO["avg", "127"]<- mean(abs((XO[1,"127"])-XO[1,c("128","172")]))
> > > XO["avg", "88"]<-
> > >
> > mean(abs((XO[1,"88"])-
> XO[1,c("86","84","90","109","105","716","710","709")]))
> > > XO["avg", "81"]<-
> > > mean(abs((XO[1,"81"])-XO[1,c("80","79","185","91","82","86","39")]))
> > > XO["avg", "140"]<-
> > mean(abs((XO[1,"140"])-XO[1,c("117","133","162","176")]))
> > > XO["avg", "169"]<- mean(abs((XO[1,"169"])-XO[1,c("164","170","168")]))
> > > XO["avg", "109"]<-
> > > mean(abs((XO[1,"109"])-XO[1,c("90","97","111","101","105","88")]))
> > > XO["avg", "719"]<-
> > mean(abs((XO[1,"719"])-XO[1,c("718","710","713","704")]))
> > > XO["avg", "35"]<-
> > > mean(abs((XO[1,"35"])-XO[1,c("36","709","707","34","31","3")]))
> > > XO["avg", "185"]<-
> > > mean(abs((XO[1,"185"])-XO[1,c("79","74","73","94","93","91","81")]))
> > > XO["avg", "6"]<- mean(abs((XO[1,"6"])-XO[1,c("39","28","3")]))
> > > XO["avg", "34"]<- mean(abs((XO[1,"34"])-
> XO[1,c("31","35","707","717")]))
> > > XO["avg", "707"]<-
> > > mean(abs((XO[1,"707"])-
> XO[1,c("34","35","36","709","718","717","704")]))
> > > XO["avg", "101"]<-
> > > mean(abs((XO[1,"101"])-XO[1,c("105","109","111","68","113","117")]))
> > > XO["avg", "38"]<- mean(abs((XO[1,"38"])-XO[1,c("39","86","36","28")]))
> > > XO["avg", "28"]<- mean(abs((XO[1,"28"])-
> XO[1,c("6","39","38","36","3")]))
> > > XO["avg", "84"]<-
> > mean(abs((XO[1,"84"])-XO[1,c("82","91","90","88","86")]))
> > > XO["avg", "113"]<-
> > > mean(abs((XO[1,"113"])-XO[1,c("68","60","62","64","124","117","101")]))
> > > XO["avg", "62"]<- mean(abs((XO[1,"62"])-XO[1,c("60","64","113")]))
> > > XO["avg", "168"]<-
> > mean(abs((XO[1,"168"])-XO[1,c("170","169","164","163")]))
> > > XO["avg", "23"]<-
> > mean(abs((XO[1,"23"])-XO[1,c("9","11","22","79","42")]))
> > > XO["avg", "3"]<-
> > mean(abs((XO[1,"3"])-XO[1,c("6","28","36","35","31","2")]))
> > > XO["avg", "117"]<-
> > >
> > mean(abs((XO[1,"117"])-
> XO[1,c("101","113","124","130","133","140","68")]))
> > > XO["avg", "150"]<- mean(abs((XO[1,"150"])-XO[1,c("148")]))
> > > XO["pop_size",] <- 76
> > > XO["pop_avg_score",]<- mean(XO["EB_score",])
> > > for (i in XO){
> > >   XO["adj_pop_avg",] <-
> > >
> > ((XO["pop_avg_score",])*(XO["pop_size",])-
> (XO["EB_score",]))/((XO["pop_size",]-1))
> > >   #here I ran a loop to get info
> > >   XO["ind_pop_dif",] <-abs((XO["EB_score",]-XO["adj_pop_avg",]))}
> > > t.test(XO["avg",], XO["ind_pop_dif",], paired=TRUE)
> > > XO
> > > XO<-rbind(XO,0)
> > > rownames(XO)<-c("EB_score","avg","pop_size","pop_avg_score",
> > "adj_pop_avg",
> > > "ind_pop_dif", "non_nei")
> > > XO["non_nei",]<-0
> > > rowMeans(XO[,1:76])
> > >
> > > #This is the average observed discrepancy from individuals to neighbours
> > > #IOW on average how different is a focal bird in this year different from
> > > its neighbours
> > > obso=mean(XO["avg",])
> > > print(paste("Observed=", obso))
> > > XY[15,1]<-round(obso, digits=4)
> > >
> > >
> > > #This is the code I previously posted to find the difference in scores
> > > between a single subject and its non-neighbours
> > > o<-(ao[,c(13,5)])
> > > o<-na.omit(o)
> > > o<-o[!o$NestkastNummer %in% c(176,140,162,713),]
> > > XO[7,1]<-abs((XO[1,"176"]-(mean(o[,"COR_LOC"]))))
> > >
> > >
> > > Best,
> > >
> > > Monaly.
> > >
> > >
> > > On Thu, May 22, 2014 at 5:08 PM, John Kane <jrkrideau at inbox.com>
> wrote:
> > >
> > > > Re dput() etc
> > > > https://github.com/hadley/devtools/wiki/Reproducibility
> > > >
> > > >
> > http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-
> reproducible-example
> > > >
> > > > What dput() does is take your data and ouput it in an ascii format that
> > > > let's the reader here create an exact duplicate of your database.
> > > >
> > > > R is not WYSIWYG. Often what you see on the screen does not tell the
> > whole
> > > > tale. R supports a number of different data types: vectors, matrices,
> > > > data.frames, lists, arrays and others. This site gives a useful though
> > not
> > > > complete summary of many data types
> > > > http://www.statmethods.net/input/datatypes.html. When you have
> just
> > > > created a new data set, or even when working with one that you have
> not
> > > > worked with in some time it is a good idea to do a str() and class()
> > on the
> > > > data object just to be sure that you are working with the data types
> > you
> > > > think you have. What looks like a column of numbers in a data.frame
> may
> > > > actually be a set of factors or a set of character (text) data and
> > you're
> > > > left wondering why multiplying it by some number is not working.
> > > >
> > > > Here is a short example to illustrate. Just copy and paste in the code
> > > >  dat1  <- data.frame(aa = as.factor(1:5), bb = 1:5)
> > > > dat1 # data looks identical on the screen
> > > > 5*dat1[,"aa"]  # oops
> > > > 5*dat1[, "bb"] # okay
> > > > str(dat1)
> > > >
> > > >
> > > > John Kane
> > > > Kingston ON Canada
> > > >
> > > >
> > > > > -----Original Message-----
> > > > > From: monaly.mistry at gmail.com
> > > > > Sent: Thu, 22 May 2014 16:31:39 +0100
> > > > > To: smartpink111 at yahoo.com, r-help at r-project.org
> > > > > Subject: Re: [R] subsetting to exclude different values for each
> > subject
> > > > > in study
> > > > >
> > > > > Hi,
> > > > >
> > > > > Sorry I'm fairly new to R and I don't really understand using dput(),
> > > > > when
> > > > > you say reproducible example do you mean the code with the
> output?
> > > > >
> > > > > Best,
> > > > >
> > > > > Monaly.
> > > > >
> > > > >
> > > > > On Thu, May 22, 2014 at 4:03 PM, arun <smartpink111 at yahoo.com>
> > wrote:
> > > > >
> > > > >> Hi,
> > > > >>
> > > > >> It would be helpful if you provide a reproducible example using
> > ?dput().
> > > > >>
> > > > >> A.K.
> > > > >>
> > > > >>
> > > > >>
> > > > >>
> > > > >> On Thursday, May 22, 2014 10:15 AM, Monaly Mistry
> > > > >> <monaly.mistry at gmail.com>
> > > > >> wrote:
> > > > >> Hi,
> > > > >>
> > > > >> I've written a code to determine the difference in score for a
> > single
> > > > >> subject and its non-neighbours
> > > > >>
> > > > >> o<-(ao[,c(13,5)]) ##this is the table with the relevant information
> > > > >> o<-na.omit(o)  ##omitted data with NA
> > > > >> o<-o[!o$NestkastNummer %in% c(176,140,162,713),] ##removed
> > neighbours
> > > > >> XO[7,1]<-abs((XO[1,"176"]-(mean(o[,"COR_LOC"]))))  #difference
> > between
> > > > >> that
> > > > >> individual and average non-neighbours scores
> > > > >>
> > > > >> Since each subject has a different number of non-neighbours I was
> > > > >> wondering
> > > > >> if there is an efficient way of writing the code, instead of
> > writing the
> > > > >> same code again and again (76 subjects) for each subject and its
> > > > >> non-neighbours.
> > > > >>
> > > > >>
> > > > >> Best,
> > > > >>
> > > > >> Monaly.
> > > > >>
> > > > >>     [[alternative HTML version deleted]]
> > > > >>
> > > > >> ______________________________________________
> > > > >> R-help at r-project.org mailing list
> > > > >> https://stat.ethz.ch/mailman/listinfo/r-help
> > > > >> PLEASE do read the posting guide
> > > > >> http://www.R-project.org/posting-guide.html
> > > > >> and provide commented, minimal, self-contained, reproducible
> code.
> > > > >>
> > > > >>
> > > > >
> > > > >       [[alternative HTML version deleted]]
> > > > >
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list
> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > > PLEASE do read the posting guide
> > > > > http://www.R-project.org/posting-guide.html
> > > > > and provide commented, minimal, self-contained, reproducible code.
> > > >
> > > >
> __________________________________________________________
> __
> > > > FREE ONLINE PHOTOSHARING - Share your photos online with your
> friends
> > and
> > > > family!
> > > > Visit http://www.inbox.com/photosharing to find out more!
> > > >
> > > >
> > > >
> > >
> > >     [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From monaly.mistry at gmail.com  Fri May 23 13:17:28 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Fri, 23 May 2014 12:17:28 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>
	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>
	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>
Message-ID: <CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/7de3f9b3/attachment.pl>

From roland.deutsch at tuwien.ac.at  Fri May 23 14:13:55 2014
From: roland.deutsch at tuwien.ac.at (Roland Deutsch)
Date: Fri, 23 May 2014 14:13:55 +0200
Subject: [R] Error message when fitting a binomial response model using glm
Message-ID: <537F3B83.2070808@tuwien.ac.at>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/d7ce08c2/attachment.pl>

From alhajibukar2 at yahoo.com  Fri May 23 12:09:46 2014
From: alhajibukar2 at yahoo.com (Bukar Alhaji)
Date: Fri, 23 May 2014 03:09:46 -0700 (PDT)
Subject: [R] Bayesian HMM
Message-ID: <1400839786.71499.YahooMailNeo@web120804.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/f8363d95/attachment.pl>

From francy.casalino at gmail.com  Fri May 23 12:17:08 2014
From: francy.casalino at gmail.com (francesca casalino)
Date: Fri, 23 May 2014 11:17:08 +0100
Subject: [R] snpStats reference allele used in genetic associations?
Message-ID: <CAMHWMg+Q9Nwf8B4LT9WoHgQMhG22UG6YsvV5xTn9sd2J4jt-Ow@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/e0ca10e8/attachment.pl>

From s.conti at gmx.co.uk  Fri May 23 13:00:05 2014
From: s.conti at gmx.co.uk (Stefano Conti)
Date: Fri, 23 May 2014 13:00:05 +0200
Subject: [R] Inconsistent alphabetisation issue
Message-ID: <trinity-1ae2b317-6fcb-4b72-9c00-3bd37212b6bb-1400842805437@3capp-mailcom-bs09>


   Dear R users community,
   For some time now I have occasionally observed some inconsistent behaviour
   across identical (i.e. same 3.1.0 version and set-up / configuration) R
   installations on separate Linux machines (all manufactured in the UK).

   Specifically,  after  reading  (via 'read.table' or its flavours) some
   data-frames and then tabulate its factors, I notice that the levels of some
   factors are by default alphabetised differently between different machines.

   As an example, on 2 separate work I obtain from a given data-frame (say
   'tbl') before applying any processing the same output

   > tbl <- read.csv(path.expand("~/tmp/tbl.csv"), header=TRUE)
   > levels(tbl$Ethnicity)
    [1] "Black-African"               "Black-Caribbean"
    [3] "Black other"                   "Indian/Pakistani/Bangladeshi"
    [5] "Not Known"                    "Other Asian/Oriental"
    [7] "Other/Mixed"                 "White"
    [9] "Black Other"                  "Not known"

   whereas reproducing the same code and instructions on my personal laptop
   yields the following:

   > tbl <- read.csv(path.expand("~/tmp/tbl.csv"), header=TRUE)
   > levels(tbl$Ethnicity)
    [1] "Black other"                      "Black-African"
    [3] "Black-Caribbean"               "Indian/Pakistani/Bangladeshi"
    [5]      "Not      known"                                      "Other
   Asian/Oriental"
    [7] "Other/Mixed"                     "White"
    [9] "Black Other"                      "Not known"

   I've  tried  looking  up  on  the  R mailing list, as well as on the R
   documentation  and on Stack Overflow, what could the source of, and in
   particular a solution to, this discrepant behaviour; unfortunately, apart
   from some hint to localisation issues -- which I can't see how they'd apply
   in my case -- couldn't find anything pertinent.

   Many thanks in advance for any help / insight you may have to provide on
   this!
   --
   Dr Stefano Conti

From smartpink111 at yahoo.com  Fri May 23 13:48:59 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 04:48:59 -0700 (PDT)
Subject: [R] Zip multiple files with same prefix?
In-Reply-To: <1400787251993-4691088.post@n4.nabble.com>
References: <1400787251993-4691088.post@n4.nabble.com>
Message-ID: <1400845739.62496.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi,

May be this helps:
#If you are okay with compressed tar files
##If the files are all in the working directory 
?vec1 <-? list.files()
vec1
#[1] "40111h162n.csv"? "40111h1n49.txt"? "40111_h1n4.txt"? "40111h1n50.txt" 
#[5] "40111h2mn52.csv"

lst1 <- split(vec1,substr(vec1,1,7))

#Create the subdirectory based on the first 7 alphanumeric prefix.
?sapply(file.path(getwd(),names(lst1)),dir.create)
#or
# sapply(seq_along(lst1),function(i) dir.create(file.path(getwd(), names(lst1[i])))
#move the files to the sub-directory
?lapply(seq_along(lst1), function(i) file.rename(lst1[[i]],paste(file.path(names(lst1[i])), lst1[[i]],sep="/")))
#[[1]]
#[1] TRUE
#
#[[2]]
#[1] TRUE TRUE TRUE
#
#[[3]]
#[1] TRUE
list.files(recursive=TRUE)
#[1] "40111h1/40111h162n.csv"? "40111h1/40111h1n49.txt" 
#[3] "40111h1/40111h1n50.txt"? "40111h2/40111h2mn52.csv"
#[5] "40111_h/40111_h1n4.txt" 

##
#creating compressed tar file

tarF <- paste(names(lst1),"tgz",sep=".")
subDir <- list.dirs(full.names=FALSE)[-1]
?sapply(seq_along(tarF),function(i) tar(tarF[i],file.path(subDir)[i], compression='gzip'))
#[1] 0 0 0

list.files(recursive=TRUE)
#[1] "40111h1/40111h162n.csv"? "40111h1/40111h1n49.txt" 
#[3] "40111h1/40111h1n50.txt"? "40111h1.tgz"??????????? 
#[5] "40111h2/40111h2mn52.csv" "40111h2.tgz"??????????? 
#[7] "40111_h/40111_h1n4.txt"? "40111_h.tgz"???? 

A.K.




On Thursday, May 22, 2014 4:21 PM, mr_kirkwood <rkirkwo2 at uwyo.edu> wrote:
I have thousands of files that need to be zipped. The files that need to be
zipped together have the same seven digit prefix e.g. 40111h1. 

I am a novice at R-Studio and would appreciate some help on this matter. 

Thanks!



--
View this message in context: http://r.789695.n4.nabble.com/Zip-multiple-files-with-same-prefix-tp4691088.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From kathy.ruddy at hest.ethz.ch  Fri May 23 14:19:11 2014
From: kathy.ruddy at hest.ethz.ch (Ruddy  Kathy)
Date: Fri, 23 May 2014 12:19:11 +0000
Subject: [R] Balloon plot scaling problem
Message-ID: <5794DAB7-36DD-41C2-8F64-EAAFD6B54A92@hest.ethz.ch>

Hi Guys,

I have been trying to create a 'balloon plot' using R, which is where the
points in a plot are scaled such that the size of the point (area)
represents the value. Eg. A small point may represent 2 and a big point may
represent 10.
The problem is that my data range between 0.3 and 0.52, which is a very
small difference between the smallest and largest values. I would like 0.3
to be represented by the smallest balloon (point) and 0.52 to be represented
by the largest balloon (point). The code allows you to enter 'limits' which
I set from 0.3 to 0.52 but regardless of this it seems to scale the balloons
assuming that the scale starts at 0, rather than at 0.3. As a result, the
difference in size between my different values is barely noticeable- all the
balloons are close to the largest size.
The matrix of data is too large for me to add here, but imagine a square
matrix with headers along the top and sizes like this:

         X                 a_PMd     b_SMAproper c_pre.SMA     d_M1a     e_S1     f_CMA     g_PMv     h_M1p
1       a_PMd         0.4938019   0.5076123 0.5135090 0.4906899 0.4021556 0.4212536 0.4038168 0.3471316
2 b_SMAproper     0.5076123   0.4814135 0.4728626 0.4372118 0.3008708 0.4024063 0.4249524 0.4133340
3   c_pre-SMA       0.5135090   0.4728626 0.4727388 0.3944285 0.4695559 0.3870128 0.4082124        NA
4       d_M1a         0.4906899   0.4372118 0.3944285 0.4675951 0.4450485 0.3899106 0.3376981 0.4298238
5        e_S1          0.4021556   0.3008708 0.4695559 0.4450485 0.4158451 0.3941677 0.3055601 0.3726385
6       f_CMA         0.4212536   0.4024063 0.3870128 0.3899106 0.3941677 0.3656597 0.3655603 0.4112778
7       g_PMv         0.4038168   0.4249524 0.4082124 0.3376981 0.3055601 0.3655603 0.3471682 0.3035210
8       h_M1p         0.3471316   0.4133340        NA     0.4298238 0.3726385 0.4112778 0.3035210 0.3267115

I then use Melt to put it into the format that the plot requires:

krdata2<-melt(krdata1,value.name="median")


balloon=ggplot(krdata2,aes(x=X,y=variable))+
geom_point(aes(size=median),shape=21,color="black",fill="lightblue")+
scale_size_area(max_size=40,limits=c(0.3, 0.52),guide="legend",
breaks=waiver(), expand=waiver())

print(balloon)



As you can see, I have set the limited to 0.3- 0.52, but still it assumes
that the scale starts at 0 and the smallest balloon would be around a value
of 0.1.


Anybody got any ideas for how to change this scaling??
I would be very grateful!!

Thank you in advance

Kathy


From istazahn at gmail.com  Fri May 23 15:56:38 2014
From: istazahn at gmail.com (Ista Zahn)
Date: Fri, 23 May 2014 09:56:38 -0400
Subject: [R] Zip multiple files with same prefix?
In-Reply-To: <1400787251993-4691088.post@n4.nabble.com>
References: <1400787251993-4691088.post@n4.nabble.com>
Message-ID: <CA+vqiLHXgDWEVJw7-fW-UUwPJ5Ggr29TwfbRKmhsHioKPUZJHA@mail.gmail.com>

Something like

files <- list.files()
groups <- unique(substr(files, 1, 7))

for(goup in groups) {
      zip(paste0(group, ".zip"), grep(group, files, value=TRUE))
}

should get you started.

Best,
Ista

On Thu, May 22, 2014 at 3:34 PM, mr_kirkwood <rkirkwo2 at uwyo.edu> wrote:
> I have thousands of files that need to be zipped. The files that need to be
> zipped together have the same seven digit prefix e.g. 40111h1.
>
> I am a novice at R-Studio and would appreciate some help on this matter.
>
> Thanks!
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Zip-multiple-files-with-same-prefix-tp4691088.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ashisdeb83 at gmail.com  Fri May 23 16:55:41 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Fri, 23 May 2014 07:55:41 -0700
Subject: [R] GETTING SOM CLUSTERING RESULT
Message-ID: <CAFcJUTqUq+ctCfeCaGob3MPahiFmK_paFAm5EhYDOE846KTL2w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/3041f18f/attachment.pl>

From sarah.goslee at gmail.com  Fri May 23 17:07:04 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Fri, 23 May 2014 11:07:04 -0400
Subject: [R] GETTING SOM CLUSTERING RESULT
In-Reply-To: <CAFcJUTqUq+ctCfeCaGob3MPahiFmK_paFAm5EhYDOE846KTL2w@mail.gmail.com>
References: <CAFcJUTqUq+ctCfeCaGob3MPahiFmK_paFAm5EhYDOE846KTL2w@mail.gmail.com>
Message-ID: <CAM_vjunJh8QA8BvWHJ0a7O0CAedrO=1b30ZitN9mRVb+m2JLiw@mail.gmail.com>

Hi,

You're probably not getting replies because you're not asking very
clear questions: see the posting guide for more suggestions, but at
the very minimum you need to tell us what functions you're using -
it's rather hard to answer otherwise.

Even better, provide a reproducible example as the posting guide requests -
http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example
offers some useful ideas.

Nobody can answer your questions if we don't know what you did.

Sarah

On Fri, May 23, 2014 at 10:55 AM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
> Hi   all,
>
>
>
>                       I  have   a  normalized  data set  ,   in  which  i
> had  done   SOM  clustering   ,   as  we  can  get   clustering  results
> in  kmeans   like   :-    k$cluster   ,  we   can  get  which  element
> belongs  to  which  cluster  .
>
> But  in  case  of  SOM ,  can  we  get  the  cluster  results   like
> kmeans.
>
>
> Another  thing   I  am  not  getting  any    reply  of  my   queries   ,
> am   i  banned   I  didn't  use  any  offensive  language    or  anything
> ,  can  any  1  help   or  the  admins  .
>
>
> THanks
>
> ASHIS
>
>         [[alternative HTML version deleted]]
>
-- 
Sarah Goslee
http://www.functionaldiversity.org


From i.visser at uva.nl  Fri May 23 17:21:36 2014
From: i.visser at uva.nl (Ingmar Visser)
Date: Fri, 23 May 2014 17:21:36 +0200
Subject: [R] Bayesian HMM
In-Reply-To: <1400839786.71499.YahooMailNeo@web120804.mail.ne1.yahoo.com>
References: <1400839786.71499.YahooMailNeo@web120804.mail.ne1.yahoo.com>
Message-ID: <CABmqZHOSop_u6DC6LfSKknchR==J=bmmQQgv+mRxN0ZhCnQ2ZQ@mail.gmail.com>

Searching on r-project for bayesian hidden Markov model gives several
potentially useful links:

https://www.google.com/search?q=bayesian+hidden+markov+model&domains=r-project.org&sitesearch=r-project.org&btnG=Google+Search

hth, Ingmar


On Fri, May 23, 2014 at 12:09 PM, Bukar Alhaji <alhajibukar2 at yahoo.com> wrote:
> Dear R buddies,
>
> I have this data X <- c(3  5  7  6 40  9  9  2  5  1  4  7  5 45  9 48 10  6  3  6  4  9  5  5  4 64  3 23 26  4  3  5  2  7  3 10  3  4 51 67  6  4  4  6  6  5 11  7  3  5)
>
> I would like to try a Bayesian method for the parameter estimation of the Hidden Markov model.
>
>
> Could anyone kindly direct me to any R package that can perform this task? Or any help is highly appreciated.
>
> Grateful for help and time.
>
> Best regards
> Kyari
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From sarah.goslee at gmail.com  Fri May 23 17:43:25 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Fri, 23 May 2014 11:43:25 -0400
Subject: [R] Bayesian HMM
In-Reply-To: <1400839786.71499.YahooMailNeo@web120804.mail.ne1.yahoo.com>
References: <1400839786.71499.YahooMailNeo@web120804.mail.ne1.yahoo.com>
Message-ID: <CAM_vju=7R9roxkhRMn1CL4QCcMxT7RHnqT68ugh6R7Am71+MOg@mail.gmail.com>

A search at www.rseek.org for
Bayesian "hidden Markov model"
turns up all sorts of potentially-useful information.

Sarah

On Fri, May 23, 2014 at 6:09 AM, Bukar Alhaji <alhajibukar2 at yahoo.com> wrote:
> Dear R buddies,
>
> I have this data X <- c(3  5  7  6 40  9  9  2  5  1  4  7  5 45  9 48 10  6  3  6  4  9  5  5  4 64  3 23 26  4  3  5  2  7  3 10  3  4 51 67  6  4  4  6  6  5 11  7  3  5)

Seems unlikely - that's not appropriate syntax for creating a vector using c().

> I would like to try a Bayesian method for the parameter estimation of the Hidden Markov model.
>
>
> Could anyone kindly direct me to any R package that can perform this task? Or any help is highly appreciated.
>
> Grateful for help and time.
>
> Best regards
> Kyari



-- 
Sarah Goslee
http://www.functionaldiversity.org


From pdalgd at gmail.com  Fri May 23 17:49:02 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 23 May 2014 17:49:02 +0200
Subject: [R] Inconsistent alphabetisation issue
In-Reply-To: <trinity-1ae2b317-6fcb-4b72-9c00-3bd37212b6bb-1400842805437@3capp-mailcom-bs09>
References: <trinity-1ae2b317-6fcb-4b72-9c00-3bd37212b6bb-1400842805437@3capp-mailcom-bs09>
Message-ID: <D794DC3D-DAF3-41EC-BABA-C79785F577E6@gmail.com>

Try Sys.getlocale() on the two machines and see if you're not getting different results. Collating sequence differs even between different flavors of English. E.g., some sort AaBbCb, others ABC......abc and the handling of spaces and punctuation charactes can differ too.

(Something's not quite right with your output: What happened to "Not Known" with capital K? That is probably not important, though.)

- Peter


On 23 May 2014, at 13:00 , Stefano Conti <s.conti at gmx.co.uk> wrote:

> 
>   Dear R users community,
>   For some time now I have occasionally observed some inconsistent behaviour
>   across identical (i.e. same 3.1.0 version and set-up / configuration) R
>   installations on separate Linux machines (all manufactured in the UK).
> 
>   Specifically,  after  reading  (via 'read.table' or its flavours) some
>   data-frames and then tabulate its factors, I notice that the levels of some
>   factors are by default alphabetised differently between different machines.
> 
>   As an example, on 2 separate work I obtain from a given data-frame (say
>   'tbl') before applying any processing the same output
> 
>> tbl <- read.csv(path.expand("~/tmp/tbl.csv"), header=TRUE)
>> levels(tbl$Ethnicity)
>    [1] "Black-African"               "Black-Caribbean"
>    [3] "Black other"                   "Indian/Pakistani/Bangladeshi"
>    [5] "Not Known"                    "Other Asian/Oriental"
>    [7] "Other/Mixed"                 "White"
>    [9] "Black Other"                  "Not known"
> 
>   whereas reproducing the same code and instructions on my personal laptop
>   yields the following:
> 
>> tbl <- read.csv(path.expand("~/tmp/tbl.csv"), header=TRUE)
>> levels(tbl$Ethnicity)
>    [1] "Black other"                      "Black-African"
>    [3] "Black-Caribbean"               "Indian/Pakistani/Bangladeshi"
>    [5]      "Not      known"                                      "Other
>   Asian/Oriental"
>    [7] "Other/Mixed"                     "White"
>    [9] "Black Other"                      "Not known"
> 
>   I've  tried  looking  up  on  the  R mailing list, as well as on the R
>   documentation  and on Stack Overflow, what could the source of, and in
>   particular a solution to, this discrepant behaviour; unfortunately, apart
>   from some hint to localisation issues -- which I can't see how they'd apply
>   in my case -- couldn't find anything pertinent.
> 
>   Many thanks in advance for any help / insight you may have to provide on
>   this!
>   --
>   Dr Stefano Conti
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From smartpink111 at yahoo.com  Fri May 23 18:09:24 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 09:09:24 -0700 (PDT)
Subject: [R] data frame sample
Message-ID: <1400861364.54558.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,
May be this helps:
dat1 <- as.data.frame(matrix(1:(640*5), ncol=5,byrow=TRUE))
?set.seed(41)
?indx <-sample(nrow(dat1),nrow(dat1),replace=FALSE)
lst1 <- lapply(split(indx,as.numeric(gl(640,64,640))),function(x) dat1[x,])

A.K.


Dear all,

I have a data frame (d) composed of 640 observations for 55 variables.

I would like to randomly sample this data frame in 10 sub data frame of 64
observations for 55 variables. I dont want any of the observation to be in
more than one sub data-frame.

This code work for one sample
d1 <- d[sample(nrow(d),64,replace=F)
,]

This one give me a dataframe of 10 variable (each one is one sample...)
d1 <- replicate(10,sample(nrow(d),64,replace = F))
}

Can anyone help me ?



From smartpink111 at yahoo.com  Fri May 23 18:56:12 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 09:56:12 -0700 (PDT)
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>	<3AC319F89ED.00001567jrkrideau@inbox.com>	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>
	<CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>
Message-ID: <1400864172.79402.YahooMailNeo@web142606.mail.bf1.yahoo.com>


Hi Monaly,
May be this helps:
b<- 77:99
ao1 <- ao[-b,]
##Your code:

XO<- matrix( 0,6, 76, byrow=TRUE);XO
abo<-ao$NestkastNummer[-b];abo? #removed values that were NA
rownames(XO) = c("EB_score","avg","pop_size","pop_avg_score",
"adj_pop_avg", "ind_pop_dif")
colnames(XO) = abo
t <- ao$COR_LOC;t
i <- c(77:99)
ti <- t[-i];ti
XO[1,] = c(ti);XO
? 

library(deldir)
library(spdep)
mat <- cbind(lat=ao1$lat_xm, long=ao1$long_ym)
library(spdep)
?coords <- coordinates(mat)
ind <- ao1$NestkastNummer

col.tri.nb <- tri2nb(coords, row.names=ind)
?lapply(col.tri.nb,function(x) ind[x])[1:5] ###
[[1]]
[1] 713 715 162 148 140 117

[[2]]
[1] 130 128 172? 64 113 117

[[3]]
[1] 54 19 16 73 74

[[4]]
[1]?? 2? 31 704? 34 707

[[5]]
[1] 51 94 57 73 62

XO[2,] <- sapply(seq_along(col.tri.nb),function(i) mean(abs(ind[i]-ind[col.tri.nb[[i]]])))

A.K.



On Friday, May 23, 2014 7:17 AM, Monaly Mistry <monaly.mistry at gmail.com> wrote:



Hi Arun and Frede,

So the dput() is below (it's the same data file as before), but below that is the code I used to make the tessellation. ?Thanks for your help.

> dput(ao)
structure(list(num = 1:99, FORM_CHK = c(20870L, 22018L, 30737L,?
22010L, 22028L, 36059L, 36063L, 36066L, 30587L, 30612L, 36056L,?
30376L, 35153L, 30435L, 30536L, 30486L, 30475L, 36053L, 36048L,?
36076L, 36045L, 36065L, 35772L, 36949L, 35702L, 36894L, 36080L,?
35542L, 35457L, 35533L, 36042L, 36925L, 36827L, 36008L, 35817L,?
36350L, 35985L, 35973L, 35801L, 36639L, 35810L, 35812L, 35807L,?
36351L, 35967L, 35944L, 37006L, 36345L, 36062L, 36077L, 35802L,?
35984L, 36043L, 35769L, 36360L, 36082L, 36071L, 36354L, 35771L,?
35754L, 36295L, 35746L, 36064L, 35779L, 35751L, 35752L, 35785L,?
35792L, 37011L, 36003L, 36040L, 36831L, 36031L, 36652L, 36992L,?
36965L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA), RingNummerMan = structure(c(1L,?
2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L,?
16L, 17L, 19L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 34L,?
35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 46L, 47L, 48L,?
49L, 50L, 51L, 52L, 54L, 55L, 56L, 57L, 58L, 59L, 60L, 61L, 63L,?
65L, 67L, 69L, 70L, 73L, 74L, 75L, 76L, 78L, 79L, 80L, 81L, 82L,?
83L, 85L, 86L, 87L, 88L, 89L, 93L, 96L, 97L, 18L, 20L, 21L, 28L,?
32L, 33L, 45L, 53L, 62L, 64L, 66L, 68L, 71L, 72L, 77L, 84L, 90L,?
91L, 92L, 94L, 95L, 98L, 99L), .Label = c("AJ...75425", "AL...62371",?
"AR...11060", "AR...29297", "AR...29307", "AR...29502", "AR...29504",?
"AR...29507", "AR...30039", "AR...30085", "AR...30165", "AR...30491",?
"AR...30563", "AR...30616", "AR...30652", "AR...30687", "AR...30701",?
"AR...30927", "AR...30959", "AR...30963", "AR...30964", "AR...30965",?
"AR...30966", "AR...30985", "AR...30988", "AR...40917", "AR...40996",?
"AR...45735", "AR...45904", "AR...45928", "AR...47609", "AR...65387",?
"AR...65479", "AR...65550", "AR...65629", "AR...65948", "AR...86074",?
"AR...86521", "AR...86527", "AR...90061", "AR...90064", "AR...90067",?
"AR...90077", "AR...90081", "AR...90098", "AR...90101", "AR...90106",?
"AR...90112", "AR...90133", "AR...90155", "AR...90176", "AR...90178",?
"AR...90180", "AR...90187", "AR...90212", "AR...90247", "AR...90252",?
"AR...90256", "AR...90258", "AR...90269", "AR...90272", "AR...90275",?
"AR...90294", "AR...90298", "AR...90300", "AR...90337", "AR...90338",?
"AR...90367", "AR...90397", "AR...90410", "AR...90463", "AR...90520",?
"AR...90544", "AR...90556", "AR...90678", "AR...90712", "AR...90737",?
"AR...90744", "AR...90829", "AR...90862", "AR...90863", "AR...90873",?
"AR...90880", "AR...90892", "AR...90898", "AR...90945", "AR...90951",?
"AR...90965", "AR...90970", "AR...90972", "AU...15008", "AU...15009",?
"AU...15027", "AU...15032", "AU...15036", "AU...15038", "AU...15046",?
"AU...15049", "AU...15505"), class = "factor"), year_score_taken = c(2006L,?
2008L, 2009L, 2008L, 2008L, 2011L, 2011L, 2011L, 2009L, 2009L,?
2011L, 2009L, 2010L, 2009L, 2009L, 2009L, 2009L, 2011L, 2011L,?
2011L, 2011L, 2011L, 2011L, 2012L, 2011L, 2012L, 2011L, 2010L,?
2010L, 2010L, 2011L, 2012L, 2012L, 2011L, 2011L, 2012L, 2011L,?
2011L, 2011L, 2012L, 2011L, 2011L, 2011L, 2012L, 2011L, 2011L,?
2013L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L, 2012L,?
2012L, 2011L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L,?
2011L, 2011L, 2011L, 2011L, 2013L, 2011L, 2011L, 2012L, 2011L,?
2012L, 2012L, 2012L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), COR_LOC = c(15.13404,?
13.88054, 30.0969, 19.09152, 16.88054, 14.15718, 39.15718, 16.15718,?
16.13566, 23.07538, 39.15718, 24.56838, 12.13942, 21.4123, 19.06945,?
12.33264, 32.48872, 30.15718, 37.15718, 37.15718, 49.15718, 22.15718,?
18.50272, 23.69432, 24.9322, 47.29712, 41.15718, 21.47903, 38.6588,?
34.99572, 28.15718, 13.08614, 16.71908, 22.68894, 19.2616, 15.96234,?
22.83964, 13.89992, 14.2616, 18.17118, 24.2616, 22.2616, 13.2616,?
23.96234, 24.89992, 24.05062, 10.20884, 6.96234, 13.15718, 17.15718,?
40.2616, 21.83964, 20.15718, 39.50272, 26.81164, 20.3843, 14.15718,?
7.96234, 19.50272, 40.74384, 5.7675, 42.95482, 29.15718, 18.32188,?
28.74384, 37.74384, 22.32188, 25.32188, 18.20884, 14.68894, 22.15718,?
39.71908, 18.2067, 15.1109, 15.61466, 47.4532, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA), IndividuID = c(11394L, 15676L, 342518L, 344902L,?
344909L, 377497L, 377499L, 377504L, 352003L, 351986L, 352260L,?
352392L, 353800L, 353892L, 353949L, 354060L, 354074L, 377487L,?
377490L, 377511L, 377513L, 377495L, 377297L, 357796L, 366326L,?
378446L, 377518L, 358157L, 358730L, 366215L, 377519L, 378407L,?
378453L, 377443L, 377358L, 377726L, 377422L, 377402L, 377341L,?
378354L, 377350L, 377352L, 377347L, 378408L, 377396L, 377374L,?
377774L, 377743L, 377500L, 377510L, 377342L, 377421L, 377786L,?
377294L, 377836L, 378291L, 377508L, 378199L, 377296L, 377280L,?
373000L, 373020L, 377496L, 377306L, 373025L, 377278L, 377310L,?
377317L, 377337L, 377439L, 377450L, 377464L, 377478L, 400290L,?
400361L, 400260L, 357889L, 377477L, 377298L, 400370L, 356930L,?
356939L, 378115L, 377562L, 378018L, 377834L, 378290L, 378228L,?
378268L, 378052L, 378103L, 377332L, 377514L, 400356L, 400357L,?
400372L, 400259L, 400256L, 400354L), BroedJaar = c(2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L), ManipulatieOuders = c(0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L), LegBeginDag = c(11L, 15L, 15L, 13L, 8L, 26L, 15L, 16L,?
1L, 3L, 4L, 9L, 13L, 20L, 11L, 2L, 9L, 13L, 31L, 1L, 12L, 8L,?
13L, 7L, 10L, 11L, 17L, 10L, 11L, 19L, 20L, 13L, 14L, 24L, 17L,?
10L, 8L, 29L, 7L, 26L, 10L, 15L, 2L, 6L, 8L, 13L, 1L, 5L, 12L,?
12L, 15L, 19L, 10L, 1L, 5L, 13L, 6L, 5L, 16L, 2L, 2L, 30L, 10L,?
21L, 8L, 19L, 8L, 27L, 3L, 8L, 14L, 18L, 17L, 7L, 4L, 10L, 13L,?
11L, 31L, 25L, 23L, 7L, 7L, 7L, 8L, 3L, 14L, 14L, 15L, 5L, 10L,?
11L, 18L, 1L, 31L, 3L, 8L, 20L, 14L), LegBeginMaand = c(4L, 4L,?
5L, 4L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,?
3L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
4L), broodinfo = c(55334L, 55325L, 55317L, 55349L, 55366L, 55303L,?
55461L, 55528L, 55296L, 55297L, 55630L, 55567L, 55345L, 55444L,?
55526L, 55571L, 55462L, 55346L, 55576L, 55577L, 55601L, 55300L,?
55607L, 55634L, 55558L, 55633L, 55590L, 55594L, 55537L, 55466L,?
55327L, 55603L, 55600L, 55302L, 55319L, 55609L, 55574L, 55310L,?
55554L, 55582L, 55561L, 55320L, 55555L, 55578L, 55343L, 55331L,?
55314L, 55560L, 55460L, 55551L, 55322L, 55306L, 55348L, 55589L,?
55572L, 55565L, 55595L, 55606L, 55323L, 55635L, 55568L, 55614L,?
55447L, 55312L, 55344L, 55321L, 55569L, 55309L, 55570L, 55562L,?
55550L, 55605L, 55465L, 55445L, 55587L, 55332L, 55629L, 55613L,?
55448L, 55632L, 55636L, 55531L, 55329L, 55597L, 55298L, 55596L,?
55318L, 55608L, 55463L, 55532L, 55557L, 55536L, 55333L, 55533L,?
55538L, 55637L, 55330L, 55326L, 55525L), BroedselID = c(55334L,?
55325L, 55317L, 55349L, 55366L, 55303L, 55461L, 55528L, 55296L,?
55297L, 55630L, 55567L, 55345L, 55444L, 55526L, 55571L, 55462L,?
55346L, 55576L, 55577L, 55601L, 55300L, 55607L, 55634L, 55558L,?
55633L, 55590L, 55594L, 55537L, 55466L, 55327L, 55603L, 55600L,?
55302L, 55319L, 55609L, 55574L, 55310L, 55554L, 55582L, 55561L,?
55320L, 55555L, 55578L, 55343L, 55331L, 55314L, 55560L, 55460L,?
55551L, 55322L, 55306L, 55348L, 55589L, 55572L, 55565L, 55595L,?
55606L, 55323L, 55635L, 55568L, 55614L, 55447L, 55312L, 55344L,?
55321L, 55569L, 55309L, 55570L, 55562L, 55550L, 55605L, 55465L,?
55445L, 55587L, 55332L, 55629L, 55613L, 55448L, 55632L, 55636L,?
55531L, 55329L, 55597L, 55298L, 55596L, 55318L, 55608L, 55463L,?
55532L, 55557L, 55536L, 55333L, 55533L, 55538L, 55637L, 55330L,?
55326L, 55525L), NestkastNummer = c(176L, 124L, 51L, 717L, 54L,?
19L, 11L, 42L, 90L, 9L, 713L, 82L, 709L, 2L, 39L, 86L, 16L, 710L,?
93L, 94L, 163L, 14L, 170L, 718L, 79L, 715L, 130L, 133L, 57L,?
25L, 128L, 164L, 162L, 15L, 60L, 172L, 91L, 31L, 73L, 97L, 111L,?
64L, 74L, 95L, 704L, 148L, 36L, 80L, 8L, 68L, 105L, 22L, 716L,?
127L, 88L, 81L, 140L, 169L, 109L, 719L, 35L, 185L, 6L, 34L, 707L,?
101L, 38L, 28L, 84L, 113L, 62L, 168L, 23L, 3L, 117L, 150L, 705L,?
183L, 7L, 714L, 720L, 49L, 144L, 153L, 12L, 143L, 56L, 171L,?
17L, 50L, 77L, 55L, 175L, 52L, 58L, 722L, 145L, 125L, 32L), lat_xm = c(729.2669944,?
1001.809576, 501.4865527, 105.2662516, 622.0842564, 313.4718688,?
198.828763, 248.3819471, 466.4434076, 155.709257, 433.2482345,?
388.4860969, 306.5590574, 14.98895776, 191.9843836, 309.4336924,?
308.6123573, 351.526526, 606.8213156, 601.8249333, 912.0799656,?
267.5461811, 1084.557939, 264.26089, 359.6713191, 488.4822672,?
1018.578266, 915.707476, 773.276261, 171.4513083, 1084.831712,?
952.5985963, 878.4741353, 288.3530553, 913.9963847, 1071.827424,?
456.313756, 51.12730755, 582.6607182, 592.1059359, 740.3548678,?
1042.875765, 476.8468377, 654.0474325, 276.375404, 877.6528113,?
135.7921596, 300.9466765, 145.6480126, 829.1262723, 601.4827177,?
237.6363065, 500.3230173, 1129.730741, 398.06821, 340.8493193,?
770.4016222, 1051.63655, 571.7097287, 314.4300781, 117.5861334,?
437.9708453, 95.41039954, 105.7453938, 235.5829892, 627.9704095,?
177.0636713, 99.17481232, 396.6993402, 973.4739067, 1034.662528,?
1046.77705, 221.278275, 27.24031031, 724.0652756, 942.6742674,?
325.9970589, 261.933799, 116.7648206, 464.0478832, 532.6968545,?
423.9399058, 656.8536222, 979.9076146, 221.2098377, 701.5473216,?
709.8290013, 1120.559295, 345.5719307, 463.4318862, 429.6207308,?
659.112262, 717.7684649, 533.3812884, 819.3388243, 600.9351721,?
722.4910753, 1126.719223, 26.8297633), long_ym = c(385.4016022,?
744.3388344, 1278.519267, 582.1054392, 1183.781188, 1313.545671,?
1155.204087, 1008.093201, 812.6125238, 1045.899477, 474.135164,?
887.4467064, 626.9169985, 700.9728169, 849.3068501, 799.1579293,?
1418.180093, 598.1175046, 928.3664402, 1111.83807, 367.2768291,?
1318.32705, 501.4891137, 542.5200518, 1095.7148, 552.6387801,?
636.2573659, 479.9172936, 1057.018971, 980.7392501, 739.0014835,?
485.8106446, 371.9470232, 1365.91848, 942.3769994, 664.2784869,?
887.335514, 669.5046549, 1156.983212, 893.8960158, 933.9261864,?
783.4794517, 1191.342439, 975.8466709, 453.8976828, 55.70866057,?
731.2178331, 973.6227733, 1002.199869, 920.5827929, 678.1778549,?
1141.415921, 578.9919757, 710.2019861, 738.8902861, 936.706063,?
480.8068625, 454.8984371, 771.1368166, 510.940689, 680.7353401,?
1087.041598, 895.6751282, 641.8171157, 573.7658194, 651.9358502,?
816.2819528, 819.6178023, 828.7357905, 801.8266126, 856.9792948,?
415.0906484, 1086.374437, 737.4447458, 559.866446, 0, 423.6526577,?
1166.990753, 957.8330951, 562.8687158, 564.7590286, 1339.676479,?
197.5933584, 132.099559, 1205.686591, 246.6303384, 1106.500715,?
597.3391415, 1389.380609, 1312.878499, 1155.760068, 1152.090634,?
433.6602223, 1252.833235, 1028.88666, 522.3937678, 151.7810272,?
796.3780665, 631.3647851), avg_pop_eb = c(23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359)), .Names = c("num", "FORM_CHK", "RingNummerMan",?
"year_score_taken", "COR_LOC", "IndividuID", "BroedJaar", "ManipulatieOuders",?
"LegBeginDag", "LegBeginMaand", "broodinfo", "BroedselID", "NestkastNummer",?
"lat_xm", "long_ym", "avg_pop_eb"), class = "data.frame", row.names = c(NA,?
-99L))


#Code for ?tessellation
library(deldir)

ao= read.table("C:/Users/Monaly/Desktop/2012_malenest.txt", header=TRUE)

a29= deldir(ao$lat_xm, ao$long_ym)

a30=tile.list(a29)

plot(a30, close=TRUE, main="2012 Male Nest", xlab="latitude (m)", ylab="longitude (m)", wpoints="real", verbose=FALSE,num=TRUE, rw=c(0, 1200, 0, 2000))

text(ao$lat_xm, ao$long_ym,col=c(2,1,4),labels=round(ao$NestkastNummer, 3), pos=2, offset=0.2, cex=0.7) ?#this was to identify the points




On Fri, May 23, 2014 at 11:58 AM, Frede Aakmann T?gersen <frtog at vestas.com> wrote:

Hi Monaly
>
>I guess that if you made the neighborhood data available (using dput()) then Arun will easily show you how to automatically with only ?a couple of code lines instead of those many lines you had to make by hand.
>
>Have a nice day.
>
>Yours sincerely / Med venlig hilsen
>
>
>Frede Aakmann T?gersen
>Specialist, M.Sc., Ph.D.
>Plant Performance & Modeling
>
>Technology & Service Solutions
>T +45 9730 5135
>M +45 2547 6050
>frtog at vestas.com
>http://www.vestas.com
>
>Company reg. name: Vestas Wind Systems A/S
>This e-mail is subject to our e-mail disclaimer statement.
>Please refer to www.vestas.com/legal/notice
>If you have received this e-mail in error please contact the sender.
>
>
>
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
>> On Behalf Of Monaly Mistry
>> Sent: 23. maj 2014 12:34
>> To: arun; r-help at r-project.org
>> Subject: Re: [R] subsetting to exclude different values for each subject in
>> study
>>
>> Hi,
>>
>
>> I did use the library deldir, I didn't put that code in since I ?wasn't
>> sure if it was really relevant to the question as I just made the
>> tesselations identifying which tessellation belonged to which individual.
>> Following that I by hand recorded which individuals were sharing a boundary
>> with each other.
>>
>> Best,
>>
>> Monaly.
>>
>>
>> On Fri, May 23, 2014 at 11:25 AM, arun <smartpink111 at yahoo.com> wrote:
>>
>> > Hi,
>> >
>> > I am not sure how you did that. ?May be using library(deldir). ?I didn't
>> > find that codes in your previous email.
>> >
>> > A.K.
>> >
>> > On Friday, May 23, 2014 12:42 AM, Monaly Mistry
>> <monaly.mistry at gmail.com>
>> > wrote:
>> >
>> >
>> >
>> > Hi,
>> > Neighbours in this case were selected if they shared a boundary in the
>> > voroni tesellation.
>> >
>> > Best,
>> > Monaly
>> > On May 23, 2014 3:19 AM, "arun" <smartpink111 at yahoo.com> wrote:
>> > >
>> > >
>> > >
>> > > HI Monaly,
>> > > Thanks for the code and dput. ?But, I have a doubt about how you are
>> > selecting the neigbours. ?Is there another dataset with the information?
>> > Sorry, if I have missed something
>> > > For e.g.
>> > > ### average difference b/n neighbours for each individual
>> > > XO["avg", "176"]<- mean(abs((XO[1,"176"])-XO[1,c("140","162","713")]))
>> > >
>> > >
>> > > A.K.
>> > >
>> > >
>> > > On Thursday, May 22, 2014 5:21 PM, Monaly Mistry <
>> > monaly.mistry at gmail.com> wrote:
>> > > Hi Everyone,
>> > >
>> > > I hope I did this correctly (I called my data frame ao) and Thank you
>> > very
>> > > much for the info about using dput(), I'm starting to understand all the
>> > > different things that can be done in R and I appreciate all the advice.
>> > I
>> > > must appologize in advance since my coding is quite long but hopefully it
>> > > makes sense. and there is a efficient way to do this.
>> > >
>> > > structure(list(num = 1:99, FORM_CHK = c(20870L, 22018L, 30737L,
>> > > 22010L, 22028L, 36059L, 36063L, 36066L, 30587L, 30612L, 36056L,
>> > > 30376L, 35153L, 30435L, 30536L, 30486L, 30475L, 36053L, 36048L,
>> > > 36076L, 36045L, 36065L, 35772L, 36949L, 35702L, 36894L, 36080L,
>> > > 35542L, 35457L, 35533L, 36042L, 36925L, 36827L, 36008L, 35817L,
>> > > 36350L, 35985L, 35973L, 35801L, 36639L, 35810L, 35812L, 35807L,
>> > > 36351L, 35967L, 35944L, 37006L, 36345L, 36062L, 36077L, 35802L,
>> > > 35984L, 36043L, 35769L, 36360L, 36082L, 36071L, 36354L, 35771L,
>> > > 35754L, 36295L, 35746L, 36064L, 35779L, 35751L, 35752L, 35785L,
>> > > 35792L, 37011L, 36003L, 36040L, 36831L, 36031L, 36652L, 36992L,
>> > > 36965L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
>> > > NA, NA, NA, NA, NA, NA, NA, NA, NA), RingNummerMan =
>> structure(c(1L,
>> > > 2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L,
>> > > 16L, 17L, 19L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 34L,
>> > > 35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 46L, 47L, 48L,
>> > > 49L, 50L, 51L, 52L, 54L, 55L, 56L, 57L, 58L, 59L, 60L, 61L, 63L,
>> > > 65L, 67L, 69L, 70L, 73L, 74L, 75L, 76L, 78L, 79L, 80L, 81L, 82L,
>> > > 83L, 85L, 86L, 87L, 88L, 89L, 93L, 96L, 97L, 18L, 20L, 21L, 28L,
>> > > 32L, 33L, 45L, 53L, 62L, 64L, 66L, 68L, 71L, 72L, 77L, 84L, 90L,
>> > > 91L, 92L, 94L, 95L, 98L, 99L), .Label = c("AJ...75425", "AL...62371",
>> > > "AR...11060", "AR...29297", "AR...29307", "AR...29502", "AR...29504",
>> > > "AR...29507", "AR...30039", "AR...30085", "AR...30165", "AR...30491",
>> > > "AR...30563", "AR...30616", "AR...30652", "AR...30687", "AR...30701",
>> > > "AR...30927", "AR...30959", "AR...30963", "AR...30964", "AR...30965",
>> > > "AR...30966", "AR...30985", "AR...30988", "AR...40917", "AR...40996",
>> > > "AR...45735", "AR...45904", "AR...45928", "AR...47609", "AR...65387",
>> > > "AR...65479", "AR...65550", "AR...65629", "AR...65948", "AR...86074",
>> > > "AR...86521", "AR...86527", "AR...90061", "AR...90064", "AR...90067",
>> > > "AR...90077", "AR...90081", "AR...90098", "AR...90101", "AR...90106",
>> > > "AR...90112", "AR...90133", "AR...90155", "AR...90176", "AR...90178",
>> > > "AR...90180", "AR...90187", "AR...90212", "AR...90247", "AR...90252",
>> > > "AR...90256", "AR...90258", "AR...90269", "AR...90272", "AR...90275",
>> > > "AR...90294", "AR...90298", "AR...90300", "AR...90337", "AR...90338",
>> > > "AR...90367", "AR...90397", "AR...90410", "AR...90463", "AR...90520",
>> > > "AR...90544", "AR...90556", "AR...90678", "AR...90712", "AR...90737",
>> > > "AR...90744", "AR...90829", "AR...90862", "AR...90863", "AR...90873",
>> > > "AR...90880", "AR...90892", "AR...90898", "AR...90945", "AR...90951",
>> > > "AR...90965", "AR...90970", "AR...90972", "AU...15008", "AU...15009",
>> > > "AU...15027", "AU...15032", "AU...15036", "AU...15038", "AU...15046",
>> > > "AU...15049", "AU...15505"), class = "factor"), year_score_taken =
>> > c(2006L,
>> > > 2008L, 2009L, 2008L, 2008L, 2011L, 2011L, 2011L, 2009L, 2009L,
>> > > 2011L, 2009L, 2010L, 2009L, 2009L, 2009L, 2009L, 2011L, 2011L,
>> > > 2011L, 2011L, 2011L, 2011L, 2012L, 2011L, 2012L, 2011L, 2010L,
>> > > 2010L, 2010L, 2011L, 2012L, 2012L, 2011L, 2011L, 2012L, 2011L,
>> > > 2011L, 2011L, 2012L, 2011L, 2011L, 2011L, 2012L, 2011L, 2011L,
>> > > 2013L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L, 2012L,
>> > > 2012L, 2011L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L,
>> > > 2011L, 2011L, 2011L, 2011L, 2013L, 2011L, 2011L, 2012L, 2011L,
>> > > 2012L, 2012L, 2012L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
>> > > NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), COR_LOC =
>> > c(15.13404,
>> > > 13.88054, 30.0969, 19.09152, 16.88054, 14.15718, 39.15718, 16.15718,
>> > > 16.13566, 23.07538, 39.15718, 24.56838, 12.13942, 21.4123, 19.06945,
>> > > 12.33264, 32.48872, 30.15718, 37.15718, 37.15718, 49.15718, 22.15718,
>> > > 18.50272, 23.69432, 24.9322, 47.29712, 41.15718, 21.47903, 38.6588,
>> > > 34.99572, 28.15718, 13.08614, 16.71908, 22.68894, 19.2616, 15.96234,
>> > > 22.83964, 13.89992, 14.2616, 18.17118, 24.2616, 22.2616, 13.2616,
>> > > 23.96234, 24.89992, 24.05062, 10.20884, 6.96234, 13.15718, 17.15718,
>> > > 40.2616, 21.83964, 20.15718, 39.50272, 26.81164, 20.3843, 14.15718,
>> > > 7.96234, 19.50272, 40.74384, 5.7675, 42.95482, 29.15718, 18.32188,
>> > > 28.74384, 37.74384, 22.32188, 25.32188, 18.20884, 14.68894, 22.15718,
>> > > 39.71908, 18.2067, 15.1109, 15.61466, 47.4532, NA, NA, NA, NA,
>> > > NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,
>> > > NA, NA, NA), IndividuID = c(11394L, 15676L, 342518L, 344902L,
>> > > 344909L, 377497L, 377499L, 377504L, 352003L, 351986L, 352260L,
>> > > 352392L, 353800L, 353892L, 353949L, 354060L, 354074L, 377487L,
>> > > 377490L, 377511L, 377513L, 377495L, 377297L, 357796L, 366326L,
>> > > 378446L, 377518L, 358157L, 358730L, 366215L, 377519L, 378407L,
>> > > 378453L, 377443L, 377358L, 377726L, 377422L, 377402L, 377341L,
>> > > 378354L, 377350L, 377352L, 377347L, 378408L, 377396L, 377374L,
>> > > 377774L, 377743L, 377500L, 377510L, 377342L, 377421L, 377786L,
>> > > 377294L, 377836L, 378291L, 377508L, 378199L, 377296L, 377280L,
>> > > 373000L, 373020L, 377496L, 377306L, 373025L, 377278L, 377310L,
>> > > 377317L, 377337L, 377439L, 377450L, 377464L, 377478L, 400290L,
>> > > 400361L, 400260L, 357889L, 377477L, 377298L, 400370L, 356930L,
>> > > 356939L, 378115L, 377562L, 378018L, 377834L, 378290L, 378228L,
>> > > 378268L, 378052L, 378103L, 377332L, 377514L, 400356L, 400357L,
>> > > 400372L, 400259L, 400256L, 400354L), BroedJaar = c(2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,
>> > > 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L), ManipulatieOuders =
>> > c(0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
>> > > 0L, 0L), LegBeginDag = c(11L, 15L, 15L, 13L, 8L, 26L, 15L, 16L,
>> > > 1L, 3L, 4L, 9L, 13L, 20L, 11L, 2L, 9L, 13L, 31L, 1L, 12L, 8L,
>> > > 13L, 7L, 10L, 11L, 17L, 10L, 11L, 19L, 20L, 13L, 14L, 24L, 17L,
>> > > 10L, 8L, 29L, 7L, 26L, 10L, 15L, 2L, 6L, 8L, 13L, 1L, 5L, 12L,
>> > > 12L, 15L, 19L, 10L, 1L, 5L, 13L, 6L, 5L, 16L, 2L, 2L, 30L, 10L,
>> > > 21L, 8L, 19L, 8L, 27L, 3L, 8L, 14L, 18L, 17L, 7L, 4L, 10L, 13L,
>> > > 11L, 31L, 25L, 23L, 7L, 7L, 7L, 8L, 3L, 14L, 14L, 15L, 5L, 10L,
>> > > 11L, 18L, 1L, 31L, 3L, 8L, 20L, 14L), LegBeginMaand = c(4L, 4L,
>> > > 5L, 4L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
>> > > 3L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L,
>> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,
>> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 4L, 4L, 4L,
>> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,
>> > > 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,
>> > > 4L), broodinfo = c(55334L, 55325L, 55317L, 55349L, 55366L, 55303L,
>> > > 55461L, 55528L, 55296L, 55297L, 55630L, 55567L, 55345L, 55444L,
>> > > 55526L, 55571L, 55462L, 55346L, 55576L, 55577L, 55601L, 55300L,
>> > > 55607L, 55634L, 55558L, 55633L, 55590L, 55594L, 55537L, 55466L,
>> > > 55327L, 55603L, 55600L, 55302L, 55319L, 55609L, 55574L, 55310L,
>> > > 55554L, 55582L, 55561L, 55320L, 55555L, 55578L, 55343L, 55331L,
>> > > 55314L, 55560L, 55460L, 55551L, 55322L, 55306L, 55348L, 55589L,
>> > > 55572L, 55565L, 55595L, 55606L, 55323L, 55635L, 55568L, 55614L,
>> > > 55447L, 55312L, 55344L, 55321L, 55569L, 55309L, 55570L, 55562L,
>> > > 55550L, 55605L, 55465L, 55445L, 55587L, 55332L, 55629L, 55613L,
>> > > 55448L, 55632L, 55636L, 55531L, 55329L, 55597L, 55298L, 55596L,
>> > > 55318L, 55608L, 55463L, 55532L, 55557L, 55536L, 55333L, 55533L,
>> > > 55538L, 55637L, 55330L, 55326L, 55525L), BroedselID = c(55334L,
>> > > 55325L, 55317L, 55349L, 55366L, 55303L, 55461L, 55528L, 55296L,
>> > > 55297L, 55630L, 55567L, 55345L, 55444L, 55526L, 55571L, 55462L,
>> > > 55346L, 55576L, 55577L, 55601L, 55300L, 55607L, 55634L, 55558L,
>> > > 55633L, 55590L, 55594L, 55537L, 55466L, 55327L, 55603L, 55600L,
>> > > 55302L, 55319L, 55609L, 55574L, 55310L, 55554L, 55582L, 55561L,
>> > > 55320L, 55555L, 55578L, 55343L, 55331L, 55314L, 55560L, 55460L,
>> > > 55551L, 55322L, 55306L, 55348L, 55589L, 55572L, 55565L, 55595L,
>> > > 55606L, 55323L, 55635L, 55568L, 55614L, 55447L, 55312L, 55344L,
>> > > 55321L, 55569L, 55309L, 55570L, 55562L, 55550L, 55605L, 55465L,
>> > > 55445L, 55587L, 55332L, 55629L, 55613L, 55448L, 55632L, 55636L,
>> > > 55531L, 55329L, 55597L, 55298L, 55596L, 55318L, 55608L, 55463L,
>> > > 55532L, 55557L, 55536L, 55333L, 55533L, 55538L, 55637L, 55330L,
>> > > 55326L, 55525L), NestkastNummer = c(176L, 124L, 51L, 717L, 54L,
>> > > 19L, 11L, 42L, 90L, 9L, 713L, 82L, 709L, 2L, 39L, 86L, 16L, 710L,
>> > > 93L, 94L, 163L, 14L, 170L, 718L, 79L, 715L, 130L, 133L, 57L,
>> > > 25L, 128L, 164L, 162L, 15L, 60L, 172L, 91L, 31L, 73L, 97L, 111L,
>> > > 64L, 74L, 95L, 704L, 148L, 36L, 80L, 8L, 68L, 105L, 22L, 716L,
>> > > 127L, 88L, 81L, 140L, 169L, 109L, 719L, 35L, 185L, 6L, 34L, 707L,
>> > > 101L, 38L, 28L, 84L, 113L, 62L, 168L, 23L, 3L, 117L, 150L, 705L,
>> > > 183L, 7L, 714L, 720L, 49L, 144L, 153L, 12L, 143L, 56L, 171L,
>> > > 17L, 50L, 77L, 55L, 175L, 52L, 58L, 722L, 145L, 125L, 32L), lat_xm =
>> > > c(729.2669944,
>> > > 1001.809576, 501.4865527, 105.2662516, 622.0842564, 313.4718688,
>> > > 198.828763, 248.3819471, 466.4434076, 155.709257, 433.2482345,
>> > > 388.4860969, 306.5590574, 14.98895776, 191.9843836, 309.4336924,
>> > > 308.6123573, 351.526526, 606.8213156, 601.8249333, 912.0799656,
>> > > 267.5461811, 1084.557939, 264.26089, 359.6713191, 488.4822672,
>> > > 1018.578266, 915.707476, 773.276261, 171.4513083, 1084.831712,
>> > > 952.5985963, 878.4741353, 288.3530553, 913.9963847, 1071.827424,
>> > > 456.313756, 51.12730755, 582.6607182, 592.1059359, 740.3548678,
>> > > 1042.875765, 476.8468377, 654.0474325, 276.375404, 877.6528113,
>> > > 135.7921596, 300.9466765, 145.6480126, 829.1262723, 601.4827177,
>> > > 237.6363065, 500.3230173, 1129.730741, 398.06821, 340.8493193,
>> > > 770.4016222, 1051.63655, 571.7097287, 314.4300781, 117.5861334,
>> > > 437.9708453, 95.41039954, 105.7453938, 235.5829892, 627.9704095,
>> > > 177.0636713, 99.17481232, 396.6993402, 973.4739067, 1034.662528,
>> > > 1046.77705, 221.278275, 27.24031031, 724.0652756, 942.6742674,
>> > > 325.9970589, 261.933799, 116.7648206, 464.0478832, 532.6968545,
>> > > 423.9399058, 656.8536222, 979.9076146, 221.2098377, 701.5473216,
>> > > 709.8290013, 1120.559295, 345.5719307, 463.4318862, 429.6207308,
>> > > 659.112262, 717.7684649, 533.3812884, 819.3388243, 600.9351721,
>> > > 722.4910753, 1126.719223, 26.8297633), long_ym = c(385.4016022,
>> > > 744.3388344, 1278.519267, 582.1054392, 1183.781188, 1313.545671,
>> > > 1155.204087, 1008.093201, 812.6125238, 1045.899477, 474.135164,
>> > > 887.4467064, 626.9169985, 700.9728169, 849.3068501, 799.1579293,
>> > > 1418.180093, 598.1175046, 928.3664402, 1111.83807, 367.2768291,
>> > > 1318.32705, 501.4891137, 542.5200518, 1095.7148, 552.6387801,
>> > > 636.2573659, 479.9172936, 1057.018971, 980.7392501, 739.0014835,
>> > > 485.8106446, 371.9470232, 1365.91848, 942.3769994, 664.2784869,
>> > > 887.335514, 669.5046549, 1156.983212, 893.8960158, 933.9261864,
>> > > 783.4794517, 1191.342439, 975.8466709, 453.8976828, 55.70866057,
>> > > 731.2178331, 973.6227733, 1002.199869, 920.5827929, 678.1778549,
>> > > 1141.415921, 578.9919757, 710.2019861, 738.8902861, 936.706063,
>> > > 480.8068625, 454.8984371, 771.1368166, 510.940689, 680.7353401,
>> > > 1087.041598, 895.6751282, 641.8171157, 573.7658194, 651.9358502,
>> > > 816.2819528, 819.6178023, 828.7357905, 801.8266126, 856.9792948,
>> > > 415.0906484, 1086.374437, 737.4447458, 559.866446, 0, 423.6526577,
>> > > 1166.990753, 957.8330951, 562.8687158, 564.7590286, 1339.676479,
>> > > 197.5933584, 132.099559, 1205.686591, 246.6303384, 1106.500715,
>> > > 597.3391415, 1389.380609, 1312.878499, 1155.760068, 1152.090634,
>> > > 433.6602223, 1252.833235, 1028.88666, 522.3937678, 151.7810272,
>> > > 796.3780665, 631.3647851), avg_pop_eb = c(23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,
>> > > 23.57103359, 23.57103359)), .Names = c("num", "FORM_CHK",
>> > "RingNummerMan",
>> > > "year_score_taken", "COR_LOC", "IndividuID", "BroedJaar",
>> > > "ManipulatieOuders",
>> > > "LegBeginDag", "LegBeginMaand", "broodinfo", "BroedselID",
>> > > "NestkastNummer",
>> > > "lat_xm", "long_ym", "avg_pop_eb"), class = "data.frame", row.names =
>> > c(NA,
>> > > -99L))
>> > >
>> > >
>> > > #Below is the code I made to run my analyses
>> > > XO<- matrix( 0,6, 76, byrow=TRUE);XO ?#I first made a matrix to store my
>> > > results in
>> > > names(ao)
>> > > ao$NestkastNummer
>> > > b<-c(77:99)
>> > > abo<-ao$NestkastNummer[-b];abo ? #removed values that were NA
>> > > rownames(XO) = c("EB_score","avg","pop_size","pop_avg_score",
>> > > "adj_pop_avg", "ind_pop_dif")
>> > > colnames(XO) = c((abo))
>> > > ncol(XO)
>> > > names(ao)
>> > > t <- ao$COR_LOC;t
>> > > i <- c(77:99)
>> > > ti <- t[-i];ti
>> > > XO[1,] = c(ti);XO ?#assigned values from data frame to the matrix
>> > >
>> > > ### average difference b/n neighbours for each individual
>> > > XO["avg", "176"]<- mean(abs((XO[1,"176"])-XO[1,c("140","162","713")]))
>> > > XO["avg", "124"]<-
>> > > mean(abs((XO[1,"124"])-XO[1,c("113","64","128","172","130","117")]))
>> > > XO["avg", "51"]<- mean(abs((XO[1,"51"])-XO[1,c("74")]))
>> > > XO["avg", "717"]<-
>> > mean(abs((XO[1,"717"])-XO[1,c("34","707","704","718")]))
>> > > XO["avg", "54"]<- mean(abs((XO[1,"54"])-XO[1,c("73","94")]))
>> > > XO["avg", "19"]<- mean(abs((XO[1,"19"])-XO[1,c("15","14")]))
>> > > XO["avg", "11"]<- mean(abs((XO[1,"11"])-XO[1,c("22","23","9")]))
>> > > XO["avg", "42"]<-
>> > > mean(abs((XO[1,"42"])-XO[1,c("23","79","80","39","25","9")]))
>> > > XO["avg", "90"]<-
>> > mean(abs((XO[1,"90"])-XO[1,c("91","97","109","88","84")]))
>> > > XO["avg", "9"]<- mean(abs((XO[1,"9"])-XO[1,c("11","23","42","25","8")]))
>> > > XO["avg", "713"]<-
>> > mean(abs((XO[1,"713"])-XO[1,c("715","719","710","176")]))
>> > > XO["avg", "82"]<- mean(abs((XO[1,"82"])-XO[1,c("81","91","84","86")]))
>> > > XO["avg", "709"]<-
>> > > mean(abs((XO[1,"709"])-XO[1,c("36","86","88","710","718","707","35")]))
>> > > XO["avg", "2"]<- mean(abs((XO[1,"2"])-XO[1,c("3","31")]))
>> > > XO["avg", "39"]<-
>> > > mean(abs((XO[1,"39"])-XO[1,c("25","42","80","81","86","38","28","6")]))
>> > > XO["avg", "86"]<-
>> > > mean(abs((XO[1,"86"])-
>> XO[1,c("38","39","81","82","84","88","709","36")]))
>> > > XO["avg", "16"]<- mean(abs((XO[1,"16"])-XO[1,c("15")]))
>> > > XO["avg", "710"]<-
>> > > mean(abs((XO[1,"710"])-XO[1,c("709","88","713","719","718")]))
>> > > XO["avg", "93"]<-
>> > > mean(abs((XO[1,"93"])-XO[1,c("185","94","95","111","97","91")]))
>> > > XO["avg", "94"]<-
>> > mean(abs((XO[1,"94"])-XO[1,c("73","54","95","93","185")]))
>> > > XO["avg", "163"]<-
>> > mean(abs((XO[1,"163"])-XO[1,c("133","164","168","162")]))
>> > > XO["avg", "14"]<- mean(abs((XO[1,"14"])-XO[1,c("15","19")]))
>> > > XO["avg", "170"]<-
>> > mean(abs((XO[1,"170"])-XO[1,c("130","164","169","168")]))
>> > > XO["avg", "718"]<-
>> > > mean(abs((XO[1,"718"])-XO[1,c("707","709","710","719","704")]))
>> > > XO["avg", "79"]<-
>> > > mean(abs((XO[1,"79"])-XO[1,c("23","22","185","81","80","42")]))
>> > > XO["avg", "715"]<- mean(abs((XO[1,"715"])-XO[1,c("716","713")]))
>> > > XO["avg", "130"]<-
>> > > mean(abs((XO[1,"130"])-XO[1,c("124","172","170","164","133","117")]))
>> > > XO["avg", "133"]<-
>> > > mean(abs((XO[1,"133"])-XO[1,c("117","130","164","163","162","140")]))
>> > > XO["avg", "57"]<- mean(abs((XO[1,"57"])-XO[1,c("95","111")]))
>> > > XO["avg", "25"]<- mean(abs((XO[1,"25"])-
>> XO[1,c("8","9","42","80","39")]))
>> > > XO["avg", "128"]<-
>> > mean(abs((XO[1,"128"])-XO[1,c("124","64","127","172")]))
>> > > XO["avg", "164"]<-
>> > > mean(abs((XO[1,"164"])-XO[1,c("130","170","169","168","163","133")]))
>> > > XO["avg", "162"]<-
>> > mean(abs((XO[1,"162"])-XO[1,c("176","140","133","163")]))
>> > > XO["avg", "15"]<- mean(abs((XO[1,"15"])-XO[1,c("16","19","14")]))
>> > > XO["avg", "60"]<- mean(abs((XO[1,"60"])-XO[1,c("62","68","113")]))
>> > > XO["avg", "172"]<-
>> > mean(abs((XO[1,"172"])-XO[1,c("124","128","127","130")]))
>> > > XO["avg", "91"]<-
>> > > mean(abs((XO[1,"91"])-XO[1,c("185","93","97","90","84","82","81")]))
>> > > XO["avg", "31"]<- mean(abs((XO[1,"31"])-
>> XO[1,c("2","3","36","35","34")]))
>> > > XO["avg", "73"]<- mean(abs((XO[1,"73"])-XO[1,c("74","54","94","185")]))
>> > > XO["avg", "97"]<-
>> > > mean(abs((XO[1,"97"])-XO[1,c("91","93","111","109","90")]))
>> > > XO["avg", "111"]<-
>> > > mean(abs((XO[1,"111"])-XO[1,c("95","57","68","101","109","97","93")]))
>> > > XO["avg", "64"]<- mean(abs((XO[1,"64"])-
>> XO[1,c("113","62","128","124")]))
>> > > XO["avg", "74"]<- mean(abs((XO[1,"74"])-XO[1,c("51","73","185")]))
>> > > XO["avg", "95"]<- mean(abs((XO[1,"95"])-XO[1,c("94","57","111","93")]))
>> > > XO["avg", "704"]<-
>> > mean(abs((XO[1,"704"])-XO[1,c("719","718","707","717")]))
>> > > XO["avg", "148"]<- mean(abs((XO[1,"148"])-XO[1,c("150")]))
>> > > XO["avg", "36"]<-
>> > > mean(abs((XO[1,"36"])-XO[1,c("28","38","86","709","707","35","3")]))
>> > > XO["avg", "80"]<-
>> > mean(abs((XO[1,"80"])-XO[1,c("42","79","81","39","25")]))
>> > > XO["avg", "8"]<- mean(abs((XO[1,"8"])-XO[1,c("9","25")]))
>> > > XO["avg", "68"]<-
>> > > mean(abs((XO[1,"68"])-XO[1,c("111","60","113","117","101")]))
>> > > XO["avg", "105"]<-
>> > mean(abs((XO[1,"105"])-XO[1,c("88","109","101","716")]))
>> > > XO["avg", "22"]<- mean(abs((XO[1,"22"])-XO[1,c("11","79","23")]))
>> > > XO["avg", "716"]<- mean(abs((XO[1,"716"])-XO[1,c("88","105","715")]))
>> > > XO["avg", "127"]<- mean(abs((XO[1,"127"])-XO[1,c("128","172")]))
>> > > XO["avg", "88"]<-
>> > >
>> > mean(abs((XO[1,"88"])-
>> XO[1,c("86","84","90","109","105","716","710","709")]))
>> > > XO["avg", "81"]<-
>> > > mean(abs((XO[1,"81"])-XO[1,c("80","79","185","91","82","86","39")]))
>> > > XO["avg", "140"]<-
>> > mean(abs((XO[1,"140"])-XO[1,c("117","133","162","176")]))
>> > > XO["avg", "169"]<- mean(abs((XO[1,"169"])-XO[1,c("164","170","168")]))
>> > > XO["avg", "109"]<-
>> > > mean(abs((XO[1,"109"])-XO[1,c("90","97","111","101","105","88")]))
>> > > XO["avg", "719"]<-
>> > mean(abs((XO[1,"719"])-XO[1,c("718","710","713","704")]))
>> > > XO["avg", "35"]<-
>> > > mean(abs((XO[1,"35"])-XO[1,c("36","709","707","34","31","3")]))
>> > > XO["avg", "185"]<-
>> > > mean(abs((XO[1,"185"])-XO[1,c("79","74","73","94","93","91","81")]))
>> > > XO["avg", "6"]<- mean(abs((XO[1,"6"])-XO[1,c("39","28","3")]))
>> > > XO["avg", "34"]<- mean(abs((XO[1,"34"])-
>> XO[1,c("31","35","707","717")]))
>> > > XO["avg", "707"]<-
>> > > mean(abs((XO[1,"707"])-
>> XO[1,c("34","35","36","709","718","717","704")]))
>> > > XO["avg", "101"]<-
>> > > mean(abs((XO[1,"101"])-XO[1,c("105","109","111","68","113","117")]))
>> > > XO["avg", "38"]<- mean(abs((XO[1,"38"])-XO[1,c("39","86","36","28")]))
>> > > XO["avg", "28"]<- mean(abs((XO[1,"28"])-
>> XO[1,c("6","39","38","36","3")]))
>> > > XO["avg", "84"]<-
>> > mean(abs((XO[1,"84"])-XO[1,c("82","91","90","88","86")]))
>> > > XO["avg", "113"]<-
>> > > mean(abs((XO[1,"113"])-XO[1,c("68","60","62","64","124","117","101")]))
>> > > XO["avg", "62"]<- mean(abs((XO[1,"62"])-XO[1,c("60","64","113")]))
>> > > XO["avg", "168"]<-
>> > mean(abs((XO[1,"168"])-XO[1,c("170","169","164","163")]))
>> > > XO["avg", "23"]<-
>> > mean(abs((XO[1,"23"])-XO[1,c("9","11","22","79","42")]))
>> > > XO["avg", "3"]<-
>> > mean(abs((XO[1,"3"])-XO[1,c("6","28","36","35","31","2")]))
>> > > XO["avg", "117"]<-
>> > >
>> > mean(abs((XO[1,"117"])-
>> XO[1,c("101","113","124","130","133","140","68")]))
>> > > XO["avg", "150"]<- mean(abs((XO[1,"150"])-XO[1,c("148")]))
>> > > XO["pop_size",] <- 76
>> > > XO["pop_avg_score",]<- mean(XO["EB_score",])
>> > > for (i in XO){
>> > > ? XO["adj_pop_avg",] <-
>> > >
>> > ((XO["pop_avg_score",])*(XO["pop_size",])-
>> (XO["EB_score",]))/((XO["pop_size",]-1))
>> > > ? #here I ran a loop to get info
>> > > ? XO["ind_pop_dif",] <-abs((XO["EB_score",]-XO["adj_pop_avg",]))}
>> > > t.test(XO["avg",], XO["ind_pop_dif",], paired=TRUE)
>> > > XO
>> > > XO<-rbind(XO,0)
>> > > rownames(XO)<-c("EB_score","avg","pop_size","pop_avg_score",
>> > "adj_pop_avg",
>> > > "ind_pop_dif", "non_nei")
>> > > XO["non_nei",]<-0
>> > > rowMeans(XO[,1:76])
>> > >
>> > > #This is the average observed discrepancy from individuals to neighbours
>> > > #IOW on average how different is a focal bird in this year different from
>> > > its neighbours
>> > > obso=mean(XO["avg",])
>> > > print(paste("Observed=", obso))
>> > > XY[15,1]<-round(obso, digits=4)
>> > >
>> > >
>> > > #This is the code I previously posted to find the difference in scores
>> > > between a single subject and its non-neighbours
>> > > o<-(ao[,c(13,5)])
>> > > o<-na.omit(o)
>> > > o<-o[!o$NestkastNummer %in% c(176,140,162,713),]
>> > > XO[7,1]<-abs((XO[1,"176"]-(mean(o[,"COR_LOC"]))))
>> > >
>> > >
>> > > Best,
>> > >
>> > > Monaly.
>> > >
>> > >
>> > > On Thu, May 22, 2014 at 5:08 PM, John Kane <jrkrideau at inbox.com>
>> wrote:
>> > >
>> > > > Re dput() etc
>> > > > https://github.com/hadley/devtools/wiki/Reproducibility
>> > > >
>> > > >
>> > http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-
>> reproducible-example
>> > > >
>> > > > What dput() does is take your data and ouput it in an ascii format that
>> > > > let's the reader here create an exact duplicate of your database.
>> > > >
>> > > > R is not WYSIWYG. Often what you see on the screen does not tell the
>> > whole
>> > > > tale. R supports a number of different data types: vectors, matrices,
>> > > > data.frames, lists, arrays and others. This site gives a useful though
>> > not
>> > > > complete summary of many data types
>> > > > http://www.statmethods.net/input/datatypes.html. When you have
>> just
>> > > > created a new data set, or even when working with one that you have
>> not
>> > > > worked with in some time it is a good idea to do a str() and class()
>> > on the
>> > > > data object just to be sure that you are working with the data types
>> > you
>> > > > think you have. What looks like a column of numbers in a data.frame
>> may
>> > > > actually be a set of factors or a set of character (text) data and
>> > you're
>> > > > left wondering why multiplying it by some number is not working.
>> > > >
>> > > > Here is a short example to illustrate. Just copy and paste in the code
>> > > > ?dat1 ?<- data.frame(aa = as.factor(1:5), bb = 1:5)
>> > > > dat1 # data looks identical on the screen
>> > > > 5*dat1[,"aa"] ?# oops
>> > > > 5*dat1[, "bb"] # okay
>> > > > str(dat1)
>> > > >
>> > > >
>> > > > John Kane
>> > > > Kingston ON Canada
>> > > >
>> > > >
>> > > > > -----Original Message-----
>> > > > > From: monaly.mistry at gmail.com
>> > > > > Sent: Thu, 22 May 2014 16:31:39 +0100
>> > > > > To: smartpink111 at yahoo.com, r-help at r-project.org
>> > > > > Subject: Re: [R] subsetting to exclude different values for each
>> > subject
>> > > > > in study
>> > > > >
>> > > > > Hi,
>> > > > >
>> > > > > Sorry I'm fairly new to R and I don't really understand using dput(),
>> > > > > when
>> > > > > you say reproducible example do you mean the code with the
>> output?
>> > > > >
>> > > > > Best,
>> > > > >
>> > > > > Monaly.
>> > > > >
>> > > > >
>> > > > > On Thu, May 22, 2014 at 4:03 PM, arun <smartpink111 at yahoo.com>
>> > wrote:
>> > > > >
>> > > > >> Hi,
>> > > > >>
>> > > > >> It would be helpful if you provide a reproducible example using
>> > ?dput().
>> > > > >>
>> > > > >> A.K.
>> > > > >>
>> > > > >>
>> > > > >>
>> > > > >>
>> > > > >> On Thursday, May 22, 2014 10:15 AM, Monaly Mistry
>> > > > >> <monaly.mistry at gmail.com>
>> > > > >> wrote:
>> > > > >> Hi,
>> > > > >>
>> > > > >> I've written a code to determine the difference in score for a
>> > single
>> > > > >> subject and its non-neighbours
>> > > > >>
>> > > > >> o<-(ao[,c(13,5)]) ##this is the table with the relevant information
>> > > > >> o<-na.omit(o) ?##omitted data with NA
>> > > > >> o<-o[!o$NestkastNummer %in% c(176,140,162,713),] ##removed
>> > neighbours
>> > > > >> XO[7,1]<-abs((XO[1,"176"]-(mean(o[,"COR_LOC"])))) ?#difference
>> > between
>> > > > >> that
>> > > > >> individual and average non-neighbours scores
>> > > > >>
>> > > > >> Since each subject has a different number of non-neighbours I was
>> > > > >> wondering
>> > > > >> if there is an efficient way of writing the code, instead of
>> > writing the
>> > > > >> same code again and again (76 subjects) for each subject and its
>> > > > >> non-neighbours.
>> > > > >>
>> > > > >>
>> > > > >> Best,
>> > > > >>
>> > > > >> Monaly.
>> > > > >>
>> > > > >> ? ? [[alternative HTML version deleted]]
>> > > > >>
>> > > > >> ______________________________________________
>> > > > >> R-help at r-project.org mailing list
>> > > > >> https://stat.ethz.ch/mailman/listinfo/r-help
>> > > > >> PLEASE do read the posting guide
>> > > > >> http://www.R-project.org/posting-guide.html
>> > > > >> and provide commented, minimal, self-contained, reproducible
>> code.
>> > > > >>
>> > > > >>
>> > > > >
>> > > > > ? ? ? [[alternative HTML version deleted]]
>> > > > >
>> > > > > ______________________________________________
>> > > > > R-help at r-project.org mailing list
>> > > > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > > > PLEASE do read the posting guide
>> > > > > http://www.R-project.org/posting-guide.html
>> > > > > and provide commented, minimal, self-contained, reproducible code.
>> > > >
>> > > >
>> __________________________________________________________
>> __
>> > > > FREE ONLINE PHOTOSHARING - Share your photos online with your
>> friends
>> > and
>> > > > family!
>> > > > Visit http://www.inbox.com/photosharing to find out more!
>> > > >
>> > > >
>> > > >
>> > >
>> > > ? ? [[alternative HTML version deleted]]
>> > >
>> > > ______________________________________________
>> > > R-help at r-project.org mailing list
>> > > https://stat.ethz.ch/mailman/listinfo/r-help
>> > > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > > and provide commented, minimal, self-contained, reproducible code.
>> >
>>
>> ? ? ? [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From ragia11 at hotmail.com  Fri May 23 20:57:25 2014
From: ragia11 at hotmail.com (Ragia Ibrahim)
Date: Fri, 23 May 2014 20:57:25 +0200
Subject: [R] How to follow
In-Reply-To: <DUB125-W502F1A55D5493AC7235861B33E0@phx.gbl>
References: <1400083853831.62621@insead.edu>, <1400854200087.36648@insead.edu>,
	<DUB125-W502F1A55D5493AC7235861B33E0@phx.gbl>
Message-ID: <DUB125-W68F077464FC9FBDD1B434B33E0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/f6a394fb/attachment.pl>

From sarah.goslee at gmail.com  Fri May 23 21:10:14 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Fri, 23 May 2014 15:10:14 -0400
Subject: [R] How to follow
In-Reply-To: <DUB125-W68F077464FC9FBDD1B434B33E0@phx.gbl>
References: <1400083853831.62621@insead.edu> <1400854200087.36648@insead.edu>
	<DUB125-W502F1A55D5493AC7235861B33E0@phx.gbl>
	<DUB125-W68F077464FC9FBDD1B434B33E0@phx.gbl>
Message-ID: <CAM_vjumAgoDwkCN9tdZZpPoSnUxBgfffV5Q=dkKQgUnir9xEqQ@mail.gmail.com>

Hi,

On Fri, May 23, 2014 at 2:57 PM, Ragia Ibrahim <ragia11 at hotmail.com> wrote:
>
> Hi,
> An R function that should be run for about 50 000 times...
> during execution some data saved in data frame
> how can I view the progress of the function, even its counter..?

http://stackoverflow.com/questions/8450580/print-j-on-every-outside-loop-iteration-in-r

> there are print stamens inside the code but nothing show up till the end of the run !!!

> other thing, is there any way in R to make simulation easier?

Probably, but not if we have no idea what you're trying to do. Please
read the posting guide.

> thanks n advance
> RAE
>

-- 
Sarah Goslee
http://www.functionaldiversity.org


From 538280 at gmail.com  Fri May 23 21:29:55 2014
From: 538280 at gmail.com (Greg Snow)
Date: Fri, 23 May 2014 13:29:55 -0600
Subject: [R] How to follow
In-Reply-To: <DUB125-W68F077464FC9FBDD1B434B33E0@phx.gbl>
References: <1400083853831.62621@insead.edu> <1400854200087.36648@insead.edu>
	<DUB125-W502F1A55D5493AC7235861B33E0@phx.gbl>
	<DUB125-W68F077464FC9FBDD1B434B33E0@phx.gbl>
Message-ID: <CAFEqCdyQ0jz1FmCgjJ69mHCrzJs3YF==s55ktgvE2ND=sFaEsg@mail.gmail.com>

Here are some functions to look at for help with your problem (though
as Sarah comments, it would be easier for us to help you if you help
us by giving more detail as mentioned in the posting guide).

The flush.console function will send output to the screen even when
buffering is happening.
The winProgressBar function (and relatives) give another approach to
indicating progress when on a windows OS
The tkProgressBar function in the tcltk package does similar and works
on non-windows OSs.
The replicate function is one way to make simulations easier
The whole parallel package can help make simulations faster in some
cases (though it ruins the whole monitoring progress thing).

On Fri, May 23, 2014 at 12:57 PM, Ragia Ibrahim <ragia11 at hotmail.com> wrote:
>
>
> F
>
>
>
> Hi,
> An R function that should be run for about 50 000 times...
> during execution some data saved in data frame
> how can I view the progress of the function, even its counter..?
> there are print stamens inside the code but nothing show up till the end of the run !!!
> other thing, is there any way in R to make simulation easier?
> thanks n advance
> RAE
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From jvadams at usgs.gov  Fri May 23 23:04:14 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Fri, 23 May 2014 16:04:14 -0500
Subject: [R] Error message when fitting a binomial response model using
	glm
In-Reply-To: <537F3B83.2070808@tuwien.ac.at>
References: <537F3B83.2070808@tuwien.ac.at>
Message-ID: <CAN5YmCHoUercDwoLygF2VNoj4d5V5NmgHkwQwEaF602Yj2GEiA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/8814520f/attachment.pl>

From helengao432 at gmail.com  Fri May 23 16:38:45 2014
From: helengao432 at gmail.com (Helen Gao)
Date: Fri, 23 May 2014 15:38:45 +0100
Subject: [R] how to add a table under a plot?
Message-ID: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/97a736d2/attachment.pl>

From schmtzway at yahoo.com  Fri May 23 17:02:31 2014
From: schmtzway at yahoo.com (wayne schlemitz)
Date: Fri, 23 May 2014 08:02:31 -0700 (PDT)
Subject: [R] Time Series
Message-ID: <1400857351.79463.YahooMailNeo@web140906.mail.bf1.yahoo.com>

Dear Sir:
I am trying to plot a time series from the following code:

test <- read.table("/home/wayne/inr2a.txt", header = TRUE, quote="", sep = ";") 
x2 <- ts(data=test, frequency = 80, start = c(2012,11), end = c(2014,5))
plot.ts(x2, xlab="Date", ylab="Inr", main="X2 - Time Series", ylim=c(1.0,4.0),pch=16, col="black")

What I get is multi plots that print 3x across the plot.

Using R 2.15.2-1 on Ubuntu Natty
Attached is the raw data.

Thank you for any suggestions.
Wayne

From kehld at ktk.pte.hu  Fri May 23 23:45:37 2014
From: kehld at ktk.pte.hu (=?iso-8859-2?Q?Kehl_D=E1niel?=)
Date: Fri, 23 May 2014 21:45:37 +0000
Subject: [R] how to add a table under a plot?
In-Reply-To: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
References: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
Message-ID: <33D76D77E9AC4B438DA38B348ED6890D0B9CF411@EMAIL.ktkdom.pte.hu>

Hi, 

the function is in the plotrix package, so you have to install and call that package first.
After installing see example(addtable2plot).

HTH,
daniel
________________________________________
Felad?: r-help-bounces at r-project.org [r-help-bounces at r-project.org] ; meghatalmaz&#243;: Helen Gao [helengao432 at gmail.com]
K?ldve: 2014. m?jus 23. 16:38
To: r-help at r-project.org
T?rgy: [R] how to add a table under a plot?

Dear all,

If you know how to add a table under a plot, could you please send me your
code?

In R documentation, there is a function addtable2plot{}, do you know where
to download the function?

Thank you in advance,
Helen

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From 538280 at gmail.com  Fri May 23 23:49:13 2014
From: 538280 at gmail.com (Greg Snow)
Date: Fri, 23 May 2014 15:49:13 -0600
Subject: [R] how to add a table under a plot?
In-Reply-To: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
References: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
Message-ID: <CAFEqCdyuPT9dg_KGSM6-F9a+dPHSH12b7dtW1CFVN4QC2Ycu3g@mail.gmail.com>

There is an addtable2plot function in the plotrix package, which is on
CRAN and can be installed using install.packages or other standard
ways of installing packages.

If you need the table to line up with parts of the plot then you could
leave extra margin area and call the axis function multiple times
(without plotting the line or tick marks and on different line
numbers) to place the table elements.  Or use the mtext function to
place the individual elements in the margin.  Both could benefit from
using a loop.

On Fri, May 23, 2014 at 8:38 AM, Helen Gao <helengao432 at gmail.com> wrote:
> Dear all,
>
> If you know how to add a table under a plot, could you please send me your
> code?
>
> In R documentation, there is a function addtable2plot{}, do you know where
> to download the function?
>
> Thank you in advance,
> Helen
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From peter.langfelder at gmail.com  Fri May 23 23:58:39 2014
From: peter.langfelder at gmail.com (plangfelder)
Date: Fri, 23 May 2014 14:58:39 -0700 (PDT)
Subject: [R] Error during working with wgcna and R
In-Reply-To: <1400880912502-4691152.post@n4.nabble.com>
References: <1341745374504-4635768.post@n4.nabble.com>
	<3efce90e-a935-48ee-8735-de901a0a8cd0@googlegroups.com>
	<CA+hbrhXkdjKZufGK5qrM++6nPbVWUPBSWV_3qjGF=rK_k0x6uA@mail.gmail.com>
	<1400880912502-4691152.post@n4.nabble.com>
Message-ID: <CA+hbrhUQ5j_13naHaOOqfaAhop0vDHKFreg7SvdyjVRP+xRENQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/c621e424/attachment.pl>

From vweinbir at gmail.com  Sat May 24 00:31:44 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Sat, 24 May 2014 00:31:44 +0200
Subject: [R] How to illustrate data of a csv file as table (xtable?)
Message-ID: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/266dcfd2/attachment.pl>

From murdoch.duncan at gmail.com  Sat May 24 01:49:32 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 23 May 2014 19:49:32 -0400
Subject: [R] How to illustrate data of a csv file as table (xtable?)
In-Reply-To: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
References: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
Message-ID: <537FDE8C.4060801@gmail.com>

On 23/05/2014, 6:31 PM, Verena Weinbir wrote:
> Hello!
>
> I'd like to illustrate the data of an csv file as a nice table and copy it
> into my word-sheet. Currently, I am trying this with the xtable () function
> (latex output).

I'm not sure what you mean by copying it into your word-sheet, but latex 
has a lot of flexibility in formatting tables.  See the 
http://en.wikibooks.org/wiki/LaTeX/Tables page for a description.  It 
might be that you can get xtables to produce output suitable for that; 
you can certainly get the tables package to do it.  (The vignette gives 
an example of a multi-page table, but doesn't include any rotated ones.)

Duncan Murdoch

>
> Example Code:
>
> dfchar <- data.frame(Author = dat$author, Year = dat$year, Age = dat$age)
> xtable(dfchar)
>
> Now, since there are some more variables and many more data sets I have to
> include, I need to change the table orientation to landscape*. *The size of
> the table should run over several pages.
>
> Does anyone know how to implement this with the xtable () function or can
> provide me with an alternative function?
>
> Thank you very much in advance!
>
> Verena
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From smartpink111 at yahoo.com  Sat May 24 03:41:26 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 18:41:26 -0700 (PDT)
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <1400864172.79402.YahooMailNeo@web142606.mail.bf1.yahoo.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>	<3AC319F89ED.00001567jrkrideau@inbox.com>	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>
	<CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>
	<1400864172.79402.YahooMailNeo@web142606.mail.bf1.yahoo.com>
Message-ID: <1400895686.92706.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,
Sorry, there is a mistake. XO[2,] should be:
XO[2,] <-? sapply(seq_along(col.tri.nb), function(i){ind1 <- as.character(ind[i]); ind2 <- as.character(ind[col.tri.nb[[i]]]); mean(abs(XO[1,ind1]-XO[1,ind2]))} )
A.K.






On Friday, May 23, 2014 12:56 PM, arun <smartpink111 at yahoo.com> wrote:

Hi Monaly,
May be this helps:
b<- 77:99
ao1 <- ao[-b,]
##Your code:

XO<- matrix( 0,6, 76, byrow=TRUE);XO
abo<-ao$NestkastNummer[-b];abo? #removed values that were NA
rownames(XO) = c("EB_score","avg","pop_size","pop_avg_score",
"adj_pop_avg", "ind_pop_dif")
colnames(XO) = abo
t <- ao$COR_LOC;t
i <- c(77:99)
ti <- t[-i];ti
XO[1,] = c(ti);XO
? 

library(deldir)
library(spdep)
mat <- cbind(lat=ao1$lat_xm, long=ao1$long_ym)
library(spdep)
?coords <- coordinates(mat)
ind <- ao1$NestkastNummer

col.tri.nb <- tri2nb(coords, row.names=ind)
?lapply(col.tri.nb,function(x) ind[x])[1:5] ###
[[1]]
[1] 713 715 162 148 140 117

[[2]]
[1] 130 128 172? 64 113 117

[[3]]
[1] 54 19 16 73 74

[[4]]
[1]?? 2? 31 704? 34 707

[[5]]
[1] 51 94 57 73 62

XO[2,] <- sapply(seq_along(col.tri.nb),function(i) mean(abs(ind[i]-ind[col.tri.nb[[i]]])))

A.K.



On Friday, May 23, 2014 7:17 AM, Monaly Mistry <monaly.mistry at gmail.com> wrote:



Hi Arun and Frede,

So the dput() is below (it's the same data file as before), but below that is the code I used to make the tessellation. ?Thanks for your help.

> dput(ao)
structure(list(num = 1:99, FORM_CHK = c(20870L, 22018L, 30737L,?
22010L, 22028L, 36059L, 36063L, 36066L, 30587L, 30612L, 36056L,?
30376L, 35153L, 30435L, 30536L, 30486L, 30475L, 36053L, 36048L,?
36076L, 36045L, 36065L, 35772L, 36949L, 35702L, 36894L, 36080L,?
35542L, 35457L, 35533L, 36042L, 36925L, 36827L, 36008L, 35817L,?
36350L, 35985L, 35973L, 35801L, 36639L, 35810L, 35812L, 35807L,?
36351L, 35967L, 35944L, 37006L, 36345L, 36062L, 36077L, 35802L,?
35984L, 36043L, 35769L, 36360L, 36082L, 36071L, 36354L, 35771L,?
35754L, 36295L, 35746L, 36064L, 35779L, 35751L, 35752L, 35785L,?
35792L, 37011L, 36003L, 36040L, 36831L, 36031L, 36652L, 36992L,?
36965L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA), RingNummerMan = structure(c(1L,?
2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L,?
16L, 17L, 19L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 34L,?
35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 46L, 47L, 48L,?
49L, 50L, 51L, 52L, 54L, 55L, 56L, 57L, 58L, 59L, 60L, 61L, 63L,?
65L, 67L, 69L, 70L, 73L, 74L, 75L, 76L, 78L, 79L, 80L, 81L, 82L,?
83L, 85L, 86L, 87L, 88L, 89L, 93L, 96L, 97L, 18L, 20L, 21L, 28L,?
32L, 33L, 45L, 53L, 62L, 64L, 66L, 68L, 71L, 72L, 77L, 84L, 90L,?
91L, 92L, 94L, 95L, 98L, 99L), .Label = c("AJ...75425", "AL...62371",?
"AR...11060", "AR...29297", "AR...29307", "AR...29502", "AR...29504",?
"AR...29507", "AR...30039", "AR...30085", "AR...30165", "AR...30491",?
"AR...30563", "AR...30616", "AR...30652", "AR...30687", "AR...30701",?
"AR...30927", "AR...30959", "AR...30963", "AR...30964", "AR...30965",?
"AR...30966", "AR...30985", "AR...30988", "AR...40917", "AR...40996",?
"AR...45735", "AR...45904", "AR...45928", "AR...47609", "AR...65387",?
"AR...65479", "AR...65550", "AR...65629", "AR...65948", "AR...86074",?
"AR...86521", "AR...86527", "AR...90061", "AR...90064", "AR...90067",?
"AR...90077", "AR...90081", "AR...90098", "AR...90101", "AR...90106",?
"AR...90112", "AR...90133", "AR...90155", "AR...90176", "AR...90178",?
"AR...90180", "AR...90187", "AR...90212", "AR...90247", "AR...90252",?
"AR...90256", "AR...90258", "AR...90269", "AR...90272", "AR...90275",?
"AR...90294", "AR...90298", "AR...90300", "AR...90337", "AR...90338",?
"AR...90367", "AR...90397", "AR...90410", "AR...90463", "AR...90520",?
"AR...90544", "AR...90556", "AR...90678", "AR...90712", "AR...90737",?
"AR...90744", "AR...90829", "AR...90862", "AR...90863", "AR...90873",?
"AR...90880", "AR...90892", "AR...90898", "AR...90945", "AR...90951",?
"AR...90965", "AR...90970", "AR...90972", "AU...15008", "AU...15009",?
"AU...15027", "AU...15032", "AU...15036", "AU...15038", "AU...15046",?
"AU...15049", "AU...15505"), class = "factor"), year_score_taken = c(2006L,?
2008L, 2009L, 2008L, 2008L, 2011L, 2011L, 2011L, 2009L, 2009L,?
2011L, 2009L, 2010L, 2009L, 2009L, 2009L, 2009L, 2011L, 2011L,?
2011L, 2011L, 2011L, 2011L, 2012L, 2011L, 2012L, 2011L, 2010L,?
2010L, 2010L, 2011L, 2012L, 2012L, 2011L, 2011L, 2012L, 2011L,?
2011L, 2011L, 2012L, 2011L, 2011L, 2011L, 2012L, 2011L, 2011L,?
2013L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L, 2012L,?
2012L, 2011L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L,?
2011L, 2011L, 2011L, 2011L, 2013L, 2011L, 2011L, 2012L, 2011L,?
2012L, 2012L, 2012L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), COR_LOC = c(15.13404,?
13.88054, 30.0969, 19.09152, 16.88054, 14.15718, 39.15718, 16.15718,?
16.13566, 23.07538, 39.15718, 24.56838, 12.13942, 21.4123, 19.06945,?
12.33264, 32.48872, 30.15718, 37.15718, 37.15718, 49.15718, 22.15718,?
18.50272, 23.69432, 24.9322, 47.29712, 41.15718, 21.47903, 38.6588,?
34.99572, 28.15718, 13.08614, 16.71908, 22.68894, 19.2616, 15.96234,?
22.83964, 13.89992, 14.2616, 18.17118, 24.2616, 22.2616, 13.2616,?
23.96234, 24.89992, 24.05062, 10.20884, 6.96234, 13.15718, 17.15718,?
40.2616, 21.83964, 20.15718, 39.50272, 26.81164, 20.3843, 14.15718,?
7.96234, 19.50272, 40.74384, 5.7675, 42.95482, 29.15718, 18.32188,?
28.74384, 37.74384, 22.32188, 25.32188, 18.20884, 14.68894, 22.15718,?
39.71908, 18.2067, 15.1109, 15.61466, 47.4532, NA, NA, NA, NA,?
NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
NA, NA, NA), IndividuID = c(11394L, 15676L, 342518L, 344902L,?
344909L, 377497L, 377499L, 377504L, 352003L, 351986L, 352260L,?
352392L, 353800L, 353892L, 353949L, 354060L, 354074L, 377487L,?
377490L, 377511L, 377513L, 377495L, 377297L, 357796L, 366326L,?
378446L, 377518L, 358157L, 358730L, 366215L, 377519L, 378407L,?
378453L, 377443L, 377358L, 377726L, 377422L, 377402L, 377341L,?
378354L, 377350L, 377352L, 377347L, 378408L, 377396L, 377374L,?
377774L, 377743L, 377500L, 377510L, 377342L, 377421L, 377786L,?
377294L, 377836L, 378291L, 377508L, 378199L, 377296L, 377280L,?
373000L, 373020L, 377496L, 377306L, 373025L, 377278L, 377310L,?
377317L, 377337L, 377439L, 377450L, 377464L, 377478L, 400290L,?
400361L, 400260L, 357889L, 377477L, 377298L, 400370L, 356930L,?
356939L, 378115L, 377562L, 378018L, 377834L, 378290L, 378228L,?
378268L, 378052L, 378103L, 377332L, 377514L, 400356L, 400357L,?
400372L, 400259L, 400256L, 400354L), BroedJaar = c(2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L), ManipulatieOuders = c(0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
0L, 0L), LegBeginDag = c(11L, 15L, 15L, 13L, 8L, 26L, 15L, 16L,?
1L, 3L, 4L, 9L, 13L, 20L, 11L, 2L, 9L, 13L, 31L, 1L, 12L, 8L,?
13L, 7L, 10L, 11L, 17L, 10L, 11L, 19L, 20L, 13L, 14L, 24L, 17L,?
10L, 8L, 29L, 7L, 26L, 10L, 15L, 2L, 6L, 8L, 13L, 1L, 5L, 12L,?
12L, 15L, 19L, 10L, 1L, 5L, 13L, 6L, 5L, 16L, 2L, 2L, 30L, 10L,?
21L, 8L, 19L, 8L, 27L, 3L, 8L, 14L, 18L, 17L, 7L, 4L, 10L, 13L,?
11L, 31L, 25L, 23L, 7L, 7L, 7L, 8L, 3L, 14L, 14L, 15L, 5L, 10L,?
11L, 18L, 1L, 31L, 3L, 8L, 20L, 14L), LegBeginMaand = c(4L, 4L,?
5L, 4L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,?
3L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
4L), broodinfo = c(55334L, 55325L, 55317L, 55349L, 55366L, 55303L,?
55461L, 55528L, 55296L, 55297L, 55630L, 55567L, 55345L, 55444L,?
55526L, 55571L, 55462L, 55346L, 55576L, 55577L, 55601L, 55300L,?
55607L, 55634L, 55558L, 55633L, 55590L, 55594L, 55537L, 55466L,?
55327L, 55603L, 55600L, 55302L, 55319L, 55609L, 55574L, 55310L,?
55554L, 55582L, 55561L, 55320L, 55555L, 55578L, 55343L, 55331L,?
55314L, 55560L, 55460L, 55551L, 55322L, 55306L, 55348L, 55589L,?
55572L, 55565L, 55595L, 55606L, 55323L, 55635L, 55568L, 55614L,?
55447L, 55312L, 55344L, 55321L, 55569L, 55309L, 55570L, 55562L,?
55550L, 55605L, 55465L, 55445L, 55587L, 55332L, 55629L, 55613L,?
55448L, 55632L, 55636L, 55531L, 55329L, 55597L, 55298L, 55596L,?
55318L, 55608L, 55463L, 55532L, 55557L, 55536L, 55333L, 55533L,?
55538L, 55637L, 55330L, 55326L, 55525L), BroedselID = c(55334L,?
55325L, 55317L, 55349L, 55366L, 55303L, 55461L, 55528L, 55296L,?
55297L, 55630L, 55567L, 55345L, 55444L, 55526L, 55571L, 55462L,?
55346L, 55576L, 55577L, 55601L, 55300L, 55607L, 55634L, 55558L,?
55633L, 55590L, 55594L, 55537L, 55466L, 55327L, 55603L, 55600L,?
55302L, 55319L, 55609L, 55574L, 55310L, 55554L, 55582L, 55561L,?
55320L, 55555L, 55578L, 55343L, 55331L, 55314L, 55560L, 55460L,?
55551L, 55322L, 55306L, 55348L, 55589L, 55572L, 55565L, 55595L,?
55606L, 55323L, 55635L, 55568L, 55614L, 55447L, 55312L, 55344L,?
55321L, 55569L, 55309L, 55570L, 55562L, 55550L, 55605L, 55465L,?
55445L, 55587L, 55332L, 55629L, 55613L, 55448L, 55632L, 55636L,?
55531L, 55329L, 55597L, 55298L, 55596L, 55318L, 55608L, 55463L,?
55532L, 55557L, 55536L, 55333L, 55533L, 55538L, 55637L, 55330L,?
55326L, 55525L), NestkastNummer = c(176L, 124L, 51L, 717L, 54L,?
19L, 11L, 42L, 90L, 9L, 713L, 82L, 709L, 2L, 39L, 86L, 16L, 710L,?
93L, 94L, 163L, 14L, 170L, 718L, 79L, 715L, 130L, 133L, 57L,?
25L, 128L, 164L, 162L, 15L, 60L, 172L, 91L, 31L, 73L, 97L, 111L,?
64L, 74L, 95L, 704L, 148L, 36L, 80L, 8L, 68L, 105L, 22L, 716L,?
127L, 88L, 81L, 140L, 169L, 109L, 719L, 35L, 185L, 6L, 34L, 707L,?
101L, 38L, 28L, 84L, 113L, 62L, 168L, 23L, 3L, 117L, 150L, 705L,?
183L, 7L, 714L, 720L, 49L, 144L, 153L, 12L, 143L, 56L, 171L,?
17L, 50L, 77L, 55L, 175L, 52L, 58L, 722L, 145L, 125L, 32L), lat_xm = c(729.2669944,?
1001.809576, 501.4865527, 105.2662516, 622.0842564, 313.4718688,?
198.828763, 248.3819471, 466.4434076, 155.709257, 433.2482345,?
388.4860969, 306.5590574, 14.98895776, 191.9843836, 309.4336924,?
308.6123573, 351.526526, 606.8213156, 601.8249333, 912.0799656,?
267.5461811, 1084.557939, 264.26089, 359.6713191, 488.4822672,?
1018.578266, 915.707476, 773.276261, 171.4513083, 1084.831712,?
952.5985963, 878.4741353, 288.3530553, 913.9963847, 1071.827424,?
456.313756, 51.12730755, 582.6607182, 592.1059359, 740.3548678,?
1042.875765, 476.8468377, 654.0474325, 276.375404, 877.6528113,?
135.7921596, 300.9466765, 145.6480126, 829.1262723, 601.4827177,?
237.6363065, 500.3230173, 1129.730741, 398.06821, 340.8493193,?
770.4016222, 1051.63655, 571.7097287, 314.4300781, 117.5861334,?
437.9708453, 95.41039954, 105.7453938, 235.5829892, 627.9704095,?
177.0636713, 99.17481232, 396.6993402, 973.4739067, 1034.662528,?
1046.77705, 221.278275, 27.24031031, 724.0652756, 942.6742674,?
325.9970589, 261.933799, 116.7648206, 464.0478832, 532.6968545,?
423.9399058, 656.8536222, 979.9076146, 221.2098377, 701.5473216,?
709.8290013, 1120.559295, 345.5719307, 463.4318862, 429.6207308,?
659.112262, 717.7684649, 533.3812884, 819.3388243, 600.9351721,?
722.4910753, 1126.719223, 26.8297633), long_ym = c(385.4016022,?
744.3388344, 1278.519267, 582.1054392, 1183.781188, 1313.545671,?
1155.204087, 1008.093201, 812.6125238, 1045.899477, 474.135164,?
887.4467064, 626.9169985, 700.9728169, 849.3068501, 799.1579293,?
1418.180093, 598.1175046, 928.3664402, 1111.83807, 367.2768291,?
1318.32705, 501.4891137, 542.5200518, 1095.7148, 552.6387801,?
636.2573659, 479.9172936, 1057.018971, 980.7392501, 739.0014835,?
485.8106446, 371.9470232, 1365.91848, 942.3769994, 664.2784869,?
887.335514, 669.5046549, 1156.983212, 893.8960158, 933.9261864,?
783.4794517, 1191.342439, 975.8466709, 453.8976828, 55.70866057,?
731.2178331, 973.6227733, 1002.199869, 920.5827929, 678.1778549,?
1141.415921, 578.9919757, 710.2019861, 738.8902861, 936.706063,?
480.8068625, 454.8984371, 771.1368166, 510.940689, 680.7353401,?
1087.041598, 895.6751282, 641.8171157, 573.7658194, 651.9358502,?
816.2819528, 819.6178023, 828.7357905, 801.8266126, 856.9792948,?
415.0906484, 1086.374437, 737.4447458, 559.866446, 0, 423.6526577,?
1166.990753, 957.8330951, 562.8687158, 564.7590286, 1339.676479,?
197.5933584, 132.099559, 1205.686591, 246.6303384, 1106.500715,?
597.3391415, 1389.380609, 1312.878499, 1155.760068, 1152.090634,?
433.6602223, 1252.833235, 1028.88666, 522.3937678, 151.7810272,?
796.3780665, 631.3647851), avg_pop_eb = c(23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
23.57103359, 23.57103359)), .Names = c("num", "FORM_CHK", "RingNummerMan",?
"year_score_taken", "COR_LOC", "IndividuID", "BroedJaar", "ManipulatieOuders",?
"LegBeginDag", "LegBeginMaand", "broodinfo", "BroedselID", "NestkastNummer",?
"lat_xm", "long_ym", "avg_pop_eb"), class = "data.frame", row.names = c(NA,?
-99L))


#Code for ?tessellation
library(deldir)

ao= read.table("C:/Users/Monaly/Desktop/2012_malenest.txt", header=TRUE)

a29= deldir(ao$lat_xm, ao$long_ym)

a30=tile.list(a29)

plot(a30, close=TRUE, main="2012 Male Nest", xlab="latitude (m)", ylab="longitude (m)", wpoints="real", verbose=FALSE,num=TRUE, rw=c(0, 1200, 0, 2000))

text(ao$lat_xm, ao$long_ym,col=c(2,1,4),labels=round(ao$NestkastNummer, 3), pos=2, offset=0.2, cex=0.7) ?#this was to identify the points


From smartpink111 at yahoo.com  Sat May 24 04:50:01 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 23 May 2014 19:50:01 -0700 (PDT)
Subject: [R] recode the ID with sequential order of a dataset
Message-ID: <1400899801.97460.YahooMailNeo@web142606.mail.bf1.yahoo.com>

Hi,
May be this helps:
#if the data is ordered for the "TIME" column as in the example

dat <- read.table(text="ID TIME 
1254 0
1254 1
1254 3
1254 5
1254 14
3236 0
3236 36
3236 93
1598 0
1598 0.5
1598 1
1598 2
1598 3
1598 12
1598 36
1598 75
1598 95
1598 120",sep="",header=TRUE)

?dat$NewID <- with(dat, ave(rep(1,nrow(dat)),ID,FUN=cumsum))

#if your dataset is not ordered
dat1 <- structure(list(ID = c(1254L, 1254L, 1254L, 1254L, 1254L, 3236L, 
3236L, 3236L, 1598L, 1598L, 1598L, 1598L, 1598L, 1598L, 1598L, 
1598L, 1598L, 1598L), TIME = c(0, 1, 3, 5, 14, 0, 93, 36, 0, 
0.5, 1, 2, 3, 12, 36, 95, 75, 120)), .Names = c("ID", "TIME"), class = "data.frame", row.names = c(NA, 
-18L))

dat1$NewID <- with(dat1,ave(TIME,ID,FUN=order))

A.K.


?hi all,


I have the following dataset:
ID TIME DV
1254 0 .
1254 1 .
1254 3 .
1254 5 .
1254 14 .
3236 0 .
3236 36 .
3236 93 .
1598 0 .
1598 0.5 .
1598 1 .
1598 2 .
1598 3 .
1598 12 .
1598 36 .
1598 75 .
1598 95 .
1598 120 .
. . .
. . .
. . .

I want to generate a new ID column with the ID sequentially like 1,2,3,...... It would be easy to do it with equal time points for each individuals, however, right now, the data have different time points for different individuals, how can I do this to be able get the dataset I wanted?

Thanks,

York 



From jim at bitwrit.com.au  Sat May 24 05:05:09 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Sat, 24 May 2014 13:05:09 +1000
Subject: [R] Balloon plot scaling problem
In-Reply-To: <5794DAB7-36DD-41C2-8F64-EAAFD6B54A92@hest.ethz.ch>
References: <5794DAB7-36DD-41C2-8F64-EAAFD6B54A92@hest.ethz.ch>
Message-ID: <2156550.lPYaUl6jWH@localhost.localdomain>

On Fri, 23 May 2014 12:19:11 PM Ruddy Kathy wrote:
> Hi Guys,
> 
> I have been trying to create a 'balloon plot' using R, which is where the
> points in a plot are scaled such that the size of the point (area)
> represents the value. 
> ...
> Anybody got any ideas for how to change this scaling??
> I would be very grateful!!
> 
Hi Kathy,
This isn't ggplot, but you can apply whatever scaling function you want in 
size_n_color (plotrix). I read in your example as a data frame named 
"krdata2". Perhaps it will be useful.

krmed<-sapply(krdata2[,2:9],median,na.rm=TRUE)
x11(width=8,height=3)
stretch_it<-function(x) (x+0.65)^5
library(plotrix)
size_n_color(seq(1,32,length.out=8),rep(1,8),krmed,
 sizefun="stretch_it", xlim=c(0,32),col=rep(3,8),
 xat=seq(1,32,length.out=8),yat=c(0.5,1.5),
 main="size_n_color",xlab="",ylab="",
 xaxlab=names(krmed),mar=c(5,4,4,5))

Jim


From ashisdeb83 at gmail.com  Sat May 24 07:28:14 2014
From: ashisdeb83 at gmail.com (Ashis Deb)
Date: Fri, 23 May 2014 22:28:14 -0700
Subject: [R] GETTING CLUSTERING RESULTS IN SOM , LIKE K-MEAN
Message-ID: <CAFcJUTpsiehvcZt9i1FcPRnPmUqj2nZ5XMv==H=-TPwPoBFwBQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140523/ab4867a3/attachment.pl>

From hill0093 at umn.edu  Sat May 24 15:49:32 2014
From: hill0093 at umn.edu (Hurr)
Date: Sat, 24 May 2014 06:49:32 -0700 (PDT)
Subject: [R] How do I move the axis labels precisely
In-Reply-To: <1400794344266-4691095.post@n4.nabble.com>
References: <1400777079952-4691082.post@n4.nabble.com>
	<1400794344266-4691095.post@n4.nabble.com>
Message-ID: <1400939372094-4691168.post@n4.nabble.com>

In the R Documentation for top.line in staxlab in plotrix: 
top.line is: Distance from the axis to place the first line of text.

Notice that in the original runnable code in this thread
for the two axes at the bottom of the graph:
prdAxDistDown=0; frqAxDistDown=3.5;
axis(1,tick=TRUE,line=prdAxDistDown,.....
staxlab(1,top.line=(prdAxDistDown),.....
axis(1,tick=TRUE,line=frqAxDistDown,.....
staxlab(1,top.line=(frqAxDistDown),.....
resulting in: 
labels on the first axis to be too low and 
labels on the second axis to be too high.
Also it seems to me that top.line=(frqAxDistDown) is 
wrong because it is supposed to be the distance from 
the axis, not from the plot. 

Then if those lines are modified to:
prdAxDistDown=0; frqAxDistDown=3.5;
axis(1,tick=TRUE,line=prdAxDistDown,.....
staxlab(1,top.line=(prdAxDistDown-0.8),.....
axis(1,tick=TRUE,line=frqAxDistDown,.....
staxlab(1,top.line=(frqAxDistDown+0.8),.....
then the result is much closer the desirable result.

Next if I move the second axis closer to the first
by changing the 3.5 to 2.0 and keeping the same 0.8's:
prdAxDistDown=0; frqAxDistDown=2.0;
axis(1,tick=TRUE,line=prdAxDistDown,.....
staxlab(1,top.line=(prdAxDistDown-0.8),.....
axis(1,tick=TRUE,line=frqAxDistDown,.....
staxlab(1,top.line=(frqAxDistDown+0.8),.....
then the labels move away from the second axis.
It seems to me that such shouldn't happen.

But if I remove the +0.8 for the second axis, results improve:
prdAxDistDown=0; frqAxDistDown=2.0;
axis(1,tick=TRUE,line=prdAxDistDown,.....
staxlab(1,top.line=(prdAxDistDown-0.8),.....
axis(1,tick=TRUE,line=frqAxDistDown,.....
staxlab(1,top.line=(frqAxDistDown),.....

I can't understand why this should happen.
I must be coding it incorrectly.
Here is the modified code making a result close to 
desired, of course still needing improvement,
but perhaps all wrong:

#trying for both period-labeled and frequency labeled horizontal axis
rm(list=ls(all=TRUE))
install.packages('plotrix')
library(plotrix)
staxlab<-function(side=1,at,labels,nlines=2,top.line=0.5,
 line.spacing=0.8,srt=NA,ticklen=0.03,adj=1,...) {
 if(missing(labels)) labels<-at
 nlabels<-length(labels)
 if(missing(at)) at<-1:nlabels
 axislim<-par("usr")[3:4-2*side%%2]
 if(any(at < axislim[1]) || any(at > axislim[2]))
  warning("Some axis labels are off the plot")
 if(is.na(srt)) {
  linepos<-rep(top.line,nlines)
  for(i in 2:nlines) linepos[i]<-linepos[i-1]+line.spacing
  linepos<-rep(linepos,ceiling(nlabels/nlines))[1:nlabels]
  axis(side=side,at=at,labels=rep("",nlabels))
  mtext(text=labels,side=side,line=linepos,at=at,...)
 }
 else {
  linewidth<-strheight("M")
  xylim<-par("usr")
  if(side == 1) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[3]-ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[3]-ticklen*(xylim[4]-xylim[3])-top.line*linewidth
  }
  if(side == 3) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[4]+ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[4]+ticklen*(xylim[4]-xylim[3])+top.line*linewidth
  }
  if(side == 2) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[1]-ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[1]-ticklen*(xylim[2]-xylim[1])-top.line*linewidth
  }
  if(side == 4) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[2]+ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[2]+ticklen*(xylim[2]-xylim[1])+top.line*linewidth
  }
  par(xpd=TRUE)
  text(xpos,ypos,labels,srt=srt,adj=adj,...)
  par(xpd=FALSE)
 }
}
horAxisLims=c(0,7213); print(horAxisLims)
par(mar=c(8,4,4,2)+.1,lheight=0.7)  #margins=c(bot,lef,top,rit);
default:c(5,4,4,2)+.1
#vertical text space = char height * character expansion * lheight
#set only by
par():ask,fig,fin,lheight,mai,mar,mex,mfcol,mfrow,mfg,new,oma,omd,omi,pin,plt,ps,pty,usr,xlog,ylog,ylbias
prdAxDistDown=0; frqAxDistDown=2.0;
verData=c(1,365,809,1252,1753,2191,2922,3409,3896,4383,4819,5255,5691,6128,6564,7000)
#not fussy
horData=c(1,300,800,1200,1700,2100,2900,3400,3800,4300,4800,5200,5600,6100,6500,7000)
#not at tics
prdTicLocs=c(1,365.,1252,1461,1753,2191,2922,4383,7000)
prdLabels=c("1Yr","1Da","7Hr","6Hr","5Hr","4Hr","3Hr","2Hr","1.25\nHr");
print(prdLabels)
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels <-
vector(length=nFrqTicInvls+1);
frqInvl=(horAxisLims[2]-horAxisLims[1])/nFrqTicInvls
for(i in 1:(nFrqTicInvls+1))frqTicLocs[i]=horAxisLims[1]+(i-1)*frqInvl
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=format(round(frqTicLocs[i]),digits=4,trim=TRUE,scientific=FALSE)
print(frqLabels)
#default mgp=c(3,1,0) margin line in mex units
c(axisTitle,axisLabel,axisLine)
las=2; #las=2 makes axis labels perpendicular to axis
plot(horData,verData,xaxt='n',xlim=horAxisLims,xlab="")
#tck if >= 0.5 then fraction of relevant side; if =1 then gridlines
axis(1,tick=TRUE,line=prdAxDistDown,at=prdTicLocs,labels=rep("",length(prdLabels)),padj=0,tck=-.08)
staxlab(1,top.line=(prdAxDistDown-0.8),at=prdTicLocs,labels=prdLabels,srt=90,adj=c(1,0))
axis(1,tick=TRUE,line=frqAxDistDown,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0,tck=-.08)
staxlab(1,top.line=(frqAxDistDown),at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0))
title(xlab="Cycles/Yr",line=6) 




--
View this message in context: http://r.789695.n4.nabble.com/How-do-I-move-the-axis-labels-precisely-tp4691082p4691168.html
Sent from the R help mailing list archive at Nabble.com.


From Juan.Bohorquez at ecopetrol.com.co  Sat May 24 14:57:58 2014
From: Juan.Bohorquez at ecopetrol.com.co (Juan Ulises Bohorquez Carvajal)
Date: Sat, 24 May 2014 07:57:58 -0500
Subject: [R] R License
In-Reply-To: <A158272BF7D69241B67447867F788FC6010636C40300@BOGESICMS2P.red.ecopetrol.com.co>
References: <A158272BF7D69241B67447867F788FC6010636C40300@BOGESICMS2P.red.ecopetrol.com.co>
Message-ID: <A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/ccb5b1ff/attachment.pl>

From jason.stout at duke.edu  Sat May 24 15:58:51 2014
From: jason.stout at duke.edu (Jason Stout, M.D.)
Date: Sat, 24 May 2014 13:58:51 +0000
Subject: [R] Conditional assignment of values to vector using ifelse
Message-ID: <ECEE21FB0A17344D9E5E832F213DCB01037AF43A@vmw-excmbd2s01.dhe.duke.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/0a91b245/attachment.pl>

From jrkrideau at inbox.com  Sat May 24 17:04:02 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sat, 24 May 2014 07:04:02 -0800
Subject: [R] R License
In-Reply-To: <A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>
References: <a158272bf7d69241b67447867f788fc6010636c40300@bogesicms2p.red.ecopetrol.com.co>
Message-ID: <5357A4F3060.0000082Ajrkrideau@inbox.com>

It is an Open Source program and can be used by anyone.

John Kane
Kingston ON Canada


> -----Original Message-----
> From: juan.bohorquez at ecopetrol.com.co
> Sent: Sat, 24 May 2014 07:57:58 -0500
> To: r-help at r-project.org
> Subject: [R] R License
> 
> Hello, I work in the area of b??b??Geomatics in  Ecopetrol,  Ecopetrol is
> an Oil & GAS company with 10,000 employees. The licensing of R allows me
> to use it in production at my company or academic use only?
> Sincerely,
> 
> 
> JB.

____________________________________________________________
FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on your desktop!


From tim at mlhim.org  Sat May 24 17:23:10 2014
From: tim at mlhim.org (Timothy W. Cook)
Date: Sat, 24 May 2014 12:23:10 -0300
Subject: [R] R License
In-Reply-To: <A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>
References: <A158272BF7D69241B67447867F788FC6010636C40300@BOGESICMS2P.red.ecopetrol.com.co>
	<A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>
Message-ID: <CA+=OU3WtzOM-vKGMm7dsrECNNYCd6tbpCB9RTBBA5YuJbM_wYg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/89bb84c3/attachment.pl>

From jrkrideau at inbox.com  Sat May 24 17:25:28 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sat, 24 May 2014 07:25:28 -0800
Subject: [R] How to illustrate data of a csv file as table (xtable?)
In-Reply-To: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
Message-ID: <53878A0A9C9.00000879jrkrideau@inbox.com>

Verena
Do you mean word-sheet or is this a typo for 'work-sheet'?

John Kane
Kingston ON Canada


> -----Original Message-----
> From: vweinbir at gmail.com
> Sent: Sat, 24 May 2014 00:31:44 +0200
> To: r-help at r-project.org
> Subject: [R] How to illustrate data of a csv file as table (xtable?)
> 
> Hello!
> 
> I'd like to illustrate the data of an csv file as a nice table and copy
> it
> into my word-sheet. Currently, I am trying this with the xtable ()
> function
> (latex output).
> 
> Example Code:
> 
> dfchar <- data.frame(Author = dat$author, Year = dat$year, Age = dat$age)
> xtable(dfchar)
> 
> Now, since there are some more variables and many more data sets I have
> to
> include, I need to change the table orientation to landscape*. *The size
> of
> the table should run over several pages.
> 
> Does anyone know how to implement this with the xtable () function or can
> provide me with an alternative function?
> 
> Thank you very much in advance!
> 
> Verena
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
FREE 3D EARTH SCREENSAVER - Watch the Earth right on your desktop!


From jrkrideau at inbox.com  Sat May 24 17:31:50 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sat, 24 May 2014 07:31:50 -0800
Subject: [R] how to add a table under a plot?
In-Reply-To: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
Message-ID: <5395C69144D.0000088Fjrkrideau@inbox.com>

I'd go with the addtable2plot but you can also do bascially the same thing in ggplot2 (again you have to install the ggplot2 package.  Here is an example of the ggplot2 approach http://stackoverflow.com/questions/12318120/adding-table-within-the-plotting-region-of-a-ggplot-in-r

John Kane
Kingston ON Canada


> -----Original Message-----
> From: helengao432 at gmail.com
> Sent: Fri, 23 May 2014 15:38:45 +0100
> To: r-help at r-project.org
> Subject: [R] how to add a table under a plot?
> 
> Dear all,
> 
> If you know how to add a table under a plot, could you please send me
> your
> code?
> 
> In R documentation, there is a function addtable2plot{}, do you know
> where
> to download the function?
> 
> Thank you in advance,
> Helen
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on your desktop!


From jrkrideau at inbox.com  Sat May 24 17:32:45 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sat, 24 May 2014 07:32:45 -0800
Subject: [R] R License
In-Reply-To: <CA+=OU3WtzOM-vKGMm7dsrECNNYCd6tbpCB9RTBBA5YuJbM_wYg@mail.gmail.com>
References: <a158272bf7d69241b67447867f788fc6010636c40300@bogesicms2p.red.ecopetrol.com.co>
	<a158272bf7d69241b67447867f788fc6010636c40302@bogesicms2p.red.ecopetrol.com.co>
Message-ID: <5397D768DFF.00000894jrkrideau@inbox.com>

Aha, someone knowledeable has shown up. Thanks Tim

John Kane
Kingston ON Canada


> -----Original Message-----
> From: tim at mlhim.org
> Sent: Sat, 24 May 2014 12:23:10 -0300
> To: juan.bohorquez at ecopetrol.com.co
> Subject: Re: [R] R License
> 
> On Sat, May 24, 2014 at 9:57 AM, Juan Ulises Bohorquez Carvajal <
> Juan.Bohorquez at ecopetrol.com.co> wrote:
> 
>> Hello, I work in the area of b??b??Geomatics in  Ecopetrol,  Ecopetrol
>> is an
>> Oil & GAS company with 10,000 employees. The licensing of R allows me to
>> use it in production at my company or academic use only?
>> Sincerely,
>> 
>> 
> 
> 'R' like many open source applications, uses several licenses because it
> includes several other open source components.  If you are concerned
> about
> using R for commercial purposes or in a commercial environment then you
> (or
> your attorney/legal dept.) should consult
> 
> http://www.r-project.org/Licenses/
> 
> The intent is for to to be available free, for wide use.  But no one else
> knows your intended use case.
> 
> Cheers,
> Tim
> 
> 
> 
> ============================================
> Timothy Cook
> LinkedIn Profile:http://www.linkedin.com/in/timothywaynecook
> MLHIM http://www.mlhim.org
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
FREE ONLINE PHOTOSHARING - Share your photos online with your friends and family!
Visit http://www.inbox.com/photosharing to find out more!


From jrkrideau at inbox.com  Sat May 24 17:34:36 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sat, 24 May 2014 07:34:36 -0800
Subject: [R] Time Series
In-Reply-To: <1400857351.79463.YahooMailNeo@web140906.mail.bf1.yahoo.com>
Message-ID: <539BF98A871.0000089Cjrkrideau@inbox.com>

No raw data.  Sent is as text (csv) or use dput() to include it in the email.

John Kane
Kingston ON Canada


> -----Original Message-----
> From: schmtzway at yahoo.com
> Sent: Fri, 23 May 2014 08:02:31 -0700 (PDT)
> To: r-help at r-project.org
> Subject: [R] Time Series
> 
> Dear Sir:
> I am trying to plot a time series from the following code:
> 
> test <- read.table("/home/wayne/inr2a.txt", header = TRUE, quote="", sep
> = ";")
> x2 <- ts(data=test, frequency = 80, start = c(2012,11), end = c(2014,5))
> plot.ts(x2, xlab="Date", ylab="Inr", main="X2 - Time Series",
> ylim=c(1.0,4.0),pch=16, col="black")
> 
> What I get is multi plots that print 3x across the plot.
> 
> Using R 2.15.2-1 on Ubuntu Natty
> Attached is the raw data.
> 
> Thank you for any suggestions.
> Wayne
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
Protect your computer files with professional cloud backup.
Get PCRx Backup and upload unlimited files automatically. 
Learn more at http://backup.pcrx.com/mail


From dwinsemius at comcast.net  Sat May 24 17:35:04 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 24 May 2014 08:35:04 -0700
Subject: [R] Conditional assignment of values to vector using ifelse
In-Reply-To: <ECEE21FB0A17344D9E5E832F213DCB01037AF43A@vmw-excmbd2s01.dhe.duke.edu>
References: <ECEE21FB0A17344D9E5E832F213DCB01037AF43A@vmw-excmbd2s01.dhe.duke.edu>
Message-ID: <084B4CA8-5A3E-4894-ADD2-034DE5184B80@comcast.net>


On May 24, 2014, at 6:58 AM, Jason Stout, M.D. wrote:

> Hi R-users,
> 
> I'm trying to simulate the outcome of several diagnostic tests with binary outcomes (positive/negative) and different performance characteristics.  What I would like to generate is a dataframe with the first column representing the result of a "perfect" test, and different columns to the right simulating tests with different combinations of sensitivity and specificity.  Here's the code I used to attempt this:
> 
> x3<-rmvbin(10000,margprob=0.2) # results of perfect test, disease prevalence 20%
> sens1<-0.7 # sensitivity of test 1
> spec1<-0.8 # specificity of test 1
> sens2<-0.8 # sensitivity of test 2
> spec2<-0.7 # specificity of test 2
> funcsensspec<-function(x,sens,spec) {
>  result<-ifelse(x==1,ifelse(runif(1,0,1)<=sens,1,0),
>                 ifelse(runif(1,0,1)<=spec,0,1))
>  return(result)
> }
> x4<-funcsensspec(x3,sens1,spec1)
> x5<-funcsensspec(x3,sens2,spec2)
> xx<-cbind(x3,x4,x5)
> 
> The problem is that this is not behaving as I expected.  Ideally I wanted R to randomly reassign values for each row with probability based on test characteristics, but what I think it is doing is generating one random value and using that to reassign the entire vector.  Here is sample output:

I think you need to re-examine your understanding of sensitivity and specificity. They are mappings from data to a continuous variable in [0,1] for  varying choice of a continuously variable threshold, rather than a sampling parameter. The typical display of ROC curves is if no help to physicians because it obscures this relationship by failing to include annotations with the threshold values.

-- 
David Winsemius, MD
> 
> 
>> head(xx,30)
>      [,1] [,2] [,3]
> [1,]    0    1    0
> [2,]    0    1    0
> [3,]    0    1    0
> [4,]    0    1    0
> [5,]    0    1    0
> [6,]    0    1    0
> [7,]    1    1    1
> [8,]    0    1    0
> [9,]    1    1    1
> [10,]    0    1    0
> [11,]    1    1    1
> [12,]    0    1    0
> [13,]    0    1    0
> [14,]    1    1    1
> [15,]    0    1    0
> [16,]    1    1    1
> [17,]    0    1    0
> [18,]    0    1    0
> [19,]    0    1    0
> [20,]    0    1    0
> [21,]    0    1    0
> [22,]    0    1    0
> [23,]    0    1    0
> [24,]    1    1    1
> [25,]    0    1    0
> [26,]    0    1    0
> [27,]    0    1    0
> [28,]    0    1    0
> [29,]    0    1    0
> [30,]    0    1    0
> 
> I know I could do this task by creating two actual vectors of random numbers and using them to assign probabilities, but am wondering if there is a simpler and more elegant way to accomplish the task (and this would provide some insight into how ifelse is working within this function).
> 
> Thanks for any assistance.
> 
> 
> Jason Stout, MD, MHS
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From jdnewmil at dcn.davis.CA.us  Sat May 24 17:37:13 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sat, 24 May 2014 08:37:13 -0700
Subject: [R] R License
In-Reply-To: <A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>
References: <A158272BF7D69241B67447867F788FC6010636C40300@BOGESICMS2P.red.ecopetrol.com.co>
	<A158272BF7D69241B67447867F788FC6010636C40302@BOGESICMS2P.red.ecopetrol.com.co>
Message-ID: <62513357-dfb8-4268-aa94-5a54b8c9a25d@email.android.com>

This is not an appropriate forum to be obtaining legal advice in. That said, the licenses [1] for R do not discuss the size of your company. They do discuss your rights and responsibilities should you make changes to R. People who want to modify or incorporate R in their own software tend to have to pay close attention to those terms while those who merely use it as-is tend to have less to worry about. Also keep in mind that much value is found in contributed packages that may have a variety of licenses, so be aware of those licenses as you add packages to your workflow.

You will probably find it useful in reading these licenses to familiarize yourself with the definition of "Open Source. [2]

[1] http://www.r-project.org/Licenses/
[2] http://opensource.org/osd
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 24, 2014 5:57:58 AM PDT, Juan Ulises Bohorquez Carvajal <Juan.Bohorquez at ecopetrol.com.co> wrote:
>Hello, I work in the area of ??????Geomatics in  Ecopetrol,  Ecopetrol
>is an Oil & GAS company with 10,000 employees. The licensing of R
>allows me to use it in production at my company or academic use only?
>Sincerely,
>
>
>JB.
>
>________________________________
>Este mensaje y sus anexos est?? dirigido para ser usado por su(s)
>destinatario(s) exclusivamente y puede contener informaci??n
>confidencial y/o reservada protegida legalmente. Si usted no es el
>destinatario, se le notifica que cualquier distribuci??n o
>reproducci??n del mismo, o de cualquiera de sus anexos, est??
>estrictamente prohibida. Si usted ha recibido este mensaje por error,
>por favor notif??quenos inmediatamente y elimine su texto original,
>incluidos los anexos, o destruya cualquier reproducci??n del mismo. Las
>opiniones expresadas en este mensaje son responsabilidad exclusiva de
>quien las emite y no necesariamente reflejan la posici??n institucional
>de Ecopetrol S.A. ni comprometen la responsabilidad institucional por
>el uso que el destinatario haga de las mismas. Este mensaje ha sido
>verificado con software antivirus. En consecuencia, Ecopetrol S.A. no
>se hace responsable por la presencia en ??l, o en sus anexos, de alg??n
>virus que pueda generar da??os en los equipos o programas del
>destinatario.
>
>This e-mail, and any attachments thereto, is intended for use by the
>addressee(s) named herein only and may contain legally privileged
>and/or confidential information. If you are not the recipient of this
>e-mail, you are hereby notified that any distribution or copying of
>this e-mail, and any attachments thereto, is strictly prohibited. If
>you have received this e-mail in error, please notify us immediately,
>permanently delete the original including attachments, and destroy any
>copy or printout thereof. The opinions contained in this message are
>the sole responsibility of the individual person who gives them and do
>not either necessarily reflect the institutional policy of Ecopetrol
>S.A. on the subject, or involve corporate responsibility for any use of
>them by the addressee(s). This message has been checked with antivirus
>software; therefore, Ecopetrol S.A. is not liable for the presence of
>any virus in the message or in its attachments that causes or may cause
>damage to the recipient's equipment or software.
>
>
>	[[alternative HTML version deleted]]
>
>
>
>------------------------------------------------------------------------
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Sat May 24 17:40:35 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 24 May 2014 08:40:35 -0700
Subject: [R] Error message when fitting a binomial response model using
	glm
In-Reply-To: <CAN5YmCHoUercDwoLygF2VNoj4d5V5NmgHkwQwEaF602Yj2GEiA@mail.gmail.com>
References: <537F3B83.2070808@tuwien.ac.at>
	<CAN5YmCHoUercDwoLygF2VNoj4d5V5NmgHkwQwEaF602Yj2GEiA@mail.gmail.com>
Message-ID: <2C16F224-3129-49D8-9F80-72B1EDB146EE@comcast.net>


On May 23, 2014, at 2:04 PM, Adams, Jean wrote:

> Roland,
> 
> I did a google search for
>     R Error: inner loop 2; cannot correct step size
> and found an old R-help message that suggests the glm() algorithm cannot
> converge.
>     https://stat.ethz.ch/pipermail/r-help/2009-December/223142.html
> 
> I get the same error message as you when I fit
>     glm(cbind(resp,nresp)~d+I(d^2)+I(d^3),data=test,family=
> binomial(clog()))

Six redictor factor levels?  With zeros at the extremes. Fitting to three parameters?

> but no error message if I get rid of the last parameter
>     glm(cbind(resp,nresp)~d+I(d^2),data=test,family=binomial(clog()))

I thought perhaps removing the correlation of d^2 and d^3 might help, but even using:  ~ poly(d, 3) fails. If you remove the `clog()` call and use the canonical link, you get estimates with a warning (as one might expect with this data:

Warning message:
glm.fit: fitted probabilities numerically 0 or 1 occurred 



-- 
David.

> 
> Hope this helps
> 
> Jean
> 
> 
> On Fri, May 23, 2014 at 7:13 AM, Roland Deutsch <roland.deutsch at tuwien.ac.at
>> wrote:
> 
>> Dear R-help,
>> 
>> during a simulation study using glm, I got the following error message
>> for which I cannot determine the cause:
>> 
>> Error: inner loop 2; cannot correct step size
>> 
>> Below is the code for which this error occurred is
>> 
>> clog<-function(){
>>   linkfun<-function(mu) qexp(mu)
>>   linkinv<-function(eta) pmax(.Machine$double.eps,pexp(eta))
>>   mu.eta<-function(eta) pmax(dexp(eta),.Machine$double.eps)
>>   valideta<-function(eta) all(eta>0)
>>   link<-"clog"
>> 
>> 
>> structure(list(linkfun=linkfun,linkinv=linkinv,mu.eta=mu.eta,valideta=valideta,name="link"),class="link-glm")
>> }
>> 
>> test<-data.frame(d=c(0,0.04,0.2,0.6,2,4),resp=c(0,1,3,4,24,28),nresp=c(18,21,19,17,1,0))
>> glm(cbind(resp,nresp)~d+I(d^2)+I(d^3),data=test,family=binomial(clog()))
>> 
>> Any help on why this error occurs and, more importantly, how I can
>> filter data producing this error would be highly appreciated.
>> 
>> Sincerely,
>> Roland Deutsch


David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Sat May 24 17:53:20 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 24 May 2014 08:53:20 -0700
Subject: [R] How to illustrate data of a csv file as table (xtable?)
In-Reply-To: <537FDE8C.4060801@gmail.com>
References: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
	<537FDE8C.4060801@gmail.com>
Message-ID: <980BF8B8-7938-4F7C-96E9-D438BDDC822A@comcast.net>


On May 23, 2014, at 4:49 PM, Duncan Murdoch wrote:

> On 23/05/2014, 6:31 PM, Verena Weinbir wrote:
>> Hello!
>> 
>> I'd like to illustrate the data of an csv file as a nice table and copy it
>> into my word-sheet. Currently, I am trying this with the xtable () function
>> (latex output).
> 
> I'm not sure what you mean by copying it into your word-sheet, but latex has a lot of flexibility in formatting tables.  See the http://en.wikibooks.org/wiki/LaTeX/Tables page for a description.  It might be that you can get xtables to produce output suitable for that; you can certainly get the tables package to do it.  (The vignette gives an example of a multi-page table, but doesn't include any rotated ones.)
> 

I am also uncertain about the meaning of "word-sheet". If it means an Excel worksheet, then the strategy I use is to copy the output of the table()-function to an Excel worksheet and then use the text-to-columns choice off the Data-menu.

In preparation for multi-page tables I simply use:

 options(width=250)

The advantage in Excel is the option to use conditional formatting, for instance taking a a large set of cross-tabulated estimates of mortality risk and highlight the higher estimates that have a sufficient number of events to be credible and grey out the estimates based on small numbers of events. It's not my preferred method of analysis but it gets around the unfortuante fact that actuaries are  not accustomed to see output from regression models using spline transformation of predictors. I'm sometimes surprised at the patterns this displays. It is a "non-parametric" method of displaying multi-dimensional relationships. I suspect there are R packages that I have not yet explored that might have similar or superior power. The 'vcd' package is one that has considerable power.


> Duncan Murdoch
> 
>> 
>> Example Code:
>> 
>> dfchar <- data.frame(Author = dat$author, Year = dat$year, Age = dat$age)
>> xtable(dfchar)
>> 
>> Now, since there are some more variables and many more data sets I have to
>> include, I need to change the table orientation to landscape*. *The size of
>> the table should run over several pages.
>> 
>> Does anyone know how to implement this with the xtable () function or can
>> provide me with an alternative function?
>> 
>> Thank you very much in advance!
>> 
>> Verena
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Sat May 24 17:56:59 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 24 May 2014 08:56:59 -0700
Subject: [R] Balloon plot scaling problem
In-Reply-To: <2156550.lPYaUl6jWH@localhost.localdomain>
References: <5794DAB7-36DD-41C2-8F64-EAAFD6B54A92@hest.ethz.ch>
	<2156550.lPYaUl6jWH@localhost.localdomain>
Message-ID: <780E88F2-73F6-4287-9993-26517CDD1F86@comcast.net>


On May 23, 2014, at 8:05 PM, Jim Lemon wrote:

> On Fri, 23 May 2014 12:19:11 PM Ruddy Kathy wrote:
>> Hi Guys,
>> 
>> I have been trying to create a 'balloon plot' using R, which is where the
>> points in a plot are scaled such that the size of the point (area)
>> represents the value. 
>> ...
>> Anybody got any ideas for how to change this scaling??
>> I would be very grateful!!
>> 
> Hi Kathy,


> This isn't ggplot,

Searching SO with: [r] ggplot balloon ... gives:

http://stackoverflow.com/questions/20458379/changing-size-of-the-dots-in-a-balloon-plot-and-keeping-zero-values:


> but you can apply whatever scaling function you want in 
> size_n_color (plotrix). I read in your example as a data frame named 
> "krdata2". Perhaps it will be useful.
> 
> krmed<-sapply(krdata2[,2:9],median,na.rm=TRUE)
> x11(width=8,height=3)
> stretch_it<-function(x) (x+0.65)^5
> library(plotrix)
> size_n_color(seq(1,32,length.out=8),rep(1,8),krmed,
> sizefun="stretch_it", xlim=c(0,32),col=rep(3,8),
> xat=seq(1,32,length.out=8),yat=c(0.5,1.5),
> main="size_n_color",xlab="",ylab="",
> xaxlab=names(krmed),mar=c(5,4,4,5))
> 
> Jim
> 

David Winsemius
Alameda, CA, USA


From vweinbir at gmail.com  Sat May 24 18:02:43 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Sat, 24 May 2014 18:02:43 +0200
Subject: [R] How to illustrate data of a csv file as table (xtable?)
In-Reply-To: <53878A0A9C9.00000879jrkrideau@inbox.com>
References: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
	<53878A0A9C9.00000879jrkrideau@inbox.com>
Message-ID: <CAMuCtg5V=LzWyiDggjO-V1XeQ8fQQNS_mYivScxa2niOUK9JuQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/7e2dfb98/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Sat May 24 18:36:04 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sat, 24 May 2014 09:36:04 -0700
Subject: [R] How to illustrate data of a csv file as table (xtable?)
In-Reply-To: <CAMuCtg5V=LzWyiDggjO-V1XeQ8fQQNS_mYivScxa2niOUK9JuQ@mail.gmail.com>
References: <CAMuCtg4eA3R7GyBy+anf4djEMwFmaGB4Qkj3Uw62C0v-fqCFNQ@mail.gmail.com>
	<53878A0A9C9.00000879jrkrideau@inbox.com>
	<CAMuCtg5V=LzWyiDggjO-V1XeQ8fQQNS_mYivScxa2niOUK9JuQ@mail.gmail.com>
Message-ID: <64b87ee6-a49a-49e2-a13b-3be0d8cd0273@email.android.com>

That is one way. Pandoc is another way, though it requires fiddling in Word to format the tables right.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 24, 2014 9:02:43 AM PDT, Verena Weinbir <vweinbir at gmail.com> wrote:
>hey guys, thank you very much for your help!
>
>Sorry for the confusion! I write my thesis in word (So it would be
>"word
>sheet" - which is obvisously not a word at all :-D sorry again), but
>for
>generating tables I use xtable () with latex output. The data for the
>table
>is stored in an excel sheet.   I managed to implement a multipage table
>by
>using tabular.environment="longtable" in the xtable () function and
>will
>probably try begin/end{landscape} in Latex to turn the table around.
>
>The only way to copy the table into my word document is probably to
>convert
>the latex output into a pdf and then use the snipping tool to cut it
>out
>and paste it into the word document ?
>
>
>On Sat, May 24, 2014 at 5:25 PM, John Kane <jrkrideau at inbox.com> wrote:
>
>> Verena
>> Do you mean word-sheet or is this a typo for 'work-sheet'?
>>
>> John Kane
>> Kingston ON Canada
>>
>>
>> > -----Original Message-----
>> > From: vweinbir at gmail.com
>> > Sent: Sat, 24 May 2014 00:31:44 +0200
>> > To: r-help at r-project.org
>> > Subject: [R] How to illustrate data of a csv file as table
>(xtable?)
>> >
>> > Hello!
>> >
>> > I'd like to illustrate the data of an csv file as a nice table and
>copy
>> > it
>> > into my word-sheet. Currently, I am trying this with the xtable ()
>> > function
>> > (latex output).
>> >
>> > Example Code:
>> >
>> > dfchar <- data.frame(Author = dat$author, Year = dat$year, Age =
>dat$age)
>> > xtable(dfchar)
>> >
>> > Now, since there are some more variables and many more data sets I
>have
>> > to
>> > include, I need to change the table orientation to landscape*. *The
>size
>> > of
>> > the table should run over several pages.
>> >
>> > Does anyone know how to implement this with the xtable () function
>or can
>> > provide me with an alternative function?
>> >
>> > Thank you very much in advance!
>> >
>> > Verena
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> > http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>> ____________________________________________________________
>> FREE 3D EARTH SCREENSAVER - Watch the Earth right on your desktop!
>> Check it out at http://www.inbox.com/earth
>>
>>
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From hill0093 at umn.edu  Sat May 24 19:04:06 2014
From: hill0093 at umn.edu (Hurr)
Date: Sat, 24 May 2014 10:04:06 -0700 (PDT)
Subject: [R] How do I move the axis labels precisely
In-Reply-To: <1400939372094-4691168.post@n4.nabble.com>
References: <1400777079952-4691082.post@n4.nabble.com>
	<1400794344266-4691095.post@n4.nabble.com>
	<1400939372094-4691168.post@n4.nabble.com>
Message-ID: <1400951046586-4691184.post@n4.nabble.com>

OK, so nobody knows how to explain my code or do it better.
My bigger problem is to know how to move the labels a small 
distance away from the tick marks so I can see the decimal points.
Can anyone help me?
Hurr 




--
View this message in context: http://r.789695.n4.nabble.com/How-do-I-move-the-axis-labels-precisely-tp4691082p4691184.html
Sent from the R help mailing list archive at Nabble.com.


From Juan.Bohorquez at ecopetrol.com.co  Sat May 24 17:11:01 2014
From: Juan.Bohorquez at ecopetrol.com.co (Juan Ulises Bohorquez Carvajal)
Date: Sat, 24 May 2014 10:11:01 -0500
Subject: [R] R License
Message-ID: <43chcghj2xdtciubv9s45hp0.1400944253874@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/a6ac7bc5/attachment.pl>

From Juan.Bohorquez at ecopetrol.com.co  Sat May 24 17:38:42 2014
From: Juan.Bohorquez at ecopetrol.com.co (Juan Ulises Bohorquez Carvajal)
Date: Sat, 24 May 2014 10:38:42 -0500
Subject: [R] R License
Message-ID: <mm30uio22bb3uu414aj3q9f4.1400945910672@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/151842d0/attachment.pl>

From Juan.Bohorquez at ecopetrol.com.co  Sat May 24 17:41:23 2014
From: Juan.Bohorquez at ecopetrol.com.co (Juan Ulises Bohorquez Carvajal)
Date: Sat, 24 May 2014 10:41:23 -0500
Subject: [R] R License
Message-ID: <dx655nn1djr73l2kcs99pwl8.1400946076797@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/bf89dfe4/attachment.pl>

From jason.stout at duke.edu  Sat May 24 17:47:17 2014
From: jason.stout at duke.edu (Jason Stout, M.D.)
Date: Sat, 24 May 2014 15:47:17 +0000
Subject: [R] Conditional assignment of values to vector using ifelse
In-Reply-To: <084B4CA8-5A3E-4894-ADD2-034DE5184B80@comcast.net>
References: <ECEE21FB0A17344D9E5E832F213DCB01037AF43A@vmw-excmbd2s01.dhe.duke.edu>,
	<084B4CA8-5A3E-4894-ADD2-034DE5184B80@comcast.net>
Message-ID: <ECEE21FB0A17344D9E5E832F213DCB01037AF581@vmw-excmbd2s01.dhe.duke.edu>

This is obviously an oversimplified way of simulating different test characteristics, but for the specific purpose I need it will serve.   The lesion is not in my understanding of clinical epidemiology.   I am more interested in understanding how the code is working in this case.

Thanks.


Jason Stout, MD, MHS
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494

________________________________________
From: David Winsemius [dwinsemius at comcast.net]
Sent: Saturday, May 24, 2014 11:35 AM
To: Jason Stout, M.D.
Cc: r-help at r-project.org
Subject: Re: [R] Conditional assignment of values to vector using ifelse

On May 24, 2014, at 6:58 AM, Jason Stout, M.D. wrote:

> Hi R-users,
>
> I'm trying to simulate the outcome of several diagnostic tests with binary outcomes (positive/negative) and different performance characteristics.  What I would like to generate is a dataframe with the first column representing the result of a "perfect" test, and different columns to the right simulating tests with different combinations of sensitivity and specificity.  Here's the code I used to attempt this:
>
> x3<-rmvbin(10000,margprob=0.2) # results of perfect test, disease prevalence 20%
> sens1<-0.7 # sensitivity of test 1
> spec1<-0.8 # specificity of test 1
> sens2<-0.8 # sensitivity of test 2
> spec2<-0.7 # specificity of test 2
> funcsensspec<-function(x,sens,spec) {
>  result<-ifelse(x==1,ifelse(runif(1,0,1)<=sens,1,0),
>                 ifelse(runif(1,0,1)<=spec,0,1))
>  return(result)
> }
> x4<-funcsensspec(x3,sens1,spec1)
> x5<-funcsensspec(x3,sens2,spec2)
> xx<-cbind(x3,x4,x5)
>
> The problem is that this is not behaving as I expected.  Ideally I wanted R to randomly reassign values for each row with probability based on test characteristics, but what I think it is doing is generating one random value and using that to reassign the entire vector.  Here is sample output:

I think you need to re-examine your understanding of sensitivity and specificity. They are mappings from data to a continuous variable in [0,1] for  varying choice of a continuously variable threshold, rather than a sampling parameter. The typical display of ROC curves is if no help to physicians because it obscures this relationship by failing to include annotations with the threshold values.

--
David Winsemius, MD
>
>
>> head(xx,30)
>      [,1] [,2] [,3]
> [1,]    0    1    0
> [2,]    0    1    0
> [3,]    0    1    0
> [4,]    0    1    0
> [5,]    0    1    0
> [6,]    0    1    0
> [7,]    1    1    1
> [8,]    0    1    0
> [9,]    1    1    1
> [10,]    0    1    0
> [11,]    1    1    1
> [12,]    0    1    0
> [13,]    0    1    0
> [14,]    1    1    1
> [15,]    0    1    0
> [16,]    1    1    1
> [17,]    0    1    0
> [18,]    0    1    0
> [19,]    0    1    0
> [20,]    0    1    0
> [21,]    0    1    0
> [22,]    0    1    0
> [23,]    0    1    0
> [24,]    1    1    1
> [25,]    0    1    0
> [26,]    0    1    0
> [27,]    0    1    0
> [28,]    0    1    0
> [29,]    0    1    0
> [30,]    0    1    0
>
> I know I could do this task by creating two actual vectors of random numbers and using them to assign probabilities, but am wondering if there is a simpler and more elegant way to accomplish the task (and this would provide some insight into how ifelse is working within this function).
>
> Thanks for any assistance.
>
>
> Jason Stout, MD, MHS
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA



From jason.stout at duke.edu  Sat May 24 18:22:40 2014
From: jason.stout at duke.edu (Jason Stout, M.D.)
Date: Sat, 24 May 2014 16:22:40 +0000
Subject: [R] Conditional assignment of values to vector using ifelse
In-Reply-To: <ECEE21FB0A17344D9E5E832F213DCB01037AF581@vmw-excmbd2s01.dhe.duke.edu>
References: <ECEE21FB0A17344D9E5E832F213DCB01037AF43A@vmw-excmbd2s01.dhe.duke.edu>,
	<084B4CA8-5A3E-4894-ADD2-034DE5184B80@comcast.net>,
	<ECEE21FB0A17344D9E5E832F213DCB01037AF581@vmw-excmbd2s01.dhe.duke.edu>
Message-ID: <ECEE21FB0A17344D9E5E832F213DCB01037AF63D@vmw-excmbd2s01.dhe.duke.edu>

Sorry, I think I figured it out--I needed to generate a vector of 10000 random numbers in runif instead of just one--the code (which performs as expected) follows:

x3<-rmvbin(10000,margprob=0.2)
sens1<-0.7
spec1<-0.8
sens2<-0.8
spec2<-0.7
funcsensspec<-function(x,sens,spec) {
  result<-ifelse(x==1,ifelse(runif(10000,0,1)<=sens,1,0),
                 ifelse(runif(10000,0,1)<=spec,0,1))
  return(result)
}
x4<-funcsensspec(x3,sens1,spec1)
x5<-funcsensspec(x3,sens2,spec2)
xx<-cbind(x3,x4,x5)


Jason Stout, MD, MHS
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494

________________________________________
From: Jason Stout, M.D.
Sent: Saturday, May 24, 2014 11:47 AM
To: David Winsemius
Cc: r-help at r-project.org
Subject: RE: [R] Conditional assignment of values to vector using ifelse

This is obviously an oversimplified way of simulating different test characteristics, but for the specific purpose I need it will serve.   The lesion is not in my understanding of clinical epidemiology.   I am more interested in understanding how the code is working in this case.

Thanks.


Jason Stout, MD, MHS
Box 102359-DUMC
Durham, NC 27710
FAX 919-681-7494

________________________________________
From: David Winsemius [dwinsemius at comcast.net]
Sent: Saturday, May 24, 2014 11:35 AM
To: Jason Stout, M.D.
Cc: r-help at r-project.org
Subject: Re: [R] Conditional assignment of values to vector using ifelse

On May 24, 2014, at 6:58 AM, Jason Stout, M.D. wrote:

> Hi R-users,
>
> I'm trying to simulate the outcome of several diagnostic tests with binary outcomes (positive/negative) and different performance characteristics.  What I would like to generate is a dataframe with the first column representing the result of a "perfect" test, and different columns to the right simulating tests with different combinations of sensitivity and specificity.  Here's the code I used to attempt this:
>
> x3<-rmvbin(10000,margprob=0.2) # results of perfect test, disease prevalence 20%
> sens1<-0.7 # sensitivity of test 1
> spec1<-0.8 # specificity of test 1
> sens2<-0.8 # sensitivity of test 2
> spec2<-0.7 # specificity of test 2
> funcsensspec<-function(x,sens,spec) {
>  result<-ifelse(x==1,ifelse(runif(1,0,1)<=sens,1,0),
>                 ifelse(runif(1,0,1)<=spec,0,1))
>  return(result)
> }
> x4<-funcsensspec(x3,sens1,spec1)
> x5<-funcsensspec(x3,sens2,spec2)
> xx<-cbind(x3,x4,x5)
>
> The problem is that this is not behaving as I expected.  Ideally I wanted R to randomly reassign values for each row with probability based on test characteristics, but what I think it is doing is generating one random value and using that to reassign the entire vector.  Here is sample output:

I think you need to re-examine your understanding of sensitivity and specificity. They are mappings from data to a continuous variable in [0,1] for  varying choice of a continuously variable threshold, rather than a sampling parameter. The typical display of ROC curves is if no help to physicians because it obscures this relationship by failing to include annotations with the threshold values.

--
David Winsemius, MD
>
>
>> head(xx,30)
>      [,1] [,2] [,3]
> [1,]    0    1    0
> [2,]    0    1    0
> [3,]    0    1    0
> [4,]    0    1    0
> [5,]    0    1    0
> [6,]    0    1    0
> [7,]    1    1    1
> [8,]    0    1    0
> [9,]    1    1    1
> [10,]    0    1    0
> [11,]    1    1    1
> [12,]    0    1    0
> [13,]    0    1    0
> [14,]    1    1    1
> [15,]    0    1    0
> [16,]    1    1    1
> [17,]    0    1    0
> [18,]    0    1    0
> [19,]    0    1    0
> [20,]    0    1    0
> [21,]    0    1    0
> [22,]    0    1    0
> [23,]    0    1    0
> [24,]    1    1    1
> [25,]    0    1    0
> [26,]    0    1    0
> [27,]    0    1    0
> [28,]    0    1    0
> [29,]    0    1    0
> [30,]    0    1    0
>
> I know I could do this task by creating two actual vectors of random numbers and using them to assign probabilities, but am wondering if there is a simpler and more elegant way to accomplish the task (and this would provide some insight into how ifelse is working within this function).
>
> Thanks for any assistance.
>
>
> Jason Stout, MD, MHS
> Box 102359-DUMC
> Durham, NC 27710
> FAX 919-681-7494
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA



From scottsourav at gmail.com  Sat May 24 18:35:30 2014
From: scottsourav at gmail.com (Sourav Ghosh)
Date: Sat, 24 May 2014 22:05:30 +0530
Subject: [R] Generating random variables with given pairwise correlations
Message-ID: <CAAz5QgVxRzujYT61CsUAJ2Bepaf2uJaycbqeSWfV2z=QG1ShNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140524/4ae8cbcc/attachment.pl>

From sarah.goslee at gmail.com  Sat May 24 19:58:25 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Sat, 24 May 2014 13:58:25 -0400
Subject: [R] GETTING CLUSTERING RESULTS IN SOM , LIKE K-MEAN
In-Reply-To: <CAFcJUTpsiehvcZt9i1FcPRnPmUqj2nZ5XMv==H=-TPwPoBFwBQ@mail.gmail.com>
References: <CAFcJUTpsiehvcZt9i1FcPRnPmUqj2nZ5XMv==H=-TPwPoBFwBQ@mail.gmail.com>
Message-ID: <CAM_vjukn0PgaDS-J5-XONkpAt3-ZKoUu2JPkfUaX2WD4_FnAMQ@mail.gmail.com>

Based on the example in ?som (did you work through that and look at
the various outputs?), you need to use som.prediction() to get the
predicted class values.

Sarah

On Sat, May 24, 2014 at 1:28 AM, Ashis Deb <ashisdeb83 at gmail.com> wrote:
> Hi   all    ,
>
>
>                  I  was  doing    k-mean  clustering    through  which   i
> could  find  out   each  and  every  clusters  and  the  contents
> around    each  cluster   centroid   like    below  :-
>
>
> x<-read.csv("normalizedata.csv", header = TRUE)    #To read the dataset
>
> km<- kmeans(x, 3, 150)
>
> print(km)    <<<----   in  this   I   could   get   every  clusters  and
> centroids  .
>
> km$cluster    <<-----  It   gave    me   the   clusters   which   comes
> up   during   clustering  like
>
>
>
>
>
>  [1] 3 3 1 2 3 2 1 2 1 3 2 1 3 1 1 1 3 2 1 1 1 1 3 1 1 2 2 2 1 3 3 1 3 3 2
> 2 2
>  [38] 3 1 3 1 3 3 1 1 1 3 1 1 2 1 3 3 3 3 3 3 3 3 3 3 1 3 2 3 2 2 3 3 3 3 2
> 3 2
>  [75] 1 2 2 1 1 3 3 1 3 1 1 1 1 3 3 2 1 3 3 3 1 3 1 1 1 1 1 2 1 3 1 1 1 2 1
> 3 3
> [112] 1 3 1 2 1 1 1 1 1 1 1 2 2 1 3 1 2 3 1 1 3 2 1 1 1 2 1 3 2 1 3 1 1 1 3
> 2 1
> [149] 3 2 3 3 3 3 1 2 1 1 1 1 1 1 3 2 2 2 1 1 1 3 3 1 1 3 2 1 3 1 1 1 1 1 2
> 1 1
> [186] 3 1 2 1 3 2 3 2 1 2 1 2 3 1 1 1 2 3 2 1 1 2 3 3 1 2 2 1 3 1 1 2 3 3 1
> 1 3
> [223] 3 1 1 3 3 3 2 2 1 3 3 3 2 2 1 2 3 1 1 2 1 1 1 1 1 3 1 3 2 1 1 3 1 1 2
> 2 3
> [260] 1 3 3 3 1 1 2 1 3 1 3 1 2 1 1 1 3 3 2 3 1 1 1 2 1 3 3 1 3 3 1 1 2 1 2
> 3 3
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> But  in  case  of  SOM   clustering   when  i  had  tried    like    :-
>
>
>
> require(kohonen)
> require (som)    #To load Kohonen Package
>
> x<-read.csv("normalizedata.csv",header=TRUE)
>
> x.sc <- scale(x)    #To scale
>
> set.seed(7)
>
> xx.som<- SOM(data = x.sc, grid = somgrid(1, 3, "hexagonal"))    #som
> function
>
>
>
>
> print(xx.som)
>
>
> I  got  :-
>
>
>
>
>
>
>
>
> $codes
>         hrefCount Number.of.times.Visited Total.time.Spent
> [1,] -0.008926424              0.01642686      -0.01059301
> [2,] -0.008926424              0.01642686      -0.01059301
> [3,] -0.023231402             -0.06730921      -0.02705149
>
>
>
> I  hope  this  are  the   centroids  ,   I need   the  cluster    results
> like  kmeans   ,  how  to  achieve   it   ,  can  any  one    helps .
>
>
>
> THanks
>
> ASHIS
>
-- 
Sarah Goslee
http://www.functionaldiversity.org


From crystal.ernst at mail.mcgill.ca  Sat May 24 22:39:19 2014
From: crystal.ernst at mail.mcgill.ca (Crystal Ernst)
Date: Sat, 24 May 2014 20:39:19 +0000
Subject: [R] dbFD function in FD package
Message-ID: <20806C405C26504A8B9AA3EC2301578820F4F5AF@EXMBX2010-1.campus.MCGILL.CA>

I was looking forward to trying out the FD package for functional diversity, but I can't seem to get past the first step of setting up the matrices. 

 I have found examples online and it appears I'm doing it correctly: species trait matrix with one species listed on each row (traits in columns) and community species matrix with the same number/names of species as columns and abundances of each in the rows.  It won't work with my large data set, and I can't get it to work with the very simple dummy matrices I set up.  

The link below shows a small screenshot of the two dummies and the error message I'm getting.  Thanks in advance for any help!

http://tinypic.com/r/2liht0y/8

From hill0093 at umn.edu  Sat May 24 23:41:16 2014
From: hill0093 at umn.edu (Hurr)
Date: Sat, 24 May 2014 14:41:16 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
References: <9795046.ct7tZ63rPa@localhost.localdomain>
	<1400571936847-4690867.post@n4.nabble.com>
	<1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
Message-ID: <1400967676429-4691201.post@n4.nabble.com>

Another wish is to make the left and right 
plot borders match the axis limits I 
have placed on the second axis using 
"xlim=" in plot().
But the axis is shorter than the 
plot and I want them equal.
How do I do that?
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691201.html
Sent from the R help mailing list archive at Nabble.com.


From jim at bitwrit.com.au  Sun May 25 01:36:10 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Sun, 25 May 2014 09:36:10 +1000
Subject: [R] Balloon plot scaling problem
In-Reply-To: <780E88F2-73F6-4287-9993-26517CDD1F86@comcast.net>
References: <5794DAB7-36DD-41C2-8F64-EAAFD6B54A92@hest.ethz.ch>
	<2156550.lPYaUl6jWH@localhost.localdomain>
	<780E88F2-73F6-4287-9993-26517CDD1F86@comcast.net>
Message-ID: <1818404.GOuRjdpxnf@localhost.localdomain>

On Sat, 24 May 2014 08:56:59 AM David Winsemius wrote:
> http://stackoverflow.com/questions/20458379/changing-size-of-the-dots-in-a-b
> alloon-plot-and-keeping-zero-values:

Hi David,
I checked this out and it appears to be a solution to the problem of zero 
values becoming invisible when a size transformation is applied to the 
ggplot2 object. While this is a nice solution to the problem posed, it 
doesn't seem to address Kathy's difficulty in emphasizing the differences 
between her closely spaced values. I reinstalled ggplot2, but I couldn't 
work out how to reproduce her plot as the help page for "ggplot2" seems 
to be blank. I had a look at the "stat" and "scale" arguments/functions, 
but was unable to locate anything that allowed the user to specify an 
arbitrary transformation of data values to plot areas. Perhaps someone 
with a better knowledge of ggplot2 can provide an answer.

Jim


From jim at bitwrit.com.au  Sun May 25 01:38:57 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Sun, 25 May 2014 09:38:57 +1000
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400967676429-4691201.post@n4.nabble.com>
References: <9795046.ct7tZ63rPa@localhost.localdomain>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
Message-ID: <3469076.Bj2Rrlr1Qy@localhost.localdomain>

On Sat, 24 May 2014 02:41:16 PM Hurr wrote:
> Another wish is to make the left and right
> plot borders match the axis limits I
> have placed on the second axis using
> "xlim=" in plot().
> But the axis is shorter than the
> plot and I want them equal.
> How do I do that?
> Hurr
> 
Perhaps you are looking for:

par(xaxs="i")

Jim


From hill0093 at umn.edu  Sun May 25 04:47:24 2014
From: hill0093 at umn.edu (Hurr)
Date: Sat, 24 May 2014 19:47:24 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <3469076.Bj2Rrlr1Qy@localhost.localdomain>
References: <1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
	<3469076.Bj2Rrlr1Qy@localhost.localdomain>
Message-ID: <1400986044715-4691204.post@n4.nabble.com>

Thanks again Jim.
I stuck xaxs="i" in the existing par() command and it worked as I wanted it.
I haven't looked at the documentation yet, but that's next.
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691204.html
Sent from the R help mailing list archive at Nabble.com.


From jim at bitwrit.com.au  Sun May 25 12:17:55 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Sun, 25 May 2014 20:17:55 +1000
Subject: [R] seeking latex peace
Message-ID: <1910120.eozsCGXcKS@localhost.localdomain>

Hi all,
I realize that this is not an R question, but in attempting to build a new 
version of a package, I have encountered the error:

Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  : 
  pdflatex is not available

As I could not find any way to install pdflatex (it didn't appear on a yum 
search), I tried a method that claimed to install pdflatex via a package 
named "texlive". Almost 300 packages later and minus over 300 Mb of 
disk space, I then got the error:

! LaTeX Error: File `zi4.sty' not found.

This seems to be an updated version of the "inconsolata.sty" error that 
used to torment me (and after reading a lot of messages about this, 
many other people as well), so I found the file "zi4.sty" and copied it into 
what I thought was the appropriate directory. It seems to be, as I now get 
the error:

! LaTeX Error: File `upquote.sty' not found.

At this point, I wonder if someone would be kind enough to inform me 
whether this is a potentially infinite task of finding ".sty" files, in which 
case I will live without them, or if there is an easier method of satisfying 
the apparently immense appetite of LaTeX? Thanks.

R-3.1.0
Fedora 19

Jim


From murdoch.duncan at gmail.com  Sun May 25 12:56:16 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sun, 25 May 2014 06:56:16 -0400
Subject: [R] seeking latex peace
In-Reply-To: <1910120.eozsCGXcKS@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
Message-ID: <5381CC50.7080807@gmail.com>

On 25/05/2014, 6:17 AM, Jim Lemon wrote:
> Hi all,
> I realize that this is not an R question, but in attempting to build a new
> version of a package, I have encountered the error:
>
> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
>    pdflatex is not available
>
> As I could not find any way to install pdflatex (it didn't appear on a yum
> search), I tried a method that claimed to install pdflatex via a package
> named "texlive". Almost 300 packages later and minus over 300 Mb of
> disk space, I then got the error:
>
> ! LaTeX Error: File `zi4.sty' not found.
>
> This seems to be an updated version of the "inconsolata.sty" error that
> used to torment me (and after reading a lot of messages about this,
> many other people as well), so I found the file "zi4.sty" and copied it into
> what I thought was the appropriate directory. It seems to be, as I now get
> the error:
>
> ! LaTeX Error: File `upquote.sty' not found.
>
> At this point, I wonder if someone would be kind enough to inform me
> whether this is a potentially infinite task of finding ".sty" files, in which
> case I will live without them, or if there is an easier method of satisfying
> the apparently immense appetite of LaTeX? Thanks.

I don't use TeXLive, but most LaTeX distributions offer a way to 
automatically install packages as needed.

But if you can't find it, you can just install them one by one:  it's 
not actually an infinite task.  I believe there are only about 4700 
packages on CTAN (the equivalent of CRAN for TeX, in fact I believe it 
was the first C*AN). At 5 minutes per attempt, you'll be done in a 
couple of weeks!

Duncan Murdoch


From pdalgd at gmail.com  Sun May 25 13:34:39 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 25 May 2014 13:34:39 +0200
Subject: [R] seeking latex peace
In-Reply-To: <5381CC50.7080807@gmail.com>
References: <1910120.eozsCGXcKS@localhost.localdomain>
	<5381CC50.7080807@gmail.com>
Message-ID: <D36B9894-505C-4964-9363-01F55B8DE492@gmail.com>


On 25 May 2014, at 12:56 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 25/05/2014, 6:17 AM, Jim Lemon wrote:
>> Hi all,
>> I realize that this is not an R question, but in attempting to build a new
>> version of a package, I have encountered the error:
>> 
>> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
>>   pdflatex is not available
>> 
>> As I could not find any way to install pdflatex (it didn't appear on a yum
>> search), I tried a method that claimed to install pdflatex via a package
>> named "texlive". Almost 300 packages later and minus over 300 Mb of
>> disk space, I then got the error:
>> 
>> ! LaTeX Error: File `zi4.sty' not found.
>> 
>> This seems to be an updated version of the "inconsolata.sty" error that
>> used to torment me (and after reading a lot of messages about this,
>> many other people as well), so I found the file "zi4.sty" and copied it into
>> what I thought was the appropriate directory. It seems to be, as I now get
>> the error:
>> 
>> ! LaTeX Error: File `upquote.sty' not found.
>> 
>> At this point, I wonder if someone would be kind enough to inform me
>> whether this is a potentially infinite task of finding ".sty" files, in which
>> case I will live without them, or if there is an easier method of satisfying
>> the apparently immense appetite of LaTeX? Thanks.
> 
> I don't use TeXLive, but most LaTeX distributions offer a way to automatically install packages as needed.
> 
> But if you can't find it, you can just install them one by one:  it's not actually an infinite task.  I believe there are only about 4700 packages on CTAN (the equivalent of CRAN for TeX, in fact I believe it was the first C*AN). At 5 minutes per attempt, you'll be done in a couple of weeks!
> 

However, before you do that, do check that your friendly distribution maintainers haven't already made things available by making pdflatex and friends a dependency of an R-devel (or so) meta-package.

I'm getting a bit rusty on Fedora, but as far as I recall, you can "yum search" for packages that contain a specific .sty file.  In general, try to use the yum discipline when installing; it is so much easier to get things done right that way than it is to maintain your own texmf tree and/or mucking around in a system-installed one.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bsmith030465 at gmail.com  Sun May 25 13:57:59 2014
From: bsmith030465 at gmail.com (Brian Smith)
Date: Sun, 25 May 2014 07:57:59 -0400
Subject: [R] boxplot axis font size
Message-ID: <CAEQKoCGOWV94fD01xoh50w3Gsu_HgnpKgL+a37opH8b1AP3xNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140525/c8bbbae6/attachment.pl>

From jrkrideau at inbox.com  Sun May 25 16:34:23 2014
From: jrkrideau at inbox.com (John Kane)
Date: Sun, 25 May 2014 06:34:23 -0800
Subject: [R] Balloon plot scaling problem
In-Reply-To: <1818404.GOuRjdpxnf@localhost.localdomain>
References: <780e88f2-73f6-4287-9993-26517cdd1f86@comcast.net>
	<2156550.lpyaul6jwh@localhost.localdomain>
	<5794dab7-36dd-41c2-8f64-eaafd6b54a92@hest.ethz.ch>
Message-ID: <5FA8081BA1B.0000049Bjrkrideau@inbox.com>

@ Jim,
I think you have a corrupted verison of ggplot2 as it has a complete help section--occassionally, wll usually,  a bit terse but it's there.

I don't see why Kathy cannot use your solution in ggplot2.

@ Kathy
Try this . Does it approach what you want? If not Jim may be able to suggest a better scaling factor. BTW dput() is a handy way to supply sample data.
###############################################
library(ggplot2)
library(reshape2)
krdata1  <-  structure(list(X = c("a_PMd", "b_SMAproper", "c_pre-SMA", "d_M1a", 
"e_S1", "f_CMA", "g_PMv", "h_M1p"), a_PMd = c(0.4938019, 0.5076123, 
0.513509, 0.4906899, 0.4021556, 0.4212536, 0.4038168, 0.3471316
), b_SMAproper = c(0.5076123, 0.4814135, 0.4728626, 0.4372118, 
0.3008708, 0.4024063, 0.4249524, 0.413334), c_pre.SMA = c(0.513509, 
0.4728626, 0.4727388, 0.3944285, 0.4695559, 0.3870128, 0.4082124, 
NA), d_M1a = c(0.4906899, 0.4372118, 0.3944285, 0.4675951, 0.4450485, 
0.3899106, 0.3376981, 0.4298238), e_S1 = c(0.4021556, 0.3008708, 
0.4695559, 0.4450485, 0.4158451, 0.3941677, 0.3055601, 0.3726385
), f_CMA = c(0.4212536, 0.4024063, 0.3870128, 0.3899106, 0.3941677, 
0.3656597, 0.3655603, 0.4112778), g_PMv = c(0.4038168, 0.4249524, 
0.4082124, 0.3376981, 0.3055601, 0.3655603, 0.3471682, 0.303521
), h_M1p = c(0.3471316, 0.413334, NA, 0.4298238, 0.3726385, 0.4112778, 
0.303521, 0.3267115)), .Names = c("X", "a_PMd", "b_SMAproper", 
"c_pre.SMA", "d_M1a", "e_S1", "f_CMA", "g_PMv", "h_M1p"), class = "data.frame", row.names = c(NA, 
-8L))
  
krdata2<-melt(krdata1,value.name="median")

krdata2$median  <-  (krdata2$median+0.65)^5 

balloon=ggplot(krdata2,aes(x=X,y=variable))+
geom_point(aes(size=median),shape=21,color="black",fill="lightblue")+
scale_size_area(max_size=40,limits=c(0.6, 2.3),guide="legend",
breaks=waiver(), expand=waiver())

print(balloon)

###############################################

John Kane
Kingston ON Canada


> -----Original Message-----
> From: jim at bitwrit.com.au
> Sent: Sun, 25 May 2014 09:36:10 +1000
> To: dwinsemius at comcast.net
> Subject: Re: [R] Balloon plot scaling problem
> 
> On Sat, 24 May 2014 08:56:59 AM David Winsemius wrote:
>> http://stackoverflow.com/questions/20458379/changing-size-of-the-dots-in-a-b
>> alloon-plot-and-keeping-zero-values:
> 
> Hi David,
> I checked this out and it appears to be a solution to the problem of zero
> values becoming invisible when a size transformation is applied to the
> ggplot2 object. While this is a nice solution to the problem posed, it
> doesn't seem to address Kathy's difficulty in emphasizing the differences
> between her closely spaced values. I reinstalled ggplot2, but I couldn't
> work out how to reproduce her plot as the help page for "ggplot2" seems
> to be blank. I had a look at the "stat" and "scale" arguments/functions,
> but was unable to locate anything that allowed the user to specify an
> arbitrary transformation of data values to plot areas. Perhaps someone
> with a better knowledge of ggplot2 can provide an answer.
> 
> Jim
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
Protect your computer files with professional cloud backup.
Get PCRx Backup and upload unlimited files automatically. 
Learn more at http://backup.pcrx.com/mail


From ripley at stats.ox.ac.uk  Sun May 25 17:09:00 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 25 May 2014 16:09:00 +0100
Subject: [R] seeking latex peace
In-Reply-To: <D36B9894-505C-4964-9363-01F55B8DE492@gmail.com>
References: <1910120.eozsCGXcKS@localhost.localdomain>	<5381CC50.7080807@gmail.com>
	<D36B9894-505C-4964-9363-01F55B8DE492@gmail.com>
Message-ID: <5382078C.80305@stats.ox.ac.uk>

On 25/05/2014 12:34, peter dalgaard wrote:
>
> On 25 May 2014, at 12:56 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
>> On 25/05/2014, 6:17 AM, Jim Lemon wrote:
>>> Hi all,
>>> I realize that this is not an R question, but in attempting to build a new
>>> version of a package, I have encountered the error:
>>>
>>> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
>>>    pdflatex is not available
>>>
>>> As I could not find any way to install pdflatex (it didn't appear on a yum
>>> search), I tried a method that claimed to install pdflatex via a package
>>> named "texlive". Almost 300 packages later and minus over 300 Mb of
>>> disk space, I then got the error:
>>>
>>> ! LaTeX Error: File `zi4.sty' not found.
>>>
>>> This seems to be an updated version of the "inconsolata.sty" error that
>>> used to torment me (and after reading a lot of messages about this,
>>> many other people as well), so I found the file "zi4.sty" and copied it into
>>> what I thought was the appropriate directory. It seems to be, as I now get
>>> the error:
>>>
>>> ! LaTeX Error: File `upquote.sty' not found.
>>>
>>> At this point, I wonder if someone would be kind enough to inform me
>>> whether this is a potentially infinite task of finding ".sty" files, in which
>>> case I will live without them, or if there is an easier method of satisfying
>>> the apparently immense appetite of LaTeX? Thanks.
>>
>> I don't use TeXLive, but most LaTeX distributions offer a way to automatically install packages as needed.

I don't believe many do.  See 
http://en.wikibooks.org/wiki/LaTeX/Installing_Extra_Packages .

>> But if you can't find it, you can just install them one by one:  it's not actually an infinite task.  I believe there are only about 4700 packages on CTAN (the equivalent of CRAN for TeX, in fact I believe it was the first C*AN). At 5 minutes per attempt, you'll be done in a couple of weeks!
>>
>
> However, before you do that, do check that your friendly distribution maintainers haven't already made things available by making pdflatex and friends a dependency of an R-devel (or so) meta-package.
>
> I'm getting a bit rusty on Fedora, but as far as I recall, you can "yum search" for packages that contain a specific .sty file.  In general, try to use the yum discipline when installing; it is so much easier to get things done right that way than it is to maintain your own texmf tree and/or mucking around in a system-installed one.

This is OK if your distribution is not a few years behind the times, 
which in the case of texlive, some are.

If you install R from the sources it will adapt to the LaTeX packages it 
finds, and you can set R_RD4PDF to customize afterwards.

Section A.1 of the 'R Installation and Administration manual' says

  A number of LaTeX packages are required (including url.sty, and 
listings.sty) and others such as hyperref and inconsolata are desirable 
(and without them you may need to change R?s defaults: see Making the 
manuals).

But it seems listings.sty is not needed for most packages.

I am guessing this is package plotrix.  To check that package I need

(/usr/local/texlive/2013/texmf-dist/tex/latex/base/ifthen.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/tools/longtable.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/tools/bm.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/base/alltt.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/tools/verbatim.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/url/url.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/base/textcomp.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/base/fontenc.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/psnfss/times.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/inconsolata/inconsolata.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/graphics/keyval.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/graphics/color.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/oberdiek/infwarerr.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/oberdiek/ltxcmds.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/hyperref/hyperref.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/oberdiek/hobsub-hyperref.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/oberdiek/hobsub-generic.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/ifxetex/ifxetex.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/oberdiek/auxhook.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/oberdiek/kvoptions.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/oberdiek/rerunfilecheck.sty
) (/usr/local/texlive/2013/texmf-dist/tex/latex/base/makeidx.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/base/inputenc.sty
(/usr/local/texlive/2013/texmf-dist/tex/latex/upquote/upquote.sty
  (/usr/local/texlive/2013/texmf-dist/tex/latex/hyperref/nameref.sty
(/usr/local/texlive/2013/texmf-dist/tex/generic/oberdiek/gettitlestring.sty

Of those, only url, inconsolata, hyperref and its dependants and upquote 
are non-standard, and upquote is required by that version of inconsolata.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From davidm.team at live.com  Sun May 25 21:31:24 2014
From: davidm.team at live.com (David Moskowitz)
Date: Sun, 25 May 2014 19:31:24 +0000
Subject: [R] =?utf-8?q?_Making_a_partial_profile_factorial_design_in_R?=
Message-ID: <COL402-EAS220506B3801E6BFBDBF72BB83380@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140525/55b34c0a/attachment.pl>

From r.turner at auckland.ac.nz  Mon May 26 00:28:53 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 26 May 2014 10:28:53 +1200
Subject: [R] boxplot axis font size
In-Reply-To: <CAEQKoCGOWV94fD01xoh50w3Gsu_HgnpKgL+a37opH8b1AP3xNw@mail.gmail.com>
References: <CAEQKoCGOWV94fD01xoh50w3Gsu_HgnpKgL+a37opH8b1AP3xNw@mail.gmail.com>
Message-ID: <53826EA5.40800@auckland.ac.nz>

On 25/05/14 23:57, Brian Smith wrote:
> Hi,
>
> I wanted to have a different font for my x-axis and y-axis. How can I use
> the par function to specify different font sizes for x and y axis? For
> example:
>
> x <- matrix(rnorm(2000),200,10)
> colnames(x) <- letters[1:10]
> par(cex.axis=0.5)
> boxplot(x,cex=0.2)
>
> But this sets the font size to 0.5 for both the x and y axis? How can I
> make the y-axis to 1.5?

How about:

 > boxplot(x,cex=0.2,axes=FALSE)
 > axis(1,cex.axis=0.5)
 > axis(2,cex.axis=1.5)

Does that get you what you want?

cheers,

Rolf Turner


From David.Duffy at qimr.edu.au  Mon May 26 02:41:47 2014
From: David.Duffy at qimr.edu.au (David Duffy)
Date: Mon, 26 May 2014 10:41:47 +1000
Subject: [R] snpStats reference allele used in genetic associations?
In-Reply-To: <mailman.23.1400925609.30858.r-help@r-project.org>
References: <mailman.23.1400925609.30858.r-help@r-project.org>
Message-ID: <alpine.LMD.2.00.1405261031070.14789@orpheus.qimr.edu.au>

francesca casalino <francy.casalino at gmail.com> asked:
>
> Does anyone know how to find the reference allele used for genetic
> associations ran in snpStats?
>
A is ref allele, B is risk allele.


From smartpink111 at yahoo.com  Mon May 26 04:12:31 2014
From: smartpink111 at yahoo.com (arun)
Date: Sun, 25 May 2014 19:12:31 -0700 (PDT)
Subject: [R] identifying odd or even number
Message-ID: <1401070351.9744.YahooMailNeo@web142606.mail.bf1.yahoo.com>

Hi "Deirdh",

You may use ?split() to return a list:

x <- 51:80
lst1 <- lapply(split(seq_along(x), x%%2),function(x1) x[x1]) 
lst1
#$`0`
# [1] 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80

#$`1`
# [1] 51 53 55 57 59 61 63 65 67 69 71 73 75 77 79
sapply(lst1,mean,na.rm=TRUE)
# 0? 1 
#66 65 


#odd
mean(x[!!x%%2],na.rm=TRUE)
#[1] 65
#even 
mean(x[!x%%2],na.rm=TRUE)
#[1] 66

A.K.


Thank, this is some of the clearest instruction I see (as a newcomer to R).
Can you also tell me how to return a list, detailing the value of the Odd or Even number?

(my task is to read data from a file, take the odd numbers only,? return the average value of the odd numbers and I'm struggling)
D 
On Jul 1, 2010, at 10:40 AM, Yemi Oyeyemi wrote:

> Hi, I run into problem when writing a syntax, I don't know syntax that will return true or false if an integer is odd or even.
> Thanks

x <- 1:10

> x
?[1]? 1? 2? 3? 4? 5? 6? 7? 8? 9 10

# modulo division
> x %% 2 == 0
?[1] FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE


is.even <- function(x) x %% 2 == 0

> is.even(x)
?[1] FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE


> is.odd <- function(x) x %% 2 != 0

> is.odd(x)
?[1]? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE? TRUE FALSE


Be aware that this will work for integer values. If you have floating point values that are 'close to' integer values, the exact comparison to 0 will be problematic. This may occur as the result of calculations where the result is 'close to' an integer value. In which case, you may want to review:

? http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f

HTH,

Marc Schwartz


From acarazo at foss.es  Mon May 26 00:25:42 2014
From: acarazo at foss.es (Antonio Carazo)
Date: Sun, 25 May 2014 22:25:42 +0000
Subject: [R] Unable to load a file: no such file or directory
Message-ID: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>


Hi,
I have the file DATOS1 in the directory E:/R 3.0.2/R-3.0.2/bin/x64.
If I try to load it, R returns me this error:
> getwd()
[1] "E:/R 3.0.2/R-3.0.2/bin/x64"
> DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1"),ncol=8)
Error en file(file, "r") : no se puede abrir la conexi?n
Adem?s: Mensajes de aviso perdidos
In file(file, "r") :
  no fue posible abrir el archivo 'E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1': No such file or directory

The file DATOS1 is a Text Document with this composition:
32   17   67   112   28   10   17   71
32    9   64   142   32   14    0   66
22   25   66   122   23   12   25   68
18   25   60   101   21   14   12   66
21    0   67   125   20   15    2   67
41    7   65   126   37   14   25   68
21    8   64   123   24   12    0   71
20    7   63   109   20   10   34   69
22    6   62   123   27   12    7   73
20   35   67   125   23   12   50   72
23   25   69   167   21   12   23   71
29   12   65   115   33   13    0   69
31    0   65   125   31   16    0   72
22    7   62   113   23   14   25   78

The unit E: is an external hard disk.
It seems like the path were wrong.
I?ve read the FAQ?s, the Windows FAQ?s, the R document about scan() function and the related sections of An Introduction to R and the Import/Export manual, but I can?t find any answer of this error.
Can anybody help me, please?
Thank you


From jack.pincus at sbcglobal.net  Mon May 26 01:18:25 2014
From: jack.pincus at sbcglobal.net (Jack Pincus)
Date: Sun, 25 May 2014 16:18:25 -0700 (PDT)
Subject: [R] Cannot Launch R Help Files under Window 8.1
Message-ID: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140525/2a668d27/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Mon May 26 06:02:29 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Sun, 25 May 2014 21:02:29 -0700
Subject: [R] Cannot Launch R Help Files under Window 8.1
In-Reply-To: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
References: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
Message-ID: <e9a5c6e1-0607-478f-b222-45685a781ea7@email.android.com>

Java should be unrelated to this. One potential issue might be that installing help is an option that you may not have selected when installing R. Another thought is that there may be some anti virus software that is blocking the R help server.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 25, 2014 4:18:25 PM PDT, Jack Pincus <jack.pincus at sbcglobal.net> wrote:
>I've been using R for about 9 months and just installed R 3.1.0 on a
>new computer running Windows 8.1.? IE is the default browser.? When I
>type help(round) or ?round ?the address:
>http://127.0.0.1:25976/library/base/html/Round.html?appears in IE but I
>get a message saying the page cannot be displayed.?Java 7 is installed
>on my computer.? I did a Google search but didn't find any solutions.?
>How can I get the help pages to display?
>
>Jack
>
>	[[alternative HTML version deleted]]
>
>
>
>------------------------------------------------------------------------
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From jholtman at gmail.com  Mon May 26 07:02:47 2014
From: jholtman at gmail.com (Jim Holtman)
Date: Mon, 26 May 2014 01:02:47 -0400
Subject: [R] Unable to load a file: no such file or directory
In-Reply-To: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>
References: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>
Message-ID: <0AB3BFD9-0F47-46BC-9316-B934240F3E5B@gmail.com>

first thing to do is 'list.files()' to see if your file is really there.  show us that output.

Sent from my iPad

On May 25, 2014, at 18:25, Antonio Carazo <acarazo at foss.es> wrote:

> 
> Hi,
> I have the file DATOS1 in the directory E:/R 3.0.2/R-3.0.2/bin/x64.
> If I try to load it, R returns me this error:
>> getwd()
> [1] "E:/R 3.0.2/R-3.0.2/bin/x64"
>> DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1"),ncol=8)
> Error en file(file, "r") : no se puede abrir la conexi?n
> Adem?s: Mensajes de aviso perdidos
> In file(file, "r") :
>  no fue posible abrir el archivo 'E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1': No such file or directory
> 
> The file DATOS1 is a Text Document with this composition:
> 32   17   67   112   28   10   17   71
> 32    9   64   142   32   14    0   66
> 22   25   66   122   23   12   25   68
> 18   25   60   101   21   14   12   66
> 21    0   67   125   20   15    2   67
> 41    7   65   126   37   14   25   68
> 21    8   64   123   24   12    0   71
> 20    7   63   109   20   10   34   69
> 22    6   62   123   27   12    7   73
> 20   35   67   125   23   12   50   72
> 23   25   69   167   21   12   23   71
> 29   12   65   115   33   13    0   69
> 31    0   65   125   31   16    0   72
> 22    7   62   113   23   14   25   78
> 
> The unit E: is an external hard disk.
> It seems like the path were wrong.
> I?ve read the FAQ?s, the Windows FAQ?s, the R document about scan() function and the related sections of An Introduction to R and the Import/Export manual, but I can?t find any answer of this error.
> Can anybody help me, please?
> Thank you
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From Ray.Brownrigg at ecs.vuw.ac.nz  Mon May 26 07:16:01 2014
From: Ray.Brownrigg at ecs.vuw.ac.nz (Ray Brownrigg)
Date: Mon, 26 May 2014 17:16:01 +1200
Subject: [R] Unable to load a file: no such file or directory
In-Reply-To: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>
References: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>
Message-ID: <5382CE11.6050305@ecs.vuw.ac.nz>

On 26/05/14 10:25, Antonio Carazo wrote:
> 
> Hi,
> I have the file DATOS1 in the directory E:/R 3.0.2/R-3.0.2/bin/x64.
> If I try to load it, R returns me this error:
>> getwd()
> [1] "E:/R 3.0.2/R-3.0.2/bin/x64"
>> DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1"),ncol=8)
> Error en file(file, "r") : no se puede abrir la conexi?n
> Adem?s: Mensajes de aviso perdidos
> In file(file, "r") :
>   no fue posible abrir el archivo 'E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1': No such file or directory
> 
> The file DATOS1 is a Text Document with this composition:
> 32   17   67   112   28   10   17   71
> 32    9   64   142   32   14    0   66
> 22   25   66   122   23   12   25   68
> 18   25   60   101   21   14   12   66
> 21    0   67   125   20   15    2   67
> 41    7   65   126   37   14   25   68
> 21    8   64   123   24   12    0   71
> 20    7   63   109   20   10   34   69
> 22    6   62   123   27   12    7   73
> 20   35   67   125   23   12   50   72
> 23   25   69   167   21   12   23   71
> 29   12   65   115   33   13    0   69
> 31    0   65   125   31   16    0   72
> 22    7   62   113   23   14   25   78
> 

If it's a text document created with a Windows application, then it is
very likely that the file name is really DATOS1.txt.  Another useful
thing to do in Windows is to use file.choose() whenever you want to open
a file:
DATOS1 <- matrix(scan(file.choose()), ncol = 8)

> The unit E: is an external hard disk.
> It seems like the path were wrong.
> I?ve read the FAQ?s, the Windows FAQ?s, the R document about scan() function and the related sections of An Introduction to R and the Import/Export manual, but I can?t find any answer of this error.
> Can anybody help me, please?
> Thank you
> 
Hope this helps,
Ray Brownrigg


From b.rowlingson at lancaster.ac.uk  Mon May 26 10:10:01 2014
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 26 May 2014 09:10:01 +0100
Subject: [R] R License
In-Reply-To: <35833fbb76e547d0bbd99c40cbf425dc@EX-1-HT0.lancs.local>
References: <35833fbb76e547d0bbd99c40cbf425dc@EX-1-HT0.lancs.local>
Message-ID: <CANVKczObtwjBbCqjZ0K8AsFRkJ5fM9nq8CQOyx6jXHHHO-3Rbg@mail.gmail.com>

On Sat, May 24, 2014 at 4:11 PM, Juan Ulises Bohorquez Carvajal
<Juan.Bohorquez at ecopetrol.com.co> wrote:
> Thanks, could you send to me an official certificate in pdf with this information? Or a certified email to support the information license?

And what would be the authority that supplies such a certificate? R is
not the proprietary property of a company or person, so I don't think
a body exists that could supply such an authoritative email.

What does (or should) exist are the comments in the source files
explaining the license terms, and this is echoed in the banner message
on startup.

I'm sure if you asked very nicely you could get a letter from someone
held in high esteem by the R community - some professor at an ancient
university perhaps - stating their belief that you can use R for your
company in accordance with the licenses. But that would just be
repeating what you've already heard here. The licensing is with the
code, and clearly stated.

Other, larger companies use R extensively - see this recent blog entry:

http://blog.revolutionanalytics.com/2014/05/companies-using-r-in-2014.html

Note in particular the banner when R starts: "ABSOLUTELY NO WARRANTY"
- which means if a bug in R makes one of your gas processing plants
explode, there's probably nobody to sue - but if you read the small
print on proprietary software licenses you'll probably find similar
terms anyway. R puts it out there in block capitals every time.

Barry

> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From vweinbir at gmail.com  Mon May 26 10:34:59 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Mon, 26 May 2014 10:34:59 +0200
Subject: [R] Metafor: Strange Trim and Fill Outcome?
Message-ID: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/a011ab99/attachment.pl>

From info at aghmed.fsnet.co.uk  Mon May 26 10:56:21 2014
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Mon, 26 May 2014 09:56:21 +0100
Subject: [R] Metafor: How to integrate effectsizes?
In-Reply-To: <CAMuCtg5041dL5TEOaopCrf+TeQBBbDmcspD=n=VLRyj6LsNrog@mail.g
	mail.com>
References: <CAMuCtg627YQ-mArR1RWWM-xm6M5BV0j4WatLFq=3iSLnq3AhwQ@mail.gmail.com>
	<CAMuCtg7ypqrSqBboJBa-YSO28+9Hdw2W7U-WVchKUSfXuBQCvw@mail.gmail.com>
	<Zen-1WdeCc-0007OW-6m@smarthost01b.mail.zen.net.uk>
	<CAMuCtg7Xsvypi48xjAPGePZsTKOf7dz4Y2w1Px1OCf7p7FNKDg@mail.gmail.com>
	<Zen-1Wdh1f-000AIS-Ux@smarthost01c.mail.zen.net.uk>
	<077E31A57DA26E46AB0D493C9966AC730DAA4F3A14@UM-MAIL4112.unimaas.nl>
	<Zen-1We0w6-000Flj-C4@smarthost01b.mail.zen.net.uk>
	<CAMuCtg4qfSv4vfP8XJPc-VJwMne6OBpbYAwDDF0+42wjNNChzw@mail.gmail.com>
	<077E31A57DA26E46AB0D493C9966AC730DAA8436C1@UM-MAIL4112.unimaas.nl>
	<Zen-1Whiwx-00093M-0m@smarthost01d.mail.zen.net.uk>
	<CAMuCtg5041dL5TEOaopCrf+TeQBBbDmcspD=n=VLRyj6LsNrog@mail.gmail.com>
Message-ID: <Zen-1Woqhn-000GUj-T1@smarthost01d.mail.zen.net.uk>

At 13:10 22/05/2014, Verena Weinbir wrote:
>Hello,
>
>thank you very much for your replies. I am 
>almost done :-) but theres one study left, where 
>I only have sample size (not group size),?  mean 
>values and standarddeviations. Is there a way to 
>compute cohens d from this data?

You could assume that the split was equal. If you 
are worried you could, as a sensitivity analysis, 
assume a plausible range of splits and see if 
that affects the outcome. If these are 
experiments or trials it is unlikely people would 
have arranged anything too asymmetrical.


>I thought it was correct to use measure="SMDH" 
>in the escalc () function to compute cohens d? 
>In your illustration, Wolfgang, you use SMD as measure - now I am confused ;-)

People usually use SMD I think, the other relaxes 
the assumption about homogeneity of variances.


>Thank you very much in advance!
>
>Best,
>Verena
>
>
>On Tue, May 6, 2014 at 7:14 PM, Michael Dewey 
><<mailto:info at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk> wrote:
>At 14:23 06/05/2014, Viechtbauer Wolfgang (STAT) wrote:
>Without the sample size of a study (i.e., either 
>the group sizes or the total sample size), you 
>cannot convert the p-value to a t-value or a 
>t-value to a d-value. And for studies where you 
>have the d-value but no sample size, you cannot 
>compute the corresponding sampling variance. So, 
>without additional information, you cannot 
>include these studies. Maybe studies where a 
>d-value is directly reported also report a CI 
>for the d-value? Then the sampling variance can 
>be back-calculated (since a 95% CI for d is 
>typically computed with d +- 1.96 sqrt(vi), where vi is the sampling variance).
>
>
>Verena,
>What Wolfgang says is true of course but if you 
>have _both_ the t value and the p value you can 
>backcalculate the number of degrees of freedom 
>and then if you are willing to assume equal arms you have the sample sizes.
>
>finddf <- function(t, pval) {
>?  ? helper <- function(df) {res <- pval - pt(t, df, lower.tail = FALSE); res}
>?  ? res <- uniroot(helper, interval = c(5, 10000))
>?  ? res
>}
>
>If you call finddf with the value of t and the 
>_one-sided_ p-value (divide by 2 if two-sided) 
>it should give you a return value which, if you 
>look at the element of the list called root is 
>its estimate of the degrees of freedom. If you 
>get errors from uniroot the interval supplied in 
>the call may need to be widened.
>
>I would suggest that when you have your final 
>dataset it would be a really good idea to do 
>some model checks using plot.influence to see 
>whether the studies for which you have imputed 
>values are fundamentally different for some 
>reason. This will also check your calculations as a bonus.
>
>
>Best,
>Wolfgang
>
> > -----Original Message-----
> > From: Verena Weinbir [mailto:vweinbir at gmail.com]
> > Sent: Tuesday, May 06, 2014 15:09
> > To: Michael Dewey
> > Cc: Viechtbauer Wolfgang (STAT); 
> <mailto:r-help at r-project.org>r-help at r-project.org
> > Subject: Re: [R] Metafor: How to integrate effectsizes?
> >
> > Thank you very much for your illustration, Wolfgang! It helped me a
> > lot.?? ? And also thank you for the package-hint, Michael!
>
> >
> > Now, I have re-checked the respective studies, and there still are a
> > couple of studies left, only stating cohens d, and the respective t-value
> > and p-value - sample and group sizes are not addressed (its data from an
> > older meta-analysis). Is there a way to embed these studies in my sample?
> > Wolfgangs illustration addresses only cases in which group sizes are
> > stated, if I understand you correctly...
> >
> > Many thanks in advance,
> >
> > Verena
> >
> > On Sat, Apr 26, 2014 at 1:38 PM, Michael 
> Dewey <<mailto:info at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk>
> > wrote:
> > At 20:34 25/04/2014, Viechtbauer Wolfgang (STAT) wrote:
> > If you know the d-value and the corresponding group sizes for a study,
> > then it's possible to add that study to the rest of the dataset. Also, if
> > you only know the test statistic from an independent samples t-test (or
> > only the p-value corresponding to that test), it's possible to back-
> > compute what the standardized mean difference is.
> >
> > I added an illustration of this to the metafor package website:
> >
> > 
> <http://www.metafor-project.org/doku.php/tips:assembling_data_smd>http://www.metafor-project.org/doku.php/tips:assembling_data_smd
> >
> > Verena might also like to look at the 
> <http://compute.es>compute.es package available from
> > CRAN to see whether any of the conversions programmed there do the job.
> >
> >
> > Best,
> > Wolfgang
> >
> > --
> > Wolfgang Viechtbauer, Ph.D., Statistician
> > Department of Psychiatry and Psychology
> > School for Mental Health and Neuroscience
> > Faculty of Health, Medicine, and Life Sciences
> > Maastricht University, P.O. Box 616 (VIJV1)
> > 6200 MD Maastricht, The Netherlands
> > +31 (43) 388-4170?? | <http://www.wvbauer.com>http://www.wvbauer.com
>
> >
> > > -----Original Message-----
> > > From: 
> <mailto:r-help-bounces at r-project.org>r-help-bounces at r-project.org 
> [mailto:<mailto:r-help-bounces at r->r-help-bounces at r-
> > <http://project.org>project.org]
> > > On Behalf Of Michael Dewey
> > > Sent: Friday, April 25, 2014 16:23
> > > To: Verena Weinbir
> > > Cc: <mailto:r-help at r-project.org>r-help at r-project.org
> > > Subject: Re: [R] Metafor: How to integrate effectsizes?
> > >
> > > At 12:33 25/04/2014, you wrote:
> > > >Thank you very much for your reply and the book recommendation,
> > Michael.
> > > >
> > > >Yes, I mean Cohen's d - sorry for the typo :-)
> > > >
> > > >Just to make this sure for me: There is no
> > > >possibility to integrate stated Cohens' ds in an
> > > >R-Metaanalysis (or a MA at all), if there is no
> > > >further information traceable regarding SE or the like?
> > >
> > > If there is really no other information like
> > > sample sizes, significance level, value of some
> > > significance test then you would have to impute a
> > > value from somewhere. That would seem a last resort.
> > >
> > > I have cc'ed this back to the list, please keep
> > > it on the list so others may benefit and contribute.
> > >
> > >
> > > >best regards,
> > > >
> > > >Verena
> > > >
> > > >
> > > >On Fri, Apr 25, 2014 at 1:21 PM, Michael Dewey
> > > ><<mailto:info at aghmed.fsnet.co.uk><mailto:in 
> fo at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk> wrote:
> > > >At 13:15 24/04/2014, Verena Weinbir wrote:
> > > >Hello!
> > > >
> > > >I am using the metafor package for my master's thesis as an R-newbie.
> > > While
> > > >calculating effectsizes from my dataset (mean values and
> > > >standarddeviations) using "escalc" shouldn't be a problem (I hope ;-
> > )),
> > > I
> > > >wonder how I could at this point integrate additional studies, which
> > > only
> > > >state conhens d (no information about mean value and sds available),
> > to
> > > >calculate an overall analysis. ??? I would be verry grateful for your
>
> > > support!
> > > >
> > > >
> > > >You mean Cohen's d I think.
> > > >
> > > >You will need some more information to enable
> > > >you to calculate its standard error. Have a look at Rosenthal's
> > chapter
> > > in
> > > >@book{cooper94,
> > > >??? ?? ??? author = {Cooper, H H and Hedges, L V},
> > > >??? ?? ??? title = {A handbook ok of research synthesis},
> > > >??? ?? ??? year = {1994},
> > > > >??? ?? ??? publisher = {Russellell Sage},
> > > >??? ?? ??? address = {New York}rk},
> > > >??? ?? ??? keywords = {meta-anaanalysis}
>
> > > >}
> > > >(There is an updated edition)
> > > >This gives you more information about converting
> > > >effect sizes and extracting them from unpromising beginnings.
> > > >
> > > >It often requires some ingenuity to get the
> > > >information you need so have a go and then get
> > > >back here with more details if you run into problems
> > > >
> > > >
> > > >Best regards,
> > > >
> > > >Verena
>
>
>Michael Dewey
><mailto:info at aghmed.fsnet.co.uk>info at aghmed.fsnet.co.uk
>http://www.aghmed.fsnet.co.uk/home.html
>

Michael Dewey
info at aghmed.fsnet.co.uk
http://www.aghmed.fsnet.co.uk/home.html


From info at aghmed.fsnet.co.uk  Mon May 26 12:26:11 2014
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Mon, 26 May 2014 11:26:11 +0100
Subject: [R] Metafor: Strange Trim and Fill Outcome?
In-Reply-To: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.g
	mail.com>
References: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.gmail.com>
Message-ID: <Zen-1Wos6b-0005qO-5C@smarthost01a.mail.zen.net.uk>

At 09:34 26/05/2014, Verena Weinbir wrote:
>Hey guys,
>
>I have tested the metafor trim and fill function (y:SD, x:SMD)on my data
>set and yielded the following result:
>
>1. missing studies on the right: 34

That seems a lot of missing studies unless you have a very large set 
of primary studies.


>2. open circles on the rights side appear to be the number of additional
>effects
>
>3. adjusted d would be higher than observed d.

Implying that the mechanism is suppressing studies which found a 
large effect. This might happen if the dominant view is that there is 
no effect and so when people find one they worry about their results.


>Since normally, as I understand, those parameters are the other way round
>(black dots indicating missing studies on the left, which would reduce the
>effect size), I wonder:
>
>Is there a mistake I have done? Or, if this is an actual outcome how can I
>interpret this?  That its not a publication bias that influences my data
>set, but a lack of precision (studies missing that are precise -small SD-
>and have big SMD)?

Sorry but that bit is not very clear to me.

>Many thanks in advance!
>
>Verena
>
>         [[alternative HTML version deleted]]

Michael Dewey
info at aghmed.fsnet.co.uk
http://www.aghmed.fsnet.co.uk/home.html


From vweinbir at gmail.com  Mon May 26 13:15:16 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Mon, 26 May 2014 13:15:16 +0200
Subject: [R] Metafor: Strange Trim and Fill Outcome?
In-Reply-To: <Zen-1Wos6b-0005qO-5C@smarthost01a.mail.zen.net.uk>
References: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.gmail.com>
	<Zen-1Wos6b-0005qO-5C@smarthost01a.mail.zen.net.uk>
Message-ID: <CAMuCtg7w7-nC_Mscn9HPCRBFO3ATOrD0Z9gDnii9qEhjm0-qMQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/b1c1a436/attachment.pl>

From wolfgang.viechtbauer at maastrichtuniversity.nl  Mon May 26 14:00:29 2014
From: wolfgang.viechtbauer at maastrichtuniversity.nl (Viechtbauer Wolfgang (STAT))
Date: Mon, 26 May 2014 14:00:29 +0200
Subject: [R] Metafor: Strange Trim and Fill Outcome?
In-Reply-To: <CAMuCtg7w7-nC_Mscn9HPCRBFO3ATOrD0Z9gDnii9qEhjm0-qMQ@mail.gmail.com>
References: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.gmail.com>
	<Zen-1Wos6b-0005qO-5C@smarthost01a.mail.zen.net.uk>,
	<CAMuCtg7w7-nC_Mscn9HPCRBFO3ATOrD0Z9gDnii9qEhjm0-qMQ@mail.gmail.com>
Message-ID: <077E31A57DA26E46AB0D493C9966AC730DC34EE380@UM-MAIL4112.unimaas.nl>

>From help(forest.rma):

pch -- plotting symbol to use for the observed effect sizes or outcomes. By default, a solid circle is used. Can also be a vector of values. See points for other options.

pch.fill -- plotting symbol to use for the effect sizes or outcomes filled in by the trim and fill method. By default, a circle is used. Only relevant when plotting an object created by the trimfill function.

The defaults are pch=19 and pch.fill=21. So, by default, a solid circle is used for the observed outcomes and an open circle is used for the outcomes that are filled in.

An example is shown here:

http://www.metafor-project.org/doku.php/plots:funnel_plot_with_trim_and_fill

>From help(trimfill.rma.uni):

side -- either "left" or "right", indicating on which side of the funnel plot the missing studies should be imputed. If left undefined, the side is chosen within the function depending on the results of Egger's regression test (see regtest for details on this test).

The argument is left undefined by default, so the side is chosen based on the results of the regression test (essentially, whether the slope is positive or negative). If you think the suppression occurred on the other side than the one that is chosen, specify the side via this argument.

Best,
Wolfgang 
________________________________________
From: r-help-bounces at r-project.org [r-help-bounces at r-project.org] On Behalf Of Verena Weinbir [vweinbir at gmail.com]
Sent: Monday, May 26, 2014 1:15 PM
To: Michael Dewey
Cc: r-help
Subject: Re: [R] Metafor: Strange Trim and Fill Outcome?

thanks for your reply, Michael!

ad primary studies:
yup, I have a large set of studies: At the moment I consider 126 data sets
in my analysis.

ad interpretation:
thats an interesting information. But usually there should be found an
effect.

ad "bit" :-):
I am irritiated, because in the plots I have studied so far, I always found
that the observed studies are open circles and the additional "mirrored"
effects are black dots. In my case, it is the other way round.

Also, most of the mirrored circels appear in the right upper corner,
indicating, that there are studies missing in my data set, which have
smaller SDs (i.e. are more precise?) and higher effect sizes?

best,

Verena

On Mon, May 26, 2014 at 12:26 PM, Michael Dewey <info at aghmed.fsnet.co.uk>wrote:

> At 09:34 26/05/2014, Verena Weinbir wrote:
>
>> Hey guys,
>>
>> I have tested the metafor trim and fill function (y:SD, x:SMD)on my data
>> set and yielded the following result:
>>
>> 1. missing studies on the right: 34
>>
> That seems a lot of missing studies unless you have a very large set of
> primary studies.
>
>  2. open circles on the rights side appear to be the number of additional
>> effects
>>
>> 3. adjusted d would be higher than observed d.
>>
> Implying that the mechanism is suppressing studies which found a large
> effect. This might happen if the dominant view is that there is no effect
> and so when people find one they worry about their results.
>
>  Since normally, as I understand, those parameters are the other way round
>> (black dots indicating missing studies on the left, which would reduce the
>> effect size), I wonder:
>>
>> Is there a mistake I have done? Or, if this is an actual outcome how can I
>> interpret this?  That its not a publication bias that influences my data
>> set, but a lack of precision (studies missing that are precise -small SD-
>> and have big SMD)?
>>
> Sorry but that bit is not very clear to me.
>
>  Many thanks in advance!
>>
>> Verena

From ggrothendieck at gmail.com  Mon May 26 14:59:38 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 26 May 2014 08:59:38 -0400
Subject: [R] Cannot Launch R Help Files under Window 8.1
In-Reply-To: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
References: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
Message-ID: <CAP01uR=8_dxaM9zUwMd+Cxnx=Mp-s8Bvz7V1kEDtUb_JZdyjPQ@mail.gmail.com>

On Sun, May 25, 2014 at 7:18 PM, Jack Pincus <jack.pincus at sbcglobal.net> wrote:
> I've been using R for about 9 months and just installed R 3.1.0 on a new computer running Windows 8.1.  IE is the default browser.  When I type help(round) or ?round  the address: http://127.0.0.1:25976/library/base/html/Round.html appears in IE but I get a message saying the page cannot be displayed. Java 7 is installed on my computer.  I did a Google search but didn't find any solutions.  How can I get the help pages to display?
>

It works on my Windows 8.1 system. A workaround would be to set the
help_type to "text":

options(help_type = "text")
?help


From vweinbir at gmail.com  Mon May 26 15:00:38 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Mon, 26 May 2014 15:00:38 +0200
Subject: [R] Metafor: Strange Trim and Fill Outcome?
In-Reply-To: <077E31A57DA26E46AB0D493C9966AC730DC34EE380@UM-MAIL4112.unimaas.nl>
References: <CAMuCtg56m3vwdMLP8fF_VkKE-Pw8rWJ22Rw8rA-d1J2O+HAuEg@mail.gmail.com>
	<Zen-1Wos6b-0005qO-5C@smarthost01a.mail.zen.net.uk>
	<CAMuCtg7w7-nC_Mscn9HPCRBFO3ATOrD0Z9gDnii9qEhjm0-qMQ@mail.gmail.com>
	<077E31A57DA26E46AB0D493C9966AC730DC34EE380@UM-MAIL4112.unimaas.nl>
Message-ID: <CAMuCtg4ymc3cCFZrgC5rm=ccZ0uZuCDht_x_d3QefNqJEK-Wxw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/a025dadd/attachment.pl>

From wewolski at gmail.com  Mon May 26 15:12:47 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Mon, 26 May 2014 15:12:47 +0200
Subject: [R] Rscript and roxygen error
Message-ID: <CAAjnpdhDJnonYp6ns=Amf0+SG3Np2kwbin2tefXzgeF-6=85Ow@mail.gmail.com>

I do want to run a R script (runrox.sh) containing two commands:

library(roxygen2)
roxygenize("imsbInfer")

When pasting these 2 lines into R they run with no error.

But when calling:

Rscript runrox.sh

the script produces this error:

roxygen fails with
Error: Failure in roxygen block beginning analyzeDuplicatedPeptides.R:1
could not find function "is"
Execution halted



-- 
Witold Eryk Wolski


From maitra.mbox.ignored at inbox.com  Mon May 26 16:43:45 2014
From: maitra.mbox.ignored at inbox.com (Ranjan Maitra)
Date: Mon, 26 May 2014 09:43:45 -0500
Subject: [R] seeking latex peace
In-Reply-To: <1910120.eozsCGXcKS@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
Message-ID: <20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>

Hi,


> As I could not find any way to install pdflatex (it didn't appear on a yum 
> search), I tried a method that claimed to install pdflatex via a package 

Trying 

yum provides */pdflatex

will yield the package name:

texlive-latex-bin-bin.

Though, I have to say I don't quite see how you managed to install R
without the above package (it is a required dependency on Fedora). Next
time, unless you have already done os, install R from the distribution
repositories installing:

yum install R.


> named "texlive". Almost 300 packages later and minus over 300 Mb of 
> disk space, I then got the error:
> 
> ! LaTeX Error: File `zi4.sty' not found.

yum provides */zi4.sty

will yield the package name:

texlive-inconsolata

> 
> This seems to be an updated version of the "inconsolata.sty" error that 
> used to torment me (and after reading a lot of messages about this, 
> many other people as well), so I found the file "zi4.sty" and copied it into 
> what I thought was the appropriate directory. It seems to be, as I now get 
> the error:
> 
> ! LaTeX Error: File `upquote.sty' not found.

yum provides */upquote.sty

will yield the package name:

texlive-upquote


So yum install each of the above will take care of your woes rather
cleanly.

> At this point, I wonder if someone would be kind enough to inform me 
> whether this is a potentially infinite task of finding ".sty" files, in which 
> case I will live without them, or if there is an easier method of satisfying 
> the apparently immense appetite of LaTeX? Thanks.

Hope the above helps!

Best wishes,
Ranjan


> 
> R-3.1.0
> Fedora 19
> 
> Jim
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


-- 
Important Notice: This mailbox is ignored: e-mails are set to be
deleted on receipt. Please respond to the mailing list if appropriate.
For those needing to send personal or professional e-mail, please use
appropriate addresses.

____________________________________________________________
FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on your desktop!


From wewolski at gmail.com  Mon May 26 16:48:29 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Mon, 26 May 2014 16:48:29 +0200
Subject: [R] Rscript and roxygen error
In-Reply-To: <CAAjnpdhDJnonYp6ns=Amf0+SG3Np2kwbin2tefXzgeF-6=85Ow@mail.gmail.com>
References: <CAAjnpdhDJnonYp6ns=Amf0+SG3Np2kwbin2tefXzgeF-6=85Ow@mail.gmail.com>
Message-ID: <CAAjnpdjAcPrW2esqs7aRv_=ou9fWDEua3qOmwpHD=bDehW6fKg@mail.gmail.com>

the same script which is not working with Rscript does work with R CMD BATCH.

I thought the main difference between Rscript and R CMD BATCH is where
the ouptut gets redirected and that Rscript should preferred over the
old R CMD BATCH.






On 26 May 2014 15:12, Witold E Wolski <wewolski at gmail.com> wrote:
> I do want to run a R script (runrox.sh) containing two commands:
>
> library(roxygen2)
> roxygenize("imsbInfer")
>
> When pasting these 2 lines into R they run with no error.
>
> But when calling:
>
> Rscript runrox.sh
>
> the script produces this error:
>
> roxygen fails with
> Error: Failure in roxygen block beginning analyzeDuplicatedPeptides.R:1
> could not find function "is"
> Execution halted
>
>
>
> --
> Witold Eryk Wolski



-- 
Witold Eryk Wolski


From wewolski at gmail.com  Mon May 26 17:14:59 2014
From: wewolski at gmail.com (Witold E Wolski)
Date: Mon, 26 May 2014 17:14:59 +0200
Subject: [R] How to build and check an package on a system without tex latex?
Message-ID: <CAAjnpdgkafUUXo2Exaj_85fjZDhqTpOhBCP5K7+LKU6YyqzP5A@mail.gmail.com>

This is what I tried:
R CMD check $(PKGNAME)_$(PKGVERS).tar.gz --no-manual --no-rebuild-vignettes
R CMD build --no-manual --no-rebuild-vignettes $(PKGSRC)

But still somehow the R CMD build attempts to build the vignettes (OK
with me), but also run
texi2dvi on them producing the error message below:


Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
Running 'texi2dvi' on 'AExample2.tex' failed.
Messages:
sh: 1: /usr/bin/texi2dvi: not found
Calls: <Anonymous> -> texi2pdf -> texi2dvi
Execution halted
make: *** [build] Error 1




-- 
Witold Eryk Wolski


From hfang.shanghai at gmail.com  Wed May 21 13:06:16 2014
From: hfang.shanghai at gmail.com (Hai Fang)
Date: Wed, 21 May 2014 12:06:16 +0100
Subject: [R] [R-pkgs] Package 'dnet' for omics data integrative analysis
Message-ID: <CAF-SqYFLZ_ob_E-1yyZMChbkDAEuVZVTWcq3tHuH76DVhkwroQ@mail.gmail.com>

Dear R package developers and users,

I am pleased to announce the official release of our newly developed
package 'dnet', which intends to analyse omics data in terms of network,
evolution and ontology.

It has features:
1. Identification of gene-active networks from high-throughput omics data;
2. Network-based sample classifications and visualisations on 2D sample
landscape;
3. Random Walk with Restart for network affinity calculation;
4. Semantic similarity between ontology terms (and between their annotated
genes);
5. Enrichment analysis using a variety of built-in databases;
6. A wide variety of built-in RData (
http://dnet.r-forge.r-project.org/rdata.html): ontologies (including Gene
Ontology, Disease Ontology, Human Phenotype and Mammalian Phenotype), gene
evolutionary age information and gene association networks in well-studied
organisms, including human, mouse, rat, chicken, c.elegans, fruitfly,
zebrafish and arabidopsis;
7. Support for high-performance parallel computing.

For it to be used widely, we have analysed several realcases with
step-by-step protocols (http://dnet.r-forge.r-project.org/demos.html).
Since it supports many functionalities, we also introduce them individual
topics in the form of FAQs (http://dnet.r-forge.r-project.org/faqs.html).

Enjoy it!

Hai Fang, Ph.D.
>From Prof. Gough's Group (http://bioinformatics.bris.ac.uk)
Department of Computer Science
Univeristy of Bristol
Bristol, United Kingdom
hfang at cs.bris.ac.uk
http://www.cs.bris.ac.uk/~hfang

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From nospam at lisse.NA  Mon May 26 11:05:14 2014
From: nospam at lisse.NA (Dr Eberhard Lisse)
Date: Mon, 26 May 2014 10:05:14 +0100
Subject: [R] seeking latex peace
In-Reply-To: <1910120.eozsCGXcKS@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
Message-ID: <538303CA.5000108@lisse.NA>

It's not a TeX issue veven, it's a Fedore issue :-)-O

pdflatex is standard in all (most) TeX distributions.

TeXLive is probably the standard TeX distribution for Linux, it has
a Windoze version and a MacTeX version (or rather two, a complete
and a basic).  I have used both on Linux and the Mac respectively
for many years.

It is upgraded every year completely and in the interval you can use
the TeX Live Manager to update packages and to install missing ones.

It is currently frozen and the new version is supposed to come out
on 2014-07-01.


That said, while some Linux package managers for some Linux
distributions are very up-to-date, most are not.

el


On 2014-05-25, 11:17 , Jim Lemon wrote:
> Hi all, I realize that this is not an R question, but in
> attempting to build a new version of a package, I have encountered
> the error:
> 
> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet =
> quiet, : pdflatex is not available
> 
> As I could not find any way to install pdflatex (it didn't appear
> on a yum search), I tried a method that claimed to install
> pdflatex via a package named "texlive".  Almost 300 packages later
> and minus over 300 Mb of disk space, I then got the error:
> 
> ! LaTeX Error: File `zi4.sty' not found.
> 
> This seems to be an updated version of the "inconsolata.sty" error
> that used to torment me (and after reading a lot of messages about
> this, many other people as well), so I found the file "zi4.sty"
> and copied it into what I thought was the appropriate directory.
> It seems to be, as I now get the error:
> 
> ! LaTeX Error: File `upquote.sty' not found.
> 
> At this point, I wonder if someone would be kind enough to inform
> me whether this is a potentially infinite task of finding ".sty"
> files, in which case I will live without them, or if there is an
> easier method of satisfying the apparently immense appetite of
> LaTeX? Thanks.
> 
> R-3.1.0
> Fedora 19
> 
> Jim
>


From nospam at lisse.NA  Mon May 26 11:05:14 2014
From: nospam at lisse.NA (Dr Eberhard Lisse)
Date: Mon, 26 May 2014 10:05:14 +0100
Subject: [R] seeking latex peace
In-Reply-To: <1910120.eozsCGXcKS@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
Message-ID: <538303CA.5000108@lisse.NA>

It's not a TeX issue veven, it's a Fedore issue :-)-O

pdflatex is standard in all (most) TeX distributions.

TeXLive is probably the standard TeX distribution for Linux, it has
a Windoze version and a MacTeX version (or rather two, a complete
and a basic).  I have used both on Linux and the Mac respectively
for many years.

It is upgraded every year completely and in the interval you can use
the TeX Live Manager to update packages and to install missing ones.

It is currently frozen and the new version is supposed to come out
on 2014-07-01.


That said, while some Linux package managers for some Linux
distributions are very up-to-date, most are not.

el


On 2014-05-25, 11:17 , Jim Lemon wrote:
> Hi all, I realize that this is not an R question, but in
> attempting to build a new version of a package, I have encountered
> the error:
> 
> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet =
> quiet, : pdflatex is not available
> 
> As I could not find any way to install pdflatex (it didn't appear
> on a yum search), I tried a method that claimed to install
> pdflatex via a package named "texlive".  Almost 300 packages later
> and minus over 300 Mb of disk space, I then got the error:
> 
> ! LaTeX Error: File `zi4.sty' not found.
> 
> This seems to be an updated version of the "inconsolata.sty" error
> that used to torment me (and after reading a lot of messages about
> this, many other people as well), so I found the file "zi4.sty"
> and copied it into what I thought was the appropriate directory.
> It seems to be, as I now get the error:
> 
> ! LaTeX Error: File `upquote.sty' not found.
> 
> At this point, I wonder if someone would be kind enough to inform
> me whether this is a potentially infinite task of finding ".sty"
> files, in which case I will live without them, or if there is an
> easier method of satisfying the apparently immense appetite of
> LaTeX? Thanks.
> 
> R-3.1.0
> Fedora 19
> 
> Jim
>


From acarazo at foss.es  Mon May 26 11:38:06 2014
From: acarazo at foss.es (Antonio Carazo)
Date: Mon, 26 May 2014 09:38:06 +0000
Subject: [R] Unable to load a file: no such file or directory
In-Reply-To: <5382CE11.6050305@ecs.vuw.ac.nz>
References: <35A04F30EB862D4B897751E3926EAD9F70524000@FOSS49.foss.net>
	<5382CE11.6050305@ecs.vuw.ac.nz>
Message-ID: <35A04F30EB862D4B897751E3926EAD9F70525398@FOSS49.foss.net>

Thank you Ray and Jim.
It works with file.choose().
I post following the output.

Antonio Carazo
Regional Sales Manager FOSS IBERIA.
Ph. D. student in Social Sciences.

> list.files()
 [1] "DATOS1.txt"             "open.exe"               "R.dll"                  "R.exe"                  "Rblas.dll"              "Rcmd.exe"              
 [7] "RCommander.R"           "RCommander.txt"         "RCommanderMarkdown.Rmd" "Rgraphapp.dll"          "Rgui.exe"               "Riconv.dll"            
[13] "Rlapack.dll"            "Rscript.exe"            "RSetReg.exe"            "Rterm.exe"              "Rzlib.dll"             
> DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1.txt")
+ DATOS1
Error: inesperado s?mbolo in:
"DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1.txt")
DATOS1"
> DATOS1()
Error: no se pudo encontrar la funci?n "DATOS1"
> X
[1] 1
> DATOS1.txt
Error: objeto 'DATOS1.txt' no encontrado
> DATOS1 <- matrix(scan(file.choose()), ncol = 8)
Read 112 items
> 
> DATOS1
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
 [1,]   32    0   21   65   20    7   21   65
 [2,]   17   66   14  126    7   73   12  125
 [3,]   67   22   12   37   63   20   23   31
 [4,]  112   25   66   14  109   35   71   16
 [5,]   28   66   21   25   20   67   29    0
 [6,]   10  122    0   68   10  125   12   72
 [7,]   17   23   67   21   34   23   65   22
 [8,]   71   12  125    8   69   12  115    7
 [9,]   32   25   20   64   22   50   33   62
[10,]    9   68   15  123    6   72   13  113
[11,]   64   18    2   24   62   23    0   23
[12,]  142   25   67   12  123   25   69   14
[13,]   32   60   41    0   27   69   31   25
[14,]   14  101    7   71   12  167    0   78

-----Original Message-----
From: Ray Brownrigg [mailto:Ray.Brownrigg at ecs.vuw.ac.nz] 
Sent: lunes, 26 de mayo de 2014 07:16
To: Antonio Carazo; r-help at R-project.org
Subject: Re: [R] Unable to load a file: no such file or directory

On 26/05/14 10:25, Antonio Carazo wrote:
> 
> Hi,
> I have the file DATOS1 in the directory E:/R 3.0.2/R-3.0.2/bin/x64.
> If I try to load it, R returns me this error:
>> getwd()
> [1] "E:/R 3.0.2/R-3.0.2/bin/x64"
>> DATOS1<-matrix(scan("E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1"),ncol=8)
> Error en file(file, "r") : no se puede abrir la conexi?n
> Adem?s: Mensajes de aviso perdidos
> In file(file, "r") :
>   no fue posible abrir el archivo 'E:/R 3.0.2/R-3.0.2/bin/x64/DATOS1': 
> No such file or directory
> 
> The file DATOS1 is a Text Document with this composition:
> 32   17   67   112   28   10   17   71
> 32    9   64   142   32   14    0   66
> 22   25   66   122   23   12   25   68
> 18   25   60   101   21   14   12   66
> 21    0   67   125   20   15    2   67
> 41    7   65   126   37   14   25   68
> 21    8   64   123   24   12    0   71
> 20    7   63   109   20   10   34   69
> 22    6   62   123   27   12    7   73
> 20   35   67   125   23   12   50   72
> 23   25   69   167   21   12   23   71
> 29   12   65   115   33   13    0   69
> 31    0   65   125   31   16    0   72
> 22    7   62   113   23   14   25   78
> 

If it's a text document created with a Windows application, then it is very likely that the file name is really DATOS1.txt.  Another useful thing to do in Windows is to use file.choose() whenever you want to open a file:
DATOS1 <- matrix(scan(file.choose()), ncol = 8)

> The unit E: is an external hard disk.
> It seems like the path were wrong.
> I?ve read the FAQ?s, the Windows FAQ?s, the R document about scan() function and the related sections of An Introduction to R and the Import/Export manual, but I can?t find any answer of this error.
> Can anybody help me, please?
> Thank you
> 
Hope this helps,
Ray Brownrigg


From francy.casalino at gmail.com  Mon May 26 12:13:14 2014
From: francy.casalino at gmail.com (francesca casalino)
Date: Mon, 26 May 2014 11:13:14 +0100
Subject: [R] snpStats reference allele used in genetic associations?
In-Reply-To: <alpine.LMD.2.00.1405261031070.14789@orpheus.qimr.edu.au>
References: <mailman.23.1400925609.30858.r-help@r-project.org>
	<alpine.LMD.2.00.1405261031070.14789@orpheus.qimr.edu.au>
Message-ID: <CAMHWMgJuAO5y=sTTSueq=rdmeTERsu0edEsCXnguhHPraxjPTA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/f5f1e17e/attachment.pl>

From Juan.Bohorquez at ecopetrol.com.co  Mon May 26 12:29:47 2014
From: Juan.Bohorquez at ecopetrol.com.co (Juan Ulises Bohorquez Carvajal)
Date: Mon, 26 May 2014 05:29:47 -0500
Subject: [R] R License
Message-ID: <b7nko5lc455kpffxrdsi4o6b.1401100183922@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/62e0c1aa/attachment.pl>

From jwm302 at gmail.com  Mon May 26 14:14:43 2014
From: jwm302 at gmail.com (Justin Michell)
Date: Mon, 26 May 2014 14:14:43 +0200
Subject: [R] Awaiting feedback/moderation (Re: Non-convergence in
	boot.stepAIC function with a logit model)
Message-ID: <61FCBAF6-CFEB-4FE7-BAFF-69321066CC36@gmail.com>

Hi

I posted a question to this list, and received an email indicating that it is awaiting moderation. However I have not received any feedback yet. If the question is not appropriate, I?d like to know where or how I should post differently, if possible.

Thanks and Regards
Justin Michell

From ritwik_r at isical.ac.in  Mon May 26 14:16:21 2014
From: ritwik_r at isical.ac.in (ritwik_r at isical.ac.in)
Date: Mon, 26 May 2014 17:46:21 +0530
Subject: [R] 0^0 computation in R : Why it is defined 1 in R ?
Message-ID: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>

Dear R helpers,


today I found something interesting in R. 0^0 gives value 1 in R. But it
is undefined in mathematics. During debugging a R code, I found it and it
effects my program severely. So my question is why it is defined 1 in R?
Is there any particular reason or its a bug in the R software?

Here is one demo:

*************************************************

ff=function(u){
  return( x^0 * u)
}

x=0
zz=integrate(ff,lower=0,upper=1)$value
zz



> source('~/.active-rstudio-document')
> zz
[1] 0.5
>

*************************************************

Looking forward to hear any response.

Regards,

Ritwik Bhattacharya
Indian Statistical Institute Kolkata


From jack.pincus at sbcglobal.net  Mon May 26 14:53:08 2014
From: jack.pincus at sbcglobal.net (Jack H. Pincus)
Date: Mon, 26 May 2014 08:53:08 -0400
Subject: [R] Cannot Launch R Help Files under Window 8.1
In-Reply-To: <e9a5c6e1-0607-478f-b222-45685a781ea7@email.android.com>
References: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
	<e9a5c6e1-0607-478f-b222-45685a781ea7@email.android.com>
Message-ID: <39DC54A5-4C4B-4D09-A246-4391BF241833@sbcglobal.net>

Thanks for your suggestions.  I did some further digging and found the problem was more subtle. I use Dashlane, a password management program, which requires IE to run in protected mode under Win 8. Disabling protected mode solved the problem with R help.

Jack

> On May 26, 2014, at 12:02 AM, Jeff Newmiller <jdnewmil at dcn.davis.CA.us> wrote:
> 
> Java should be unrelated to this. One potential issue might be that installing help is an option that you may not have selected when installing R. Another thought is that there may be some anti virus software that is blocking the R help server.
> ---------------------------------------------------------------------------
> Jeff Newmiller                        The     .....       .....  Go Live...
> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
>                                      Live:   OO#.. Dead: OO#..  Playing
> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
> --------------------------------------------------------------------------- 
> Sent from my phone. Please excuse my brevity.
> 
>> On May 25, 2014 4:18:25 PM PDT, Jack Pincus <jack.pincus at sbcglobal.net> wrote:
>> I've been using R for about 9 months and just installed R 3.1.0 on a
>> new computer running Windows 8.1.? IE is the default browser.? When I
>> type help(round) or ?round ?the address:
>> http://127.0.0.1:25976/library/base/html/Round.html?appears in IE but I
>> get a message saying the page cannot be displayed.?Java 7 is installed
>> on my computer.? I did a Google search but didn't find any solutions.?
>> How can I get the help pages to display?
>> 
>> Jack
>> 
>>    [[alternative HTML version deleted]]
>> 
>> 
>> 
>> ------------------------------------------------------------------------
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 


From francy.casalino at gmail.com  Mon May 26 15:56:36 2014
From: francy.casalino at gmail.com (francesca casalino)
Date: Mon, 26 May 2014 14:56:36 +0100
Subject: [R] snpStats reference allele used in genetic associations?
In-Reply-To: <CAMHWMgJuAO5y=sTTSueq=rdmeTERsu0edEsCXnguhHPraxjPTA@mail.gmail.com>
References: <mailman.23.1400925609.30858.r-help@r-project.org>
	<alpine.LMD.2.00.1405261031070.14789@orpheus.qimr.edu.au>
	<CAMHWMgJuAO5y=sTTSueq=rdmeTERsu0edEsCXnguhHPraxjPTA@mail.gmail.com>
Message-ID: <CAMHWMg+BeXcw4RP5wpYpwW_ft_fK5hifDg1QyXse4GUj7cXeSQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/5d30c384/attachment.pl>

From oalbutova at ippe.ru  Mon May 26 15:17:40 2014
From: oalbutova at ippe.ru (=?koi8-r?B?4czC1dTP18Eg7y7pLg==?=)
Date: Mon, 26 May 2014 16:17:40 +0300
Subject: [R] VBA
Message-ID: <000001cf78e4$df200d10$9d602730$@ippe.ru>

Good day!

I'm trying to make VBA program with R functions in Excel. I've installed
RExcel and it works. But when I put such a code in VBA,

Sub Demo()

Call RInterface.StartRServer

Call RInterface.RRun("z <- rnorm(60)")

Call RInterface.RRun("dim(z) <- c(10,6)")

Call RInterface.GetArray("z", Range("Sheet1!A19"))

Call RInterface.StopRServer

End Sub

 

it doesn't work. The error is '424' - Object required.

I took this code from the article <High-Level Interface Between R and Excel>
Thomas Baier Erich Neuwirth, page 6

My version of Excel is 2010, Windows 7.

 

Thank you!

 

Sincerely yours,

Olga



---
??? ????????? ???????? ?? ??????? ? ???????????? ?? ????????? ?????? ?? ??????? avast!

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Article.pdf
Type: application/pdf
Size: 267617 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/9eb7ff09/attachment.pdf>

From ripley at stats.ox.ac.uk  Mon May 26 18:42:33 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 26 May 2014 17:42:33 +0100
Subject: [R] 0^0 computation in R : Why it is defined 1 in R ?
In-Reply-To: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>
References: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>
Message-ID: <53836EF9.1040102@stats.ox.ac.uk>

On 26/05/2014 13:16, ritwik_r at isical.ac.in wrote:
> Dear R helpers,
>
>
> today I found something interesting in R. 0^0 gives value 1 in R. But it
> is undefined in mathematics. During debugging a R code, I found it and it
> effects my program severely. So my question is why it is defined 1 in R?
> Is there any particular reason or its a bug in the R software?

Try reading the help:

      Users are sometimes surprised by the value returned, for example
      why ?(-8)^(1/3)? is ?NaN?.  For double inputs, R makes use of IEC
      60559 arithmetic on all platforms, together with the C system
      function ?pow? for the ?^? operator.  The relevant standards
      define the result in many corner cases.  In particular, the result
      in the example above is mandated by the C99 standard.  On many
      Unix-alike systems the command ?man pow? gives details of the
      values in a large number of corner cases.

See ?F9.4.4 of the C99 standard.


>
> Here is one demo:
>
> *************************************************
>
> ff=function(u){
>    return( x^0 * u)
> }
>
> x=0
> zz=integrate(ff,lower=0,upper=1)$value
> zz
>
>
>
>> source('~/.active-rstudio-document')
>> zz
> [1] 0.5
>>
>
> *************************************************
>
> Looking forward to hear any response.
>
> Regards,
>
> Ritwik Bhattacharya
> Indian Statistical Institute Kolkata
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
PLEASE do ....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From barry.king at qlx.com  Mon May 26 18:50:03 2014
From: barry.king at qlx.com (Barry King)
Date: Mon, 26 May 2014 12:50:03 -0400
Subject: [R] Scoring a test set after clustering a training set
Message-ID: <CAP8WkrxMMYydS+pBO-m99CQAMTz8CFCk4EUfDp5sU0yB5puXGw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/a07c54f5/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Mon May 26 18:51:55 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Mon, 26 May 2014 09:51:55 -0700
Subject: [R] VBA
In-Reply-To: <000001cf78e4$df200d10$9d602730$@ippe.ru>
References: <000001cf78e4$df200d10$9d602730$@ippe.ru>
Message-ID: <25987115-afc4-40b5-a1ee-e2b9c727e8b7@email.android.com>

Wrong forum. Please contact Statconn for support.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 26, 2014 6:17:40 AM PDT, "???????? ?.?." <oalbutova at ippe.ru> wrote:
>Good day!
>
>I'm trying to make VBA program with R functions in Excel. I've
>installed
>RExcel and it works. But when I put such a code in VBA,
>
>Sub Demo()
>
>Call RInterface.StartRServer
>
>Call RInterface.RRun("z <- rnorm(60)")
>
>Call RInterface.RRun("dim(z) <- c(10,6)")
>
>Call RInterface.GetArray("z", Range("Sheet1!A19"))
>
>Call RInterface.StopRServer
>
>End Sub
>
>
>
>it doesn't work. The error is '424' - Object required.
>
>I took this code from the article <High-Level Interface Between R and
>Excel>
>Thomas Baier Erich Neuwirth, page 6
>
>My version of Excel is 2010, Windows 7.
>
>
>
>Thank you!
>
>
>
>Sincerely yours,
>
>Olga
>
>
>
>---
>??? ????????? ???????? ?? ??????? ? ???????????? ?? ????????? ?????? ??
>??????? avast!
>
>
>
>------------------------------------------------------------------------
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From vweinbir at gmail.com  Mon May 26 18:56:59 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Mon, 26 May 2014 18:56:59 +0200
Subject: [R] Metafor: forest plot for subset
Message-ID: <CAMuCtg6Xkfcik+jShxr3ODzg8a_6MXqnSE5PFKM3qV1zQNUa2A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/dcbb6670/attachment.pl>

From smartpink111 at yahoo.com  Mon May 26 19:12:11 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 26 May 2014 10:12:11 -0700 (PDT)
Subject: [R] Assigning value Range for values
Message-ID: <1401124331.44611.YahooMailNeo@web142603.mail.bf1.yahoo.com>

Hi,

May be you can try ?cut

dat <- read.table(text="INCOME
?20100
?26800
?55050
?82000",sep="",header=TRUE) 
dat <- transform(dat, INCOME_RANGE=as.character(cut(INCOME,breaks=seq(0,1e5, by=25e3),labels=c("below 25000", "25000-49999", "50000-74999","75000-99999"))))

dat
#? INCOME INCOME_RANGE
#1? 20100? below 25000
#2? 26800? 25000-49999
#3? 55050? 50000-74999
#4? 82000? 75000-99999
?
BTW, the range in your loop code is different than the one you showed in the example.? 

A.K.



Hi All,

I have a column called "Income".
Currently I have values as below
INCOME
?20100
?26800
?55050
?82000
I need to change this buy assigning Bucket Ranges. My output should be as below.
INCOME
below 25000
25000 - 49999
50000 - 75000
75000 - 100000

I wrote a code as below. Where it is not giving the correct answer.


for(j in 1:nrow(tablename))
{
? if (tablename_INCOME[j] >=0 & tablename_INCOME[j] < 25000){
??? tablename_INCOME[j] <- 'below 25000'
? }else{
? if (tablename_INCOME[j] >= 25000 & tablename_INCOME[j] < 50000){
??? tablename_INCOME[j] <- '25,000-49,999.99'
? }else{
? if (tablename_INCOME[j] >= 50000 & tablename_INCOME[j] < 100000){
??? tablename_INCOME[j] <- '50,000-99,999.99'
? }else{
? if (tablename_INCOME[j] >= 100000 & tablename_INCOME[j] < 150000){
??? tablename_INCOME[j] <- '1,00,000-1,49,999.99'
? }else{
? if (tablename_INCOME[j] >= 100000 & tablename_INCOME[j] < 150000){
??? tablename_INCOME[j] <- '1,50,000-1,79,999.99'
? }else{
? if (tablename_INCOME[j] >= 180000){
??? tablename_INCOME[j] <- 'above 1,80,000'



Can anyone help me with this ?

Regards,
Praveen 



From jdnewmil at dcn.davis.CA.us  Mon May 26 19:17:12 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Mon, 26 May 2014 10:17:12 -0700
Subject: [R] 0^0 computation in R : Why it is defined 1 in R ?
In-Reply-To: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>
References: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>
Message-ID: <da23c06a-0324-4801-8a56-01fa7b944ce0@email.android.com>

You might find searching the web on this topic educational. Consider [1] and [2], for example.

I doubt this will be changing, so you should do your exponentiation in a function that handles your special case.

By the way, as nice as RStudio might be, it is not R... it USES R. Examples like yours won't run as-is in vanilla R so are not really reproducible for (probably most) readers of this list. Please (re-)read the Posting Guide.

[1] http://mathforum.org/dr.math/faq/faq.0.to.0.power.html
[2] http://www.askamathematician.com/2010/12/q-what-does-00-zero-raised-to-the-zeroth-power-equal-why-do-mathematicians-and-high-school-teachers-disagree/
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 26, 2014 5:16:21 AM PDT, ritwik_r at isical.ac.in wrote:
>Dear R helpers,
>
>
>today I found something interesting in R. 0^0 gives value 1 in R. But
>it
>is undefined in mathematics. During debugging a R code, I found it and
>it
>effects my program severely. So my question is why it is defined 1 in
>R?
>Is there any particular reason or its a bug in the R software?
>
>Here is one demo:
>
>*************************************************
>
>ff=function(u){
>  return( x^0 * u)
>}
>
>x=0
>zz=integrate(ff,lower=0,upper=1)$value
>zz
>
>
>
>> source('~/.active-rstudio-document')
>> zz
>[1] 0.5
>>
>
>*************************************************
>
>Looking forward to hear any response.
>
>Regards,
>
>Ritwik Bhattacharya
>Indian Statistical Institute Kolkata
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Mon May 26 19:22:08 2014
From: smartpink111 at yahoo.com (arun)
Date: Mon, 26 May 2014 10:22:08 -0700 (PDT)
Subject: [R] Function Align produces an error, Package wavelets
Message-ID: <1401124928.79765.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,
I couldn't reproduce the error.
str(wt.aligned)
Formal class 'dwt' [package "wavelets"] with 11 slots
? ..@ W???????? :List of 3
? .. ..$ : num [1:32, 1] -0.252 0.19 0.315 0.451 0.169 ...
? .. ..$ : num [1:16, 1] 0.5324 -0.0644 0.2494 0.6509 0.1955 ...
? .. ..$ : num [1:8, 1] -0.558 0.734 -0.122 0.306 0.15 ...
? ..@ V???????? :List of 3
? .. ..$ : num [1:32, 1] 0.108 -0.831 -0.893 -0.778 -0.047 ...
? .. ..$ : num [1:16, 1] -1.04 -0.918 0.456 0.735 -1.094 ...
? .. ..$ : num [1:8, 1] -1.284 0.618 -1.1674 0.0554 0.2994 ...
? ..@ filter??? :Formal class 'wt.filter' [package "wavelets"] with 7 slots
? .. .. ..@ L??????? : int 8
? .. .. ..@ level??? : int 1
? .. .. ..@ h??????? : num [1:8] 0.0322 0.0126 -0.0992 -0.2979 0.8037 ...
? .. .. ..@ g??????? : num [1:8] -0.0758 -0.0296 0.4976 0.8037 0.2979 ...
? .. .. ..@ wt.class : chr "Least Asymmetric"
? .. .. ..@ wt.name? : chr "la8"
? .. .. ..@ transform: chr "dwt"
? ..@ level???? : int 3
? ..@ n.boundary: num [1:3] 3 5 6
? ..@ boundary? : chr "reflection"
? ..@ series??? : num [1:64, 1] 0.2 -0.4 -0.6 -0.5 -0.8 -0.4 -0.9 0 -0.2 0.1 ...
? ..@ class.X?? : chr "matrix"
? ..@ attr.X??? :List of 2
? .. ..$ dim???? : int [1:2] 16 2
? .. ..$ dimnames:List of 2
? .. .. ..$ : NULL
? .. .. ..$ : chr [1:2] "X1" "X2"
? ..@ aligned?? : logi TRUE
? ..@ coe?????? : logi FALSE

sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-unknown-linux-gnu (64-bit)

locale:
?[1] LC_CTYPE=en_CA.UTF-8?????? LC_NUMERIC=C????????????? 
?[3] LC_TIME=en_CA.UTF-8??????? LC_COLLATE=en_CA.UTF-8??? 
?[5] LC_MONETARY=en_CA.UTF-8??? LC_MESSAGES=en_CA.UTF-8?? 
?[7] LC_PAPER=en_CA.UTF-8?????? LC_NAME=C???????????????? 
?[9] LC_ADDRESS=C?????????????? LC_TELEPHONE=C??????????? 
[11] LC_MEASUREMENT=en_CA.UTF-8 LC_IDENTIFICATION=C?????? 

attached base packages:
[1] stats???? graphics? grDevices utils???? datasets? methods?? base???? 

other attached packages:
[1] wavelets_0.3-0 stringr_0.6.2? reshape2_1.4? 

loaded via a namespace (and not attached):
[1] plyr_1.8.1? Rcpp_0.11.1 tcltk_3.1.0 tools_3.1.0


A.K.


The function "align" produces an error with the present example provided in the vignente of wavelets

# obtain the two series listed in Percival and Walden (2000), page 42
X1 <- c(.2,-.4,-.6,-.5,-.8,-.4,-.9,0,-.2,.1,-.1,.1,.7,.9,0,.3)
X2 <- c(.2,-.4,-.6,-.5,-.8,-.4,-.9,0,-.2,.1,-.1,.1,-.7,.9,0,.3)
# combine them and compute DWT
newX <- cbind(X1,X2)
wt <- dwt(newX, n.levels=3, boundary="reflection", fast=FALSE)
# align
wt.aligned <- align(wt)
Error en xy.coords(x, y) :
? el argumento "y" est? ausente, sin valor por omisi?n

Would you happen to know if this function is not available or if there is another way to use this function beyond what is given in the example so it works

Thank you 



From jdnewmil at dcn.davis.CA.us  Mon May 26 19:33:17 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Mon, 26 May 2014 10:33:17 -0700
Subject: [R] Awaiting feedback/moderation (Re: Non-convergence
	in	boot.stepAIC function with a logit model)
In-Reply-To: <61FCBAF6-CFEB-4FE7-BAFF-69321066CC36@gmail.com>
References: <61FCBAF6-CFEB-4FE7-BAFF-69321066CC36@gmail.com>
Message-ID: <3cbd80d8-237c-4ad3-9bb7-a5807c90d8dd@email.android.com>

It was passed through (see the archive). I suspect the problem is that your question seems to be about statistics rather than about R. For future reference, I also note that it was posted in HTML format rather than plain text, and small, reproducible examples are always expected because it is not our job to wade through your thicket of code to FIND problems. Read the Posting Guide.

FWIW bootstrapping by its very nature can be expected to generate very narrow subsets of your data that may not meet minimum quality requirements for your model. If that isn't obvious at least in hindsight then you should pursue a better understanding of bootstrapping elsewhere.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 26, 2014 5:14:43 AM PDT, Justin Michell <jwm302 at gmail.com> wrote:
>Hi
>
>I posted a question to this list, and received an email indicating that
>it is awaiting moderation. However I have not received any feedback
>yet. If the question is not appropriate, I?d like to know where or how
>I should post differently, if possible.
>
>Thanks and Regards
>Justin Michell
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From wolfgang.viechtbauer at maastrichtuniversity.nl  Mon May 26 19:42:31 2014
From: wolfgang.viechtbauer at maastrichtuniversity.nl (Viechtbauer Wolfgang (STAT))
Date: Mon, 26 May 2014 19:42:31 +0200
Subject: [R] Metafor: forest plot for subset
In-Reply-To: <CAMuCtg6Xkfcik+jShxr3ODzg8a_6MXqnSE5PFKM3qV1zQNUa2A@mail.gmail.com>
References: <CAMuCtg6Xkfcik+jShxr3ODzg8a_6MXqnSE5PFKM3qV1zQNUa2A@mail.gmail.com>
Message-ID: <077E31A57DA26E46AB0D493C9966AC730DC352733F@UM-MAIL4112.unimaas.nl>

Pass 'slab' to the rma() function instead of the forest() function. Also, 'slab' is evaluated in the data frame passed via the 'data' argument, so no need to use empa$... And there is a 'subset' argument for rma(). Might as well use it. This should do it:

resultREML <- rma(yi=yi, vi=vi, method="REML", slab=paste(author, year, sep = ","), data=empa, subset=task=="x")
forest(resultREML)

Best,
Wolfgang

--   
Wolfgang Viechtbauer, Ph.D., Statistician   
Department of Psychiatry and Psychology   
School for Mental Health and Neuroscience   
Faculty of Health, Medicine, and Life Sciences   
Maastricht University, P.O. Box 616 (VIJV1)   
6200 MD Maastricht, The Netherlands   
+31 (43) 388-4170 | http://www.wvbauer.com   

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Verena Weinbir
> Sent: Monday, May 26, 2014 18:57
> To: r-help
> Subject: [R] Metafor: forest plot for subset
> 
> Hey,
> 
> I want to build a forest plot which states author and year for a subset
> of
> studies.
> 
> But if I use this argument:
> 
> resultREML <- rma(yi=yi, vi=vi, method = "REML",
>                      data = subset(empa, task=="x"))
> resultREML
> 
> forest(resultREML, , slab=paste(empa$author, empa$year,sep = ","))
> 
> I get the following error message:
> 
> Error in forest.rma(resultREML, slab = paste(EFempa$Autor,
> EFempa$Jahreszahl,  :
>   Number of outcomes does not correspond to the length of the slab
> argument.
> 
> 
> When I use this method without the subset function it works and I get a
> forest plot stating author and year - but of course for the whole data
> set,
> not only for the subset "x" that I want.
> 
> Any idea how I can make the subset function work for a forest plot with
> slab function ?
> 
> Thanks in advance!
> 
> Verena
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ggrothendieck at gmail.com  Mon May 26 20:40:58 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 26 May 2014 14:40:58 -0400
Subject: [R] Cannot Launch R Help Files under Window 8.1
In-Reply-To: <39DC54A5-4C4B-4D09-A246-4391BF241833@sbcglobal.net>
References: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
	<e9a5c6e1-0607-478f-b222-45685a781ea7@email.android.com>
	<39DC54A5-4C4B-4D09-A246-4391BF241833@sbcglobal.net>
Message-ID: <CAP01uRkAVezjAKH-mR1xz4yhYchhjE7MqQ-00=o565ww3dpd-A@mail.gmail.com>

On Mon, May 26, 2014 at 8:53 AM, Jack H. Pincus
<jack.pincus at sbcglobal.net> wrote:
> Thanks for your suggestions.  I did some further digging and found the problem was more subtle. I use Dashlane, a password management program, which requires IE to run in protected mode under Win 8. Disabling protected mode solved the problem with R help.
>
> Jack
>

If you don't want to disable IE protected mode you could install
firefox, say, without making it the default browser and then set the
browser option in R like this:

    options(browser = "C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe")


From jszhao at yeah.net  Mon May 26 21:34:35 2014
From: jszhao at yeah.net (Jinsong Zhao)
Date: Mon, 26 May 2014 12:34:35 -0700
Subject: [R] Size of win.metafile
Message-ID: <5383974B.8090309@yeah.net>

Hi there,

I hope to use the emf plot produced by R in Word. However, I have 
problems with setting the plot size. Here is a mini-example code:

win.metafile("abcd.emf", height =4, width=4)
plot(1:10)
dev.off()

I hope to get a emf plot with size 4x4in and pointsize 12pt. However, I 
got a plot with size 5.333x5.333in and pointsize 16pt in Word. It seems 
that the emf file report its resolution with 96dpi, but Word assume it 
with 72dpi.

How to control on the dpi? (In my opinion, vector plot has nothing to do 
with dpi). I just hope to control the size and pointsize with something 
like the code above.

Any suggestions?

Best,
Jinsong


From amladv at aol.com  Mon May 26 20:37:10 2014
From: amladv at aol.com (barnaby)
Date: Mon, 26 May 2014 11:37:10 -0700 (PDT)
Subject: [R] Function Align produces an error, Package wavelets
In-Reply-To: <1401124928.79765.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <1401056612589-4691216.post@n4.nabble.com>
	<1401124928.79765.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <8D14728928FFA62-2864-1FC98@webmail-va022.sysops.aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/ee8ecca0/attachment.pl>

From xie at yihui.name  Mon May 26 21:45:49 2014
From: xie at yihui.name (Yihui Xie)
Date: Mon, 26 May 2014 14:45:49 -0500
Subject: [R] Rscript and roxygen error
In-Reply-To: <CAAjnpdjAcPrW2esqs7aRv_=ou9fWDEua3qOmwpHD=bDehW6fKg@mail.gmail.com>
References: <CAAjnpdhDJnonYp6ns=Amf0+SG3Np2kwbin2tefXzgeF-6=85Ow@mail.gmail.com>
	<CAAjnpdjAcPrW2esqs7aRv_=ou9fWDEua3qOmwpHD=bDehW6fKg@mail.gmail.com>
Message-ID: <CANROs4dhvRrvZ1bkVWbUPa6-Ck_Jgatk6fj=wisGjPgB0-KL_Q@mail.gmail.com>

library(methods)

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Web: http://yihui.name


On Mon, May 26, 2014 at 9:48 AM, Witold E Wolski <wewolski at gmail.com> wrote:
> the same script which is not working with Rscript does work with R CMD BATCH.
>
> I thought the main difference between Rscript and R CMD BATCH is where
> the ouptut gets redirected and that Rscript should preferred over the
> old R CMD BATCH.
>
>
>
>
>
>
> On 26 May 2014 15:12, Witold E Wolski <wewolski at gmail.com> wrote:
>> I do want to run a R script (runrox.sh) containing two commands:
>>
>> library(roxygen2)
>> roxygenize("imsbInfer")
>>
>> When pasting these 2 lines into R they run with no error.
>>
>> But when calling:
>>
>> Rscript runrox.sh
>>
>> the script produces this error:
>>
>> roxygen fails with
>> Error: Failure in roxygen block beginning analyzeDuplicatedPeptides.R:1
>> could not find function "is"
>> Execution halted
>>
>>
>>
>> --
>> Witold Eryk Wolski


From highstat at highstat.com  Mon May 26 22:14:39 2014
From: highstat at highstat.com (Highland Statistics Ltd)
Date: Mon, 26 May 2014 21:14:39 +0100
Subject: [R] Mixed modelling and GLMM course in Banff, Canada
Message-ID: <5383A0AF.3050303@highstat.com>

We would like to announce the following statistics course:

Topic:     Introduction to MCMC, Linear mixed effects models and GLMM 
with R
Where:    Parks Canada, Banff, Canada
When:     22-26 September, 2014
Flyer:      http://www.highstat.com/Courses/Flyer2014_09Banff.pdf
Website: http://www.highstat.com/statscourse.htm


Kind regards,

Alain Zuur



-- 
Dr. Alain F. Zuur

First author of:
1. Beginner's Guide to GAMM with R (2014).
2. Beginner's Guide to GLM and GLMM with R (2013).
3. Beginner's Guide to GAM with R (2012).
4. Zero Inflated Models and GLMM with R (2012).
5. A Beginner's Guide to R (2009).
6. Mixed effects models and extensions in ecology with R (2009).
7. Analysing Ecological Data (2007).

Highland Statistics Ltd.
9 St Clair Wynd
UK - AB41 6DZ Newburgh
Tel:   0044 1358 788177
Email: highstat at highstat.com
URL:   www.highstat.com


From jack.pincus at sbcglobal.net  Mon May 26 22:04:58 2014
From: jack.pincus at sbcglobal.net (Jack H. Pincus)
Date: Mon, 26 May 2014 16:04:58 -0400
Subject: [R] Cannot Launch R Help Files under Window 8.1
In-Reply-To: <CAP01uRkAVezjAKH-mR1xz4yhYchhjE7MqQ-00=o565ww3dpd-A@mail.gmail.com>
References: <1401059905.60321.YahooMailNeo@web181501.mail.ne1.yahoo.com>
	<e9a5c6e1-0607-478f-b222-45685a781ea7@email.android.com>
	<39DC54A5-4C4B-4D09-A246-4391BF241833@sbcglobal.net>
	<CAP01uRkAVezjAKH-mR1xz4yhYchhjE7MqQ-00=o565ww3dpd-A@mail.gmail.com>
Message-ID: <406273D9-5ABA-4958-B870-1DD7FCD518FB@sbcglobal.net>

Thanks Gabor. I'll try that.

Jack

Sent from my iPad

> On May 26, 2014, at 2:40 PM, Gabor Grothendieck <ggrothendieck at gmail.com> wrote:
> 
> On Mon, May 26, 2014 at 8:53 AM, Jack H. Pincus
> <jack.pincus at sbcglobal.net> wrote:
>> Thanks for your suggestions.  I did some further digging and found the problem was more subtle. I use Dashlane, a password management program, which requires IE to run in protected mode under Win 8. Disabling protected mode solved the problem with R help.
>> 
>> Jack
> 
> If you don't want to disable IE protected mode you could install
> firefox, say, without making it the default browser and then set the
> browser option in R like this:
> 
>    options(browser = "C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe")


From 538280 at gmail.com  Tue May 27 02:13:21 2014
From: 538280 at gmail.com (Greg Snow)
Date: Mon, 26 May 2014 18:13:21 -0600
Subject: [R] Generating random variables with given pairwise correlations
In-Reply-To: <CAAz5QgVxRzujYT61CsUAJ2Bepaf2uJaycbqeSWfV2z=QG1ShNw@mail.gmail.com>
References: <CAAz5QgVxRzujYT61CsUAJ2Bepaf2uJaycbqeSWfV2z=QG1ShNw@mail.gmail.com>
Message-ID: <CAFEqCdxto608vEOgUd+ZDTza8+8MDUo4moRC+b7ZknGLcnkWDg@mail.gmail.com>

For numeric/continuous/normal values you can use the mvrnorm function
in the MASS package (set the empirical argument to TRUE to force the
exact correlation).  Some would argue that you should not compute
correlations with binary variables, but you could generate 4 normals,
then take the last 2 and dicotomize them to 0/1 based on
negative/positive (or other cut-off).  The correlation will not be
exactly the same, but you could do some trial and error to adjust the
starting correlations to see what the final ones are.  Or you could
wrap the whole process in a function to pass to optim to find the
starting correlations that will get you closest to your desired ones.

On Sat, May 24, 2014 at 10:35 AM, Sourav Ghosh <scottsourav at gmail.com> wrote:
> I want to generate 2 continuous random variables `Q1`, `Q2` (quantitative
> traits) and 2 binary random variables `Z1`, `Z2` (binary traits) with given
> pairwise correlations between all possible pairs of them.
> Say
>
>     (Q1,Q2):0.23
>     (Q1,Z1):0.55
>     (Q1,Z2):0.45
>     (Q2,Z1):0.4
>     (Q2,Z2):0.5
>     (Z1,Z2):0.47
>
> Please help me generate such data in R.
>
> --
> Sourav Ghosh
> 2nd Year M.Stat. Student
> Indian Statistical Institute, Kolkata
> India
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From dwinsemius at comcast.net  Tue May 27 03:48:27 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 26 May 2014 18:48:27 -0700
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1400986044715-4691204.post@n4.nabble.com>
References: <1400596475482-4690888.post@n4.nabble.com>
	<1F3EAC6E-19FF-4884-8CE8-AFE69F06DCC0@gmail.com>
	<1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
	<3469076.Bj2Rrlr1Qy@localhost.localdomain>
	<1400986044715-4691204.post@n4.nabble.com>
Message-ID: <C791A997-04F9-4960-97B6-4950D3092AAC@comcast.net>


On May 24, 2014, at 7:47 PM, Hurr wrote:

> Thanks again Jim.
> I stuck xaxs="i" in the existing par() command and it worked as I wanted it.
> I haven't looked at the documentation yet, but that's next.

Generally a better approach would be to study the documentation  .... first.


> Hurr
> 
> 
> View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691204.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Tue May 27 04:05:48 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 26 May 2014 19:05:48 -0700
Subject: [R] 0^0 computation in R : Why it is defined 1 in R ?
In-Reply-To: <53836EF9.1040102@stats.ox.ac.uk>
References: <6848a4465a9b7c155dfbf71b926af39e.squirrel@www.isical.ac.in>
	<53836EF9.1040102@stats.ox.ac.uk>
Message-ID: <E35C4DA7-1BCF-443F-A1F8-B7D1D73F57A7@comcast.net>


On May 26, 2014, at 9:42 AM, Prof Brian Ripley wrote:

> On 26/05/2014 13:16, ritwik_r at isical.ac.in wrote:
>> Dear R helpers,
>> 
>> 
>> today I found something interesting in R. 0^0 gives value 1 in R. But it
>> is undefined in mathematics. During debugging a R code, I found it and it
>> effects my program severely. So my question is why it is defined 1 in R?
>> Is there any particular reason or its a bug in the R software?
> 
> Try reading the help:
> 
>     Users are sometimes surprised by the value returned, for example
>     why ?(-8)^(1/3)? is ?NaN?.  For double inputs, R makes use of IEC
>     60559 arithmetic on all platforms, together with the C system
>     function ?pow? for the ?^? operator.  The relevant standards
>     define the result in many corner cases.  In particular, the result
>     in the example above is mandated by the C99 standard.  On many
>     Unix-alike systems the command ?man pow? gives details of the
>     values in a large number of corner cases.
> 
> See ?F9.4.4 of the C99 standard.
> 

A related questi0n is why NaN^0 == 0 returns TRUE:

http://stackoverflow.com/questions/17863619/why-does-nan0-1/17864651

-- 
David.
> 
>> 
>> Here is one demo:
>> 
>> *************************************************
>> 
>> ff=function(u){
>>   return( x^0 * u)
>> }
>> 
>> x=0
>> zz=integrate(ff,lower=0,upper=1)$value
>> zz
>> 
>> 
>> 
>>> source('~/.active-rstudio-document')
>>> zz
>> [1] 0.5
>>> 
>> 
>> *************************************************
>> 
>> Looking forward to hear any response.
>> 
>> Regards,
>> 
>> Ritwik Bhattacharya
>> Indian Statistical Institute Kolkata
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> PLEASE do ....
> 

David Winsemius
Alameda, CA, USA


From magetade2003 at gmail.com  Mon May 26 23:58:48 2014
From: magetade2003 at gmail.com (Megersa)
Date: Tue, 27 May 2014 00:58:48 +0300
Subject: [R] quartz() and windows()
Message-ID: <000001cf792d$aee95450$0cbbfcf0$@com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/09570428/attachment.pl>

From jane.eco at gmail.com  Tue May 27 02:50:27 2014
From: jane.eco at gmail.com (Jane Shevtsov)
Date: Mon, 26 May 2014 17:50:27 -0700
Subject: [R] Problem Creating Partial Dependence Plot
Message-ID: <CAE6akwR4-c1KqDpS2RAkkB-0OLL-jc5FOQFjOu0ghrkp8ovLyQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140526/f86ac721/attachment.pl>

From dwinsemius at comcast.net  Tue May 27 05:44:47 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 26 May 2014 20:44:47 -0700
Subject: [R] quartz() and windows()
In-Reply-To: <000001cf792d$aee95450$0cbbfcf0$@com>
References: <000001cf792d$aee95450$0cbbfcf0$@com>
Message-ID: <91D0DA64-8FA0-4593-B789-44A6A0E329B8@comcast.net>

Nothing to do with R versions. 'quartz()' is a Mac plotting device.

?Devices

-- 
David

Sent from my iPhone

> On May 26, 2014, at 2:58 PM, "Megersa" <magetade2003 at gmail.com> wrote:
> 
> Which version of R  is used for quartz  function please?
> 
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Tue May 27 06:01:56 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 27 May 2014 14:01:56 +1000
Subject: [R] seeking latex peace
In-Reply-To: <20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>
References: <1910120.eozsCGXcKS@localhost.localdomain>
	<20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>
Message-ID: <6949204.Y5vZNE7An0@localhost.localdomain>

On Mon, 26 May 2014 09:43:45 AM Ranjan Maitra wrote:
> ...
> Though, I have to say I don't quite see how you managed to install R
> without the above package (it is a required dependency on Fedora).
> ...
> Hope the above helps!
> 
> Best wishes,
> Ranjan
> 
Hi Ranjan,
As I always install R from source, I didn't have the assistance of the 
Fedora repositories. This is mainly due to the lofty admonitions to 
package maintainers to always have the most recent version of R. 
However, I will certainly consider this. Thanks.

Jim


From zeltakc at gmail.com  Tue May 27 10:51:00 2014
From: zeltakc at gmail.com (Xebar Saram)
Date: Tue, 27 May 2014 11:51:00 +0300
Subject: [R] reference category in binomal glm
Message-ID: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/09cef592/attachment.pl>

From francy.casalino at gmail.com  Tue May 27 10:24:34 2014
From: francy.casalino at gmail.com (francesca casalino)
Date: Tue, 27 May 2014 09:24:34 +0100
Subject: [R] snpStats reference allele used in genetic associations?
In-Reply-To: <alpine.LMD.2.00.1405271059240.14300@orpheus.qimr.edu.au>
References: <mailman.23.1400925609.30858.r-help@r-project.org>
	<alpine.LMD.2.00.1405261031070.14789@orpheus.qimr.edu.au>
	<CAMHWMgJuAO5y=sTTSueq=rdmeTERsu0edEsCXnguhHPraxjPTA@mail.gmail.com>
	<CAMHWMg+BeXcw4RP5wpYpwW_ft_fK5hifDg1QyXse4GUj7cXeSQ@mail.gmail.com>
	<alpine.LMD.2.00.1405271059240.14300@orpheus.qimr.edu.au>
Message-ID: <CAMHWMgKYRmyrApUiRXZucEKxGg133omt3SBpMEvD4H=O1vDu9Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/3b03acca/attachment.pl>

From weiqinwur at gmail.com  Tue May 27 11:36:21 2014
From: weiqinwur at gmail.com (Wei Qin)
Date: Tue, 27 May 2014 11:36:21 +0200
Subject: [R] How to add break in axis for grouped barplot?
Message-ID: <CALUNEofosKbY=YP5guXwoVyRcF3cxw2b1h8cVALVp+W9hcb8WQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/6dcb441b/attachment.pl>

From kristi.glover at hotmail.com  Tue May 27 12:54:13 2014
From: kristi.glover at hotmail.com (Kristi Glover)
Date: Tue, 27 May 2014 07:54:13 -0300
Subject: [R] How to unstack three columns into rows?
Message-ID: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/48db0473/attachment.pl>

From monaly.mistry at gmail.com  Tue May 27 13:20:53 2014
From: monaly.mistry at gmail.com (Monaly Mistry)
Date: Tue, 27 May 2014 12:20:53 +0100
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <1400895686.92706.YahooMailNeo@web142603.mail.bf1.yahoo.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>
	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>
	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>
	<3AC319F89ED.00001567jrkrideau@inbox.com>
	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>
	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>
	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>
	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>
	<B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>
	<CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>
	<1400864172.79402.YahooMailNeo@web142606.mail.bf1.yahoo.com>
	<1400895686.92706.YahooMailNeo@web142603.mail.bf1.yahoo.com>
Message-ID: <CANpv+66KnGiX9Qhsg=jiyPzyo6gkkDJBYMErJ-UJ85VXEyO5gQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/a8e9b089/attachment.pl>

From marc_schwartz at me.com  Tue May 27 13:21:37 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 27 May 2014 06:21:37 -0500
Subject: [R] reference category in binomal glm
In-Reply-To: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
References: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
Message-ID: <B12C176E-2736-489A-A6ED-B41A4E8A7F5C@me.com>


On May 27, 2014, at 3:51 AM, Xebar Saram <zeltakc at gmail.com> wrote:

> Hi all
> 
> i know this is probably a silly question but im wondering what is the
> 'reference' category when you run a binomal glm. that is my outcome/DV is
> 0,1 and i run a regression and get coefficients. do the coefficients refer
> to the probability to get 0 or 1?
> 
> thanks so much in advance
> 
> Z


As per the Details section of ?glm:

A typical predictor has the form response ~ terms where response is the (numeric) response vector and terms is a series of terms which specifies a linear predictor for response. For binomial and quasibinomial families the response can also be specified as a factor (when the first level denotes failure and all others success) or as a two-column matrix with the columns giving the numbers of successes and failures.


Thus, if you have a numeric 0/1 response, you are predicting 1's and if you use a two level factor, you are predicting the second level of the factor.

Regards,

Marc Schwartz


From ripley at stats.ox.ac.uk  Tue May 27 13:25:15 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 May 2014 12:25:15 +0100
Subject: [R] reference category in binomal glm
In-Reply-To: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
References: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
Message-ID: <5384761B.9070508@stats.ox.ac.uk>

On 27/05/2014 09:51, Xebar Saram wrote:
> Hi all
>
> i know this is probably a silly question but im wondering what is the
> 'reference' category when you run a binomal glm. that is my outcome/DV is
> 0,1 and i run a regression and get coefficients. do the coefficients refer
> to the probability to get 0 or 1?

?binomial in R-devel says

      For the ?binomial? and ?quasibinomial? families the response can
      be specified in one of three ways:

        1. As a factor: ?success? is interpreted as the factor not
           having the first level (and hence usually of having the
           second level).

        2. As a numerical vector with values between ?0? and ?1?,
           interpreted as the proportion of successful cases (with the
           total number of cases given by the ?weights?).

        3. As a two-column integer matrix.  The first column gives the
           number of successes and the second the number of failures.



>
> thanks so much in advance
>
> Z
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From frtog at vestas.com  Tue May 27 13:45:01 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Tue, 27 May 2014 13:45:01 +0200
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
References: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
Message-ID: <B078CDF40DFE4045AF172A8B4F68FC4857C630F6F5@DKRDSEXC016.vestas.net>

Hi Kristi

It doesn't seem that unstack can do it for you. Here is one way:


library(reshape)
data.molten <- melt(data, id = c("siteS", "species"))
cast(data.molten, siteS ~ species)

  siteS sa sb sc sd se sg
1   11a 11 NA 37 NA NA 51
2   12d 15 NA NA NA NA NA
3    1a 31 55 62 NA NA NA
4    2v 42 NA NA 40 NA NA
5    6a 30 23 74 84 10 NA
>

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Kristi Glover
> Sent: 27. maj 2014 12:54
> To: R-help
> Subject: [R] How to unstack three columns into rows?
> 
> Dear R User,
> I was wondering how I can unstack my data. For example I have following
> data set
> 
> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L,
> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v",
> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L,
> 4L, 1L, 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb",
> "sc", "sd", "se", "sg"), class = "factor"), abundance = c(31L,
> 55L, 62L, 42L, 40L, 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L
> )), .Names = c("siteS", "species", "abundance"), class = "data.frame",
> row.names = c(NA,
> -14L))
> 
> I wanted to have this data into following format
> 
> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L), .Label = c("11a",
> "12d", "1a", "2v", "6a"), class = "factor"), sa = c(31L, 42L,
> 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc = c(62L, NA,
> 10L, 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L,
> NA, NA), sg = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa",
> "sb", "sc", "sd", "se", "sg"), class = "data.frame", row.names = c(NA,
> -5L))
> 
> I tried several ways such as:
> > data.frame(unstack(data, species~siteS))
> Error in data.frame(`11a` = c("sa", "sg", "sc"), `12d` = "sa", `1a` = c("sa",  :
>   arguments imply differing number of rows: 3, 1, 2, 5
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Tue May 27 14:08:03 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 05:08:03 -0700 (PDT)
Subject: [R] Function Align produces an error, Package wavelets
In-Reply-To: <1401124928.79765.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <1401124928.79765.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1401192483.98925.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi Barnaby,
No problem.

If the function got masked by loading another package, you could do:

?wt.aligned <- wavelets::align(wt) 

A.K.


Thank you
I spend more time looking into it since I placed the question and it seems that there is a conflict between two or more packages when open jointly with the wavelet package for this specific example. I am trying to identify the packages.
Many thanks again 
Barnaby 



On Monday, May 26, 2014 1:22 PM, arun <smartpink111 at yahoo.com> wrote:
Hi,
I couldn't reproduce the error.
str(wt.aligned)
Formal class 'dwt' [package "wavelets"] with 11 slots
? ..@ W???????? :List of 3
? .. ..$ : num [1:32, 1] -0.252 0.19 0.315 0.451 0.169 ...
? .. ..$ : num [1:16, 1] 0.5324 -0.0644 0.2494 0.6509 0.1955 ...
? .. ..$ : num [1:8, 1] -0.558 0.734 -0.122 0.306 0.15 ...
? ..@ V???????? :List of 3
? .. ..$ : num [1:32, 1] 0.108 -0.831 -0.893 -0.778 -0.047 ...
? .. ..$ : num [1:16, 1] -1.04 -0.918 0.456 0.735 -1.094 ...
? .. ..$ : num [1:8, 1] -1.284 0.618 -1.1674 0.0554 0.2994 ...
? ..@ filter??? :Formal class 'wt.filter' [package "wavelets"] with 7 slots
? .. .. ..@ L??????? : int 8
? .. .. ..@ level??? : int 1
? .. .. ..@ h??????? : num [1:8] 0.0322 0.0126 -0.0992 -0.2979 0.8037 ...
? .. .. ..@ g??????? : num [1:8] -0.0758 -0.0296 0.4976 0.8037 0.2979 ...
? .. .. ..@ wt.class : chr "Least Asymmetric"
? .. .. ..@ wt.name? : chr "la8"
? .. .. ..@ transform: chr "dwt"
? ..@ level???? : int 3
? ..@ n.boundary: num [1:3] 3 5 6
? ..@ boundary? : chr "reflection"
? ..@ series??? : num [1:64, 1] 0.2 -0.4 -0.6 -0.5 -0.8 -0.4 -0.9 0 -0.2 0.1 ...
? ..@ class.X?? : chr "matrix"
? ..@ attr.X??? :List of 2
? .. ..$ dim???? : int [1:2] 16 2
? .. ..$ dimnames:List of 2
? .. .. ..$ : NULL
? .. .. ..$ : chr [1:2] "X1" "X2"
? ..@ aligned?? : logi TRUE
? ..@ coe?????? : logi FALSE

sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-unknown-linux-gnu (64-bit)

locale:
?[1] LC_CTYPE=en_CA.UTF-8?????? LC_NUMERIC=C????????????? 
?[3] LC_TIME=en_CA.UTF-8??????? LC_COLLATE=en_CA.UTF-8??? 
?[5] LC_MONETARY=en_CA.UTF-8??? LC_MESSAGES=en_CA.UTF-8?? 
?[7] LC_PAPER=en_CA.UTF-8?????? LC_NAME=C???????????????? 
?[9] LC_ADDRESS=C?????????????? LC_TELEPHONE=C??????????? 
[11] LC_MEASUREMENT=en_CA.UTF-8 LC_IDENTIFICATION=C?????? 

attached base packages:
[1] stats???? graphics? grDevices utils???? datasets? methods?? base???? 

other attached packages:
[1] wavelets_0.3-0 stringr_0.6.2? reshape2_1.4? 

loaded via a namespace (and not attached):
[1] plyr_1.8.1? Rcpp_0.11.1 tcltk_3.1.0 tools_3.1.0


A.K.


The function "align" produces an error with the present example provided in the vignente of wavelets

# obtain the two series listed in Percival and Walden (2000), page 42
X1 <- c(.2,-.4,-.6,-.5,-.8,-.4,-.9,0,-.2,.1,-.1,.1,.7,.9,0,.3)
X2 <- c(.2,-.4,-.6,-.5,-.8,-.4,-.9,0,-.2,.1,-.1,.1,-.7,.9,0,.3)
# combine them and compute DWT
newX <- cbind(X1,X2)
wt <- dwt(newX, n.levels=3, boundary="reflection", fast=FALSE)
# align
wt.aligned <- align(wt)
Error en xy.coords(x, y) :
? el argumento "y" est? ausente, sin valor por omisi?n

Would you happen to know if this function is not available or if there is another way to use this function beyond what is given in the example so it works

Thank you


From jim at bitwrit.com.au  Tue May 27 14:11:29 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 27 May 2014 22:11:29 +1000
Subject: [R] How to add break in axis for grouped barplot?
In-Reply-To: <CALUNEofosKbY=YP5guXwoVyRcF3cxw2b1h8cVALVp+W9hcb8WQ@mail.gmail.com>
References: <CALUNEofosKbY=YP5guXwoVyRcF3cxw2b1h8cVALVp+W9hcb8WQ@mail.gmail.com>
Message-ID: <3472487.K7mFvkb4HF@localhost.localdomain>

On Tue, 27 May 2014 11:36:21 AM Wei Qin wrote:
> ...
> #Then my questions is how to make a broken y axis in grouped 
barplot
> figures?
> 
> # In another words, how to combine the function of barplot and 
gap.barplot?
> 
Hi Wei,
The gap.barplot function doesn't do grouped bars (yet). You can probably 
get what you want with this:

newdata<-data
newdata[newdata>200]<-newdata[newdata>200]-140
barpos<-barplot(newdata,names.arg=colnames(newdata),
 ylim=c(0,250),beside=TRUE,col=c("darkblue","red"),axes=FALSE)
axis(2,at=c(0,50,100,150,200,235),
 labels=c(0,50,100,150,200,375))
box()
axis.break(2,210,style="gap")

Jim


From jvadams at usgs.gov  Tue May 27 14:44:22 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Tue, 27 May 2014 07:44:22 -0500
Subject: [R] Problem Creating Partial Dependence Plot
In-Reply-To: <CAE6akwR4-c1KqDpS2RAkkB-0OLL-jc5FOQFjOu0ghrkp8ovLyQ@mail.gmail.com>
References: <CAE6akwR4-c1KqDpS2RAkkB-0OLL-jc5FOQFjOu0ghrkp8ovLyQ@mail.gmail.com>
Message-ID: <CAN5YmCFeo9ap2Sq0ZBWMqHWo2nF01dLCFrfkpRiCAjtPuzu4Uw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/d117624f/attachment.pl>

From jim at bitwrit.com.au  Tue May 27 14:48:33 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Tue, 27 May 2014 22:48:33 +1000
Subject: [R] seeking latex peace
In-Reply-To: <6949204.Y5vZNE7An0@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
	<20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>
	<6949204.Y5vZNE7An0@localhost.localdomain>
Message-ID: <35042624.UIgP3nDFGo@localhost.localdomain>

Hi all,
I thought it was all over, but when I started my R help (help.start()) to 
check something, none of the help files in plotrix were available, each 
displaying an error message that some 2-3 Gb of memory could not be 
allocated. The same message appeared when I tried to get text help in 
the R console. I have just removed all 505 texlive packages, rebuilt 
plotrix_3.5-7 and reinstalled it. Now the help pages all work properly. If 
this has done something awful to the latest version of plotrix, please let 
me know and I will try to fix it.

Jim


From jvadams at usgs.gov  Tue May 27 14:51:45 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Tue, 27 May 2014 07:51:45 -0500
Subject: [R] Size of win.metafile
In-Reply-To: <5383974B.8090309@yeah.net>
References: <5383974B.8090309@yeah.net>
Message-ID: <CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/ae366ab3/attachment.pl>

From smartpink111 at yahoo.com  Tue May 27 14:52:13 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 05:52:13 -0700 (PDT)
Subject: [R] Assigning value Range for values
In-Reply-To: <1401124331.44611.YahooMailNeo@web142603.mail.bf1.yahoo.com>
References: <1401124331.44611.YahooMailNeo@web142603.mail.bf1.yahoo.com>
Message-ID: <1401195133.38772.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi Praveen,
Try this:
dat <- read.table(text="INCOME
?20100
?26800
?50000
?180000",sep="",header=TRUE)

transform(dat, INCOME_RANGE=as.character(cut(INCOME,breaks=c(0,25,50,100,150,180,Inf)*1e3,right=FALSE,labels=c("below 25,000", "25,000-49,999.99", "50,000-99,999.99", "1,00,000-1,49,999.99", "1,50,000-1,79,999.99", "above 1,80,000"))))
# INCOME???? INCOME_RANGE
#1? 20100???? below 25,000
#2? 26800 25,000-49,999.99
#3? 50000 50,000-99,999.99
#4 180000?? above 1,80,000


A.K.


?




? Hi Arun,

Thanks for the reply.
But this code suits only when we have the range differences as 25000. But Mine is different

I need as
below 25000
'25,000-49,999.99'
'50,000-99,999.99'
'1,00,000-1,49,999.99'
'1,50,000-1,79,999.99'
'above 1,80,000'

Can you help me with this ?


Thanks in advance.
Praveen 


On Monday, May 26, 2014 1:12 PM, arun <smartpink111 at yahoo.com> wrote:
Hi,

May be you can try ?cut

dat <- read.table(text="INCOME
?20100
?26800
?55050
?82000",sep="",header=TRUE) 
dat <- transform(dat, INCOME_RANGE=as.character(cut(INCOME,breaks=seq(0,1e5, by=25e3),labels=c("below 25000", "25000-49999", "50000-74999","75000-99999"))))

dat
#? INCOME INCOME_RANGE
#1? 20100? below 25000
#2? 26800? 25000-49999
#3? 55050? 50000-74999
#4? 82000? 75000-99999
?
BTW, the range in your loop code is different than the one you showed in the example.? 

A.K.



Hi All,

I have a column called "Income".
Currently I have values as below
INCOME
?20100
?26800
?55050
?82000
I need to change this buy assigning Bucket Ranges. My output should be as below.
INCOME
below 25000
25000 - 49999
50000 - 75000
75000 - 100000

I wrote a code as below. Where it is not giving the correct answer.


for(j in 1:nrow(tablename))
{
? if (tablename_INCOME[j] >=0 & tablename_INCOME[j] < 25000){
??? tablename_INCOME[j] <- 'below 25000'
? }else{
? if (tablename_INCOME[j] >= 25000 & tablename_INCOME[j] < 50000){
??? tablename_INCOME[j] <- '25,000-49,999.99'
? }else{
? if (tablename_INCOME[j] >= 50000 & tablename_INCOME[j] < 100000){
??? tablename_INCOME[j] <- '50,000-99,999.99'
? }else{
? if (tablename_INCOME[j] >= 100000 & tablename_INCOME[j] < 150000){
??? tablename_INCOME[j] <- '1,00,000-1,49,999.99'
? }else{
? if (tablename_INCOME[j] >= 100000 & tablename_INCOME[j] < 150000){
??? tablename_INCOME[j] <- '1,50,000-1,79,999.99'
? }else{
? if (tablename_INCOME[j] >= 180000){
??? tablename_INCOME[j] <- 'above 1,80,000'



Can anyone help me with this ?

Regards,
Praveen


From maitra.mbox.ignored at inbox.com  Tue May 27 15:06:24 2014
From: maitra.mbox.ignored at inbox.com (Ranjan Maitra)
Date: Tue, 27 May 2014 08:06:24 -0500
Subject: [R] seeking latex peace
In-Reply-To: <6949204.Y5vZNE7An0@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
	<20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>
	<6949204.Y5vZNE7An0@localhost.localdomain>
Message-ID: <20140527080624.ef262fb73d53b92ce94ce6f3@inbox.com>

On Tue, 27 May 2014 14:01:56 +1000 Jim Lemon <jim at bitwrit.com.au> wrote:

> On Mon, 26 May 2014 09:43:45 AM Ranjan Maitra wrote:
> > ...
> > Though, I have to say I don't quite see how you managed to install R
> > without the above package (it is a required dependency on Fedora).
> > ...
> > Hope the above helps!
> > 
> > Best wishes,
> > Ranjan
> > 
> Hi Ranjan,
> As I always install R from source, I didn't have the assistance of the 
> Fedora repositories. This is mainly due to the lofty admonitions to 
> package maintainers to always have the most recent version of R. 
> However, I will certainly consider this. Thanks.

Hello again, Jim:

I don't know about the "lofty admonitions to package maintainers" that
you talk about -- I have not had much reason to in the past -- but if
you want to have the latest bleeding-edge software for anything, you can
get it from Fedora's rawhide repo. Alternatively, you can file a bug
report on Bugzilla requesting an updated version (and test from the
using the updates-testing repo and give feedback). One benefit of all
this is that typically solid packages get installed on your system. R
3.1. went through 5 updates (and fixes) on updates-testing before being
moved to the (stable) updates repository for downloading by all.

HTH,
Ranjan

____________________________________________________________
FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on your desktop!


From zeltakc at gmail.com  Tue May 27 15:06:29 2014
From: zeltakc at gmail.com (Xebar Saram)
Date: Tue, 27 May 2014 16:06:29 +0300
Subject: [R] reference category in binomal glm
In-Reply-To: <5384761B.9070508@stats.ox.ac.uk>
References: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
	<5384761B.9070508@stats.ox.ac.uk>
Message-ID: <CAOQHXPrbtMWhLky5Le7ow6TOCPUubgp1cDfYe-M4B6FUUQgXww@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/e0fa0f32/attachment.pl>

From helengao432 at gmail.com  Tue May 27 15:27:44 2014
From: helengao432 at gmail.com (Helen Gao)
Date: Tue, 27 May 2014 14:27:44 +0100
Subject: [R] how to add a table under a plot?
In-Reply-To: <33D76D77E9AC4B438DA38B348ED6890D0B9CF411@EMAIL.ktkdom.pte.hu>
References: <CABHB1QmqsC9oUwPS03z9Yu6zTpnwfpf+MHJ0mhgKPd+AC1RBJA@mail.gmail.com>
	<33D76D77E9AC4B438DA38B348ED6890D0B9CF411@EMAIL.ktkdom.pte.hu>
Message-ID: <CABHB1QkLX_=E16tDF5PZdVt0ft+ss-54X=znmZi5r5aGqz4PBQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/ebdf9736/attachment.pl>

From will.eagle at gmx.net  Tue May 27 15:28:50 2014
From: will.eagle at gmx.net (will.eagle at gmx.net)
Date: Tue, 27 May 2014 15:28:50 +0200
Subject: [R] Install Windows/R/.zip package under Linux/R
Message-ID: <trinity-c9c38b5d-b5c8-403b-8dfa-e3a56b29322a-1401197330467@3capp-gmx-bs16>


   Dear all,

   how can I install the Windows/R package
   http://www.ssg.uab.edu/bhglm/files/BhGLM_1.0.zip
   under Linux/R?

   There is no CRAN package.
   Simply, applying gunzip, tar -czvf, R CMD INSTALL *.tar.gz did not work.

   Thanks in advance,

   Will

From jdnewmil at dcn.davis.CA.us  Tue May 27 15:46:00 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 27 May 2014 06:46:00 -0700
Subject: [R] Install Windows/R/.zip package under Linux/R
In-Reply-To: <trinity-c9c38b5d-b5c8-403b-8dfa-e3a56b29322a-1401197330467@3capp-gmx-bs16>
References: <trinity-c9c38b5d-b5c8-403b-8dfa-e3a56b29322a-1401197330467@3capp-gmx-bs16>
Message-ID: <1b64c201-bc3f-425c-935a-6fbbd4cacf12@email.android.com>

It may not be possible. Contact the maintainer described at http://www.ssg.uab.edu/bhglm/ to ask for a source package.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 27, 2014 6:28:50 AM PDT, will.eagle at gmx.net wrote:
>
>   Dear all,
>
>   how can I install the Windows/R package
>   http://www.ssg.uab.edu/bhglm/files/BhGLM_1.0.zip
>   under Linux/R?
>
>   There is no CRAN package.
>Simply, applying gunzip, tar -czvf, R CMD INSTALL *.tar.gz did not
>work.
>
>   Thanks in advance,
>
>   Will
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Tue May 27 15:43:19 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 06:43:19 -0700 (PDT)
Subject: [R] subsetting to exclude different values for each subject in
	study
In-Reply-To: <CANpv+66KnGiX9Qhsg=jiyPzyo6gkkDJBYMErJ-UJ85VXEyO5gQ@mail.gmail.com>
References: <1400770984.79444.yahoomailneo@web142605.mail.bf1.yahoo.com>	<canpv+65jxjy=d5dfyt+-sym7hmnnu3uubm=ty=pq2dmjhioxqq@mail.gmail.com>	<CANpv+668XAzKLtAcS+aiWCBu7UtCOJEN27uz26D-38okyw-1ww@mail.gmail.com>	<3AC319F89ED.00001567jrkrideau@inbox.com>	<CANpv+65KT-9PqtxHcK5uwJMqtk1jqPQ-u2xWY4=-UKutN2QXDQ@mail.gmail.com>	<1400811382.80520.YahooMailNeo@web142605.mail.bf1.yahoo.com>	<CANpv+6612s3Ht-v+_LWZmsyvDfigE01S99UmoNW8zE_M9P844g@mail.gmail.com>	<1400840753.24972.YahooMailNeo@web142606.mail.bf1.yahoo.com>	<CANpv+66Oeb8Lum3w3_iNcNRim5PxzGiEqqV7nBrEBFyg-GQa4A@mail.gmail.com>	<B078CDF40DFE4045AF172A8B4F68FC4857C624185D@DKRDSEXC016.vestas.net>	<CANpv+65+K7Lsn8iYBWoDG38kCriOcN4BkwMa55x2ziz-dU-kJA@mail.gmail.com>	<1400864172.79402.YahooMailNeo@web142606.mail.bf1.yahoo.com>	<1400895686.92706.YahooMailNeo@web142603.mail.bf1.yahoo.com>
	<CANpv+66KnGiX9Qhsg=jiyPzyo6gkkDJBYMErJ-UJ85VXEyO5gQ@mail.gmail.com>
Message-ID: <1401198199.50519.YahooMailNeo@web142606.mail.bf1.yahoo.com>

Hi Monaly,

According to the description of ?tri2nb
The function uses the ?deldir? package to convert a matrix of
???? two-dimensional coordinates into a neighbours list of class ?nb?
???? with a list of integer vectors containing neighbour region number
???? ids.


So, col.tri.nb is a list of length 76. 

?str(col.tri.nb)
List of 76
?$ : int [1:6] 11 26 33 46 57 75
?$ : int [1:6] 27 31 36 42 70 75
---------------------------

?lst1 <- lapply(col.tri.nb,function(x) ind[x]) 
?lst1[1:5] #returns 1st five elements
##Regarding the last piece of code:
#Check the output of

res <- sapply(seq_along(col.tri.nb), function(i) {
??? ind1 <- as.character(ind[i])
??? ind2 <- as.character(ind[col.tri.nb[[i]]])
??? XOind1 <- XO[1, ind1]
??? XOind2 <- XO[1, ind2]
??? cat(" list element=", i, "\n", " NestkastNummer=", ind1, "\n", " Neighbouring NestkastNummer=", 
??????? ind2, "\n", " EBScore=", XOind1, "\n", " EBScore Neighbour element=", XOind2, 
??????? "\n", " avg=", mean(abs(XOind1 - XOind2)), sep = " ", "\n")
??? mean(abs(XOind1 - XOind2))
})



A.K.




On Tuesday, May 27, 2014 7:20 AM, Monaly Mistry <monaly.mistry at gmail.com> wrote:



Hi Arun,

Thank you for your help, ?I have a few questions though if you don't mind. I'm a bit confused about the following 2 lines of code:
col.tri.nb <- tri2nb(coords, row.names=ind)
?lapply(col.tri.nb,function(x) ind[x])[1:5]

## from what I understand in the first line determines the neighbouring individuals, while in the second line it calls for the output of neighbours for the first 5 individuals.
Also for the last line of code that you resent I don't really understand what it is running?

Best,

Monaly.



On Sat, May 24, 2014 at 2:41 AM, arun <smartpink111 at yahoo.com> wrote:

Hi,
>Sorry, there is a mistake. XO[2,] should be:
>XO[2,] <-? sapply(seq_along(col.tri.nb), function(i){ind1 <- as.character(ind[i]); ind2 <- as.character(ind[col.tri.nb[[i]]]); mean(abs(XO[1,ind1]-XO[1,ind2]))} )
>A.K.
>
>
>
>
>
>
>
>On Friday, May 23, 2014 12:56 PM, arun <smartpink111 at yahoo.com> wrote:
>
>Hi Monaly,
>May be this helps:
>b<- 77:99
>ao1 <- ao[-b,]
>##Your code:
>
>XO<- matrix( 0,6, 76, byrow=TRUE);XO
>abo<-ao$NestkastNummer[-b];abo? #removed values that were NA
>rownames(XO) = c("EB_score","avg","pop_size","pop_avg_score",
>"adj_pop_avg", "ind_pop_dif")
>colnames(XO) = abo
>t <- ao$COR_LOC;t
>i <- c(77:99)
>ti <- t[-i];ti
>XO[1,] = c(ti);XO
>?
>
>library(deldir)
>library(spdep)
>mat <- cbind(lat=ao1$lat_xm, long=ao1$long_ym)
>library(spdep)
>?coords <- coordinates(mat)
>ind <- ao1$NestkastNummer
>
>col.tri.nb <- tri2nb(coords, row.names=ind)
>?lapply(col.tri.nb,function(x) ind[x])[1:5] ###
>[[1]]
>[1] 713 715 162 148 140 117
>
>[[2]]
>[1] 130 128 172? 64 113 117
>
>[[3]]
>[1] 54 19 16 73 74
>
>[[4]]
>[1]?? 2? 31 704? 34 707
>
>[[5]]
>[1] 51 94 57 73 62
>
>XO[2,] <- sapply(seq_along(col.tri.nb),function(i) mean(abs(ind[i]-ind[col.tri.nb[[i]]])))
>
>A.K.
>
>
>
>On Friday, May 23, 2014 7:17 AM, Monaly Mistry <monaly.mistry at gmail.com> wrote:
>
>
>
>Hi Arun and Frede,
>
>So the dput() is below (it's the same data file as before), but below that is the code I used to make the tessellation. ?Thanks for your help.
>
>> dput(ao)
>structure(list(num = 1:99, FORM_CHK = c(20870L, 22018L, 30737L,?
>22010L, 22028L, 36059L, 36063L, 36066L, 30587L, 30612L, 36056L,?
>30376L, 35153L, 30435L, 30536L, 30486L, 30475L, 36053L, 36048L,?
>36076L, 36045L, 36065L, 35772L, 36949L, 35702L, 36894L, 36080L,?
>35542L, 35457L, 35533L, 36042L, 36925L, 36827L, 36008L, 35817L,?
>36350L, 35985L, 35973L, 35801L, 36639L, 35810L, 35812L, 35807L,?
>36351L, 35967L, 35944L, 37006L, 36345L, 36062L, 36077L, 35802L,?
>35984L, 36043L, 35769L, 36360L, 36082L, 36071L, 36354L, 35771L,?
>35754L, 36295L, 35746L, 36064L, 35779L, 35751L, 35752L, 35785L,?
>35792L, 37011L, 36003L, 36040L, 36831L, 36031L, 36652L, 36992L,?
>36965L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
>NA, NA, NA, NA, NA, NA, NA, NA, NA), RingNummerMan = structure(c(1L,?
>2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L,?
>16L, 17L, 19L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 34L,?
>35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 46L, 47L, 48L,?
>49L, 50L, 51L, 52L, 54L, 55L, 56L, 57L, 58L, 59L, 60L, 61L, 63L,?
>65L, 67L, 69L, 70L, 73L, 74L, 75L, 76L, 78L, 79L, 80L, 81L, 82L,?
>83L, 85L, 86L, 87L, 88L, 89L, 93L, 96L, 97L, 18L, 20L, 21L, 28L,?
>32L, 33L, 45L, 53L, 62L, 64L, 66L, 68L, 71L, 72L, 77L, 84L, 90L,?
>91L, 92L, 94L, 95L, 98L, 99L), .Label = c("AJ...75425", "AL...62371",?
>"AR...11060", "AR...29297", "AR...29307", "AR...29502", "AR...29504",?
>"AR...29507", "AR...30039", "AR...30085", "AR...30165", "AR...30491",?
>"AR...30563", "AR...30616", "AR...30652", "AR...30687", "AR...30701",?
>"AR...30927", "AR...30959", "AR...30963", "AR...30964", "AR...30965",?
>"AR...30966", "AR...30985", "AR...30988", "AR...40917", "AR...40996",?
>"AR...45735", "AR...45904", "AR...45928", "AR...47609", "AR...65387",?
>"AR...65479", "AR...65550", "AR...65629", "AR...65948", "AR...86074",?
>"AR...86521", "AR...86527", "AR...90061", "AR...90064", "AR...90067",?
>"AR...90077", "AR...90081", "AR...90098", "AR...90101", "AR...90106",?
>"AR...90112", "AR...90133", "AR...90155", "AR...90176", "AR...90178",?
>"AR...90180", "AR...90187", "AR...90212", "AR...90247", "AR...90252",?
>"AR...90256", "AR...90258", "AR...90269", "AR...90272", "AR...90275",?
>"AR...90294", "AR...90298", "AR...90300", "AR...90337", "AR...90338",?
>"AR...90367", "AR...90397", "AR...90410", "AR...90463", "AR...90520",?
>"AR...90544", "AR...90556", "AR...90678", "AR...90712", "AR...90737",?
>"AR...90744", "AR...90829", "AR...90862", "AR...90863", "AR...90873",?
>"AR...90880", "AR...90892", "AR...90898", "AR...90945", "AR...90951",?
>"AR...90965", "AR...90970", "AR...90972", "AU...15008", "AU...15009",?
>"AU...15027", "AU...15032", "AU...15036", "AU...15038", "AU...15046",?
>"AU...15049", "AU...15505"), class = "factor"), year_score_taken = c(2006L,?
>2008L, 2009L, 2008L, 2008L, 2011L, 2011L, 2011L, 2009L, 2009L,?
>2011L, 2009L, 2010L, 2009L, 2009L, 2009L, 2009L, 2011L, 2011L,?
>2011L, 2011L, 2011L, 2011L, 2012L, 2011L, 2012L, 2011L, 2010L,?
>2010L, 2010L, 2011L, 2012L, 2012L, 2011L, 2011L, 2012L, 2011L,?
>2011L, 2011L, 2012L, 2011L, 2011L, 2011L, 2012L, 2011L, 2011L,?
>2013L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L, 2012L,?
>2012L, 2011L, 2012L, 2011L, 2011L, 2011L, 2011L, 2011L, 2011L,?
>2011L, 2011L, 2011L, 2011L, 2013L, 2011L, 2011L, 2012L, 2011L,?
>2012L, 2012L, 2012L, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
>NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), COR_LOC = c(15.13404,?
>13.88054, 30.0969, 19.09152, 16.88054, 14.15718, 39.15718, 16.15718,?
>16.13566, 23.07538, 39.15718, 24.56838, 12.13942, 21.4123, 19.06945,?
>12.33264, 32.48872, 30.15718, 37.15718, 37.15718, 49.15718, 22.15718,?
>18.50272, 23.69432, 24.9322, 47.29712, 41.15718, 21.47903, 38.6588,?
>34.99572, 28.15718, 13.08614, 16.71908, 22.68894, 19.2616, 15.96234,?
>22.83964, 13.89992, 14.2616, 18.17118, 24.2616, 22.2616, 13.2616,?
>23.96234, 24.89992, 24.05062, 10.20884, 6.96234, 13.15718, 17.15718,?
>40.2616, 21.83964, 20.15718, 39.50272, 26.81164, 20.3843, 14.15718,?
>7.96234, 19.50272, 40.74384, 5.7675, 42.95482, 29.15718, 18.32188,?
>28.74384, 37.74384, 22.32188, 25.32188, 18.20884, 14.68894, 22.15718,?
>39.71908, 18.2067, 15.1109, 15.61466, 47.4532, NA, NA, NA, NA,?
>NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,?
>NA, NA, NA), IndividuID = c(11394L, 15676L, 342518L, 344902L,?
>344909L, 377497L, 377499L, 377504L, 352003L, 351986L, 352260L,?
>352392L, 353800L, 353892L, 353949L, 354060L, 354074L, 377487L,?
>377490L, 377511L, 377513L, 377495L, 377297L, 357796L, 366326L,?
>378446L, 377518L, 358157L, 358730L, 366215L, 377519L, 378407L,?
>378453L, 377443L, 377358L, 377726L, 377422L, 377402L, 377341L,?
>378354L, 377350L, 377352L, 377347L, 378408L, 377396L, 377374L,?
>377774L, 377743L, 377500L, 377510L, 377342L, 377421L, 377786L,?
>377294L, 377836L, 378291L, 377508L, 378199L, 377296L, 377280L,?
>373000L, 373020L, 377496L, 377306L, 373025L, 377278L, 377310L,?
>377317L, 377337L, 377439L, 377450L, 377464L, 377478L, 400290L,?
>400361L, 400260L, 357889L, 377477L, 377298L, 400370L, 356930L,?
>356939L, 378115L, 377562L, 378018L, 377834L, 378290L, 378228L,?
>378268L, 378052L, 378103L, 377332L, 377514L, 400356L, 400357L,?
>400372L, 400259L, 400256L, 400354L), BroedJaar = c(2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L,?
>2012L, 2012L, 2012L, 2012L, 2012L, 2012L, 2012L), ManipulatieOuders = c(0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,?
>0L, 0L), LegBeginDag = c(11L, 15L, 15L, 13L, 8L, 26L, 15L, 16L,?
>1L, 3L, 4L, 9L, 13L, 20L, 11L, 2L, 9L, 13L, 31L, 1L, 12L, 8L,?
>13L, 7L, 10L, 11L, 17L, 10L, 11L, 19L, 20L, 13L, 14L, 24L, 17L,?
>10L, 8L, 29L, 7L, 26L, 10L, 15L, 2L, 6L, 8L, 13L, 1L, 5L, 12L,?
>12L, 15L, 19L, 10L, 1L, 5L, 13L, 6L, 5L, 16L, 2L, 2L, 30L, 10L,?
>21L, 8L, 19L, 8L, 27L, 3L, 8L, 14L, 18L, 17L, 7L, 4L, 10L, 13L,?
>11L, 31L, 25L, 23L, 7L, 7L, 7L, 8L, 3L, 14L, 14L, 15L, 5L, 10L,?
>11L, 18L, 1L, 31L, 3L, 8L, 20L, 14L), LegBeginMaand = c(4L, 4L,?
>5L, 4L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,?
>3L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L,?
>4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,?
>4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 4L, 4L, 4L,?
>4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
>4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 3L, 4L, 4L, 4L,?
>4L), broodinfo = c(55334L, 55325L, 55317L, 55349L, 55366L, 55303L,?
>55461L, 55528L, 55296L, 55297L, 55630L, 55567L, 55345L, 55444L,?
>55526L, 55571L, 55462L, 55346L, 55576L, 55577L, 55601L, 55300L,?
>55607L, 55634L, 55558L, 55633L, 55590L, 55594L, 55537L, 55466L,?
>55327L, 55603L, 55600L, 55302L, 55319L, 55609L, 55574L, 55310L,?
>55554L, 55582L, 55561L, 55320L, 55555L, 55578L, 55343L, 55331L,?
>55314L, 55560L, 55460L, 55551L, 55322L, 55306L, 55348L, 55589L,?
>55572L, 55565L, 55595L, 55606L, 55323L, 55635L, 55568L, 55614L,?
>55447L, 55312L, 55344L, 55321L, 55569L, 55309L, 55570L, 55562L,?
>55550L, 55605L, 55465L, 55445L, 55587L, 55332L, 55629L, 55613L,?
>55448L, 55632L, 55636L, 55531L, 55329L, 55597L, 55298L, 55596L,?
>55318L, 55608L, 55463L, 55532L, 55557L, 55536L, 55333L, 55533L,?
>55538L, 55637L, 55330L, 55326L, 55525L), BroedselID = c(55334L,?
>55325L, 55317L, 55349L, 55366L, 55303L, 55461L, 55528L, 55296L,?
>55297L, 55630L, 55567L, 55345L, 55444L, 55526L, 55571L, 55462L,?
>55346L, 55576L, 55577L, 55601L, 55300L, 55607L, 55634L, 55558L,?
>55633L, 55590L, 55594L, 55537L, 55466L, 55327L, 55603L, 55600L,?
>55302L, 55319L, 55609L, 55574L, 55310L, 55554L, 55582L, 55561L,?
>55320L, 55555L, 55578L, 55343L, 55331L, 55314L, 55560L, 55460L,?
>55551L, 55322L, 55306L, 55348L, 55589L, 55572L, 55565L, 55595L,?
>55606L, 55323L, 55635L, 55568L, 55614L, 55447L, 55312L, 55344L,?
>55321L, 55569L, 55309L, 55570L, 55562L, 55550L, 55605L, 55465L,?
>55445L, 55587L, 55332L, 55629L, 55613L, 55448L, 55632L, 55636L,?
>55531L, 55329L, 55597L, 55298L, 55596L, 55318L, 55608L, 55463L,?
>55532L, 55557L, 55536L, 55333L, 55533L, 55538L, 55637L, 55330L,?
>55326L, 55525L), NestkastNummer = c(176L, 124L, 51L, 717L, 54L,?
>19L, 11L, 42L, 90L, 9L, 713L, 82L, 709L, 2L, 39L, 86L, 16L, 710L,?
>93L, 94L, 163L, 14L, 170L, 718L, 79L, 715L, 130L, 133L, 57L,?
>25L, 128L, 164L, 162L, 15L, 60L, 172L, 91L, 31L, 73L, 97L, 111L,?
>64L, 74L, 95L, 704L, 148L, 36L, 80L, 8L, 68L, 105L, 22L, 716L,?
>127L, 88L, 81L, 140L, 169L, 109L, 719L, 35L, 185L, 6L, 34L, 707L,?
>101L, 38L, 28L, 84L, 113L, 62L, 168L, 23L, 3L, 117L, 150L, 705L,?
>183L, 7L, 714L, 720L, 49L, 144L, 153L, 12L, 143L, 56L, 171L,?
>17L, 50L, 77L, 55L, 175L, 52L, 58L, 722L, 145L, 125L, 32L), lat_xm = c(729.2669944,?
>1001.809576, 501.4865527, 105.2662516, 622.0842564, 313.4718688,?
>198.828763, 248.3819471, 466.4434076, 155.709257, 433.2482345,?
>388.4860969, 306.5590574, 14.98895776, 191.9843836, 309.4336924,?
>308.6123573, 351.526526, 606.8213156, 601.8249333, 912.0799656,?
>267.5461811, 1084.557939, 264.26089, 359.6713191, 488.4822672,?
>1018.578266, 915.707476, 773.276261, 171.4513083, 1084.831712,?
>952.5985963, 878.4741353, 288.3530553, 913.9963847, 1071.827424,?
>456.313756, 51.12730755, 582.6607182, 592.1059359, 740.3548678,?
>1042.875765, 476.8468377, 654.0474325, 276.375404, 877.6528113,?
>135.7921596, 300.9466765, 145.6480126, 829.1262723, 601.4827177,?
>237.6363065, 500.3230173, 1129.730741, 398.06821, 340.8493193,?
>770.4016222, 1051.63655, 571.7097287, 314.4300781, 117.5861334,?
>437.9708453, 95.41039954, 105.7453938, 235.5829892, 627.9704095,?
>177.0636713, 99.17481232, 396.6993402, 973.4739067, 1034.662528,?
>1046.77705, 221.278275, 27.24031031, 724.0652756, 942.6742674,?
>325.9970589, 261.933799, 116.7648206, 464.0478832, 532.6968545,?
>423.9399058, 656.8536222, 979.9076146, 221.2098377, 701.5473216,?
>709.8290013, 1120.559295, 345.5719307, 463.4318862, 429.6207308,?
>659.112262, 717.7684649, 533.3812884, 819.3388243, 600.9351721,?
>722.4910753, 1126.719223, 26.8297633), long_ym = c(385.4016022,?
>744.3388344, 1278.519267, 582.1054392, 1183.781188, 1313.545671,?
>1155.204087, 1008.093201, 812.6125238, 1045.899477, 474.135164,?
>887.4467064, 626.9169985, 700.9728169, 849.3068501, 799.1579293,?
>1418.180093, 598.1175046, 928.3664402, 1111.83807, 367.2768291,?
>1318.32705, 501.4891137, 542.5200518, 1095.7148, 552.6387801,?
>636.2573659, 479.9172936, 1057.018971, 980.7392501, 739.0014835,?
>485.8106446, 371.9470232, 1365.91848, 942.3769994, 664.2784869,?
>887.335514, 669.5046549, 1156.983212, 893.8960158, 933.9261864,?
>783.4794517, 1191.342439, 975.8466709, 453.8976828, 55.70866057,?
>731.2178331, 973.6227733, 1002.199869, 920.5827929, 678.1778549,?
>1141.415921, 578.9919757, 710.2019861, 738.8902861, 936.706063,?
>480.8068625, 454.8984371, 771.1368166, 510.940689, 680.7353401,?
>1087.041598, 895.6751282, 641.8171157, 573.7658194, 651.9358502,?
>816.2819528, 819.6178023, 828.7357905, 801.8266126, 856.9792948,?
>415.0906484, 1086.374437, 737.4447458, 559.866446, 0, 423.6526577,?
>1166.990753, 957.8330951, 562.8687158, 564.7590286, 1339.676479,?
>197.5933584, 132.099559, 1205.686591, 246.6303384, 1106.500715,?
>597.3391415, 1389.380609, 1312.878499, 1155.760068, 1152.090634,?
>433.6602223, 1252.833235, 1028.88666, 522.3937678, 151.7810272,?
>796.3780665, 631.3647851), avg_pop_eb = c(23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359, 23.57103359, 23.57103359, 23.57103359,?
>23.57103359, 23.57103359)), .Names = c("num", "FORM_CHK", "RingNummerMan",?
>"year_score_taken", "COR_LOC", "IndividuID", "BroedJaar", "ManipulatieOuders",?
>"LegBeginDag", "LegBeginMaand", "broodinfo", "BroedselID", "NestkastNummer",?
>"lat_xm", "long_ym", "avg_pop_eb"), class = "data.frame", row.names = c(NA,?
>-99L))
>
>
>#Code for ?tessellation
>library(deldir)
>
>ao= read.table("C:/Users/Monaly/Desktop/2012_malenest.txt", header=TRUE)
>
>a29= deldir(ao$lat_xm, ao$long_ym)
>
>a30=tile.list(a29)
>
>plot(a30, close=TRUE, main="2012 Male Nest", xlab="latitude (m)", ylab="longitude (m)", wpoints="real", verbose=FALSE,num=TRUE, rw=c(0, 1200, 0, 2000))
>
>text(ao$lat_xm, ao$long_ym,col=c(2,1,4),labels=round(ao$NestkastNummer, 3), pos=2, offset=0.2, cex=0.7) ?#this was to identify the points
>


From smartpink111 at yahoo.com  Tue May 27 16:20:40 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 07:20:40 -0700 (PDT)
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <B078CDF40DFE4045AF172A8B4F68FC4857C630F6F5@DKRDSEXC016.vestas.net>
References: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
	<B078CDF40DFE4045AF172A8B4F68FC4857C630F6F5@DKRDSEXC016.vestas.net>
Message-ID: <1401200440.90340.YahooMailNeo@web142602.mail.bf1.yahoo.com>



Hi,

I guess ?cast should work on the original dataset as it is in the long format
?cast(data, siteS ~ species,value="abundance")
? siteS sa sb sc sd se sg
1?? 11a 11 NA 37 NA NA 51
2?? 12d 15 NA NA NA NA NA
3??? 1a 31 55 62 NA NA NA
4??? 2v 42 NA NA 40 NA NA
5??? 6a 30 23 74 84 10 NA

#if you are using
library(reshape2)

dcast(data, siteS ~ species,value.var="abundance")
? siteS sa sb sc sd se sg
1?? 11a 11 NA 37 NA NA 51
2?? 12d 15 NA NA NA NA NA
3??? 1a 31 55 62 NA NA NA
4??? 2v 42 NA NA 40 NA NA
5??? 6a 30 23 74 84 10 NA

?levels(data$siteS)
#[1] "11a" "12d" "1a"? "2v"? "6a" 

#To get the order of siteS as in newData
?dcast(transform(data,siteS=factor(siteS,levels=c("1a","2v","6a","11a","12d"))), siteS ~ species,value.var="abundance")
#? siteS sa sb sc sd se sg
#1??? 1a 31 55 62 NA NA NA
#2??? 2v 42 NA NA 40 NA NA
#3??? 6a 30 23 74 84 10 NA
#4?? 11a 11 NA 37 NA NA 51
#5?? 12d 15 NA NA NA NA NA

#BTW, some elements are found to be misplaced in newData.

A.K.






On Tuesday, May 27, 2014 7:47 AM, Frede Aakmann T?gersen <frtog at vestas.com> wrote:
Hi Kristi

It doesn't seem that unstack can do it for you. Here is one way:


library(reshape)
data.molten <- melt(data, id = c("siteS", "species"))
cast(data.molten, siteS ~ species)

? siteS sa sb sc sd se sg
1?  11a 11 NA 37 NA NA 51
2?  12d 15 NA NA NA NA NA
3? ? 1a 31 55 62 NA NA NA
4? ? 2v 42 NA NA 40 NA NA
5? ? 6a 30 23 74 84 10 NA
>

Yours sincerely / Med venlig hilsen


Frede Aakmann T?gersen
Specialist, M.Sc., Ph.D.
Plant Performance & Modeling

Technology & Service Solutions
T +45 9730 5135
M +45 2547 6050
frtog at vestas.com
http://www.vestas.com

Company reg. name: Vestas Wind Systems A/S
This e-mail is subject to our e-mail disclaimer statement.
Please refer to www.vestas.com/legal/notice
If you have received this e-mail in error please contact the sender. 


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org]
> On Behalf Of Kristi Glover
> Sent: 27. maj 2014 12:54
> To: R-help
> Subject: [R] How to unstack three columns into rows?
> 
> Dear R User,
> I was wondering how I can unstack my data. For example I have following
> data set
> 
> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L,
> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v",
> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L,
> 4L, 1L, 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb",
> "sc", "sd", "se", "sg"), class = "factor"), abundance = c(31L,
> 55L, 62L, 42L, 40L, 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L
> )), .Names = c("siteS", "species", "abundance"), class = "data.frame",
> row.names = c(NA,
> -14L))
> 
> I wanted to have this data into following format
> 
> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L), .Label = c("11a",
> "12d", "1a", "2v", "6a"), class = "factor"), sa = c(31L, 42L,
> 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc = c(62L, NA,
> 10L, 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L,
> NA, NA), sg = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa",
> "sb", "sc", "sd", "se", "sg"), class = "data.frame", row.names = c(NA,
> -5L))
> 
> I tried several ways such as:
> > data.frame(unstack(data, species~siteS))
> Error in data.frame(`11a` = c("sa", "sg", "sc"), `12d` = "sa", `1a` = c("sa",? :
>?  arguments imply differing number of rows: 3, 1, 2, 5
> 
> 
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.




______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From aaditya.nanduri at gmail.com  Tue May 27 17:23:09 2014
From: aaditya.nanduri at gmail.com (Aaditya Nanduri)
Date: Tue, 27 May 2014 11:23:09 -0400
Subject: [R] Scoring a test set after clustering a training set
In-Reply-To: <CAP8WkrxMMYydS+pBO-m99CQAMTz8CFCk4EUfDp5sU0yB5puXGw@mail.gmail.com>
References: <CAP8WkrxMMYydS+pBO-m99CQAMTz8CFCk4EUfDp5sU0yB5puXGw@mail.gmail.com>
Message-ID: <CAKw8VC0iCooBtjE_2LzTLsQ81vHU4sk_BS=DcOW02U-8omqytQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/e66ab8ea/attachment.pl>

From andysiddaway at googlemail.com  Tue May 27 11:46:30 2014
From: andysiddaway at googlemail.com (Andy Siddaway)
Date: Tue, 27 May 2014 10:46:30 +0100
Subject: [R] Login
Message-ID: <CAGfzE9WLcDaw-D7wtap3dWbE_uqYTKk0fkp2RwSzE455hYEy0w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/1f023575/attachment.pl>

From bstan0578 at gmail.com  Tue May 27 14:02:50 2014
From: bstan0578 at gmail.com (=?UTF-8?Q?Bastian_P=C3=B6schl?=)
Date: Tue, 27 May 2014 14:02:50 +0200
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
Message-ID: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>

Ein eingebundener Text mit undefiniertem Zeichensatz wurde abgetrennt.
Name: nicht verf?gbar
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/5ed6f46e/attachment.pl>

From petr.pikal at precheza.cz  Tue May 27 13:46:13 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Tue, 27 May 2014 11:46:13 +0000
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
References: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD1F88@SRVEXCHMBX.precheza.cz>

Hi

cast(data, siteS~species)

gives you quite close result, only row ordering is different

Regards
Petr


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of Kristi Glover
> Sent: Tuesday, May 27, 2014 12:54 PM
> To: R-help
> Subject: [R] How to unstack three columns into rows?
>
> Dear R User,
> I was wondering how I can unstack my data. For example I have following
> data set
>
> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L,
> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v",
> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L, 4L, 1L,
> 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb", "sc", "sd",
> "se", "sg"), class = "factor"), abundance = c(31L, 55L, 62L, 42L, 40L,
> 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L )), .Names = c("siteS",
> "species", "abundance"), class = "data.frame", row.names = c(NA,
> -14L))
>
> I wanted to have this data into following format
>
> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L), .Label
> = c("11a", "12d", "1a", "2v", "6a"), class = "factor"), sa = c(31L,
> 42L, 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc = c(62L, NA, 10L,
> 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L, NA, NA), sg
> = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa", "sb", "sc", "sd",
> "se", "sg"), class = "data.frame", row.names = c(NA,
> -5L))
>
> I tried several ways such as:
> > data.frame(unstack(data, species~siteS))
> Error in data.frame(`11a` = c("sa", "sg", "sc"), `12d` = "sa", `1a` =
> c("sa",  :
>   arguments imply differing number of rows: 3, 1, 2, 5
>
>
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From suganthiny at aol.com  Tue May 27 16:42:33 2014
From: suganthiny at aol.com (suganthiny at aol.com)
Date: Tue, 27 May 2014 10:42:33 -0400 (EDT)
Subject: [R] Random Block
Message-ID: <8D147D1074880A0-31F4-25C23@webmail-m241.sysops.aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/00f8f678/attachment.pl>

From weiqinwur at gmail.com  Tue May 27 14:26:03 2014
From: weiqinwur at gmail.com (Wei Qin)
Date: Tue, 27 May 2014 14:26:03 +0200
Subject: [R] How to add break in axis for grouped barplot?
In-Reply-To: <3472487.K7mFvkb4HF@localhost.localdomain>
References: <CALUNEofosKbY=YP5guXwoVyRcF3cxw2b1h8cVALVp+W9hcb8WQ@mail.gmail.com>
	<3472487.K7mFvkb4HF@localhost.localdomain>
Message-ID: <CALUNEofCtXZjA6_H3hXJjASOwdbNsG27938tjdYprjxTDtKGoQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/f3039dc4/attachment.pl>

From jszhao at yeah.net  Tue May 27 18:28:48 2014
From: jszhao at yeah.net (Jinsong Zhao)
Date: Tue, 27 May 2014 09:28:48 -0700
Subject: [R] Size of win.metafile
In-Reply-To: <CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
References: <5383974B.8090309@yeah.net>
	<CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
Message-ID: <5384BD40.9050903@yeah.net>

Jean,

Thank you for checking the problem. I have the same software with you.

If I created plot with
windows(width = 4, height = 4, pointsize = 10)
plot(1:10)
Then I "copy as metafile" and paste it into Word. I can get the correct 
size.

However, if I select "save as metafile" and save it as "abc.emf", then I 
insert plot from file in Word. I get a plot with size 5.333" x 5.333" 
and font 16 pt. It's same as creating a plot with win.metafile().

I don't know why there is different.

P.S., I run R in a Windows 7 Pro. laptop with screen resolution 1388 x 
768 px and 96 dpi.

Best,
Jinsong

On 2014/5/27 5:51, Adams, Jean wrote:
> Jinsong,
>
> When I use your code to create the abcd.emf file, and then copy and
> paste it into Word, I end up with a 4" x 4" plot with 12 pt font, just
> as you intended.  I'm using R version 3.1.0, and Word 2010 version
> 14.0.7116.5000.  Not sure why it works differently for you.
>
> Jean
>
>
> On Mon, May 26, 2014 at 2:34 PM, Jinsong Zhao <jszhao at yeah.net
> <mailto:jszhao at yeah.net>> wrote:
>
>     Hi there,
>
>     I hope to use the emf plot produced by R in Word. However, I have
>     problems with setting the plot size. Here is a mini-example code:
>
>     win.metafile("abcd.emf", height =4, width=4)
>     plot(1:10)
>     dev.off()
>
>     I hope to get a emf plot with size 4x4in and pointsize 12pt.
>     However, I got a plot with size 5.333x5.333in and pointsize 16pt in
>     Word. It seems that the emf file report its resolution with 96dpi,
>     but Word assume it with 72dpi.
>
>     How to control on the dpi? (In my opinion, vector plot has nothing
>     to do with dpi). I just hope to control the size and pointsize with
>     something like the code above.
>
>     Any suggestions?
>
>     Best,
>     Jinsong
>


From quijote at gmx.net  Tue May 27 18:44:03 2014
From: quijote at gmx.net (phil)
Date: Tue, 27 May 2014 09:44:03 -0700 (PDT)
Subject: [R] Plot regression results with various predictors.
Message-ID: <1401209043426-4691307.post@n4.nabble.com>

Dear all,

I would like to know how to plot the results of a regression where various
predictors resulted significant. Further, I would like how to add the
regression line. Is that possible?

For instance, I have run POLS=plm() where 6 coefficients resulted
significant; then I would like to use plot=(POLS) adding further the
regression line to illustrate the results graphically.


Any help is highly appreciated. Thanks in advance.


Phil



--
View this message in context: http://r.789695.n4.nabble.com/Plot-regression-results-with-various-predictors-tp4691307.html
Sent from the R help mailing list archive at Nabble.com.


From marc_schwartz at me.com  Tue May 27 18:45:37 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 27 May 2014 11:45:37 -0500
Subject: [R] Login
In-Reply-To: <CAGfzE9WLcDaw-D7wtap3dWbE_uqYTKk0fkp2RwSzE455hYEy0w@mail.gmail.com>
References: <CAGfzE9WLcDaw-D7wtap3dWbE_uqYTKk0fkp2RwSzE455hYEy0w@mail.gmail.com>
Message-ID: <0B716812-14B6-424E-8C28-BD6676A4684B@me.com>


On May 27, 2014, at 4:46 AM, Andy Siddaway <andysiddaway at googlemail.com> wrote:

> Dear R help,
> 
> I cannot login to my account. I am keen to remove the posting I made to R
> help from google web searches - see
> http://r.789695.n4.nabble.com/R-software-installation-problem-td4659556.html
> 
> 
> Thanks,
> 
> Andy


You cannot. From the bottom of the R Posting Guide (http://www.r-project.org/posting-guide.html):

Posters should be aware that the R lists are public discussion lists and anything you post will be archived and accessible via several websites for many years.


There are a plethora of list archives on the web and there is no provision for removing specific posts from all sites that might possibly have a copy of your post. Google, by the way, is not the only search engine that will include and archive your post in searches.

Regards,

Marc Schwartz


From ggrothendieck at gmail.com  Tue May 27 19:03:06 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 27 May 2014 13:03:06 -0400
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
Message-ID: <CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>

On Tue, May 27, 2014 at 8:02 AM, Bastian P?schl <bstan0578 at gmail.com> wrote:
> Hallo,
> i try to draw a plot (plot.zoo) with a secondary y-axis.
> Further I want to draw reference lines.
> Unfortunately I do not manage to get control on the ticks, so that the
> reference lines match both- primary and secondary y-axis.
>
> Maybe someone already solved this problem??
>
> It would be great.
> Bastian
>
> Here is some code to ty out:
>
> ## R-Help 2014-05-27
> ## Test second. Y-Axix
> library("zoo")
>
> ## generate some smooth timeseries
> x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
> x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)
>
> z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.0000006)
> z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"),
> frequency=0.0000006)
> zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.00007)
>
> z<-merge(zt, z1, all = TRUE)
> z<-merge(z, z2, all = TRUE)
> Zf<-na.spline(z[,2:3], na.rm = FALSE)
> ##  ##  ##  ##
>
>
> ## Plot 1
> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
> #grid(col = "lightgray", lty = "dotted") ## this plots at weird ticks
> #abline(h=ablineticks, col = "lightgray", lty = "dotted") ## need to write
> a vector for matching lines
> ## The following line of z1 doesn't match the first
> opar <- par(usr = c(par("usr")[1:2],
> c(0,signif(max(na.omit(Zf$z1)*1.05),2))))
> axis(side = 4)
> mtext(ylab2, side = 4, line = 3, cex=0.7)
> lines(Zf$z1, lty=2)
> par(opar)
> ##  ##  ##  ##
>
> ## nice would be a sekundary axis of a second zoo series with ticks
> matching the first one
> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
> #grid(col = "lightgray", lty = "dotted") ## this plots at weird ticks
> #abline(h=ablineticks, col = "lightgray", lty = "dotted") ## need to write
> a vector for matching lines
> ## The following line of z1 doesn't match the first
> opar <- par(usr = c(par("usr")[1:2],
> c(0,signif(max(na.omit(Zf$z2)*1.05),2))))
> axis(side = 4)
> mtext(ylab2, side = 4, line = 3, cex=0.7)
> lines(Zf$z2, lty=2)
> par(opar)


If the question is how to replicate the left side vertical axis on the
right side and then draw horizontal grid lines at the tick marks then
try this:

plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
axis(4)
abline(h = axTicks(4), lty = "dotted")



-- 
Statistics & Software Consulting
GKX Group, GKX Associates Inc.
tel: 1-877-GKX-GROUP
email: ggrothendieck at gmail.com


From hill0093 at umn.edu  Tue May 27 19:17:03 2014
From: hill0093 at umn.edu (Hurr)
Date: Tue, 27 May 2014 10:17:03 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <C791A997-04F9-4960-97B6-4950D3092AAC@comcast.net>
References: <1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
	<3469076.Bj2Rrlr1Qy@localhost.localdomain>
	<1400986044715-4691204.post@n4.nabble.com>
	<C791A997-04F9-4960-97B6-4950D3092AAC@comcast.net>
Message-ID: <1401211023958-4691311.post@n4.nabble.com>

Thanks David,
I try and I wish I could benefit.
Sorry I'm too stupid to learn much the documentation.
There is so much of it and its interrelations not
easily determined and I can't figure out where to look.
It's hard to understand, but I try.
Hard for my friends too.
Now I have a quite nice graphic plot, 
and it prints as-is.
But if I try to stretch it manually or press the 
full-page button (Windows 7) it's ruined.
Hurr



--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691311.html
Sent from the R help mailing list archive at Nabble.com.


From boris.steipe at utoronto.ca  Tue May 27 19:32:56 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Tue, 27 May 2014 13:32:56 -0400
Subject: [R] Size of win.metafile
In-Reply-To: <5384BD40.9050903@yeah.net>
References: <5383974B.8090309@yeah.net>
	<CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
	<5384BD40.9050903@yeah.net>
Message-ID: <1BBA2404-51BF-4EDA-ACE6-E861A611CD50@utoronto.ca>

What does Word "think" the object's size is? Is it 4x4 scaled at 133% ? Or is it 5.33 x 5.33 scaled at 100%?

B.


> On May 27, 2014, at 12:28, Jinsong Zhao <jszhao at yeah.net> wrote:
> 
> Jean,
> 
> Thank you for checking the problem. I have the same software with you.
> 
> If I created plot with
> windows(width = 4, height = 4, pointsize = 10)
> plot(1:10)
> Then I "copy as metafile" and paste it into Word. I can get the correct size.
> 
> However, if I select "save as metafile" and save it as "abc.emf", then I insert plot from file in Word. I get a plot with size 5.333" x 5.333" and font 16 pt. It's same as creating a plot with win.metafile().
> 
> I don't know why there is different.
> 
> P.S., I run R in a Windows 7 Pro. laptop with screen resolution 1388 x 768 px and 96 dpi.
> 
> Best,
> Jinsong
> 
>> On 2014/5/27 5:51, Adams, Jean wrote:
>> Jinsong,
>> 
>> When I use your code to create the abcd.emf file, and then copy and
>> paste it into Word, I end up with a 4" x 4" plot with 12 pt font, just
>> as you intended.  I'm using R version 3.1.0, and Word 2010 version
>> 14.0.7116.5000.  Not sure why it works differently for you.
>> 
>> Jean
>> 
>> 
>> On Mon, May 26, 2014 at 2:34 PM, Jinsong Zhao <jszhao at yeah.net
>> <mailto:jszhao at yeah.net>> wrote:
>> 
>>    Hi there,
>> 
>>    I hope to use the emf plot produced by R in Word. However, I have
>>    problems with setting the plot size. Here is a mini-example code:
>> 
>>    win.metafile("abcd.emf", height =4, width=4)
>>    plot(1:10)
>>    dev.off()
>> 
>>    I hope to get a emf plot with size 4x4in and pointsize 12pt.
>>    However, I got a plot with size 5.333x5.333in and pointsize 16pt in
>>    Word. It seems that the emf file report its resolution with 96dpi,
>>    but Word assume it with 72dpi.
>> 
>>    How to control on the dpi? (In my opinion, vector plot has nothing
>>    to do with dpi). I just hope to control the size and pointsize with
>>    something like the code above.
>> 
>>    Any suggestions?
>> 
>>    Best,
>>    Jinsong
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From jszhao at yeah.net  Tue May 27 19:49:27 2014
From: jszhao at yeah.net (Jinsong Zhao)
Date: Tue, 27 May 2014 10:49:27 -0700
Subject: [R] Size of win.metafile
In-Reply-To: <1BBA2404-51BF-4EDA-ACE6-E861A611CD50@utoronto.ca>
References: <5383974B.8090309@yeah.net>
	<CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
	<5384BD40.9050903@yeah.net>
	<1BBA2404-51BF-4EDA-ACE6-E861A611CD50@utoronto.ca>
Message-ID: <5384D027.1020100@yeah.net>

On 2014/5/27 10:32, Boris Steipe wrote:
> What does Word "think" the object's size is? Is it 4x4 scaled at 133% ? Or is it 5.33 x 5.33 scaled at 100%?
>
> B.

Thanks for pointing me the scaling factor.

I checked them. For the plot pasted into Word, i.e., 4"x4", the plot is 
scaled at 75%. The original size is same as the one produced by 
``win.metafile'' and inserted into Word.

Now, it regresses to my original question.

Best,
Jinsong

>
>
>> On May 27, 2014, at 12:28, Jinsong Zhao <jszhao at yeah.net> wrote:
>>
>> Jean,
>>
>> Thank you for checking the problem. I have the same software with you.
>>
>> If I created plot with
>> windows(width = 4, height = 4, pointsize = 10)
>> plot(1:10)
>> Then I "copy as metafile" and paste it into Word. I can get the correct size.
>>
>> However, if I select "save as metafile" and save it as "abc.emf", then I insert plot from file in Word. I get a plot with size 5.333" x 5.333" and font 16 pt. It's same as creating a plot with win.metafile().
>>
>> I don't know why there is different.
>>
>> P.S., I run R in a Windows 7 Pro. laptop with screen resolution 1388 x 768 px and 96 dpi.
>>
>> Best,
>> Jinsong
>>
>>> On 2014/5/27 5:51, Adams, Jean wrote:
>>> Jinsong,
>>>
>>> When I use your code to create the abcd.emf file, and then copy and
>>> paste it into Word, I end up with a 4" x 4" plot with 12 pt font, just
>>> as you intended.  I'm using R version 3.1.0, and Word 2010 version
>>> 14.0.7116.5000.  Not sure why it works differently for you.
>>>
>>> Jean
>>>
>>>
>>> On Mon, May 26, 2014 at 2:34 PM, Jinsong Zhao <jszhao at yeah.net
>>> <mailto:jszhao at yeah.net>> wrote:
>>>
>>>     Hi there,
>>>
>>>     I hope to use the emf plot produced by R in Word. However, I have
>>>     problems with setting the plot size. Here is a mini-example code:
>>>
>>>     win.metafile("abcd.emf", height =4, width=4)
>>>     plot(1:10)
>>>     dev.off()
>>>
>>>     I hope to get a emf plot with size 4x4in and pointsize 12pt.
>>>     However, I got a plot with size 5.333x5.333in and pointsize 16pt in
>>>     Word. It seems that the emf file report its resolution with 96dpi,
>>>     but Word assume it with 72dpi.
>>>
>>>     How to control on the dpi? (In my opinion, vector plot has nothing
>>>     to do with dpi). I just hope to control the size and pointsize with
>>>     something like the code above.
>>>
>>>     Any suggestions?
>>>
>>>     Best,
>>>     Jinsong
>>


From jdnewmil at dcn.davis.CA.us  Tue May 27 19:56:40 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Tue, 27 May 2014 10:56:40 -0700
Subject: [R] Second axis on bottom of graph
In-Reply-To: <1401211023958-4691311.post@n4.nabble.com>
References: <1400607678558-4690912.post@n4.nabble.com>
	<DBF62630-4003-464E-80FB-2CBCC46C0C05@gmail.com>
	<1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
	<3469076.Bj2Rrlr1Qy@localhost.localdomain>
	<1400986044715-4691204.post@n4.nabble.com>
	<C791A997-04F9-4960-97B6-4950D3092AAC@comcast.net>
	<1401211023958-4691311.post@n4.nabble.com>
Message-ID: <e23d41f9-86ad-4019-a754-5cddd80dc04f@email.android.com>

Well, the short answer is "don't do that" (resize after the fact). Resize your graphic window first and then re-tune your annotations for that size.

The longer answer is that the lattice and ggplot2 packages were developed in part in response to the limitations of base graphics. They don't necessarily offer the kind of fine tuning you have been doing but they are generally resizeable and simpler to create as long as your graph type is supported. Unfortunately, each of them comes with a learning curve to get started, but they are available alternatives.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 27, 2014 10:17:03 AM PDT, Hurr <hill0093 at umn.edu> wrote:
>Thanks David,
>I try and I wish I could benefit.
>Sorry I'm too stupid to learn much the documentation.
>There is so much of it and its interrelations not
>easily determined and I can't figure out where to look.
>It's hard to understand, but I try.
>Hard for my friends too.
>Now I have a quite nice graphic plot, 
>and it prints as-is.
>But if I try to stretch it manually or press the 
>full-page button (Windows 7) it's ruined.
>Hurr
>
>
>
>--
>View this message in context:
>http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691311.html
>Sent from the R help mailing list archive at Nabble.com.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From boris.steipe at utoronto.ca  Tue May 27 20:06:49 2014
From: boris.steipe at utoronto.ca (Boris Steipe)
Date: Tue, 27 May 2014 14:06:49 -0400
Subject: [R] Size of win.metafile
In-Reply-To: <5384D027.1020100@yeah.net>
References: <5383974B.8090309@yeah.net>
	<CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
	<5384BD40.9050903@yeah.net>
	<1BBA2404-51BF-4EDA-ACE6-E861A611CD50@utoronto.ca>
	<5384D027.1020100@yeah.net>
Message-ID: <14A2D639-AA64-46BC-840C-499E9846F914@utoronto.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/3ccfdf67/attachment.pl>

From jszhao at yeah.net  Tue May 27 20:43:48 2014
From: jszhao at yeah.net (Jinsong Zhao)
Date: Tue, 27 May 2014 11:43:48 -0700
Subject: [R] Size of win.metafile
In-Reply-To: <14A2D639-AA64-46BC-840C-499E9846F914@utoronto.ca>
References: <5383974B.8090309@yeah.net>
	<CAN5YmCGc_jEP6eNmzsmsSnKQerCXAY+0E0DTrEhrUbnxCS5hCw@mail.gmail.com>
	<5384BD40.9050903@yeah.net>
	<1BBA2404-51BF-4EDA-ACE6-E861A611CD50@utoronto.ca>
	<5384D027.1020100@yeah.net>
	<14A2D639-AA64-46BC-840C-499E9846F914@utoronto.ca>
Message-ID: <5384DCE4.2090309@yeah.net>

On 2014/5/27 11:06, Boris Steipe wrote:
> I thought so. The behaviour differs when inserting and pasting. See:
> http://support.microsoft.com/kb/926317
>
> Googling for how to turn this autoscaling nonsense off did not yield an
> obvious result. This probably means that you'll need to adjust your
> workflow instead, e.g. by increasing the margins so your actual graph
> has the right size when the inserted object occupies the full page
> width; or possibly using a different format (pdf?). I can't help you
> further, I don't use Windows.
>
> Good luck,
> Boris
>

Thank you very much for your help.

My question is about the dpi information in emf file. Although vector 
image has noting to do with dpi, I check the property of emf file using 
``mspaint'', which display the figure in 96 dpi with size  384x384 px.

In the help file of ``win.metafile'', the xpinch and ypinch may have 
something to do with the size of emf file. However, when setting it to 
72 by windows.options, only the display size in screen has been changed. 
It don't affect the actual plot size when saving it as emf file. It also 
384x384px instead of 288x288px.

Best,
Jinsong

>
>
> On May 27, 2014, at 13:49, Jinsong Zhao <jszhao at yeah.net
> <mailto:jszhao at yeah.net>> wrote:
>
>> On 2014/5/27 10:32, Boris Steipe wrote:
>>> What does Word "think" the object's size is? Is it 4x4 scaled at 133%
>>> ? Or is it 5.33 x 5.33 scaled at 100%?
>>>
>>> B.
>>
>> Thanks for pointing me the scaling factor.
>>
>> I checked them. For the plot pasted into Word, i.e., 4"x4", the plot
>> is scaled at 75%. The original size is same as the one produced by
>> ``win.metafile'' and inserted into Word.
>>
>> Now, it regresses to my original question.
>>
>> Best,
>> Jinsong
>>
>>>
>>>
>>>> On May 27, 2014, at 12:28, Jinsong Zhao <jszhao at yeah.net
>>>> <mailto:jszhao at yeah.net>> wrote:
>>>>
>>>> Jean,
>>>>
>>>> Thank you for checking the problem. I have the same software with you.
>>>>
>>>> If I created plot with
>>>> windows(width = 4, height = 4, pointsize = 10)
>>>> plot(1:10)
>>>> Then I "copy as metafile" and paste it into Word. I can get the
>>>> correct size.
>>>>
>>>> However, if I select "save as metafile" and save it as "abc.emf",
>>>> then I insert plot from file in Word. I get a plot with size 5.333"
>>>> x 5.333" and font 16 pt. It's same as creating a plot with
>>>> win.metafile().
>>>>
>>>> I don't know why there is different.
>>>>
>>>> P.S., I run R in a Windows 7 Pro. laptop with screen resolution 1388
>>>> x 768 px and 96 dpi.
>>>>
>>>> Best,
>>>> Jinsong
>>>>
>>>>> On 2014/5/27 5:51, Adams, Jean wrote:
>>>>> Jinsong,
>>>>>
>>>>> When I use your code to create the abcd.emf file, and then copy and
>>>>> paste it into Word, I end up with a 4" x 4" plot with 12 pt font, just
>>>>> as you intended.  I'm using R version 3.1.0, and Word 2010 version
>>>>> 14.0.7116.5000.  Not sure why it works differently for you.
>>>>>
>>>>> Jean
>>>>>
>>>>>
>>>>> On Mon, May 26, 2014 at 2:34 PM, Jinsong Zhao <jszhao at yeah.net
>>>>> <mailto:jszhao at yeah.net>
>>>>> <mailto:jszhao at yeah.net>> wrote:
>>>>>
>>>>>    Hi there,
>>>>>
>>>>>    I hope to use the emf plot produced by R in Word. However, I have
>>>>>    problems with setting the plot size. Here is a mini-example code:
>>>>>
>>>>>    win.metafile("abcd.emf", height =4, width=4)
>>>>>    plot(1:10)
>>>>>    dev.off()
>>>>>
>>>>>    I hope to get a emf plot with size 4x4in and pointsize 12pt.
>>>>>    However, I got a plot with size 5.333x5.333in and pointsize 16pt in
>>>>>    Word. It seems that the emf file report its resolution with 96dpi,
>>>>>    but Word assume it with 72dpi.
>>>>>
>>>>>    How to control on the dpi? (In my opinion, vector plot has nothing
>>>>>    to do with dpi). I just hope to control the size and pointsize with
>>>>>    something like the code above.
>>>>>
>>>>>    Any suggestions?
>>>>>
>>>>>    Best,
>>>>>    Jinsong
>>>>
>>


From smartpink111 at yahoo.com  Tue May 27 20:42:25 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 11:42:25 -0700 (PDT)
Subject: [R] Random Block
Message-ID: <1401216145.40816.YahooMailNeo@web142604.mail.bf1.yahoo.com>

Hi,
Please post in plain text and show the example using ?dput.


Assuming that you wanted a "data.frame" and not a "list"

May be this helps:

set.seed(428)
dat1 <- data.frame(`block identifier`=rep(1:40,each=12),`block size`=12,`sequence within block`=rep(1:12,40), treatment=sample(paste("Group", LETTERS[1:2]), 12*40, replace=TRUE),age65= rep(sample(c("yes","no"), 40, replace=TRUE),each=12), surgery = rep(sample(c("yes","no"),40, replace=TRUE), each=12), smoke=rep(sample(c("Yes","No"), 40, replace=TRUE), each=12), check.names=FALSE,stringsAsFactors=FALSE)


A.K.



Dear R-listers,
I am using R 3.1, I amtrying to generate 40 patients in each treatment group with 12 block,? Equal number of treatment in each block ,using stratification Variable age65(yes, no),surgery(yes ,no) and smoke (yes, no)
?
How can i creat like thislist in R.
?
?
?
block identifier
?
?
?
?block size
?
?
?
?sequence? within block
?
?
?
?treatment
?
?
?
?age65
?
?
?
?surgery
?
?
?
?smoke
?
?
?
?
?
1
?
?
?
12
?
?
?
1
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
2
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
3
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
4
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
5
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
6
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
7
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
8
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
9
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
10
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
11
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
1
?
?
?
12
?
?
?
12
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
Yes
?
?
?
?
?
2
?
?
?
12
?
?
?
1
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
2
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
3
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
4
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
5
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
6
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
7
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
8
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
9
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
10
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
11
?
?
?
Group A
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?
?
?
?
2
?
?
?
12
?
?
?
12
?
?
?
Group B
?
?
?
yes
?
?
?
yes
?
?
?
no
?
?

?
I am very appreciate yourtime to answer my question
?
Thanks
Sug


From vweinbir at gmail.com  Tue May 27 22:06:38 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Tue, 27 May 2014 22:06:38 +0200
Subject: [R] Dataframe: Average cells of two rows and replace them with one
	row
Message-ID: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/bfcc5cb6/attachment.pl>

From 538280 at gmail.com  Tue May 27 22:13:50 2014
From: 538280 at gmail.com (Greg Snow)
Date: Tue, 27 May 2014 14:13:50 -0600
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
Message-ID: <CAFEqCdyTme0O+51hT0BSHVRRE9riTmdVg3EZOJ6S+0vqB5wi=A@mail.gmail.com>

Look at the aggregate function.  As long as you have a column like
Name that indicates which rows should be averaged together it will
work (technically it will average the other rows as well, but since
the average of 1 number is that number you will not see a difference).

On Tue, May 27, 2014 at 2:06 PM, Verena Weinbir <vweinbir at gmail.com> wrote:
> Hello,
>
> I have a big dataframe, and want to average two specific cells of two
> specific rows and then replace those two rows with one row which contains
> the averaged cells. Example (row 3 and 4: Cells2 and Cells3 averaged and
> replaced)
>
>     NameC1 C2 C3
>   1  A  3  3  5
>   2  B  2  7  4
>   3  C  4  3  3
>   4  C  4  4  6
>   5  D  5  5  3
>
>
>
>     NameC1 C2  C3
>   1  A  3  3   5
>   2  B  2  7   4
>   3  C  4  3.5 4.5  4  D  5  5   3
>
>
> Many thanks in advance!
>
> Best,
>
> Verena
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From ruipbarradas at sapo.pt  Tue May 27 22:24:53 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Tue, 27 May 2014 21:24:53 +0100
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
Message-ID: <5384F495.1080807@sapo.pt>

Hello,

Try the following.

dat <- read.table(text = "
Name C1 C2 C3
   1  A  3  3  5
   2  B  2  7  4
   3  C  4  3  3
   4  C  4  4  6
   5  D  5  5  3
", header = TRUE)

str(dat)

aggregate(dat[, -1], list(dat$Name), mean)


Hope this helps,

Rui Barradas

Em 27-05-2014 21:06, Verena Weinbir escreveu:
> Hello,
>
> I have a big dataframe, and want to average two specific cells of two
> specific rows and then replace those two rows with one row which contains
> the averaged cells. Example (row 3 and 4: Cells2 and Cells3 averaged and
> replaced)
>
>      NameC1 C2 C3
>    1  A  3  3  5
>    2  B  2  7  4
>    3  C  4  3  3
>    4  C  4  4  6
>    5  D  5  5  3
>
>
>
>      NameC1 C2  C3
>    1  A  3  3   5
>    2  B  2  7   4
>    3  C  4  3.5 4.5  4  D  5  5   3
>
>
> Many thanks in advance!
>
> Best,
>
> Verena
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From chrissair at gmx.net  Tue May 27 22:25:44 2014
From: chrissair at gmx.net (ChrisR)
Date: Tue, 27 May 2014 13:25:44 -0700 (PDT)
Subject: [R] ICL for betamix()
Message-ID: <1401222344249-4691328.post@n4.nabble.com>

Hi,
I am running beta mixture regressions using the betamix()  command from the
package 'betareg' (3.0-4). I In order to inform the choice about the number
of latent classes I took a look at the various information criteria (AIC,
BIC, ICL) and learnt that the integrated completed likelihood (ICL) is
viewed as the gold standard in determining the number of classes in mixture
models. I noticed, however, that betamix() does not inheret ICL() from the
flexmix() package. Is there a reason for this? And how can I manually
calculate the ICL for a given betamix() object?

Thanks for input,
Chris



--
View this message in context: http://r.789695.n4.nabble.com/ICL-for-betamix-tp4691328.html
Sent from the R help mailing list archive at Nabble.com.


From r.turner at auckland.ac.nz  Tue May 27 23:42:37 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 28 May 2014 09:42:37 +1200
Subject: [R] Install Windows/R/.zip package under Linux/R
In-Reply-To: <trinity-c9c38b5d-b5c8-403b-8dfa-e3a56b29322a-1401197330467@3capp-gmx-bs16>
References: <trinity-c9c38b5d-b5c8-403b-8dfa-e3a56b29322a-1401197330467@3capp-gmx-bs16>
Message-ID: <538506CD.4020504@auckland.ac.nz>

On 28/05/14 01:28, will.eagle at gmx.net wrote:
>
>     Dear all,
>
>     how can I install the Windows/R package
>     http://www.ssg.uab.edu/bhglm/files/BhGLM_1.0.zip
>     under Linux/R?
>
>     There is no CRAN package.
>     Simply, applying gunzip, tar -czvf, R CMD INSTALL *.tar.gz did not work.

Don't mess about tarring up the results of unzipping.

In some temporary directory, simply:

     unzip BhGLM_1.0.zip
     cp -r BhGLM <the appropriate library>

where "<the appropriate library>" is the library where you keep your
installed additional packages.  I did

     cp -r BhGLM ~/Rlib

since I keep my add-on packages in ~/Rlib.

Some people just use the "system" library; e.g.
/usr/local/lib64/R/library; you will need to assume superuser privileges 
(use sudo, perhaps) to copy the package to that location.

It's as easy as that.

cheers,

Rolf Turner


From r.turner at auckland.ac.nz  Tue May 27 23:54:33 2014
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 28 May 2014 09:54:33 +1200
Subject: [R] seeking latex peace
In-Reply-To: <35042624.UIgP3nDFGo@localhost.localdomain>
References: <1910120.eozsCGXcKS@localhost.localdomain>
	<20140526094345.bbadbbe4541ea02cbe7bb799@inbox.com>
	<6949204.Y5vZNE7An0@localhost.localdomain>
	<35042624.UIgP3nDFGo@localhost.localdomain>
Message-ID: <53850999.6060302@auckland.ac.nz>

On 28/05/14 00:48, Jim Lemon wrote:
> Hi all,
> I thought it was all over, but when I started my R help (help.start()) to
> check something, none of the help files in plotrix were available, each
> displaying an error message that some 2-3 Gb of memory could not be
> allocated. The same message appeared when I tried to get text help in
> the R console. I have just removed all 505 texlive packages, rebuilt
> plotrix_3.5-7 and reinstalled it. Now the help pages all work properly. If
> this has done something awful to the latest version of plotrix, please let
> me know and I will try to fix it.


I just installed version 3.5-7 from CRAN and as far as I can tell there 
are no problems @ all.

Don't understand @ all when you say that you removed the texlive 
packages; from where? From your system?  What effect would this have on 
plotrix? Or from the plotrix package? If the latter, they should never 
have been there in the first place.

cheers,

Rolf


From eliza_botto at hotmail.com  Wed May 28 00:47:18 2014
From: eliza_botto at hotmail.com (eliza botto)
Date: Tue, 27 May 2014 22:47:18 +0000
Subject: [R] row mean
Message-ID: <BLU170-W8321FAA2234E1EDBEABBD4893A0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/3d4c8716/attachment.pl>

From dwinsemius at comcast.net  Wed May 28 01:08:12 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 27 May 2014 16:08:12 -0700
Subject: [R] reference category in binomal glm
In-Reply-To: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
References: <CAOQHXPoXf0yktb18DuZ5aajfbPcSKReUFb7U2Q0t7h2DHYH1qQ@mail.gmail.com>
Message-ID: <3EFD5A8B-726A-4545-A520-2A6C355FFF95@comcast.net>


On May 27, 2014, at 1:51 AM, Xebar Saram wrote:

> Hi all
> 
> i know this is probably a silly question but im wondering what is the
> 'reference' category when you run a binomal glm. that is my outcome/DV is
> 0,1 and i run a regression and get coefficients. do the coefficients refer
> to the probability to get 0 or 1?

No, would be my quick answer.

With logistic regression, i.e., "binomial glm", the coefficients are the log-odds of an outcome of 1 minus the log-odds of an outcome of 0 for a one unit change or difference in the predictor whose effect is being estimated. This is known log of the "odds ratio" or the logit (since subtraction on the log-odds scale is equivalent to division on the odds-ratio scale.)

When you ask about a "reference level", it is unclear whether you refer to the reference level for factor coefficients or your are talking about the reference level for the response.

With the use of 'predict.glm' (called form by the use of 'predict(.)" with a glm fit), you have a choice of specifying whether you want the "type" to be "response" to return the probabilities or "terms" to return the usual coefficients on the log-odds scale.

See:

?predict.glm

> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Wed May 28 01:15:53 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 27 May 2014 16:15:53 -0700
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
References: <COL130-W9459E2AD38AD8CEFB02699FA3A0@phx.gbl>
Message-ID: <96875969-2F43-4EB2-942B-17EF07295F6A@comcast.net>


On May 27, 2014, at 3:54 AM, Kristi Glover wrote:

> 
> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L, 
> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v", 
> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L, 
> 4L, 1L, 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb", 
> "sc", "sd", "se", "sg"), class = "factor"), abundance = c(31L, 
> 55L, 62L, 42L, 40L, 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L
> )), .Names = c("siteS", "species", "abundance"), class = "data.frame", row.names = c(NA, 
> -14L))
> 
> I wanted to have this data into following format
> 
> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L), .Label = c("11a", 
> "12d", "1a", "2v", "6a"), class = "factor"), sa = c(31L, 42L, 
> 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc = c(62L, NA, 
> 10L, 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L, 
> NA, NA), sg = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa", 
> "sb", "sc", "sd", "se", "sg"), class = "data.frame", row.names = c(NA, 
> -5L))

> xtdat <- xtabs( abundance ~ siteS + species, data)

# Zeros rather than NA

> require(gtools)   # for mixedsort()
Loading required package: gtools

> xtdat2 <- xtdat[ mixedsort(dimnames(xtdat)[[1]]) ,]
> is.na(xtdat2) <- xtdat2==0
> xtdat2
     species
siteS sa sb sc sd se sg
  1a  31 55 62 NA NA NA
  2v  42 NA NA 40 NA NA
  6a  30 23 74 84 10 NA
  11a 11 NA 37 NA NA 51
  12d 15 NA NA NA NA NA

-- 


David Winsemius
Alameda, CA, USA


From smartpink111 at yahoo.com  Wed May 28 03:42:17 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 18:42:17 -0700 (PDT)
Subject: [R] row mean
In-Reply-To: <BLU170-W8321FAA2234E1EDBEABBD4893A0@phx.gbl>
References: <BLU170-W8321FAA2234E1EDBEABBD4893A0@phx.gbl>
Message-ID: <1401241337.57616.YahooMailNeo@web142605.mail.bf1.yahoo.com>



Hi Eliza,
May be this helps:
lapply(split(seq_len(nrow(AAA)),((seq_len(nrow(AAA))-1)%%12)+1),function(i) AAA[i,])
A.K.


On Tuesday, May 27, 2014 6:48 PM, eliza botto <eliza_botto at hotmail.com> wrote:
Dear R family,
I have this matrix say
AAA<-matrix(sample(1:240),ncol=2)
I first want to combine every 13th row in both columns. precisely, starting from row-1 1,13,25,37,49,.... then starting from row-2 
2,14,26,38,50 also 3,15,27,39,51 and similarly starting from row 4, row number 5, row 6... till 12th row,for both columns. so in a way 
we will have list of 12 matrices each with 10 rows and 2 columns. 
Finally, I want to calculate mean of each column of each matrix in that list, while keeping the integrity of the list intact. 
Kindly Advice!

Thankyou very much indeed in advance.
Eliza 

??? ???  ??? ?  ??? ??? ? 
??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Wed May 28 03:43:44 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 18:43:44 -0700 (PDT)
Subject: [R] row mean
In-Reply-To: <1401241337.57616.YahooMailNeo@web142605.mail.bf1.yahoo.com>
References: <BLU170-W8321FAA2234E1EDBEABBD4893A0@phx.gbl>
	<1401241337.57616.YahooMailNeo@web142605.mail.bf1.yahoo.com>
Message-ID: <1401241424.88815.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Forgot, about the mean:
lapply(split(seq_len(nrow(AAA)),((seq_len(nrow(AAA))-1)%%12)+1),function(i) colMeans(AAA[i,]))
A.K.


On , arun <smartpink111 at yahoo.com> wrote:


Hi Eliza,
May be this helps:
lapply(split(seq_len(nrow(AAA)),((seq_len(nrow(AAA))-1)%%12)+1),function(i) AAA[i,])
A.K.





On Tuesday, May 27, 2014 6:48 PM, eliza botto <eliza_botto at hotmail.com> wrote:
Dear R family,
I have this matrix say
AAA<-matrix(sample(1:240),ncol=2)
I first want to combine every 13th row in both columns. precisely, starting from row-1 1,13,25,37,49,.... then starting from row-2 
2,14,26,38,50 also 3,15,27,39,51 and similarly starting from row 4, row number 5, row 6... till 12th row,for both columns. so in a way 
we will have list of 12 matrices each with 10 rows and 2 columns. 
Finally, I want to calculate mean of each column of each matrix in that list, while keeping the integrity of the list intact. 
Kindly Advice!

Thankyou very much indeed in advance.
Eliza 

??? ???? ??? ?? ??? ??? ? 
??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Wed May 28 03:48:05 2014
From: smartpink111 at yahoo.com (arun)
Date: Tue, 27 May 2014 18:48:05 -0700 (PDT)
Subject: [R] Dataframe: Average cells of two rows and replace them with
	one	row
In-Reply-To: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
Message-ID: <1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>

Hi,
You can also try:
dat <- read.table(text="Name C1 C2 C3
? 1? A? 3? 3? 5
? 2? B? 2? 7? 4
? 3? C? 4? 3? 3
? 4? C? 4? 4? 6
? 5? D? 5? 5? 3",sep="",header=TRUE,stringsAsFactors=FALSE)


?library(plyr)
?ddply(dat,.(Name),numcolwise(mean,na.rm=TRUE))
A.K.


On Tuesday, May 27, 2014 4:08 PM, Verena Weinbir <vweinbir at gmail.com> wrote:
Hello,

I have a big dataframe, and want to average two specific cells of two
specific rows and then replace those two rows with one row which contains
the averaged cells. Example (row 3 and 4: Cells2 and Cells3 averaged and
replaced)

? ? NameC1 C2 C3
? 1? A? 3? 3? 5
? 2? B? 2? 7? 4
? 3? C? 4? 3? 3
? 4? C? 4? 4? 6
? 5? D? 5? 5? 3



? ? NameC1 C2? C3
? 1? A? 3? 3?  5
? 2? B? 2? 7?  4
? 3? C? 4? 3.5 4.5? 4? D? 5? 5?  3


Many thanks in advance!

Best,

Verena

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From jane.eco at gmail.com  Tue May 27 18:39:23 2014
From: jane.eco at gmail.com (Jane Shevtsov)
Date: Tue, 27 May 2014 09:39:23 -0700
Subject: [R] Problem Creating Partial Dependence Plot
In-Reply-To: <CAN5YmCFeo9ap2Sq0ZBWMqHWo2nF01dLCFrfkpRiCAjtPuzu4Uw@mail.gmail.com>
References: <CAE6akwR4-c1KqDpS2RAkkB-0OLL-jc5FOQFjOu0ghrkp8ovLyQ@mail.gmail.com>
	<CAN5YmCFeo9ap2Sq0ZBWMqHWo2nF01dLCFrfkpRiCAjtPuzu4Uw@mail.gmail.com>
Message-ID: <CAE6akwShor0W1S90O+H1RSQdNKZaU_ybG=F11ZN+Q_nVLarcDA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140527/b77638ad/attachment.pl>

From ii54250 at msn.com  Wed May 28 02:20:33 2014
From: ii54250 at msn.com (ioanna ioannou)
Date: Wed, 28 May 2014 01:20:33 +0100
Subject: [R] LInes with types
Message-ID: <DUB126-DS209E1F1E2372F8A4B6B6BFF3250@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/63aa4ddb/attachment.pl>

From jim at bitwrit.com.au  Wed May 28 09:03:00 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Wed, 28 May 2014 17:03 +1000
Subject: [R] LInes with types
In-Reply-To: <DUB126-DS209E1F1E2372F8A4B6B6BFF3250@phx.gbl>
References: <DUB126-DS209E1F1E2372F8A4B6B6BFF3250@phx.gbl>
Message-ID: <2438302.f30B79TMku@localhost.localdomain>

On Wed, 28 May 2014 01:20:33 AM ioanna ioannou wrote:
> X1<-c(0,1,2,3,4)
> 
> Y1<-c(0,1,2,3,4)
> 
>  
> 
> Y2<-c(5,6,7,8,9)
> 
>  
> 
> Y3<-(32,33,34,35,36)
> 
>  
> 
> plot(X1,Y3,pch=20)
> 
> lines(X1,Y1,lty=1,type='o')
> 
> lines(X1,Y2,lty=1,type='b')
> 
> lines(X1,Y3,lty=2)

Hi Ioanna,
You actually have three lines, and on that basis I suggest (with corrected 
example):

X1<-c(0,1,2,3,4)
Y1<-c(0,1,2,3,4)
Y2<-c(5,6,7,8,9)
Y3<-c(32,33,34,35,36)
plot(X1,Y3,pch=20,ylim=c(0,36))
lines(X1,Y1,lty=1,type='o')
lines(X1,Y2,lty=1,type='b')
lines(X1,Y3,lty=2)
legend(1.5,25,paste("Number",1:3),lty=c(1,1,3),pch=c(1,1,20))

Jim


From smartpink111 at yahoo.com  Wed May 28 09:42:19 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 28 May 2014 00:42:19 -0700 (PDT)
Subject: [R] I Need Help with AMMI
Message-ID: <1401262939.2714.YahooMailNeo@web142606.mail.bf1.yahoo.com>

HI,
data6$Gen=paste("G",data6$Gen,sep="")
#Error in paste("G", data6$Gen, sep = "") : object 'data6' not found


Please check this link:
http://stackoverflow.com/questions/7027288/error-could-not-find-function-in-r

A.K.




R-Community,
I am new to r. I have used SAS all my life. SO, here I am trying to use AMMI with agricolae package. Each time I have tried to run the program, I get the message that says, " [error: could not find function "ammi"]". What could possibly be happening?

Noble

(Here is my code)

data6$Gen=paste("G",data6$Gen,sep="")
G=data6$Geno
E=data6$Env
TW=data6$TW
n=length(TW)
Rep=rep(1,n)? ## Replication is needed for AMMI analysis. If there is no replication, just assign column of 1

par(mfrow=c(1,1))
#model<- ammi(E, G, Rep, TW,graph="biplot")
model=ammi(E, G, Rep, TW,graph="biplot",number=FALSE)

biplot<-model$biplot[,1:4]
head(biplot)

#attach(biplot)
#par(cex=0.8)
#length(biplot$PWT)
par(mfrow=c(1,1))
plot(biplot$TW,biplot$PC1,cex=0.0,text(biplot$TW,biplot$PC1,labels=row.names(biplot),col="blue"),
?main="AMMI BIPLOT",ylab="PC1",xlab="Test Weight", frame=TRUE)? ##Bioplot based actual mean and PC1

MEANS<-mean(TW)
abline(h=0,v= MEANS,lty=2,col="red")

names=rownames(bplot)
id=which(biplot$type=="ENV")
enames=names[id]
y=biplot[,2][id]
pc1=biplot[,3][id]
s <- seq(enames)
arrows(MEANS, 0, y[s], pc1[s], col = "brown", lwd = 1.8, length = 0.1, code = 2) 



From petr.pikal at precheza.cz  Wed May 28 10:23:50 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Wed, 28 May 2014 08:23:50 +0000
Subject: [R] Plot regression results with various predictors.
In-Reply-To: <1401209043426-4691307.post@n4.nabble.com>
References: <1401209043426-4691307.post@n4.nabble.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2257@SRVEXCHMBX.precheza.cz>

Hi

What is plm?

What is plot=(POLS), how do you expect this to be working?

Many modelling methods have some kind of plotting functions. Does plm, regardless what it is, have some?

Regards
Petr

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of phil
> Sent: Tuesday, May 27, 2014 6:44 PM
> To: r-help at r-project.org
> Subject: [R] Plot regression results with various predictors.
>
> Dear all,
>
> I would like to know how to plot the results of a regression where
> various predictors resulted significant. Further, I would like how to
> add the regression line. Is that possible?
>
> For instance, I have run POLS=plm() where 6 coefficients resulted
> significant; then I would like to use plot=(POLS) adding further the
> regression line to illustrate the results graphically.
>
>
> Any help is highly appreciated. Thanks in advance.
>
>
> Phil
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Plot-
> regression-results-with-various-predictors-tp4691307.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From alexander.ketonen at hotmail.com  Wed May 28 09:29:43 2014
From: alexander.ketonen at hotmail.com (Alexander Ketonen)
Date: Wed, 28 May 2014 09:29:43 +0200
Subject: [R] mle together with pnorm
Message-ID: <DUB112-W96D171657E468A2AA26BA7FD250@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/519633df/attachment.pl>

From ii54250 at msn.com  Wed May 28 10:21:58 2014
From: ii54250 at msn.com (IOANNA)
Date: Wed, 28 May 2014 09:21:58 +0100
Subject: [R] Legend having lines with different types
Message-ID: <DUB126-DS14A771C698F67EF3967EDCF3250@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/1ef6f305/attachment.pl>

From bstan0578 at gmail.com  Wed May 28 10:28:03 2014
From: bstan0578 at gmail.com (=?UTF-8?Q?Bastian_P=C3=B6schl?=)
Date: Wed, 28 May 2014 10:28:03 +0200
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
	<CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
Message-ID: <CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>

Ein eingebundener Text mit undefiniertem Zeichensatz wurde abgetrennt.
Name: nicht verf?gbar
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/d8e522b3/attachment.pl>

From smartpink111 at yahoo.com  Wed May 28 10:22:56 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 28 May 2014 01:22:56 -0700 (PDT)
Subject: [R] row mean
In-Reply-To: <BLU170-W6502211287E99DE7AA7BDD89250@phx.gbl>
References: <BLU170-W8321FAA2234E1EDBEABBD4893A0@phx.gbl>
	<1401241337.57616.YahooMailNeo@web142605.mail.bf1.yahoo.com>,
	<1401241424.88815.YahooMailNeo@web142604.mail.bf1.yahoo.com>
	<BLU170-W6502211287E99DE7AA7BDD89250@phx.gbl>
Message-ID: <1401265376.81477.YahooMailNeo@web142601.mail.bf1.yahoo.com>

Hi Eliza,
No problem.
You can also do:
lst1 <- vector("list",12)
for(i in seq_along(lst1)) lst1[[i]] <- colMeans(AAA[seq(i,nrow(AAA), by=12),])
A.K.





On Wednesday, May 28, 2014 4:17 AM, eliza botto <eliza_botto at hotmail.com> wrote:



Thankyou very much dennis and arun,


The codes worked as ever.

:D

Eliza


> Date: Tue, 27 May 2014 18:43:44 -0700
> From: smartpink111 at yahoo.com
> Subject: Re: [R] row mean
> To: r-help at r-project.org
> CC: eliza_botto at hotmail.com
> 
> 
> 
> Forgot, about the mean:
> lapply(split(seq_len(nrow(AAA)),((seq_len(nrow(AAA))-1)%%12)+1),function(i) colMeans(AAA[i,]))
> A.K.
> 
> 
> On , arun <smartpink111 at yahoo.com> wrote:
> 
> 
> Hi Eliza,
> May be this helps:
> lapply(split(seq_len(nrow(AAA)),((seq_len(nrow(AAA))-1)%%12)+1),function(i) AAA[i,])
> A.K.
> 
> 
> 
> 
> 
> On Tuesday, May 27, 2014 6:48 PM, eliza botto <eliza_botto at hotmail.com> wrote:
> Dear R family,
> I have this matrix say
> AAA<-matrix(sample(1:240),ncol=2)
> I first want to combine every 13th row in both columns. precisely, starting from row-1 1,13,25,37,49,.... then starting from row-2 
> 2,14,26,38,50 also 3,15,27,39,51 and similarly starting from row 4, row number 5, row 6... till 12th row,for both columns. so in a way 
> we will have list of 12 matrices each with 10 rows and 2 columns. 
> Finally, I want to calculate mean of each column of each matrix in that list, while keeping the integrity of the list intact. 
> Kindly Advice!
> 
> Thankyou very much indeed in advance.
> Eliza 
> 
> ??? ???? ??? ?? ??? ??? ? 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From quijote at gmx.net  Wed May 28 10:41:10 2014
From: quijote at gmx.net (phil)
Date: Wed, 28 May 2014 01:41:10 -0700 (PDT)
Subject: [R] Plot regression results with various predictors.
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2257@SRVEXCHMBX.precheza.cz>
References: <1401209043426-4691307.post@n4.nabble.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2257@SRVEXCHMBX.precheza.cz>
Message-ID: <1401266470960-4691355.post@n4.nabble.com>

Sorry for not explaining it further. plm() is the regression command for
panel data, i.e., similar to lm() for simple linear regressions. I run the
plm() and get an output which I call here POLS. Next I simply use plot(POLS)
which looks like 
<http://r.789695.n4.nabble.com/file/n4691355/plot_of_results_-_forum.jpg>  

I am not totally unhappy about this plot. But my main problem is what is the
indication of the axis. About the y-axis I know that it is my response
variable. But what is plotted on the x-axis?

Further, how can I implement the regression line? And obviously, what about
adding a legend for the points since each color represents a different
country in my case.

I hope I could clarify my problem a little bit. Do you have any suggestions?



--
View this message in context: http://r.789695.n4.nabble.com/Plot-regression-results-with-various-predictors-tp4691307p4691355.html
Sent from the R help mailing list archive at Nabble.com.


From petr.pikal at precheza.cz  Wed May 28 11:54:08 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Wed, 28 May 2014 09:54:08 +0000
Subject: [R] Plot regression results with various predictors.
In-Reply-To: <1401266470960-4691355.post@n4.nabble.com>
References: <1401209043426-4691307.post@n4.nabble.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2257@SRVEXCHMBX.precheza.cz>
	<1401266470960-4691355.post@n4.nabble.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD22B1@SRVEXCHMBX.precheza.cz>

Hi


> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of phil
> Sent: Wednesday, May 28, 2014 10:41 AM
> To: r-help at r-project.org
> Subject: Re: [R] Plot regression results with various predictors.
>
> Sorry for not explaining it further. plm() is the regression command
> for panel data, i.e., similar to lm() for simple linear regressions. I
> run the
> plm() and get an output which I call here POLS. Next I simply use
> plot(POLS) which looks like
> <http://r.789695.n4.nabble.com/file/n4691355/plot_of_results_-
> _forum.jpg>
>
> I am not totally unhappy about this plot. But my main problem is what
> is the indication of the axis. About the y-axis I know that it is my
> response variable. But what is plotted on the x-axis?

I am not familiar with plm function, in documentation there is no plot method indicated but it definitely has plot method.

See
methods(plot)

Because plot.plm is nonvisible you cannot see the code just by plot.plm but you can see the code of plotting function by

plm:::plot.plm

To see what the function is really plotting you can go through source code and/or debug and inspect each object produced by the function
debug(plm:::plot.plm)
plot(POLS)

I get also this error which means that the plot.plm function is not working properly even with toy data from package (Produc)
Error in xy.coords(x, y) : 'x' and 'y' lengths differ

It ends on this line after plotting points and axes.
debug: lines(c(xmin, xmax), c(ymin, ymax), col = cols[i])

So try to address directly the maintainer.

Regards
Petr


>
> Further, how can I implement the regression line? And obviously, what
> about adding a legend for the points since each color represents a
> different country in my case.
>
> I hope I could clarify my problem a little bit. Do you have any
> suggestions?
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Plot-
> regression-results-with-various-predictors-tp4691307p4691355.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From ggrothendieck at gmail.com  Wed May 28 12:56:24 2014
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 28 May 2014 06:56:24 -0400
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
	<CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
	<CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>
Message-ID: <CAP01uR=91+H8C05paYRn5VnYEEY3yd1YeMBnJzrXAJu-bZfNkg@mail.gmail.com>

On Wed, May 28, 2014 at 4:28 AM, Bastian P?schl <bstan0578 at gmail.com> wrote:
> Thank you for the quick reply,
>
> your advice wasn't exactly what I was looking for.
> The plot 1 of the example was ment to show my problem:
> the secondary axis has it's first tick at the intersection with the x-axis
> whereas the primary y-axis shows a nice little offset.
>
> Using your advice i copied the y axis and tried to solve the Problem "by
> foot". Unfortunately the lable text isn't willing to center to the ticks
>
> Here is the code:
>
> ## R-Help 2014-05-28
>
> ## Test second. Y-Axix
> library("zoo")
>
> ## generate some smooth timeseries
> x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
> x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)
>
> z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.0000006)
> z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"),
> frequency=0.0000006)
> zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.00007)
>
> z<-merge(zt, z1, all = TRUE)
> z<-merge(z, z2, all = TRUE)
> Zf<-na.spline(z[,2:3], na.rm = FALSE)
> ##  ##  ##  ##
>
> ## Plot How to match secondary Y-axis ticks to primary ones
> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
>
> ## function to round up to a number divisible by n (2011 by Owen Jones)
> roundup <- function(x,n){ceiling(ceiling(x)/n)*n}
> ##  ##  ##  ##
>
> ## use multiplication for even tick numbers and fake sekondary y-axis
> max.yl<-roundup(max(na.omit(Zf$z2)), par("yaxp")[3])
> multipl.yl<-max(na.omit(Zf$z2))/max.yl
> multipl.z2<-signif(max(na.omit(Zf$z1)*1.05),2)/max.yl
> lines(Zf$z2*multipl.z2, lty=2)
> axis(4, labels = FALSE)
> abline(h = axTicks(4), lty = "dotted", col="grey")
> lablist.y<-seq(0, max.yl, length.out=par("yaxp")[3]+1)
>
> ## my problem!! text doesn't center to the ticks
> text(y = seq(0, signif(max(na.omit(Zf$z1)*1.05),2),
> length.out=par("yaxp")[3]+1),
> par("usr")[2]+(par("usr")[2]-par("usr")[1])*0.025, labels = lablist.y, srt =
> 90, pos = 4, xpd = TRUE)
>

If the problem is to center the labels on the right y axis then try this:

plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
lines(Zf$z2*multipl.z2, lty=2)

at4 <- axTicks(4)
axis(4, at = at4, at4/20)
abline(h = at4, lty = "dotted", col="grey")


From bstan0578 at gmail.com  Wed May 28 13:22:22 2014
From: bstan0578 at gmail.com (=?UTF-8?Q?Bastian_P=C3=B6schl?=)
Date: Wed, 28 May 2014 13:22:22 +0200
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAP01uR=91+H8C05paYRn5VnYEEY3yd1YeMBnJzrXAJu-bZfNkg@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
	<CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
	<CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>
	<CAP01uR=91+H8C05paYRn5VnYEEY3yd1YeMBnJzrXAJu-bZfNkg@mail.gmail.com>
Message-ID: <CAH091-RgdaMnRpuYCO8EfiBp6_JqMz1h6gp3t0gHQDV26sdZHg@mail.gmail.com>

Ein eingebundener Text mit undefiniertem Zeichensatz wurde abgetrennt.
Name: nicht verf?gbar
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/e128d898/attachment.pl>

From vweinbir at gmail.com  Wed May 28 13:59:59 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Wed, 28 May 2014 13:59:59 +0200
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
	<1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
Message-ID: <CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/cd5ab0ec/attachment.pl>

From bstan0578 at gmail.com  Wed May 28 14:02:38 2014
From: bstan0578 at gmail.com (=?UTF-8?Q?Bastian_P=C3=B6schl?=)
Date: Wed, 28 May 2014 14:02:38 +0200
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAH091-RgdaMnRpuYCO8EfiBp6_JqMz1h6gp3t0gHQDV26sdZHg@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
	<CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
	<CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>
	<CAP01uR=91+H8C05paYRn5VnYEEY3yd1YeMBnJzrXAJu-bZfNkg@mail.gmail.com>
	<CAH091-RgdaMnRpuYCO8EfiBp6_JqMz1h6gp3t0gHQDV26sdZHg@mail.gmail.com>
Message-ID: <CAH091-TfNg5xAp6X3hz=D=rSpcdsvP_KzUwu6x8iZDKL2HT2Fg@mail.gmail.com>

Ein eingebundener Text mit undefiniertem Zeichensatz wurde abgetrennt.
Name: nicht verf?gbar
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/87655fc0/attachment.pl>

From S.Ellison at LGCGroup.com  Wed May 28 14:30:21 2014
From: S.Ellison at LGCGroup.com (S Ellison)
Date: Wed, 28 May 2014 13:30:21 +0100
Subject: [R] Legend having lines with different types
In-Reply-To: <DUB126-DS14A771C698F67EF3967EDCF3250@phx.gbl>
References: <DUB126-DS14A771C698F67EF3967EDCF3250@phx.gbl>
Message-ID: <A4E5A0B016B8CB41A485FC629B633CED5E9DA7AC6A@GOLD.corp.lgc-group.com>

> I want to plot the legend for the following two lines:
>  ...
> Any ideas how?

Try ?legend

S Ellison




*******************************************************************
This email and any attachments are confidential. Any use...{{dropped:8}}


From bstan0578 at gmail.com  Wed May 28 14:35:56 2014
From: bstan0578 at gmail.com (=?UTF-8?Q?Bastian_P=C3=B6schl?=)
Date: Wed, 28 May 2014 14:35:56 +0200
Subject: [R] Zoo: How to match secondary Y-axis ticks to primary ones
In-Reply-To: <CAH091-TfNg5xAp6X3hz=D=rSpcdsvP_KzUwu6x8iZDKL2HT2Fg@mail.gmail.com>
References: <CAH091-TCsu-ZsJiumy5nWNNCMXVGXVXC5dsNKJX+B8X2Jq+Muw@mail.gmail.com>
	<CAP01uR=WK2ZYunjmUZ3pV9A7fP+p4Hm+YcKCcVmf3JhDVwGH8Q@mail.gmail.com>
	<CAH091-Q4+nKY5nn5J9cKHTVWQFkc86M=rJ5vPArJgFR5TqeU5A@mail.gmail.com>
	<CAP01uR=91+H8C05paYRn5VnYEEY3yd1YeMBnJzrXAJu-bZfNkg@mail.gmail.com>
	<CAH091-RgdaMnRpuYCO8EfiBp6_JqMz1h6gp3t0gHQDV26sdZHg@mail.gmail.com>
	<CAH091-TfNg5xAp6X3hz=D=rSpcdsvP_KzUwu6x8iZDKL2HT2Fg@mail.gmail.com>
Message-ID: <CAH091-S73a=72F5m3DgJK+Z0Nhx5gico+LX41Y3evAanoyKxUg@mail.gmail.com>

To get 0.5 Ticks the script was corrected another time ;)

## R-Help 2014-05-28 asked by Bastian P?schl solved by Gabor Grothendieck
library("zoo")

## generate some smooth timeseries
x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)

z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"), frequency=0.0000006)
z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"), frequency=0.0000006)
zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
frequency=0.00007)

z<-merge(zt, z1, all = TRUE)
z<-merge(z, z2, all = TRUE)
Zf<-na.spline(z[,2:3], na.rm = FALSE)
##  ##  ##  ##

## function to round up to a number divisible by n (2011 by Owen Jones)
roundup <- function(x,n){ceiling(ceiling(x)/n)*n}
##  ##  ##  ##

## Plot How to match secondary Y-axis ticks to primary ones
plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)),2)), xlab="")

## use multiplication for even tick numbers and fake sekondary y-axis

y2at<-par("yaxp")[3]/floor(par("yaxp")[3]/max(na.omit(Zf$z1)))  ##
This is the changed line to get 0.5 steps etc.
max.yl<-roundup(max(na.omit(Zf$z1)), y2at)

multipl.yl<-max(na.omit(Zf$z2))/max.yl
multipl.z2<-signif(max(na.omit(Zf$z1)*1.05),2)/max.yl
lines(Zf$z2*multipl.z2, lty=2)
at4 <- axTicks(4)
axis(4, at = at4, seq(0, max.yl, length.out=par("yaxp")[3]+1))
abline(h = at4, lty = "dotted", col="grey")


2014-05-28 14:02 GMT+02:00 Bastian P?schl <bstan0578 at gmail.com>:
> Sorry the last post has got a mistake,
> here is the corrected version:
>
> ## R-Help 2014-05-28 asked by Bastian P?schl solved by Gabor Grothendieck
> library("zoo")
>
> ## generate some smooth timeseries
> x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
> x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)
>
> z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.0000006)
> z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"),
> frequency=0.0000006)
> zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
> frequency=0.00007)
>
> z<-merge(zt, z1, all = TRUE)
> z<-merge(z, z2, all = TRUE)
> Zf<-na.spline(z[,2:3], na.rm = FALSE)
> ##  ##  ##  ##
>
> ## function to round up to a number divisible by n (2011 by Owen Jones)
> roundup <- function(x,n){ceiling(ceiling(x)/n)*n}
> ##  ##  ##  ##
>
> ## Plot How to match secondary Y-axis ticks to primary ones
> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)),2)), xlab="")
>
> ## use multiplication for even tick numbers and fake sekondary y-axis
> max.yl<-roundup(max(na.omit(Zf$z2)), par("yaxp")[3])
> multipl.yl<-max(na.omit(Zf$z2))/max.yl
> multipl.z2<-signif(max(na.omit(Zf$z1)*1.05),2)/max.yl
> lines(Zf$z2*multipl.z2, lty=2)
> at4 <- axTicks(4)
> axis(4, at = at4, seq(0, max.yl, length.out=par("yaxp")[3]+1))
>
> abline(h = at4, lty = "dotted", col="grey")
>
>
> The Result is a time series plot of two variables, with nice ticks at
> primary and secondary y-axis at the same height connected with reference
> lines and thus easy to read.
>
>
> 2014-05-28 12:56 GMT+02:00 Gabor Grothendieck <ggrothendieck at gmail.com>:
>
>
> 2014-05-28 13:22 GMT+02:00 Bastian P?schl <bstan0578 at gmail.com>:
>
>> Thank you,
>> this is the solution.
>> I just replaced at4/20 by seq(0, max.yl, length.out=par("yaxp")[3]+1) so
>> it should work with any scale.
>> here is the final code that worked for me:
>>
>> ## R-Help 2014-05-28 asked by Bastian P?schl solved by Gabor Grothendieck
>>
>>
>> library("zoo")
>>
>> ## generate some smooth timeseries
>> x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
>> x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)
>>
>> z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"),
>> frequency=0.0000006)
>> z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"),
>> frequency=0.0000006)
>> zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
>> frequency=0.00007)
>>
>> z<-merge(zt, z1, all = TRUE)
>> z<-merge(z, z2, all = TRUE)
>> Zf<-na.spline(z[,2:3], na.rm = FALSE)
>> ##  ##  ##  ##
>>
>> ## function to round up to a number divisible by n (2011 by Owen Jones)
>> roundup <- function(x,n){ceiling(ceiling(x)/n)*n}
>> ##  ##  ##  ##
>>
>> ## Plot How to match secondary Y-axis ticks to primary ones
>> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
>> ## use multiplication for even tick numbers and fake sekondary y-axis
>> max.yl<-roundup(max(na.omit(Zf$z2)), par("yaxp")[3])
>> multipl.yl<-max(na.omit(Zf$z2))/max.yl
>> multipl.z2<-signif(max(na.omit(Zf$z1)*1.05),2)/max.yl
>> lines(Zf$z2*multipl.z2, lty=2)
>> at4 <- axTicks(4)
>> axis(4, at = at4, seq(0, max.yl, length.out=par("yaxp")[3]+1))
>>
>> abline(h = at4, lty = "dotted", col="grey")
>>
>>
>> The Result is a time series plot of two variables, with nice ticks at
>> primary and secondary y-axis at the same height connected with reference
>> lines and thus easy to read.
>>
>>
>> 2014-05-28 12:56 GMT+02:00 Gabor Grothendieck <ggrothendieck at gmail.com>:
>>
>>> On Wed, May 28, 2014 at 4:28 AM, Bastian P?schl <bstan0578 at gmail.com>
>>> wrote:
>>> > Thank you for the quick reply,
>>> >
>>> > your advice wasn't exactly what I was looking for.
>>> > The plot 1 of the example was ment to show my problem:
>>> > the secondary axis has it's first tick at the intersection with the
>>> > x-axis
>>> > whereas the primary y-axis shows a nice little offset.
>>> >
>>> > Using your advice i copied the y axis and tried to solve the Problem
>>> > "by
>>> > foot". Unfortunately the lable text isn't willing to center to the
>>> > ticks
>>> >
>>> > Here is the code:
>>> >
>>> > ## R-Help 2014-05-28
>>> >
>>> > ## Test second. Y-Axix
>>> > library("zoo")
>>> >
>>> > ## generate some smooth timeseries
>>> > x1 <- c(38.2, 18.1, 83.2, 42.7, 22.8, 48.1, 81.8, 129.6, 52.0, 110.3)
>>> > x2 <- c(2.2, 0.8, 0.7, 1.6, 0.9, 0.9, 1.1, 2.8, 5.1, 2.1)
>>> >
>>> > z1 <- zooreg(x1, start=as.POSIXct("2013-01-01 00:00:01"),
>>> > frequency=0.0000006)
>>> > z2 <- zooreg(x2, start=as.POSIXct("2013-01-01 00:00:20"),
>>> > frequency=0.0000006)
>>> > zt <- zooreg(rnorm(1050), start=as.POSIXct("2013-01-01 00:00:01"),
>>> > frequency=0.00007)
>>> >
>>> > z<-merge(zt, z1, all = TRUE)
>>> > z<-merge(z, z2, all = TRUE)
>>> > Zf<-na.spline(z[,2:3], na.rm = FALSE)
>>> > ##  ##  ##  ##
>>> >
>>> > ## Plot How to match secondary Y-axis ticks to primary ones
>>> > plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
>>> >
>>> > ## function to round up to a number divisible by n (2011 by Owen Jones)
>>> > roundup <- function(x,n){ceiling(ceiling(x)/n)*n}
>>> > ##  ##  ##  ##
>>> >
>>> > ## use multiplication for even tick numbers and fake sekondary y-axis
>>> > max.yl<-roundup(max(na.omit(Zf$z2)), par("yaxp")[3])
>>> > multipl.yl<-max(na.omit(Zf$z2))/max.yl
>>> > multipl.z2<-signif(max(na.omit(Zf$z1)*1.05),2)/max.yl
>>> > lines(Zf$z2*multipl.z2, lty=2)
>>> > axis(4, labels = FALSE)
>>> > abline(h = axTicks(4), lty = "dotted", col="grey")
>>> > lablist.y<-seq(0, max.yl, length.out=par("yaxp")[3]+1)
>>> >
>>> > ## my problem!! text doesn't center to the ticks
>>> > text(y = seq(0, signif(max(na.omit(Zf$z1)*1.05),2),
>>> > length.out=par("yaxp")[3]+1),
>>> > par("usr")[2]+(par("usr")[2]-par("usr")[1])*0.025, labels = lablist.y,
>>> > srt =
>>> > 90, pos = 4, xpd = TRUE)
>>> >
>>>
>>> If the problem is to center the labels on the right y axis then try this:
>>>
>>> plot(Zf$z1, ylim=c(0,signif(max(na.omit(Zf$z1)*1.05),2)), xlab="")
>>> lines(Zf$z2*multipl.z2, lty=2)
>>>
>>> at4 <- axTicks(4)
>>> axis(4, at = at4, at4/20)
>>> abline(h = at4, lty = "dotted", col="grey")
>>
>>
>


From jvadams at usgs.gov  Wed May 28 14:53:59 2014
From: jvadams at usgs.gov (Adams, Jean)
Date: Wed, 28 May 2014 07:53:59 -0500
Subject: [R] Legend having lines with different types
In-Reply-To: <DUB126-DS14A771C698F67EF3967EDCF3250@phx.gbl>
References: <DUB126-DS14A771C698F67EF3967EDCF3250@phx.gbl>
Message-ID: <CAN5YmCGNaNTPoff2MTNdkyHSAN7=3VJC2OE5X1jeoDxPdpCcdg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/4da98fb1/attachment.pl>

From petr.pikal at precheza.cz  Wed May 28 14:57:53 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Wed, 28 May 2014 12:57:53 +0000
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
	<1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
	<CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD23D8@SRVEXCHMBX.precheza.cz>

Hi

AFAIK you can not average values only in 2 columns leaving others intact. The exact code depends on what are in columns 2-39 in your data frame. If numbers, you can averege them as well.

Something like

dat.ag <- aggregate(dat[,-1], list(dat$Name), mean, na.rm=TRUE)

if your data frame is named dat and first column calls Name. You get new object with aggregated values for the same Name.

If some columns are nonnumeric the problem gets trickier and solution strongly depends what mode are those columns and what you want to do with them when aggregating values in column 40 and 41.

Show us at least structure of your data frame.

?str

Regards
Petr

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of Verena Weinbir
> Sent: Wednesday, May 28, 2014 2:00 PM
> To: arun
> Cc: r-help
> Subject: Re: [R] Dataframe: Average cells of two rows and replace them
> with one row
>
> Hey guys,
>
> thank you very much for your help.  Since I am a R-newbie I am still
> checking out how your code works and how I could adapt it to my
> dataframe,
> which has 124 rows and 41 columns/variables.  The first column would be
> "name", the last ones, 40 and 41, contain the cells I want to average
> for
> some rows. Is it possible to read the dataframe without copying the
> whole
> thing into the text"" function (just tried it and got an error
> message)?
>
> Thank you!
>
> Verena
>
>
> On Wed, May 28, 2014 at 3:48 AM, arun <smartpink111 at yahoo.com> wrote:
>
> > Hi,
> > You can also try:
> > dat <- read.table(text="Name C1 C2 C3
> >   1  A  3  3  5
> >   2  B  2  7  4
> >   3  C  4  3  3
> >   4  C  4  4  6
> >   5  D  5  5  3",sep="",header=TRUE,stringsAsFactors=FALSE)
> >
> >
> >  library(plyr)
> >  ddply(dat,.(Name),numcolwise(mean,na.rm=TRUE))
> > A.K.
> >
> >
> > On Tuesday, May 27, 2014 4:08 PM, Verena Weinbir <vweinbir at gmail.com>
> > wrote:
> > Hello,
> >
> > I have a big dataframe, and want to average two specific cells of two
> > specific rows and then replace those two rows with one row which
> contains
> > the averaged cells. Example (row 3 and 4: Cells2 and Cells3 averaged
> and
> > replaced)
> >
> >     NameC1 C2 C3
> >   1  A  3  3  5
> >   2  B  2  7  4
> >   3  C  4  3  3
> >   4  C  4  4  6
> >   5  D  5  5  3
> >
> >
> >
> >     NameC1 C2  C3
> >   1  A  3  3   5
> >   2  B  2  7   4
> >   3  C  4  3.5 4.5  4  D  5  5   3
> >
> >
> > Many thanks in advance!
> >
> > Best,
> >
> > Verena
> >
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From jrkrideau at inbox.com  Wed May 28 17:12:54 2014
From: jrkrideau at inbox.com (John Kane)
Date: Wed, 28 May 2014 07:12:54 -0800
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD1F88@SRVEXCHMBX.precheza.cz>
References: <col130-w9459e2ad38ad8cefb02699fa3a0@phx.gbl>
Message-ID: <85B6114EA2D.000017C0jrkrideau@inbox.com>

Hi Petr

I think cast() has been dropped from the most recent reshape2 and you need dcast(data, siteS~species) instead

John Kane
Kingston ON Canada


> -----Original Message-----
> From: petr.pikal at precheza.cz
> Sent: Tue, 27 May 2014 11:46:13 +0000
> To: kristi.glover at hotmail.com, r-help at r-project.org
> Subject: Re: [R] How to unstack three columns into rows?
> 
> Hi
> 
> cast(data, siteS~species)
> 
> gives you quite close result, only row ordering is different
> 
> Regards
> Petr
> 
> 
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
>> project.org] On Behalf Of Kristi Glover
>> Sent: Tuesday, May 27, 2014 12:54 PM
>> To: R-help
>> Subject: [R] How to unstack three columns into rows?
>> 
>> Dear R User,
>> I was wondering how I can unstack my data. For example I have following
>> data set
>> 
>> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L,
>> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v",
>> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L, 4L, 1L,
>> 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb", "sc", "sd",
>> "se", "sg"), class = "factor"), abundance = c(31L, 55L, 62L, 42L, 40L,
>> 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L )), .Names = c("siteS",
>> "species", "abundance"), class = "data.frame", row.names = c(NA,
>> -14L))
>> 
>> I wanted to have this data into following format
>> 
>> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L), .Label
>> = c("11a", "12d", "1a", "2v", "6a"), class = "factor"), sa = c(31L,
>> 42L, 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc = c(62L, NA, 10L,
>> 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L, NA, NA), sg
>> = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa", "sb", "sc", "sd",
>> "se", "sg"), class = "data.frame", row.names = c(NA,
>> -5L))
>> 
>> I tried several ways such as:
>>> data.frame(unstack(data, species~siteS))
>> Error in data.frame(`11a` = c("sa", "sg", "sc"), `12d` = "sa", `1a` =
>> c("sa",  :
>>   arguments imply differing number of rows: 3, 1, 2, 5
>> 
>> 
>> 
>>       [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ________________________________
> Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou
> ur?eny pouze jeho adres?t?m.
> Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
> neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho
> kopie vyma?te ze sv?ho syst?mu.
> Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento
> email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi
> ?i zpo?d?n?m p?enosu e-mailu.
> 
> V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
> smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
> p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze
> strany p??jemce s dodatkem ?i odchylkou.
> - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
> v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
> spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
> zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
> adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
> p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen?
> zn?m?.
> 
> This e-mail and any documents attached to it may be confidential and are
> intended only for its intended recipients.
> If you received this e-mail by mistake, please immediately inform its
> sender. Delete the contents of this e-mail with all attachments and its
> copies from your system.
> If you are not the intended recipient of this e-mail, you are not
> authorized to use, disseminate, copy or disclose this e-mail in any
> manner.
> The sender of this e-mail shall not be liable for any possible damage
> caused by modifications of the e-mail or by delay with transfer of the
> email.
> 
> In case that this e-mail forms part of business dealings:
> - the sender reserves the right to end negotiations about entering into a
> contract in any time, for any reason, and without stating any reasoning.
> - if the e-mail contains an offer, the recipient is entitled to
> immediately accept such offer; The sender of this e-mail (offer) excludes
> any acceptance of the offer on the part of the recipient containing any
> amendment or variation.
> - the sender insists on that the respective contract is concluded only
> upon an express mutual agreement on all its aspects.
> - the sender of this e-mail informs that he/she is not authorized to
> enter into any contracts on behalf of the company except for cases in
> which he/she is expressly authorized to do so in writing, and such
> authorization or power of attorney is submitted to the recipient or the
> person represented by the recipient, or the existence of such
> authorization is known to the recipient of the person represented by the
> recipient.
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

____________________________________________________________
FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on your desktop!


From geoffrey_klein at etu.u-bourgogne.fr  Wed May 28 14:35:37 2014
From: geoffrey_klein at etu.u-bourgogne.fr (jeff6868)
Date: Wed, 28 May 2014 05:35:37 -0700 (PDT)
Subject: [R] remove duplicated row according to NA condition
Message-ID: <1401280537350-4691362.post@n4.nabble.com>

Hi everybody,

I have a little problem in my R-code which seems be easy to solve, but I
wasn't able to find the solution by myself for the moment.

Here's an example of the form of my data:

data <-
data.frame(col1=c("a","a","b","b"),col2=c(1,1,2,2),col3=c(NA,"ST001","ST002",NA))

I would like to remove duplicated data based on the first two columns
(col1,col2), but in both cases here, I would like to remove the duplicated
row which is equal to NA in col3.

Here's the data.frame I would like to obtain:

data2 <- data.frame(col1=c("a","b"),col2=c(1,2),col3=c("ST001","ST002"))

I've been trying to mix duplicated() with is.na() but it doesn't work yet.

Can someone tell me the best and easiest way to do this?

Thanks a lot!







--
View this message in context: http://r.789695.n4.nabble.com/remove-duplicated-row-according-to-NA-condition-tp4691362.html
Sent from the R help mailing list archive at Nabble.com.


From maillists at nic.fi  Wed May 28 17:43:13 2014
From: maillists at nic.fi (K. Elo)
Date: Wed, 28 May 2014 18:43:13 +0300
Subject: [R] remove duplicated row according to NA condition
In-Reply-To: <1401280537350-4691362.post@n4.nabble.com>
References: <1401280537350-4691362.post@n4.nabble.com>
Message-ID: <53860411.5000100@nic.fi>

Hi!

How about trying this:

data[ data$col1!=data$col2 & !is.na(data$col3), ]

  col1 col2  col3
2    a    1 ST001
3    b    2 ST002

HTH, Kimmo


28.05.2014 15:35, jeff6868 wrote:
> Hi everybody,
> 
> I have a little problem in my R-code which seems be easy to solve, but I
> wasn't able to find the solution by myself for the moment.
> 
> Here's an example of the form of my data:
> 
> data <-
> data.frame(col1=c("a","a","b","b"),col2=c(1,1,2,2),col3=c(NA,"ST001","ST002",NA))
> 
> I would like to remove duplicated data based on the first two columns
> (col1,col2), but in both cases here, I would like to remove the duplicated
> row which is equal to NA in col3.
> 
> Here's the data.frame I would like to obtain:
> 
> data2 <- data.frame(col1=c("a","b"),col2=c(1,2),col3=c("ST001","ST002"))
> 
> I've been trying to mix duplicated() with is.na() but it doesn't work yet.
> 
> Can someone tell me the best and easiest way to do this?
> 
> Thanks a lot!
> 
> 
> 
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/remove-duplicated-row-according-to-NA-condition-tp4691362.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From wdunlap at tibco.com  Wed May 28 17:43:17 2014
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 28 May 2014 08:43:17 -0700
Subject: [R] remove duplicated row according to NA condition
In-Reply-To: <1401280537350-4691362.post@n4.nabble.com>
References: <1401280537350-4691362.post@n4.nabble.com>
Message-ID: <CAF8bMcZ927-VmwEmZv5eh=H-WQAXkUenEXnVuDL4udh6nL_njw@mail.gmail.com>

It would help if you said what you want done when none or all or some
of the col1-col2 duplicates have NA's in the col3.  E.g., what do you
want the function to do for the following input?

> data2 <- data.frame(col1=c("a","a","a","b","b","c","c","d","d","e"),
    col2=c(1,1,1,2,2,3,3,4,4,5),
    col3=c("A1",NA,"A3",NA,"B2","C1","C2",NA,NA,NA))
> data2
   col1 col2 col3
1     a    1   A1
2     a    1 <NA>
3     a    1   A3
4     b    2 <NA>
5     b    2   B2
6     c    3   C1
7     c    3   C2
8     d    4 <NA>
9     d    4 <NA>
10    e    5 <NA>

(You may want it to return a data.frame or you may want the function
to stop because the data is not considered legal, but you should
decide what it should do.)

Bill Dunlap
TIBCO Software
wdunlap tibco.com


On Wed, May 28, 2014 at 5:35 AM, jeff6868
<geoffrey_klein at etu.u-bourgogne.fr> wrote:
> Hi everybody,
>
> I have a little problem in my R-code which seems be easy to solve, but I
> wasn't able to find the solution by myself for the moment.
>
> Here's an example of the form of my data:
>
> data <-
> data.frame(col1=c("a","a","b","b"),col2=c(1,1,2,2),col3=c(NA,"ST001","ST002",NA))
>
> I would like to remove duplicated data based on the first two columns
> (col1,col2), but in both cases here, I would like to remove the duplicated
> row which is equal to NA in col3.
>
> Here's the data.frame I would like to obtain:
>
> data2 <- data.frame(col1=c("a","b"),col2=c(1,2),col3=c("ST001","ST002"))
>
> I've been trying to mix duplicated() with is.na() but it doesn't work yet.
>
> Can someone tell me the best and easiest way to do this?
>
> Thanks a lot!
>
>
>
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/remove-duplicated-row-according-to-NA-condition-tp4691362.html
> Sent from the R help mailing list archive at Nabble.com.
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From smartpink111 at yahoo.com  Wed May 28 17:51:53 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 28 May 2014 08:51:53 -0700 (PDT)
Subject: [R] remove duplicated row according to NA condition
In-Reply-To: <1401280537350-4691362.post@n4.nabble.com>
References: <1401280537350-4691362.post@n4.nabble.com>
Message-ID: <1401292313.78580.YahooMailNeo@web142604.mail.bf1.yahoo.com>



Hi,
May be this helps:
data1 <- data[with(data, order(col1, col2,1*is.na(col3))),]
?data1[!duplicated(data1[,1:2]),]
A.K.


On Wednesday, May 28, 2014 11:28 AM, jeff6868 <geoffrey_klein at etu.u-bourgogne.fr> wrote:
Hi everybody,

I have a little problem in my R-code which seems be easy to solve, but I
wasn't able to find the solution by myself for the moment.

Here's an example of the form of my data:

data <-
data.frame(col1=c("a","a","b","b"),col2=c(1,1,2,2),col3=c(NA,"ST001","ST002",NA))

I would like to remove duplicated data based on the first two columns
(col1,col2), but in both cases here, I would like to remove the duplicated
row which is equal to NA in col3.

Here's the data.frame I would like to obtain:

data2 <- data.frame(col1=c("a","b"),col2=c(1,2),col3=c("ST001","ST002"))

I've been trying to mix duplicated() with is.na() but it doesn't work yet.

Can someone tell me the best and easiest way to do this?

Thanks a lot!







--
View this message in context: http://r.789695.n4.nabble.com/remove-duplicated-row-according-to-NA-condition-tp4691362.html
Sent from the R help mailing list archive at Nabble.com.

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From hill0093 at umn.edu  Wed May 28 19:00:42 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 28 May 2014 10:00:42 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <e23d41f9-86ad-4019-a754-5cddd80dc04f@email.android.com>
References: <1400712621633-4691012.post@n4.nabble.com>
	<CAM_vjunvg=i6tDBCVXbRB6_+SvrRFT-8ASavPy52aq3kZbgH9A@mail.gmail.com>
	<1400754662955-4691042.post@n4.nabble.com>
	<6cbd6b38-89c8-4a4f-93f1-e9cb8c7c2378@email.android.com>
	<1400967676429-4691201.post@n4.nabble.com>
	<3469076.Bj2Rrlr1Qy@localhost.localdomain>
	<1400986044715-4691204.post@n4.nabble.com>
	<C791A997-04F9-4960-97B6-4950D3092AAC@comcast.net>
	<1401211023958-4691311.post@n4.nabble.com>
	<e23d41f9-86ad-4019-a754-5cddd80dc04f@email.android.com>
Message-ID: <1401296442539-4691377.post@n4.nabble.com>

Thank you Jeff for your good orientation. You are an educator.
I looked at the documentation for more than an hour.
Yes, there is a big learning curve. 
My R-coding friend doesn't know it either.
Here is runnable code for a graph I would like to redo in the better code.
The staxlab function was sent to me by the author.
The remainder code isn't so long.
An expert could rewrite it quickly. Any out there?

#trying for both period-labeled and frequency-labeled horizontal axes 
rm(list=ls(all=TRUE))
install.packages('plotrix'); library(plotrix) 
#install.packages('lattice'); library(lattice) 
#install.packages('ggplot2'); library(ggplot2) 
#staxlab (to be standard soon) sent by author so staxlab works on second x
axis.
staxlab<-function(side=1,at,labels,nlines=2,top.line=0.5,
 line.spacing=0.8,srt=NA,ticklen=0.03,adj=1,...) {
 if(missing(labels)) labels<-at
 nlabels<-length(labels)
 if(missing(at)) at<-1:nlabels
 axislim<-par("usr")[3:4-2*side%%2]
 if(any(at < axislim[1]) || any(at > axislim[2]))
  warning("Some axis labels are off the plot")
 if(is.na(srt)) {
  linepos<-rep(top.line,nlines)
  for(i in 2:nlines) linepos[i]<-linepos[i-1]+line.spacing
  linepos<-rep(linepos,ceiling(nlabels/nlines))[1:nlabels]
  axis(side=side,at=at,labels=rep("",nlabels))
  mtext(text=labels,side=side,line=linepos,at=at,...)
 }
 else {
  linewidth<-strheight("M")
  xylim<-par("usr")
  if(side == 1) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[3]-ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[3]-ticklen*(xylim[4]-xylim[3])-top.line*linewidth
  }
  if(side == 3) {
   xpos<-at
   if(par("ylog")) ypos<-10^(xylim[4]+ticklen*(xylim[4]-xylim[3]))
   else ypos<-xylim[4]+ticklen*(xylim[4]-xylim[3])+top.line*linewidth
  }
  if(side == 2) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[1]-ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[1]-ticklen*(xylim[2]-xylim[1])-top.line*linewidth
  }
  if(side == 4) {
   ypos<-at
   if(par("xlog")) xpos<-10^(xylim[2]+ticklen*(xylim[2]-xylim[1]))
   else xpos<-xylim[2]+ticklen*(xylim[2]-xylim[1])+top.line*linewidth
  }
  par(xpd=TRUE)
  text(xpos,ypos,labels,srt=srt,adj=adj,...)
  par(xpd=FALSE)
 }
}
par(lheight=0.7)#vertical text space = lheight * char height * character
expansion 
par(mar=c(8,4,4,2)+.1)  #margins: mar=c(bot,lef,top,rit);
default:c(5,4,4,2)+.1 
par(xaxs="i") #to make 2nd axis and plot width size match; others: xaxs=
"r", "i", "e", "s", "d". 
par(mgp=c(3,.5,0)) #default mgp=c(3,1,0) margin line in mex units
c(axisTitle,axisLabel,axisLine) 
#set only by
par():ask,fig,fin,lheight,mai,mar,mex,mfcol,mfrow,mfg,new,oma,omd,omi,pin,plt,ps,pty,usr,xlog,ylog,ylbias 
prdAxDistDown=0; frqAxDistDown=2.25; 

horAxFrqCntrlNums=c(-10.0,0.0,1.1,500.0,515.0)
#=c(lefGrafBordFrq,lefScalEndFrq,lefPlotEndFrq,ritPlotEndFrq,ritScalEndFrq)
horData=c(1.100,56.53,112.0,167.4,222.8,278.3,333.7,389.1,444.6,500.0)
verData=c(57.67,98.33,82.40,68.15,78.89,93.53,22.54,37.60,87.19,49.35)
prdTicLocs=c(1.10,12,52.2,91.3, 122, 183, 365,500)
prdLabels=c("10.9\nMo","1Mo","1Wk","4Da","3Da","2Da","1Da","17.5\nHr")

print(horAxFrqCntrlNums); print(prdLabels) 
nFrqTicInvls=9; frqTicLocs <- vector(length=nFrqTicInvls+1); frqLabels <-
vector(length=nFrqTicInvls+1); 
frqInvl=(horAxFrqCntrlNums[5]-horAxFrqCntrlNums[2])/nFrqTicInvls 
for(i in
1:(nFrqTicInvls+1))frqTicLocs[i]=horAxFrqCntrlNums[2]+(i-1)*frqInvl; 
for(i in
1:(nFrqTicInvls+1))frqLabels[i]=format(round(frqTicLocs[i]),digits=4,trim=TRUE,scientific=FALSE) 
print(frqTicLocs); print(frqLabels) 
las=2; #las=2 makes axis labels perpendicular to axis 
plot(horData,verData,xaxt='n',xlim=c(horAxFrqCntrlNums[1],horAxFrqCntrlNums[5]),xlab="",ylab="") 
axis(2,tick=TRUE,line=0,at=NULL) #side: 1=below, 2=left, 3=above and 4=right 
#tck if >= 0.5 then fraction of relevant side; if =1 then gridlines 
axis(1,tick=TRUE,line=prdAxDistDown,at=prdTicLocs,labels=rep("",length(prdLabels)),padj=0,tck=-.04) 
staxlab(1,top.line=(prdAxDistDown-0.8),at=prdTicLocs,labels=prdLabels,srt=90,adj=c(1,0)) 
axis(1,tick=TRUE,line=frqAxDistDown,at=frqTicLocs,labels=rep("",length(frqLabels)),padj=0,tck=-.04) 
staxlab(1,top.line=(frqAxDistDown+0.2),at=frqTicLocs,labels=frqLabels,srt=90,adj=c(1,0)) 
title(xlab="Cycles/Yr",line=4); title(ylab="verData",line=1.5); 
title(main="Trying Both Frequency And Period Axes") 




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691377.html
Sent from the R help mailing list archive at Nabble.com.


From frtog at vestas.com  Wed May 28 19:33:21 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Wed, 28 May 2014 19:33:21 +0200
Subject: [R] Second axis on bottom of graph
Message-ID: <9xmrvn8r3oea11beiyy25w7q.1401298367286@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/7834ecc6/attachment.pl>

From Mark.Fowler at dfo-mpo.gc.ca  Wed May 28 20:09:56 2014
From: Mark.Fowler at dfo-mpo.gc.ca (Fowler, Mark)
Date: Wed, 28 May 2014 15:09:56 -0300
Subject: [R] tk2listbox
Message-ID: <CB5182AD107F0943AEF20FD01FB8A7F80682C2F3@marbioexc02.mar.dfo-mpo.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/aeb1cba7/attachment.pl>

From mmsantos.br at gmail.com  Wed May 28 22:46:05 2014
From: mmsantos.br at gmail.com (Marcos Santos)
Date: Wed, 28 May 2014 17:46:05 -0300
Subject: [R] Creating a new column with the number of the observation
Message-ID: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>

Um texto embutido e sem conjunto de caracteres especificado foi limpo...
Nome: n?o dispon?vel
Url: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/962b852a/attachment.pl>

From a.d.nolder at iup.edu  Wed May 28 23:16:12 2014
From: a.d.nolder at iup.edu (Amber Dawn Nolder)
Date: Wed, 28 May 2014 17:16:12 -0400
Subject: [R] partykit ctree: minbucket and case weights
Message-ID: <web-22637196@embe2.iup.edu>


   Hello,
   I am an R novice, and I am using the "partykit" package to create
   regression trees. I used the following to generate the trees:
   ctree(y~x1+x2+x3+x4,data=my_data,control=ctree_control(testtype =
   "Bonferroni", mincriterion = 0.90, minsplit = 12, minbucket = 4,
   majority = TRUE)
   I thought that "minbucket" set the minimum value for the sum of weights
   in each terminal node, and that each case weight is 1, unless otherwise
   specified. In which case, the sum of case weights in a node should equal the
   number of cases (n) in that node. However, I  sometimes obtain a tree with
   a terminal node that contains fewer than 4 cases.
   My data set has a total of 36 cases. The dependent and all independent
   variables are continuous data. Variables x1 and x2 contain missing (NA)
   values.
   Could someone please explain why I am getting these results?
   Am I  mistaken about the value of case weights or about the use of minbucket
   to restrict the size of a terminal node?
   This is an example of the output:
   Model formula:
   y ~ x1 + x2 + x3 + x4
   Fitted party:
   [1] root
   |   [2] x4 <= 30: 0.927 (n = 17, err = 1.1)
   |   [3] x4 > 30
   |   |   [4] x2 <= 43: 0.472 (n = 8, err = 0.4)
   |   |   [5] x2 > 43
   |   |   |   [6] x3 <= 0.4: 0.282 (n = 3, err = 0.0)
   |   |   |   [7] x3 > 0.4: 0.020 (n = 8, err = 0.0)
   Number of inner nodes:    3
   Number of terminal nodes: 4
   Many thanks!
   Amber Nolder
   Graduate Student
   Indiana University of Pennsylvania

From djandrija at gmail.com  Thu May 29 00:03:24 2014
From: djandrija at gmail.com (Andrija Djurovic)
Date: Thu, 29 May 2014 00:03:24 +0200
Subject: [R] Creating a new column with the number of the observation
In-Reply-To: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>
References: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>
Message-ID: <CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/0601221e/attachment.pl>

From djandrija at gmail.com  Thu May 29 00:13:24 2014
From: djandrija at gmail.com (Andrija Djurovic)
Date: Thu, 29 May 2014 00:13:24 +0200
Subject: [R] Creating a new column with the number of the observation
In-Reply-To: <CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>
References: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>
	<CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>
Message-ID: <CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/6ffa4061/attachment.pl>

From mmsantos.br at gmail.com  Thu May 29 01:06:28 2014
From: mmsantos.br at gmail.com (Marcos Santos)
Date: Wed, 28 May 2014 20:06:28 -0300
Subject: [R] Creating a new column with the number of the observation
In-Reply-To: <CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>
References: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>
	<CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>
	<CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>
Message-ID: <CAGe5=FOAF18kWV4NQs=X7ZdidnXaKL82ZxXxxetTvZP5jNnvFA@mail.gmail.com>

Um texto embutido e sem conjunto de caracteres especificado foi limpo...
Nome: n?o dispon?vel
Url: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/dd609b93/attachment.pl>

From hill0093 at umn.edu  Thu May 29 02:24:27 2014
From: hill0093 at umn.edu (Hurr)
Date: Wed, 28 May 2014 17:24:27 -0700 (PDT)
Subject: [R] Second axis on bottom of graph
In-Reply-To: <9xmrvn8r3oea11beiyy25w7q.1401298367286@email.android.com>
References: <1400237587556-4690696.post@n4.nabble.com>
	<9xmrvn8r3oea11beiyy25w7q.1401298367286@email.android.com>
Message-ID: <1401323067730-4691398.post@n4.nabble.com>

Thank you Frede Aakmann T?gersen-2 for your criticism.
Yes the data is only similar to the data it is being made for. 
Our Lab been looking for years for a good way to 
make our graphs without buying expensive software.
We have used mostly MS Excel, but the two axes are difficult.
Good graphing software is hard to find. 
Yes it is my "own hard minded way to have my 
plot made the way I like it". But it is also the 
way that my supervisor likes to show the data. 
Even though the graph scale is frequency, 
we think in terms of period.
Sorry I need someone to teach me.
Have I satisfied a little of your curiosity?
Hurr




--
View this message in context: http://r.789695.n4.nabble.com/Second-axis-on-bottom-of-graph-tp4690696p4691398.html
Sent from the R help mailing list archive at Nabble.com.


From spencer.graves at structuremonitoring.com  Thu May 29 02:29:04 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Wed, 28 May 2014 17:29:04 -0700
Subject: [R] how to access an executing environment?
Message-ID: <53867F50.20800@structuremonitoring.com>

Hello:


       I'm writing code to modify a function, and I want to know how to 
access the executing environment of the function.  The example below 
extracts the body of a function and executes a single line but can't 
find "x1" in the function's executing environment.  How would you 
suggest fixing this?  Thanks, Spencer


fun1 <- function(x1=1){
   y <- x1
}
fun2 <- function(fun=fun1){
   bo <- body(fun)
   bo2 <- bo[[2]]
   z <- eval(bo2)
}
tst <- fun2()

Error in eval(expr, envir, enclos) : object 'x1' not found
>


From smartpink111 at yahoo.com  Thu May 29 02:57:24 2014
From: smartpink111 at yahoo.com (arun)
Date: Wed, 28 May 2014 17:57:24 -0700 (PDT)
Subject: [R] Creating a new column with the number of the observation
In-Reply-To: <CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>
References: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>	<CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>
	<CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>
Message-ID: <1401325044.38320.YahooMailNeo@web142606.mail.bf1.yahoo.com>

Hi,
If it ordered by the variable "x", you could also try:


?within(DF1, new_c<-sequence(table(x)))


A.K.




On Wednesday, May 28, 2014 6:14 PM, Andrija Djurovic <djandrija at gmail.com> wrote:
Here is another approach:

x <- rep(c("A", "B", "C"), c(3,1,2))
DF1 <- data.frame(x)
cbind(DF1, new_c=ave(as.numeric(DF1$x), DF1$x, FUN=function(x) 1:length(x)))

Note the difference between DF (in previous solution) and DF1
str(DF)
str(DF1)


Andrija





On Thu, May 29, 2014 at 12:03 AM, Andrija Djurovic <djandrija at gmail.com>wrote:

> Hi. Here is one approach:
>
> x <- rep(c("A", "B", "C"), c(3,1,2))
> DF <- data.frame(x, stringsAsFactors=FALSE)
> cbind(DF, new_c=c(lapply(rle(DF$x)[[1]], function(x) 1:x), recursive=T))
>
> Andrija
>
>
> On Wed, May 28, 2014 at 10:46 PM, Marcos Santos <mmsantos.br at gmail.com>wrote:
>
>> I have a "data frame" like this:
>>
>>?  Category Observed_value? A 100? A 130? A 140? B 90? C 80? D 120? D 130
>>
>> I need to create an index column that show the number of the observation
>> for each category. I have three observations in the category A, one in
>> category B, one in category C and two in category D. The new matrix should
>> be like this:
>>
>>
>>?  Category Observed_value Index? A 100 1? A 130 2? A 140 3? B 90 1? C 80 1
>> D 120 1? D 130 2
>>
>> Please, could anyone help me with this problem?
>>
>> Thank you.
>> --
>> Marcos Martins Santos
>> mmsantos.br at gmail.com
>> --
>> Skype: marcosmartinssantos
>>
>>? ? ? ?  [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.



From mmsantos.br at gmail.com  Thu May 29 03:12:05 2014
From: mmsantos.br at gmail.com (Marcos Santos)
Date: Wed, 28 May 2014 22:12:05 -0300
Subject: [R] Creating a new column with the number of the observation
In-Reply-To: <1401325044.38320.YahooMailNeo@web142606.mail.bf1.yahoo.com>
References: <CAGe5=FPpmP-D-AjJn10XB8geKgOS5ohdWHnf_mYSLWXihF2c1w@mail.gmail.com>
	<CABcwgRRXaR7mmkks4nb8kUVwZx-KWPObPqDBb3Nj2Un6dxnwOQ@mail.gmail.com>
	<CABcwgRR0hUvvfdN-ej07TG48vd-CPfh4fgA3o17wNNPgwMOrfg@mail.gmail.com>
	<1401325044.38320.YahooMailNeo@web142606.mail.bf1.yahoo.com>
Message-ID: <CAGe5=FOg2OdKuTOoR5f-mHcvvUgK7P-Rz9m8M0QqQ0CGfAmbnQ@mail.gmail.com>

Um texto embutido e sem conjunto de caracteres especificado foi limpo...
Nome: n?o dispon?vel
Url: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/e1b9d270/attachment.pl>

From tgs.public.mail at gmail.com  Thu May 29 04:25:50 2014
From: tgs.public.mail at gmail.com (Thomas Stewart)
Date: Wed, 28 May 2014 22:25:50 -0400
Subject: [R] Confusing behavior when using gsub to insert unicode character
 (minimal working example provided)
Message-ID: <CAHJ=y948xjLzHop=+eXkMk=WM5C899EFRKpV0ik2y8bhruBgOA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140528/ddb01ba2/attachment.pl>

From dwinsemius at comcast.net  Thu May 29 05:39:27 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 28 May 2014 20:39:27 -0700
Subject: [R] Confusing behavior when using gsub to insert unicode
	character (minimal working example provided)
In-Reply-To: <CAHJ=y948xjLzHop=+eXkMk=WM5C899EFRKpV0ik2y8bhruBgOA@mail.gmail.com>
References: <CAHJ=y948xjLzHop=+eXkMk=WM5C899EFRKpV0ik2y8bhruBgOA@mail.gmail.com>
Message-ID: <1831DD04-343D-4FF7-8433-FA61C0227F20@comcast.net>


On May 28, 2014, at 7:25 PM, Thomas Stewart wrote:

> Can anyone help me understand the following behavior?
> 
> I want to replace the letter 'X' in
> ?the string ?
> 'text X' with '?' (\u226
> ?5
> ).  The output from gsub is not what I expect.  It gives: "text ???".
> 
> Now, suppose I want to replace the character '?' in
> ? the string?
> 'text ?' with '?'.  Then, gsub gives the expected, desired output.
> 
> ?What am I missing?
> 
> Thanks for any insight.
> -tgs
> 
> Minimal Working Example:
> 
> string1 <- "text X"; string1
> new_string1 <- gsub("X","\u2265",string1); new_string1

Try this instead:

> new_string1 <- gsub("X","\\\u2265",string1); new_string1
[1] "text ?"

Each "\" needs to be escaped, both the "\" in \u2265 as well as the "\" that escapes it.

> nchar("\\")
[1] 1
> nchar("\\\u2265")
[1] 2

You would be well-served by spending effort at reading:

?Quotes

-- 
David.
> 
> string2 <- "text \u2264"; string2
> new_string2 <- gsub("\u2264","\u2265",string2); new_string2
> 
> charToRaw(new_string1)
> charToRaw(new_string2)
> 
> sessionInfo()
> 
> ## OUTPUT
> 
>> string1 <- "text X"; string1
> [1] "text X"
> 
>> new_string1 <- gsub("X","\u2265",string1); new_string1
> [1] "text ???"
> 
>> string2 <- "text \u2264"; string2
> [1] "text ?"
> 
>> new_string2 <- gsub("\u2264","\u2265",string2); new_string2
> [1] "text ?"
> 
>> charToRaw(new_string1)
> [1] 74 65 78 74 20 e2 89 a5


> charToRaw("\\\u2265")
[1] 5c e2 89 a5



> 
>> charToRaw(new_string2)
> [1] 74 65 78 74 20 e2 89 a5
> 
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
> 

It was a good idea to post sessionInfo(), but it would have been even better to have posted in plain text.


> 	[[alternative HTML version deleted]]
> 
-- 

David Winsemius
Alameda, CA, USA


From actuary at umbc.edu  Thu May 29 07:55:40 2014
From: actuary at umbc.edu (Stephen Meskin)
Date: Thu, 29 May 2014 01:55:40 -0400
Subject: [R] Problem with sample session
Message-ID: <5386CBDC.3050901@umbc.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/4d0efa2a/attachment.pl>

From petr.pikal at precheza.cz  Thu May 29 08:21:42 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Thu, 29 May 2014 06:21:42 +0000
Subject: [R] How to unstack three columns into rows?
In-Reply-To: <85B6114EA2D.000017C0jrkrideau@inbox.com>
References: <col130-w9459e2ad38ad8cefb02699fa3a0@phx.gbl>
	<85B6114EA2D.000017C0jrkrideau@inbox.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD24C0@SRVEXCHMBX.precheza.cz>

Thanks John

Up to now I used reshape package but it seems that I will need to switch to reshape2 if the former starts to be considered ancient.

Regards
Petr

> -----Original Message-----
> From: John Kane [mailto:jrkrideau at inbox.com]
> Sent: Wednesday, May 28, 2014 5:13 PM
> To: PIKAL Petr; Kristi Glover; R-help
> Subject: Re: [R] How to unstack three columns into rows?
>
> Hi Petr
>
> I think cast() has been dropped from the most recent reshape2 and you
> need dcast(data, siteS~species) instead
>
> John Kane
> Kingston ON Canada
>
>
> > -----Original Message-----
> > From: petr.pikal at precheza.cz
> > Sent: Tue, 27 May 2014 11:46:13 +0000
> > To: kristi.glover at hotmail.com, r-help at r-project.org
> > Subject: Re: [R] How to unstack three columns into rows?
> >
> > Hi
> >
> > cast(data, siteS~species)
> >
> > gives you quite close result, only row ordering is different
> >
> > Regards
> > Petr
> >
> >
> >> -----Original Message-----
> >> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> >> project.org] On Behalf Of Kristi Glover
> >> Sent: Tuesday, May 27, 2014 12:54 PM
> >> To: R-help
> >> Subject: [R] How to unstack three columns into rows?
> >>
> >> Dear R User,
> >> I was wondering how I can unstack my data. For example I have
> >> following data set
> >>
> >> data<-structure(list(siteS = structure(c(3L, 3L, 3L, 4L, 4L, 5L, 5L,
> >> 5L, 5L, 5L, 1L, 1L, 1L, 2L), .Label = c("11a", "12d", "1a", "2v",
> >> "6a"), class = "factor"), species = structure(c(1L, 2L, 3L, 1L, 4L,
> >> 1L, 4L, 5L, 2L, 3L, 1L, 6L, 3L, 1L), .Label = c("sa", "sb", "sc",
> >> "sd", "se", "sg"), class = "factor"), abundance = c(31L, 55L, 62L,
> >> 42L, 40L, 30L, 84L, 10L, 23L, 74L, 11L, 51L, 37L, 15L )), .Names =
> >> c("siteS", "species", "abundance"), class = "data.frame", row.names
> =
> >> c(NA,
> >> -14L))
> >>
> >> I wanted to have this data into following format
> >>
> >> newData<-structure(list(siteS = structure(c(3L, 4L, 5L, 1L, 2L),
> >> .Label = c("11a", "12d", "1a", "2v", "6a"), class = "factor"), sa =
> >> c(31L, 42L, 30L, 11L, 15L), sb = c(55L, NA, 84L, NA, NA), sc =
> c(62L,
> >> NA, 10L, 37L, NA), sd = c(NA, 40L, 23L, NA, NA), se = c(NA, NA, 74L,
> >> NA, NA), sg = c(NA, NA, NA, 51L, NA)), .Names = c("siteS", "sa",
> >> "sb", "sc", "sd", "se", "sg"), class = "data.frame", row.names =
> >> c(NA,
> >> -5L))
> >>
> >> I tried several ways such as:
> >>> data.frame(unstack(data, species~siteS))
> >> Error in data.frame(`11a` = c("sa", "sg", "sc"), `12d` = "sa", `1a`
> =
> >> c("sa",  :
> >>   arguments imply differing number of rows: 3, 1, 2, 5
> >>
> >>
> >>
> >>       [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-
> >> guide.html and provide commented, minimal, self-contained,
> >> reproducible code.
> >
> > ________________________________
> > Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a
> > jsou ur?eny pouze jeho adres?t?m.
> > Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
> > neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho
> > kopie vyma?te ze sv?ho syst?mu.
> > Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento
> > email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> > Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou
> > modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
> >
> > V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> > - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
> > smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> > - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
> > p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet?
> nab?dky
> > ze strany p??jemce s dodatkem ?i odchylkou.
> > - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
> > v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> > - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
> > spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
> > zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
> > adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
> > p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m
> zastoupen?
> > zn?m?.
> >
> > This e-mail and any documents attached to it may be confidential and
> > are intended only for its intended recipients.
> > If you received this e-mail by mistake, please immediately inform its
> > sender. Delete the contents of this e-mail with all attachments and
> > its copies from your system.
> > If you are not the intended recipient of this e-mail, you are not
> > authorized to use, disseminate, copy or disclose this e-mail in any
> > manner.
> > The sender of this e-mail shall not be liable for any possible damage
> > caused by modifications of the e-mail or by delay with transfer of
> the
> > email.
> >
> > In case that this e-mail forms part of business dealings:
> > - the sender reserves the right to end negotiations about entering
> > into a contract in any time, for any reason, and without stating any
> reasoning.
> > - if the e-mail contains an offer, the recipient is entitled to
> > immediately accept such offer; The sender of this e-mail (offer)
> > excludes any acceptance of the offer on the part of the recipient
> > containing any amendment or variation.
> > - the sender insists on that the respective contract is concluded
> only
> > upon an express mutual agreement on all its aspects.
> > - the sender of this e-mail informs that he/she is not authorized to
> > enter into any contracts on behalf of the company except for cases in
> > which he/she is expressly authorized to do so in writing, and such
> > authorization or power of attorney is submitted to the recipient or
> > the person represented by the recipient, or the existence of such
> > authorization is known to the recipient of the person represented by
> > the recipient.
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ____________________________________________________________
> FREE 3D MARINE AQUARIUM SCREENSAVER - Watch dolphins, sharks & orcas on
> your desktop!
> Check it out at http://www.inbox.com/marineaquarium
>


________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From vweinbir at gmail.com  Thu May 29 09:48:05 2014
From: vweinbir at gmail.com (Verena Weinbir)
Date: Thu, 29 May 2014 09:48:05 +0200
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD23D8@SRVEXCHMBX.precheza.cz>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
	<1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
	<CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD23D8@SRVEXCHMBX.precheza.cz>
Message-ID: <CAMuCtg7xz5xTQf9pEaYMhmZ-6PTHn8y4APg1h-xveAwd4DJmmQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/614ca090/attachment.pl>

From luca.cerone at gmail.com  Thu May 29 10:04:58 2014
From: luca.cerone at gmail.com (Luca Cerone)
Date: Thu, 29 May 2014 10:04:58 +0200
Subject: [R] Redefine `[` for S3 class
Message-ID: <CAFnz2-8KRuFipFiTnBncEE0xRfq7+Dyb5dLq-VxfP8qD8s5x_Q@mail.gmail.com>

Dear all,
I have defined my own class "myclass" using S3 class styles.
A myclass objects is just a matrix with some attribute attached.
When I subset my myclass the resulting matrix (or vector) doesn't
have the attributes attached.

I would like to redefine the `[` function for myclass objects (it has to behave
the same as the standard function but just attach the attributes to the subset).

I have tried to define the method:

`['.myclass <- function(X,... ) { etc...}

but it doesn't work ( I realized after that `[` is a .Primitive).
How can I define this method for my own class?

Thanks a lot in advance for the help,

Cheers,
Luca


From petr.pikal at precheza.cz  Thu May 29 10:16:13 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Thu, 29 May 2014 08:16:13 +0000
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <CAMuCtg7xz5xTQf9pEaYMhmZ-6PTHn8y4APg1h-xveAwd4DJmmQ@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
	<1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
	<CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD23D8@SRVEXCHMBX.precheza.cz>
	<CAMuCtg7xz5xTQf9pEaYMhmZ-6PTHn8y4APg1h-xveAwd4DJmmQ@mail.gmail.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2544@SRVEXCHMBX.precheza.cz>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/ce3ea4a7/attachment.pl>

From thanoon.younis80 at gmail.com  Thu May 29 11:36:40 2014
From: thanoon.younis80 at gmail.com (thanoon younis)
Date: Thu, 29 May 2014 12:36:40 +0300
Subject: [R] help
Message-ID: <CABLo8nGhXDpch18m8VPNDogy7kBL02Ug-xn25pLXHjxSjE2MPA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/6ed35071/attachment.pl>

From lynn at contrastconsultancy.com  Thu May 29 12:02:42 2014
From: lynn at contrastconsultancy.com (Lynn Dunsire)
Date: Thu, 29 May 2014 11:02:42 +0100
Subject: [R] Smoothed HR for interaction term in coxph model
Message-ID: <005901cf7b25$23754c90$6a5fe5b0$@contrastconsultancy.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/ef571817/attachment.pl>

From smartpink111 at yahoo.com  Thu May 29 13:18:24 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 29 May 2014 04:18:24 -0700 (PDT)
Subject: [R] Combining data frames
Message-ID: <1401362304.87794.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,

You can try ?merge() or ?join() from library(plyr)
merge(tempr, pr, by="date",all=TRUE)

A.K.


Hi, all!
?I have a problem. I have 2 data frame. Each contains column: "date" and one unique column (temperature and pressure correspondingly). But dates are not a same. First one since 1st Jan 2012 to 31 Dec 2012 once per day. And second one since 5th May 2012 to 31 Sept 2012 once per day.
How can I join these frames by "date" column? Of course I need a second frame is kept in exact time place in first frame by date column.

First table:

head(tempr)
? tempr??? date
1? 2.7? 01/01/12
2? 2.3? 01/02/12
3? 1.7? 01/03/12
4? 0.1? 01/04/12
5? 0.2? 01/05/12
6? 9.4? 01/06/12


Second table:
head(pr)
??? date?????? pr
1 05/05/12 1088.000
2 05/06/12 1087.000
3 05/07/12 1087.000
4 05/08/12 1086.999
5 05/09/12 1086.000
6 05/10/12 1086.000 



From smartpink111 at yahoo.com  Thu May 29 13:32:06 2014
From: smartpink111 at yahoo.com (arun)
Date: Thu, 29 May 2014 04:32:06 -0700 (PDT)
Subject: [R] Merging by matching two columns
Message-ID: <1401363126.76824.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,
I need to merge two data sets but I need them to match two columns, not just one. For example:

Hi,

If 'dat1` and 'dat2` are the two datasets.
?merge(dat1,dat2,by=c("plant.species","insect.species"),all=TRUE)
#? plant.species insect.species visit.freq no.grains
#1?????????? p.A??????????? i.1????????? 5??????? 51
#2?????????? p.A??????????? i.2????????? 4??????? NA
#3?????????? p.A??????????? i.3????????? 1???????? 2
#4?????????? p.B??????????? i.2????????? 2??????? 21
#5?????????? p.B??????????? i.3???????? 10???????? 0
#6?????????? p.C??????????? i.1????????? 2??????? NA
#7?????????? p.C??????????? i.4????????? 6??????? NA

A.K.


Dataset 1, frequency of visits of different insect species to different plant species. Some plants are visited by more than one species of insects, and viceversa:

plant.species???? insect.species??? visit.freq
p.A?????????????????? i.1??????????????????? 5
p.A?????????????????? i.2??????????????????? 4
p.A?????????????????? i.3??????????????????? 1? 
p.B?????????????????? i.2??????????????????? 2
p.B?????????????????? i.3??????????????????? 10
p.C?????????????????? i.1??????????????????? 2
p.C?????????????????? i.4??????????????????? 6

Dataset 2, number of pollen grains transferred by the different insect species for the different plant species

plant.species???? insect.species??? no.grains
p.A?????????????????? i.1??????????????????? 51
p.A?????????????????? i.3??????????????????? 2? 
p.B?????????????????? i.2??????????????????? 21
p.B?????????????????? i.3??????????????????? 0

The datasets are not identical as some plant-insect combinations is in one but not in the other.

I need to merge both datasets making sure that both columns, "plant.species" and "insect.species", match.

I have used the merge function before, but only matching by one column, either plantor insect species, for example. Hope it's clear.

Thanks, Silvia. 



From quijote at gmx.net  Thu May 29 14:08:40 2014
From: quijote at gmx.net (phil)
Date: Thu, 29 May 2014 05:08:40 -0700 (PDT)
Subject: [R] Plot regression results with various predictors.
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD22B1@SRVEXCHMBX.precheza.cz>
References: <1401209043426-4691307.post@n4.nabble.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2257@SRVEXCHMBX.precheza.cz>
	<1401266470960-4691355.post@n4.nabble.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD22B1@SRVEXCHMBX.precheza.cz>
Message-ID: <1401365320162-4691416.post@n4.nabble.com>

Thanks a lot for your input.



--
View this message in context: http://r.789695.n4.nabble.com/Plot-regression-results-with-various-predictors-tp4691307p4691416.html
Sent from the R help mailing list archive at Nabble.com.


From tgs.public.mail at gmail.com  Thu May 29 15:15:09 2014
From: tgs.public.mail at gmail.com (Thomas Stewart)
Date: Thu, 29 May 2014 09:15:09 -0400
Subject: [R] Confusing behavior when using gsub to insert unicode
 character (minimal working example provided)
Message-ID: <CAHJ=y95ZnBF6N9F3bybToyxamJM0WMsTchAvXUOz5o0GDk2yLg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/dbe7d19d/attachment.pl>

From gunter.berton at gene.com  Thu May 29 15:34:55 2014
From: gunter.berton at gene.com (Bert Gunter)
Date: Thu, 29 May 2014 06:34:55 -0700
Subject: [R] Redefine `[` for S3 class
In-Reply-To: <CAFnz2-8KRuFipFiTnBncEE0xRfq7+Dyb5dLq-VxfP8qD8s5x_Q@mail.gmail.com>
References: <CAFnz2-8KRuFipFiTnBncEE0xRfq7+Dyb5dLq-VxfP8qD8s5x_Q@mail.gmail.com>
Message-ID: <CACk-te1uh2Ro-R4X0Z2PYP2FNgncECOnHyQRVyOqWiH+GJHpjw@mail.gmail.com>

Luca:

Well, start by using the correct syntax -- you've misplaced your quotes.

Then look at existing code, e.g.

base:::"[.factor"

A little effort on your part obviates the need to post here.

Cheers,
Bert


Bert Gunter
Genentech Nonclinical Biostatistics
(650) 467-7374

"Data is not information. Information is not knowledge. And knowledge
is certainly not wisdom."
H. Gilbert Welch




On Thu, May 29, 2014 at 1:04 AM, Luca Cerone <luca.cerone at gmail.com> wrote:
> Dear all,
> I have defined my own class "myclass" using S3 class styles.
> A myclass objects is just a matrix with some attribute attached.
> When I subset my myclass the resulting matrix (or vector) doesn't
> have the attributes attached.
>
> I would like to redefine the `[` function for myclass objects (it has to behave
> the same as the standard function but just attach the attributes to the subset).
>
> I have tried to define the method:
>
> `['.myclass <- function(X,... ) { etc...}
>
> but it doesn't work ( I realized after that `[` is a .Primitive).
> How can I define this method for my own class?
>
> Thanks a lot in advance for the help,
>
> Cheers,
> Luca
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From 538280 at gmail.com  Thu May 29 16:40:52 2014
From: 538280 at gmail.com (Greg Snow)
Date: Thu, 29 May 2014 08:40:52 -0600
Subject: [R] how to access an executing environment?
In-Reply-To: <53867F50.20800@structuremonitoring.com>
References: <53867F50.20800@structuremonitoring.com>
Message-ID: <CAFEqCdy78hB+kfGsHkhCwamDBQt2SKtf-yu+XDMSBcpiLwZ0Ag@mail.gmail.com>

I believe that what is happening is that you never run fun1, so no
environment for fun1 is ever created and therefore x1 is never defined
with its own environment.  You grab the statement y <- x1 from the
body of fun1, but then tries to evaluate it in the current environment
(where it cannot find x1).

The reason you cannot find the executing environment for fun1 is
because it is never created.

Maybe if you tell us more about what you are trying to accomplish we
can give better suggestions for how to approach it.

On Wed, May 28, 2014 at 6:29 PM, Spencer Graves
<spencer.graves at structuremonitoring.com> wrote:
> Hello:
>
>
>       I'm writing code to modify a function, and I want to know how to
> access the executing environment of the function.  The example below
> extracts the body of a function and executes a single line but can't find
> "x1" in the function's executing environment.  How would you suggest fixing
> this?  Thanks, Spencer
>
>
> fun1 <- function(x1=1){
>   y <- x1
> }
> fun2 <- function(fun=fun1){
>   bo <- body(fun)
>   bo2 <- bo[[2]]
>   z <- eval(bo2)
> }
> tst <- fun2()
>
> Error in eval(expr, envir, enclos) : object 'x1' not found
>>
>>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From olivier.charansonney at orange.fr  Thu May 29 18:02:39 2014
From: olivier.charansonney at orange.fr (Olivier Charansonney)
Date: Thu, 29 May 2014 18:02:39 +0200
Subject: [R] Help with arrays
Message-ID: <007101cf7b57$6abb8880$40329980$@orange.fr>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/263c1a39/attachment.pl>

From spencer.graves at structuremonitoring.com  Thu May 29 18:12:36 2014
From: spencer.graves at structuremonitoring.com (Spencer Graves)
Date: Thu, 29 May 2014 09:12:36 -0700
Subject: [R] how to access an executing environment?
In-Reply-To: <CAFEqCdy78hB+kfGsHkhCwamDBQt2SKtf-yu+XDMSBcpiLwZ0Ag@mail.gmail.com>
References: <53867F50.20800@structuremonitoring.com>
	<CAFEqCdy78hB+kfGsHkhCwamDBQt2SKtf-yu+XDMSBcpiLwZ0Ag@mail.gmail.com>
Message-ID: <53875C74.6070100@structuremonitoring.com>

On 5/29/2014 7:40 AM, Greg Snow wrote:
> I believe that what is happening is that you never run fun1, so no
> environment for fun1 is ever created and therefore x1 is never defined
> with its own environment.  You grab the statement y <- x1 from the
> body of fun1, but then tries to evaluate it in the current environment
> (where it cannot find x1).
>
> The reason you cannot find the executing environment for fun1 is
> because it is never created.


       Of course.  Thanks.
>
> Maybe if you tell us more about what you are trying to accomplish we
> can give better suggestions for how to approach it.


       I'm trying to create a system for animation to generate a series 
of plots from a function that creates one plot.  The current status of 
this effort is "animate" in "Ecfun" available on R-Forge 
[install.packages("Ecdat", repos="http://R-Forge.R-project.org") or "svn 
checkout svn://r-forge.r-project.org/svnroot/ecdat/"].


        Since my earlier question, I fixed that problem with " funList 
<- as.list(fun)" and then passing funList to eval.  Other problems 
remained with "op <- par(mar=c(2,2,2,1)); on.exit(par(op)); plot(1)":  
First, "op" did not get assigned where it could be found.  When I wrote 
code to do assignments manually, "on.exit" was executed before "plot".  
See below.  I can work around this also, but I hope this isn't followed 
by yet another problem like this.


       Suggestions?
       Thanks,
       Spencer


fun3 <- function(fun){
   funList <- as.list(fun)
   bo <- body(fun)
   nbo <- length(bo)
   for(ib in seq(2, length=nbo-1)){
     bi <- bo[[ib]]
     print(objects())
     print(par('mar'))
     if(as.character(bi[[1]])=="<-"){
       if(length(bi)==3){
         assign(as.character(bi[[2]]),
              eval(bi[[3]], funList) )
         next
       } else {
         warning('Possible eval problem in ',
                 as.character(bi))
       }
     }
     eval(bi, funList)
   }
   print(objects())
}

funPar <- function(y1=1, y2=2){
   op <-par(mar=c(2,2,2,1))
   on.exit(par(op))
   plot(y1)
}
fun3(funPar)
[1] "bi"      "bo"      "fun"     "funList" "ib"      "nbo"
[1] 5.1 4.1 4.1 2.1
[1] "bi"      "bo"      "fun"     "funList" "ib"      "nbo" "op"
[1] 2 2 2 1
[1] "bi"      "bo"      "fun"     "funList" "ib"      "nbo" "op"
[1] 5.1 4.1 4.1 2.1
[1] "bi"      "bo"      "fun"     "funList" "ib"      "nbo" "op"

> On Wed, May 28, 2014 at 6:29 PM, Spencer Graves
> <spencer.graves at structuremonitoring.com> wrote:
>> Hello:
>>
>>
>>        I'm writing code to modify a function, and I want to know how to
>> access the executing environment of the function.  The example below
>> extracts the body of a function and executes a single line but can't find
>> "x1" in the function's executing environment.  How would you suggest fixing
>> this?  Thanks, Spencer
>>
>>
>> fun1 <- function(x1=1){
>>    y <- x1
>> }
>> fun2 <- function(fun=fun1){
>>    bo <- body(fun)
>>    bo2 <- bo[[2]]
>>    z <- eval(bo2)
>> }
>> tst <- fun2()
>>
>> Error in eval(expr, envir, enclos) : object 'x1' not found
>>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From marc_schwartz at me.com  Thu May 29 18:22:47 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 29 May 2014 11:22:47 -0500
Subject: [R] Help with arrays
In-Reply-To: <007101cf7b57$6abb8880$40329980$@orange.fr>
References: <007101cf7b57$6abb8880$40329980$@orange.fr>
Message-ID: <5FD42D4F-9B96-4C9C-93D1-9153B8921777@me.com>


On May 29, 2014, at 11:02 AM, Olivier Charansonney <olivier.charansonney at orange.fr> wrote:

> Hello,
> 
> I would like to extract the value in row 1 corresponding to the maximum in
> row 2
> 
> 
> 
> Array W
> 
>          [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]
> [,8]     [,9]    [,10]
> 
> [1,] 651.00000 651.00000 651.00000 651.00000 651.00000 651.00000 651.00000
> 119.00000 78.00000 78.00000
> 
> [2,]  13.24184  13.24184  13.24184  13.24184  13.24184  13.24184  13.24184
> 16.19418 15.47089 15.47089
> 
>> valinit<-max(W[2,])
> 
>> valinit
> 
> [1] 16.19418
> 
> How to obtain ?119?
> 
> Thanks,


Hi,

Using ?dput can help make it easier for others to recreate your object to test code:

> dput(W)
structure(c(651, 13.24184, 651, 13.24184, 651, 13.24184, 651, 
13.24184, 651, 13.24184, 651, 13.24184, 651, 13.24184, 119, 16.19418, 
78, 15.47089, 78, 15.47089), .Dim = c(2L, 10L))


W <- structure(c(651, 13.24184, 651, 13.24184, 651, 13.24184, 651, 
                 13.24184, 651, 13.24184, 651, 13.24184, 651, 13.24184, 119, 16.19418, 
                 78, 15.47089, 78, 15.47089), .Dim = c(2L, 10L))


See ?which.max, which returns the index of the *first* maximum in the vector passed to it:

> W[1, which.max(W[2, ])]
[1] 119


You should consider what happens if there is more than one of the maximum value in the first row and if it might correspond to non-unique values in the second row.

Regards,

Marc Schwartz


From marc_schwartz at me.com  Thu May 29 18:27:47 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 29 May 2014 11:27:47 -0500
Subject: [R] Help with arrays
In-Reply-To: <5FD42D4F-9B96-4C9C-93D1-9153B8921777@me.com>
References: <007101cf7b57$6abb8880$40329980$@orange.fr>
	<5FD42D4F-9B96-4C9C-93D1-9153B8921777@me.com>
Message-ID: <99A6294B-6E2F-4486-AABB-A7E09EE6FC83@me.com>


On May 29, 2014, at 11:22 AM, Marc Schwartz <marc_schwartz at me.com> wrote:

> 
> On May 29, 2014, at 11:02 AM, Olivier Charansonney <olivier.charansonney at orange.fr> wrote:
> 
>> Hello,
>> 
>> I would like to extract the value in row 1 corresponding to the maximum in
>> row 2
>> 
>> 
>> 
>> Array W
>> 
>>         [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]
>> [,8]     [,9]    [,10]
>> 
>> [1,] 651.00000 651.00000 651.00000 651.00000 651.00000 651.00000 651.00000
>> 119.00000 78.00000 78.00000
>> 
>> [2,]  13.24184  13.24184  13.24184  13.24184  13.24184  13.24184  13.24184
>> 16.19418 15.47089 15.47089
>> 
>>> valinit<-max(W[2,])
>> 
>>> valinit
>> 
>> [1] 16.19418
>> 
>> How to obtain ?119?
>> 
>> Thanks,
> 
> 
> Hi,
> 
> Using ?dput can help make it easier for others to recreate your object to test code:
> 
>> dput(W)
> structure(c(651, 13.24184, 651, 13.24184, 651, 13.24184, 651, 
> 13.24184, 651, 13.24184, 651, 13.24184, 651, 13.24184, 119, 16.19418, 
> 78, 15.47089, 78, 15.47089), .Dim = c(2L, 10L))
> 
> 
> W <- structure(c(651, 13.24184, 651, 13.24184, 651, 13.24184, 651, 
>                 13.24184, 651, 13.24184, 651, 13.24184, 651, 13.24184, 119, 16.19418, 
>                 78, 15.47089, 78, 15.47089), .Dim = c(2L, 10L))
> 
> 
> See ?which.max, which returns the index of the *first* maximum in the vector passed to it:
> 
>> W[1, which.max(W[2, ])]
> [1] 119
> 
> 
> You should consider what happens if there is more than one of the maximum value in the first row and if it might correspond to non-unique values in the second row.


Correction in the above sentence, it should be:

You should consider what happens if there is more than one of the maximum value in the second row and if it might correspond to non-unique values in the first row.

Marc


From 538280 at gmail.com  Thu May 29 19:06:33 2014
From: 538280 at gmail.com (Greg Snow)
Date: Thu, 29 May 2014 11:06:33 -0600
Subject: [R] Problem with sample session
In-Reply-To: <5386CBDC.3050901@umbc.edu>
References: <5386CBDC.3050901@umbc.edu>
Message-ID: <CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>

This is a warning and in your case would not be a problem, but it is
good to think about and the reason why it is suggested that you avoid
using attach and be very careful when you do use attach.  What is
happening is that you first created a vector named 'x' in your global
workspace, you then create a data frame that contains a column that is
a copy of 'x' that is also named 'x' and the data frame also has
another column named 'y'.  You then later attach the data frame to the
search list (if you run the 'search()' command you will see your
search list).  This is convenient in that you can now access 'y' by
typing its name instead of something like 'dummy$y', but what happens
if you just type x?  The issue is that there are 2 objects on your
search path with that same name.  For your example it will not matter
much because they have the same value, but what if you run a command
like 'x <- 3', now you will see a single value instead of a vector of
length 20 which can lead to hard to find errors.  This is why R tries
to be helpful by warning you that there are multiple objects named 'x'
and therefore you may not be accessing the one that you think.  If you
use attach without being careful it is possible to plot (or regress or
...) one variable from one dataset against another variable from a
completely unrelated dataset and end up with meaningless results.  So,
if you use attach, be careful.  You may also want to look at the
followng functions for help with dealing with these issues: conflicts,
find, get, with, within

On Wed, May 28, 2014 at 11:55 PM, Stephen Meskin <actuary at umbc.edu> wrote:
> While following the suggestion in the manual "An Introduction to R" to
> begin with Appendix A, I ran into the problem shown below about 3/4 of
> the way down the 1st page of App. A.
>
> After using the function /attach/, I did not get visible columns in the
> data frame as indicated but the rather puzzling message emphasized below.
>
> I am running R version 3.1.0 (2014-04-10) using Windows XP.  Thanks in
> advance for your help.
>
>> > x<-1:20
>> > w<-1+sqrt(x)/2
>> > dummy<-data.frame(x=x, y=x+rnorm(x)*w)
>> > dummy
>>     x         y
>> 1   1  2.885347
>> ...
>> > fm<- lm(y ~ x, data=dummy)
>> > summary(fm)
>>
>> Call:
>> ...
>> > fm1<- lm(y ~ x, data=dummy,weight=1/w^2)
>> > summary(fm1)
>>
>> Call:
>> ...
>> > attach(dummy)
>> *_The following object is masked _by_ .GlobalEnv:
>>
>>     x_**_
>> _*
>
> --
> /Stephen A Meskin/, PhD, FSA, MAAA
> Adjunct Assistant Professor of Mathematics, UMBC
>
> **//
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From 538280 at gmail.com  Thu May 29 19:16:07 2014
From: 538280 at gmail.com (Greg Snow)
Date: Thu, 29 May 2014 11:16:07 -0600
Subject: [R] help
In-Reply-To: <CABLo8nGhXDpch18m8VPNDogy7kBL02Ug-xn25pLXHjxSjE2MPA@mail.gmail.com>
References: <CABLo8nGhXDpch18m8VPNDogy7kBL02Ug-xn25pLXHjxSjE2MPA@mail.gmail.com>
Message-ID: <CAFEqCdy3_E80M=K+kM+hm7QJD=J2+WXezQphg3jLkDe5W8zsTA@mail.gmail.com>

You should probably read the posting guide, there is a link at the
bottom of every e-mail on the list.

You provide a large amount of code but no description of what you are
trying to do with it and very little about what problem you are
having.  Most people (well me at least) are unwilling to run and look
through that much code without some more idea of what we are supposed
to be looking for.  Can you reduce the amount of code to a smaller
example that shows your problem?  can you give us more detail about
what you expect the cod to do and how what you are seeing differs from
what you are expecting?

On Thu, May 29, 2014 at 3:36 AM, thanoon younis
<thanoon.younis80 at gmail.com> wrote:
> dear all members
> i have some problems in R- code below,  is there anyone helps me to correct
> it.
> many thanks in advance
>
> thanoon
>
>
>
> ################## Ridge MM      ##################
> rm(list=ls())
> library(MASS)
> library(mvoutlier)
> library(robustbase)
> library(car)
> library(quantreg)
> n<-100
> r<-0.95
> R<-10
> p<-3
> B<-matrix(c(1,1,1,1),p+1,1)
> n.out<-round(0.10*n)
> set.seed(n)
> b0=matrix(nrow=R,ncol=1)
> b1=matrix(nrow=R,ncol=1)
> b2=matrix(nrow=R,ncol=1)
> b3=matrix(nrow=R,ncol=1)
> b.MM=matrix(nrow=R,ncol=p+1)
> b0.final=matrix(nrow=R,ncol=1)
> b1.final=matrix(nrow=R,ncol=1)
> b2.final=matrix(nrow=R,ncol=1)
> b3.final=matrix(nrow=R,ncol=1)
> MMR.BS=matrix(nrow=p+1,ncol=R)
> WL=matrix(nrow=p+1,ncol=R)
> var=matrix(nrow=p+1,ncol=R)
> beta.error=matrix(nrow=p+1,ncol=R)
> for (i in 1:R){
>   z11<-rnorm(n,0,1)
>   z22<-rnorm(n,0,1)
>   z33<-rnorm(n,0,1)
>   z44<-rnorm(n,0,1)
>   x1<-(1-r)*z11+sqrt(r)*z44
>   x2<-(1-r)*z22+sqrt(r)*z44
>   x3<-(1-r)*z33+sqrt(r)*z44
>   x<-as.matrix(data.frame(x1,x2,x3))
>   e<-rnorm(n,0,1)
>   e[1:n.out]<-100
>   y<-1+x1+x2+x3+e
>   stand<-function(x){(x-mean(x))/sd(x)*(n-1)^-0.5}
>   x11<-stand(x1)
>   x22<-stand(x2)
>   x33<-stand(x3)
>   X<-as.matrix(data.frame(1,x11,x22,x33))
>   y1<-stand(y)
>   data1<-data.frame(y1,x11,x22,x33)
>
> b.MM<- rlm(y1~.,data1,psi=psi.bisquare,method="MM",k2=4.685)
> beta=as.matrix(coef(b.MM))
> b0[i]=beta[1]
> b1[i]=beta[2]
> b2[i]=beta[3]
> b3[i]=beta[4]
> eMM<-rlm(y1~.,data1,psi=psi.bisquare,method="MM",k2=4.685)$residuals
> sMM<-sum(eMM^2)/(n-p-1)
> b.MM.final<- rlm(y1~.,data1,psi=psi.bisquare,method="MM",k2=4.685)$coef
> kMM<-4*sMM^2/t(b.MM.final)%*%b.MM.final
> kMM<-c(kMM)
> A<-t(X)%*%X
> II<-diag(x = 1, nrow=p+1, ncol=p+1)
> KMM<-II*kMM
> MMR.BS[,i]<-solve(t(X)%*%X+KMM)%*%t(X)%*%X%*%b.MM.final
> beta.error[,i]=(MMR.BS[,i]-c(1,1,1,1))^2
> WL[i,]<-solve(II+kMM*solve(A))
> MMR.var[i,]<-sMM*WL[,i]%*%solve(A)%*%t(WL[,i])
> }
> ##############################################
> #Bias,RMSE and SE for MMR
>
> MMR.AVE.b1<-mean(MMR.BS[2,])
> MMR.AVE.b2<-mean(MMR.BS[3,])
> MMR.AVE.b3<-mean(MMR.BS[4,])
>
> bias
> MMR.bi.b1<-mean(MMR.BS[2,])-1
> MMR.bi.b2<-mean(MMR.BS[3,])-1
> MMR.bi.b3<-mean(MMR.BS[4,])-1
>
> MSE
> MSE.b1<- (beta.error[2,])+(MMR.var[2,])
> MSE.b2<- (beta.error[3,])+(MMR.var[3,])
> MSE.b3<- (beta.error[4,])+(MMR.var[4,])
>
> RMSE
> RMSE.b1<-sqrt((beta.error[2,])+(MMR.var[2,]))
> RMSE.b2<-sqrt((beta.error[3,])+(MMR.var[3,]))
> RMSE.b3<-sqrt((beta.error[4,])+(MMR.var[4,]))
>
> sdd
> sd.b1=sqrt(MSE.b1-(MMR.bi.b1)^2)
> sd.b2=sqrt(MSE.b2-(MMR.bi.b2)^2)
> sd.b3=sqrt(MSE.b3-(MMR.bi.b3)^2)
>
> results
> res.b1=cbind(MMR.AVE.b1,MMR.bi.b1,MSE.b1,RMSE.b1,sd.b1)
> res.b2=cbind(MMR.AVE.b2,MMR.bi.b2,MSE.b2,RMSE.b2,sd.b2)
> res.b3=cbind(MMR.AVE.b3,MMR.bi.b3,MSE.b3,RMSE.b3,sd.b3)
>
> res.b1
> res.b2
> res.b3
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From geoffrey_klein at etu.u-bourgogne.fr  Thu May 29 15:46:23 2014
From: geoffrey_klein at etu.u-bourgogne.fr (jeff6868)
Date: Thu, 29 May 2014 06:46:23 -0700 (PDT)
Subject: [R] remove duplicated row according to NA condition
In-Reply-To: <1401292313.78580.YahooMailNeo@web142604.mail.bf1.yahoo.com>
References: <1401280537350-4691362.post@n4.nabble.com>
	<1401292313.78580.YahooMailNeo@web142604.mail.bf1.yahoo.com>
Message-ID: <1401371183434-4691422.post@n4.nabble.com>

Yes, this is the good one Arun! Thank you very much. 
I tried each solution but yours was the best. It works well.
Thanks anyway for all your replies!






--
View this message in context: http://r.789695.n4.nabble.com/remove-duplicated-row-according-to-NA-condition-tp4691362p4691422.html
Sent from the R help mailing list archive at Nabble.com.


From johnson.cheryl625 at gmail.com  Thu May 29 13:04:07 2014
From: johnson.cheryl625 at gmail.com (Cheryl Johnson)
Date: Thu, 29 May 2014 07:04:07 -0400
Subject: [R] saveSWF Error Message: file association not available or invalid
Message-ID: <CAJJ9dtv0yMi02fhJ7SSyFCPri8n0SbheqADFn9C0wBiEuX3Z1Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/0862f7b7/attachment.pl>

From marti_flamenkiya at hotmail.com  Thu May 29 19:02:51 2014
From: marti_flamenkiya at hotmail.com (marta valdes lopez)
Date: Thu, 29 May 2014 17:02:51 +0000
Subject: [R] (no subject)
Message-ID: <DUB119-W51DB5C3DB3DA56403450CCE4240@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/296ec692/attachment.pl>

From JLucke at ria.buffalo.edu  Thu May 29 19:55:16 2014
From: JLucke at ria.buffalo.edu (JLucke at ria.buffalo.edu)
Date: Thu, 29 May 2014 13:55:16 -0400
Subject: [R] (no subject)
In-Reply-To: <DUB119-W51DB5C3DB3DA56403450CCE4240@phx.gbl>
References: <DUB119-W51DB5C3DB3DA56403450CCE4240@phx.gbl>
Message-ID: <OF44E3F7DA.D8BADF8B-ON85257CE7.00624EB2-85257CE7.006270D7@ria.buffalo.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/5d9ab0ac/attachment.pl>

From xie at yihui.name  Thu May 29 19:56:04 2014
From: xie at yihui.name (Yihui Xie)
Date: Thu, 29 May 2014 12:56:04 -0500
Subject: [R] saveSWF Error Message: file association not available or
	invalid
In-Reply-To: <CAJJ9dtv0yMi02fhJ7SSyFCPri8n0SbheqADFn9C0wBiEuX3Z1Q@mail.gmail.com>
References: <CAJJ9dtv0yMi02fhJ7SSyFCPri8n0SbheqADFn9C0wBiEuX3Z1Q@mail.gmail.com>
Message-ID: <CANROs4fwt=bNfx7=mMTekt_Z-3Lmmz0YQe6dX+ZBS+FupbOv-Q@mail.gmail.com>

This is not a big problem. It just means your system does not have a
default program to open .swf files. If you associate, say, a movie
player, with .swf, this problem will go away.

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Web: http://yihui.name


On Thu, May 29, 2014 at 6:04 AM, Cheryl Johnson
<johnson.cheryl625 at gmail.com> wrote:
> When I run the code below, I receive the following error message. Thanks in
> advance for help with fixing this error message.
>
>
>
> saveSWF({
>
> <code>
>
> }, img.name = "file",swf.name = "file2.swf" , single.opts = "'utf8':
> false", autoplay = FALSE ,
>
> interval = 0.1, imgdir = "directory", htmlfile = "random.html", ani.height
> = 500,
>
> ani.width = 500, title = "groups",
>
> description = c("group1", "group2"))
>
> Flash has been created at:
> C:\Users\Cheryl\AppData\Local\Temp\RtmpKeQGHu\file2.swf
>
> Error in shell.exec(output.path) :
>
>   file association for
> 'C:\Users\Cheryl\AppData\Local\Temp\RtmpKeQGHu\file2.swf' not available or
> invalid
>


From dansawyer at earthlink.net  Thu May 29 22:13:10 2014
From: dansawyer at earthlink.net (dansawyer)
Date: Thu, 29 May 2014 13:13:10 -0700 (PDT)
Subject: [R] referencing a data frame with a pointer, link, alias, etc
Message-ID: <1401394390938-4691436.post@n4.nabble.com>

Good afternoon. 

The question is: does R support pointer like structures? The specific
problem is:

a function supporting operations on a set of data frames with similar
structures. 

I have a set of data frames with similar structures. I wish to perform
similar operations on those data frames. I have successfully created and
tested the operations and am ready to write a local function to perform
them. To clarify the question below is a pigeon example for the question: 

df1 <- (col1, col2, ...)
df2 <- (col1, col2, ...)

function f(var)
{var$col1 <- ...
var$col2 <- ...
}

f(df1)

Each of the data frames have common column names

I would like for f to be able to perform operations on the data frames from
within the function. I have tried testing variables without success. R
allows for creating the necessary 'strings' with the correct names, however
I am unable to bind, transform those strings to reference the data frames. 



--
View this message in context: http://r.789695.n4.nabble.com/referencing-a-data-frame-with-a-pointer-link-alias-etc-tp4691436.html
Sent from the R help mailing list archive at Nabble.com.


From safisce at gmail.com  Thu May 29 22:38:43 2014
From: safisce at gmail.com (Safiye Celik)
Date: Thu, 29 May 2014 13:38:43 -0700
Subject: [R] Multiple regression in R
Message-ID: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/7d2e295c/attachment.pl>

From dwinsemius at comcast.net  Thu May 29 23:02:49 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 29 May 2014 14:02:49 -0700
Subject: [R] referencing a data frame with a pointer, link, alias, etc
In-Reply-To: <1401394390938-4691436.post@n4.nabble.com>
References: <1401394390938-4691436.post@n4.nabble.com>
Message-ID: <5EC1D441-E296-4F97-9281-79BB833618D2@comcast.net>


On May 29, 2014, at 1:13 PM, dansawyer wrote:

> Good afternoon. 
> 
> The question is: does R support pointer like structures? The specific
> problem is:
> 
> a function supporting operations on a set of data frames with similar
> structures. 
> 
> I have a set of data frames with similar structures. I wish to perform
> similar operations on those data frames. I have successfully created and
> tested the operations and am ready to write a local function to perform
> them. To clarify the question below is a pigeon example for the question: 
> 
> df1 <- (col1, col2, ...)
> df2 <- (col1, col2, ...)

Not valid R code.

> 
> function f(var)
> {var$col1 <- ...
> var$col2 <- ...
> }
> 
> f(df1)
> 
> Each of the data frames have common column names
> 
> I would like for f to be able to perform operations on the data frames from
> within the function. I have tried testing variables without success. R
> allows for creating the necessary 'strings' with the correct names, however
> I am unable to bind, transform those strings to reference the data frames. 

Learn to use "[[" instead of "$". (There is a warning about not doing what you are doing in the help page for ?"$" .)

And furthermore when you see this message (which Nabble rather impolitely removes)
"and provide commented, minimal, self-contained, reproducible code."  ... it means real R code and not pseudo-code as you are currently offering.


David Winsemius
Alameda, CA, USA


From safisce at gmail.com  Thu May 29 23:03:43 2014
From: safisce at gmail.com (Safiye Celik)
Date: Thu, 29 May 2014 14:03:43 -0700
Subject: [R] Multiple regression in R
In-Reply-To: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
References: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
Message-ID: <CAJRSaT_W6BLomCS7OQrxzq5_jB0qEjhTij1fD7NQ4M4OpsDJjw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/4c1e7962/attachment.pl>

From sarah.goslee at gmail.com  Thu May 29 23:05:04 2014
From: sarah.goslee at gmail.com (Sarah Goslee)
Date: Thu, 29 May 2014 17:05:04 -0400
Subject: [R] Multiple regression in R
In-Reply-To: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
References: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
Message-ID: <CAM_vjukDXgGeY4U8t5QVMp4=L5RET-aEWD4hZGNBQq4nPm5rpQ@mail.gmail.com>

Hi,

I'd do it like this, making use of data frames and the data argument to lm.

traindata <- data.frame(price=price, predictor1=predictor1,
predictor2=predictor2)
testdata <- data.frame(predictor1=3, predictor2=5)
predict(lm(price ~ ., data=traindata), testdata)

Note that you don't have to specify all the predictors individually:
the . in the formula takes care of that.
Note also that ?predict.lm states that newdata should be a data frame;
I suspect trying to use a matrix is the cause of your problem.

Sarah

On Thu, May 29, 2014 at 4:38 PM, Safiye Celik <safisce at gmail.com> wrote:
> I want to perform a multiple regression in R and make predictions based on
> the trained model. Below is an example code I am using:
>
> price = c(10,18,18,11,17)
> predictors = cbind(c(5,6,3,4,5),c(2,1,8,5,6))
> predict(lm(price ~ predictors), data.frame(predictors=matrix(c(3,5),nrow=1)))
>
>  So, based on the 2-variate regression model trained by 5 samples, I want
> to make a prediction for the test data point where the first variate is 3
> and second variate is 5. But I get a warning from above code saying
> that 'newdata'
> had 1 rows but variable(s) found have 5 rows. How can I correct above code?
> Below code works fine where I give the variables separately to the model
> formula. But since I will have hundreds of variates, I have to give them in
> a matrix since it would be unfeasible to append hundreds of columns using +
>  sign.
>
> price = c(10,18,18,11,17)
> predictor1 = c(5,6,3,4,5)
> predictor2 = c(2,1,8,5,6)
> predict(lm(price ~ predictor1 + predictor2),
> data.frame(predictor1=3,predictor2=5))
>
>  Thanks in advance!
>
> --
> -safiye
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Sarah Goslee
http://www.functionaldiversity.org


From istazahn at gmail.com  Thu May 29 23:23:27 2014
From: istazahn at gmail.com (Ista Zahn)
Date: Thu, 29 May 2014 17:23:27 -0400
Subject: [R] Confusing behavior when using gsub to insert unicode
 character (minimal working example provided)
In-Reply-To: <CAHJ=y95ZnBF6N9F3bybToyxamJM0WMsTchAvXUOz5o0GDk2yLg@mail.gmail.com>
References: <CAHJ=y95ZnBF6N9F3bybToyxamJM0WMsTchAvXUOz5o0GDk2yLg@mail.gmail.com>
Message-ID: <CA+vqiLGNT5bo01ViJdi+m5QZQGgxtBNrze4P=BC_vNPLGT=wDA@mail.gmail.com>

10Hi Thomas,

On Thu, May 29, 2014 at 9:15 AM, Thomas Stewart
<tgs.public.mail at gmail.com> wrote:
> Thanks to to Ista Zahn, I was able to find a work around solution.  The key
> seems to be that string1 needs to be encoded as UTF-8 prior to being passed
> to gsub.  For whatever reason,
>
> Encoding(string1) <- "UTF-8"
>
> does not change the encoding on my Windows machine.

Right, because "ASCII strings will never be marked with a declared
encoding" (read ?Encoding again).

The work around:  I
> paste an obvious UTF-8 character "\u00A0" to the start of the string, send
> the string through gsub, then remove the "\u00A0" character from the output.
>
> string1 <- "\u00A0text X"; string1
> Encoding(string1)
> new_string1 <- gsub("X","\u2265",string1); new_string1
> new_string2 <- substring(new_string1,2); new_string2
>
> If you know of a less hackish way to accomplish this, I'm interested to
> hear it.

Why not just set the encoding after the fact, as I suggested?

string1 <- "X"; string1
new_string1 <- gsub("X","\u2265",string1); new_string1
Encoding(new_string1) <- "UTF-8"; new_string1

Best,
Ista
  However, this work around is sufficient for now.
>
> Thanks,
> -tgs
>
>
> On Wed, May 28, 2014 at 10:25 PM, Thomas Stewart <tgs.public.mail at gmail.com>
> wrote:
>
>> Can anyone help me understand the following behavior?
>>
>> I want to replace the letter 'X' in
>> the string
>> 'text X' with '?' (\u226
>> 5
>> ).  The output from gsub is not what I expect.  It gives: "text ???".
>>
>> Now, suppose I want to replace the character '?' in
>> the string
>> 'text ?' with '?'.  Then, gsub gives the expected, desired output.
>>
>> What am I missing?
>>
>> Thanks for any insight.
>> -tgs
>>
>> Minimal Working Example:
>>
>> string1 <- "text X"; string1
>> new_string1 <- gsub("X","\u2265",string1); new_string1
>>
>> string2 <- "text \u2264"; string2
>> new_string2 <- gsub("\u2264","\u2265",string2); new_string2
>>
>> charToRaw(new_string1)
>> charToRaw(new_string2)
>>
>> sessionInfo()
>>
>> ## OUTPUT
>>
>> > string1 <- "text X"; string1
>> [1] "text X"
>>
>> > new_string1 <- gsub("X","\u2265",string1); new_string1
>> [1] "text ???"
>>
>> > string2 <- "text \u2264"; string2
>> [1] "text ?"
>>
>> > new_string2 <- gsub("\u2264","\u2265",string2); new_string2
>> [1] "text ?"
>>
>> > charToRaw(new_string1)
>> [1] 74 65 78 74 20 e2 89 a5
>>
>> > charToRaw(new_string2)
>> [1] 74 65 78 74 20 e2 89 a5
>>
>> > sessionInfo()
>> R version 3.0.2 (2013-09-25)
>> Platform: x86_64-w64-mingw32/x64 (64-bit)
>>
>> locale:
>> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
>> States.1252    LC_MONETARY=English_United States.1252
>> [4] LC_NUMERIC=C                           LC_TIME=English_United
>> States.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_3.0.2
>>
>
>         [[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jdnewmil at dcn.davis.CA.us  Thu May 29 23:10:02 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Thu, 29 May 2014 14:10:02 -0700
Subject: [R] referencing a data frame with a pointer, link, alias, etc
In-Reply-To: <1401394390938-4691436.post@n4.nabble.com>
References: <1401394390938-4691436.post@n4.nabble.com>
Message-ID: <2bed4933-0080-4aaf-8386-ff5ead74093c@email.android.com>

Yes and no. There are "lists" that can hold anything, but for normal objects there are no "pass by reference" semantics. The exception to that is environments, but that is really a limited scope of usability. That is, you can receive a changed object in the calling scope and choose to overwrite your original variable if you choose.

If you provided the "minimal reproducible example" asked for you might get some code examples in return.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 29, 2014 1:13:10 PM PDT, dansawyer <dansawyer at earthlink.net> wrote:
>Good afternoon. 
>
>The question is: does R support pointer like structures? The specific
>problem is:
>
>a function supporting operations on a set of data frames with similar
>structures. 
>
>I have a set of data frames with similar structures. I wish to perform
>similar operations on those data frames. I have successfully created
>and
>tested the operations and am ready to write a local function to perform
>them. To clarify the question below is a pigeon example for the
>question: 
>
>df1 <- (col1, col2, ...)
>df2 <- (col1, col2, ...)
>
>function f(var)
>{var$col1 <- ...
>var$col2 <- ...
>}
>
>f(df1)
>
>Each of the data frames have common column names
>
>I would like for f to be able to perform operations on the data frames
>from
>within the function. I have tried testing variables without success. R
>allows for creating the necessary 'strings' with the correct names,
>however
>I am unable to bind, transform those strings to reference the data
>frames. 
>
>
>
>--
>View this message in context:
>http://r.789695.n4.nabble.com/referencing-a-data-frame-with-a-pointer-link-alias-etc-tp4691436.html
>Sent from the R help mailing list archive at Nabble.com.
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From jim at bitwrit.com.au  Fri May 30 01:00:15 2014
From: jim at bitwrit.com.au (Jim Lemon)
Date: Fri, 30 May 2014 09:00:15 +1000
Subject: [R] referencing a data frame with a pointer, link, alias, etc
In-Reply-To: <1401394390938-4691436.post@n4.nabble.com>
References: <1401394390938-4691436.post@n4.nabble.com>
Message-ID: <4380703.4193bi4Tck@localhost.localdomain>

On Thu, 29 May 2014 01:13:10 PM dansawyer wrote:
> Good afternoon.
> 
> The question is: does R support pointer like structures? The specific
> problem is:
> 
> a function supporting operations on a set of data frames with similar
> structures.
> 
> I have a set of data frames with similar structures. I wish to perform
> similar operations on those data frames. I have successfully created 
and
> tested the operations and am ready to write a local function to 
perform
> them. To clarify the question below is a pigeon example for the 
question:
> 
> df1 <- (col1, col2, ...)
> df2 <- (col1, col2, ...)
> 
> function f(var)
> {var$col1 <- ...
> var$col2 <- ...
> }
> 
> f(df1)
> 
> Each of the data frames have common column names
> 
> I would like for f to be able to perform operations on the data frames 
from
> within the function. I have tried testing variables without success. R
> allows for creating the necessary 'strings' with the correct names, 
however
> I am unable to bind, transform those strings to reference the data 
frames.
> 
> 
Hi dansawyer,
I may not completely understand what you want to do, but I think you 
want the "get" function to sequentially process your dataframes. 
Maybe something like this:

for(df in paste("df",1:10,sep="")) {
 var<-get(df)
 #do your processing on "var"
}

If you want to read in say, CSV files one at a time:

for(df in paste("df",1:10,".csv",sep="")) {
 var<-read.csv(df)
 #do your processing on "var"
}

You may also want to define a class that specifies the structure of your 
dataframes.

Jim


From dwinsemius at comcast.net  Fri May 30 01:02:35 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 29 May 2014 16:02:35 -0700
Subject: [R] referencing a data frame with a pointer, link, alias, etc
In-Reply-To: <5387ACAD.5090106@earthlink.net>
References: <1401394390938-4691436.post@n4.nabble.com>
	<5EC1D441-E296-4F97-9281-79BB833618D2@comcast.net>
	<5387ACAD.5090106@earthlink.net>
Message-ID: <7EFFACB4-6962-46CB-80C8-C393672BEC96@comcast.net>


On May 29, 2014, at 2:54 PM, Dan Sawyer wrote:

> Thanks for the follow up.
> 
> I will look into changing the column reverences.

Please look into reading the Posting Guide. You are asked NOT to respond privately but rather to the list.

As teh footer of every message says: PLEASE do read the posting guide http://www.R-project.org/posting-guide.html


> 
> The question is still open: Does R support indirect reference to data frames. Further experimentation is not finding anything.


You need to define your terms. What would be evidence that R did or did not "support indirect reference to data.frames"?

If my indirection you mean interpretation of a vlaue before being used as an index then I showed you how to do that:

indirf <- function(dfrm, col) {dfrm[[col]]}

mydf <- data.frame(a=1:10, b=10:1)

mycol <- "b"

indirf(mydf, mycol) 
#[1] 10  9  8  7  6  5  4  3  2  1 

-- 
David

> Dan
> 
> On 05/29/2014 02:02 PM, David Winsemius wrote:
>> On May 29, 2014, at 1:13 PM, dansawyer wrote:
>> 
>>> Good afternoon.
>>> 
>>> The question is: does R support pointer like structures? The specific
>>> problem is:
>>> 
>>> a function supporting operations on a set of data frames with similar
>>> structures.
>>> 
>>> I have a set of data frames with similar structures. I wish to perform
>>> similar operations on those data frames. I have successfully created and
>>> tested the operations and am ready to write a local function to perform
>>> them. To clarify the question below is a pigeon example for the question:
>>> 
>>> df1 <- (col1, col2, ...)
>>> df2 <- (col1, col2, ...)
>> Not valid R code.
>> 
>>> function f(var)
>>> {var$col1 <- ...
>>> var$col2 <- ...
>>> }
>>> 
>>> f(df1)
>>> 
>>> Each of the data frames have common column names
>>> 
>>> I would like for f to be able to perform operations on the data frames from
>>> within the function. I have tried testing variables without success. R
>>> allows for creating the necessary 'strings' with the correct names, however
>>> I am unable to bind, transform those strings to reference the data frames.
>> Learn to use "[[" instead of "$". (There is a warning about not doing what you are doing in the help page for ?"$" .)
>> 
>> And furthermore when you see this message (which Nabble rather impolitely removes)
>> "and provide commented, minimal, self-contained, reproducible code."  ... it means real R code and not pseudo-code as you are currently offering.
>> 
>> 
>> David Winsemius
>> Alameda, CA, USA
> 

David Winsemius
Alameda, CA, USA


From erinm.hodgess at gmail.com  Fri May 30 02:12:20 2014
From: erinm.hodgess at gmail.com (Erin Hodgess)
Date: Thu, 29 May 2014 20:12:20 -0400
Subject: [R] looking at C code from the stats package
Message-ID: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/6d785b92/attachment.pl>

From marc_schwartz at me.com  Fri May 30 02:52:42 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 29 May 2014 19:52:42 -0500
Subject: [R] looking at C code from the stats package
In-Reply-To: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>
References: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>
Message-ID: <72DC1769-54D1-45A0-A756-7E13FAFC7030@me.com>


On May 29, 2014, at 7:12 PM, Erin Hodgess <erinm.hodgess at gmail.com> wrote:

> Dear R People:
> 
> How are you?
> 
> I would like to look at the underlying C code from the program C_ARIMA_Like
> in the stats package.
> 
> However, since that is a base package, I'm not entirely sure how to access
> this.
> 
> When I used the .C(C_ARIMA_Like....)
> 
> it says that the C_ARIMA_Like cannot be found.
> 
> This is on Windows 7, R version 3.0.2.
> 
> Thank you for any help!
> Sincerely,
> Erin


Hi Erin,

If you are working from a binary install of R, you won't able to see the sources for C or FORTRAN based functions.

If it is a base package in the '../library' tree like 'stats', in the source tarball from CRAN or in the R SVN repo, there will be a 'src' directory for the package where relevant C and/or FORTRAN code will be contained.

As an example for arima.c, in the SVN repo for the 3.0 branch tree:

  https://svn.r-project.org/R/branches/R-3-0-branch/src/library/stats/src/arima.c

For R-Devel, it will be in 'trunk':

  https://svn.r-project.org/R/trunk/src/library/stats/src/arima.c

Scroll down or search in the arima.c source for the function name "ARIMA_Like".

If you know something about SVN repo trees, the path will make sense.

Other common C and/or FORTRAN code that is not part of the base packages may be in the ../src/main directory:

  https://svn.r-project.org/R/branches/R-3-0-branch/src/main/

and there is a file 'names.c' that can be helpful in locating specific C functions and their associated declared C names.

For Recommended packages, there is also a separate SVN repo at:

  https://svn.r-project.org/R-packages/

but it may be easier to download the tarball for each package from CRAN.

Regards,

Marc Schwartz


From erinm.hodgess at gmail.com  Fri May 30 02:56:04 2014
From: erinm.hodgess at gmail.com (Erin Hodgess)
Date: Thu, 29 May 2014 20:56:04 -0400
Subject: [R] looking at C code from the stats package
In-Reply-To: <72DC1769-54D1-45A0-A756-7E13FAFC7030@me.com>
References: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>
	<72DC1769-54D1-45A0-A756-7E13FAFC7030@me.com>
Message-ID: <CACxE24n_2J_78vFQCnvm0mB=rupTFosk3s+9=HcpYtE+sEGRHw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140529/9d627162/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Fri May 30 03:11:05 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Thu, 29 May 2014 18:11:05 -0700
Subject: [R] looking at C code from the stats package
In-Reply-To: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>
References: <CACxE24=O6Eh-hgoK+yjnE7G5xQBx5F+AsAWivuw4vG_fUtsfeQ@mail.gmail.com>
Message-ID: <30297a60-d8c9-4031-bb1a-abbd30486de5@email.android.com>

You need to download the R source code to view source code of compiled functions, whether they are C or Fortran or any other compiled language. Are you familiar with compiled languages?

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 29, 2014 5:12:20 PM PDT, Erin Hodgess <erinm.hodgess at gmail.com> wrote:
>Dear R People:
>
>How are you?
>
>I would like to look at the underlying C code from the program
>C_ARIMA_Like
>in the stats package.
>
>However, since that is a base package, I'm not entirely sure how to
>access
>this.
>
>When I used the .C(C_ARIMA_Like....)
>
>it says that the C_ARIMA_Like cannot be found.
>
>This is on Windows 7, R version 3.0.2.
>
>Thank you for any help!
>Sincerely,
>Erin


From actuary at umbc.edu  Thu May 29 23:56:14 2014
From: actuary at umbc.edu (Stephen Meskin)
Date: Thu, 29 May 2014 17:56:14 -0400
Subject: [R] Problem with sample session
In-Reply-To: <CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
References: <5386CBDC.3050901@umbc.edu>
	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
Message-ID: <8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>

Thanks Greg for your response. Is there a work around?

Of course this begs the question as to Why is attach part of the sample session in App. A of the introductory manual? All the commands are directly from App. A. Is it possible the configuration of R on my computer is not in accord with acceptable practice? I.e. Could my configuration be set so that attach works as App. A intends?
If not then App. A needs to be changed to replace attach.
If so, then App. A needs to provide instructing on appropriate configuration of R for newbies.

Stephen Meskin
Sent from my iPad

> On May 29, 2014, at 1:06 PM, Greg Snow <538280 at gmail.com> wrote:
> 
> This is a warning and in your case would not be a problem, but it is
> good to think about and the reason why it is suggested that you avoid
> using attach and be very careful when you do use attach.  What is
> happening is that you first created a vector named 'x' in your global
> workspace, you then create a data frame that contains a column that is
> a copy of 'x' that is also named 'x' and the data frame also has
> another column named 'y'.  You then later attach the data frame to the
> search list (if you run the 'search()' command you will see your
> search list).  This is convenient in that you can now access 'y' by
> typing its name instead of something like 'dummy$y', but what happens
> if you just type x?  The issue is that there are 2 objects on your
> search path with that same name.  For your example it will not matter
> much because they have the same value, but what if you run a command
> like 'x <- 3', now you will see a single value instead of a vector of
> length 20 which can lead to hard to find errors.  This is why R tries
> to be helpful by warning you that there are multiple objects named 'x'
> and therefore you may not be accessing the one that you think.  If you
> use attach without being careful it is possible to plot (or regress or
> ...) one variable from one dataset against another variable from a
> completely unrelated dataset and end up with meaningless results.  So,
> if you use attach, be careful.  You may also want to look at the
> followng functions for help with dealing with these issues: conflicts,
> find, get, with, within
> 
>> On Wed, May 28, 2014 at 11:55 PM, Stephen Meskin <actuary at umbc.edu> wrote:
>> While following the suggestion in the manual "An Introduction to R" to
>> begin with Appendix A, I ran into the problem shown below about 3/4 of
>> the way down the 1st page of App. A.
>> 
>> After using the function /attach/, I did not get visible columns in the
>> data frame as indicated but the rather puzzling message emphasized below.
>> 
>> I am running R version 3.1.0 (2014-04-10) using Windows XP.  Thanks in
>> advance for your help.
>> 
>>>> x<-1:20
>>>> w<-1+sqrt(x)/2
>>>> dummy<-data.frame(x=x, y=x+rnorm(x)*w)
>>>> dummy
>>>    x         y
>>> 1   1  2.885347
>>> ...
>>>> fm<- lm(y ~ x, data=dummy)
>>>> summary(fm)
>>> 
>>> Call:
>>> ...
>>>> fm1<- lm(y ~ x, data=dummy,weight=1/w^2)
>>>> summary(fm1)
>>> 
>>> Call:
>>> ...
>>>> attach(dummy)
>>> *_The following object is masked _by_ .GlobalEnv:
>>> 
>>>    x_**_
>>> _*
>> 
>> --
>> /Stephen A Meskin/, PhD, FSA, MAAA
>> Adjunct Assistant Professor of Mathematics, UMBC
>> 
>> **//
>> 
>>        [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> 
> 
> -- 
> Gregory (Greg) L. Snow Ph.D.
> 538280 at gmail.com
> 


From milbo at sonic.net  Fri May 30 09:10:53 2014
From: milbo at sonic.net (Stephen Milborrow)
Date: Fri, 30 May 2014 09:10:53 +0200
Subject: [R] Problem Creating Partial Dependence Plot
Message-ID: <BD2646033BD94BA29048F00B5ABF794B@Studio17>

> Jane Shevtsov wrote:
>
> I am trying to use the plotmo package to generate a partial dependence 
> plot
> for a CART model created with rpart. When running plotmo, I get "Error:
> get.plotmo.y returned the wrong length (got 204938 expected 205000)". The
> rpart predict function does indeed return 204938 results, but plotmo is
> supposed to be able to handle NA's in rpart models.  What I might do about
> this?

It?s because you have NAs in y; plotmo only allows them in x (and then only 
with rpart models).  The plotmo help page is admittedly not clear on this 
and I will update it in due course.


From aguitatierra at hotmail.com  Fri May 30 09:37:14 2014
From: aguitatierra at hotmail.com (Beatriz)
Date: Fri, 30 May 2014 15:37:14 +0800
Subject: [R] Scatter plot selection points
Message-ID: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>

Hi all,

I'd like to do a scatterplot where some of the values, out of a subset, 
are plotted differently in color and shape.
I've worked around the following code but I don't manage to make it right.
Any help greatly appreciated!

# My data
dd <- iris
iris$Code <- 1:150

# A selection of my data I'd like to plot differently
subset <- subset(iris, iris$Sepal.Width<5)
sel <- as.character(subset$Code) # I think the problems start already 
here :)

# Plotting doesn't work
plot(iris$Sepal.Length ~ iris$Sepal.Widith,
      col=ifelse(iris$Code==sel, "red", "black")
      pch=ifelse(iris$Code==sel, 17, 1))


From petr.pikal at precheza.cz  Fri May 30 09:43:53 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Fri, 30 May 2014 07:43:53 +0000
Subject: [R] Dataframe: Average cells of two rows and replace them with
 one row
In-Reply-To: <CAMuCtg5nBmBubbrrS8-W4Z9RdO24rj9bi_U1ScAQM76O9HfUUQ@mail.gmail.com>
References: <CAMuCtg6BSOaSXhysTbFz98xymmA_NC91bitAmOVq5JixUEYcmg@mail.gmail.com>
	<1401241685.76187.YahooMailNeo@web142602.mail.bf1.yahoo.com>
	<CAMuCtg4RUQO3k3vu2y-Kvzi+EzdWPPP4STBDWv11t7mAvsCk-Q@mail.gmail.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD23D8@SRVEXCHMBX.precheza.cz>
	<CAMuCtg7xz5xTQf9pEaYMhmZ-6PTHn8y4APg1h-xveAwd4DJmmQ@mail.gmail.com>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD2544@SRVEXCHMBX.precheza.cz>
	<CAMuCtg5nBmBubbrrS8-W4Z9RdO24rj9bi_U1ScAQM76O9HfUUQ@mail.gmail.com>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28AB@SRVEXCHMBX.precheza.cz>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/732bb8cf/attachment.pl>

From nilsson.henric at gmail.com  Fri May 30 09:39:45 2014
From: nilsson.henric at gmail.com (Henric Winell)
Date: Fri, 30 May 2014 09:39:45 +0200
Subject: [R] partykit ctree: minbucket and case weights
In-Reply-To: <web-22637196@embe2.iup.edu>
References: <web-22637196@embe2.iup.edu>
Message-ID: <538835C1.8000206@gmail.com>

Amber Dawn Nolder wrote 2014-05-28 23:16:
>
>     Hello,
>     I am an R novice, and I am using the "partykit" package to create
>     regression trees. I used the following to generate the trees:
>     ctree(y~x1+x2+x3+x4,data=my_data,control=ctree_control(testtype =
>     "Bonferroni", mincriterion = 0.90, minsplit = 12, minbucket = 4,
>     majority = TRUE)
>     I thought that "minbucket" set the minimum value for the sum of weights
>     in each terminal node, and that each case weight is 1, unless otherwise
>     specified. In which case, the sum of case weights in a node should equal the
>     number of cases (n) in that node. However, I  sometimes obtain a tree with
>     a terminal node that contains fewer than 4 cases.

I do agree that the tree below looks suspicious.  You may have found a 
bug.

But you didn't provide "commented, minimal, self-contained, reproducible 
code", i.e., we're missing your 'my_data' object, and therefore we 
cannot reproduce this easily.  Can you please provide us with the output 
from 'dput(my_data)'?

>     My data set has a total of 36 cases. The dependent and all independent
>     variables are continuous data. Variables x1 and x2 contain missing (NA)
>     values.

I tried a few other data sets and there the results seem to come out OK 
(even after inducing NAs).

>     Could someone please explain why I am getting these results?

Probably.  But you need to provide a reproducible example and the 
details obtained by 'sessionInfo()'.

As per the posting guide, since this is a contributed package you should 
first contact its maintainer (Torsten Hothorn, CC'd) and only post here 
if you get no reply.  Did you try contacting Torsten?

>     Am I  mistaken about the value of case weights or about the use of minbucket
>     to restrict the size of a terminal node?

I don't think you're mistaken since '?ctree_control' says that 
"minbucket: the minimum sum of weights in a terminal node."


Henric



>     This is an example of the output:
>     Model formula:
>     y ~ x1 + x2 + x3 + x4
>     Fitted party:
>     [1] root
>     |   [2] x4 <= 30: 0.927 (n = 17, err = 1.1)
>     |   [3] x4 > 30
>     |   |   [4] x2 <= 43: 0.472 (n = 8, err = 0.4)
>     |   |   [5] x2 > 43
>     |   |   |   [6] x3 <= 0.4: 0.282 (n = 3, err = 0.0)
>     |   |   |   [7] x3 > 0.4: 0.020 (n = 8, err = 0.0)
>     Number of inner nodes:    3
>     Number of terminal nodes: 4
>     Many thanks!
>     Amber Nolder
>     Graduate Student
>     Indiana University of Pennsylvania
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From petr.pikal at precheza.cz  Fri May 30 09:57:39 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Fri, 30 May 2014 07:57:39 +0000
Subject: [R] Scatter plot selection points
In-Reply-To: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
References: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>

Hi

> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> project.org] On Behalf Of Beatriz
> Sent: Friday, May 30, 2014 9:37 AM
> To: R Help
> Subject: [R] Scatter plot selection points
>
> Hi all,
>
> I'd like to do a scatterplot where some of the values, out of a subset,
> are plotted differently in color and shape.
> I've worked around the following code but I don't manage to make it
> right.
> Any help greatly appreciated!
>
> # My data
> dd <- iris
> iris$Code <- 1:150
>
> # A selection of my data I'd like to plot differently
> subset <- subset(iris, iris$Sepal.Width<5)

> max(iris$Sepal.Width)
[1] 4.4
>
No values out of subset. So I changed threshold.

iris$code<-iris$Sepal.Width<3.5

> sel <- as.character(subset$Code) # I think the problems start already
> here :)
>
> # Plotting doesn't work
> plot(iris$Sepal.Length ~ iris$Sepal.Widith,
>       col=ifelse(iris$Code==sel, "red", "black")
>       pch=ifelse(iris$Code==sel, 17, 1))

Overcomplicated

plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red", "black")[iris$code+1], pch=c(17, 1)[iris$code+1])

Regards
Petr

>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From aguitatierra at hotmail.com  Fri May 30 10:08:04 2014
From: aguitatierra at hotmail.com (Beatriz)
Date: Fri, 30 May 2014 16:08:04 +0800
Subject: [R] Scatter plot selection points
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>
References: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>
Message-ID: <BLU436-SMTP138AE6C80C821C04BCD44D7D9270@phx.gbl>

Hi Ptr,

Thanks for your email however, I cannot make the code work.

Also, I quite like the "ifelse" approach. I find it very clean.

Cheers



On 30/05/2014 15:57, PIKAL Petr wrote:
> Hi
>
>> -----Original Message-----
>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
>> project.org] On Behalf Of Beatriz
>> Sent: Friday, May 30, 2014 9:37 AM
>> To: R Help
>> Subject: [R] Scatter plot selection points
>>
>> Hi all,
>>
>> I'd like to do a scatterplot where some of the values, out of a subset,
>> are plotted differently in color and shape.
>> I've worked around the following code but I don't manage to make it
>> right.
>> Any help greatly appreciated!
>>
>> # My data
>> dd <- iris
>> iris$Code <- 1:150
>>
>> # A selection of my data I'd like to plot differently
>> subset <- subset(iris, iris$Sepal.Width<5)
>> max(iris$Sepal.Width)
> [1] 4.4
> No values out of subset. So I changed threshold.
>
> iris$code<-iris$Sepal.Width<3.5
>
>> sel <- as.character(subset$Code) # I think the problems start already
>> here :)
>>
>> # Plotting doesn't work
>> plot(iris$Sepal.Length ~ iris$Sepal.Widith,
>>        col=ifelse(iris$Code==sel, "red", "black")
>>        pch=ifelse(iris$Code==sel, 17, 1))
> Overcomplicated
>
> plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red", "black")[iris$code+1], pch=c(17, 1)[iris$code+1])
>
> Regards
> Petr
>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-
>> guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> ________________________________
> Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
> Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
> Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
>
> V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
> - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.
>
> This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
> If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
> If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
> The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.
>
> In case that this e-mail forms part of business dealings:
> - the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
> - if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
> - the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
> - the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.


From petr.pikal at precheza.cz  Fri May 30 11:38:39 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Fri, 30 May 2014 09:38:39 +0000
Subject: [R] Scatter plot selection points
In-Reply-To: <BLU436-SMTP138AE6C80C821C04BCD44D7D9270@phx.gbl>
References: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>
	<BLU436-SMTP138AE6C80C821C04BCD44D7D9270@phx.gbl>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD293B@SRVEXCHMBX.precheza.cz>

Hi


> -----Original Message-----
> From: Beatriz [mailto:aguitatierra at hotmail.com]
> Sent: Friday, May 30, 2014 10:08 AM
> To: PIKAL Petr; R Help
> Subject: Re: [R] Scatter plot selection points
>
> Hi Ptr,
>
> Thanks for your email however, I cannot make the code work.

Errors? What code you tried?

iris$code <- iris$Sepal.Width<3.5
plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red","black")[iris$code+1], pch=c(17, 1)[iris$code+1])

works for me without any problem.

>
> Also, I quite like the "ifelse" approach. I find it very clean.

Yes. I mean complicated is your subset approach. You can use ifelse if you like.

plot(iris$Sepal.Length ~ iris$Sepal.Width, col=ifelse(iris$code, "black", "red"), pch= ifelse(iris$code, 1,17))

Regards
Petr


>
> Cheers
>
>
>
> On 30/05/2014 15:57, PIKAL Petr wrote:
> > Hi
> >
> >> -----Original Message-----
> >> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> >> project.org] On Behalf Of Beatriz
> >> Sent: Friday, May 30, 2014 9:37 AM
> >> To: R Help
> >> Subject: [R] Scatter plot selection points
> >>
> >> Hi all,
> >>
> >> I'd like to do a scatterplot where some of the values, out of a
> >> subset, are plotted differently in color and shape.
> >> I've worked around the following code but I don't manage to make it
> >> right.
> >> Any help greatly appreciated!
> >>
> >> # My data
> >> dd <- iris
> >> iris$Code <- 1:150
> >>
> >> # A selection of my data I'd like to plot differently subset <-
> >> subset(iris, iris$Sepal.Width<5)
> >> max(iris$Sepal.Width)
> > [1] 4.4
> > No values out of subset. So I changed threshold.
> >
> > iris$code<-iris$Sepal.Width<3.5
> >
> >> sel <- as.character(subset$Code) # I think the problems start
> already
> >> here :)
> >>
> >> # Plotting doesn't work
> >> plot(iris$Sepal.Length ~ iris$Sepal.Widith,
> >>        col=ifelse(iris$Code==sel, "red", "black")
> >>        pch=ifelse(iris$Code==sel, 17, 1))
> > Overcomplicated
> >
> > plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red",
> > "black")[iris$code+1], pch=c(17, 1)[iris$code+1])
> >
> > Regards
> > Petr
> >
> >> ______________________________________________
> >> R-help at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-
> >> guide.html and provide commented, minimal, self-contained,
> >> reproducible code.
> > ________________________________
> > Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a
> jsou ur?eny pouze jeho adres?t?m.
> > Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
> neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho
> kopie vyma?te ze sv?ho syst?mu.
> > Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento
> email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> > Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou
> modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
> >
> > V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> > - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
> smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> > - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
> p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky
> ze strany p??jemce s dodatkem ?i odchylkou.
> > - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
> v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> > - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
> spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
> zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
> adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
> p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen?
> zn?m?.
> >
> > This e-mail and any documents attached to it may be confidential and
> are intended only for its intended recipients.
> > If you received this e-mail by mistake, please immediately inform its
> sender. Delete the contents of this e-mail with all attachments and its
> copies from your system.
> > If you are not the intended recipient of this e-mail, you are not
> authorized to use, disseminate, copy or disclose this e-mail in any
> manner.
> > The sender of this e-mail shall not be liable for any possible damage
> caused by modifications of the e-mail or by delay with transfer of the
> email.
> >
> > In case that this e-mail forms part of business dealings:
> > - the sender reserves the right to end negotiations about entering
> into a contract in any time, for any reason, and without stating any
> reasoning.
> > - if the e-mail contains an offer, the recipient is entitled to
> immediately accept such offer; The sender of this e-mail (offer)
> excludes any acceptance of the offer on the part of the recipient
> containing any amendment or variation.
> > - the sender insists on that the respective contract is concluded
> only upon an express mutual agreement on all its aspects.
> > - the sender of this e-mail informs that he/she is not authorized to
> enter into any contracts on behalf of the company except for cases in
> which he/she is expressly authorized to do so in writing, and such
> authorization or power of attorney is submitted to the recipient or the
> person represented by the recipient, or the existence of such
> authorization is known to the recipient of the person represented by
> the recipient.


________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From ruipbarradas at sapo.pt  Fri May 30 12:10:04 2014
From: ruipbarradas at sapo.pt (Rui Barradas)
Date: Fri, 30 May 2014 11:10:04 +0100
Subject: [R] Multiple regression in R
In-Reply-To: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
References: <CAJRSaT-s1Vm7C_3Pe9xYa6EhnTgQxP5ss=acxBEk0N-s6HTPsA@mail.gmail.com>
Message-ID: <538858FC.1030408@sapo.pt>

Hello,

lm() is designed to work with data.frames, not with matrices. You can 
change your code to something like

dat <- data.frame(price, pred1 = c(5,6,3,4,5), pred2 = c(2,1,8,5,6))
fit <- lm(price ~ pred1 + pred2, data = dat)

and then use the fitted model to do predictions. You don't have to give 
the new values in a matrix, you can give them as vectors of a data.frame.

predict(fit, data.frame(pred1 = 1:3, pred2 = 3:5))


Hope this helps,

Rui Barradas

Em 29-05-2014 21:38, Safiye Celik escreveu:
> I want to perform a multiple regression in R and make predictions based on
> the trained model. Below is an example code I am using:
>
> price = c(10,18,18,11,17)
> predictors = cbind(c(5,6,3,4,5),c(2,1,8,5,6))
> predict(lm(price ~ predictors), data.frame(predictors=matrix(c(3,5),nrow=1)))
>
>   So, based on the 2-variate regression model trained by 5 samples, I want
> to make a prediction for the test data point where the first variate is 3
> and second variate is 5. But I get a warning from above code saying
> that 'newdata'
> had 1 rows but variable(s) found have 5 rows. How can I correct above code?
> Below code works fine where I give the variables separately to the model
> formula. But since I will have hundreds of variates, I have to give them in
> a matrix since it would be unfeasible to append hundreds of columns using +
>   sign.
>
> price = c(10,18,18,11,17)
> predictor1 = c(5,6,3,4,5)
> predictor2 = c(2,1,8,5,6)
> predict(lm(price ~ predictor1 + predictor2),
> data.frame(predictor1=3,predictor2=5))
>
>   Thanks in advance!
>


From aguitatierra at hotmail.com  Fri May 30 12:20:58 2014
From: aguitatierra at hotmail.com (Beatriz)
Date: Fri, 30 May 2014 18:20:58 +0800
Subject: [R] Scatter plot selection points
In-Reply-To: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD293B@SRVEXCHMBX.precheza.cz>
References: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>
	<BLU436-SMTP138AE6C80C821C04BCD44D7D9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD293B@SRVEXCHMBX.precheza.cz>
Message-ID: <BLU436-SMTP178346B6FE1840687D4681D9270@phx.gbl>

Hi Petr,

Initially your code didn?t work because 'Code' wasn't in uppercase. It 
works now! :) The only thing is that I wanted in red the codes > 3.5.

Optional code:
sel <- iris[iris$Sepal.Width<3.5,"Code"]
plot(iris$Sepal.Length ~ iris$Sepal.Width,
col=ifelse(iris$Code %in% sel, "red", "black"),
pch=ifelse(iris$Code %in% sel, 17, 1))

Cheers


On 30/05/2014 17:38, PIKAL Petr wrote:
> Hi
>
>
>> -----Original Message-----
>> From: Beatriz [mailto:aguitatierra at hotmail.com]
>> Sent: Friday, May 30, 2014 10:08 AM
>> To: PIKAL Petr; R Help
>> Subject: Re: [R] Scatter plot selection points
>>
>> Hi Ptr,
>>
>> Thanks for your email however, I cannot make the code work.
> Errors? What code you tried?
>
> iris$code <- iris$Sepal.Width<3.5
> plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red","black")[iris$code+1], pch=c(17, 1)[iris$code+1])
>
> works for me without any problem.
>
>> Also, I quite like the "ifelse" approach. I find it very clean.
> Yes. I mean complicated is your subset approach. You can use ifelse if you like.
>
> plot(iris$Sepal.Length ~ iris$Sepal.Width, col=ifelse(iris$code, "black", "red"), pch= ifelse(iris$code, 1,17))
>
> Regards
> Petr
>
>
>> Cheers
>>
>>
>>
>> On 30/05/2014 15:57, PIKAL Petr wrote:
>>> Hi
>>>
>>>> -----Original Message-----
>>>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
>>>> project.org] On Behalf Of Beatriz
>>>> Sent: Friday, May 30, 2014 9:37 AM
>>>> To: R Help
>>>> Subject: [R] Scatter plot selection points
>>>>
>>>> Hi all,
>>>>
>>>> I'd like to do a scatterplot where some of the values, out of a
>>>> subset, are plotted differently in color and shape.
>>>> I've worked around the following code but I don't manage to make it
>>>> right.
>>>> Any help greatly appreciated!
>>>>
>>>> # My data
>>>> dd <- iris
>>>> iris$Code <- 1:150
>>>>
>>>> # A selection of my data I'd like to plot differently subset <-
>>>> subset(iris, iris$Sepal.Width<5)
>>>> max(iris$Sepal.Width)
>>> [1] 4.4
>>> No values out of subset. So I changed threshold.
>>>
>>> iris$code<-iris$Sepal.Width<3.5
>>>
>>>> sel <- as.character(subset$Code) # I think the problems start
>> already
>>>> here :)
>>>>
>>>> # Plotting doesn't work
>>>> plot(iris$Sepal.Length ~ iris$Sepal.Widith,
>>>>         col=ifelse(iris$Code==sel, "red", "black")
>>>>         pch=ifelse(iris$Code==sel, 17, 1))
>>> Overcomplicated
>>>
>>> plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red",
>>> "black")[iris$code+1], pch=c(17, 1)[iris$code+1])
>>>
>>> Regards
>>> Petr
>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-
>>>> guide.html and provide commented, minimal, self-contained,
>>>> reproducible code.
>>> ________________________________
>>> Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a
>> jsou ur?eny pouze jeho adres?t?m.
>>> Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
>> neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho
>> kopie vyma?te ze sv?ho syst?mu.
>>> Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento
>> email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
>>> Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou
>> modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
>>> V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
>>> - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
>> smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
>>> - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
>> p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky
>> ze strany p??jemce s dodatkem ?i odchylkou.
>>> - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
>> v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
>>> - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
>> spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
>> zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
>> adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
>> p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen?
>> zn?m?.
>>> This e-mail and any documents attached to it may be confidential and
>> are intended only for its intended recipients.
>>> If you received this e-mail by mistake, please immediately inform its
>> sender. Delete the contents of this e-mail with all attachments and its
>> copies from your system.
>>> If you are not the intended recipient of this e-mail, you are not
>> authorized to use, disseminate, copy or disclose this e-mail in any
>> manner.
>>> The sender of this e-mail shall not be liable for any possible damage
>> caused by modifications of the e-mail or by delay with transfer of the
>> email.
>>> In case that this e-mail forms part of business dealings:
>>> - the sender reserves the right to end negotiations about entering
>> into a contract in any time, for any reason, and without stating any
>> reasoning.
>>> - if the e-mail contains an offer, the recipient is entitled to
>> immediately accept such offer; The sender of this e-mail (offer)
>> excludes any acceptance of the offer on the part of the recipient
>> containing any amendment or variation.
>>> - the sender insists on that the respective contract is concluded
>> only upon an express mutual agreement on all its aspects.
>>> - the sender of this e-mail informs that he/she is not authorized to
>> enter into any contracts on behalf of the company except for cases in
>> which he/she is expressly authorized to do so in writing, and such
>> authorization or power of attorney is submitted to the recipient or the
>> person represented by the recipient, or the existence of such
>> authorization is known to the recipient of the person represented by
>> the recipient.
>
> ________________________________
> Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
> Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
> Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
>
> V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
> - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.
>
> This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
> If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
> If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
> The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.
>
> In case that this e-mail forms part of business dealings:
> - the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
> - if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
> - the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
> - the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.


From petr.pikal at precheza.cz  Fri May 30 13:25:16 2014
From: petr.pikal at precheza.cz (PIKAL Petr)
Date: Fri, 30 May 2014 11:25:16 +0000
Subject: [R] Scatter plot selection points
In-Reply-To: <BLU436-SMTP178346B6FE1840687D4681D9270@phx.gbl>
References: <BLU436-SMTP23102AC46D11AD3D713011CD9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD28E8@SRVEXCHMBX.precheza.cz>
	<BLU436-SMTP138AE6C80C821C04BCD44D7D9270@phx.gbl>
	<6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD293B@SRVEXCHMBX.precheza.cz>
	<BLU436-SMTP178346B6FE1840687D4681D9270@phx.gbl>
Message-ID: <6E8D8DFDE5FA5D4ABCB8508389D1BF8802BD298F@SRVEXCHMBX.precheza.cz>

Hi

My code worked. Your code did not work because you was not aware that R distinguish case of letters :)

> -----Original Message-----
> From: Beatriz [mailto:aguitatierra at hotmail.com]
> Sent: Friday, May 30, 2014 12:21 PM
> To: PIKAL Petr; R Help
> Subject: Re: [R] Scatter plot selection points
>
> Hi Petr,
>
> Initially your code didn?t work because 'Code' wasn't in uppercase. It
> works now! :) The only thing is that I wanted in red the codes > 3.5.

If you insist on separate object for colouring purpose you can have it.

sel <- iris$Sepal.Width<3.5
plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red","black")[sel+1], pch=c(17, 1)[sel+1])

I still consider my code simpler and easier to read and understand.

sel is logical TRUE/FALSE which can be used as 1/0 in calculations.

This
c("red","black")[sel+1]
selects red if sel is FALSE and and black if sel is TRUE
the same applies to selection of pch.

If you want to change colouring just swap the red/black
c("black", "red")[sel+1]

Regards
Petr

>
> Optional code:
> sel <- iris[iris$Sepal.Width<3.5,"Code"]
> plot(iris$Sepal.Length ~ iris$Sepal.Width,
> col=ifelse(iris$Code %in% sel, "red", "black"),
> pch=ifelse(iris$Code %in% sel, 17, 1))
>
> Cheers
>
>
> On 30/05/2014 17:38, PIKAL Petr wrote:
> > Hi
> >
> >
> >> -----Original Message-----
> >> From: Beatriz [mailto:aguitatierra at hotmail.com]
> >> Sent: Friday, May 30, 2014 10:08 AM
> >> To: PIKAL Petr; R Help
> >> Subject: Re: [R] Scatter plot selection points
> >>
> >> Hi Ptr,
> >>
> >> Thanks for your email however, I cannot make the code work.
> > Errors? What code you tried?
> >
> > iris$code <- iris$Sepal.Width<3.5
> > plot(iris$Sepal.Length ~ iris$Sepal.Width,
> col=c("red","black")[iris$code+1], pch=c(17, 1)[iris$code+1])
> >
> > works for me without any problem.
> >
> >> Also, I quite like the "ifelse" approach. I find it very clean.
> > Yes. I mean complicated is your subset approach. You can use ifelse
> if you like.
> >
> > plot(iris$Sepal.Length ~ iris$Sepal.Width, col=ifelse(iris$code,
> "black", "red"), pch= ifelse(iris$code, 1,17))
> >
> > Regards
> > Petr
> >
> >
> >> Cheers
> >>
> >>
> >>
> >> On 30/05/2014 15:57, PIKAL Petr wrote:
> >>> Hi
> >>>
> >>>> -----Original Message-----
> >>>> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-
> >>>> project.org] On Behalf Of Beatriz
> >>>> Sent: Friday, May 30, 2014 9:37 AM
> >>>> To: R Help
> >>>> Subject: [R] Scatter plot selection points
> >>>>
> >>>> Hi all,
> >>>>
> >>>> I'd like to do a scatterplot where some of the values, out of a
> >>>> subset, are plotted differently in color and shape.
> >>>> I've worked around the following code but I don't manage to make
> it
> >>>> right.
> >>>> Any help greatly appreciated!
> >>>>
> >>>> # My data
> >>>> dd <- iris
> >>>> iris$Code <- 1:150
> >>>>
> >>>> # A selection of my data I'd like to plot differently subset <-
> >>>> subset(iris, iris$Sepal.Width<5)
> >>>> max(iris$Sepal.Width)
> >>> [1] 4.4
> >>> No values out of subset. So I changed threshold.
> >>>
> >>> iris$code<-iris$Sepal.Width<3.5
> >>>
> >>>> sel <- as.character(subset$Code) # I think the problems start
> >> already
> >>>> here :)
> >>>>
> >>>> # Plotting doesn't work
> >>>> plot(iris$Sepal.Length ~ iris$Sepal.Widith,
> >>>>         col=ifelse(iris$Code==sel, "red", "black")
> >>>>         pch=ifelse(iris$Code==sel, 17, 1))
> >>> Overcomplicated
> >>>
> >>> plot(iris$Sepal.Length ~ iris$Sepal.Width, col=c("red",
> >>> "black")[iris$code+1], pch=c(17, 1)[iris$code+1])
> >>>
> >>> Regards
> >>> Petr
> >>>
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide http://www.R-project.org/posting-
> >>>> guide.html and provide commented, minimal, self-contained,
> >>>> reproducible code.
> >>> ________________________________
> >>> Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a
> >> jsou ur?eny pouze jeho adres?t?m.
> >>> Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
> >> neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a
> jeho
> >> kopie vyma?te ze sv?ho syst?mu.
> >>> Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni
> tento
> >> email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> >>> Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou
> >> modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
> >>> V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> >>> - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
> >> smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> >>> - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
> >> p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet?
> nab?dky
> >> ze strany p??jemce s dodatkem ?i odchylkou.
> >>> - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
> >> v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> >>> - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
> >> spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
> >> zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
> >> adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
> >> p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m
> zastoupen?
> >> zn?m?.
> >>> This e-mail and any documents attached to it may be confidential
> and
> >> are intended only for its intended recipients.
> >>> If you received this e-mail by mistake, please immediately inform
> its
> >> sender. Delete the contents of this e-mail with all attachments and
> its
> >> copies from your system.
> >>> If you are not the intended recipient of this e-mail, you are not
> >> authorized to use, disseminate, copy or disclose this e-mail in any
> >> manner.
> >>> The sender of this e-mail shall not be liable for any possible
> damage
> >> caused by modifications of the e-mail or by delay with transfer of
> the
> >> email.
> >>> In case that this e-mail forms part of business dealings:
> >>> - the sender reserves the right to end negotiations about entering
> >> into a contract in any time, for any reason, and without stating any
> >> reasoning.
> >>> - if the e-mail contains an offer, the recipient is entitled to
> >> immediately accept such offer; The sender of this e-mail (offer)
> >> excludes any acceptance of the offer on the part of the recipient
> >> containing any amendment or variation.
> >>> - the sender insists on that the respective contract is concluded
> >> only upon an express mutual agreement on all its aspects.
> >>> - the sender of this e-mail informs that he/she is not authorized
> to
> >> enter into any contracts on behalf of the company except for cases
> in
> >> which he/she is expressly authorized to do so in writing, and such
> >> authorization or power of attorney is submitted to the recipient or
> the
> >> person represented by the recipient, or the existence of such
> >> authorization is known to the recipient of the person represented by
> >> the recipient.
> >
> > ________________________________
> > Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a
> jsou ur?eny pouze jeho adres?t?m.
> > Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav?
> neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho
> kopie vyma?te ze sv?ho syst?mu.
> > Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento
> email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
> > Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou
> modifikacemi ?i zpo?d?n?m p?enosu e-mailu.
> >
> > V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
> > - vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en?
> smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
> > - a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn?
> p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky
> ze strany p??jemce s dodatkem ?i odchylkou.
> > - trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve
> v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
> > - odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za
> spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn?
> zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly
> adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje,
> p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen?
> zn?m?.
> >
> > This e-mail and any documents attached to it may be confidential and
> are intended only for its intended recipients.
> > If you received this e-mail by mistake, please immediately inform its
> sender. Delete the contents of this e-mail with all attachments and its
> copies from your system.
> > If you are not the intended recipient of this e-mail, you are not
> authorized to use, disseminate, copy or disclose this e-mail in any
> manner.
> > The sender of this e-mail shall not be liable for any possible damage
> caused by modifications of the e-mail or by delay with transfer of the
> email.
> >
> > In case that this e-mail forms part of business dealings:
> > - the sender reserves the right to end negotiations about entering
> into a contract in any time, for any reason, and without stating any
> reasoning.
> > - if the e-mail contains an offer, the recipient is entitled to
> immediately accept such offer; The sender of this e-mail (offer)
> excludes any acceptance of the offer on the part of the recipient
> containing any amendment or variation.
> > - the sender insists on that the respective contract is concluded
> only upon an express mutual agreement on all its aspects.
> > - the sender of this e-mail informs that he/she is not authorized to
> enter into any contracts on behalf of the company except for cases in
> which he/she is expressly authorized to do so in writing, and such
> authorization or power of attorney is submitted to the recipient or the
> person represented by the recipient, or the existence of such
> authorization is known to the recipient of the person represented by
> the recipient.


________________________________
Tento e-mail a jak?koliv k n?mu p?ipojen? dokumenty jsou d?v?rn? a jsou ur?eny pouze jeho adres?t?m.
Jestli?e jste obdr?el(a) tento e-mail omylem, informujte laskav? neprodlen? jeho odes?latele. Obsah tohoto emailu i s p??lohami a jeho kopie vyma?te ze sv?ho syst?mu.
Nejste-li zam??len?m adres?tem tohoto emailu, nejste opr?vn?ni tento email jakkoliv u??vat, roz?i?ovat, kop?rovat ?i zve?ej?ovat.
Odes?latel e-mailu neodpov?d? za eventu?ln? ?kodu zp?sobenou modifikacemi ?i zpo?d?n?m p?enosu e-mailu.

V p??pad?, ?e je tento e-mail sou??st? obchodn?ho jedn?n?:
- vyhrazuje si odes?latel pr?vo ukon?it kdykoliv jedn?n? o uzav?en? smlouvy, a to z jak?hokoliv d?vodu i bez uveden? d?vodu.
- a obsahuje-li nab?dku, je adres?t opr?vn?n nab?dku bezodkladn? p?ijmout; Odes?latel tohoto e-mailu (nab?dky) vylu?uje p?ijet? nab?dky ze strany p??jemce s dodatkem ?i odchylkou.
- trv? odes?latel na tom, ?e p??slu?n? smlouva je uzav?ena teprve v?slovn?m dosa?en?m shody na v?ech jej?ch n?le?itostech.
- odes?latel tohoto emailu informuje, ?e nen? opr?vn?n uzav?rat za spole?nost ??dn? smlouvy s v?jimkou p??pad?, kdy k tomu byl p?semn? zmocn?n nebo p?semn? pov??en a takov? pov??en? nebo pln? moc byly adres?tovi tohoto emailu p??padn? osob?, kterou adres?t zastupuje, p?edlo?eny nebo jejich existence je adres?tovi ?i osob? j?m zastoupen? zn?m?.

This e-mail and any documents attached to it may be confidential and are intended only for its intended recipients.
If you received this e-mail by mistake, please immediately inform its sender. Delete the contents of this e-mail with all attachments and its copies from your system.
If you are not the intended recipient of this e-mail, you are not authorized to use, disseminate, copy or disclose this e-mail in any manner.
The sender of this e-mail shall not be liable for any possible damage caused by modifications of the e-mail or by delay with transfer of the email.

In case that this e-mail forms part of business dealings:
- the sender reserves the right to end negotiations about entering into a contract in any time, for any reason, and without stating any reasoning.
- if the e-mail contains an offer, the recipient is entitled to immediately accept such offer; The sender of this e-mail (offer) excludes any acceptance of the offer on the part of the recipient containing any amendment or variation.
- the sender insists on that the respective contract is concluded only upon an express mutual agreement on all its aspects.
- the sender of this e-mail informs that he/she is not authorized to enter into any contracts on behalf of the company except for cases in which he/she is expressly authorized to do so in writing, and such authorization or power of attorney is submitted to the recipient or the person represented by the recipient, or the existence of such authorization is known to the recipient of the person represented by the recipient.

From chrisaa at med.umich.edu  Fri May 30 14:43:42 2014
From: chrisaa at med.umich.edu (Andrews, Chris)
Date: Fri, 30 May 2014 12:43:42 +0000
Subject: [R] Smoothed HR for interaction term in coxph model
In-Reply-To: <005901cf7b25$23754c90$6a5fe5b0$@contrastconsultancy.com>
References: <005901cf7b25$23754c90$6a5fe5b0$@contrastconsultancy.com>
Message-ID: <30411786F64EEF46856EFBA2CD9177992C2CA69E@UHEXMBSPR03.umhs.med.umich.edu>

Please include example data in the future.  Perhaps the following is useful.

(1) Your model is redundant.  The "*" produces both main effects and the interaction.  So I removed the main effects from your call
(2) For my simulated data, the df=0 option chose a model that resulted in a singular fit.  I selected a smoother spline (df=2).
(3) the two plots at the end show (1) the risk (exp(linear predictor)) for combinations of "CONTINUOUS" and "DICHOTOMOUS" and (2) a ratio (risk for A vs risk for B), which I think is what you wanted.

Chris

library(survival)
set.seed(20140530)
nn <- 1000
datanew2 <- data.frame(my.surv = Surv(rexp(nn)), DICHOTOMOUS=factor(rep(c("A","B"), nn/2)), CONTINUOUS=rnorm(nn))

#surv.fit <- coxph(my.surv ~ pspline(CONTINUOUS, df=0) + factor(DICHOTOMOUS) + pspline(CONTINUOUS, df=0) * factor(DICHOTOMOUS), data=datanew2)
#surv.fit <- coxph(my.surv ~ pspline(CONTINUOUS, df=0) * factor(DICHOTOMOUS), data=datanew2)
surv.fit <- coxph(my.surv ~ pspline(CONTINUOUS, df=2) * factor(DICHOTOMOUS), data=datanew2)
surv.fit

xseq <- seq(-3, 3, length=100)
predictions <- matrix(predict(surv.fit, newdata=expand.grid(CONTINUOUS=xseq, DICHOTOMOUS=factor(c("A","B"))), type="risk"), ncol=2)
matplot(predictions, type="l")
plot(xseq, predictions[,1]/predictions[,2], type="l", ylab="Hazard Ratio of Event (A vs B)", xlab="CONTINUOUS")


-----Original Message-----
From: Lynn Dunsire [mailto:lynn at contrastconsultancy.com] 
Sent: Thursday, May 29, 2014 6:03 AM
To: r-help at r-project.org
Subject: [R] Smoothed HR for interaction term in coxph model

Hello R-help members,

 

I have a dataset with 2 treatments and want to assess the effect of a
continous covariate on the Hazard ratio between treatment A and B.  I want a
smoothed interaction term which I have modelled below with the following
code:

 

surv.fit <- coxph(my.surv ~ pspline(CONTINUOUS, df=0) + factor(DICHOTOMOUS)
+  pspline(CONTINUOUS, df=0)*factor(DICHOTOMOUS), data = datanew2)

 

and consequently I would like to obtain a smoothed plot of the hazard ratio
between treatment A and B on the y-axis with the continuous covariate on the
x-axis.  As termplot ignores interaction terms, I was wondering if anyone
has seen anything like this before and can advise on the best way to do it.

 

Many thanks in advance for any help that you can offer,

 

Kind regards,

 

Lynn 


	[[alternative HTML version deleted]]


**********************************************************
Electronic Mail is not secure, may not be read every day, and should not be used for urgent or sensitive issues 


From drewem6 at yahoo.com  Fri May 30 13:42:56 2014
From: drewem6 at yahoo.com (Drew M)
Date: Fri, 30 May 2014 04:42:56 -0700 (PDT)
Subject: [R] uGARCHspec function
Message-ID: <1401450176.92279.YahooMailNeo@web125005.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/7cd6330d/attachment.pl>

From ayako.hiyoshi.09 at alumni.ucl.ac.uk  Fri May 30 13:37:58 2014
From: ayako.hiyoshi.09 at alumni.ucl.ac.uk (Hiyoshi, Ayako)
Date: Fri, 30 May 2014 11:37:58 +0000
Subject: [R] Difference in coefficients in Cox proportional hazard estimates
 between R and Stata, why?
Message-ID: <1401449878232.81548@alumni.ucl.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/03cb9139/attachment.pl>

From istazahn at gmail.com  Fri May 30 15:01:38 2014
From: istazahn at gmail.com (Ista Zahn)
Date: Fri, 30 May 2014 09:01:38 -0400
Subject: [R] Problem with sample session
In-Reply-To: <8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
References: <5386CBDC.3050901@umbc.edu>
	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
	<8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
Message-ID: <CA+vqiLHj239O3j-fBxLQUnFfzNcBuayM+hs8B5jpqbamMt-W6w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/a8f6f91e/attachment.pl>

From erinm.hodgess at gmail.com  Fri May 30 15:21:51 2014
From: erinm.hodgess at gmail.com (Erin Hodgess)
Date: Fri, 30 May 2014 09:21:51 -0400
Subject: [R] using model coefficients on a new data set
Message-ID: <CACxE24neQzN_OaGmXccxAP-_ats=U9f4iUp-x+=q2JjMqtcPsg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/48779f40/attachment.pl>

From Stephen.Bond at cibc.com  Fri May 30 15:55:22 2014
From: Stephen.Bond at cibc.com (Bond, Stephen)
Date: Fri, 30 May 2014 13:55:22 +0000
Subject: [R] rJava fail
Message-ID: <624EC9773CAB044ABA65327271BED9B6053583E8@CBMCC-X10-MA01.ad.cibc.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/e2e45054/attachment.pl>

From magdalena.kapelko at gmail.com  Fri May 30 15:15:53 2014
From: magdalena.kapelko at gmail.com (Magdalena Kapelko)
Date: Fri, 30 May 2014 15:15:53 +0200
Subject: [R] Computer requirements to run R on huge datasets
Message-ID: <CAESDyTAuKg14kpOJR0NnRGCFYWH+j-3zZq5mzg0hE2sWjXnCdg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/9ce9a993/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Fri May 30 16:39:11 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 30 May 2014 07:39:11 -0700
Subject: [R] Computer requirements to run R on huge datasets
In-Reply-To: <CAESDyTAuKg14kpOJR0NnRGCFYWH+j-3zZq5mzg0hE2sWjXnCdg@mail.gmail.com>
References: <CAESDyTAuKg14kpOJR0NnRGCFYWH+j-3zZq5mzg0hE2sWjXnCdg@mail.gmail.com>
Message-ID: <3ed862e7-f69d-455e-85f5-3b0c28c3e58f@email.android.com>

You have given information related to the number of rows that will be involved, but have offered nothing about the number of columns. That is okay though...  you should attempt your algorithms on progressively larger datasets to gauge how your problem scales and use your operating system to observe how much memory is involved and extrapolate. You can also rent time on cloud servers such as Amazon offers.

Any minimum number we tell you could turn out to be insufficient when you start exploring your large data sets... it is better for you to make your own estimate and safety margin so you don't blame us when it turns out to run slowly or choke completely.

Also, please stop posting in HTML format as requested by the Posting Guide.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 30, 2014 6:15:53 AM PDT, Magdalena Kapelko <magdalena.kapelko at gmail.com> wrote:
>Dear R users,
>
>I am writing to ask your advice with regard to the computer
>requirements
>(RAM, architecture, processor, hard drive) in order to run R smoothly
>on
>large datasets.
>
>I will be running commands with many bootstrap replications (2000) on
>the
>datasets of 100000 firms.
>
>Thank you in advance for your suggestions.
>Best regards,
>Magdalena
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From goran.brostrom at umu.se  Fri May 30 16:58:56 2014
From: goran.brostrom at umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Fri, 30 May 2014 16:58:56 +0200
Subject: [R] Difference in coefficients in Cox proportional hazard
 estimates between R and Stata, why?
In-Reply-To: <1401449878232.81548@alumni.ucl.ac.uk>
References: <1401449878232.81548@alumni.ucl.ac.uk>
Message-ID: <53889CB0.7030908@umu.se>

In the Cox regression case, the probable explanation is that you have 
ties in your data; Stata and coxph may have different defaults for 
handling ties. Read the manuals!

The difference in sign in the other cases is simply due to different 
definitions of the models. I am sure it is well documented in relevant 
manuals.

G?ran

On 2014-05-30 13:37, Hiyoshi, Ayako wrote:
> Dear R users,
>
>
>
> Hi, thank you so much for your help in advance.
>
> I have been using Stata but new to R. For my paper revision using
> Aalen's survival analysis, I need to use R, as the command including
> Aalen's survival seems to be available in R (32-bit, version 3.1.0
> (2014-04-10)) but less ready to be used in Stata (version 13/SE).
>
>
>
> To make sure that I can do basics, I have fitted logistic regression
> and Cox proportional hazard regression using R and Stata.
>
>
>
> The data I used were from UCLA R's textbook example page:
> <http://www.ats.ucla.edu/stat/r/examples/asa/asa_ch1_r.htm.>
> http://www.ats.ucla.edu/stat/r/examples/asa/asa_ch1_r.htm. I used
> this in Stata too.
>
>
>
> When I fitted logistic regression as below, the estimates were
> exactly same between R and Stata.
>
>
>
> <Example using logistic regression>
>
> R:
>
>
>
> logistic1 <- glm(censor ~ age + drug, data=xxxx, family =
> "binomial")
>
> summary(logistic1)
>
> exp(cbind(OR=coef(logistic1), confint(logistic1)))
>
> OR      2.5 %    97.5 % (Intercept) 1.0373731 0.06358296 16.797896
> age         1.0436805 0.96801933  1.131233 drug        0.7192149
> 0.26042635  1.937502
>
>
>
> Stata:
>
>
>
> logistic censor age i.drug OR     CI_lower     CI_upper age |
> 1.043681   .9662388    1.127329 drug |    .719215   .2665194
> 1.940835 _cons |   1.037373   .065847     16.3431
>
>
>
> However, when I fitted Cox proportional hazard regression, there were
> some discrepancies in coefficient (and exponentiated hazard ratios).
>
>
>
> <Example using Cox proportioanl hazard regression>
>
> R:
>
>
>
> cox1 <- coxph(Surv(time, censor) ~ drug, age, data=xxxx)
> summary(cox1)
>
> Call: coxph(formula = Surv(time, censor) ~ drug + age, data = xxxx)
> n= 100, number of events= 80 coef exp(coef) se(coef)     z Pr(>|z|)
> drug 1.01670   2.76405  0.25622 3.968 7.24e-05 *** age  0.09714
> 1.10202  0.01864 5.211 1.87e-07 *** --- Signif. codes:  0 '***' 0.001
> '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 exp(coef) exp(-coef) lower .95 upper
> .95 drug     2.764     0.3618     1.673     4.567 age      1.102
> 0.9074     1.062     1.143 Concordance= 0.711  (se = 0.042 ) Rsquare=
> 0.324   (max possible= 0.997 ) Likelihood ratio test= 39.13  on 2 df,
> p=3.182e-09 Wald test            = 36.13  on 2 df,   p=1.431e-08
> Score (logrank) test = 38.39  on 2 df,   p=4.602e-09
>
> Stata:
>
> stset time, f(censor) stcox drug age
> ------------------------------------------------------------------------------
>
>
_t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
> -------------+----------------------------------------------------------------
>
>
drug |   2.563531   .6550089     3.68   0.000      1.55363    4.229893
> age |   1.095852     .02026     4.95   0.000     1.056854
> 1.136289
> ------------------------------------------------------------------------------
>
>
>
>
>
> The HR estimates for drug was 2.76 from R, but 2.56 from Stata.
>
> I searched in internet for explanation, but could not find any.
>
>
>
> In parametric survival regression with exponential distribution, R
> and Stata's coefficients were completely opposite while the values
> were exactly same (i.e. say 0.08 for Stata and -0.08 for R). I
> suspected something like this
> (http://www.theanalysisfactor.com/ordinal-logistic-regression-mystery/)
> going on, but for Cox proportional hazard regression, i coudl not
> find any resource helping me.
>
>
>
> I highly appreciate if anyone could explain this for me, or suggest
> me resource that I can read.
>
>
>
> Thank you so much for your help.
>
>
>
> Best,
>
> Ayako
>
>
> [[alternative HTML version deleted]]
>
> ______________________________________________ R-help at r-project.org
> mailing list https://stat.ethz.ch/mailman/listinfo/r-help PLEASE do
> read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From erinm.hodgess at gmail.com  Fri May 30 17:24:21 2014
From: erinm.hodgess at gmail.com (Erin Hodgess)
Date: Fri, 30 May 2014 11:24:21 -0400
Subject: [R] accessing C code from a base package within a function
Message-ID: <CACxE24m1DpP-2aDMjTgK90AiU0c+NnZnmXu3ZPSJC6Odp_mkMQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/fdda64dd/attachment.pl>

From simon.urbanek at r-project.org  Fri May 30 17:29:10 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 30 May 2014 11:29:10 -0400
Subject: [R] rJava fail
In-Reply-To: <624EC9773CAB044ABA65327271BED9B6053583E8@CBMCC-X10-MA01.ad.cibc.com>
References: <624EC9773CAB044ABA65327271BED9B6053583E8@CBMCC-X10-MA01.ad.cibc.com>
Message-ID: <C244BD59-8D63-4FCA-AB73-D1D8872024D7@r-project.org>

On May 30, 2014, at 9:55 AM, Bond, Stephen <Stephen.Bond at cibc.com> wrote:

> 
> R version 3.1.0 (2014-04-10) -- "Spring Dance"
> Copyright (C) 2014 The R Foundation for Statistical Computing
> Platform: i386-w64-mingw32/i386 (32-bit)
> 
>> library(rJava)
> Error : .onLoad failed in loadNamespace() for 'rJava', details:
>  call: dirname(this$RuntimeLib)
>  error: a character vector argument expected
> Error: package or namespace load failed for 'rJava'
> 
> Things used to work on R 3.0.1 but suddenly stopped. I installed the new R and new packages. Then started downgrading Java. Went from Java 7 to Java 6 update 16 and still no luck. Please, advise which Java I need and if any paths need to be modified.


Please make sure that your Java architecture matches your R architecture and then re-install the matching Java (i.e. both have to be 32-bit or both have to be 64-bit - you cannot mix/match). It seems that there is a problem with your Java registry entries. The version is irrelevant - any Java version 1.4 or higher should work.

Please direct further questions to the stats-rosuda-devel mailing list for rJava.

Thanks,
Simon


From 538280 at gmail.com  Fri May 30 18:20:45 2014
From: 538280 at gmail.com (Greg Snow)
Date: Fri, 30 May 2014 10:20:45 -0600
Subject: [R] Problem with sample session
In-Reply-To: <8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
References: <5386CBDC.3050901@umbc.edu>
	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
	<8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
Message-ID: <CAFEqCdx0Bz9JPM1ousM=ZZj5R6jEgx+ubxqPZ=urYAcoo56Sbg@mail.gmail.com>

If you pay attention and are careful not to use any variables names
that conflict then you do not need a work around (and the conflicts
function can help you see if there are any conflicts that you may need
to worry about).

Probably the best work around is to use the with or within function
instead of attaching.  For a couple of quick commands these work great
and I prefer them to using attach.  But, sometimes for a long sequence
of commands attach is much more convenient and is fine to use as long
as you recognize the potential dangers and are careful.

On Thu, May 29, 2014 at 3:56 PM, Stephen Meskin <actuary at umbc.edu> wrote:
> Thanks Greg for your response. Is there a work around?
>
> Of course this begs the question as to Why is attach part of the sample session in App. A of the introductory manual? All the commands are directly from App. A. Is it possible the configuration of R on my computer is not in accord with acceptable practice? I.e. Could my configuration be set so that attach works as App. A intends?
> If not then App. A needs to be changed to replace attach.
> If so, then App. A needs to provide instructing on appropriate configuration of R for newbies.
>
> Stephen Meskin
> Sent from my iPad
>
>> On May 29, 2014, at 1:06 PM, Greg Snow <538280 at gmail.com> wrote:
>>
>> This is a warning and in your case would not be a problem, but it is
>> good to think about and the reason why it is suggested that you avoid
>> using attach and be very careful when you do use attach.  What is
>> happening is that you first created a vector named 'x' in your global
>> workspace, you then create a data frame that contains a column that is
>> a copy of 'x' that is also named 'x' and the data frame also has
>> another column named 'y'.  You then later attach the data frame to the
>> search list (if you run the 'search()' command you will see your
>> search list).  This is convenient in that you can now access 'y' by
>> typing its name instead of something like 'dummy$y', but what happens
>> if you just type x?  The issue is that there are 2 objects on your
>> search path with that same name.  For your example it will not matter
>> much because they have the same value, but what if you run a command
>> like 'x <- 3', now you will see a single value instead of a vector of
>> length 20 which can lead to hard to find errors.  This is why R tries
>> to be helpful by warning you that there are multiple objects named 'x'
>> and therefore you may not be accessing the one that you think.  If you
>> use attach without being careful it is possible to plot (or regress or
>> ...) one variable from one dataset against another variable from a
>> completely unrelated dataset and end up with meaningless results.  So,
>> if you use attach, be careful.  You may also want to look at the
>> followng functions for help with dealing with these issues: conflicts,
>> find, get, with, within
>>
>>> On Wed, May 28, 2014 at 11:55 PM, Stephen Meskin <actuary at umbc.edu> wrote:
>>> While following the suggestion in the manual "An Introduction to R" to
>>> begin with Appendix A, I ran into the problem shown below about 3/4 of
>>> the way down the 1st page of App. A.
>>>
>>> After using the function /attach/, I did not get visible columns in the
>>> data frame as indicated but the rather puzzling message emphasized below.
>>>
>>> I am running R version 3.1.0 (2014-04-10) using Windows XP.  Thanks in
>>> advance for your help.
>>>
>>>>> x<-1:20
>>>>> w<-1+sqrt(x)/2
>>>>> dummy<-data.frame(x=x, y=x+rnorm(x)*w)
>>>>> dummy
>>>>    x         y
>>>> 1   1  2.885347
>>>> ...
>>>>> fm<- lm(y ~ x, data=dummy)
>>>>> summary(fm)
>>>>
>>>> Call:
>>>> ...
>>>>> fm1<- lm(y ~ x, data=dummy,weight=1/w^2)
>>>>> summary(fm1)
>>>>
>>>> Call:
>>>> ...
>>>>> attach(dummy)
>>>> *_The following object is masked _by_ .GlobalEnv:
>>>>
>>>>    x_**_
>>>> _*
>>>
>>> --
>>> /Stephen A Meskin/, PhD, FSA, MAAA
>>> Adjunct Assistant Professor of Mathematics, UMBC
>>>
>>> **//
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>>
>>
>> --
>> Gregory (Greg) L. Snow Ph.D.
>> 538280 at gmail.com
>>



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From careyshan at gmail.com  Fri May 30 18:48:46 2014
From: careyshan at gmail.com (Shane Carey)
Date: Fri, 30 May 2014 17:48:46 +0100
Subject: [R] Gui for R-Script
Message-ID: <CA+jRDxC3Dm7_kuAtJQbCtcQ78YiGecUVWxPwtw2CX=1Ek21UMg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/bd9f4f8a/attachment.pl>

From 538280 at gmail.com  Fri May 30 18:59:36 2014
From: 538280 at gmail.com (Greg Snow)
Date: Fri, 30 May 2014 10:59:36 -0600
Subject: [R] Gui for R-Script
In-Reply-To: <CA+jRDxC3Dm7_kuAtJQbCtcQ78YiGecUVWxPwtw2CX=1Ek21UMg@mail.gmail.com>
References: <CA+jRDxC3Dm7_kuAtJQbCtcQ78YiGecUVWxPwtw2CX=1Ek21UMg@mail.gmail.com>
Message-ID: <CAFEqCdwTQ6KSDxFEdhY4J-dofESTmeF9EXO48pDb_5DHuUqP_Q@mail.gmail.com>

There are several options for creating GUIs depending on how much
control you want and how much work you are willing to put in.

One simple option is the tkexamp function in the TeachingDemos
package.  This approach would require whoever receives your script to
have R running, but then they could just run your script and have a
GUI to change parameters and see the results.

Another option is shiny from the Rstudio developers.  This has 2
options, you can either send a script that the user would then run on
their own machine (would need R and packages installed) or you can set
up a server and send the user the URL, R would only be installed on
the server and the user would only need web access.

I don't know of any options that would produce an .exe, since any R
code does need access to an implementation of R and it seems a bit of
overkill to package all of R with each sample script that you want to
run.

On Fri, May 30, 2014 at 10:48 AM, Shane Carey <careyshan at gmail.com> wrote:
> Hi,
>
> I'm just looking into creating a GUI for my R-Script. Is it possible to
> create a gui for the script and send it to somebody? Maybe as a .exe for
> example
>
> Thanks
>
>
> --
> Shane
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From jdnewmil at dcn.davis.CA.us  Fri May 30 19:14:41 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 30 May 2014 10:14:41 -0700
Subject: [R] Gui for R-Script
In-Reply-To: <CA+jRDxC3Dm7_kuAtJQbCtcQ78YiGecUVWxPwtw2CX=1Ek21UMg@mail.gmail.com>
References: <CA+jRDxC3Dm7_kuAtJQbCtcQ78YiGecUVWxPwtw2CX=1Ek21UMg@mail.gmail.com>
Message-ID: <a76b6ac4-b25d-400c-ba2e-74c1a1ecf94e@email.android.com>

Possible, yes, anything is possible, but it your goal is to easily hide R from the users then you will probably not find the project worth the effort required.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 30, 2014 9:48:46 AM PDT, Shane Carey <careyshan at gmail.com> wrote:
>Hi,
>
>I'm just looking into creating a GUI for my R-Script. Is it possible to
>create a gui for the script and send it to somebody? Maybe as a .exe
>for
>example
>
>Thanks


From boneill at epixanalytics.com  Fri May 30 18:04:06 2014
From: boneill at epixanalytics.com (Barbara ONeill)
Date: Fri, 30 May 2014 10:04:06 -0600
Subject: [R] EpiX Analytics - Quantitative Risk Analysis with R Course
Message-ID: <004201cf7c20$caf7f840$60e7e8c0$@com>

There are still a few places available to attend the following course:

Quantitative Risk Analysis with R
Fort Collins, Colorado, USA
June 16-19, 2014

This 4-day course will cover the core principles of quantitative risk
analysis and the most important risk modeling principles and techniques. The
course will be taught using the R statistical language but the lessons apply
equally well to other modeling environments. The focus of the course is on
how to conduct accurate and effective quantitative risk analyses, including
best practices of risk modeling, selecting the appropriate distribution,
using data and expert opinion, and avoiding common mistakes. The course will
also cover essential probability and statistics theory and various
stochastic processes to provide the participants with a solid understanding
of quantitative risk analysis.
For additional information and to register please visit our website at:
http://www.epixanalytics.com/Quantitative-Risk-Analysis-with-R.html

To register by phone or for any questions please contact: 
Barbara O'Neill - Boneill at epixanalytics.com
Ph: 1-303-440-8524

EpiX Analytics 
1643 Spruce Street, Boulder, CO, 80302, USA 
www.EpiXAnalytics.com|boneill at EpiXAnalytics.com


From sweethomesweet111 at yahoo.com.vn  Fri May 30 18:12:59 2014
From: sweethomesweet111 at yahoo.com.vn (hieu)
Date: Fri, 30 May 2014 09:12:59 -0700 (PDT)
Subject: [R] missing return
Message-ID: <1401466379304-4691489.post@n4.nabble.com>

hi R user, i have a problem about missing data while i calculate return in
times series. It means my time series have a lot of code of stocks, i
arrange them as type of panel data. I don't look for any solution.

For example:
CODE DATE RETURN
A       2008   NA
A       2009   0.25
A       2010   0.4
A       2011   0.3
B       2008   NA
B       2009   0.35
B       2010   0.15
B       2011   0.20
Please give me some idea to solve this problem and start step 2: run time
series to demonstrate market's efficient.
Thanks!




--
View this message in context: http://r.789695.n4.nabble.com/missing-return-tp4691489.html
Sent from the R help mailing list archive at Nabble.com.


From sweethomesweet111 at yahoo.com.vn  Fri May 30 18:20:53 2014
From: sweethomesweet111 at yahoo.com.vn (hieu)
Date: Fri, 30 May 2014 09:20:53 -0700 (PDT)
Subject: [R] missing return
In-Reply-To: <1401466379304-4691489.post@n4.nabble.com>
References: <1401466379304-4691489.post@n4.nabble.com>
Message-ID: <1401466853391-4691490.post@n4.nabble.com>





--
View this message in context: http://r.789695.n4.nabble.com/missing-return-tp4691489p4691490.html
Sent from the R help mailing list archive at Nabble.com.


From sweethomesweet111 at yahoo.com.vn  Fri May 30 18:24:54 2014
From: sweethomesweet111 at yahoo.com.vn (hieu)
Date: Fri, 30 May 2014 09:24:54 -0700 (PDT)
Subject: [R] missing return
In-Reply-To: <1401466379304-4691489.post@n4.nabble.com>
References: <1401466379304-4691489.post@n4.nabble.com>
Message-ID: <1401467079587-4691493.post@n4.nabble.com>





--
View this message in context: http://r.789695.n4.nabble.com/missing-return-tp4691489p4691493.html
Sent from the R help mailing list archive at Nabble.com.


From ml-node+s789695n4691493h99 at n4.nabble.com  Fri May 30 18:24:39 2014
From: ml-node+s789695n4691493h99 at n4.nabble.com (hieu [via R])
Date: Fri, 30 May 2014 09:24:39 -0700 (PDT)
Subject: [R] missing return
In-Reply-To: <1401466379304-4691489.post@n4.nabble.com>
References: <1401466379304-4691489.post@n4.nabble.com>
Message-ID: <1401467079587-4691493.post@n4.nabble.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/a1b40c30/attachment.pl>

From fneiman at monticello.org  Fri May 30 20:00:06 2014
From: fneiman at monticello.org (Fraser D. Neiman)
Date: Fri, 30 May 2014 18:00:06 +0000
Subject: [R] RODBC and  PosgreSQL problems
Message-ID: <2176AD174D58CB4ABBDA99F3458C20171BE55EAA@GRANGER.monticello.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/e663380f/attachment.pl>

From actuary at umbc.edu  Fri May 30 22:18:04 2014
From: actuary at umbc.edu (Stephen Meskin)
Date: Fri, 30 May 2014 16:18:04 -0400
Subject: [R] Problem with sample session
In-Reply-To: <CAFEqCdx0Bz9JPM1ousM=ZZj5R6jEgx+ubxqPZ=urYAcoo56Sbg@mail.gmail.com>
References: <5386CBDC.3050901@umbc.edu>	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>	<8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
	<CAFEqCdx0Bz9JPM1ousM=ZZj5R6jEgx+ubxqPZ=urYAcoo56Sbg@mail.gmail.com>
Message-ID: <5388E77C.5000303@umbc.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/368953b9/attachment.pl>

From istazahn at gmail.com  Fri May 30 22:48:36 2014
From: istazahn at gmail.com (Ista Zahn)
Date: Fri, 30 May 2014 16:48:36 -0400
Subject: [R] Problem with sample session
In-Reply-To: <5388E77C.5000303@umbc.edu>
References: <5386CBDC.3050901@umbc.edu>
	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
	<8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
	<CAFEqCdx0Bz9JPM1ousM=ZZj5R6jEgx+ubxqPZ=urYAcoo56Sbg@mail.gmail.com>
	<5388E77C.5000303@umbc.edu>
Message-ID: <CA+vqiLFQ_gTgj1PTuemdb_y72c1JhDqmyFEDU4nS1rwMwmGEAw@mail.gmail.com>

Hi Stephen,

See in line.

On Fri, May 30, 2014 at 4:18 PM, Stephen Meskin <actuary at umbc.edu> wrote:
> Greg, Ista, (or anyone else),
> Let me take one last run at this problem.
>
> Consider the following extract from the Appendix A text:
>
>> x <- 1:20
>> w <- 1+sqrt(x)/2
>> dummy <- data.frame(x=x, y=x+rnorm(x)*w)
>> fm <- lm(y~x, data=dummy)
>> fm1 <- lm(y~x, data=dummy, weight=1/w^2)
>
>>attach(dummy)
>     Make the columns in the data frame visible as variables.
>
> The following object is masked_by_.GlobalEnv:
>
> x
>
>
> In the above I have included only one comment, "Make the columns ... visible
> as variables." from the text and
> only one response, "The following object is masked by ... : x."
>
> Stuff I don't understand:
>
> The purpose of "attach" seems to be to make x and y visible but I can
> already see them by entering the command "dummy" even after the warning. So
> what does "attach do?

It makes them "visible" in the sense that you can refer to them
without referring to dummy: try

rm(list=ls()) ## delete everything from your workspace

dummy <- data.frame(x=1:20) # data.frame containing x
dummy$w <- 1+sqrt(dummy$x)/2 # add "w" column to dummy
dummy$y <- dummy$x + dummy$x + rnorm(dummy$x) * dummy$w # add "y" column

# x is not available
x #Error: object 'x' not found
#...exept as an element of dummy
dummy$x

attach(dummy)
#   Make the columns in the data frame visible as variables.
x # x is now available as "x", as well as "dummy$x"


> What I would like to see is a table with 1st column x; 2nd column y; 3rd and
> 4th columns predicted ys from fm and fm1; plus possibly columns of residuals
> and other stuff. Such tables don't seem to be available according to the
> discussion in ?lm.

In R it is common to calculate things only as you need them. The
predicted and residual values are not calculated by lm, but after the
fact by predict.lm() and residuals.lm(). For example:

fm <- lm(y~x, data=dummy)
fm1 <- lm(y~x, data=dummy, weight=1/w^2)

dummy$yhat.fm <- predict(fm)
dummy$yhat.fm1 <- predict(fm1)
dummy$yresid <- residuals(fm1)
dummy


> The warning about "attach" seems to say that there is an "x" in the Global
> Environment that will mask the "x" that I am using. But that is not
> happening in what I see.

Yes it is.

 If I enter "> x" after the warning, I still get
> 1,2,3,.... as before. What is the problem?

That 1,2,3 ... you are seeing comes from the "x" that was defined earlier, by

x <- 1:20

_not_ from the x in dummy nor the x attached from dummy. Try this:

rm(list=ls())
x <- 1:5
w <- 1+sqrt(x)/2
dummy <- data.frame(x=x, y=x+rnorm(x)*w)
attach(dummy)

You now have three "x" variables: the one created with "x <- 1:5" (in
the global environment), the one in dummy, and the attached one copied
from dummy. This makes it easy to become confused about which "x" you
are getting. Consider:

x <- 1 ## changes x in the global workspace, but not dummy$x nor the
attached copy of dummy$x
dummy$x <- 2 # changes dummy$x but not the attached copy of dummy$x

x # this is the x in the global environment
# [1] 1

rm(x)
x # this is the attached copy of x
#[1] 1 2 3 4 5
dummy$x # this is the x in dummy
# [1] 2 2 2 2 2


> If I place the above R-script in a folder other than the R-console that
> comes up when I first open R will that obviate the attach "problem."

I'm not following this one...

Best,
Ista
>
>
> Stephen A Meskin, PhD, FSA, MAAA
> Adjunct Assistant Professor of Mathematics, UMBC
>
> Most people give you an anticipatory grin when you mention a statistic,
> frown doubtingly when you mention the plural statistics, and
> grunt and groan in a gurgle when you mention a statistics course.
> On 5/30/2014 12:20 PM, Greg Snow wrote:
>
> If you pay attention and are careful not to use any variables names
> that conflict then you do not need a work around (and the conflicts
> function can help you see if there are any conflicts that you may need
> to worry about).
>
> Probably the best work around is to use the with or within function
> instead of attaching.  For a couple of quick commands these work great
> and I prefer them to using attach.  But, sometimes for a long sequence
> of commands attach is much more convenient and is fine to use as long
> as you recognize the potential dangers and are careful.
>
> On Thu, May 29, 2014 at 3:56 PM, Stephen Meskin <actuary at umbc.edu> wrote:
>
> Thanks Greg for your response. Is there a work around?
>
> Of course this begs the question as to Why is attach part of the sample
> session in App. A of the introductory manual? All the commands are directly
> from App. A. Is it possible the configuration of R on my computer is not in
> accord with acceptable practice? I.e. Could my configuration be set so that
> attach works as App. A intends?
> If not then App. A needs to be changed to replace attach.
> If so, then App. A needs to provide instructing on appropriate configuration
> of R for newbies.
>
> Stephen Meskin
> Sent from my iPad
>
> On May 29, 2014, at 1:06 PM, Greg Snow <538280 at gmail.com> wrote:
>
> This is a warning and in your case would not be a problem, but it is
> good to think about and the reason why it is suggested that you avoid
> using attach and be very careful when you do use attach.  What is
> happening is that you first created a vector named 'x' in your global
> workspace, you then create a data frame that contains a column that is
> a copy of 'x' that is also named 'x' and the data frame also has
> another column named 'y'.  You then later attach the data frame to the
> search list (if you run the 'search()' command you will see your
> search list).  This is convenient in that you can now access 'y' by
> typing its name instead of something like 'dummy$y', but what happens
> if you just type x?  The issue is that there are 2 objects on your
> search path with that same name.  For your example it will not matter
> much because they have the same value, but what if you run a command
> like 'x <- 3', now you will see a single value instead of a vector of
> length 20 which can lead to hard to find errors.  This is why R tries
> to be helpful by warning you that there are multiple objects named 'x'
> and therefore you may not be accessing the one that you think.  If you
> use attach without being careful it is possible to plot (or regress or
> ...) one variable from one dataset against another variable from a
> completely unrelated dataset and end up with meaningless results.  So,
> if you use attach, be careful.  You may also want to look at the
> followng functions for help with dealing with these issues: conflicts,
> find, get, with, within
>
> On Wed, May 28, 2014 at 11:55 PM, Stephen Meskin <actuary at umbc.edu> wrote:
> While following the suggestion in the manual "An Introduction to R" to
> begin with Appendix A, I ran into the problem shown below about 3/4 of
> the way down the 1st page of App. A.
>
> After using the function /attach/, I did not get visible columns in the
> data frame as indicated but the rather puzzling message emphasized below.
>
> I am running R version 3.1.0 (2014-04-10) using Windows XP.  Thanks in
> advance for your help.
>
> x<-1:20
> w<-1+sqrt(x)/2
> dummy<-data.frame(x=x, y=x+rnorm(x)*w)
> dummy
>
>    x         y
> 1   1  2.885347
> ...
>
> fm<- lm(y ~ x, data=dummy)
> summary(fm)
>
> Call:
> ...
>
> fm1<- lm(y ~ x, data=dummy,weight=1/w^2)
> summary(fm1)
>
> Call:
> ...
>
> attach(dummy)
>
> *_The following object is masked _by_ .GlobalEnv:
>
>    x_**_
> _*
>
> --
> /Stephen A Meskin/, PhD, FSA, MAAA
> Adjunct Assistant Professor of Mathematics, UMBC
>
> **//
>
>        [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>
> --
> Gregory (Greg) L. Snow Ph.D.
> 538280 at gmail.com
>
>
>
>


From sean_parks at fs.fed.us  Fri May 30 22:50:33 2014
From: sean_parks at fs.fed.us (Parks, Sean -FS)
Date: Fri, 30 May 2014 20:50:33 +0000
Subject: [R] Calculating the focal mean of a raster using an annulus
Message-ID: <5B458719A8371B438AFFDEBC5201C1F50226E132@001FSN2MPN1-021.001f.mgd2.msft.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140530/08f54aa1/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Fri May 30 23:02:28 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 30 May 2014 14:02:28 -0700
Subject: [R] Problem with sample session
In-Reply-To: <5388E77C.5000303@umbc.edu>
References: <5386CBDC.3050901@umbc.edu>
	<CAFEqCdyRdbnK3qqGn3YUFEuZtrq0J3u3pyieWiQ3AF56WoXiFw@mail.gmail.com>
	<8CFDBD0B-7772-4E71-8EC1-37F64119085B@umbc.edu>
	<CAFEqCdx0Bz9JPM1ousM=ZZj5R6jEgx+ubxqPZ=urYAcoo56Sbg@mail.gmail.com>
	<5388E77C.5000303@umbc.edu>
Message-ID: <d0e17606-8304-41ba-924b-dbcb7bc87fc6@email.android.com>

1. If you create a variable x or w or dummy, it is stored in the current environment. You can refer to it by the name x or w or dummy. If you create a column x in the data frame dummy, you can refer to it as dummy$x or dummy[["x"]]. That is a different x than the variable x in your current environment. If you execute attach(dummy), then your current environment becomes the dummy data frame and you can refer to the column x in the data frame as x rather than the variable discussed above. If you have attached dummy and you refer to a variable like w that doesn't exist in dummy, R will search the chain of environments. The first environment it finds after looking through dummy and failing is the environment that was previously your current environment, which does have a w variable, and it will use it.
2. The R lm function is not a swiss army knife... there are other functions to obtain those additional columns... in this case the predict and residuals functions would get that data. For example,
dummy[ , "y.fm" ] <- predict( fm )
dummy[ , "resid.fm" ] <- residuals( fm )
Read ?lm and pay attention to the see also and examples sections. 
3. Until you use the detach function, when you refer to x you will see the x that is a column in the dummy data frame. Afterward, you will have to use dummy$x to see that same value.
4. The chain of variable environments exists only within the RAM used by R, and has nothing too do with the disk directory structure. That was a concept from S (so I was told), not from R.
5. You are overdue to read the Posting Guide mentioned in the footer. In there, among other things, is advice to post in plain text. HTML tends to be corrupted when the mailing list strips the HTML, so we may not see what you think we see.
---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 30, 2014 1:18:04 PM PDT, Stephen Meskin <actuary at umbc.edu> wrote:
>Greg, Ista, (or anyone else),
>Let me take one last run at this problem.
>
>Consider the following extract from the Appendix A text:
>
>> > x <- 1:20
>> > w <- 1+sqrt(x)/2
>> > dummy <- data.frame(x=x, y=x+rnorm(x)*w)
>> > fm <- lm(y~x, data=dummy)
>> > fm1 <- lm(y~x, data=dummy, weight=1/w^2)
>>
>> >attach(dummy)
>> /Make the columns in the data frame visible as variables. /
>>
>> The following object is masked_by_.GlobalEnv:
>>
>> x
>
>In the above I have included only one comment, "Make the columns ... 
>visible as variables." from the text and
>only one response, "The following object is masked by ... : x."
>
>Stuff I don't understand:
>
> 1. The purpose of "attach" seems to be to make x and y visible but I
>    can already see them by entering the command "dummy" even after the
>    warning. So what does "attach do?
>2. What I would like to see is a table with 1st column x; 2nd column y;
>    3rd and 4th columns predicted ys from fm and fm1; plus possibly
>    columns of residuals and other stuff. Such tables don't seem to be
>    available according to the discussion in ?lm.
> 3. The warning about "attach" seems to say that there is an "x" in the
>    Global Environment that will mask the "x" that I am using. But that
>    is not happening in what I see. If I enter "> x" after the warning,
>    I still get 1,2,3,.... as before. What is the problem?
> 4. If I place the above R-script in a folder other than the R-console
>    that comes up when I first open R will that obviate the attach
>    "problem."
>
>
>/Stephen A Meskin/, PhD, FSA, MAAA
>Adjunct Assistant Professor of Mathematics, UMBC
>
>*Most people give you an anticipatory grin when you mention a
>/statistic/,
>frown doubtingly when you mention the plural /statistics/, and
>grunt and groan in a gurgle when you mention /a statistics course/.*//
>On 5/30/2014 12:20 PM, Greg Snow wrote:
>> If you pay attention and are careful not to use any variables names
>> that conflict then you do not need a work around (and the conflicts
>> function can help you see if there are any conflicts that you may
>need
>> to worry about).
>>
>> Probably the best work around is to use the with or within function
>> instead of attaching.  For a couple of quick commands these work
>great
>> and I prefer them to using attach.  But, sometimes for a long
>sequence
>> of commands attach is much more convenient and is fine to use as long
>> as you recognize the potential dangers and are careful.
>>
>> On Thu, May 29, 2014 at 3:56 PM, Stephen Meskin <actuary at umbc.edu>
>wrote:
>>> Thanks Greg for your response. Is there a work around?
>>>
>>> Of course this begs the question as to Why is attach part of the
>sample session in App. A of the introductory manual? All the commands
>are directly from App. A. Is it possible the configuration of R on my
>computer is not in accord with acceptable practice? I.e. Could my
>configuration be set so that attach works as App. A intends?
>>> If not then App. A needs to be changed to replace attach.
>>> If so, then App. A needs to provide instructing on appropriate
>configuration of R for newbies.
>>>
>>> Stephen Meskin
>>> Sent from my iPad
>>>
>>>> On May 29, 2014, at 1:06 PM, Greg Snow <538280 at gmail.com> wrote:
>>>>
>>>> This is a warning and in your case would not be a problem, but it
>is
>>>> good to think about and the reason why it is suggested that you
>avoid
>>>> using attach and be very careful when you do use attach.  What is
>>>> happening is that you first created a vector named 'x' in your
>global
>>>> workspace, you then create a data frame that contains a column that
>is
>>>> a copy of 'x' that is also named 'x' and the data frame also has
>>>> another column named 'y'.  You then later attach the data frame to
>the
>>>> search list (if you run the 'search()' command you will see your
>>>> search list).  This is convenient in that you can now access 'y' by
>>>> typing its name instead of something like 'dummy$y', but what
>happens
>>>> if you just type x?  The issue is that there are 2 objects on your
>>>> search path with that same name.  For your example it will not
>matter
>>>> much because they have the same value, but what if you run a
>command
>>>> like 'x <- 3', now you will see a single value instead of a vector
>of
>>>> length 20 which can lead to hard to find errors.  This is why R
>tries
>>>> to be helpful by warning you that there are multiple objects named
>'x'
>>>> and therefore you may not be accessing the one that you think.  If
>you
>>>> use attach without being careful it is possible to plot (or regress
>or
>>>> ...) one variable from one dataset against another variable from a
>>>> completely unrelated dataset and end up with meaningless results. 
>So,
>>>> if you use attach, be careful.  You may also want to look at the
>>>> followng functions for help with dealing with these issues:
>conflicts,
>>>> find, get, with, within
>>>>
>>>>> On Wed, May 28, 2014 at 11:55 PM, Stephen Meskin
><actuary at umbc.edu> wrote:
>>>>> While following the suggestion in the manual "An Introduction to
>R" to
>>>>> begin with Appendix A, I ran into the problem shown below about
>3/4 of
>>>>> the way down the 1st page of App. A.
>>>>>
>>>>> After using the function /attach/, I did not get visible columns
>in the
>>>>> data frame as indicated but the rather puzzling message emphasized
>below.
>>>>>
>>>>> I am running R version 3.1.0 (2014-04-10) using Windows XP. 
>Thanks in
>>>>> advance for your help.
>>>>>
>>>>>>> x<-1:20
>>>>>>> w<-1+sqrt(x)/2
>>>>>>> dummy<-data.frame(x=x, y=x+rnorm(x)*w)
>>>>>>> dummy
>>>>>>     x         y
>>>>>> 1   1  2.885347
>>>>>> ...
>>>>>>> fm<- lm(y ~ x, data=dummy)
>>>>>>> summary(fm)
>>>>>> Call:
>>>>>> ...
>>>>>>> fm1<- lm(y ~ x, data=dummy,weight=1/w^2)
>>>>>>> summary(fm1)
>>>>>> Call:
>>>>>> ...
>>>>>>> attach(dummy)
>>>>>> *_The following object is masked _by_ .GlobalEnv:
>>>>>>
>>>>>>     x_**_
>>>>>> _*
>>>>> --
>>>>> /Stephen A Meskin/, PhD, FSA, MAAA
>>>>> Adjunct Assistant Professor of Mathematics, UMBC
>>>>>
>>>>> **//
>>>>>
>>>>>         [[alternative HTML version deleted]]
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>
>>>> --
>>>> Gregory (Greg) L. Snow Ph.D.
>>>> 538280 at gmail.com
>>>>
>>
>>
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From frymor at gmail.com  Sat May 31 00:07:25 2014
From: frymor at gmail.com (Assa Yeroslaviz)
Date: Sat, 31 May 2014 00:07:25 +0200
Subject: [R] converting a data.frame into a different table
Message-ID: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140531/7c18a280/attachment.pl>

From jdnewmil at dcn.davis.CA.us  Sat May 31 00:55:10 2014
From: jdnewmil at dcn.davis.CA.us (Jeff Newmiller)
Date: Fri, 30 May 2014 15:55:10 -0700
Subject: [R] converting a data.frame into a different table
In-Reply-To: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
References: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
Message-ID: <24937b0d-1207-4d6d-a5e5-4ddaa21712ec@email.android.com>

library(reshape2) # you probably need to install reshape2 before this works
?melt

---------------------------------------------------------------------------
Jeff Newmiller                        The     .....       .....  Go Live...
DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live Go...
                                      Live:   OO#.. Dead: OO#..  Playing
Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
/Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
--------------------------------------------------------------------------- 
Sent from my phone. Please excuse my brevity.

On May 30, 2014 3:07:25 PM PDT, Assa Yeroslaviz <frymor at gmail.com> wrote:
>Hi,
>
>I have a matrix of 4.5Kx4.5K elements with column- and row names
>
>I need to convert this matrix into a table, where one column is the
>name of
>the row for the element, the second column is the name of the column
>for
>the same element and the third column is the element itself.
>
>The way I do it at the moment is with a double for-loop.
>With this way though it takes ages for the loop to finish.
>
>I was wondering whether there is a faster way of doing the same
>conversion.
>
>This is how I am doing it now:
>my.df <-data.frame()
>for (i in 1:(nrow(out5.df)-1)){
>    for (j in i:ncol(out5.df)) {
>#        print(paste(" I am at position: row-", i, " and col-", j,
>sep=""))
>    a<- cbind(start=rownames(out5.df)[i], start.1=colnames(out5.df)[j],
>Value=out5.df[i,j])
>        my.df <- rbind(my.df, a)
>        }
>    }
>
>this is an example for the data I have:
>    1    2    3    4    5    6    7
>1    FBgn0037249    FBpp0312226    FBtr0346646    FBgn0266186
>FBpp0312219    FBtr0346639    FBgn0010100
>2    FBgn0036389    FBpp0312225    FBtr0346645    FBgn0037894
>FBpp0312218    FBtr0346638    FBgn0026577
>3    FBgn0014002    FBpp0312224    FBtr0346644    FBgn0025712
>FBpp0312183    FBtr0346593    FBpp0312178
>4    FBgn0034201    FBpp0312223    FBtr0346643    FBgn0025712
>FBpp0312182    FBtr0346592    FBpp0312177
>5    FBgn0029860    FBpp0312222    FBtr0346642    FBgn0261597
>FBpp0312181    FBtr0346591    FBtr0346587
>6    FBgn0028526    FBpp0312221    FBtr0346641    FBgn0263050
>FBpp0312180    FBtr0346589    FBtr0346586
>7    FBgn0003486    FBpp0312220    FBtr0346640    FBgn0263051
>FBpp0312179    FBtr0346588    FBpp0312219
>
>What I would like to get at the end is something like that:
>> my.df
>   start start.1       Value
>1      1      X1 FBgn0037249
>2      1      X2 FBpp0312226
>3      1      X3 FBtr0346646
>4      1      X4 FBgn0266186
>5      1      X5 FBpp0312219
>6      1      X6 FBtr0346639
>7      1      X7 FBgn0010100
>8      2      X2 FBpp0312225
>9      2      X3 FBtr0346645
>10     2      X4 FBgn0037894
>11     2      X5 FBpp0312218
>12     2      X6 FBtr0346638
>13     2      X7 FBgn0026577
>14     3      X3 FBtr0346644
>15     3      X4 FBgn0025712
>16     3      X5 FBpp0312183
>17     3      X6 FBtr0346593
>18     3      X7 FBpp0312178
>19     4      X4 FBgn0025712
>20     4      X5 FBpp0312182
>21     4      X6 FBtr0346592
>22     4      X7 FBpp0312177
>23     5      X5 FBpp0312181
>24     5      X6 FBtr0346591
>25     5      X7 FBtr0346587
>26     6      X6 FBtr0346589
>27     6      X7 FBtr0346586
>
>
>Sp I would like to know if there is a better way of ding it than a
>double
>for loop.
>
>thanks
>Assa
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.


From dwinsemius at comcast.net  Sat May 31 01:11:27 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 30 May 2014 16:11:27 -0700
Subject: [R] converting a data.frame into a different table
In-Reply-To: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
References: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
Message-ID: <2989C3CE-9C9E-4C25-A580-ACDFBD43E6BD@comcast.net>


On May 30, 2014, at 3:07 PM, Assa Yeroslaviz wrote:

> Hi,
> 
> I have a matrix of 4.5Kx4.5K elements with column- and row names
> 
> I need to convert this matrix into a table, where one column is the name of
> the row for the element, the second column is the name of the column for
> the same element and the third column is the element itself.

In R a "table" object is just a matrix with a class of table and there is a really kewl function to do exactly what you ask for on objects with class table so try this:

class(out5.df) <- "table"

my.df <- as.data.frame(out5.df)

> 
> The way I do it at the moment is with a double for-loop.
> With this way though it takes ages for the loop to finish.
> 
> I was wondering whether there is a faster way of doing the same conversion.
> 
> This is how I am doing it now:
> my.df <-data.frame()
> for (i in 1:(nrow(out5.df)-1)){
>    for (j in i:ncol(out5.df)) {
> #        print(paste(" I am at position: row-", i, " and col-", j, sep=""))
>        a<- cbind(start=rownames(out5.df)[i], start.1=colnames(out5.df)[j],
> Value=out5.df[i,j])
>        my.df <- rbind(my.df, a)
>        }
>    }
> 
> this is an example for the data I have:

I would have tested this if it had been offered using the output of dput()

?dput


> out5.df <- matrix(1:30,5,6)
> colnames(out5.df)<-letters[1:6]
> rownames(out5.df)<-LETTERS[1:5]
> class(out5.df) <- "table"
> 
> my.df <- as.data.frame(out5.df)
> 
> my.df
   Var1 Var2 Freq
1     A    a    1
2     B    a    2
3     C    a    3
4     D    a    4
5     E    a    5
6     A    b    6
.......snippped the rest

-- 
David.
> 


>    1    2    3    4    5    6    7
> 1    FBgn0037249    FBpp0312226    FBtr0346646    FBgn0266186
> FBpp0312219    FBtr0346639    FBgn0010100
> 2    FBgn0036389    FBpp0312225    FBtr0346645    FBgn0037894
> FBpp0312218    FBtr0346638    FBgn0026577
> 3    FBgn0014002    FBpp0312224    FBtr0346644    FBgn0025712
> FBpp0312183    FBtr0346593    FBpp0312178
> 4    FBgn0034201    FBpp0312223    FBtr0346643    FBgn0025712
> FBpp0312182    FBtr0346592    FBpp0312177
> 5    FBgn0029860    FBpp0312222    FBtr0346642    FBgn0261597
> FBpp0312181    FBtr0346591    FBtr0346587
> 6    FBgn0028526    FBpp0312221    FBtr0346641    FBgn0263050
> FBpp0312180    FBtr0346589    FBtr0346586
> 7    FBgn0003486    FBpp0312220    FBtr0346640    FBgn0263051
> FBpp0312179    FBtr0346588    FBpp0312219
> 
> What I would like to get at the end is something like that:
>> my.df
>   start start.1       Value
> 1      1      X1 FBgn0037249
> 2      1      X2 FBpp0312226
> 3      1      X3 FBtr0346646
> 4      1      X4 FBgn0266186
> 5      1      X5 FBpp0312219
> 6      1      X6 FBtr0346639
> 7      1      X7 FBgn0010100
> 8      2      X2 FBpp0312225
> 9      2      X3 FBtr0346645
> 10     2      X4 FBgn0037894
> 11     2      X5 FBpp0312218
> 12     2      X6 FBtr0346638
> 13     2      X7 FBgn0026577
> 14     3      X3 FBtr0346644
> 15     3      X4 FBgn0025712
> 16     3      X5 FBpp0312183
> 17     3      X6 FBtr0346593
> 18     3      X7 FBpp0312178
> 19     4      X4 FBgn0025712
> 20     4      X5 FBpp0312182
> 21     4      X6 FBtr0346592
> 22     4      X7 FBpp0312177
> 23     5      X5 FBpp0312181
> 24     5      X6 FBtr0346591
> 25     5      X7 FBtr0346587
> 26     6      X6 FBtr0346589
> 27     6      X7 FBtr0346586
> 
> 
> Sp I would like to know if there is a better way of ding it than a double
> for loop.
> 
> thanks
> Assa
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

David Winsemius
Alameda, CA, USA


From smartpink111 at yahoo.com  Sat May 31 04:16:59 2014
From: smartpink111 at yahoo.com (arun)
Date: Fri, 30 May 2014 19:16:59 -0700
Subject: [R] converting a data.frame into a different table
In-Reply-To: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
References: <CA+8XemzywaWLOb4u+d8yZz+zK5=gTc6iTGLLf7cp3+N1khrmMg@mail.gmail.com>
Message-ID: <1401502619.72266.YahooMailNeo@web142605.mail.bf1.yahoo.com>

Hi,

You may try:
##Assuming the dataset is a matrix

mat <- structure(c("FBgn0037249", "FBgn0036389", "FBgn0014002", "FBgn0034201", 
"FBgn0029860", "FBgn0028526", "FBgn0003486", "FBpp0312226", "FBpp0312225", 
"FBpp0312224", "FBpp0312223", "FBpp0312222", "FBpp0312221", "FBpp0312220", 
"FBtr0346646", "FBtr0346645", "FBtr0346644", "FBtr0346643", "FBtr0346642", 
"FBtr0346641", "FBtr0346640", "FBgn0266186", "FBgn0037894", "FBgn0025712", 
"FBgn0025712", "FBgn0261597", "FBgn0263050", "FBgn0263051", "FBpp0312219", 
"FBpp0312218", "FBpp0312183", "FBpp0312182", "FBpp0312181", "FBpp0312180", 
"FBpp0312179", "FBtr0346639", "FBtr0346638", "FBtr0346593", "FBtr0346592", 
"FBtr0346591", "FBtr0346589", "FBtr0346588", "FBgn0010100", "FBgn0026577", 
"FBpp0312178", "FBpp0312177", "FBtr0346587", "FBtr0346586", "FBpp0312219"
), .Dim = c(7L, 7L), .Dimnames = list(c("1", "2", "3", "4", "5", 
"6", "7"), c("1", "2", "3", "4", "5", "6", "7")))


res <-? data.frame(start=rownames(mat)[col(mat)], start.1=colnames(mat)[row(mat)], Value= c(t(mat)))



##Comparing the speed with other methods:
###For easy comparison across methods, converted the columns to factors
fun1 <- function(mat) {
??? start <- rownames(mat)[col(mat)]
??? start.1 <- paste0("X", colnames(mat)[row(mat)])
??? Value <- c(t(mat))
??? data.frame(start = factor(start, levels = unique(start)), start.1 = factor(start.1, 
??????? levels = unique(start.1)), Value)
}


fun2 <- function(mat) {
??? colnames(mat) <- paste0("X", colnames(mat))
??? my.df <- setNames(as.data.frame.table(mat), c("start", "start.1", "Value"))
??? my.df <- my.df[with(my.df, order(start, start.1)), ]
??? row.names(my.df) <- 1:nrow(my.df)
??? my.df
}

library(reshape2)

fun3 <- function(mat) {
??? colnames(mat) <- paste0("X", colnames(mat))
??? my.df <- transform(setNames(melt(mat), c("start", "start.1", "Value")), start = as.factor(start))
??? my.df <- my.df[with(my.df, order(start, start.1)), ]
??? row.names(my.df) <- 1:nrow(my.df)
??? my.df
}

set.seed(481)
mat1 <- matrix(sample(mat, 4.5e3*4.5e3, replace=TRUE), ncol=4.5e3, dimnames=list(1:4.5e3, 1:4.5e3))
#system.time(res1 <- fun1(mat1))
#?? user? system elapsed 
#? 7.914?? 0.836?? 8.750 
?system.time(res2 <- fun2(mat1))
#?? user? system elapsed 
# 28.257?? 1.336? 29.578 
system.time(res3 <- fun3(mat1))
#?? user? system elapsed 
# 27.213?? 1.027? 28.224 
?
?identical(res1,res2)
#[1] TRUE
?identical(res1,res3)
#[1] TRUE
A.K.




On Friday, May 30, 2014 6:10 PM, Assa Yeroslaviz <frymor at gmail.com> wrote:
Hi,

I have a matrix of 4.5Kx4.5K elements with column- and row names

I need to convert this matrix into a table, where one column is the name of
the row for the element, the second column is the name of the column for
the same element and the third column is the element itself.

The way I do it at the moment is with a double for-loop.
With this way though it takes ages for the loop to finish.

I was wondering whether there is a faster way of doing the same conversion.

This is how I am doing it now:
my.df <-data.frame()
for (i in 1:(nrow(out5.df)-1)){
? ? for (j in i:ncol(out5.df)) {
#? ? ? ? print(paste(" I am at position: row-", i, " and col-", j, sep=""))
? ? ? ? a<- cbind(start=rownames(out5.df)[i], start.1=colnames(out5.df)[j],
Value=out5.df[i,j])
? ? ? ? my.df <- rbind(my.df, a)
? ? ? ? }
? ? }

this is an example for the data I have:
? ? 1? ? 2? ? 3? ? 4? ? 5? ? 6? ? 7
1? ? FBgn0037249? ? FBpp0312226? ? FBtr0346646? ? FBgn0266186
FBpp0312219? ? FBtr0346639? ? FBgn0010100
2? ? FBgn0036389? ? FBpp0312225? ? FBtr0346645? ? FBgn0037894
FBpp0312218? ? FBtr0346638? ? FBgn0026577
3? ? FBgn0014002? ? FBpp0312224? ? FBtr0346644? ? FBgn0025712
FBpp0312183? ? FBtr0346593? ? FBpp0312178
4? ? FBgn0034201? ? FBpp0312223? ? FBtr0346643? ? FBgn0025712
FBpp0312182? ? FBtr0346592? ? FBpp0312177
5? ? FBgn0029860? ? FBpp0312222? ? FBtr0346642? ? FBgn0261597
FBpp0312181? ? FBtr0346591? ? FBtr0346587
6? ? FBgn0028526? ? FBpp0312221? ? FBtr0346641? ? FBgn0263050
FBpp0312180? ? FBtr0346589? ? FBtr0346586
7? ? FBgn0003486? ? FBpp0312220? ? FBtr0346640? ? FBgn0263051
FBpp0312179? ? FBtr0346588? ? FBpp0312219

What I would like to get at the end is something like that:
> my.df
?  start start.1? ? ?  Value
1? ? ? 1? ? ? X1 FBgn0037249
2? ? ? 1? ? ? X2 FBpp0312226
3? ? ? 1? ? ? X3 FBtr0346646
4? ? ? 1? ? ? X4 FBgn0266186
5? ? ? 1? ? ? X5 FBpp0312219
6? ? ? 1? ? ? X6 FBtr0346639
7? ? ? 1? ? ? X7 FBgn0010100
8? ? ? 2? ? ? X2 FBpp0312225
9? ? ? 2? ? ? X3 FBtr0346645
10? ?  2? ? ? X4 FBgn0037894
11? ?  2? ? ? X5 FBpp0312218
12? ?  2? ? ? X6 FBtr0346638
13? ?  2? ? ? X7 FBgn0026577
14? ?  3? ? ? X3 FBtr0346644
15? ?  3? ? ? X4 FBgn0025712
16? ?  3? ? ? X5 FBpp0312183
17? ?  3? ? ? X6 FBtr0346593
18? ?  3? ? ? X7 FBpp0312178
19? ?  4? ? ? X4 FBgn0025712
20? ?  4? ? ? X5 FBpp0312182
21? ?  4? ? ? X6 FBtr0346592
22? ?  4? ? ? X7 FBpp0312177
23? ?  5? ? ? X5 FBpp0312181
24? ?  5? ? ? X6 FBtr0346591
25? ?  5? ? ? X7 FBtr0346587
26? ?  6? ? ? X6 FBtr0346589
27? ?  6? ? ? X7 FBtr0346586


Sp I would like to know if there is a better way of ding it than a double
for loop.

thanks
Assa

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From frtog at vestas.com  Sat May 31 12:49:54 2014
From: frtog at vestas.com (=?iso-8859-1?Q?Frede_Aakmann_T=F8gersen?=)
Date: Sat, 31 May 2014 12:49:54 +0200
Subject: [R] RODBC and  PosgreSQL problems
Message-ID: <do9vk2uw8l61dui1suqy2yni.1401533358053@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140531/d89a555c/attachment.pl>

From pgilbert902 at gmail.com  Sat May 31 17:25:51 2014
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Sat, 31 May 2014 11:25:51 -0400
Subject: [R]  RODBC and  PosgreSQL problems
In-Reply-To: <mailman.27.1401530409.19428.r-help@r-project.org>
References: <mailman.27.1401530409.19428.r-help@r-project.org>
Message-ID: <5389F47F.5010707@gmail.com>

I'm not sure if this was due to mailer wrap, but I think you are putting 
a <return> between the end of the table name and the quote mark, and 
possibly that or a space is being included in the table name in the 
sqlQuery() statement. Do you have the same problem if you put the quote 
mark immediately after the table name, or if you put a ; after the table 
name?

(BTW, you will probably get better responses to this sort of question on 
the r-sig-db mailing list.)

Paul

> Message: 23 Date: Fri, 30 May 2014 18:00:06 +0000 From: "Fraser D.
> Neiman"<fneiman at monticello.org> To:"r-help at r-project.org"
> <r-help at r-project.org> Subject: [R] RODBC and  PosgreSQL problems
> Message-ID:
> <2176AD174D58CB4ABBDA99F3458C20171BE55EAA at GRANGER.monticello.org>
> Content-Type: text/plain
>
>
> Dear All,
>
> I am trying for the first time to run SQL queries against a remote
> PostgreSQL database via RODBC. I am able to establish a connection
> just fine, as shown by getting results back from the sqlTables(),
> sqlColumns() and sqlPrimary Key() functions in RODBC. However, when I
> try to run a SQL query using the sqlQuery() function I get
>
> [1] "42P01 7 ERROR: relation \"tblceramicware\" does not
> exist;\nError while executing the query" [2] "[RODBC] ERROR: Could
> not SQLExecDirect '\n         SELECT * \n         FROM
> tblCeramicWare
>
> What am I doing wrong?
>
> Here are the relevant snips from the R console.  What's puzzling is
> that "tblcermicWare" is recognized as an argument to sqlColumns() and
> sqlPrimaryKey() . But NOT in sqlQuery() .
>
> Thanks for any pointers.
>
> best, Fraser
>
>>> library(RODBC)
>>>
>>> # connect to DAACS and assign a name (DAACSch) to the connection
>>> DRCch <- odbcConnect("postgreSQL35W" , case= "nochange", uid
>>> ="XXXXXX",pwd="XXXXXX");
>>>
>>> #list the tables that are avalailabale sqlTables(DRCch, tableType
>>> = "TABLE")
> TABLE_QUALIFIER TABLE_OWNER                               TABLE_NAME
> TABLE_TYPE REMARKS 1   daacs-production      public
> TempSTPTable      TABLE 2   daacs-production      public
> activities      TABLE 3   daacs-production      public
> articles      TABLE 4   daacs-production      public
> schema_migrations      TABLE 5   daacs-production      public
> tblACDistance      TABLE 6   daacs-production      public
> tblArtifactBox      TABLE 7   daacs-production      public
> tblArtifactImage      TABLE 8   daacs-production      public
> tblBasicColor      TABLE 9   daacs-production      public
> tblBead      TABLE
>
>
>>> sqlColumns(DRCch, "tblCeramicWare")
> TABLE_QUALIFIER TABLE_OWNER     TABLE_NAME COLUMN_NAME DATA_TYPE
> TYPE_NAME PRECISION LENGTH SCALE RADIX NULLABLE 1 daacs-production
> public tblCeramicWare      WareID         4      int4        10
> 4     0    10        0 2 daacs-production      public tblCeramicWare
> Ware        -9   varchar        50    100    NA    NA        1
> REMARKS                         COLUMN_DEF SQL_DATA_TYPE
> SQL_DATETIME_SUB CHAR_OCTET_LENGTH ORDINAL_POSITION 1
> nextval('global_id_seq'::regclass)             4               NA
> -1                1 2                                       <NA>
> -9               NA               100                2 IS_NULLABLE
> DISPLAY_SIZE FIELD_TYPE AUTO_INCREMENT PHYSICAL NUMBER TABLE OID BASE
> TYPEID TYPMOD 1        <NA>           11         23              1
> 1     27441           0     -1 2        <NA>           50       1043
> 0               2     27441           0     50
>>> sqlPrimaryKeys(DRCch, "tblCeramicWare")
> TABLE_QUALIFIER TABLE_OWNER     TABLE_NAME COLUMN_NAME KEY_SEQ
> PK_NAME 1 daacs-production      public tblCeramicWare      WareID
> 1 tblCeramicWare_pkey
>
>>> sqlQuery(DRCch,paste("
> +          SELECT * +          FROM tblCeramicWare +          ")) [1]
> "42P01 7 ERROR: relation \"tblceramicware\" does not exist;\nError
> while executing the query" [2] "[RODBC] ERROR: Could not
> SQLExecDirect '\n         SELECT * \n         FROM tblCeramicWare \n
> '"
>>>
>
>
> Fraser D. Neiman Department of Archaeology, Monticello (434) 984
> 9812
>
>


From tjolitz at gmail.com  Sat May 31 17:52:21 2014
From: tjolitz at gmail.com (Thorsten Jolitz)
Date: Sat, 31 May 2014 17:52:21 +0200
Subject: [R] Skipping .Rd files and using Org-mode instead?
Message-ID: <87tx86q72i.fsf@gmail.com>


Hi List, 

it seems that .Rd files are just an intermediary format used for
exporting to txt, html and latex when creating an R package. 

How flexible is the R package mechanism? Would it possible to skip .Rd
files alltogether, write the docs with another tool (e.g. Emacs
Org-mode), export them to txt, html and latex, and include these
exported files in the package? 

Or does the R package mechanism simply expect the .Rd files to be there,
so that there is no way avoiding the .Rd format?

-- 
cheers,
Thorsten


From 20101254 at lamolina.edu.pe  Sat May 31 20:11:32 2014
From: 20101254 at lamolina.edu.pe (Fiorella Alexandra Flores Caceres)
Date: Sat, 31 May 2014 13:11:32 -0500
Subject: [R] Particular case of a factorial experiment
Message-ID: <CADy9A+TqKvyJH8TdeWJ7Uu1g6seuCyJPGCfcfP6mg=E5qwB94Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20140531/c011d55b/attachment.pl>

