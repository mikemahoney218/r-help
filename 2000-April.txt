From ripley at stats.ox.ac.uk  Sat Apr  1 08:59:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 1 Apr 2000 07:59:48 +0100 (BST)
Subject: [R] R: one bananna aov() question
In-Reply-To: <Pine.OSF.4.21.0003311528080.30135-100000@moe.cc.utexas.edu>
Message-ID: <Pine.GSO.4.05.10004010750490.17118-100000@auk.stats>

On Fri, 31 Mar 2000, Pete Hurd wrote:

> I'm trying to do an
> anova on data in data.set, dependent variable is a column
> named "dep.var", grouping variable is in a column called "indep.var", and
> is.factor(indep.var) is TRUE...
> why can't I just do aov(dep.var ~ indep.var, data = data.set)?
> 
> What have I done to deserve this?!  What gives?  Am I missing something
> totlly obvious?  

I think so. In your example it is not obvious what is a factor. I get

resids.dat <- read.table("resids") # from output as given
aov(aggr.resid ~ factor(indiv.code), data = resids.dat)
> summary(.Last.value)
                    Df Sum Sq Mean Sq F value    Pr(>F)
factor(indiv.code)  25 401.24   16.05  6.5163 4.763e-14
Residuals          150 369.45    2.46                  

In aov(y ~ x) you should expect x to be a factor and y to be continuous.
I think you have made y (aggr.resid) into a factor. That you tried
both ways round suggests you are a little confused, and

> aov(factor(aggr.resid) ~ factor(indiv.code), data = resids.dat) 

does give the messages you quoted.

> R-base-1.0.0-1, linux RH 6.1.

Could you just tell us the version of R?  Who packaged it as an RPM is
not so relevant.

> 
> ---------------------------------------------------------------------
> 
> > aov(aggr.resid ~ indiv.code, data = resids.dat)
> Error in lm.fit(x, y, offset = offset) : NA/NaN/Inf in foreign function
> call (arg 4)
> In addition: Warning message: 
> "-" not meaningful for factors in: Ops.factor(y, offset) 
> > aov(indiv.code ~ aggr.resid, data = resids.dat)
> Error in lm.fit(x, y, offset = offset) : NA/NaN/Inf in foreign function
> call (arg 4)
> In addition: Warning message: 
> "-" not meaningful for factors in: Ops.factor(y, offset) 

[ ... listing of data ]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Sat Apr  1 10:15:34 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Fri, 31 Mar 2000 22:15:34 -1000
Subject: [R] Re: compiling R for Windows from source 
In-Reply-To: <Pine.GSO.4.05.10003311233001.436-100000@auk.stats>
References: <3.0.5.32.20000330233819.008383c0@pop-server.hawaii.edu>
Message-ID: <3.0.5.32.20000331221534.00799180@pop-server.hawaii.edu>

At 01:40 AM 3/31/00 -1000, you wrote:
[snip]
>> Package //L/R-1.0.0/src/library/base does not exist
>
>That's your problem.  Now, what do you think //L/R-1.0.0 is?  That is
>not a Windows file specification.  Why are you using it?

Because that's what 'tar zxvf R-1.0.0' creates. In fact, renaming it
rw1000 gives the same error message with 'rw1000' instead of 'R-1.0.0'.

>I've never seen
>anything like this.  You may need to set RHOME explicitly in the Makefile
>if your tools are getting confused.

Tried this, just got different errors.

>(Looks as if you might be using bash.exe not sh.exe somehow.)

Don't understand this. I'm running commands in a DOS window. Invoking sh 
there doesn't help.

I can build without errors and get a working Rgui.exe if I put 
'HELP=NO' and 'PACKAGES=base' (only) in Makefile, but not otherwise.

Should src/include contain the file Rversion.h? I had to copy one from the 
binary distribution to avoid an error message.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr  1 11:06:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 1 Apr 2000 10:06:55 +0100 (BST)
Subject: [R] Re: compiling R for Windows from source 
In-Reply-To: <3.0.5.32.20000331221534.00799180@pop-server.hawaii.edu>
Message-ID: <Pine.GSO.4.05.10004010942370.24206-100000@auk.stats>

On Fri, 31 Mar 2000, Griffith Feeney wrote:

> At 01:40 AM 3/31/00 -1000, you wrote:
> [snip]
> >> Package //L/R-1.0.0/src/library/base does not exist
> >
> >That's your problem.  Now, what do you think //L/R-1.0.0 is?  That is
> >not a Windows file specification.  Why are you using it?
> 
> Because that's what 'tar zxvf R-1.0.0' creates. In fact, renaming it

Unlikely!  tar zxvf R-1.0.0.tgz might.

> rw1000 gives the same error message with 'rw1000' instead of 'R-1.0.0'.

You are not following carefully enough. tar can only create files. It
cannot specify a path, and something you have done has done that. It is the
"//L" which is not a Windows file specifcation.  It should be L:\R-1.0.0 or
L:/R-1.0.0.  To get anywhere you will need to find the answer to my
question.  One likely answer involves bash, as the Cygwin bash maps
L:\R-1.0.0 to //L/R-1.0.0.  

> Should src/include contain the file Rversion.h? I had to copy one from the 
> binary distribution to avoid an error message.

No, it is auto-created on a properly installed build system.  Do go back
and check that you have followed the instructions precisely: they have
worked on quite a large mumber of different systems.

One shortcut is to set RHOME and PKGD correctly in the Makefile. On your
setup I think they should be

RHOME=L:/R-1.0.0
PKGD=L:/R-1.0.0/src/library

as it is PKGD that is being quoted as an incorrect value.

But this should not be necessary, and it looks as if the shell command in
make is invoking the wrong shell (bash not sh).  You may have some
environment variable set that is not normally set, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sat Apr  1 23:31:49 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Sat, 01 Apr 2000 15:31:49 -0600 (CST)
Subject: [R] R with no gui
Message-ID: <XFMail.000401153149.s-luppescu@uchicago.edu>

I have an old IBM Thinkpad 701 that has a 340MB disk and a 486 CPU that's
not good for much anymore, so I thought I'd install R on it and make it a
little useful. I went to *tremendous* pains to upgrade Linux on it without X so
there would be some room to put R. But having done that I find that the binary
is R.X11 and it's looking for (but can't find) libSM.so, which is ordinarily in
/usr/X11R6/lib. I tried to fool it by running it as R --gui=none, but it was
too smart (or too dumb) to be taken in by that trick. So, is there any way I can
get this to run without X?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
ºÍÊ¸ ¤ÈÃÒÆàÈþ¤ÎÉã(EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
       ICQ #21172047  AIM: psycho7070
QOTD:
        "If I'm what I eat, I'm a chocolate chip cookie."
>> Sent on 01-Apr-00 at 15:24:05 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr  2 01:27:25 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Apr 2000 01:27:25 +0200
Subject: [R] R with no gui
In-Reply-To: Stuart Luppescu's message of "Sat, 01 Apr 2000 15:31:49 -0600 (CST)"
References: <XFMail.000401153149.s-luppescu@uchicago.edu>
Message-ID: <x2n1nd5rmq.fsf@blueberry.kubism.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> I have an old IBM Thinkpad 701 that has a 340MB disk and a 486 CPU
> that's not good for much anymore, so I thought I'd install R on it
> and make it a little useful. I went to *tremendous* pains to upgrade
> Linux on it without X so there would be some room to put R. But
> having done that I find that the binary is R.X11 and it's looking
> for (but can't find) libSM.so, which is ordinarily in
> /usr/X11R6/lib. I tried to fool it by running it as R --gui=none,
> but it was too smart (or too dumb) to be taken in by that trick. So,
> is there any way I can get this to run without X?

Not easily at present. You can compile a version without X11, but only
by manually ripping out whatever internal organs get in the way (this
ought to have worked by passing --without-x to configure, but it
..well.. doesn't.) Erich Neuwirth did the exercise a couple of weeks
back and sent the instructions, so it should be possible to dig them
out if you want them.

Another option is to install just the X11 libraries that R wants to be
dynamically linked with, that'll be /usr/X11R6/lib/lib{X11,SM,ICE}.so*
I believe. That's really no more than 1 MB in all.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Apr  2 05:35:13 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 1 Apr 2000 22:35:13 -0500 (EST)
Subject: [R] R with no gui
In-Reply-To: <x2n1nd5rmq.fsf@blueberry.kubism.ku.dk>
References: <XFMail.000401153149.s-luppescu@uchicago.edu>
	<x2n1nd5rmq.fsf@blueberry.kubism.ku.dk>
Message-ID: <14566.49137.852485.582218@sonny.eddelbuettel.com>


  "Peter" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
  Peter> Another option is to install just the X11 libraries that R wants to
  Peter> be dynamically linked with, that'll be
  Peter> /usr/X11R6/lib/lib{X11,SM,ICE}.so* I believe. That's really no more
  Peter> than 1 MB in all.

Debian allows this via the xlibc6 package (which is still 4 mb). You might be
able to get away with compiling / linking an empty library with the same
name.  There isn't really any code to be pulled, so you just need to satisfy
the linker.

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Sun Apr  2 17:49:48 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Sun, 2 Apr 2000 17:49:48 +0200
Subject: [R] Cutting vectors
References: <000701bf9b13$d67307d0$2795eb82@patrikwpc> <38E4C23A.3F050D7A@lionbioscience.com>
Message-ID: <000701bf9cbb$1371b660$2795eb82@patrikwpc>


> Patrik Waldmann wrote:
> 
> > I have one factor with say five levels (fact) of different size and a corresponding variable (var). I randomly generate five new levels (nfact ex. 2,2,1,5,4). What I would like to do is to extract the corresponding variable values into a new variable (nvar). I did try the following, why doesn't it work?  nvar<-var[fact==nfact[ ]]
> 
> ..I ain't sure I get evrything but try
> 
> 
> nvar<-var[which(fact == nfact)]
> 

Gives me the same error message as before (and creates a meaningless vector): 

Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: is.na(e1) | is.na(e2) 
2: longer object length
        is not a multiple of shorter object length in: ==.default(fact, nfact)

Has this something to with the non-equal size of the 'cuttings'?

Patrik




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sun Apr  2 19:57:15 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Sun, 02 Apr 2000 11:57:15 -0600 (CDT)
Subject: [R] R with no gui
In-Reply-To: <x2n1nd5rmq.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.000402115715.s-luppescu@uchicago.edu>

On 01-Apr-00 Peter Dalgaard BSA wrote:
> Stuart Luppescu <s-luppescu at uchicago.edu> writes:
> 
>> I have an old IBM Thinkpad 701 that has a 340MB disk and a 486 CPU
>> that's not good for much anymore, so I thought I'd install R on it
>> and make it a little useful. I went to *tremendous* pains to upgrade
>> Linux on it without X so there would be some room to put R. But
>> having done that I find that the binary is R.X11 and it's looking
>> for (but can't find) libSM.so, which is ordinarily in
>> /usr/X11R6/lib. I tried to fool it by running it as R --gui=none,
>> but it was too smart (or too dumb) to be taken in by that trick. So,
>> is there any way I can get this to run without X?
> 
> Not easily at present. You can compile a version without X11, but only
> by manually ripping out whatever internal organs get in the way (this
> ought to have worked by passing --without-x to configure, but it
> ..well.. doesn't.) Erich Neuwirth did the exercise a couple of weeks
> back and sent the instructions, so it should be possible to dig them
> out if you want them.
> 
> Another option is to install just the X11 libraries that R wants to be
> dynamically linked with, that'll be /usr/X11R6/lib/lib{X11,SM,ICE}.so*
> I believe. That's really no more than 1 MB in all.

Well, I cleaned out everything I could spare and installed X -- now I have no
development tools, so I have to build packages on another machine. I have
everything running ok and still have 12 MB of disk space open!
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
ºÍÊ¸ ¤ÈÃÒÆàÈþ¤ÎÉã(EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
       ICQ #21172047  AIM: psycho7070
What has roots as nobody sees,
Is taller than trees,
Up, up it goes,
And yet never grows?
>> Sent on 02-Apr-00 at 11:55:29 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PabloEV at t-online.de  Sun Apr  2 19:53:06 2000
From: PabloEV at t-online.de (Pablo E. Verde)
Date: Sun, 2 Apr 2000 19:53:06 +0200
Subject: [R] Re: dna library
References: <200003231744.SAA11616@alpha.luc.ac.be>
Message-ID: <12boYc-0PLFSKC@fwd02.sul.t-online.de>

Hi Jim,

Thank you very much!!!.

I am very happy with my job in the University. Finally, I am using 
properly my statistical skills. 

I have a  question ? Where I can load dowon a C compiler for 
MS Windows system?

Best regards, 

Pablo.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr  2 21:18:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Apr 2000 21:18:31 +0200
Subject: [R] Cutting vectors
In-Reply-To: "Patrik Waldmann"'s message of "Sun, 2 Apr 2000 17:49:48 +0200"
References: <000701bf9b13$d67307d0$2795eb82@patrikwpc> <38E4C23A.3F050D7A@lionbioscience.com> <000701bf9cbb$1371b660$2795eb82@patrikwpc>
Message-ID: <x2hfdkmhvc.fsf@blueberry.kubism.ku.dk>

"Patrik Waldmann" <Patrik.Waldmann at sysbot.lu.se> writes:

> > Patrik Waldmann wrote:
> > 
> > > I have one factor with say five levels (fact) of different size
> > > and a corresponding variable (var). I randomly generate five new
> > > levels (nfact ex. 2,2,1,5,4). What I would like to do is to extract
> > > the corresponding variable values into a new variable (nvar). I did
> > > try the following, why doesn't it work?  nvar<-var[fact==nfact[ ]]

> > 
> > ..I ain't sure I get evrything but try
> > 
> > 
> > nvar<-var[which(fact == nfact)]
> > 
> 
> Gives me the same error message as before (and creates a meaningless vector): 

I think you need to give us an example of what you're trying to
achieve, including sample of what might be in fact, nfact, and var as
well as how you expect the result to look. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr  2 21:38:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Apr 2000 21:38:29 +0200
Subject: [R] Cutting vectors
In-Reply-To: Peter Dalgaard BSA's message of "02 Apr 2000 21:18:31 +0200"
References: <000701bf9b13$d67307d0$2795eb82@patrikwpc> <38E4C23A.3F050D7A@lionbioscience.com> <000701bf9cbb$1371b660$2795eb82@patrikwpc> <x2hfdkmhvc.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2bt3smgy2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> > > nvar<-var[which(fact == nfact)]
> > > 
> > 
> > Gives me the same error message as before (and creates a meaningless vector): 
> 
> I think you need to give us an example of what you're trying to
> achieve, including sample of what might be in fact, nfact, and var as
> well as how you expect the result to look. 

Um, that text didn't scan too well on 2nd reading! Make it 

...samples of what might be in "fact", "nfact", and "var" as well as ...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr  2 22:45:39 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 2 Apr 2000 21:45:39 +0100 (BST)
Subject: [R] Re: dna library
In-Reply-To: <12boYc-0PLFSKC@fwd02.sul.t-online.de>
Message-ID: <Pine.GSO.4.05.10004022145120.2644-100000@auk.stats>

On Sun, 2 Apr 2000, Pablo E. Verde wrote:

> Hi Jim,
> 
> Thank you very much!!!.
> 
> I am very happy with my job in the University. Finally, I am using 
> properly my statistical skills. 
> 
> I have a  question ? Where I can load dowon a C compiler for 
> MS Windows system?

See the src/gnuwin32/INSTALL file in the source distribution.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlamias at isr.umich.edu  Mon Apr  3 01:19:38 2000
From: mlamias at isr.umich.edu (Mark Lamias)
Date: Sun, 2 Apr 2000 19:19:38 -0400 
Subject: [R] Expected Value of Residuals
Message-ID: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D1C2@isr.umich.edu>

Does anyone know a command to obtain the expected values of residuals under
normality?  Better yet, is there a command to perform a correlation test for
normality (not Shapiro-Wilk Test)?

I've looked everywhere, and can't seem to find how to do this.

Thanks.

Mark J. Lamias
Department of Statistics
Department of Political Science
Survey Methodology Program/Survey Research Center
Institute for Social Research - University of Michigan
426 Thompson Street, Room 315
Ann Arbor, Michigan 48104-2321
(734) 647-5381

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Apr  3 04:56:16 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sun, 2 Apr 2000 22:56:16 -0400 (EDT)
Subject: [R] Cutting vectors
In-Reply-To: <000701bf9cbb$1371b660$2795eb82@patrikwpc>
Message-ID: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain>


  Without being sure, I think what you're trying to do is achieved by
match().

 Example:

> x <- factor(1:4)
> y <- c(7,5,3,8)
> z <- c(2,3,1)
> y[z==x]
numeric(0)
Warning messages: 
1: longer object length
	is not a multiple of shorter object length in: is.na(e1) | is.na(e2) 
2: longer object length
	is not a multiple of shorter object length in: ==.default(z, x) 
> y[match(z,x)]
[1] 5 3 7

  Question: what cross-references in the documentation would have helped
you find this?  What keywords would you have looked for?
  I'm vaguely thinking about putting together a list of "How do I ... in
R?"

  Ben

On Sun, 2 Apr 2000, Patrik Waldmann wrote:

> 
> > Patrik Waldmann wrote: > > > I have one factor with say five levels
> (fact) of different size and a corresponding variable (var). I
> randomly generate five new levels (nfact ex. 2,2,1,5,4). What I would
> like to do is to extract the corresponding variable values into a new
> variable (nvar). I did try the following, why doesn't it work?  
> nvar<-var[fact==nfact[ ]] > > ..I ain't sure I get evrything but try >
> > > nvar<-var[which(fact == nfact)] >
> 
> Gives me the same error message as before (and creates a meaningless vector): 
> 
> Warning messages: 
> 1: longer object length
>         is not a multiple of shorter object length in: is.na(e1) | is.na(e2) 
> 2: longer object length
>         is not a multiple of shorter object length in: ==.default(fact, nfact)
> 
> Has this something to with the non-equal size of the 'cuttings'?
> 
> Patrik
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Mon Apr  3 10:40:50 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Mon, 3 Apr 2000 10:40:50 +0200
Subject: [R] Cutting vectors
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain>
Message-ID: <003f01bf9d48$50e84a30$2795eb82@patrikwpc>

What I would like to do is as follows:
I have a factor ex. fact 1 1 1 1 1 2 2 2 3 3 3 3 4 4 4 4, Levels:  1 2 3 4
and a variable ex. var 11 12 13 14 15 21 22 23 31 32 33 34 41 42 43 44
I take a bootstrap sample from the levels ex. nlev 1 1 4 3
and would like to construct a new vector (variable) ex nvar that corresponds to the levels in nlev, nvar should then look like 11 12 13 14 15 11 12 13 14 15 41 42 43 44 31 32 33 34 
the next step would be to construct a new factor that corresponds to the size of the groups of nvar ex. nfact 1 1 1 1 1 2 2 2 2 2 3 3 3 3 4 4 4 4

Patrik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr  3 11:21:06 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 2000 11:21:06 +0200
Subject: [R] Cutting vectors
In-Reply-To: "Patrik Waldmann"'s message of "Mon, 3 Apr 2000 10:40:50 +0200"
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc>
Message-ID: <x2g0t31qwt.fsf@blueberry.kubism.ku.dk>

"Patrik Waldmann" <Patrik.Waldmann at sysbot.lu.se> writes:

> What I would like to do is as follows: I have a factor ex. fact 1 1
> 1 1 1 2 2 2 3 3 3 3 4 4 4 4, Levels: 1 2 3 4 and a variable ex. var
> 11 12 13 14 15 21 22 23 31 32 33 34 41 42 43 44 I take a bootstrap
> sample from the levels ex. nlev 1 1 4 3 and would like to construct
> a new vector (variable) ex nvar that corresponds to the levels in
> nlev, nvar should then look like 11 12 13 14 15 11 12 13 14 15 41 42
> 43 44 31 32 33 34 the next step would be to construct a new factor
> that corresponds to the size of the groups of nvar ex. nfact 1 1 1 1
> 1 2 2 2 2 2 3 3 3 3 4 4 4 4

Something like this should do it:

nvar <- unlist(split(var,fact)[nlev])
nfact <- factor(rep(1:4,table(fact)[nlev]))

(except that using "var" as a variable name may not be too good an
idea)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laurent.Gautier at lionbioscience.com  Mon Apr  3 12:31:46 2000
From: Laurent.Gautier at lionbioscience.com (Laurent Gautier)
Date: Mon, 3 Apr 2000 12:31:46 +0200
Subject: [R] Cutting vectors
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc>
Message-ID: <38E8731E.DE19729E@lionbioscience.com>

Does this helps ?


f _ function (var,fact,nlev) {
    c _ c()
    for (i in 1:length(nlev)) {
        c _ c(c,var[nlev[i] == fact])
    }
    return(c)
}



f(var,fact,nlev)






Laurent



You'll figure out easily how to get the levels....



Patrik Waldmann wrote:

> What I would like to do is as follows:
> I have a factor ex. fact 1 1 1 1 1 2 2 2 3 3 3 3 4 4 4 4, Levels:  1 2 3 4
> and a variable ex. var 11 12 13 14 15 21 22 23 31 32 33 34 41 42 43 44
> I take a bootstrap sample from the levels ex. nlev 1 1 4 3
> and would like to construct a new vector (variable) ex nvar that corresponds to the levels in nlev, nvar should then look like 11 12 13 14 15 11 12 13 14 15 41 42 43 44 31 32 33 34
> the next step would be to construct a new factor that corresponds to the size of the groups of nvar ex. nfact 1 1 1 1 1 2 2 2 2 2 3 3 3 3 4 4 4 4
>
> Patrik
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._





>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Mon Apr  3 13:50:53 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Mon, 03 Apr 2000 12:50:53 +0100
Subject: [R] Building acepack for Rw1000 under Win98
Message-ID: <3.0.1.32.20000403125053.006a83a8@pop3.ucd.ie>

(Sorry, I had the previous emails on a different machine.)

Thanks to Prof Ripley for diagnosing the problem with
inconsistent capitals under Win98. It's 'interesting':

    * I had ...\acepack\Src\Ace.f Avas.f and Rlsmo.f (tar'ed in
       a Unix machine and Ws_FTP'ed to the PC) 
    * when the directory name was changed to ...\acepack\src
       it still didn't work
    * it worked to a point (see below) when the program names
      are all put into lower case: ace.f avas.f rlsmo.f

Now it complains about dllcrt1.o (which lives in
\gcc-2.95.2\i386-mingw32\lib),
which I cannot see how it can access. What obvious step am I missing?

-Yudi-

/R/TOOLS/MAKE.EXE DLLNM=  EXTRADOCS= \
  -C /R/rw1000/src/library/acepack PKG=acepack RHOME=/R/rw1000
RLIB=/R/rw1000/li
brary \
  -f /R/rw1000/src/gnuwin32/MakePkg
---------- Making package acepack ------------
mkdir -p /R/rw1000/library/acepack
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./ACE.DOC ./README ./README.ACE
./README
.avas ./README~1.AVA ./WS_FTP.LOG /R/rw1000/library/acepack/
/R/TOOLS/MAKE.EXE -C ./src RHOME=/R/rw1000 \
  -f /R/rw1000/src/gnuwin32/MakeDll DLLNAME=acepack
g77 -O2 -Wall  -c ace.f -o ace.o
ace.f: In subroutine `mace':
ace.f:89: warning:
         common /prams/ itape,maxit,nterm,span,alpha,big
                 ^
Initial padding for common block `prams' is 4 bytes at (^) -- consider
reorderin
g members, largest-type-size first
ace.f:206: warning:
    310  call scale (p,n,w,sw,ty(1,is),tx(1,1,is),delrsq,p,z(1,5),z(1,6))
              ^
Reference to unimplemented intrinsic `SCALE' at (^) (assumed EXTERNAL)
ace.f: In subroutine `scale':
ace.f:540: warning: `h' might be used uninitialized in this function
g77 -O2 -Wall  -c avas.f -o avas.o
g77 -O2 -Wall  -c rlsmo.f -o rlsmo.o
rlsmo.f: In subroutine `smth':
rlsmo.f:147: warning: `is2' might be used uninitialized in this function
rm -f -f acepack.a
ar cr acepack.a *.o
ranlib acepack.a
------- Building acepack.dll from acepack.a --------
echo LIBRARY acepack > acepack.def
echo EXPORTS >> acepack.def
nm acepack.a > Defs
sed -n "/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p" Defs >> acepack.def
gcc -mno-cygwin -mdll -Wl,--base-file,acepack.b -s  -o acepack.dll
acepack.a  -
L/R/rw1000/src/gnuwin32  -L/cygwin-b20/lib -lg2c -lR
/R/TOOLS/ld: cannot open dllcrt1.o: No such file or directory
collect2: ld returned 1 exit status
MAKE.EXE[2]: *** [acepack.dll] Error 1
MAKE.EXE[1]: *** [src/acepack.dll] Error 2
MAKE.EXE: *** [pkg-acepack] Error 2

C:\R\rw1000\src\gnuwin32>path
PATH=C:\R\TOOLS;C:\H-I586~1\BIN;C:\GCC-29~1.2\BIN;C:\PERL\BIN;C:\WINDOWS;C:\
WIND
OWS\COMMAND;C:\DMI95\WIN32\BIN


Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  3 14:33:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 3 Apr 2000 13:33:45 +0100 (BST)
Subject: [R] Building acepack for Rw1000 under Win98
Message-ID: <200004031233.NAA16053@toucan.stats.ox.ac.uk>


> Date: Mon, 03 Apr 2000 12:50:53 +0100
> From: Yudi Pawitan <yudi at stat.ucc.ie>
> Subject: [R] Building acepack for Rw1000 under Win98
> To: r-help at stat.math.ethz.ch
> 
> (Sorry, I had the previous emails on a different machine.)
> 
> Thanks to Prof Ripley for diagnosing the problem with
> inconsistent capitals under Win98. It's 'interesting':
> 
>     * I had ...\acepack\Src\Ace.f Avas.f and Rlsmo.f (tar'ed in
>        a Unix machine and Ws_FTP'ed to the PC) 

Ah, but you did not. Windows Explorer says SRC is Src, but it really is
all capitals.

>     * when the directory name was changed to ...\acepack\src
>        it still didn't work
>     * it worked to a point (see below) when the program names
>       are all put into lower case: ace.f avas.f rlsmo.f
> 
> Now it complains about dllcrt1.o (which lives in
> lib),

Well, you seem to be using the cygwin not mingw32 compiler. Try putting
/R/tools;/gcc-2.95.2/bin at the head of your path, and using 
make BUILD=MINGW32 pkg-acepack.  What you have done should I think work, but
the cygwin route can be very picky. I have seen the message you get,
and have never really understood why it want away, although I think it
was to do with a compiler upgrade.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Mon Apr  3 15:29:08 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Mon, 03 Apr 2000 14:29:08 +0100
Subject: [R] Building acepack for Rw1000 under Win98
In-Reply-To: <200004031233.NAA16053@toucan.stats.ox.ac.uk>
Message-ID: <3.0.1.32.20000403142908.006a9b48@pop3.ucd.ie>

>From Prof Ripley:
>Well, you seem to be using the cygwin not mingw32 compiler. Try putting
>/R/tools;/gcc-2.95.2/bin at the head of your path, and using 
>make BUILD=MINGW32 pkg-acepack.  What you have done should I think work, but
>the cygwin route can be very picky. I have seen the message you get,
>and have never really understood why it want away, although I think it
>was to do with a compiler upgrade.
Unfortunately, I'm not there yet. It seems to be searching the
right places, but it gets confused by the separator (or lack of). 

-Yudi-

C:\R\rw1000\src\gnuwin32>make BUILD=MINGW32 pkg-acepack
/R/TOOLS/MAKE.EXE DLLNM=  EXTRADOCS= \
  -C /R/rw1000/src/library/acepack PKG=acepack RHOME=/R/rw1000
RLIB=/R/rw1000/li
brary \
  -f /R/rw1000/src/gnuwin32/MakePkg
---------- Making package acepack ------------
mkdir -p /R/rw1000/library/acepack
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./ACE.DOC ./MAKE.EXE.core ./README
./REA
DME.ACE ./README.avas ./README~1.AVA ./WS_FTP.LOG /R/rw1000/library/acepack/
/R/TOOLS/MAKE.EXE -C ./src RHOME=/R/rw1000 \
  -f /R/rw1000/src/gnuwin32/MakeDll DLLNAME=acepack
------- Building acepack.dll from acepack.a --------
echo LIBRARY acepack > acepack.def
echo EXPORTS >> acepack.def
nm acepack.a > Defs
sed -n "/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p" Defs >> acepack.def
gcc  -mdll -Wl,--base-file,acepack.b -s  -o acepack.dll  acepack.a
-L/R/rw1000/
src/gnuwin32  -lg2c -lR
ld: cannot open
C:GCC-29~1.2BIN..libgcc-libi386-mingw322.95.2........i386-mingw3
2libdllcrt1.o: No such file or directory
MAKE.EXE[2]: *** [acepack.dll] Error 1
MAKE.EXE[1]: *** [src/acepack.dll] Error 2
MAKE.EXE: *** [pkg-acepack] Error 2

C:\R\rw1000\src\gnuwin32>path
PATH=C:\R\TOOLS;C:\GCC-29~1.2\BIN;C:\H-I586~1\BIN;C:\PERL\BIN;C:\WINDOWS;C:\
WIND
OWS\COMMAND;C:\DMI95\WIN32\BIN

Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Mon Apr  3 18:17:25 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Mon, 03 Apr 2000 17:17:25 +0100
Subject: [R] Building acepack for Rw1000 under Win98
In-Reply-To: <200004031530.QAA17735@toucan.stats.ox.ac.uk>
Message-ID: <3.0.1.32.20000403171725.006a8994@pop3.ucd.ie>

>> >From Prof Ripley:
>> >Well, you seem to be using the cygwin not mingw32 compiler. Try putting
>> >/R/tools;/gcc-2.95.2/bin at the head of your path, and using 
>> >make BUILD=MINGW32 pkg-acepack.  What you have done should I think
work, but
>> >the cygwin route can be very picky. I have seen the message you get,
>> >and have never really understood why it want away, although I think it
>> >was to do with a compiler upgrade.
YP>> Unfortunately, I'm not there yet. It seems to be searching the
>> right places, but it gets confused by the separator (or lack of). 
... previous error message cut
>
BR>Um.  I don't really understand this, but try removing /R/tools/ld.exe
>(which should not be needed anymore with that version of gcc).  Exactly
>that works for me, though.

Removing ld.exe did work! Many thanks for all the helps from
Guido and Brian Ripley. I hope I can be as helpful to others.


Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Mon Apr  3 21:09:26 2000
From: niels.waller at home.com (niels Waller)
Date: Mon, 3 Apr 2000 12:09:26 -0700
Subject: No subject
Message-ID: <NCBBKMNKKMFCIGDCHLDOGEABCBAA.niels.waller@home.com>




R community,

I am having trouble adding Greek symbols to a plot.  I want to mix Roman
text and Greek -- but they keep fighting!

Pseudo code for what I want:

 [Greek] gamma [subscript]1 = [Roman] Threshold 1


I have conducted a search on the CRAN FAQ list, but no luck.

Any and all hints would be GREATLY appreciated.


Niels Waller
Department of Psychology and Human Development
Vanderbilt University
niels.waller at vanderbilt.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Apr  3 19:26:35 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 3 Apr 2000 19:26:35 +0200 (CEST)
Subject: No subject
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOGEABCBAA.niels.waller@home.com>
References: <NCBBKMNKKMFCIGDCHLDOGEABCBAA.niels.waller@home.com>
Message-ID: <14568.54347.497565.6993@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 3 Apr 2000 12:09:26 -0700,
>>>>> niels Waller (nW) wrote:

nW> R community,

nW> I am having trouble adding Greek symbols to a plot.  I want to mix Roman
nW> text and Greek -- but they keep fighting!

nW> Pseudo code for what I want:

nW>  [Greek] gamma [subscript]1 = [Roman] Threshold 1


nW> I have conducted a search on the CRAN FAQ list, but no luck.

nW> Any and all hints would be GREATLY appreciated.


If

	plot(1:10, main=expression(gamma[1]=="Threshold 1"))

does what you want then help(plotmath) might get you started.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Apr  3 19:31:53 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 3 Apr 2000 10:31:53 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOGEABCBAA.niels.waller@home.com>
Message-ID: <Pine.GSO.4.21.0004031031220.11443-100000@mail.biostat.washington.edu>

On Mon, 3 Apr 2000, niels Waller wrote:

> 
> 
> 
> R community,
> 
> I am having trouble adding Greek symbols to a plot.  I want to mix Roman
> text and Greek -- but they keep fighting!
> 
> Pseudo code for what I want:
> 
>  [Greek] gamma [subscript]1 = [Roman] Threshold 1


 plot(1,1,main=expression(gamma[1]=="Threshold 1"))

seems to work

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Apr  3 20:07:21 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 03 Apr 2000 20:07:21 +0200
Subject: [R] Re: 
References: <NCBBKMNKKMFCIGDCHLDOGEABCBAA.niels.waller@home.com>
Message-ID: <38E8DDD9.C3129800@statistik.uni-dortmund.de>

>  [Greek] gamma [subscript]1 = [Roman] Threshold 1
Have a look in documentation to 'plotmath'.
I think something like the following should work:
...expression(gamma[1] == Threshold~1)...

Regards, Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apeng at emmes.com  Mon Apr  3 22:26:23 2000
From: apeng at emmes.com (Amy C. Peng)
Date: Mon, 03 Apr 2000 16:26:23 -0400
Subject: [R] Re: r-excel interface code
In-Reply-To: <38B674E4.70092CEE@univie.ac.at>
Message-ID: <3.0.5.32.20000403162623.00977ca0@netgate.emmes.com>

I am using the R-Excel interface, which is in Contributed Extensions /
Nonstandard Extensions on CRAN.

It seems that all #N/A values in Excel are being transferred over to R as
0's.  Also, when I transfer data from R back to Excel, NA values in R show
up as 1.#QNAN in Excel if I use the RGet function, and they show up as
65535 if I use the GetArray function.  (RGet and GetArray are functions of
the Excel AddIn.)

Is there any way to preserve NA values using the R-Excel interface, without
explicitly coding NA's as integers, say -9999999, transfering the data
between Excel and R, and then recoding the value -9999999 as the
appropriate missing value representation (i.e., #N/A in Excel, and NA in R)?

I was just wondering if anybody has any experience with this?  Thanks a lot
for your comments!

  -Amy Peng


At 01:26 PM 2/25/2000 +0100, you wrote:
>
>some of you might be interested.
>
>i just uploaded the first release of my 
>r-excel interface package to CRAN.
>
>it is in
>contributed extensions
>nonstandard extensions
>
>erich neuwirth
>
>--
>Erich Neuwirth, Computer Supported Didactics Working Group
>Visit our SunSITE at http://sunsite.univie.ac.at
>Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Tue Apr  4 10:46:07 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Tue, 4 Apr 2000 10:46:07 +0200 
Subject: [R] Mixing grrek and normal text with other fonts
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E745@exdkba03.novo.dk>

Is this a bug or a feaure:

plot(1:19,type="n")
for (i in 1:19) text(8,20-i,paste("Font no. ",i,",
but:",sep=""),adj=1,font=i)
for (i in 1:19) text(9,20-i,
     expression(gamma[1]==alpha*" mixing with greek goes
wrong"),adj=0,font=i)

What happens on my NT installation:

> R.version
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    0.0       
year     2000      
month    February  
day      29        
language R  

is that the plain text from the expression appears in font no. 1.
Is this intended?
Can it be remedied?

Bendix

                      \\\|///
                     \\ - - /
                     (  @ @ )  
+------------------o00o-(_)-o00o-------------------------+
| Bendix Carstensen                 tel: +45 44 43 87 38 |
| Senior Statistician               SDC: +45 44 43 90 42 |
| Steno Diabetes Center             fax: +45 44 43 73 13 |
| Niels Steensens Vej 2              e-mail: bxc at novo.dk |
| DK - 2820 Gentofte       http://www.biostat.ku.dk/~bxc |
| Denmark                   Ooooo                        |
+------------------ooooO----(   )------------------------+
                   (   )     ) /
                    \ (     (_/
                     \_)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Apr  4 11:26:43 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 4 Apr 2000 11:26:43 +0200
Subject: [R] Hierarchical Regression
Message-ID: <v04220800b50f6428a9c8@[134.76.136.114]>

Howdy!

I'm a clinical psychologist desperately trying to get rid of SPSS. I 
just discovered R and like it quite a lot. The main reason why we're 
still using SPSS  is the hierarchical regression where you enter 
bundles of variables into a linear model and get an R-sqare increase 
tested with an F-test. I already found add1 and drop1 but would 
rather need addn and dropn. Is there something like that? Or how else 
can I get what I want?

--Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  4 11:58:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2000 11:58:48 +0200
Subject: [R] Hierarchical Regression
In-Reply-To: Ragnar Beer's message of "Tue, 4 Apr 2000 11:26:43 +0200"
References: <v04220800b50f6428a9c8@[134.76.136.114]>
Message-ID: <x27lee89wn.fsf@blueberry.kubism.ku.dk>

Ragnar Beer <rbeer at uni-goettingen.de> writes:

> Howdy!
> 
> I'm a clinical psychologist desperately trying to get rid of SPSS. I 
> just discovered R and like it quite a lot. The main reason why we're 
> still using SPSS  is the hierarchical regression where you enter 
> bundles of variables into a linear model and get an R-sqare increase 
> tested with an F-test. I already found add1 and drop1 but would 
> rather need addn and dropn. Is there something like that? Or how else 
> can I get what I want?
> 
> --Ragnar

You can compare any two (nested!!) models with anova(model1,model2)
and get the F-test between them. (Currently there's no sanity check
that you're actually applying the models to the same data and have a
strict ordering of models, but this is rather high up on our TODO list
for 1.1.0)

If you're thinking in terms of model search procedures, also have a
look at step() and the leaps package.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  4 12:03:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Apr 2000 11:03:54 +0100 (BST)
Subject: [R] Hierarchical Regression
In-Reply-To: <v04220800b50f6428a9c8@[134.76.136.114]>
Message-ID: <Pine.GSO.4.05.10004041100390.11721-100000@auk.stats>

On Tue, 4 Apr 2000, Ragnar Beer wrote:

> Howdy!
> 
> I'm a clinical psychologist desperately trying to get rid of SPSS. I 
> just discovered R and like it quite a lot. The main reason why we're 
> still using SPSS  is the hierarchical regression where you enter 
> bundles of variables into a linear model and get an R-sqare increase 
> tested with an F-test. I already found add1 and drop1 but would 
> rather need addn and dropn. Is there something like that? Or how else 
> can I get what I want?

Please give us an example. If the variables are fitted in the order you
give them you want a sequential anova, which anova() gives on the fitted
object containing all the variables.  Otherwise a for loop around anova
looks to be what you want.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgerber at giub.unibe.ch  Tue Apr  4 12:28:58 2000
From: kgerber at giub.unibe.ch (Kurt Gerber)
Date: Tue, 04 Apr 2000 12:28:58 +0200
Subject: [R] customizing help()
Message-ID: <NDBBLLDDHJKDCGNLFFHFOEAPCBAA.kgerber@giub.unibe.ch>

Hi
I tried to customize help(), so it starts the compiled html help, and
searches in all packages.

I wrote the following function:

 > my.help
function(topic){
help(topic, package=.packages(all=T), lib.loc=.lib.loc, chmhelp=T)
}

When I use it with

>my.help(help)

give the following error:

Error in help(topic, package = .packages(all = T), lib.loc = .lib.loc,  :
        No documentation for `topic'

I tried also with
> my.help
function(x){
help(x,chmhelp)}

with the same result.
Only doing help(help) is working. Why my function doesn't work?
`
Kurt Gerber

********************************************
Kurt Gerber

Center for Developement and Environment
Institute of Geography University Bern
Hallerstrasse 12
3012 Bern

phone: +41(0)31 631 40 02
fax:   +41(0)31 631 85 44

e-mail: kgerber at giub.unibe.ch

www: http://www.cde.unibe.ch

********************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Apr  4 12:57:56 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 4 Apr 2000 12:57:56 +0200
Subject: [R] Hierarchical Regression
In-Reply-To: <Pine.GSO.4.05.10004041100390.11721-100000@auk.stats>
References: <Pine.GSO.4.05.10004041100390.11721-100000@auk.stats>
Message-ID: <v04220801b50f76e5b3c0@[134.76.136.114]>

>On Tue, 4 Apr 2000, Ragnar Beer wrote:
>
>  > Howdy!
>  >
>  > I'm a clinical psychologist desperately trying to get rid of SPSS. I
>  > just discovered R and like it quite a lot. The main reason why we're
>  > still using SPSS  is the hierarchical regression where you enter
>  > bundles of variables into a linear model and get an R-sqare increase
>  > tested with an F-test. I already found add1 and drop1 but would
>  > rather need addn and dropn. Is there something like that? Or how else
>  > can I get what I want?
>
>Please give us an example. If the variables are fitted in the order you
>give them you want a sequential anova, which anova() gives on the fitted
>object containing all the variables.  Otherwise a for loop around anova
>looks to be what you want.

Here is an example:
I have measured relationship satisfaction (dv), difficulty (iv1) and 
clarity (iv2) of relationship related personal goals and emotional 
(iv3) and instrumental (iv4) support  for those goals prior to and 
after marital therapy.
I want to know how much variance of pre/post-changes in relationship 
satisfaction can be explained by changes in iv1 and iv2 (dv ~ iv1 + 
iv2), by changes in iv3 and iv4 (dv ~ iv3 + iv4) and I want to know 
wether a model including all of the iv's explains a significant 
amount of variance over these two models (dv ~ iv1 + iv2 + iv3 + iv4).




*****************************************
Ragnar Beer <rbeer at uni-goettingen.de>

Universitaet Goettingen
Institut fuer Psychologie
Klinische Psychologie
Gosslerstr. 14
37073 Goettingen
Germany

Phone:    +49/551/39-3566
Fax:      +49/551/39-3544
Homepage: http://www.gwdg.de/~rbeer
Training: http://goal.uni-psych.gwdg.de
*****************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  4 13:10:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Apr 2000 12:10:41 +0100 (BST)
Subject: [R] customizing help()
In-Reply-To: <NDBBLLDDHJKDCGNLFFHFOEAPCBAA.kgerber@giub.unibe.ch>
Message-ID: <Pine.GSO.4.05.10004041156520.19081-100000@auk.stats>

On Tue, 4 Apr 2000, Kurt Gerber wrote:

> Hi
> I tried to customize help(), so it starts the compiled html help, and
> searches in all packages.
> 
> I wrote the following function:
> 
>  > my.help
> function(topic){
> help(topic, package=.packages(all=T), lib.loc=.lib.loc, chmhelp=T)
> }
> 
> When I use it with
> 
> >my.help(help)
> 
> give the following error:
> 
> Error in help(topic, package = .packages(all = T), lib.loc = .lib.loc,  :
>         No documentation for `topic'
> 
> I tried also with
> > my.help
> function(x){
> help(x,chmhelp)}
> 
> with the same result.
> Only doing help(help) is working. Why my function doesn't work?

Because the first argument of help() is handled specially, to allow
help(help) or help("help").  my.help(help) passes the help object to help,
not "help".  But my.help("help") will still fail.

I could tell you how to do this, but I do think it is a bad idea, and
we worked quite hard to do something better in 1.0.0.  The problem is that
those options will find a copy of the help under a given name, and quite
possibly not help for the object in the packages you have loaded.

You can set the preference for chmhelp via an options setting.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From santini at dsi.unimi.it  Tue Apr  4 13:41:41 2000
From: santini at dsi.unimi.it (Massimo Santini)
Date: Tue, 4 Apr 2000 13:41:41 +0200 (CEST)
Subject: [R] stochastic process transition probabilities estimation
Message-ID: <Pine.LNX.4.21.0004041231550.25531-100000@zorn.usr.dsi.unimi.it>

Hi all,
	I'm new with R (and S), and relatively new to statistics (I'm a
computer scientist), so I ask sorry in advance if my question is silly. 

My problem is this: I have a (sample of a) discrete time stochastic
process {X_t} and I want to estimate 

 Pr{ X_t | X_{t-l_1}, X_{t-l_2}, ..., X_{t-l_k} } 

where l_1, l_2, ..., l_k are some fixed time lags. It will be enough for
me to compute 

 #{ X_t=a_t, X_{t-l_1}=a_{t-l_1}, X_{t-l_2}=a_{t-l_2}, ..., X_{t-l_k}=a_{t-l_k} }
 ----------------------------------------------------------------------------------
          #{ X_{t-l_1}=a_{t-l_1}, X_{t-l_2}=a_{t-l_2}, ..., X_{t-l_k}=a_{t-l_k} }

for any given sequence of a_t, a_{t-l_1}, a_{t-l_2}, ..., a_{t-l_k}.

If I should do this in C, Fortran or some other algol-like programming language
I've no doubt it will take to me no more than few minutes to write down the code. 

But I'm interested in doing it within R framework in order to further
use such a result in a statistical context, where other powerfull
tools are available. Shurly I can try to implement an external
function and use it with R, but this probably wouldn't be as simple as
to write the code in R itself.

An idea should be to use R in a "multivariate" fashion: if I can get
factors of a multivariate random variable, I can build a random vector
Y_t using X_t, and its lags: Y_t = [ X_t, X_{t-l_1}, X_{t-l_2}, ...,
X_{t-l_k} ], and taking the factors of Y_t and of its margin without
the first component I think I'm done.  Unfortunately, factor, sort,
unique all work only with univariate data.

Any other suggestion will be very appreciated...

Best regards, Massimo

--
Dr.  Massimo Santini       
Tel. Milano +390255006278, Crema +390373898227;  Fax. +390255006373       
<mailto:santini at dsi.unimi.it> <http://zorn.usr.dsi.unimi/~santini/>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  4 13:49:11 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2000 13:49:11 +0200
Subject: [R] Hierarchical Regression
In-Reply-To: Ragnar Beer's message of "Tue, 4 Apr 2000 12:57:56 +0200"
References: <Pine.GSO.4.05.10004041100390.11721-100000@auk.stats> <v04220801b50f76e5b3c0@[134.76.136.114]>
Message-ID: <x24s9i84so.fsf@blueberry.kubism.ku.dk>

Ragnar Beer <rbeer at uni-goettingen.de> writes:

> I want to know how much variance of pre/post-changes in relationship 
> satisfaction can be explained by changes in iv1 and iv2 (dv ~ iv1 + 
> iv2), by changes in iv3 and iv4 (dv ~ iv3 + iv4) and I want to know 
> wether a model including all of the iv's explains a significant 
> amount of variance over these two models (dv ~ iv1 + iv2 + iv3 + iv4).

OK, that would be easiest done by 

model.0  <- lm(dv ~ 1)
model.A  <- lm(dv ~ iv1 + iv2)
model.B  <- lm(dv ~ iv3 + iv4)
model.AB <- lm(dv ~ iv1 + iv2 + iv3 + iv4)

anova(model.AB, model.A, model.0)
anova(model.AB, model.B, model.0)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr  4 13:56:21 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 4 Apr 2000 13:56:21 +0200 (CEST)
Subject: [R] customizing help()
In-Reply-To: <NDBBLLDDHJKDCGNLFFHFOEAPCBAA.kgerber@giub.unibe.ch>
References: <NDBBLLDDHJKDCGNLFFHFOEAPCBAA.kgerber@giub.unibe.ch>
Message-ID: <14569.55397.221841.988669@lynne.ethz.ch>

>>>>> "Kurt" == Kurt Gerber <kgerber at giub.unibe.ch> writes:

    Kurt> Hi
    Kurt> I tried to customize help(), so it starts the compiled html help, and
    Kurt> searches in all packages.
          ------------------------
    <.....>

just an aside additional to Prof Ripley's answer:
Your "searches in all packages"  can be accomplished by
the
    help.search()

function which might less known than it should.
Given a "topic" it lists "help files" {typically names of R objects} from
ALL available packages, see
   ?help.search

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Apr  4 14:06:34 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 4 Apr 2000 14:06:34 +0200
Subject: [R] Hierarchical Regression
In-Reply-To: <x24s9i84so.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.05.10004041100390.11721-100000@auk.stats>
 <v04220801b50f76e5b3c0@[134.76.136.114]>
 <x24s9i84so.fsf@blueberry.kubism.ku.dk>
Message-ID: <v04220800b50f894e05e3@[134.76.136.114]>

Thanks a lot! I wouldn't have thought that it's so easy! It's just a 
different way of thinking than in SPSS. I wonder if there is 
something like a cookbook with all the stuff that one normally needs 
in social sciences (like calculating test-item characteristics, 
homogeneity, inter-rater correlations, all those anovas, ...)? 
Something like that would make it a LOT easier to introduce R in our 
department.

>Ragnar Beer <rbeer at uni-goettingen.de> writes:
>
>  > I want to know how much variance of pre/post-changes in relationship
>  > satisfaction can be explained by changes in iv1 and iv2 (dv ~ iv1 +
>  > iv2), by changes in iv3 and iv4 (dv ~ iv3 + iv4) and I want to know
>  > wether a model including all of the iv's explains a significant
>  > amount of variance over these two models (dv ~ iv1 + iv2 + iv3 + iv4).
>
>OK, that would be easiest done by
>
>model.0  <- lm(dv ~ 1)
>model.A  <- lm(dv ~ iv1 + iv2)
>model.B  <- lm(dv ~ iv3 + iv4)
>model.AB <- lm(dv ~ iv1 + iv2 + iv3 + iv4)
>
>anova(model.AB, model.A, model.0)
>anova(model.AB, model.B, model.0)




*****************************************
Ragnar Beer <rbeer at uni-goettingen.de>

Universitaet Goettingen
Institut fuer Psychologie
Klinische Psychologie
Gosslerstr. 14
37073 Goettingen
Germany

Phone:    +49/551/39-3566
Fax:      +49/551/39-3544
Homepage: http://www.gwdg.de/~rbeer
Training: http://goal.uni-psych.gwdg.de
*****************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  4 14:18:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Apr 2000 13:18:53 +0100 (BST)
Subject: [R] customizing help()
In-Reply-To: <Pine.GSO.4.05.10004041156520.19081-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.10004041314570.19757-100000@auk.stats>

On Tue, 4 Apr 2000, Prof Brian D Ripley wrote:

> On Tue, 4 Apr 2000, Kurt Gerber wrote:
> 
> > Hi
> > I tried to customize help(), so it starts the compiled html help, and
> > searches in all packages.
> > 
> > I wrote the following function:
> > 
> >  > my.help
> > function(topic){
> > help(topic, package=.packages(all=T), lib.loc=.lib.loc, chmhelp=T)
> > }
> > 
> > When I use it with
> > 
> > >my.help(help)
> > 
> > give the following error:
> > 
> > Error in help(topic, package = .packages(all = T), lib.loc = .lib.loc,  :
> >         No documentation for `topic'
> > 
> > I tried also with
> > > my.help
> > function(x){
> > help(x,chmhelp)}
> > 
> > with the same result.
> > Only doing help(help) is working. Why my function doesn't work?
> 
> Because the first argument of help() is handled specially, to allow
> help(help) or help("help").  my.help(help) passes the help object to help,
> not "help".  But my.help("help") will still fail.
> 
> I could tell you how to do this, but I do think it is a bad idea, and
> we worked quite hard to do something better in 1.0.0.  The problem is that
> those options will find a copy of the help under a given name, and quite
> possibly not help for the object in the packages you have loaded.

Perhaps that was a bit mean, and the general principle at least may be
illuminating.  The following should work:

my.help <- function(...)
{
    oc <- match.call()
    oc[[1]] <- as.name("help")
    oc$package <- quote(.packages(all = T))
    oc$lib.loc <- quote(.lib.loc)
    oc$chmhelp <- TRUE
    eval.parent(oc)
}

Martin Maechler mentioned help.search(), which is very useful but does not
pick up the help file(s) directly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  4 14:34:56 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2000 14:34:56 +0200
Subject: [R] customizing help()
In-Reply-To: Prof Brian D Ripley's message of "Tue, 4 Apr 2000 13:18:53 +0100 (BST)"
References: <Pine.GSO.4.05.10004041314570.19757-100000@auk.stats>
Message-ID: <x21z4m82of.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Perhaps that was a bit mean, and the general principle at least may be
> illuminating.  The following should work:
> 
> my.help <- function(...)
> {
>     oc <- match.call()
>     oc[[1]] <- as.name("help")
>     oc$package <- quote(.packages(all = T))
>     oc$lib.loc <- quote(.lib.loc)
>     oc$chmhelp <- TRUE
>     eval.parent(oc)
> }

Or, if all you want to do is to be able to modify the topic:

my.help <- function(topic){
	oc <- substitute(help(topic,package=.packages(all = T),
	              lib.loc=.lib.loc, chmhelp=TRUE))
	eval.parent(oc)
}

Or, probably best:

my.help <- function(topic, package=.packages(all = T),
	              lib.loc=.lib.loc, chmhelp=TRUE) {
	oc <- match.call()
	oc[[1]] <- as.name("help")
	eval.parent(oc)
}

(The latter variant is the only one where you can override the
defaults for the package, lib.loc, and chmhelp=TRUE)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laurent.Gautier at lionbioscience.com  Tue Apr  4 14:51:12 2000
From: Laurent.Gautier at lionbioscience.com (Laurent Gautier)
Date: Tue, 4 Apr 2000 14:51:12 +0200
Subject: [R] Question about the proper use of outer()
Message-ID: <38E9E52C.3D293D54@lionbioscience.com>

DeaR all,


I do not have a clue with is the following NOT working like I expect to
do...
(and I cannot find any answer at CRAN)...

# This one is for my sample
> x _ seq(3,10)
# This two for parameters
> a _ seq(2,4)
> b _ seq(2,5)
#  This one for the likelihood of a sample
>f _ function(a,b) {
+  prod(dlnorm(x,meanlog=a,sdlog=b))
+ }
>  outer(a,b,f)
             [,1]         [,2]         [,3]         [,4]
[1,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
[2,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
[3,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21

# interestingly, the following seems to work:

> f(a[1],b[1])
[1] 1.141655e-12
> f(a[1],b[2])
[1] 4.952102e-14





Any idea ?




Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  4 15:22:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 4 Apr 2000 14:22:40 +0100 (BST)
Subject: [R] Question about the proper use of outer()
Message-ID: <200004041322.OAA28445@toucan.stats.ox.ac.uk>


> From: Laurent Gautier <Laurent.Gautier at lionbioscience.com>
> Date: Tue, 4 Apr 2000 14:51:12 +0200
> 
> DeaR all,
> 
> 
> I do not have a clue with is the following NOT working like I expect to
> do...
> (and I cannot find any answer at CRAN)...
> 
> # This one is for my sample
> > x _ seq(3,10)
> # This two for parameters
> > a _ seq(2,4)
> > b _ seq(2,5)
> #  This one for the likelihood of a sample
> >f _ function(a,b) {
> +  prod(dlnorm(x,meanlog=a,sdlog=b))
> + }
> >  outer(a,b,f)
>              [,1]         [,2]         [,3]         [,4]
> [1,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> [2,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> [3,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> 
> # interestingly, the following seems to work:
> 
> > f(a[1],b[1])
> [1] 1.141655e-12
> > f(a[1],b[2])
> [1] 4.952102e-14


prod(dlnorm(x,meanlog=a,sdlog=b)) is a single number.  Indeed, 
I suspect that dlnorm(x,meanlog=a,sdlog=b) is not what you expected:
 [1] 0.06006905 0.03601262 0.01952866 0.02211013 0.01786005 0.01354265
 [7] 0.01106827 0.00982311 0.02555533 0.01979742 0.01535234 0.01206240

even though x is of length 10, as a and b are of length 12.  You could use
something like

A <- expand.grid(x=x, meanlog=a, sdlog=b)
res <- do.call("dlnorm", A)
dim(res) <- c(length(x), length(a), length(b))
apply(res, c(2,3), prod)
             [,1]         [,2]         [,3]         [,4]
[1,] 1.141655e-12 4.952102e-14 5.144870e-15 8.780997e-16
[2,] 2.823226e-13 2.661372e-14 3.628082e-15 7.021947e-16
[3,] 9.448602e-15 5.880062e-15 1.551789e-15 4.077529e-16

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  4 15:35:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2000 15:35:08 +0200
Subject: [R] Question about the proper use of outer()
In-Reply-To: Laurent Gautier's message of "Tue, 4 Apr 2000 14:51:12 +0200"
References: <38E9E52C.3D293D54@lionbioscience.com>
Message-ID: <x2vh1y6lbn.fsf@blueberry.kubism.ku.dk>

Laurent Gautier <Laurent.Gautier at lionbioscience.com> writes:

> DeaR all,
> 
> 
> I do not have a clue with is the following NOT working like I expect to
> do...
> (and I cannot find any answer at CRAN)...

We actually had this recently... Exchange between Doug Bates and Brian
Ripley IIRC. 

> # This one is for my sample
> > x _ seq(3,10)
> # This two for parameters
> > a _ seq(2,4)
> > b _ seq(2,5)
> #  This one for the likelihood of a sample
> >f _ function(a,b) {
> +  prod(dlnorm(x,meanlog=a,sdlog=b))
> + }
> >  outer(a,b,f)
>              [,1]         [,2]         [,3]         [,4]
> [1,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> [2,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> [3,] 2.301348e-21 2.301348e-21 2.301348e-21 2.301348e-21
> 
> # interestingly, the following seems to work:
> 
> > f(a[1],b[1])
> [1] 1.141655e-12
> > f(a[1],b[2])
> [1] 4.952102e-14
> 

The problem is that your f doesn't vectorize in a and b. It gets
called with 

a = c(2,3,4,2,3,4,2,3,4,2,3,4)
b = c(2,2,2,3,3,3,4,4,4,5,5,5)

(or vice versa, you get the picture) Then it gets to the
dlnorm(x,meanlog=a,sdlog=b) and recycles x to get length 12 for all
vectors and takes the product of everything. The easy, although not
the most efficient, way out is to vectorize explicitly:

g<-function(a,b) sapply(seq(along=a), function(i)f(a[i],b[i]))
outer(a,b,g)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From santini at dsi.unimi.it  Tue Apr  4 15:35:04 2000
From: santini at dsi.unimi.it (Massimo Santini)
Date: Tue, 4 Apr 2000 15:35:04 +0200 (CEST)
Subject: [R] stochastic process transition probabilities estimation
Message-ID: <Pine.LNX.4.21.0004041534060.27489-100000@zorn.usr.dsi.unimi.it>

Hi all,
	I'm new with R (and S), and relatively new to statistics (I'm a
computer scientist), so I ask sorry in advance if my question is silly. 

My problem is this: I have a (sample of a) discrete time stochastic
process {X_t} and I want to estimate 

 Pr{ X_t | X_{t-l_1}, X_{t-l_2}, ..., X_{t-l_k} } 

where l_1, l_2, ..., l_k are some fixed time lags. It will be enough for
me to compute 

 #{ X_t=a_t, X_{t-l_1}=a_{t-l_1}, X_{t-l_2}=a_{t-l_2}, ..., X_{t-l_k}=a_{t-l_k} }
 ----------------------------------------------------------------------------------
          #{ X_{t-l_1}=a_{t-l_1}, X_{t-l_2}=a_{t-l_2}, ..., X_{t-l_k}=a_{t-l_k} }

for any given sequence of a_t, a_{t-l_1}, a_{t-l_2}, ..., a_{t-l_k}.

If I should do this in C, Fortran or some other algol-like programming language
I've no doubt it will take to me no more than few minutes to write down the code. 

But I'm interested in doing it within R framework in order to further
use such a result in a statistical context, where other powerfull
tools are available. Shurly I can try to implement an external
function and use it with R, but this probably wouldn't be as simple as
to write the code in R itself.

An idea should be to use R in a "multivariate" fashion: if I can get
factors of a multivariate random variable, I can build a random vector
Y_t using X_t, and its lags: Y_t = [ X_t, X_{t-l_1}, X_{t-l_2}, ...,
X_{t-l_k} ], and taking the factors of Y_t and of its margin without
the first component I think I'm done.  Unfortunately, factor, sort,
unique all work only with univariate data.

Any other suggestion will be very appreciated...

Best regards, Massimo

--
Dr.  Massimo Santini       
Tel. Milano +390255006278, Crema +390373898227;  Fax. +390255006373       
<mailto:santini at dsi.unimi.it> <http://zorn.usr.dsi.unimi/~santini/>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Apr  4 16:05:18 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 4 Apr 2000 16:05:18 +0200 (MET DST)
Subject: [R] Obscure bug....?
Message-ID: <Pine.OSF.4.05.10003302106050.765-100000@rukbat.uio.no>

Dear all,

I've been struggling for days now with a piece of code that I have posted
here before, that has a really obscure bug. I think I may have isolated
it, but I have no idea what it is.... It might also be a bug in R I
guess, as it seems that one or several of list elements are not passed
when a function is called, but quite rarely. 
I have been hacking rather wildly on the histogram function in R, it might
have something to do with that, but I don't think it has. I hate to ask
people to find my bugs, but I hope the many-eyeballs-phenomenon will
strike again...

The really strange thing is that sometimes my run goes all the way without
any problems at all, the output looks beautiful and everything is great,
sometimes I get a few warnings, and sometimes the whole thing crashes. One
doesn't even have to do anything between the runs, no change of
parameters, all the stochastic process has been simulated with a different
program, and crashes happen at different places, with different error
messages. To start somewhere, I have started on the warnings.

The two most relevant functions are the following. All the "print"-calls
are inserted for debugging:
  
add.histogram <- function(h1, h2)
{
  print(c(test=0,lbs1=length(h1$breaks),lbs2=length(h2$breaks)))
  if(length(h1$breaks) >= length(h2$breaks))
  {
    bl <- h1$breaks
    bs <- h2$breaks
    cl <- h1$counts
    cs <- h2$counts
    mi <- h1$mids

print(c(test=1,lbs=length(bs),lcs=length(cs),lbl=length(bl),lcl=length(cl)))
  } else {
    bs <- h1$breaks
    bl <- h2$breaks
    cs <- h1$counts
    cl <- h2$counts
    mi <- h2$mids

print(c(test=2,lbs=length(bs),lcs=length(cs),lbl=length(bl),lcl=length(cl)))
  }
  ind <- sub.vector(bs, bl)
  if(! is.vector(ind)) stop("Incompatible breaks")
  c0 <- rep(0, length(cl))
  print(c(test=1.1, lc0=length(c0), lcl=length(cl), lcs=length(cs)))
  c0[ind[1:length(cs)]] <- cs
  print(c(test=1.2, lc0=length(c0), lcl=length(cl), lcs=length(cs)))
  ct <- c0 + cl
  print(c(test=1.3, lc0=length(c0), lcl=length(cl), lcs=length(cs)))
  int <- ct/(sum(ct)*diff(bl)) # This works for non-equidistant breaks?

print(c(test=7,lbs=length(bs),lc=length(cs),lct=length(ct),lbl=length(bl),lcl=length(cl)))
  return(structure(list(breaks=bl,
                        counts=ct,
                        intensities=int,
                        mids=mi),
                   class="histogram"))
}

summaryidmaps <- function(path, files, quiet=F, ...)
{
  filearr <- list.files(path, files, full.names=T)
  if(! quiet)
  {
    print(noquote("Files found:"))
    print(noquote(filearr))       
  }
  tmp <- summarymap(filearr[1], ...)
  h <- tmp$histogram
  sm <- tmp$mapmean
  sv <- tmp$mapvar
  mmin <- tmp$mapmin
  mmax <- tmp$mapmax
  seed <- tmp$mapseed
  nfiles <- length(filearr)
  for (i in 2:nfiles) # Supposedly, reduced efficiency by using a for
  {                   # loop is neglible compared to file access time. 
    print(c(test=9,hb=length(h$breaks), hc=length(h$counts)))
    tmp <- summarymap(filearr[i], ...)
    print(c(test=4,hb=length(h$breaks), hc=length(h$counts)))
    h <- add.histogram(h, tmp$histogram)
    print(c(test=5,hb=length(h$breaks), hc=length(h$counts)))
    sm <- c(sm, tmp$mapmean)
    sv <- c(sv, tmp$mapvar)
    seed <- c(seed, tmp$mapseed)
    mmin <- min(c(mmin, tmp$mapmin))
    mmax <- max(c(mmax, tmp$mapmax))
  }
  return(list(histogram=h,
              nfiles=nfiles,
              mapmin=mmin,
              mapmax=mmax,
              mapvars=sv,
              mapmeans=sm,
              mapseed=seed))
}

The first function is called by the latter, and this is where things most
often go wrong. Output from the print statements often say something like
test  lbs   lc  lct  lbl  lcl 
   7  910  909 5312 5313 5312 
test   hb   hc 
   5 5313    0 

Since bl is passed as breaks and ct as counts imidiately after the test=7
print, and test=5 is called just after the object has been returned, 
hb should here be equal to lbl (which it is, in this case), and lct should
be equal to hc, but hc is for some strange reason 0.... Of course, this
doesn't happen always, just once in a while, e.g. the previous sequence
says
test  lbs   lc  lct  lbl  lcl 
   7 1864 1863 5312 5313 5312 
test   hb   hc 
   5 5313 5312 
which is perfectly correct. 

Obviously, this problem affects all subsequent calculations done by the
program, and might be what eventually leads to the crash. Other runs
crashes in a different manner, but I think it is the same problem that
occurs, it is only that breaks aren't passed while counts are.

I have gathered together everything I think is needed to run this and put
it on <URL:http://www.astro.uio.no/~kjetikj/tmp/th/kRcrash.tar> (unpacks
in current directory), in that file is also a (somewhat edited) transcript
of a session where the code runs into trouble at different places.
However, since this code reads from a number of data files, these files
are probably needed to reproduce the bug. I have asked my sysadm if I can
get access to ftp/pub so that I can make these files available as well. 
 
I cross my fingers in the hope that this bug may be transparent
to somebody on this list. :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyuh at mail.nsysu.edu.tw  Tue Apr  4 17:20:58 2000
From: jyuh at mail.nsysu.edu.tw (Jinn-Yuh Guh)
Date: Tue, 4 Apr 2000 23:20:58 +0800
Subject: [R] Can nonlinear models be used in gee?
Message-ID: <000801bf9e49$6b79aa40$1bb30fa3@m710044>

Hi all,
1. Can nonlinear models be used in gee? For example, I have a dataset which contains 2 variables x and y, I wrote
data(ex)
atttach(ex)
a<-100
b<- -0.5
c<-4.5
d<-20
Then:
a. y~gee(y~d+(a-d)/(1+(x/c)^b))
Error in terms.formula(formula, data = data) : 
        invalid power in formula
b. y~gee(y~d+(a-d)/(1+(x/c))
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        variable lengths differ
Why?

Thanks!
Sincerely Yours,
Jinn-Yuh Guh, M.D.
Dept. of Internal Medicine
Kaohsiung Medical College
100 Shi-Chuan 1st Road
Kaohsiung, Taiwan
FAX: 886-7-312-2810
e-mail: jyuh at mail.nsysu.edu.tw

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000404/827026da/attachment.html

From thomas at biostat.washington.edu  Tue Apr  4 17:37:26 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 4 Apr 2000 08:37:26 -0700 (PDT)
Subject: [R] Can nonlinear models be used in gee?
In-Reply-To: <000801bf9e49$6b79aa40$1bb30fa3@m710044>
Message-ID: <Pine.GSO.4.21.0004040836120.9711-100000@mail.biostat.washington.edu>

On Tue, 4 Apr 2000, Jinn-Yuh Guh wrote:

> Hi all, 1. Can nonlinear models be used in gee? For example, I have a
> dataset which contains 2 variables x and y, I wrote

No, they can't. However, if you are using family=gaussian(), as you seem
to be, you could fit the model with nlme() instead.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  4 17:48:16 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Apr 2000 16:48:16 +0100 (GMT Daylight Time)
Subject: [R] Can nonlinear models be used in gee?
In-Reply-To: <000801bf9e49$6b79aa40$1bb30fa3@m710044>
Message-ID: <Pine.WNT.4.05.10004041646120.148-100000@tern.stats>

On Tue, 4 Apr 2000, Jinn-Yuh Guh wrote:

> Hi all,
> 1. Can nonlinear models be used in gee? For example, I have a dataset which contains 2 variables x and y, I wrote
> data(ex)
> atttach(ex)
> a<-100
> b<- -0.5
> c<-4.5
> d<-20
> Then:
> a. y~gee(y~d+(a-d)/(1+(x/c)^b))
> Error in terms.formula(formula, data = data) : 
>         invalid power in formula
> b. y~gee(y~d+(a-d)/(1+(x/c))
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         variable lengths differ
> Why?

Not in the gee function in addon package gee. Try the help!  It points you
to lm.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdb at young39.wi.mit.edu  Tue Apr  4 21:52:58 2000
From: jdb at young39.wi.mit.edu (John D. Barnett)
Date: Tue, 4 Apr 2000 15:52:58 -0400 (EDT)
Subject: [R] error bars
Message-ID: <Pine.LNX.4.10.10004041551290.8556-100000@young39.wi.mit.edu>

How can I produce a plot in R with error bars?

Thanks.

-John Barnett

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue Apr  4 22:54:53 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 4 Apr 2000 16:54:53 -0400
Subject: [R] error bars
Message-ID: <OFA28E4196.17D54082-ON852568B7.0072C51C@hgsi.com>


Use the arrows function for the bars.
for example
 arrows(x0,y0, x0, y+se, angle= 90, length= 0.05)



                                                                                                              
                    "John D. Barnett"                                                                         
                    <jdb at young39.wi.mit.        To:     R Help list <r-help at stat.math.ethz.ch>                
                    edu>                        cc:                                                           
                    Sent by:                    Subject:     [R] error bars                                   
                    owner-r-help at stat.ma                                                                      
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    04/04/00 03:52 PM                                                                         
                                                                                                              
                                                                                                              




How can I produce a plot in R with error bars?

Thanks.

-John Barnett

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlamias at isr.umich.edu  Tue Apr  4 23:04:21 2000
From: mlamias at isr.umich.edu (Mark Lamias)
Date: Tue, 4 Apr 2000 17:04:21 -0400 
Subject: [R] Loading Problem
Message-ID: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D1CF@isr.umich.edu>

I'm using R0.90.1 on Win98.  I'm trying to load an image I saved yesterday
but I keep getting the following error:

Error in load("C:/temp/245amData.R.RDa") : restore file corrupted -- no data
loaded

The image is 4,890KB.

The image Can anyone tell me how to solve this problem?  I'm sure I saved
the image correctly.

Thanks.

Mark

Mark J. Lamias
Department of Statistics
Department of Political Science
Survey Methodology Program/Survey Research Center
Institute for Social Research - University of Michigan
426 Thompson Street, Room 315
Ann Arbor, Michigan 48104-2321
(734) 647-5381
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Apr  4 23:09:03 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 4 Apr 2000 14:09:03 -0700 (PDT)
Subject: [R] Loading Problem
In-Reply-To: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D1CF@isr.umich.edu>
Message-ID: <Pine.GSO.4.21.0004041405490.9711-100000@mail.biostat.washington.edu>

On Tue, 4 Apr 2000, Mark Lamias wrote:

> I'm using R0.90.1 on Win98.  I'm trying to load an image I saved yesterday
> but I keep getting the following error:
> 
> Error in load("C:/temp/245amData.R.RDa") : restore file corrupted -- no data
> loaded
> 
> The image is 4,890KB.
> 
> The image Can anyone tell me how to solve this problem? 

Use R 1.0.0

There was a bug in handling garbage collection in the new save/load
code. Judging from experiences here it will have been saved correctly and
will load into R1.0.0 without problems 

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  4 23:14:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2000 23:14:57 +0200
Subject: [R] Loading Problem
In-Reply-To: Mark Lamias's message of "Tue, 4 Apr 2000 17:04:21 -0400"
References: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D1CF@isr.umich.edu>
Message-ID: <x2ya6t601a.fsf@blueberry.kubism.ku.dk>

Mark Lamias <mlamias at isr.umich.edu> writes:

> I'm using R0.90.1 on Win98.  I'm trying to load an image I saved yesterday
> but I keep getting the following error:
> 
> Error in load("C:/temp/245amData.R.RDa") : restore file corrupted -- no data
> loaded
> 
> The image is 4,890KB.
> 
> The image Can anyone tell me how to solve this problem?  I'm sure I saved
> the image correctly.

Did you save it with the same version of R? You'd get that message if
the first few bytes of the file doesn't match any of the "magic
strings" used to determine the save format.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 00:11:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Apr 2000 23:11:57 +0100 (BST)
Subject: [R] Loading Problem
In-Reply-To: <Pine.GSO.4.21.0004041405490.9711-100000@mail.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10004042306400.20806-100000@auk.stats>

On Tue, 4 Apr 2000, Thomas Lumley wrote:

> On Tue, 4 Apr 2000, Mark Lamias wrote:
> 
> > I'm using R0.90.1 on Win98.  I'm trying to load an image I saved yesterday
> > but I keep getting the following error:
> > 
> > Error in load("C:/temp/245amData.R.RDa") : restore file corrupted -- no data
> > loaded
> > 
> > The image is 4,890KB.
> > 
> > The image Can anyone tell me how to solve this problem? 
> 
> Use R 1.0.0
> 
> There was a bug in handling garbage collection in the new save/load
> code. Judging from experiences here it will have been saved correctly and
> will load into R1.0.0 without problems 

(assuming it was an XDR save, that is ascii=F.)

My experience agrees with Thomas, and in any case I strongly urge you to
use rw1000, the Windows port of R-1.0.0.  One reason for releasing a
non-beta version is to clear the decks, and we are not really able to
provide support for older beta versions.  (I removed all pre-1.0.0 versions
from my Windows machine a few hours ago).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomkenn at bigpond.com  Wed Apr  5 00:42:29 2000
From: tomkenn at bigpond.com (tom kennedy)
Date: Wed, 05 Apr 2000 08:42:29 +1000
Subject: [R] Perl v5.6.0 breaks the configure script
Message-ID: <38EA6FD5.1530DDED@bigpond.com>

Hi,

The new version of perl v5.6.0 breaks the configure script.

When it tests for the version the current test

perl -v| sed -n 's/^.*perl.*version \(.\).*/\1/p'

returns null.

perl -v now returns:


This is perl, v5.6.0 built for ppc-linux

Copyright 1987-2000, Larry Wall

Perl may be copied only under the terms of either the Artistic License
or the
GNU General Public License, which may be found in the Perl 5.0 source
kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using `man perl' or `perldoc perl'.  If you have access to
the
Internet, point your browser at http://www.perl.com/, the Perl Home
Page.


I don't profess to be a sed expert, so I am not sure how to modify
this test so as to keep backward compatibility.

Regards Tom Kennedy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Apr  5 07:35:06 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 5 Apr 2000 00:35:06 -0500
Subject: [R] problem with survexp in survival5
Message-ID: <200004050535.AAA25292@mean.stat.purdue.edu>


survexp in survival5 doesn't seem to work for me.  see below:

> library(survival5)

Attaching Package "package:survival5":


	The following object(s) are masked from package:base :

	 sort.list 

> library(chron)
> data(ratetables)
> survexp(~ratetable(year=julian(6,1,1991),
+ sex=1,age=35*365.24),times=(0:30)/6*365.24)
Error in as.character(as.date(c(min(R[, 3]), max(R[, 3])))) : 
	couldn't find function "as.date"


I got the same errors from the following platforms:

R-1.0.0, survival5_1.1-1 on AIX,
R-1.0.0, survival5_1.1-5 on linux.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 08:28:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 07:28:54 +0100 (BST)
Subject: [R] problem with survexp in survival5
In-Reply-To: <200004050535.AAA25292@mean.stat.purdue.edu>
Message-ID: <Pine.GSO.4.05.10004050718210.21288-100000@auk.stats>

On Wed, 5 Apr 2000, Chong Gu wrote:

> survexp in survival5 doesn't seem to work for me.  see below:

You need library(date), not library(chron), and the dates are on the
timebase for library(date), not library(chron).

> julian(6,1,1991)
[1] 7821
> as.numeric(mdy.date(6,1,1991))
[1] 11474

> library(survival5)
> library(date)
> data(ratetables)
> survexp(~ratetable(year=mdy.date(6,1,1991), 
+ sex=1,age=35*365.24),times=(0:30)/6*365.24)
Call:
survexp(formula = ~ratetable(year = mdy.date(6, 1, 1991), sex = 1, 
    age = 35 * 365.24), times = (0:30)/6 * 365.24)

  age ranges from 35 to 36 years
  male: 1  female: 0 
  date of entry from 1Jun91 to 1Jun91 

   Time n.risk survival
    0.0      1    1.000
   60.9      1    1.000
  121.7      1    0.999
...

That S-PLUS has altered library(chron) to have a time origin of 1/1/1960
rather than 1/1/1970 just adds to the confusion: in S-PLUS 5.1

> julian(6,1,1991)
[1] 11474

[Your example seems to have come from an outdated version of survival5,
BTW.  There is no longer a clash with sort.list.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.J.Ramalho at bristol.ac.uk  Wed Apr  5 10:52:24 2000
From: J.J.Ramalho at bristol.ac.uk (Joaquim Ramalho)
Date: Wed, 5 Apr 2000 09:52:24 +0100
Subject: [R] simulation from a bivariate normal distribution
Message-ID: <007f01bf9edc$43fb4e40$22a2de89@pc34.ecn.bris.ac.uk>

Hi,

I need to generate two normal variables with covariance matrix:

0.25,    0.20
0.20,    0.25

but I have no idea how to do that.

Can anyone help me?

Thanks,

Joaquim

----------------------------------------------------------------------------
----------
Joaquim J. S. Ramalho
University of Bristol
Department of Economics
8 Woodland Road
Bristol BS8 1TN
United Kingdom
----------------------------------------------------------------------------
----------
E-mail: J.J.Ramalho at bristol.ac.uk
Home page: http://www.decon.uevora.pt/docente/JRamalho
----------------------------------------------------------------------------
----------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 11:20:34 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 10:20:34 +0100 (BST)
Subject: [R] simulation from a bivariate normal distribution
In-Reply-To: <007f01bf9edc$43fb4e40$22a2de89@pc34.ecn.bris.ac.uk>
Message-ID: <Pine.GSO.4.05.10004051017110.268-100000@auk.stats>

On Wed, 5 Apr 2000, Joaquim Ramalho wrote:

> Hi,
> 
> I need to generate two normal variables with covariance matrix:
> 
> 0.25,    0.20
> 0.20,    0.25
> 
> but I have no idea how to do that.

mvrnorm in package MASS (part of the VR bundle).

mvrnorm(2, c(0,0), matrix(c(0.25, 0.20, 0.20, 0.25), 2,2))

seems what you want (mean 0?)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr  5 11:31:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Apr 2000 11:31:58 +0200
Subject: [R] simulation from a bivariate normal distribution
In-Reply-To: Prof Brian D Ripley's message of "Wed, 5 Apr 2000 10:20:34 +0100 (BST)"
References: <Pine.GSO.4.05.10004051017110.268-100000@auk.stats>
Message-ID: <x28zyshp0x.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Wed, 5 Apr 2000, Joaquim Ramalho wrote:
> 
> > Hi,
> > 
> > I need to generate two normal variables with covariance matrix:
> > 
> > 0.25,    0.20
> > 0.20,    0.25
> > 
> > but I have no idea how to do that.
> 
> mvrnorm in package MASS (part of the VR bundle).
> 
> mvrnorm(2, c(0,0), matrix(c(0.25, 0.20, 0.20, 0.25), 2,2))
> 
> seems what you want (mean 0?)

... and a less general solution for this particular case would be

rnorm(1,sd=sqrt(0.20)) + rnorm(2,sd=sqrt(0.05))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 11:31:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 10:31:57 +0100 (BST)
Subject: [R] Perl v5.6.0 breaks the configure script
In-Reply-To: <38EA6FD5.1530DDED@bigpond.com>
Message-ID: <Pine.GSO.4.05.10004051021180.268-100000@auk.stats>

On Wed, 5 Apr 2000, tom kennedy wrote:

> Hi,
> 
> The new version of perl v5.6.0 breaks the configure script.
> 
> When it tests for the version the current test
> 
> perl -v| sed -n 's/^.*perl.*version \(.\).*/\1/p'
> 
> returns null.
> 
> perl -v now returns:
> 
> 
> This is perl, v5.6.0 built for ppc-linux
> 
> Copyright 1987-2000, Larry Wall
> 
> Perl may be copied only under the terms of either the Artistic License
> or the
> GNU General Public License, which may be found in the Perl 5.0 source
> kit.
> 
> Complete documentation for Perl, including FAQ lists, should be found on
> this system using `man perl' or `perldoc perl'.  If you have access to
> the
> Internet, point your browser at http://www.perl.com/, the Perl Home
> Page.
> 
> 
> I don't profess to be a sed expert, so I am not sure how to modify
> this test so as to keep backward compatibility.

I think the trick is to use perl itself, as in

perl_version=`${PERL} -e '$v=$]; $v =~ s/(.)\..*/\1/;print $v'`

as perl is guaranteed to return its version as a number like 5.006
even for `v5.6.0'.

Unfortunately the "]" in there confuses m4 when building configure
from aclocal.m4, but I am sure the experts can fix that.

One could even do the whole test in Perl:

r_cv_prog_perl_v5=
`${PERL} -e 'if($] >= 5) {print "yes";} else {print "no"}'`


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 11:35:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 10:35:28 +0100 (BST)
Subject: [R] simulation from a bivariate normal distribution
In-Reply-To: <x28zyshp0x.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10004051033120.268-100000@auk.stats>

On 5 Apr 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > On Wed, 5 Apr 2000, Joaquim Ramalho wrote:
> > 
> > > Hi,
> > > 
> > > I need to generate two normal variables with covariance matrix:
> > > 
> > > 0.25,    0.20
> > > 0.20,    0.25
> > > 
> > > but I have no idea how to do that.
> > 
> > mvrnorm in package MASS (part of the VR bundle).
> > 
> > mvrnorm(2, c(0,0), matrix(c(0.25, 0.20, 0.20, 0.25), 2,2))
> > 
> > seems what you want (mean 0?)
> 
> ... and a less general solution for this particular case would be
> 
> rnorm(1,sd=sqrt(0.20)) + rnorm(2,sd=sqrt(0.05))

Just to clarify. Peter has given you a rule for one pair. I gave you a rule
for two pairs, which is how I read the request.  The first arg to
mvrnorm is the number of multivariate normals.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Wed Apr  5 12:51:30 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Wed, 05 Apr 2000 11:51:30 +0100
Subject: [R] Histogram with plot() function
Message-ID: <38EB1AB0.57153433@ipimar.pt>

Hi

I'm trying to make an histogram using the plot() function. Mainly I do
so because I need to make the histogram of the values in the vector and
not of the "counts" or "probabilities" of it.

The main problem is that when using the flags type="h", lwd=10 I get a
histogram with rounded bars ... and I didn't found out how I can change
this.

All help will be thankfull

ernesto

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Apr  5 15:15:15 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 5 Apr 2000 09:15:15 -0400 (EDT)
Subject: [R] Histogram with plot() function
In-Reply-To: <38EB1AB0.57153433@ipimar.pt>
Message-ID: <Pine.LNX.4.10.10004050906220.633-100000@bolker.zoo.ufl.edu>


  Are you doing something like

x <- runif(7)
plot(x,type="h",lwd=10)

?

  Probably what you would prefer is the barplot() command:

barplot(x,col="black",names=1:7)

  It *is* possible to proceed as you are going, if you are producing
PostScript output, by editing the PostScript file and changing the line
that reads

1 setlinecap 1 setlinejoin

to

0 setlinecap 1 setlinejoin

  ... but barplot() is probably a much better idea.

On Wed, 5 Apr 2000, [iso-8859-1]
José Ernesto Jardim wrote:
> Hi
> 
> I'm trying to make an histogram using the plot() function. Mainly I do
> so because I need to make the histogram of the values in the vector and
> not of the "counts" or "probabilities" of it.
> 
> The main problem is that when using the flags type="h", lwd=10 I get a
> histogram with rounded bars ... and I didn't found out how I can change
> this.
> 
> All help will be thankfull
> 
> ernesto
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 15:22:23 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 14:22:23 +0100 (BST)
Subject: [R] Perl v5.6.0 breaks the configure script
In-Reply-To: <20000405083728.A29748@eddelbuettel.com>
Message-ID: <Pine.GSO.4.05.10004051414570.1837-100000@auk.stats>

On Wed, 5 Apr 2000, Dirk Eddelbuettel wrote:

> 
> On Wed, Apr 05, 2000 at 10:31:57AM +0100, Prof Brian D Ripley wrote:
> > On Wed, 5 Apr 2000, tom kennedy wrote:
> [..] 
> > I think the trick is to use perl itself, as in
> > 
> > perl_version=`${PERL} -e '$v=$]; $v =~ s/(.)\..*/\1/;print $v'`
> > 
> > as perl is guaranteed to return its version as a number like 5.006
> > even for `v5.6.0'.
> > 
> > Unfortunately the "]" in there confuses m4 when building configure
> > from aclocal.m4, but I am sure the experts can fix that.
> 
> One would be to use the English module and PERL_VERSION instead:
> 
> perl_version=
> = `${PERL}-MEnglish  -e '$v=$PERL_VERSION; $v =~ s/(.)\..*/\1/;print $v'`
> 
> > One could even do the whole test in Perl:
> > 
> > r_cv_prog_perl_v5=
> > `${PERL} -e 'if($] >= 5) {print "yes";} else {print "no"}'`
> 
> Likewise:
> 
> r_cv_prog_perl_v5=
> `${PERL} -MEnglish -e 'if($] >= 5) {print "yes";} else {print "no"}'`
Um, not that but I think we know what you meant!

Yes, I know and I considered that, but I do not think the English module is
guaranteed to be present. This is a test of the Perl version, and as far as
I could see -MEnglish does not work in Perl 4.  (The -M flag is not in the
Quick Reference Guide for 4.019.)  So I think your version assumes the
thing it is testing for, Perl 5.x.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Apr  5 14:37:28 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 5 Apr 2000 08:37:28 -0400
Subject: [R] Perl v5.6.0 breaks the configure script
In-Reply-To: <Pine.GSO.4.05.10004051021180.268-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Apr 05, 2000 at 10:31:57AM +0100
References: <38EA6FD5.1530DDED@bigpond.com> <Pine.GSO.4.05.10004051021180.268-100000@auk.stats>
Message-ID: <20000405083728.A29748@eddelbuettel.com>


On Wed, Apr 05, 2000 at 10:31:57AM +0100, Prof Brian D Ripley wrote:
> On Wed, 5 Apr 2000, tom kennedy wrote:
[..] 
> I think the trick is to use perl itself, as in
> 
> perl_version=`${PERL} -e '$v=$]; $v =~ s/(.)\..*/\1/;print $v'`
> 
> as perl is guaranteed to return its version as a number like 5.006
> even for `v5.6.0'.
> 
> Unfortunately the "]" in there confuses m4 when building configure
> from aclocal.m4, but I am sure the experts can fix that.

One would be to use the English module and PERL_VERSION instead:

perl_version=
= `${PERL}-MEnglish  -e '$v=$PERL_VERSION; $v =~ s/(.)\..*/\1/;print $v'`

> One could even do the whole test in Perl:
> 
> r_cv_prog_perl_v5=
> `${PERL} -e 'if($] >= 5) {print "yes";} else {print "no"}'`

Likewise:

r_cv_prog_perl_v5=
`${PERL} -MEnglish -e 'if($] >= 5) {print "yes";} else {print "no"}'`

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Apr  5 16:52:07 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 5 Apr 2000 09:52:07 -0500
Subject: [R] problem with survexp in survival5
In-Reply-To: <Pine.GSO.4.05.10004050718210.21288-100000@auk.stats> (message
	from Prof Brian D Ripley on Wed, 5 Apr 2000 07:28:54 +0100 (BST))
Message-ID: <200004051452.JAA56138@mean.stat.purdue.edu>


Thanks to Robert Gentleman and Professor Ripley for the pointer to
library(date).  It works now.

One more question: are R and Splus using the same ratetable?  If not,
which seems to be the case, which one is more "accurate"?

When I tried the following in Splus 3.4 for AIX 3.2.5 and Splus 5.1
for AIX 4.3.1, I got different results.

survexp(~ratetable(year=julian(6,1,1991),
  sex=1,age=35*365.24),times=(0:30)*365.24)

On R, upon replacing julian by mdy.date, I got yet a third answer.

julian(6,1,1991) in both Splus versions, as well as
as.numeric(mdy.date(6,1,1991)) in R, gave the same 11474.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Wed Apr  5 15:51:27 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 5 Apr 2000 09:51:27 -0400 (EDT)
Subject: [R] loading contrib packages automatically
In-Reply-To: <Pine.GSO.4.21L1.0003302106060.17161-100000@sunny>
Message-ID: <Pine.LNX.4.21.0004050949110.702-100000@Chrestomanci.home.earth>

Dear R people,

If I want to use a package, say nlme, I need to say library(nlme) to
load it. The same with any others. I often forget to do this. Is there
some way of telling R which packages should be loaded at the start?

                                Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  5 17:13:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Apr 2000 16:13:42 +0100 (BST)
Subject: [R] loading contrib packages automatically
In-Reply-To: <Pine.LNX.4.21.0004050949110.702-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10004051608530.15247-100000@auk.stats>

On Wed, 5 Apr 2000, Faheem Mitha wrote:

> Dear R people,
> 
> If I want to use a package, say nlme, I need to say library(nlme) to
> load it. The same with any others. I often forget to do this. Is there
> some way of telling R which packages should be loaded at the start?

Use a .First function, or, easier, put the library commands in your
.Rprofile.

HOWEVER, using these will just slow down both the startup and the running
of R, especially large packages such as nlme. One way is out is via
judicious use of autoload() in your .Rprofile.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ralphl at lrz.uni-muenchen.de  Wed Apr  5 16:22:46 2000
From: ralphl at lrz.uni-muenchen.de (Ralph Leonhardt)
Date: Wed, 05 Apr 2000 16:22:46 +0200
Subject: [R] Johansen Procedure for ts
Message-ID: <38EB4C36.C227021C@lrz.uni-muenchen.de>

Hi,
I wonder if someone has already programmed the Johansen-Procedure for
Testing and Estimation of cointegrated time series.

Thanks
	Ralph
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Apr  5 17:58:43 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 5 Apr 2000 08:58:43 -0700 (PDT)
Subject: [R] loading contrib packages automatically
In-Reply-To: <Pine.GSO.4.05.10004051608530.15247-100000@auk.stats>
Message-ID: <Pine.GSO.4.21.0004050850220.5679-100000@mail.biostat.washington.edu>

On Wed, 5 Apr 2000, Prof Brian D Ripley wrote:

> On Wed, 5 Apr 2000, Faheem Mitha wrote:
> 
> > Dear R people,
> > 
> > If I want to use a package, say nlme, I need to say library(nlme) to
> > load it. The same with any others. I often forget to do this. Is there
> > some way of telling R which packages should be loaded at the start?
> 
> Use a .First function, or, easier, put the library commands in your
> .Rprofile.
> 
> HOWEVER, using these will just slow down both the startup and the running
> of R, especially large packages such as nlme. One way is out is via
> judicious use of autoload() in your .Rprofile.

For example

	autoload("lme","nlme")
	autoload("nlme","nlme")
	autoload("print.lme","nlme")
and perhaps things like
	autoload("corSymm","nlme")

Autoloading on the print methods is useful to stop very large
stored objects printing as lists.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Apr  5 18:35:29 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 5 Apr 2000 09:35:29 -0700 (PDT)
Subject: [R] problem with survexp in survival5
In-Reply-To: <200004051452.JAA56138@mean.stat.purdue.edu>
Message-ID: <Pine.GSO.4.21.0004050859160.5679-100000@mail.biostat.washington.edu>

On Wed, 5 Apr 2000, Chong Gu wrote:

> 
> Thanks to Robert Gentleman and Professor Ripley for the pointer to
> library(date).  It works now.
> 
> One more question: are R and Splus using the same ratetable?  If not,
> which seems to be the case, which one is more "accurate"?
> 
> When I tried the following in Splus 3.4 for AIX 3.2.5 and Splus 5.1
> for AIX 4.3.1, I got different results.

The Splus3.4 version is definitely different, since the ratetables
were updated with survival5.  I don't know what Splus 5.1
uses. We use the survival5 ratetables, the construction of which is
documented at  
 
	http://www.mayo.edu/hsr/techrpt.html

in technical report #63

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lvssso at bioinfo.weizmann.ac.il  Wed Apr  5 19:30:32 2000
From: lvssso at bioinfo.weizmann.ac.il (Shai Shen-Orr)
Date: Wed, 05 Apr 2000 20:30:32 +0300
Subject: [R] My first R program
Message-ID: <38EB7838.13DF990D@bioinfo.weizmann.ac.il>

Hi, 

Sorry to bother you  guys with this syntax problem, this is my first R
program, and I seem to not have grasped something right.  I keep getting
an error message from 'parse' on the line with the *** :

pValCalculator(b, n=20, m=20)
{
	ind <- 1:min(c(n,m))
	prob <- (1-pnorm(b,sd=std*sqrt(ind)))
	prob1 <- sum((n-ind+1)*(m-ind+1)*prob)
	prob1
}

inputData <-
scan("/users/lvssso/projects/LAMA/output/pValLamaScore.tmp", list(block1
= "",block2 = "",width1 = 0,width2 = 0,alignment = 0,score = 0));


pVal <- vector(mode = "numeric", length(lamaScore));

for(i in 1:length(inputData$lamaScore)
*****	pVal[i] <- pValCalculator(inputData$score, inputData$width1,
inputData$width2);

inputData$pValue <- list(pVal);

write.table(inputData, file = "pValLamaScore.out", row.names = FALSE,
col.names = FALSE, sep = "\t");



Thanks,


	Shai

-- 
Shai Shen-Orr          
Crown Human Genome Center and Bioinformatics Unit,
Weizmann Institute of Science
Home page and more contact info: http://bioinfo.weizmann.ac.il/~lvssso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lvssso at bioinfo.weizmann.ac.il  Wed Apr  5 19:39:25 2000
From: lvssso at bioinfo.weizmann.ac.il (Shai Shen-Orr)
Date: Wed, 05 Apr 2000 20:39:25 +0300
Subject: [R] My first R-program
Message-ID: <38EB7A4D.A9664FB6@bioinfo.weizmann.ac.il>

Sorry, I pasted the wrong file in earlier... this is the correct one: 
pValCalculator(b, n=20, m=20)
{
	ind <- 1:min(c(n,m))
	prob <- (1-pnorm(b,sd=std*sqrt(ind)))
	prob1 <- sum((n-ind+1)*(m-ind+1)*prob)
	prob1
}

inputData <-
scan("/users/lvssso/projects/LAMA/output/pValLamaScore.tmp", list(block1
= "",block2 = "",width1 = 0,width2 = 0,alignment = 0,score = 0));


pVal <- vector(mode = "numeric", length(inputData$score));

for(i in 1:length(inputData$score))
	pVal[i] <- pValCalculator(inputData$score, inputData$width1,
inputData$width2);

inputData$pValue <- list(pVal);

write.table(inputData, file = "pValLamaScore.out", row.names = FALSE,
col.names = FALSE, sep = "\t");


The error seems to be in, in its inability to recognize my self-made
function (pValCalculator).


	Shai

-- 
Shai Shen-Orr          
Crown Human Genome Center and Bioinformatics Unit,
Weizmann Institute of Science
Home page and more contact info: http://bioinfo.weizmann.ac.il/~lvssso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed Apr  5 21:33:55 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 5 Apr 2000 21:33:55 +0200 (MET DST)
Subject: [R] My first R-program
In-Reply-To: <38EB7A4D.A9664FB6@bioinfo.weizmann.ac.il>
Message-ID: <Pine.OSF.4.05.10004052133110.13079-100000@rukbat.uio.no>

On Wed, 5 Apr 2000, Shai Shen-Orr wrote:

>Sorry, I pasted the wrong file in earlier... this is the correct one: 
>pValCalculator(b, n=20, m=20)
>
>The error seems to be in, in its inability to recognize my self-made
>function (pValCalculator).

Yep, the syntax is 
pValCalculator <- function(b, n=20, m=20)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Apr  5 21:56:21 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 5 Apr 2000 15:56:21 -0400 (EDT)
Subject: [R] My first R-program
In-Reply-To: <38EB7A4D.A9664FB6@bioinfo.weizmann.ac.il>
Message-ID: <Pine.LNX.4.10.10004051555460.1172-100000@bolker.zoo.ufl.edu>


  try
  pValCalculator <- function(b,n=20,m=20) {
    etc...


On Wed, 5 Apr 2000, Shai Shen-Orr wrote:

> Sorry, I pasted the wrong file in earlier... this is the correct one: 
> pValCalculator(b, n=20, m=20)
> {
> 	ind <- 1:min(c(n,m))
> 	prob <- (1-pnorm(b,sd=std*sqrt(ind)))
> 	prob1 <- sum((n-ind+1)*(m-ind+1)*prob)
> 	prob1
> }
> 
> inputData <-
> scan("/users/lvssso/projects/LAMA/output/pValLamaScore.tmp", list(block1
> = "",block2 = "",width1 = 0,width2 = 0,alignment = 0,score = 0));
> 
> 
> pVal <- vector(mode = "numeric", length(inputData$score));
> 
> for(i in 1:length(inputData$score))
> 	pVal[i] <- pValCalculator(inputData$score, inputData$width1,
> inputData$width2);
> 
> inputData$pValue <- list(pVal);
> 
> write.table(inputData, file = "pValLamaScore.out", row.names = FALSE,
> col.names = FALSE, sep = "\t");
> 
> 
> The error seems to be in, in its inability to recognize my self-made
> function (pValCalculator).
> 
> 
> 	Shai
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Wed Apr  5 22:40:55 2000
From: salwin at mitretek.org (Art Salwin)
Date: Wed, 05 Apr 2000 16:40:55 -0400
Subject: [R] Levels of a vector for a contour plot
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc>
Message-ID: <38EBA4D7.C412A1EA@mitretek.org>

Is there something more elegant than

xlevels<-as.numeric(levels(factor(x)))

to get the levels found in vector x?  xlevels will be used
to generate
a contour plot as in
contour(xlevels,ylevels,zvals)

where zvals<-tapply(z,list(x,y),mean)

-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lvssso at bioinfo.weizmann.ac.il  Wed Apr  5 23:03:22 2000
From: lvssso at bioinfo.weizmann.ac.il (Shai Shen-Orr)
Date: Thu, 06 Apr 2000 00:03:22 +0300
Subject: [R] Working with R batch
Message-ID: <38EBAA1A.8DEDF195@bioinfo.weizmann.ac.il>

Hi all,

I'm trying to invoke R from a perl program, using R BATCH.  My original
R program wrote an output to a file and plotted a graph.  I'm having
problems with the following three things:

1) To get the output file name form the perl program I wrote the
following, in my R program:
 commandArguments <- commandArgs();
outputFile <- commandArguments[length(commandArguments)];

This seems to not have worked.  Any ideas on why, or how else should I 
be doing it ?

2) For some reason when I'm using R BATCH, my plot doesn't come up, I
remember reading someplace that sometimes there might be problems with
graphics & batch, but does anybody know how to get passed them ?

3) How can I print a plot ?  Is it only through the postscript() command
?


	Thanks,


	Shai

-- 
Shai Shen-Orr          
Crown Human Genome Center and Bioinformatics Unit,
Weizmann Institute of Science
Home page and more contact info: http://bioinfo.weizmann.ac.il/~lvssso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  6 00:12:24 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 2000 00:12:24 +0200
Subject: [R] Levels of a vector for a contour plot
In-Reply-To: Art Salwin's message of "Wed, 05 Apr 2000 16:40:55 -0400"
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc> <38EBA4D7.C412A1EA@mitretek.org>
Message-ID: <x21z4kb3jr.fsf@blueberry.kubism.ku.dk>

Art Salwin <salwin at mitretek.org> writes:

> Is there something more elegant than
> 
> xlevels<-as.numeric(levels(factor(x)))
> 
> to get the levels found in vector x?  xlevels will be used
> to generate
> a contour plot as in
> contour(xlevels,ylevels,zvals)
> 
> where zvals<-tapply(z,list(x,y),mean)

How about sort(unique(x)) ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From LRA at northcoast.com  Thu Apr  6 00:47:38 2000
From: LRA at northcoast.com (M. Lang & S. Railsback)
Date: Wed, 05 Apr 2000 15:47:38 -0700
Subject: [R] Plotting with dates on X axis
References: <Pine.LNX.4.10.10004051555460.1172-100000@bolker.zoo.ufl.edu>
Message-ID: <38EBC28A.2EC5@northcoast.com>

Is there a trick to drawing a graph with date-formatted values as one of
the axes?  Here is my code:

  library(date)
  MortDate <-as.date(MortalityDate)
  
  ...

  plot(MortDate,AqPred,type="l", xlim=range(MortDate), ylim=c(0,MaxY))

The plot actually has the formatted date values as the X axis labels,
but they are overwritten by unformatted (integer) Julian dates. 

Then the vector of Julian dates appears underneath the plot as:

 c(14611, 14611, ...

and so on for two lines.

Using the plot parameter xaxt = "t" does not help. 
I'm using R1000 for Windows.

Thanks

Steve Railsback
-- 
LRA at NORTHCOAST.COM
Lang, Railsback & Assoc.
250 California Ave., Arcata CA 95521
707-822-0453; Fax 822-1868
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jl7001 at axe.humboldt.edu  Thu Apr  6 04:53:33 2000
From: jl7001 at axe.humboldt.edu (Jack Lewis)
Date: Wed, 05 Apr 2000 19:53:33 -0700
Subject: [R] Plotting with dates on X axis
References: <Pine.LNX.4.10.10004051555460.1172-100000@bolker.zoo.ufl.edu> <38EBC28A.2EC5@northcoast.com>
Message-ID: <38EBFC2D.7D2A4E16@axe.humboldt.edu>

I wrote a function I call axis.time() that I use to plot time axes when the x
variable is a "dates" or "chron" object created by the "chron" library from
http://lib.stat.cmu.edu/R/CRAN/src/contrib/PACKAGES.html#info

A typical sequence of commands for plotting would be:

plot(chron.object, y, axes=F, xlab="", ...)
axis.time(chron.object)
axis(2)
box()

The labelling scheme varies depending on how many days are being plotted. The
function gives nice results for time periods ranging from a couple of days to
several months. It is not elegant; please improve upon it if you like. (Let me know
if you do).  Also, I suppose a method could be added for the plot() function that
would automatically call axis.time() if a chron or dates object were passed as the
x variable.

In addition to axis.time(), I have included a replacement function for
format.times().  It is needed to display times correctly (the chron version
truncates the floating point representation, thus displaying, for example, 05:29:59
instead of 05:30:00).

"axis.time" <-
function(chron.obj, side = 1, m = 1, labels = T, hours = labels)
{
# Creates a date/time axis for up to 2 years
#
# Arguments:
# chron.obj = dates or chron object to be plotted on x axis
# side = 1 (bottom axis) or 3 (top axis)
# m = relative tic length
# labels = logical, indicates whether to label the axis
# hours = logical, indicates whether to label the hours
#
 edate <- trunc(max(chron.obj))
 sdate <- trunc(min(chron.obj))
 orig <- origin(sdate)
 xlim <- par()$usr[1:2]
 ndays <- edate - sdate #
# Daily tic marks
 ticlocs <- seq((sdate - 1), (edate + 1))
 if(ndays > 10 && ndays <= 21)
  ticlen <- -0.04 * m
 else ticlen <- -0.02 * m
 axis(side, at = ticlocs, labels = F, tck = ticlen)
 if (ndays <=10) axis(side,at=ticlocs,labels=F, tck= 0.015*m) #
# Daily tic mark labels
 if(labels & ndays < 60) {
  ticlocs <- seq((sdate - 1), edate)
  lablocs <- ticlocs + 0.5
  line <- 1
  if(ndays <= 10) {
   mm <- format(ticlocs, " m ")
   dd <- format(ticlocs, " d ")
   yy <- substring(format(ticlocs, "yy"), 3, 4)
   ticlabels <- paste(mm, dd, yy, sep = "/")
   textsize <- 0.75
  }
  else if(ndays <= 21) {
   mm <- format(ticlocs, " m ")
   dd <- format(ticlocs, " d ")
   ticlabels <- paste(mm, dd, sep = "/")
   textsize <- 0.6
  }
  else if(ndays <= 31) {
   ticlabels <- as.character(days(ticlocs))
   textsize <- 0.6
   line <- 0.5
  }
  else {
   ticlabels <- as.character(days(ticlocs))
   textsize <- 0.45
   line <- 0.2
  }
  in.range <- (lablocs >= xlim[1]) & (lablocs <= xlim[2])
  if(sum(in.range) > 0)
   mtext(ticlabels[in.range], side = 1, at = ticlocs[in.range] + 0.5, line =
    line, cex = textsize)
 }
 if(ndays > 21) {
# Monthly tics and labels
  syear <- as.character(years(sdate))
  eyear <- as.character(years(edate))
  span <- as.numeric(eyear) - as.numeric(syear)
  if(span > 1)
   stop("end year - start year > 1")
  if(span == 1) {
   seq1 <- seq(months(sdate), 12)
   seq2 <- seq(1, months(edate))
   mseq <- c(seq1, seq2)
   yseq <- c(rep(syear, length(seq1)), rep(eyear, length(seq2)))
  }
  else {
   mseq <- seq(months(sdate), months(edate))
   yseq <- c(rep(syear, length(mseq)))
  }
  yseq _ substring(yseq,3,4)
  ticlocs <- dates(paste(zfill(mseq, 2), 1, yseq, sep = "/"), origin = orig)
  lablocs <- dates(paste(zfill(mseq, 2), 16, yseq, sep = "/"), origin = orig)
  text <- months(lablocs)
  axis(side, at = ticlocs, label = F, tck = -0.04 * m)
  if(ndays > 31)
   line <- 1
  else line <- 1.5
  in.range <- (lablocs >= xlim[1]) & (lablocs <= xlim[2])
  if(labels && sum(in.range) > 0)
   mtext(as.character(text[in.range]), side = 1, at = lablocs[in.range], line =
    line)
 }
 if(ndays <= 31) {
# 6-hour tics and labels
  ticlocs <- seq(as.numeric(sdate - 1), as.numeric(edate + 1), by = 1/4)
  if(ndays <= 4 && hours)
   ticlabels <- round(24 * ticlocs %% 1)
  else ticlabels <- F
  if(ndays <= 21)
   ticlen <- -0.02 * m
  else ticlen <- -0.01 * m
  axis(side, at = ticlocs, labels = ticlabels, tck = ticlen, mgp = c(3, 0.1, 0),
cex.axis=0.5)
 }
 if(ndays <= 10) {
# Hourly tics
  ticlocs <- seq(as.numeric(sdate - 1), as.numeric(edate + 1), by = 1/24)
  axis(side, at = ticlocs, labels = F, tck = -0.01 * m)
 }
}

"format.times" <-
function(x, format. = "h:m:s", simplify = F, ...)
{
# This function was copied from chron library and modified to
# round seconds instead of truncating, and incrementing minutes
# and hours if necessary when ss==60
 if(!length(x)) return("")
 if(all(is.na(x)))
  return(rep("NA", length = length(x)))
 if(!is.numeric(x))
  stop(paste(deparse(substitute(x)), "must be numeric"))
 att <- attributes(x)
 if(inherits(x, "times")) {
  if(missing(format.))
   format. <- switch(mode(att$format),
    character = ,
    list = rev(att$format)[[1]],
    name = ,
    "function" = att$format,
    NULL = format.,
    stop("invalid output times format"))
  class(x) <- NULL
 }
 if(!is.character(format.)) {
# format may be a function or name
  FUN <- switch(mode(format.),
   "function" = format.,
   name = eval(format.),
   stop(paste("unrecognized time format", deparse(substitute(format.)))))
  return(FUN(unclass(x), ...))
 }
 else format. <- rev(format.)[1]
 nas <- is.na(x)
 days <- abs(trunc(x))
 att$class <- att$format <- att$origin <- NULL
 if(any(days[!nas] > 0)) {
  attributes(x) <- att
  return(format(x))
 }
 sec <- 24 * 3600 * abs(x)
 hh <- sec %/% 3600
 mm <- (sec - hh * 3600) %/% 60
 ss <- round(sec - hh * 3600 - 60 * mm)
 mm[ss == 60] <- mm[ss == 60] + 1
 ss[ss == 60] <- 0
 hh[mm == 60] <- hh[mm == 60] + 1
 mm[mm == 60] <- 0
 out <- list(h = substring(paste("0", hh, sep = ""), nchar(paste(hh))), m =
substring(paste(
  "0", mm, sep = ""), nchar(paste(mm))), s = substring(paste("0", ss, sep = ""),
nchar(
  paste(ss))))
 style <- parse.format(format.)
 o <- style$periods
 if(!simplify)
  out <- paste(out[[o[1]]], out[[o[2]]], out[[o[3]]], sep = style$sep)
 else {
  if(simplify == 1) {
# no secs
   o <- o[o != "s"]
   out <- paste(out[[o[1]]], out[[o[2]]], sep = style$sep)
  }
  else out <- out$h
 }
 if(any(x[!nas] < 0))
  out <- paste(ifelse(x < 0, "-", ""), out, sep = "")
 out[nas] <- NA
 out[x == Inf] <- "Inf"
 out[x ==  - Inf] <- "-Inf"
 attributes(out) <- att
 out
}

Good luck, Jack Lewis

--
Jack Lewis                           Redwood Sciences Laboratory
707-825-2929 voice                   Pacific Southwest Research Station
707-825-2901 fax                     USDA Forest Service
jl7001 at axe.humboldt.edu              http://www.rsl.psw.fs.fed.us
jlewis01 at fs.fed.us (alternate)

           --------------------------------------------
Thought must be divided against itself before it can come to any
knowledge of itself.                             (Aldous Huxley)
--------------------------------------------------------------------

"M. Lang & S. Railsback" wrote:

> Is there a trick to drawing a graph with date-formatted values as one of
> the axes?  Here is my code:
>
>   library(date)
>   MortDate <-as.date(MortalityDate)
>
>   ...
>
>   plot(MortDate,AqPred,type="l", xlim=range(MortDate), ylim=c(0,MaxY))
>
> The plot actually has the formatted date values as the X axis labels,
> but they are overwritten by unformatted (integer) Julian dates.
>
> Then the vector of Julian dates appears underneath the plot as:
>
>  c(14611, 14611, ...
>
> and so on for two lines.
>
> Using the plot parameter xaxt = "t" does not help.
> I'm using R1000 for Windows.
>
> Thanks
>
> Steve Railsback
> --
> LRA at NORTHCOAST.COM
> Lang, Railsback & Assoc.
> 250 California Ave., Arcata CA 95521
> 707-822-0453; Fax 822-1868
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 08:32:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 07:32:05 +0100 (BST)
Subject: [R] Working with R batch
In-Reply-To: <38EBAA1A.8DEDF195@bioinfo.weizmann.ac.il>
Message-ID: <Pine.GSO.4.05.10004060712460.21373-100000@auk.stats>

On Thu, 6 Apr 2000, Shai Shen-Orr wrote:

> Hi all,
> 
> I'm trying to invoke R from a perl program, using R BATCH.  My original
> R program wrote an output to a file and plotted a graph.  I'm having
> problems with the following three things:
> 
> 1) To get the output file name form the perl program I wrote the
> following, in my R program:
>  commandArguments <- commandArgs();
> outputFile <- commandArguments[length(commandArguments)];
> 
> This seems to not have worked.  Any ideas on why, or how else should I 
> be doing it ?

It gives the command arguments to _R_. BATCH is a script that redirects
input and output.  By definition a C program can't find out the name of the
files (if they are files) used for its stdin and stdout in a portable way.
In R BATCH input is coming from a pipe, anyway.

If you are invoking R from Perl then I don't think you should be using
R BATCH, but R directly (or even calling the binary).

Just make the output name part of the R script, or use Perl to redirect the
R text output to whatever you want to do with it, when the name will be
immaterial.

> 2) For some reason when I'm using R BATCH, my plot doesn't come up, I
> remember reading someplace that sometimes there might be problems with
> graphics & batch, but does anybody know how to get passed them ?

Um. And what device are you trying to use?  The default device is not a
screen device but postscript, and postscript plots do not `come up'.  You
should open the device you want explicitly: for non-interactive use of R
the default on Unix is to open a postscript device with file="Rplots.ps".
If you want a screen device use x11(), and ensure that you have some means
of looking at it before R terminates at the end of the input script.

> 3) How can I print a plot ?  Is it only through the postscript() command
> ?

If you want a hardcopy of the plot you can use any means you like, for
example to print an x11() device's window via your window manager, or use
dev2bitmap to grab the plot as a bitmap.  Basically for R _on Unix_ the
common format for printable plot files is PostScript, but there is also a
pictex device.  (A direct PDF device is at least a dream, and Windows has
other devices based on its GDI and producing bitmap formats such as PNG and
JPEG. No one has asked for a PCL (LaserJet) interface, which older programs
such as S-PLUS support.  People have talked about fig and similar formats
too.)

I suspect you will find a few files with the name Rplots.ps around.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Thu Apr  6 12:23:35 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Thu, 6 Apr 2000 12:23:35 +0200 
Subject: [R] Generating Rd format  under Windows
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E014F51@nts7.oec.Uni-Osnabrueck.DE>

Excuse me if this question  has been answered before.

I just came across "Writing R documentation" in the "Writing R
extensions" 
manual.  Under section 2.9:  "Processing Rd format" I only
find hints at generating the Rd format on a Unix platform.  Have I
overlooked how to generate them under Windows?

Any help is gratefully appreciated.  

   --- D.Trenkler ---

************************************************************************
*********
   Dietrich Trenkler
(trenkler at oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2745
   GERMANY
************************************************************************
*********



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 13:03:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 12:03:32 +0100 (BST)
Subject: [R] Generating Rd format  under Windows
In-Reply-To: <FB75CFC167F3D311B11D00A0CC20FB0E014F51@nts7.oec.Uni-Osnabrueck.DE>
Message-ID: <Pine.GSO.4.05.10004061145470.21901-100000@auk.stats>

On Thu, 6 Apr 2000, Trenkler, Dietrich wrote:

> Excuse me if this question  has been answered before.
> 
> I just came across "Writing R documentation" in the "Writing R
> extensions" 
> manual.  Under section 2.9:  "Processing Rd format" I only
> find hints at generating the Rd format on a Unix platform.  Have I
> overlooked how to generate them under Windows?

That section is about *processing* not generating the .Rd files, so I am
not wure which you want to do.  I will try to answer both. Generating them
is the same: use prompt(), complete the file in your favourite editor.

The processing scripts have not been ported to Windows, although as most of
them are Perl scripts it would not be hard to do so.  (Normally all you
would need to do is to remove the #! @PERL@ line, set
R_HOME in the environment and use, e.g.

perl Rdconv.in -t txt --os=Windows foo.Rd

No guarantees, but that worked once at least. E.g. Rd2dvi is a shell
script and looks very much less easy to port.)

What is available are the Makefiles to compile a library, which converts
all the .Rd files to the forms used for on-line help (and off-line
latex-based help).

None of the core developers uses Windows primarily, and Windows does not
have a single standard shell (nor even a single port of Perl until very
recently) and hence no standard way to run a Perl script. So if you want
ports to Windows, please port them and let us know (on R-devel) what you
used. (You will need to get the sources of the scripts from the source
distribution in src/scripts.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Apr  6 14:29:03 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 6 Apr 2000 08:29:03 -0400
Subject: [R] RODBC
Message-ID: <006301bf9fc3$b2339fb0$0201a8c0@Workgroup>

Hi,

I've installed the RODBC library, R1.000, NT 4.0. When I try to load it here
is what I get:

library(RODBC)
Warning message:
Package `RODBC' contains no R code in: library(RODBC)

channel <- odbcConnect("PubsDSN", "sa", "password") # userId and password
Error: couldn't find function "odbcConnect"

Does anyone can shed some ligth on this problem?

Thanks.

Yves Gauvreau



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From serres at valigene.com  Thu Apr  6 14:34:24 2000
From: serres at valigene.com (Christine Serres)
Date: Thu, 06 Apr 2000 12:34:24 +0000
Subject: [R] boxplot question
Message-ID: <38EC8450.890649DF@valigene.com>

Hi,

Can anyone tel me how to plot two boxplot at the same abscisse value ?
Because I want to compare the discrimination of two different biological
methods of the same data.

Thanks

Christine

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Apr  6 16:20:10 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 6 Apr 2000 10:20:10 -0400
Subject: [R] RODBC
References: <006301bf9fc3$b2339fb0$0201a8c0@Workgroup>
Message-ID: <006e01bf9fd3$37a8d2f0$0201a8c0@Workgroup>

Sorry for the trouble, I've managed to make it run but I think the package
is not installing itself properly.

I downloaded version 0.6.2a of RODBC which is a tgz file and the way it
expands under RHOME\library\ seem improper, the file extentions seem to
cause problems as well and the startup file (RODBC) should load the sql.R
file when it initialize at least I think. There is only a man page type of
help also. I found all this by trial and error (I'm not a seasoned R user
very "amateur" in fact)

If anyone as suggestion on how to correct these little problems in such a
way that RODBC works as other packages I've used on R for windows I'd be
glad to give a hand and learn stuff at the same time.

Thanks.

Yves Gauvreau

----- Original Message -----
From: "Yves Gauvreau" <cyg at sympatico.ca>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, April 06, 2000 8:29 AM
Subject: [R] RODBC


> Hi,
>
> I've installed the RODBC library, R1.000, NT 4.0. When I try to load it
here
> is what I get:
>
> library(RODBC)
> Warning message:
> Package `RODBC' contains no R code in: library(RODBC)
>
> channel <- odbcConnect("PubsDSN", "sa", "password") # userId and password
> Error: couldn't find function "odbcConnect"
>
> Does anyone can shed some ligth on this problem?
>
> Thanks.
>
> Yves Gauvreau
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Apr  6 16:26:08 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Thu, 06 Apr 2000 09:26:08 -0500 (CDT)
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: <Pine.GSO.4.05.10004060712460.21373-100000@auk.stats>
Message-ID: <XFMail.20000406092608.s-luppescu@uchicago.edu>

On 06-Apr-2000 Prof Brian D Ripley wrote:
> If you want a hardcopy of the plot you can use any means you like, for
> example to print an x11() device's window via your window manager, or use
> dev2bitmap to grab the plot as a bitmap.  Basically for R _on Unix_ the
> common format for printable plot files is PostScript, but there is also a
> pictex device.  (A direct PDF device is at least a dream, and Windows has
> other devices based on its GDI and producing bitmap formats such as PNG and
> JPEG. No one has asked for a PCL (LaserJet) interface, which older programs
> such as S-PLUS support.  People have talked about fig and similar formats
> too.)

I would really like to know how to do this. One thing (maybe the only thing) I
miss about working with S-Plus is the ability label points interactively using
identify() in X11() and then produce a postscript plot of the result for
printing just by clicking on the ``PRINT'' button in the window. Prof. Ripley
mentions printing the contents of the window using your window manager, but my
window manager doesn't permit this. Dev2bitmap is not an option, as I need
postscript. I like pictex, but I don't see how to output the contents of an X11
window as pictex. Isn't there a way to do this?

(I'm running R 1.0.0 on RedHat Linux 6.2 (intel).)
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
Rule #1:
        The Boss is always right.

Rule #2:
        If the Boss is wrong, see Rule #1.
>> Sent on 06-Apr-2000 at 09:07:21 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rao.3 at osu.edu  Thu Apr  6 16:55:23 2000
From: rao.3 at osu.edu (Vidhyanath Rao)
Date: Thu, 6 Apr 2000 10:55:23 -0400
Subject: [R] MetaPost device?
Message-ID: <005501bf9fd8$2697d420$9570fe8c@lucent.com>

I would like to know if a MetaPost device is available or in the plans.
A search MetaPost in the documents and list archives did not turn up
anything. [I would prefer to use MetaPost when the graphics is to be
included in a document that I want in both hard-copy and in pdf
formats.]

If not, how easy/hard is it to add a new device to R? I caouln't see
anything about adding devices in the extentions manual. Do I need to
know R internals in detail? An alternative approach would be to take
plotting information and produce MetaPost output via, say, Perl. But I
don't know how get the information printed out either.

Thanks for any help
Nath


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 17:05:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 16:05:03 +0100 (BST)
Subject: [R] RODBC
In-Reply-To: <006e01bf9fd3$37a8d2f0$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10004061558001.22158-100000@auk.stats>

On Thu, 6 Apr 2000, Yves Gauvreau wrote:

> Sorry for the trouble, I've managed to make it run but I think the package
> is not installing itself properly.
> 
> I downloaded version 0.6.2a of RODBC which is a tgz file and the way it
> expands under RHOME\library\ seem improper, the file extentions seem to
> cause problems as well and the startup file (RODBC) should load the sql.R
> file when it initialize at least I think. There is only a man page type of
> help also. I found all this by trial and error (I'm not a seasoned R user
> very "amateur" in fact)

Do look in the rw-FAQ, then. It does explain about packages on Windows.

> 
> If anyone as suggestion on how to correct these little problems in such a
> way that RODBC works as other packages I've used on R for windows I'd be
> glad to give a hand and learn stuff at the same time.

You need to *install* the package: you are used to precompiled ones. The
file you got is I believed called RODBC-0.6.2a.src.tgz, and .src means
*source* Get rw1000sp.zip, read the instructions, type make pkg-RODBC and
you will be done.

Once this is stable enough and the sources have been submitted to CRAN I
will put a precompiled version on CRAN. There is a 3-week-old version at
http://www.stats.ox.ac.uk/pub/bdr, and I may update that this evening.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  6 17:16:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 2000 17:16:52 +0200
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: Stuart Luppescu's message of "Thu, 06 Apr 2000 09:26:08 -0500 (CDT)"
References: <XFMail.20000406092608.s-luppescu@uchicago.edu>
Message-ID: <x24s9f45uj.fsf@blueberry.kubism.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> I would really like to know how to do this. One thing (maybe the only thing) I
> miss about working with S-Plus is the ability label points interactively using
> identify() in X11() and then produce a postscript plot of the result for
> printing just by clicking on the ``PRINT'' button in the window. Prof. Ripley
> mentions printing the contents of the window using your window manager, but my
> window manager doesn't permit this. Dev2bitmap is not an option, as I need
> postscript. I like pictex, but I don't see how to output the contents of an X11
> window as pictex. Isn't there a way to do this?
> 
> (I'm running R 1.0.0 on RedHat Linux 6.2 (intel).)

dev.print() can do this:

----------------
> plot(1:6,1:6)
> identify(1:6,1:6)
warning: no point with 0.25 inches
[1] 4 5
> dev.print()
X11 
  2 
> [^Z]
[1]+  Stopped                 misc/r-release/BUILD/bin/R
[pd at blueberry pd]$ gv Rplots.ps 
[pd at blueberry pd]$ %
misc/r-release/BUILD/bin/R

---------------

The slightly sticky bit is setting up options so that you get
satisfactory text size and aspect ratio on the output. The defaults
are not too bad for exploratory purposes, but getting something to
included in LaTeX was tricky.

[It seems like it is necessary to tweak both the X11 parameters and
the postscript ones if you want to diddle with things like the
pointsize. If so, then there's a buglet somewhere, but I can't really
nail it down.]

And yes, we probably do want a print function/button at some point.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr  6 17:20:34 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 06 Apr 2000 17:20:34 +0200
Subject: [R] RODBC
References: <006301bf9fc3$b2339fb0$0201a8c0@Workgroup> <006e01bf9fd3$37a8d2f0$0201a8c0@Workgroup>
Message-ID: <38ECAB42.412FC277@statistik.uni-dortmund.de>

> I downloaded version 0.6.2a of RODBC which is a tgz file and the way it
> expands under RHOME\library\ seem improper, the file extentions seem to
> cause problems as well and the startup file (RODBC) should load the sql.R
> file when it initialize at least I think. There is only a man page type of
> help also. I found all this by trial and error (I'm not a seasoned R user
> very "amateur" in fact)
> 
> If anyone as suggestion on how to correct these little problems in such a
> way that RODBC works as other packages I've used on R for windows I'd be
> glad to give a hand and learn stuff at the same time.

On UNIX a tar.gz-file can be installed with 'R INSTALL filename'. But
this feature does not exist on windows. I had a look into the archive.

The Windows RODBC.dll is already compiled, so it is not really necessary
to compile the package yourself, if you do not need help files. Of
course, compiling the package would be nice.

_Dirty_ solution:
1. DOS-Prompt: cd to ....\RODBC\R
2. DOS-Prompt: 'type *.R > RODBC'


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr  6 17:29:23 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 06 Apr 2000 17:29:23 +0200
Subject: [R] RODBC
References: <006301bf9fc3$b2339fb0$0201a8c0@Workgroup> <006e01bf9fd3$37a8d2f0$0201a8c0@Workgroup>
Message-ID: <38ECAD53.2B3C0139@statistik.uni-dortmund.de>

...
> _Dirty_ solution:
> 1. DOS-Prompt: cd to ....\RODBC\R
> 2. DOS-Prompt: 'type *.R > RODBC'
...

And copy RODBC.dll from ....\RODBC\src\  to .....\RODBC\libs\

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 17:29:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 16:29:28 +0100 (BST)
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: <XFMail.20000406092608.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.05.10004061620470.22158-100000@auk.stats>

On Thu, 6 Apr 2000, Stuart Luppescu wrote:

> On 06-Apr-2000 Prof Brian D Ripley wrote:
> > If you want a hardcopy of the plot you can use any means you like, for
> > example to print an x11() device's window via your window manager, or use
> > dev2bitmap to grab the plot as a bitmap.  Basically for R _on Unix_ the
> > common format for printable plot files is PostScript, but there is also a
> > pictex device.  (A direct PDF device is at least a dream, and Windows has
> > other devices based on its GDI and producing bitmap formats such as PNG and
> > JPEG. No one has asked for a PCL (LaserJet) interface, which older programs
> > such as S-PLUS support.  People have talked about fig and similar formats
> > too.)
> 
> I would really like to know how to do this. One thing (maybe the only thing) I
> miss about working with S-Plus is the ability label points interactively using
> identify() in X11() and then produce a postscript plot of the result for
> printing just by clicking on the ``PRINT'' button in the window. Prof. Ripley
> mentions printing the contents of the window using your window manager, but my
> window manager doesn't permit this. Dev2bitmap is not an option, as I need
> postscript. I like pictex, but I don't see how to output the contents of an X11
> window as pictex. Isn't there a way to do this?

First, you can do what the S-PLUS print button does by using dev.print, to
postscript() or pictex() devices. It should (now) pick up points added by
locator() or identify().  This does not (in either R or S-PLUS) save the
screen, but replay the graphics calls to another device.

Second, essentially shows you how to create a suitable call to dev.print to
copy the current screen. Just omit the piping to gs. We are currently
considering a new dev.print-like function which will get the x11 device
width, height etc and copy the x11 device to postscript (and thence to a
printer).

> (I'm running R 1.0.0 on RedHat Linux 6.2 (intel).)

Many X window managers allow you to grab a window as a bitmap. Mine's
called snapshot.  There are raw x11 tools too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  6 17:35:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 2000 17:35:57 +0200
Subject: [R] MetaPost device?
In-Reply-To: "Vidhyanath Rao"'s message of "Thu, 6 Apr 2000 10:55:23 -0400"
References: <005501bf9fd8$2697d420$9570fe8c@lucent.com>
Message-ID: <x2ya6r2qea.fsf@blueberry.kubism.ku.dk>

"Vidhyanath Rao" <rao.3 at osu.edu> writes:

> I would like to know if a MetaPost device is available or in the plans.
> A search MetaPost in the documents and list archives did not turn up
> anything. [I would prefer to use MetaPost when the graphics is to be
> included in a document that I want in both hard-copy and in pdf
> formats.]
> 
> If not, how easy/hard is it to add a new device to R? I caouln't see
> anything about adding devices in the extentions manual. Do I need to
> know R internals in detail? An alternative approach would be to take
> plotting information and produce MetaPost output via, say, Perl. But I
> don't know how get the information printed out either.

It's not terribly hard (said the man who people have been nagging to
do an xfig driver for years...) if you know the file format to
generate. You need to figure out how to do do a rather small
set of primitives to do text, polylines, etc., and then fill routines
to do those into a fairly simple framework. Take a look at the
existing drivers to get an impression of what is required.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  6 17:58:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 2000 17:58:35 +0200
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: Prof Brian D Ripley's message of "Thu, 6 Apr 2000 16:29:28 +0100 (BST)"
References: <Pine.GSO.4.05.10004061620470.22158-100000@auk.stats>
Message-ID: <x2vh1v2pck.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > (I'm running R 1.0.0 on RedHat Linux 6.2 (intel).)
> 
> Many X window managers allow you to grab a window as a bitmap. Mine's
> called snapshot.  There are raw x11 tools too.

"xwd" to be specific. It's on RH6.2 too. However, they (still!!!) seem
to forget packaging up the xpr print utility... and xwdtopnm gives an
all-black image, on my system at least.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laurent.Gautier at lionbioscience.com  Thu Apr  6 18:03:39 2000
From: Laurent.Gautier at lionbioscience.com (Laurent Gautier)
Date: Thu, 6 Apr 2000 18:03:39 +0200
Subject: [R] boxplot question
References: <38EC8450.890649DF@valigene.com>
Message-ID: <38ECB543.277C29C2@lionbioscience.com>


Two boxplots at the same abscisse... (?!?)

If I understood clearly, you want to have a glance at the dispersion of your
values, in each category, and for both of your methods.



The following could do the job...



#build a fake data set
val.control <- seq(1,100)
val.exp <- seq(51,150)
lev.control <- as.factor(rep(c("a","b","c"),length.out=length(val.control)))
lev.exp <- as.factor(rep(c("a","b","c"),length.out=length(val.exp)))


# REM : this cheap thing works when there are the same number of exp and controls

lev.control <- paste(as.character(lev.control),".co",sep='')
lev.exp <- paste(as.character(lev.exp),".exp",sep='')
lev.all <- rbind(as.character(lev.control),as.character(lev.exp))
val.all  <- rbind(as.vector(val.control),as.vector(val.exp))
dim(lev.all)_length(lev.all)
dim(val.all)_length(val.all)
myColors <- rep(c("red","blue"),length.out=length(val.all))

boxplot(val.all ~ as.factor(lev.all),col=myColors)





Laurent

PS: There must be a more elegant way to do this...



Christine Serres wrote:

> Hi,
>
> Can anyone tel me how to plot two boxplot at the same abscisse value ?
> Because I want to compare the discrimination of two different biological
> methods of the same data.
>
> Thanks
>
> Christine
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Apr  6 19:03:34 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Thu, 06 Apr 2000 12:03:34 -0500 (CDT)
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: <Pine.GSO.4.05.10004061620470.22158-100000@auk.stats>
Message-ID: <XFMail.20000406120334.s-luppescu@uchicago.edu>

On 06-Apr-2000 Prof Brian D Ripley wrote:
> On Thu, 6 Apr 2000, Stuart Luppescu wrote:
> 
>> On 06-Apr-2000 Prof Brian D Ripley wrote:
>> > If you want a hardcopy of the plot you can use any means you like, for
>> > example to print an x11() device's window via your window manager, or use
>> > dev2bitmap to grab the plot as a bitmap.  Basically for R _on Unix_ the
>> > common format for printable plot files is PostScript, but there is also a
>> > pictex device.  (A direct PDF device is at least a dream, and Windows has
>> > other devices based on its GDI and producing bitmap formats such as PNG
>> > and
>> > JPEG. No one has asked for a PCL (LaserJet) interface, which older
>> > programs
>> > such as S-PLUS support.  People have talked about fig and similar formats
>> > too.)
>> 
>> I would really like to know how to do this. One thing (maybe the only thing)
>> I
>> miss about working with S-Plus is the ability label points interactively
>> using
>> identify() in X11() and then produce a postscript plot of the result for
>> printing just by clicking on the ``PRINT'' button in the window. Prof.
>> Ripley
>> mentions printing the contents of the window using your window manager, but
>> my
>> window manager doesn't permit this. Dev2bitmap is not an option, as I need
>> postscript. I like pictex, but I don't see how to output the contents of an
>> X11
>> window as pictex. Isn't there a way to do this?
> 
> First, you can do what the S-PLUS print button does by using dev.print, to
> postscript() or pictex() devices. It should (now) pick up points added by
> locator() or identify().  This does not (in either R or S-PLUS) save the
> screen, but replay the graphics calls to another device.
> 
> Second, essentially shows you how to create a suitable call to dev.print to
> copy the current screen. Just omit the piping to gs. We are currently
> considering a new dev.print-like function which will get the x11 device
> width, height etc and copy the x11 device to postscript (and thence to a
> printer).

Thanks to all the help from Peter, Brian and Douglas. dev.print() does the job
very well!

Was this system named ``R'' because it ``Rocks'' or because it ``Rules''?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
A good memory does not equal pale ink.
>> Sent on 06-Apr-2000 at 12:00:11 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 19:17:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 18:17:05 +0100 (BST)
Subject: Printing from X11 window (was: Re: [R] Working with R batch)
In-Reply-To: <x2vh1v2pck.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10004061809510.22354-100000@auk.stats>

On 6 Apr 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > > (I'm running R 1.0.0 on RedHat Linux 6.2 (intel).)
> > 
> > Many X window managers allow you to grab a window as a bitmap. Mine's
> > called snapshot.  There are raw x11 tools too.
> 
> "xwd" to be specific. It's on RH6.2 too. However, they (still!!!) seem
> to forget packaging up the xpr print utility... and xwdtopnm gives an
> all-black image, on my system at least.

xv will also grab an X11 window and save it in almost any format. And I
think the GIMP can too. But I would be surprised if KDE/GNOME did not have
something in the same league as CDE.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Apr  6 21:49:04 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 7 Apr 2000 07:49:04 +1200
Subject: [R] MetaPost device?
In-Reply-To: <x2ya6r2qea.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Thu, Apr 06, 2000 at 05:35:57PM +0200
References: <005501bf9fd8$2697d420$9570fe8c@lucent.com> <x2ya6r2qea.fsf@blueberry.kubism.ku.dk>
Message-ID: <20000407074904.A28309@stat1.stat.auckland.ac.nz>

On Thu, Apr 06, 2000 at 05:35:57PM +0200, Peter Dalgaard BSA wrote:
> 
> It's not terribly hard (said the man who people have been nagging to
> do an xfig driver for years...) if you know the file format to
> generate. You need to figure out how to do do a rather small
> set of primitives to do text, polylines, etc., and then fill routines
> to do those into a fairly simple framework. Take a look at the
> existing drivers to get an impression of what is required.

I've started on an XFig driver a couple of times ...  However some
time ago I discovered a rather sweet little gadget called pstoedit.
It converts PostScript into various editable forms.  I use it to produce
xfig files, but there are options for PC formats too.  Have a look at

  http://www.geocities.com/SiliconValley/Network/1958/pstoedit/

The major problem with writing a new graphics driver is implementing
text drawing with arbitrary orientation, justification and clipping.
I don't know how hard this would be in MetaPost.

One option (which I've discussed a bit with Paul) would be to use the
GNU vector fonts in place of native device fonts -- this would really
simplify writing device drivers.  The problem is that the GNU fonts
don't have a complete Latin1 encoding.  On the other hand they do have
Cyrillic and Kanji.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Apr  6 22:17:42 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Fri, 7 Apr 2000 08:17:42 +1200
Subject: [R] MetaPost device?
References: <005501bf9fd8$2697d420$9570fe8c@lucent.com> <x2ya6r2qea.fsf@blueberry.kubism.ku.dk>
Message-ID: <006701bfa005$2bca6bb0$175dd882@stat.auckland.ac.nz>

hi


> > I would like to know if a MetaPost device is available or in the plans.
> > A search MetaPost in the documents and list archives did not turn up
> > anything. [I would prefer to use MetaPost when the graphics is to be
> > included in a document that I want in both hard-copy and in pdf
> > formats.]
> > 
> > If not, how easy/hard is it to add a new device to R? I caouln't see
> > anything about adding devices in the extentions manual. Do I need to
> > know R internals in detail? An alternative approach would be to take
> > plotting information and produce MetaPost output via, say, Perl. But I
> > don't know how get the information printed out either.
> 
> It's not terribly hard (said the man who people have been nagging to
> do an xfig driver for years...) if you know the file format to
> generate. You need to figure out how to do do a rather small
> set of primitives to do text, polylines, etc., and then fill routines
> to do those into a fairly simple framework. Take a look at the
> existing drivers to get an impression of what is required.


In particular, devX11.c has the most documentation about what the
driver functions should do.

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  6 22:34:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 2000 22:34:00 +0200
Subject: [R] MetaPost device?
In-Reply-To: Ross Ihaka's message of "Fri, 7 Apr 2000 07:49:04 +1200"
References: <005501bf9fd8$2697d420$9570fe8c@lucent.com> <x2ya6r2qea.fsf@blueberry.kubism.ku.dk> <20000407074904.A28309@stat1.stat.auckland.ac.nz>
Message-ID: <x2vh1vt1dz.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka at stat.auckland.ac.nz> writes:

> One option (which I've discussed a bit with Paul) would be to use the
> GNU vector fonts in place of native device fonts -- this would really
> simplify writing device drivers.  The problem is that the GNU fonts
> don't have a complete Latin1 encoding.  

...which would likely generate death threats from the general
direction of Scandinavia, where people actually use the ? and ?
letters! Of course, all you need to do is to implement those letters
in the GNU fonts (*first*).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  6 23:12:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Apr 2000 22:12:42 +0100 (BST)
Subject: [R] MetaPost device?
In-Reply-To: <x2vh1vt1dz.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10004062159240.22595-100000@auk.stats>

On 6 Apr 2000, Peter Dalgaard BSA wrote:

> Ross Ihaka <ihaka at stat.auckland.ac.nz> writes:
> 
> > One option (which I've discussed a bit with Paul) would be to use the
> > GNU vector fonts in place of native device fonts -- this would really
> > simplify writing device drivers.  The problem is that the GNU fonts
> > don't have a complete Latin1 encoding.  
> 
> ...which would likely generate death threats from the general
> direction of Scandinavia, where people actually use the Æ and Ø
> letters! Of course, all you need to do is to implement those letters
> in the GNU fonts (*first*).

There is also the question of font quality here, and what to do about
people wanting Japanese or Korean or those strange characters
mathematicians use or ....  On platforms with decent fonts (e.g. those with
Adobe ATM and X servers with commercial type 1 fonts -- I haven't tried the
free ones but there is noticeable difference under ghostscript between the
real and URW type 1 fonts) I would want to make use of the expertise of the
font implementors.

The MetaPost examples in the LaTeX Graphics Companion suggest fonts should
be an easy matter: they also show that it is easy to design awful graphs in
MetaPost.  There is apparently a fig2mf program, which might (a) eliminate
the job if anyone writes a fig driver (b) show what needs to be done.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr  7 01:31:22 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 6 Apr 2000 19:31:22 -0400 (EDT)
Subject: [R] difference between splus and R
In-Reply-To: <x2vh1vt1dz.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0004061907330.584-100000@Chrestomanci.home.earth>

I'm running splus 5 on a solaris platform remotely, and running R on linux
on my home machine.

On Splus I have the two random effects models:

ran1 <- lme(fixed = earning ~ edu + job.pres + age,
            random = ~ 1 + job.pres + age,cluster = ~ clus, data =
labor.df )
 
ran2 <- lme(fixed = earning ~ edu + job.pres + age,
            random = ~ 1 + job.pres, cluster = ~ clus, data = labor.df )

anova(ran2,ran1) gives me 

     Model Df    AIC    BIC  Loglik    Test Lik.Ratio P value
ran2     1  8 3371.5 3406.8 -1677.7
ran1     2 11 3378.7 3427.2 -1678.3 1 vs. 2     1.189 0.75565

On R I have the random models 

ran1 <- lme(fixed = earning ~ edu + job.pres + age,
     random = ~ 1 + job.pres + age | clus, data = labor.df )

ran2 <- lme(fixed = earning ~ edu + job.pres + age,
            random = ~ 1 + job.pres | clus, data = labor.df )

anova(ran2,ran1) gives me 

    Model df      AIC      BIC    logLik   Test    L.Ratio p-value
ran2     1  8 3371.489 3406.705 -1677.745                          
ran1     2 11 3377.515 3425.936 -1677.757 1 vs 2 0.02544750  0.9989

The models are supposed to be identical, and my understanding of the L
ratio and the p value is that it the values corresponding to the null
hypothesis that the smaller model is true ie. that the random effect due
to age is zero. So a large p value in both cases corresponds to strong
evidence in favour of the p value. 

My understanding is that both R and Splus are doing exactly this. So why
are they returning different value. Are the models somehow different?

Another possibility is that one is using ordinary likelihood and the other
is using REML. I see from the R documentation that REML is indeed used
here and I thought the same was true of Splus.

Also, I did summary(ran1) for both splus and R and the results which
similar, did differ, for example in the estimation of the fixed effects.

Can anyone shed light on this? Am I missing something obvious?

                                         Sincerely, Faheem Mitha.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GOLFIS at BIGPOND.COM.AU  Fri Apr  7 07:50:22 2000
From: GOLFIS at BIGPOND.COM.AU (GOLFIS)
Date: Fri, 7 Apr 2000 15:50:22 +1000
Subject: [R] USING @IF FUNCTIONS ?
Message-ID: <LPBBINHKBJMOKBMBNCEJMEDJCAAA.GOLFIS@BIGPOND.COM.AU>



JOHN GOLFIS

HI I AM A REGULAR USER OF EXCEL RECENTLY I HAVE BEEN TRYING TO USE LOTUS !
MY PROBLEM IS THAT IF I AM USING THE @IF STATMENT WHEN I GET THE RESULT IT'S
OK, BUT IF I WANT TO THEN MULTIPLY OR USE ANY OTHER BASIC MATHS FUNCTION IE
(+ - /) IT ONLY GIVES ME A RESULT OF ZERO.  I HAVE BEEN USING IT TO DEVELOP
A BASIC ROSTER SYSTEM THAT RECOGNISES STAFF AGES BASED ON THEIR DOB AND THE
@NOW STATEMENT.
ONCE WE HAVE DETERMINE THEIR AGE USING THE @IF STATEMENT I THEN MULTIPLY BY
THE NUMBER OF HOURS WORKED.

PLEASE HELP ME OUT IF YOU CAN ?


THANKS

GOLFIS at BIGPOND.COM.AU


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Apr  7 08:53:17 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 7 Apr 2000 08:53:17 +0200 (CEST)
Subject: [R] USING @IF FUNCTIONS ?
In-Reply-To: <LPBBINHKBJMOKBMBNCEJMEDJCAAA.GOLFIS@BIGPOND.COM.AU>
References: <LPBBINHKBJMOKBMBNCEJMEDJCAAA.GOLFIS@BIGPOND.COM.AU>
Message-ID: <14573.34269.36011.507480@lynne.ethz.ch>

What makes you post this stuff to our mailing list ?
We have (almost) nothing to do with Excel or Lotus.

--> http://www.r-project.org/

    GOLFIS> JOHN GOLFIS

    GOLFIS> HI I AM A REGULAR USER OF EXCEL RECENTLY I HAVE BEEN TRYING TO
    GOLFIS> USE LOTUS !  MY PROBLEM IS THAT IF I AM USING THE @IF STATMENT
    GOLFIS> WHEN I GET THE RESULT IT'S OK, BUT IF I WANT TO THEN MULTIPLY
    GOLFIS> OR USE ANY OTHER BASIC MATHS FUNCTION IE (+ - /) IT ONLY GIVES
    GOLFIS> ME A RESULT OF ZERO.  I HAVE BEEN USING IT TO DEVELOP A BASIC
    GOLFIS> ROSTER SYSTEM THAT RECOGNISES STAFF AGES BASED ON THEIR DOB AND
    GOLFIS> THE @NOW STATEMENT.  ONCE WE HAVE DETERMINE THEIR AGE USING THE
    GOLFIS> @IF STATEMENT I THEN MULTIPLY BY THE NUMBER OF HOURS WORKED.

    GOLFIS> PLEASE HELP ME OUT IF YOU CAN ?

    GOLFIS> THANKS

    GOLFIS> GOLFIS at BIGPOND.COM.AU


Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr  7 09:14:27 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Apr 2000 08:14:27 +0100 (BST)
Subject: [R] difference between splus and R
In-Reply-To: <Pine.LNX.4.21.0004061907330.584-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10004070802080.23146-100000@auk.stats>

On Thu, 6 Apr 2000, Faheem Mitha wrote:

> I'm running splus 5 on a solaris platform remotely, and running R on linux
> on my home machine.
> 
> On Splus I have the two random effects models:
> 
> ran1 <- lme(fixed = earning ~ edu + job.pres + age,
>             random = ~ 1 + job.pres + age,cluster = ~ clus, data =
> labor.df )
>  
> ran2 <- lme(fixed = earning ~ edu + job.pres + age,
>             random = ~ 1 + job.pres, cluster = ~ clus, data = labor.df )

Might I suggest you install nlme 3.x on Splus5 too? (nlme.stat.wisc.edu)
Then you won't have to use two different syntaxes.

> anova(ran2,ran1) gives me 
> 
>      Model Df    AIC    BIC  Loglik    Test Lik.Ratio P value
> ran2     1  8 3371.5 3406.8 -1677.7
> ran1     2 11 3378.7 3427.2 -1678.3 1 vs. 2     1.189 0.75565
> 
> On R I have the random models 
> 
> ran1 <- lme(fixed = earning ~ edu + job.pres + age,
>      random = ~ 1 + job.pres + age | clus, data = labor.df )
> 
> ran2 <- lme(fixed = earning ~ edu + job.pres + age,
>             random = ~ 1 + job.pres | clus, data = labor.df )

> anova(ran2,ran1) gives me 
> 
>     Model df      AIC      BIC    logLik   Test    L.Ratio p-value
> ran2     1  8 3371.489 3406.705 -1677.745                          
> ran1     2 11 3377.515 3425.936 -1677.757 1 vs 2 0.02544750  0.9989
> 
> The models are supposed to be identical, and my understanding of the L
> ratio and the p value is that it the values corresponding to the null
> hypothesis that the smaller model is true ie. that the random effect due
> to age is zero. So a large p value in both cases corresponds to strong
> evidence in favour of the p value. 
> 
> My understanding is that both R and Splus are doing exactly this. So why
> are they returning different value. Are the models somehow different?
> 
> Another possibility is that one is using ordinary likelihood and the other
> is using REML. I see from the R documentation that REML is indeed used
> here and I thought the same was true of Splus.

(The fits for ran2 give the same statistics, so look both to be REML.) 
You should not be using anova on lme models fitted with REML. Although in
this case they are using the same fixed-effects model and so are on
comparable data, the supporting theory is for ML fits only, AFAIK.

> Also, I did summary(ran1) for both splus and R and the results which
> similar, did differ, for example in the estimation of the fixed effects.
> 
> Can anyone shed light on this? Am I missing something obvious?

The R results look like the problem, and suggest a possible optimization
failure. Please do try nlme3.x on S-PLUS to give an additional data point.
When nlme_3.1.5 is available for R, you might like to try that.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stahel at stat.math.ethz.ch  Fri Apr  7 09:55:27 2000
From: stahel at stat.math.ethz.ch (Werner Stahel)
Date: Fri, 7 Apr 2000 09:55:27 +0200 (MET DST)
Subject: [R] plot.gam
Message-ID: <14573.37999.484324.982420@gargle.gargle.HOWL>


I have just fitted a lm model containing a bs smooth term.
I asked Martin how I could see the estimated function.
He said that such a possibility -- 
which is available in S-Plus' plot.gam --
was on your list of desirable functions.
This is a vote to give it high priority.

(I appreciate all your efforts!)

Werner Stahel

------------------ This message was sent by ---------------------------------
Werner Stahel                                     http://stat.ethz.ch/~stahel
Seminar fuer Statistik                               phone  : +41 1 632 34 30
ETH-Zentrum, LEO                                     fax    : +41 1 632 12 28
CH-8092 Zurich, Switzerland                          meet me: Leonhardstr. 27
-----------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liem.tran at francetelecom.fr  Fri Apr  7 14:37:09 2000
From: liem.tran at francetelecom.fr (TRAN Liem FTM/Men)
Date: Fri, 07 Apr 2000 14:37:09 +0200
Subject: [R] Newbie: Data reading problem
Message-ID: <38EDD675.1F5675B6@francetelecom.fr>

Hello everybody,

I'm a new R user and I've got some difficulties to find the right way to
read data files.

My problem is the following:

I have dayly records of different devices (they all have their own name)
during a time period (let's say one year). Each device records 6 fields. 

I would like to consider that one "fellow" is the recording of one to
six fields for one
device during the time period. 
So my data files have the following format (F = field):

date      device F1 F2 F3 F4 F5 F6
01/01/99  name1  x  y  z  a  a  b
  |       name1  s  d  g  g  n  r
  |       name1  e  z  a  t  p  m
31/12/99  name1  f  g  h  t  e  b
01/01/99  name2  zz ww xx gg gg h
  |       name2  aa qq dy ff gr k
  |       name2  mr ty t  te  m a
31/12/99  name2  az er rr e  l  m

and so on for 40 device.

I would like to keep the link beetween each type of record and the name
device.

If I use read.table, the two first columns are loaded but I can't make
basic operation on matrices because the following error appears:
>Warning messages: 
>1: NAs introduced by coercion  
>2: NAs introduced by coercion 

My basic questions are then: How can I keep the link beetwen name device
(character) (with date ifpossible) and the recorded fields (numeric)?
What is the command to use for reading this file format and use basic
functions on matrices (i.e, calculus will not take care about nor names,
neither dates)

I hope my explanation is clear.

Sorry for disturbing and many thanks in advance for any help

Li?m TRAN
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Apr  7 14:40:42 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 07 Apr 2000 22:40:42 +1000
Subject: [R] boxplot question
Message-ID: <38EDD749.ABA154F4@ozemail.com.au>

Christine Serres wrote:

Can anyone tel me how to plot two boxplot at the same abscisse value
?...

I may be mistaken, but I think you mean on equivalent ordinates.  If so,
here's a start.

test1<-rnorm(100)
test2<-rnorm(100)
par(mfcol=c(1,2),mar=c(5,6,4,2))
ymin<-floor(min(c(test1,test2)))
ymax<-ceiling(max(c(test1,test2)))
boxplot(test1,ylim=c(ymin,ymax))
par(mar=c(5,4,4,4))
boxplot(test2,ylim=c(ymin,ymax))
par(mfcol=c(1,1),mar=c(5,4,4,2))
rm(test1,test2)

This simply puts two boxplots side by side with the same ordinates.  In
doing this, I discovered that you can't turn off the box in boxplot
(d'oh!) and thus I couldn't work out a way to plot the two boxless
boxplots, then wrap an empty frame around them.  Virtual applause for
the one who cracks that.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marco at dickie72.freeserve.co.uk  Fri Apr  7 15:35:24 2000
From: Marco at dickie72.freeserve.co.uk (Marco Togni)
Date: Fri, 7 Apr 2000 14:35:24 +0100
Subject: No subject
Message-ID: <000801bfa096$38b09b60$766f883e@oemcomputer>

Hi,
I am currently using version 1.0.0 for windows.
I am dealing with a large data set and I get the error message

Error: heap memory (6144 Kb) exhausted [needed 1595 Kb more]
       See "help(Memory)" on how to increase the heap size.

I looked the help but I didn't mange to increase the memory.
Can you please help?

Many Thanks 


Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000407/a55e0a6a/attachment.html

From p.dalgaard at biostat.ku.dk  Fri Apr  7 15:53:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Apr 2000 15:53:15 +0200
Subject: [R] Re: none
In-Reply-To: "Marco Togni"'s message of "Fri, 7 Apr 2000 14:35:24 +0100"
References: <000801bfa096$38b09b60$766f883e@oemcomputer>
Message-ID: <x2og7m3tmc.fsf@blueberry.kubism.ku.dk>

"Marco Togni" <Marco at dickie72.freeserve.co.uk> writes:

> Hi,
> I am currently using version 1.0.0 for windows.
> I am dealing with a large data set and I get the error message
> 
> Error: heap memory (6144 Kb) exhausted [needed 1595 Kb more]
>        See "help(Memory)" on how to increase the heap size.
> 
> I looked the help but I didn't mange to increase the memory.
> Can you please help?
> 
> Many Thanks=20

If you start R from a shortcut, then the easiest way is to edit the
target field which usually says something like

c:\mumble\bumble\rgui.exe

to

c:\mumble\bumble\rgui.exe --vsize=10M

(otherwise *make* a shortcut to the R binary...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Fri Apr  7 16:05:19 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Fri, 07 Apr 2000 16:05:19 +0200
Subject: [R] Inference and Asymptotics: Ascona 2000
Message-ID: <38EDEB1F.C74A6E5F@epfl.ch>

-----------------------------
Apologies for cross-postings.
-----------------------------


This is about a workshop on inference and asymptotics,
to be held from 9-14 July 2000 at Ascona in the Italian-
speaking part of Switzerland. See

     http://statwww.epfl.ch/ascona2000/

The meeting is organized by Anthony Davison (EPFL), Tom 
DiCiccio (Cornell) and Elvezio Ronchetti (Geneva). 
Its purpose is to bring together researchers and others 
interested in in aspects of inference for small samples, 
including but not confined to saddlepoint and related methods, 
robust approaches, and bootstrap and Markov chain Monte Carlo 
methods, and to discuss how these ideas should be used in 
applications.

Speakers will include

     Alessandra Brazzale (EPFL)
     Ronald Butler (Colorado)
     Christopher Field (Dalhousie)
     Donald Fraser (Toronto)
     David Hinkley (Santa Barbara)
     Bruce Lindsay (Penn State)
     Peter McCullagh (Chicago)
     Per Mykland (Chicago)
     Donald Pierce (Hiroshima)
     Nancy Reid (Toronto)
     John Robinson (Sydney)
     Richard Spady (Oxford)
     Jamie Stafford (Toronto
     Alastair Young (Cambridge)

among others.

A web page with more details and a registration form is at

     http://statwww.epfl.ch/ascona2000/

The closing date for registrations is May 15 2000.



-- 
Diego Kuonen                http://statwww.epfl.ch/people/kuonen
U VAS kogdA nibOOd bilA statOO-irOvka?     http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr  7 15:55:08 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 7 Apr 2000 09:55:08 -0400 (EDT)
Subject: [R] difference between splus and R
In-Reply-To: <Pine.GSO.4.05.10004070802080.23146-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0004070926250.464-100000@Chrestomanci.home.earth>


On Fri, 7 Apr 2000, Prof Brian D Ripley wrote:

> On Thu, 6 Apr 2000, Faheem Mitha wrote:
> 
> > I'm running splus 5 on a solaris platform remotely, and running R on linux
> > on my home machine.
> > 
> > On Splus I have the two random effects models:
> > 
> > ran1 <- lme(fixed = earning ~ edu + job.pres + age,
> >             random = ~ 1 + job.pres + age,cluster = ~ clus, data =
> > labor.df )
> >  
> > ran2 <- lme(fixed = earning ~ edu + job.pres + age,
> >             random = ~ 1 + job.pres, cluster = ~ clus, data = labor.df )
> 
> Might I suggest you install nlme 3.x on Splus5 too? (nlme.stat.wisc.edu)
> Then you won't have to use two different syntaxes.

Not an option, unfortunately. It is a univ mainframe, and I don't have
those kinds of powers. I can ask them (the powers that be)  nicely to do
it, I suppose. How should I convince them that nlme3.x is better than nlme
2.x which they presumably have installed?

> > The models are supposed to be identical, and my understanding of the L
> > ratio and the p value is that they are the values corresponding to the
> > null hypothesis that the smaller model is true ie. that the random
> > effect due to age is zero. So a large p value in both cases
> > corresponds to strong evidence in favour of the null hypothesis.
 
> > My understanding is that both R and Splus are doing exactly this. So
> > why are they returning different value. Are the models somehow
> > different? Another possibility is that one is using ordinary likelihood 
> > and the other is using REML. I see from the R documentation that REML
> > is indeed used here and I thought the same was true of Splus.
 
> (The fits for ran2 give the same statistics, so look both to be REML.) 
> You should not be using anova on lme models fitted with REML. Although in
> this case they are using the same fixed-effects model and so are on
> comparable data, the supporting theory is for ML fits only, AFAIK.

I am only using the prepackaged function anova.lme from the package nlme.
If you look at the documentation, you will see that not doing anything
unconventional with it. While I am not sure what likelihood ratio
statistic is being used (the documentation does not say, but it appears
that it is probably REML-based) if it is not a legitimate test, then why
is it included in the package?

Thank you for your response.
                                   Sincerely, Faheem Mitha.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Apr  7 16:58:38 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 7 Apr 2000 10:58:38 -0400 (EDT)
Subject: [R] Newbie: Data reading problem
In-Reply-To: <38EDD675.1F5675B6@francetelecom.fr>
Message-ID: <Pine.LNX.4.10.10004071047210.1432-100000@bolker.zoo.ufl.edu>


  I'm not quite sure I understand what you want but I'll give it a try.
If the data in fields F1-F6 are numeric (and I'm assuming that the "|"
entries in the data field represent dates that are actually repeated in
the real data file), then read.data() is the right way to start.  If you
then want to do numeric/matrix operations, you could try turning just the
numeric columns into a matrix: for example

z <- read.data("mydata")
z.num <- as.matrix(z[,3:8])  ## take just columns 3 to 8 
  OR
z.num <- as.matrix(z[,-(1:2)])  ## drop just columns 1 and 2

You could also try

z.list <- lapply(split(1:nrow(z),z$device),function(r)x[,r])

to split your numeric matrix into a list organized by device.
"split(1:nrow(z),z$device)" makes a list of the row numbers in the data
associated with each device; the "lapply" command then replaces each of
the sets of row numbers with the actual rows of data.  (You can then use
"lapply" on this list to calculate means, etc. for each device.)

  good luck,
    Ben  

On Fri, 7 Apr 2000, TRAN Liem FTM/Men wrote:

> Hello everybody,
> 
> I'm a new R user and I've got some difficulties to find the right way to
> read data files.
> 
> My problem is the following:
> 
> I have dayly records of different devices (they all have their own name)
> during a time period (let's say one year). Each device records 6 fields. 
> 
> I would like to consider that one "fellow" is the recording of one to
> six fields for one
> device during the time period. 
> So my data files have the following format (F = field):
> 
> date      device F1 F2 F3 F4 F5 F6
> 01/01/99  name1  x  y  z  a  a  b
>   |       name1  s  d  g  g  n  r
>   |       name1  e  z  a  t  p  m
> 31/12/99  name1  f  g  h  t  e  b
> 01/01/99  name2  zz ww xx gg gg h
>   |       name2  aa qq dy ff gr k
>   |       name2  mr ty t  te  m a
> 31/12/99  name2  az er rr e  l  m
> 
> and so on for 40 device.
> 
> I would like to keep the link beetween each type of record and the name
> device.
> 
> If I use read.table, the two first columns are loaded but I can't make
> basic operation on matrices because the following error appears:
> >Warning messages: 
> >1: NAs introduced by coercion  
> >2: NAs introduced by coercion 
> 
> My basic questions are then: How can I keep the link beetwen name device
> (character) (with date ifpossible) and the recorded fields (numeric)?
> What is the command to use for reading this file format and use basic
> functions on matrices (i.e, calculus will not take care about nor names,
> neither dates)
> 
> I hope my explanation is clear.
> 
> Sorry for disturbing and many thanks in advance for any help
> 
> Liêm TRAN
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr  7 17:13:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 7 Apr 2000 08:13:01 -0700 (PDT)
Subject: [R] plot.gam
In-Reply-To: <14573.37999.484324.982420@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.21.0004070807180.20598-100000@mail.biostat.washington.edu>

On Fri, 7 Apr 2000, Werner Stahel wrote:

> 
> I have just fitted a lm model containing a bs smooth term.
> I asked Martin how I could see the estimated function.
> He said that such a possibility -- 
> which is available in S-Plus' plot.gam --
> was on your list of desirable functions.
> This is a vote to give it high priority.

You *can* see the estimated function with predict(,type="terms")
using 
eg
	model<-lm(y~bs(x,6)+z)

	tm<-predict(model,type="terms")

	plot(x,tm[,"bs(x, 6)"]

(or for a curve plot)

	oo<-order(x)
	plot(x[oo],tm[oo,"bs(x, 6)"]
   

If you want pointwise standard errors use
	predict(model, type="terms",se.fit=TRUE)



    -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr  7 17:16:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Apr 2000 16:16:55 +0100 (BST)
Subject: lme questions (was [R] difference between splus and R)
Message-ID: <200004071516.QAA06065@toucan.stats.ox.ac.uk>

> Date: Fri, 7 Apr 2000 09:55:08 -0400 (EDT)
> From: Faheem Mitha <faheem at email.unc.edu>

[I have given a more meaningful subject line.]

> On Fri, 7 Apr 2000, Prof Brian D Ripley wrote:
> 
> > On Thu, 6 Apr 2000, Faheem Mitha wrote:
> > 
> > > I'm running splus 5 on a solaris platform remotely, and running R on linux
> > > on my home machine.
...
> > 
> > Might I suggest you install nlme 3.x on Splus5 too? (nlme.stat.wisc.edu)
> > Then you won't have to use two different syntaxes.
> 
> Not an option, unfortunately. It is a univ mainframe, and I don't have
> those kinds of powers. I can ask them (the powers that be)  nicely to do
> it, I suppose. How should I convince them that nlme3.x is better than nlme
> 2.x which they presumably have installed?

Any user can have a private library on S-PLUS, and in the same way on R.
See V&R3 p.470 for S-PLUS (and set R_LIBS on R).  You need no special
privileges to install library sections or packages, so this should be an
option.


> > > The models are supposed to be identical, and my understanding of the L
> > > ratio and the p value is that they are the values corresponding to the
> > > null hypothesis that the smaller model is true ie. that the random
> > > effect due to age is zero. So a large p value in both cases
> > > corresponds to strong evidence in favour of the null hypothesis.
>  
> > > My understanding is that both R and Splus are doing exactly this. So
> > > why are they returning different value. Are the models somehow
> > > different? Another possibility is that one is using ordinary likelihood 
> > > and the other is using REML. I see from the R documentation that REML
> > > is indeed used here and I thought the same was true of Splus.
>  
> > (The fits for ran2 give the same statistics, so look both to be REML.) 
> > You should not be using anova on lme models fitted with REML. Although in
> > this case they are using the same fixed-effects model and so are on
> > comparable data, the supporting theory is for ML fits only, AFAIK.
> 
> I am only using the prepackaged function anova.lme from the package nlme.
> If you look at the documentation you will see that not doing anything
> unconventional with it. While I am not sure what likelihood ratio
> statistic is being used (the documentation does not say, but it appears
> that it is probably REML-based) if it is not a legitimate test, then why
> is it included in the package?

I *have* looked at the documentation.  It does not give a reference for
the validity of REML-based LRTs, so can you please supply one?
There is a warning note:

     Likelihood comparisons are not meaningful for objects fit using
     restricted maximum likelihood and with different fixed effects.

which does not say that the converse *is* meaningful. nlme2 even gives the
comparisons in the excluded case. Bill Venables' warning (V&R3 p.203) is
rather stronger.

S does not usually stop you doing non-meaningful statistics, so do not
assume that because it gives a result it is `legitimate'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr  7 16:17:18 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 7 Apr 2000 10:17:18 -0400 (EDT)
Subject: [R] difference between splus and R
In-Reply-To: <Pine.LNX.4.21.0004070926250.464-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0004071012020.464-100000@Chrestomanci.home.earth>


On Fri, 7 Apr 2000, Faheem Mitha wrote:

> 
> On Fri, 7 Apr 2000, Prof Brian D Ripley wrote:
>  
> > (The fits for ran2 give the same statistics, so look both to be REML.) 
> > You should not be using anova on lme models fitted with REML. Although in
> > this case they are using the same fixed-effects model and so are on
> > comparable data, the supporting theory is for ML fits only, AFAIK.
> 
> I am only using the prepackaged function anova.lme from the package nlme.
> If you look at the documentation, you will see that not doing anything
> unconventional with it. While I am not sure what likelihood ratio
> statistic is being used (the documentation does not say, but it appears
> that it is probably REML-based) if it is not a legitimate test, then why
> is it included in the package?

I'm replying to my own reply, here. I took a more careful look, and
apparently there is a problem if you are trying to apply anova to models
fitted with REML where the fixed effects are different. If you try to do
this, anova gives you results, but also gives a warning message saying the
results are not meaningful.

My understanding is that using anova on lme models fitted with REML is Ok
as long as the fixed effects are the same.

                                            Faheem.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From serres at valigene.com  Fri Apr  7 17:25:02 2000
From: serres at valigene.com (Christine Serres)
Date: Fri, 07 Apr 2000 15:25:02 +0000
Subject: [R] boxplot question in other terms
Message-ID: <38EDFDCE.10FCB8E6@valigene.com>

First of all, I thanks you all for replying me .
I've not asked my question in good terms, so I've made a little drawing
of what I want to do in my boxplot   : - )

|     -                                           -
|     |                                            |
|  ----                                   ----
|  |        |                                  |        |
|  |    2  |                                  |    2  |
|   ----                                  ----
|      |                                            |
|      -                                          -
|
|
|       -                                         -
|       |                                           |
|     ----                                 ----
|     |        |                                |        |
|     |    1  |                                |   1   |
|     ----                                 ----
|       |                                           |
|       -                                         -
|
____________________________________________________________________

        Test X                          Test Y



(I don't want my boxes to be shifted  for the same  Test value because I
know that boxplot 1 and 2 don't overlap)
I'm not sure that the boxplot function can do that.
But perhaps someone know a trick to help me.

Thanks
Christine




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr  7 17:34:39 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Apr 2000 17:34:39 +0200
Subject: [R] boxplot question in other terms
In-Reply-To: Christine Serres's message of "Fri, 07 Apr 2000 15:25:02 +0000"
References: <38EDFDCE.10FCB8E6@valigene.com>
Message-ID: <x2hfdd53hr.fsf@blueberry.kubism.ku.dk>

Christine Serres <serres at valigene.com> writes:

> First of all, I thanks you all for replying me .
> I've not asked my question in good terms, so I've made a little drawing
> of what I want to do in my boxplot   : - )

Mmm. That didn't come out too well on my end,  but I think I know
where you're heading.

> (I don't want my boxes to be shifted  for the same  Test value because I
> know that boxplot 1 and 2 don't overlap)
> I'm not sure that the boxplot function can do that.
> But perhaps someone know a trick to help me.

I don't think there's a "standard" way to do that. It would look
horrible if the boxes did overlap...

One useful trick to know is that you can overlay several plots like this:

 plot(1:5)
 par(new=T)
 plot(1:6)

Now that looks awful of course, but if you ensure that the axes are
the same, then it can be turned into something useful. So how about
playing with xlim, ylim &c ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr  7 16:39:49 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 7 Apr 2000 10:39:49 -0400 (EDT)
Subject: lme questions (was [R] difference between splus and R)
In-Reply-To: <200004071516.QAA06065@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0004071028390.464-100000@Chrestomanci.home.earth>


On Fri, 7 Apr 2000, Prof Brian Ripley wrote:

> I *have* looked at the documentation.  It does not give a reference for
> the validity of REML-based LRTs, so can you please supply one?

Sorry, I can't. Perhaps someone else can?

> There is a warning note:
> 
>      Likelihood comparisons are not meaningful for objects fit using
>      restricted maximum likelihood and with different fixed effects.
> 
> which does not say that the converse *is* meaningful. nlme2 even gives the
> comparisons in the excluded case. Bill Venables' warning (V&R3 p.203) is
> rather stronger.

> S does not usually stop you doing non-meaningful statistics, so do not
> assume that because it gives a result it is `legitimate'.

Point taken. However, nothing I have read suggests the converse *isn't*
meaningful, and this does appear to be the default behaviour of anova.lme.
If there is a problem with this, it should say so up front. I would be
grateful if someone (perhaps the authors of nlme) could clarify this one
way or the other.
                                                 Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Apr  7 17:42:21 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 07 Apr 2000 10:42:21 -0500
Subject: [R] difference between splus and R
In-Reply-To: Faheem Mitha's message of "Fri, 7 Apr 2000 10:17:18 -0400 (EDT)"
References: <Pine.LNX.4.21.0004071012020.464-100000@Chrestomanci.home.earth>
Message-ID: <6ritxt7w9u.fsf@franz.stat.wisc.edu>

Faheem Mitha <faheem at email.unc.edu> writes:

> On Fri, 7 Apr 2000, Faheem Mitha wrote:
> 
> > 
> > On Fri, 7 Apr 2000, Prof Brian D Ripley wrote:
> >  
> > > (The fits for ran2 give the same statistics, so look both to be REML.) 
> > > You should not be using anova on lme models fitted with REML. Although in
> > > this case they are using the same fixed-effects model and so are on
> > > comparable data, the supporting theory is for ML fits only, AFAIK.
> > 
> > I am only using the prepackaged function anova.lme from the package nlme.
> > If you look at the documentation, you will see that not doing anything
> > unconventional with it. While I am not sure what likelihood ratio
> > statistic is being used (the documentation does not say, but it appears
> > that it is probably REML-based) if it is not a legitimate test, then why
> > is it included in the package?
> 
> I'm replying to my own reply, here. I took a more careful look, and
> apparently there is a problem if you are trying to apply anova to models
> fitted with REML where the fixed effects are different. If you try to do
> this, anova gives you results, but also gives a warning message saying the
> results are not meaningful.
> 
> My understanding is that using anova on lme models fitted with REML is Ok
> as long as the fixed effects are the same.

That has been our experience too.  This is discussed in more detail in
the forthcoming book "Mixed-Effects Models in S and S-PLUS" by Jose
Pinheiro and me.  There are some corrections that could be applied
when comparing difference structures for the variance-covariance of
the random effects.  See
@Article{self:lian:1987,
  author = 	 {S. G. Self and K. Y. Liang},
  title = 	 {Asymptotic properties of maximum likelihood
                  estimators and likelihood ratio tests under
                  nonstandard conditions},
  journal = 	 {Journal of the American Statistical Association},
  year = 	 1987,
  volume =	 82,
  pages =	 {605--610}
}
and also a recent paper by Chris Morrell.  An early version of
Morrell's paper was
@inproceedings{morr:1997,
         Author = {Morrell, Christopher H.},
         Title = {Likelihood Ratio Testing of Variance Components in the Linear
                 Mixed-effects Model Using Restricted Maximum Likelihood},
         Year = 1997,
         Booktitle  = {ASA Proceedings of the Biometrics Section},
         Publisher = {American Statistical Association (Alexandria, VA)},
         Pages = {181--186}
     }
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Apr  7 18:00:47 2000
From: tov at ece.cmu.edu (Thomas J Vogels)
Date: 07 Apr 2000 12:00:47 -0400
Subject: [R] how to send a bug report within ESS
Message-ID: <87ya6phpe8.fsf@bavaria.ece.cmu.edu>


Hi,

  I just tried to send a bug report within an ESS session in emacs.
  bug.report() simply returned quietly, giving no indication what it
  did or didn't whatsoever.  (I hope you don't see empty emails
  because of this in R-bugs.)

  What's the preferred way to send a bug.report?  Shouldn't it work
  with method="ess"?  Also, I keep forgetting this, what's the easiest
  way to produce that list of system variables, versions etc?  (The
  cleaned up version of R.version()?)

  Thanks,
  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Apr  7 18:18:56 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 7 Apr 2000 18:18:56 +0200 (CEST)
Subject: [R] how to send a bug report within ESS
In-Reply-To: <87ya6phpe8.fsf@bavaria.ece.cmu.edu>
References: <87ya6phpe8.fsf@bavaria.ece.cmu.edu>
Message-ID: <14574.2672.486800.101360@galadriel.ci.tuwien.ac.at>

>>>>> On 07 Apr 2000 12:00:47 -0400,
>>>>> Thomas J Vogels (TJV) wrote:

TJV> Hi,

TJV>   I just tried to send a bug report within an ESS session in emacs.
TJV>   bug.report() simply returned quietly, giving no indication what it
TJV>   did or didn't whatsoever.  (I hope you don't see empty emails
TJV>   because of this in R-bugs.)

TJV>   What's the preferred way to send a bug.report?  Shouldn't it work
TJV>   with method="ess"?  Also, I keep forgetting this, what's the easiest
TJV>   way to produce that list of system variables, versions etc?  (The
TJV>   cleaned up version of R.version()?)

I'm using method "gnudoit" from both xterm and ESS which gets you into
an emacs mail buffer. Of course you need a working gnudoit for
this. Problem with ESS was (I think) that you can't open an editor
inside emacs and know when it terminates, hence method "ess" does
nothing but dump the text to stdout.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Apr  7 18:34:00 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 7 Apr 2000 18:34:00 +0200 (CEST)
Subject: [R] how to send a bug report within ESS
In-Reply-To: <14574.2672.486800.101360@galadriel.ci.tuwien.ac.at>
References: <87ya6phpe8.fsf@bavaria.ece.cmu.edu>
	<14574.2672.486800.101360@galadriel.ci.tuwien.ac.at>
Message-ID: <14574.3576.237957.609083@lynne.ethz.ch>

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

>>>>> On 07 Apr 2000 12:00:47 -0400,
>>>>> Thomas J Vogels (TJV) wrote:

    TJV> Hi,

    TJV> I just tried to send a bug report within an ESS session in emacs.
    TJV> bug.report() simply returned quietly, giving no indication what it
    TJV> did or didn't whatsoever.  (I hope you don't see empty emails
    TJV> because of this in R-bugs.)

    TJV> What's the preferred way to send a bug.report?  Shouldn't it work
    TJV> with method="ess"?  Also, I keep forgetting this, what's the easiest
    TJV> way to produce that list of system variables, versions etc?  (The
    TJV> cleaned up version of R.version()?)

    FrL> I'm using method "gnudoit" from both xterm and ESS which gets you into
    FrL> an emacs mail buffer. Of course you need a working gnudoit for
    FrL> this. Problem with ESS was (I think) that you can't open an editor
    FrL> inside emacs and know when it terminates, hence method "ess" does
    FrL> nothing but dump the text to stdout.

Real problem is that  R cannot not talk to the Emacs in which it is
running (right?).
Otherwise, the "proper" (portable within Emacs (& at least all Unices)) way
would be  
 - R says to Emacs:
    M-x server-start
 - R uses "emacsclient" as editor for the bug report.

MM
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jl7001 at axe.humboldt.edu  Fri Apr  7 19:31:45 2000
From: jl7001 at axe.humboldt.edu (Jack Lewis)
Date: Fri, 07 Apr 2000 10:31:45 -0700
Subject: [R] Plotting with dates on X axis
References: <Pine.LNX.4.10.10004051555460.1172-100000@bolker.zoo.ufl.edu> <38EBC28A.2EC5@northcoast.com> <38EBFC2D.7D2A4E16@axe.humboldt.edu> <38EC08D5.2FD4@northcoast.com>
Message-ID: <38EE1B81.51852224@axe.humboldt.edu>

Steve (and anyone who might be interested),

Here are four simple functions I use in R to create dates and chron objects
(assumes you have the "chron" library attached):

make.chron <- function(date, time, out = "day mon year") {
# Makes a "chron object" from a date (yymmdd) and military time
# Date and time can be character or numeric vectors
# out is the format for the date portion only
    ymd2date(date, out = out) + mt2msm(time)/1440
}

ymd2date <- function(date, out = "day mon year") {
# Converts a numeric or character date (yymmdd) to a "dates" object
    date <- zfill(date, 6) # pad to 6 characters with starting zeros
    dates(date, format="ymd", out=out, origin=c(1,1,1960))
}

mt2msm <- function(time)
{
# Converts a military time to minutes since midnight
        if(data.class(time) == "character")
                time <- as.numeric(time)
        min <- time %% 100
        hour <- time %/% 100
        60 * hour + min
}

zfill <- function(x, n) {
# fill with leading zeros to get an n-digit character string
    nc <- nchar(x)
    zeros <- paste(rep(0, n), collapse = "")
    paste(substring(zeros, nchar(x) + 1, n), substring(x, 1, nchar(x)), sep
= "")
}

In addition, although data.frame() and as.data.frame() will not accept chron
objects, you can add chron objects to data frames as follows:

data$chr _ chron.obj

where data is an existing data frame and chron.obj is an existing chron
object.

When you display the data frame, the chron object will display as a julian
integer, UNLESS you mask the function as.matrix.data.frame() with a copy
that has one change:

Change the following conditional statement:

if (length(levels(xj)) > 0 || !(is.numeric(xj) || is.complex(xj)))
        non.numeric <- TRUE

to:

if (length(levels(xj)) > 0 || is.dates(xj) || !(is.numeric(xj) ||
is.complex(xj)))
        non.numeric <- TRUE

With that, the chron object will appear formatted when the data frame is
displayed.

--
Jack Lewis                           Redwood Sciences Laboratory
707-825-2929 voice                   Pacific Southwest Research Station
707-825-2901 fax                     USDA Forest Service
jl7001 at axe.humboldt.edu              http://www.rsl.psw.fs.fed.us
jlewis01 at fs.fed.us (alternate)

           --------------------------------------------
Thought must be divided against itself before it can come to any
knowledge of itself.                             (Aldous Huxley)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr  7 19:46:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 7 Apr 2000 10:46:07 -0700 (PDT)
Subject: [R] plot.gam
In-Reply-To: <14573.37999.484324.982420@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.21.0004071037560.20598-100000@mail.biostat.washington.edu>


While it is relatively easy to plot the estimated curves that plot.gam
produces using predict(,type="terms") it seems to be very hard to get it
automated.

Getting the fitted function is easy. Getting the untransformed variable to
plot it against, though, is hard. 

Suppose we fit

	model<-lm(y~sin(x)+ns(z,3))


Given 'model' how can we extract x & z?  We can't work them out from
model.frame(model), which only contains transformed versions.  Even
assuming we can guess what the name of the variable is (not trivial --
which is the variable in  ns(z,df)? In ns(df=df,z)?), we don't know where
to find it.

It seems that we would have to assume that model$call$data contains the
variables if evaluated in the calling frame. This means that plot.gam
wouldn't necessarily work if called from inside a function, or if the
original data set had been changed since the model was fitted, or if the
default na.action had been changed or various other problems.

Ideas?

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr  7 21:00:39 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Apr 2000 21:00:39 +0200
Subject: [R] plot.gam
In-Reply-To: Thomas Lumley's message of "Fri, 7 Apr 2000 10:46:07 -0700 (PDT)"
References: <Pine.GSO.4.21.0004071037560.20598-100000@mail.biostat.washington.edu>
Message-ID: <x23dox68iw.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> Suppose we fit
> 
> 	model<-lm(y~sin(x)+ns(z,3))
> 
> 
> Given 'model' how can we extract x & z?  We can't work them out from
> model.frame(model), which only contains transformed versions.  Even
> assuming we can guess what the name of the variable is (not trivial --
> which is the variable in  ns(z,df)? In ns(df=df,z)?), we don't know where
> to find it.
> 
> It seems that we would have to assume that model$call$data contains the
> variables if evaluated in the calling frame. This means that plot.gam
> wouldn't necessarily work if called from inside a function, or if the
> original data set had been changed since the model was fitted, or if the
> default na.action had been changed or various other problems.
> 
> Ideas?

The obvious one: Let the user do the thinking:

d<-data.frame(x=0, z=seq(-3, 3, .1))
evalq(plot(z, predict(model, new=d), type='l'), d)

or even (I think it works. Inefficiently, though.)

curve(predict(model, new=data.frame(x=0, z=x)))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Apr  7 23:27:07 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 08 Apr 2000 09:27:07 +1200
Subject: [R] boxplot question in other terms
References: <38EDFDCE.10FCB8E6@valigene.com>
Message-ID: <38EE52AA.40F9A6BC@xtra.co.nz>

I see what you mean now.  You are lucky I did this kind of plot in one of my
previous assignment.  I have modified the data to suit your needs.  The data is
directly quoted from the paper 475.340 Designs of Surveys and Experiments in the
University of Auckland, New Zealand.

# Enter the data, count.
count <- c( 11, 14, 15, 17, 18, 21, 25,
     39, 43, 46, 50, 52, 61, 67,
     88, 92, 104, 113, 119, 120, 130,
     222, 251, 259, 283, 299, 312, 337,
     562,,604, 689, 702, 710, 739, 786 )

# Enter the ordered factor, Test.
# Since the data, count, is kind of like a 7 by 5 matrix, you need to
# repeat Test 1 ~ Test 5 by that amount.
# In other words, "Test" will look something like:
 # 1 1 1 1 1 1 1
 # 2 2 2 2 2 2 2
 # 3 3 3 3 3 3 3
 # 4 4 4 4 4 4 4
 # 5 5 5 5 5 5 5
Test <- ordered( factor( rep( c( 1, 2, 3, 4, 5 ),
         rep( 7, 5 )
       )
                       )
               )


# To draw a boxplot that has Test 1 ~ Test 5 on its x-axis and
# count on its y-axis.
# There should be 5 box&whiskers within the SAME plot box.
boxplot( split( count, Test ),
         xlab = "Test", ylab = "counts",
         main = "A Boxplot" )

To make is easier for you, I have even saved it as an R source file and attached it
below for you.  Just saved it to your disk, use "source()" function in R to source
it in directly.  From the R commands, it should be pretty easy to see how you
should change it to get the plot that you want.  (The # means R comments, it will
NOT affect the plots).

Cheers,

Ko-Kang Wang

Christine Serres wrote:

> First of all, I thanks you all for replying me .
> I've not asked my question in good terms, so I've made a little drawing
> of what I want to do in my boxplot   : - )
>
> |     -                                           -
> |     |                                            |
> |  ----                                   ----
> |  |        |                                  |        |
> |  |    2  |                                  |    2  |
> |   ----                                  ----
> |      |                                            |
> |      -                                          -
> |
> |
> |       -                                         -
> |       |                                           |
> |     ----                                 ----
> |     |        |                                |        |
> |     |    1  |                                |   1   |
> |     ----                                 ----
> |       |                                           |
> |       -                                         -
> |
> ____________________________________________________________________
>
>         Test X                          Test Y
>
> (I don't want my boxes to be shifted  for the same  Test value because I
> know that boxplot 1 and 2 don't overlap)
> I'm not sure that the boxplot function can do that.
> But perhaps someone know a trick to help me.
>
> Thanks
> Christine
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000408/7bb6a802/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: boxplot.R
Type: application/x-unknown-content-type-r_auto_file
Size: 898 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000408/7bb6a802/boxplot.bin

From fvang at stud.hum.ku.dk  Sat Apr  8 15:04:48 2000
From: fvang at stud.hum.ku.dk (Fredrik Vang)
Date: Sat, 8 Apr 2000 15:04:48 +0200
Subject: [R] DLL/shared libraries and .Call()
Message-ID: <002f01bfa15b$0560f780$050010ac@Poppy.localdomain>

Hello folks!

I've desperately been trying to write some shared libraries/DLLs using the .Call() interface. I can't get the symbols to resolve. Under Linux, dyn.load() tells me that the following (and presumably much more) is missing:

   Rf_length_FG7SEXPREC

Under Windows, I simply can't get R to build under cygwin for the life of me. (Embarassing to admit, but those are the facts.) And since the binary distribution's DLL is stripped, I can't build the R.a file, which I presume--but don't know for sure--that I need (e.g. for calls like AllocVector() or anything else that needs to call R code).

Please, someone, help me out. Does anybody have an appropriate R.a file (or whatever I need to resolve the symbols) for Win98/R-1.0.0 or some advice about how to get it to work under Linux? Has anyone been successful in using the .Call() interface?

Best regards,

Fredrik Vang


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000408/7813dce8/attachment.html

From guido at sirio.stat.unipd.it  Sat Apr  8 16:01:09 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sat, 8 Apr 2000 16:01:09 +0200
Subject: [R] DLL/shared libraries and .Call()
In-Reply-To: <002f01bfa15b$0560f780$050010ac@Poppy.localdomain>; from fvang@stud.hum.ku.dk on Sat, Apr 08, 2000 at 03:04:48PM +0200
References: <002f01bfa15b$0560f780$050010ac@Poppy.localdomain>
Message-ID: <20000408160109.A25603@sirio.stat.unipd.it>

On Sat, Apr 08, 2000 at 03:04:48PM +0200, Fredrik Vang wrote:
> Please, someone, help me out. Does anybody have an appropriate R.a file (or whatever I need to resolve the symbols) for Win98/R-1.0.0 or some advice about how to get it to work under Linux? Has anyone been successful in using the .Call() interface?
> 

  For the Windows part of the question: install rw1000sp.zip and
  read the instructions in rw1000/readme.packages. They describe
  how you can build 'libR.a', i.e., the export library for R.dll.
  On my setting it is as easy as going to the appropriate directory
  and type
  > make BUILD=CYGWIN libR.a
  
  However, Windows and Linux, a 
  > rgrep Rf_length_FG7SEXPREC */*.c */*.h %rgrep is a recursive grep
  doesn't return nothing on the my current source tree. 
  So, are you sure of the name?


  guido
  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr  8 16:33:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Apr 2000 16:33:40 +0200
Subject: [R] DLL/shared libraries and .Call()
In-Reply-To: Guido Masarotto's message of "Sat, 8 Apr 2000 16:01:09 +0200"
References: <002f01bfa15b$0560f780$050010ac@Poppy.localdomain> <20000408160109.A25603@sirio.stat.unipd.it>
Message-ID: <x2og7k1x2z.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido at sirio.stat.unipd.it> writes:

> On Sat, Apr 08, 2000 at 03:04:48PM +0200, Fredrik Vang wrote:
> > Please, someone, help me out. Does anybody have an appropriate R.a file (or whatever I need to resolve the symbols) for Win98/R-1.0.0 or some advice about how to get it to work under Linux? Has anyone been successful in using the .Call() interface?
> > 
> 
>   For the Windows part of the question: install rw1000sp.zip and
>   read the instructions in rw1000/readme.packages. They describe
>   how you can build 'libR.a', i.e., the export library for R.dll.
>   On my setting it is as easy as going to the appropriate directory
>   and type
>   > make BUILD=CYGWIN libR.a
>   
>   However, Windows and Linux, a 
>   > rgrep Rf_length_FG7SEXPREC */*.c */*.h %rgrep is a recursive grep
>   doesn't return nothing on the my current source tree. 
>   So, are you sure of the name?

Looks like a C++ mangling?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mattes at rfhsm.ac.uk  Sun Apr  9 15:10:45 2000
From: mattes at rfhsm.ac.uk (Department of Virology)
Date: Sun, 09 Apr 2000 14:10:45 +0100
Subject: [R] binaries of R-1.0.0 for hpux 
Message-ID: <38F08156.4D622E3C@rfhsm.ac.uk>

Hi,

I'm wondering if someone has  compiled R-1.0.0 for hp-ux 10.20.
Unfortunally I could't compile the source because hp-ux doen't
come with the full set of include/libaries for X.

Regards

Frank Mattes
Royal Free Hospital, London
Department of Virology
mattes at rfhsm.ac.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bcooke at gpu.srv.ualberta.ca  Sun Apr  9 17:44:30 2000
From: bcooke at gpu.srv.ualberta.ca (Barry Cooke)
Date: Sun, 9 Apr 2000 09:44:30 -0600 (MDT)
Subject: [R] (1) arima.mle implementation; (2) r-newbie forum
Message-ID: <Pine.A41.4.10.10004090938580.34346-100000@gpu5.srv.ualberta.ca>

Has arima.mle (MASS, Ch.15, p.464) been implemented in R?

[A search through contributed packages and R-FAQ suggests not,
and I don't think function 'lme' from package 'nlme' would
accomplish the same sort of thing, although it permits
correlated errors.  A search of the CRAN site shows this 
question has been asked some time ago, and it was suggested
that Paul Gilbert's DSE library might offer comparable 
functions.  Is this the way to go?]

Using R 1.0.0 for Win9x. Moving to Linux in September :)

Incidentally, R is great, and so is this forum.  As the user
base is expanding, it might be a good idea to start a second
help forum where newbies can discuss "stupid questions" amongst
ourselves.  I think there are alot more R-related questions out
there than are currently being asked.  And even now many of
the questions being posted have as much to do with the use of
statistics as with the use of R proper.  Having another
forum (r-newuser? r-statshelp?) might free up core team members
from having to answer those trivial questions that experienced
users can easily handle and questions that are only tangentially
related to R.

[For example I would like to know, but am hesitant to ask:
1. How does one interpret the confidence limits computed by
spec.pgram and automatically plotted by plot.spec?
2. What is the most elegant way to generate a vector of
correlated random numbers of arbitrary distribution, mean, 
variance and correlation structure? (eg. pink noise).]

Sincerely,

Barry J. Cooke                      Current mailing address:
Ph.D. Candidate                     #219 - 1810 NW 23 Blvd 
Environmental Biology and Ecology   Gainesville, Florida, USA 
Department of Biological Sciences   32605 
University of Alberta
Edmonton, AB, T6G 2E9               http://www.ualberta.ca/~bcooke 
bcooke at gpu.srv.ualberta.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Serge.Thiffeault at microcell.ca  Sun Apr  9 20:17:58 2000
From: Serge.Thiffeault at microcell.ca (Thiffeault, Serge)
Date: Sun, 9 Apr 2000 14:17:58 -0400 
Subject: [R] Paramtric ABC
Message-ID: <52AD600309AED311B11E0008C7A4D2803A7D95@dmtlcmis04.microcell.ca>

Hi, I presently working with the bootstrap methodology. I am trying to establish confidence intervals using the parametric ABC method with the bivariate normal data. I looked at the paper written by DiCiccio and Efron and did not find any programming materials which was used in that paper. So I am in confuse how to aply bootstrap ABC parametric confidence intervals method.
I will be grateful to anyone who will send me any programming information about that purpose which I can use in my research work.

Thank you

Serge Thiffeault
Statisticien
Microcell Labs
Tel: (514) 937-0102 ext: 8359
Serge.Thiffeault at microcell.ca


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr  9 20:37:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 9 Apr 2000 19:37:45 +0100 (BST)
Subject: [R] (1) arima.mle implementation; (2) r-newbie forum
In-Reply-To: <Pine.A41.4.10.10004090938580.34346-100000@gpu5.srv.ualberta.ca>
Message-ID: <Pine.GSO.4.05.10004091929580.4573-100000@auk.stats>

On Sun, 9 Apr 2000, Barry Cooke wrote:

> Has arima.mle (MASS, Ch.15, p.464) been implemented in R?
> 
> [A search through contributed packages and R-FAQ suggests not,
> and I don't think function 'lme' from package 'nlme' would
> accomplish the same sort of thing, although it permits
> correlated errors.  A search of the CRAN site shows this 
> question has been asked some time ago, and it was suggested
> that Paul Gilbert's DSE library might offer comparable 
> functions.  Is this the way to go?]

Look at the on-line V&R `R Complements' for how to do things in MASS in R.
See arima0 in library ts (which is a standard package).

> Using R 1.0.0 for Win9x. Moving to Linux in September :)
> 
> Incidentally, R is great, and so is this forum.  As the user
> base is expanding, it might be a good idea to start a second
> help forum where newbies can discuss "stupid questions" amongst
> ourselves.  I think there are alot more R-related questions out
> there than are currently being asked.  And even now many of
> the questions being posted have as much to do with the use of
> statistics as with the use of R proper.  Having another
> forum (r-newuser? r-statshelp?) might free up core team members
> from having to answer those trivial questions that experienced
> users can easily handle and questions that are only tangentially
> related to R.

We would be very happy for `experienced users' to answer them on r-help.

> [For example I would like to know, but am hesitant to ask:
> 1. How does one interpret the confidence limits computed by
> spec.pgram and automatically plotted by plot.spec?

(pointwise? Sorry, I miss the point here. 
You found package ts, so how did you miss arima0?)

> 2. What is the most elegant way to generate a vector of
> correlated random numbers of arbitrary distribution, mean, 
> variance and correlation structure? (eg. pink noise).]

Well, you can't have arbitrary distribution and covariance structure.
There are theoretical constraints on the correlation between two rv's,
even. For normal distributions, see section 4.5 of BDR (1987) Stochastic
Simulation and choose the method that takes your fancy.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr  9 20:42:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 9 Apr 2000 19:42:44 +0100 (BST)
Subject: [R] Paramtric ABC
In-Reply-To: <52AD600309AED311B11E0008C7A4D2803A7D95@dmtlcmis04.microcell.ca>
Message-ID: <Pine.GSO.4.05.10004091938080.4573-100000@auk.stats>

On Sun, 9 Apr 2000, Thiffeault, Serge wrote:

> Hi, I presently working with the bootstrap methodology. I am trying 
to establish confidence intervals using the parametric ABC method 
with the bivariate normal data. I looked at the paper written by 
DiCiccio and Efron and did not find any programming materials 
which was used in that paper. So I am in confuse how to aply 
bootstrap ABC parametric confidence intervals method.

Which paper (1992 or 1996?)

> I will be grateful to anyone who will send me any programming information about that purpose which I can use in my research work.

I think function abcpar in package bootstrap is what you are looking for.
Also take a look at package boot. (Both are on CRAN.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Mon Apr 10 11:12:34 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Mon, 10 Apr 2000 11:12:34 +0200
Subject: [R] difference between splus and R
References: <Pine.LNX.4.21.0004071012020.464-100000@Chrestomanci.home.earth> <6ritxt7w9u.fsf@franz.stat.wisc.edu>
Message-ID: <001701bfa2cc$e8b000e0$2795eb82@patrikwpc>


> Faheem Mitha <faheem at email.unc.edu> writes:
> 
> > On Fri, 7 Apr 2000, Faheem Mitha wrote:
> > 
> > > 
> > > On Fri, 7 Apr 2000, Prof Brian D Ripley wrote:
> > >  
> > > > (The fits for ran2 give the same statistics, so look both to be REML.) 
> > > > You should not be using anova on lme models fitted with REML. Although in
> > > > this case they are using the same fixed-effects model and so are on
> > > > comparable data, the supporting theory is for ML fits only, AFAIK.
> > > 
> > > I am only using the prepackaged function anova.lme from the package nlme.
> > > If you look at the documentation, you will see that not doing anything
> > > unconventional with it. While I am not sure what likelihood ratio
> > > statistic is being used (the documentation does not say, but it appears
> > > that it is probably REML-based) if it is not a legitimate test, then why
> > > is it included in the package?
> > 
> > I'm replying to my own reply, here. I took a more careful look, and
> > apparently there is a problem if you are trying to apply anova to models
> > fitted with REML where the fixed effects are different. If you try to do
> > this, anova gives you results, but also gives a warning message saying the
> > results are not meaningful.
> > 
> > My understanding is that using anova on lme models fitted with REML is Ok
> > as long as the fixed effects are the same.
> 
> That has been our experience too.  This is discussed in more detail in
> the forthcoming book "Mixed-Effects Models in S and S-PLUS" by Jose
> Pinheiro and me.  There are some corrections that could be applied
> when comparing difference structures for the variance-covariance of
> the random effects.  See
> @Article{self:lian:1987,
>   author = {S. G. Self and K. Y. Liang},
>   title = {Asymptotic properties of maximum likelihood
>                   estimators and likelihood ratio tests under
>                   nonstandard conditions},
>   journal = {Journal of the American Statistical Association},
>   year = 1987,
>   volume = 82,
>   pages = {605--610}
> }
> and also a recent paper by Chris Morrell.  An early version of
> Morrell's paper was
> @inproceedings{morr:1997,
>          Author = {Morrell, Christopher H.},
>          Title = {Likelihood Ratio Testing of Variance Components in the Linear
>                  Mixed-effects Model Using Restricted Maximum Likelihood},
>          Year = 1997,
>          Booktitle  = {ASA Proceedings of the Biometrics Section},
>          Publisher = {American Statistical Association (Alexandria, VA)},
>          Pages = {181--186}
>      }


Morrell, C. H. 1998. Likelihood Ratio Testing of Variance Components in the Linear
Mixed-Effects Model Using Restricted Maximum Likelihood. Biometrics 54: 1560-1568.

Also take a look at:

Stram, D. O. & Lee, J. W. 1994. Variance component testing in the longitudinal mixed effects model. Biometrics 50:1171-1177.

Welham, S. J. & Thompson, R. 1997. Likelihood ratio tests for fixed model terms using residual maximum likelihood. J. R. Stat. Soc. B. 59:701-714.

Verbyla, A. P., Cullis, B. R., Kenward, M. G. & Welham, S. J. 1999. The analysis of designed experiments and longitudinal data by using smoothing splines. J. R. Stat. Soc. C. 48:269-311.


Patrik Waldmann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Apr 10 12:58:25 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 10 Apr 2000 12:58:25 +0200
Subject: [R] Newbie: how to calculate group averagege? 
Message-ID: <38F1B3D1.801470C8@psy.uni-muenchen.de>

Dear R-List,

I?m new in R, so I hope my question is not to primitive, but I haven?t
found a solution in the R-help. I?ve got a datatframe with 3 factors,
called xf (9 levels), yf (9 levels), zf (3 levels) and one variable
(rt):

> xf	yf	zf	rt
>  1	1	1	67
>  1	1	1	56
>  1    1       1       60
[...] 
>  1    1       2       58
>  1    1       2       61
[...] 
>  9    1       1       62
>  9    1       1       65
[...] 
>  9    9       3       70

For each combinations of the factors are 6 values of rt. I need the mean
of the six rt values for each factor combination. I?ve tried the ave()
function:

> ave(rt, zf, xf, yf)

but it returns a lot of NAs. Is there another r-function I?ve overlooked
or must I write my own function?

Thanks,

Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 10 13:21:20 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Apr 2000 13:21:20 +0200
Subject: [R] Newbie: how to calculate group averagege?
In-Reply-To: Sven Garbade's message of "Mon, 10 Apr 2000 12:58:25 +0200"
References: <38F1B3D1.801470C8@psy.uni-muenchen.de>
Message-ID: <x27le619sf.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> For each combinations of the factors are 6 values of rt. I need the mean
> of the six rt values for each factor combination. I?ve tried the ave()
> function:
> 
> > ave(rt, zf, xf, yf)
> 
> but it returns a lot of NAs. Is there another r-function I?ve overlooked
> or must I write my own function?

I think you're looking for

tapply(rt,list(zf, xf, yf), mean, na.rm=T)

alternatively, 

ave(rt, zf, xf, yf, FUN=function(x)mean(x,na.rm=T)) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Apr 10 13:47:50 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 10 Apr 2000 13:47:50 +0200
Subject: [R] Newbie: how to calculate group averagege?
References: <38F1B3D1.801470C8@psy.uni-muenchen.de> <x27le619sf.fsf@blueberry.kubism.ku.dk>
Message-ID: <38F1BF66.F1C860B0@psy.uni-muenchen.de>

Thanks a lot, this is exactly what I need.

Bye,

Sven

Peter Dalgaard BSA wrote:
> 
> Sven Garbade <garbade at psy.uni-muenchen.de> writes:
> 
> > For each combinations of the factors are 6 values of rt. I need the mean
> > of the six rt values for each factor combination. I?ve tried the ave()
> > function:
> >
> > > ave(rt, zf, xf, yf)
> >
> > but it returns a lot of NAs. Is there another r-function I?ve overlooked
> > or must I write my own function?
> 
> I think you're looking for
> 
> tapply(rt,list(zf, xf, yf), mean, na.rm=T)
> 
> alternatively,
> 
> ave(rt, zf, xf, yf, FUN=function(x)mean(x,na.rm=T))
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Mon Apr 10 14:07:16 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 10 Apr 2000 14:07:16 +0200
Subject: [R] Newbie: how to calculate group averagege? 
In-Reply-To: <38F1B3D1.801470C8@psy.uni-muenchen.de>
Message-ID: <B5179094.26B9%pflugshaupt@geobot.umnw.ethz.ch>

(message from 10.4.2000 12:58 Uhr):

> Dear R-List,
> 
> I?m new in R, so I hope my question is not to primitive, but I haven?t
> found a solution in the R-help. I?ve got a datatframe with 3 factors,
> called xf (9 levels), yf (9 levels), zf (3 levels) and one variable
> (rt):
> 

Hello Sven,

try "tapply". From its help page:


> Apply a Function Over a ``Ragged'' Array
> 
> 
> Usage
> 
> tapply(X, INDEX, FUN = NULL, simplify = TRUE, ...)
> 
> Arguments
> 
> X
> an atomic object, typically a vector.
> INDEX
> list of factors, each of same length as X.
> FUN
> the function to be applied. In the case of functions like +, %*%, etc., the
> function name must be quoted. If FUN is NULL, tapply returns a vector which
> can be used to subscript the multi-way array tapply normally produces.
> simplify
> If FALSE, tapply always returns an array of mode "list". If TRUE (the
> default), then if FUN always returns a scalar, tapply returns an array with
> the mode of the scalar.
> ...
> optional arguments to FUN.


So, just give it a list of your grouping factors as second argument and
"mean" as function, and you're set. If you still get many NAs, you might
consider giving na.rm=T as additional argument, thus writing

tapply(data, list(factor1,factor2 ...), FUN=mean, na.rm=T)

The last argument is passed on to the mean function.

Hope it works for you

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Apr 10 14:14:39 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 10 Apr 2000 14:14:39 +0200
Subject: [R] Re: [Rd] R CMD build/check
References: <200004100546.HAA14716@aragorn.ci.tuwien.ac.at>
Message-ID: <38F1C5AF.1D26442B@univie.ac.at>

i am trying to compile xgobi ob my solaris box,
but i don't have
/usr/ccs/bin/cc
installed

is there a makefile for building xgobi on solaris with gcc?

please answer directly to ma also, since i am reading this list
in digest form
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr 10 14:34:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Apr 2000 13:34:18 +0100 (BST)
Subject: [R] Re: building xgobi on Solaris
Message-ID: <200004101234.NAA21531@toucan.stats.ox.ac.uk>


> Date: Mon, 10 Apr 2000 14:14:39 +0200
> From: Erich Neuwirth <erich.neuwirth at univie.ac.at>
> X-Accept-Language: en
> To: R-help at r-project.org
> Subject: [R] Re: [Rd] R CMD build/check
> 
> i am trying to compile xgobi ob my solaris box,
> but i don't have
> /usr/ccs/bin/cc
> installed
> 
> is there a makefile for building xgobi on solaris with gcc?

Just run imake, than edit the Makefile it produces. You'll need to
change CC and CFLAGS.  I always use gcc: until recently it crashed if
compiled under cc (but the error was in xgobi's code).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Apr 10 14:58:58 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 10 Apr 2000 14:58:58 +0200
Subject: [R] xgobi problem solved
References: <200004100546.HAA14716@aragorn.ci.tuwien.ac.at>
Message-ID: <38F1D012.3D7F2710@univie.ac.at>

i solved the problem myself,
but perhaps somebody else needs to know.

there is a subdirectory
which has a makefile for gcc.
it is mentioned in the docs.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr 10 15:16:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Apr 2000 14:16:02 +0100 (BST)
Subject: [R] xgobi problem solved
Message-ID: <200004101316.OAA21901@toucan.stats.ox.ac.uk>


> Date: Mon, 10 Apr 2000 14:58:58 +0200
> From: Erich Neuwirth <erich.neuwirth at univie.ac.at>
> X-Accept-Language: en
> To: R-help at r-project.org
> Subject: [R] xgobi problem solved
> 
> i solved the problem myself,
> but perhaps somebody else needs to know.
> 
> there is a subdirectory
> which has a makefile for gcc.
> it is mentioned in the docs.
> 

Yes, but the way I suggested is better as it will be tailored to your system.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Apr 10 17:19:59 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 10 Apr 2000 11:19:59 -0400
Subject: [R] (1) arima.mle implementation; (2) r-newbie forum
References: <Pine.A41.4.10.10004090938580.34346-100000@gpu5.srv.ualberta.ca>
Message-ID: <38F1F11F.13BA99F7@bank-banque-canada.ca>

>Has arima.mle (MASS, Ch.15, p.464) been implemented in R?
>...
>it was suggested
>that Paul Gilbert's DSE library might offer comparable
>functions.  Is this the way to go?]

(I am hoping to soon have a new version of DSE in the development area
of CRAN.)

My library has several multivariate time series estimation techniques,
but maximum likelihood is not currently working and probably will not be
for some time to come. For a long time I thought maximum likelihood was
the best way to estimate. But, while discussing rather unimpressive
results from simulation tests, a friend remarked that "every knows mle
gives good in sample fit at the expense of out of sample prediction."
Whether everyone knows that I rather doubt, but in any case it is
certainly consistence with my experience and is the main reason I do not
expect to fix maximum likelihood estimation in DSE anytime soon. (Not to
mention that ml estimation of multivariate time series models takes days
on fast computers and one is never really sure about convergence.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Mon Apr 10 17:44:49 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Mon, 10 Apr 2000 11:44:49 -0400
Subject: [R] Increasing memory size in ESS
Message-ID: <38F1F6F1.591ADC20@discrete.concordia.ca>

I am having a problem using ESS with R.  In particular I have large
data objects which exceed the 6Mb default heap memory.  Outside of
ESS I can run R by specifying large values of --vsize and --nsize
but I can't figure out how to do this in ESS.

Any help would be much appreciated.

-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Apr 10 17:49:43 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 10 Apr 2000 08:49:43 -0700 (PDT)
Subject: [R] Increasing memory size in ESS
In-Reply-To: <38F1F6F1.591ADC20@discrete.concordia.ca>
Message-ID: <Pine.GSO.4.21.0004100848470.12229-100000@mail.biostat.washington.edu>

On Mon, 10 Apr 2000, Angelo Canty wrote:

> I am having a problem using ESS with R.  In particular I have large
> data objects which exceed the 6Mb default heap memory.  Outside of
> ESS I can run R by specifying large values of --vsize and --nsize
> but I can't figure out how to do this in ESS.

If you invoke R with
	C-u M-x R
you will be prompted for extra command line arguments.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 10 17:55:24 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Apr 2000 17:55:24 +0200
Subject: [R] Increasing memory size in ESS
In-Reply-To: Angelo Canty's message of "Mon, 10 Apr 2000 11:44:49 -0400"
References: <38F1F6F1.591ADC20@discrete.concordia.ca>
Message-ID: <x2ln2mymqb.fsf@blueberry.kubism.ku.dk>

Angelo Canty <canty at discrete.Concordia.CA> writes:

> I am having a problem using ESS with R.  In particular I have large
> data objects which exceed the 6Mb default heap memory.  Outside of
> ESS I can run R by specifying large values of --vsize and --nsize
> but I can't figure out how to do this in ESS.
> 
> Any help would be much appreciated.

C-u M-x R

Next question: what is the simplest way of switching between different
versions of R?

M-x set-variable inferior-R-program-name ~/misc/r-devel/BUILD/bin/R

works, but it is a bit tedious...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwong at mipos2.intel.com  Tue Apr 11 02:00:02 2000
From: mwong at mipos2.intel.com (Marcus J. Wong)
Date: Mon, 10 Apr 2000 17:00:02 -0700 (PDT)
Subject: [R] On Rweb, what platform is supported for web server ?
Message-ID: <200004110000.UAA17029@zws540.sc.intel.com>

Hi,

Can anyone tell me if Rweb requires the web server to be on Unix if
my R is on HP-UX, or can the web server be on NT ?

Thanks,
Marcus...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jiyugu at cc.kmu.edu.tw  Tue Apr 11 03:53:35 2000
From: jiyugu at cc.kmu.edu.tw (Jinn-Yuh Guh)
Date: Tue, 11 Apr 2000 09:53:35 +0800
Subject: [R] How to perform a stepwise selection of the best models for gee?
Message-ID: <002a01bfa358$c2170000$24b30fa3@m710044>

Hi,
How to perform a stepwise selection of the best models for gee?
Why can't step() do this job?
Thanks.

Sincerely Yours,
Jinn-Yuh Guh, M.D.
Dept. of Internal Medicine
Kaohsiung Medical College
100 Shi-Chuan 1st Road
Kaohsiung, Taiwan
FAX: 886-7-312-2810
e-mail: jyuh at mail.nsysu.edu.tw

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000411/687a45df/attachment.html

From Ko-Kang at xtra.co.nz  Tue Apr 11 06:39:24 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 11 Apr 2000 16:39:24 +1200
Subject: [R] How to perform a stepwise selection of the best models for gee?
References: <002a01bfa358$c2170000$24b30fa3@m710044>
Message-ID: <38F2AC7B.9DF2CEC2@xtra.co.nz>

Jinn-Yuh Guh wrote:

> Hi,How to perform a stepwise selection of the best models for gee?Not
> sure what the best models for gee are...
>
> Why can't step() do this job?
> Have you import the stepwise function library?
> Use:
> > library( stepfun )
> to import the library in.
> >library( help = stepfun )
> to view the help file.
>
> Cheers,
>
> Ko-Kang Wang
> University of Auckland
> Auckland
> New Zealand
>
>
>
>
>
>
>
>
>
>
>
>
>  Thanks. Sincerely Yours,
> Jinn-Yuh Guh, M.D.
> Dept. of Internal Medicine
> Kaohsiung Medical College
> 100 Shi-Chuan 1st Road
> Kaohsiung, Taiwan
> FAX: 886-7-312-2810
> e-mail: jyuh at mail.nsysu.edu.tw
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000411/05d1c78b/attachment.html

From erich.neuwirth at univie.ac.at  Tue Apr 11 13:02:19 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Tue, 11 Apr 2000 13:02:19 +0200
Subject: [R] xgobi interface
Message-ID: <38F3063B.2385D789@univie.ac.at>

i just installed the xgobi interrface,
and this is what i get
when i try to run the example
things don't work

> xgobi(laser)
xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb & 
> Neither the file 2 nor 2.dat exists

what am i doing wrong?


p.s.: xgobi is installed and works
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 11 13:31:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Apr 2000 12:31:12 +0100 (BST)
Subject: [R] xgobi interface
In-Reply-To: <38F3063B.2385D789@univie.ac.at>
Message-ID: <Pine.GSO.4.05.10004111226030.5433-100000@auk.stats>

On Tue, 11 Apr 2000, Erich Neuwirth wrote:

> i just installed the xgobi interrface,
> and this is what i get
> when i try to run the example
> things don't work
> 
> > xgobi(laser)
> xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb & 
> > Neither the file 2 nor 2.dat exists
> 
> what am i doing wrong?
> 
> 
> p.s.: xgobi is installed and works

You have too old an interface: xgobi was changed about 6 months ago.
That line should not have `-std mmx -dev 2'.  It looks like Kurt has not
caught up with the Windows xgobi package!   Replace the line

    args <- paste("-std", std, "-dev", dev)

by

    args <- ""

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Apr 11 14:33:40 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 11 Apr 2000 14:33:40 +0200
Subject: [R] xgobi interface
In-Reply-To: <38F3063B.2385D789@univie.ac.at>
Message-ID: <B518E844.26DD%pflugshaupt@geobot.umnw.ethz.ch>

(message from 11.4.2000 13:02 Uhr):

> i just installed the xgobi interrface,
> and this is what i get
> when i try to run the example
> things don't work
> 
>> xgobi(laser)
> xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb &
>> Neither the file 2 nor 2.dat exists
> 
> what am i doing wrong?

Nothing, I guess. The same thing turned up here. It seems that xgobi does
not interpret the "dev" option as it should. A quick fix is to comment out
the respective line in the "xgobi" R interface function (somewhere near the
beginning, forgot the actual line). Disables the "dev" functionality, of
course. But then, xgobi works.

Has anybody else seen this? Any hints?

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 11 14:54:03 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 11 Apr 2000 14:54:03 +0200 (CEST)
Subject: [R] xgobi interface
In-Reply-To: <B518E844.26DD%pflugshaupt@geobot.umnw.ethz.ch>
References: <38F3063B.2385D789@univie.ac.at>
	<B518E844.26DD%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <14579.8299.901865.191258@lynne.ethz.ch>

>>>>> "Kaspar" == Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:

    Kaspar> (message from 11.4.2000 13:02 Uhr):
    >> i just installed the xgobi interrface,
    >> and this is what i get
    >> when i try to run the example
    >> things don't work
    >> 
    >>> xgobi(laser)
    >> xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb &
    >>> Neither the file 2 nor 2.dat exists
    >> 
    >> what am i doing wrong?

    Kaspar> Nothing, I guess. The same thing turned up here. It seems that
    Kaspar> xgobi does not interpret the "dev" option as it should. A quick
    Kaspar> fix is to comment out the respective line in the "xgobi" R
    Kaspar> interface function (somewhere near the beginning, forgot the
    Kaspar> actual line). Disables the "dev" functionality, of course. But
    Kaspar> then, xgobi works.

    Kaspar> Has anybody else seen this? Any hints?

{Prof Brian Ripley has already answered this to some extent}

You are using an outdated version of the R interface for Xgobi.
Please use 
	update.packages(...)
(or another reasonable means)
to get the current version (1.1-8) of xgobi  
{i.e., just the R interface to it} from  CRAN.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 11 15:48:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Apr 2000 14:48:15 +0100 (BST)
Subject: [R] xgobi interface
In-Reply-To: <14579.8299.901865.191258@lynne.ethz.ch>
Message-ID: <Pine.GSO.4.05.10004111446510.8685-100000@auk.stats>

On Tue, 11 Apr 2000, Martin Maechler wrote:

> >>>>> "Kaspar" == Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:
> 
>     Kaspar> (message from 11.4.2000 13:02 Uhr):
>     >> i just installed the xgobi interrface,
>     >> and this is what i get
>     >> when i try to run the example
>     >> things don't work
>     >> 
>     >>> xgobi(laser)
>     >> xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb &
>     >>> Neither the file 2 nor 2.dat exists
>     >> 
>     >> what am i doing wrong?
> 
>     Kaspar> Nothing, I guess. The same thing turned up here. It seems that
>     Kaspar> xgobi does not interpret the "dev" option as it should. A quick
>     Kaspar> fix is to comment out the respective line in the "xgobi" R
>     Kaspar> interface function (somewhere near the beginning, forgot the
>     Kaspar> actual line). Disables the "dev" functionality, of course. But
>     Kaspar> then, xgobi works.
> 
>     Kaspar> Has anybody else seen this? Any hints?
> 
> {Prof Brian Ripley has already answered this to some extent}
> 
> You are using an outdated version of the R interface for Xgobi.
> Please use 
> 	update.packages(...)
> (or another reasonable means)
> to get the current version (1.1-8) of xgobi  
> {i.e., just the R interface to it} from  CRAN.

Sorry, but that one also seems to be wrong (I did look at it before
posting).  The Windows version the R interface was corrected a long time
ago. I have a feeling that this has crept back ito Kurt's version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Tue Apr 11 17:54:41 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Tue, 11 Apr 2000 17:54:41 +0200
Subject: [R] dates in 0.99 and 1.0 windows
Message-ID: <4.3.1.0.20000411174534.00d4ce30@127.0.0.1>

Dear friends. I'm in windows version R1.0.0. The code below produced a very 
beautiful and efficient graph in R Version 0.99.0 Patched (February 9, 
2000) but in the newest, the x-axis is unreadable with dates written 
unformatted. I tried to set the numbers using par(xaxp) or xaxs but to no 
avail. Since it was OK just in the last version I guess there might perhaps 
be something wrong somewhere or should I change the code ?

Thank you for the interesting and efficient program !!!!


month   day     year  dosis  vanco
12      31      1999    1       3.8
1       3       2000    1       2.4
1       7       2000    1       3.4
1       12      2000    2       7.1
1       14      2000    2       5.3
1       17      2000    2       5.7
1       19      2000    3       7.7
1       21      2000    3       8.3
1       24      2000    4       8.7
1       26      2000    4       11.1
1       31      2000    4       12.3
2       7       2000    4.5     12.0
2       14      2000    4.5     14.9
2       18      2000    4.5     23.0
2       25      2000    3       20.1
2       28      2000    2       11.3
3	1	2000	2	13.7
3	8	2000	3	12.8
3	10	2000	3	7.4
3	13	2000	3	9.1
3	15	2000	3	12.2
3	17	2000	3	13.8


data <- read.table("vanco1.dat",h=T)
attach(data)
library(date)
dates <- mdy.date(month,day,year)
plot(dates,vanco,pch=c(19),xlab='',ylab="[Vancomycin]",
main="serum Vanco versus weekly dose")
abline(h=10,lty=2) #lower acceptable concentration
dm <- c(1,1,1,1,2,2,3)
dd <- c(7,17,21,31,23,25,3)
dy <- rep(2000,7)
limits <- mdy.date(dm,dd,dy)
abline(v=limits,lty=8)
#d <- locator(8)
x <- c(14611.37, 14620.95, 14627.94, 14634.44, 14650.85, 14663.85, 
14667.58,14680.15)
mtext(c("1","2","3","4","4.5","3","2","3"),3,at=x)
Troels

look here:
http://www.wired.com/wired/archive/8.04/joy.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 11 18:09:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Apr 2000 18:09:00 +0200
Subject: [R] dates in 0.99 and 1.0 windows
In-Reply-To: Troels Ring's message of "Tue, 11 Apr 2000 17:54:41 +0200"
References: <4.3.1.0.20000411174534.00d4ce30@127.0.0.1>
Message-ID: <x2hfd8r55v.fsf@blueberry.kubism.ku.dk>

Troels Ring <tring at mail1.stofanet.dk> writes:

> Dear friends. I'm in windows version R1.0.0. The code below produced a very 
> beautiful and efficient graph in R Version 0.99.0 Patched (February 9, 
> 2000) but in the newest, the x-axis is unreadable with dates written 
> unformatted. I tried to set the numbers using par(xaxp) or xaxs but to no 
> avail. Since it was OK just in the last version I guess there might perhaps 
> be something wrong somewhere or should I change the code ?
> 
> Thank you for the interesting and efficient program !!!!

Looks OK to me with the current prerelease and newest version of the
date package on Linux. X-axis says

11Jan2000    31Jan2000    20Feb2000    11Mar2000

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 11 18:47:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Apr 2000 17:47:06 +0100 (BST)
Subject: [R] dates in 0.99 and 1.0 windows
In-Reply-To: <x2hfd8r55v.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10004111742330.10353-100000@auk.stats>

On 11 Apr 2000, Peter Dalgaard BSA wrote:

> Troels Ring <tring at mail1.stofanet.dk> writes:
> 
> > Dear friends. I'm in windows version R1.0.0. The code below produced a very 
> > beautiful and efficient graph in R Version 0.99.0 Patched (February 9, 
> > 2000) but in the newest, the x-axis is unreadable with dates written 
> > unformatted. I tried to set the numbers using par(xaxp) or xaxs but to no 
> > avail. Since it was OK just in the last version I guess there might perhaps 
> > be something wrong somewhere or should I change the code ?
> > 
> > Thank you for the interesting and efficient program !!!!
> 
> Looks OK to me with the current prerelease and newest version of the
> date package on Linux. X-axis says
> 
> 11Jan2000    31Jan2000    20Feb2000    11Mar2000

But it is not right in 1.0.0 because of the xaxt="n" not-working bug
that was introduced when someone `tidied up'. It will OK in rw1001
next week (I guess).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 11 19:10:49 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 11 Apr 2000 19:10:49 +0200 (CEST)
Subject: [R] xgobi interface -- patch
In-Reply-To: <14579.8299.901865.191258@lynne.ethz.ch>
References: <38F3063B.2385D789@univie.ac.at>
	<B518E844.26DD%pflugshaupt@geobot.umnw.ethz.ch>
	<14579.8299.901865.191258@lynne.ethz.ch>
Message-ID: <14579.23705.854178.735113@lynne.ethz.ch>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

>>>>> "Kaspar" == Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:
    Kaspar> (message from 11.4.2000 13:02 Uhr):
    >>> i just installed the xgobi interrface,
    >>> and this is what i get
    >>> when i try to run the example
    >>> things don't work
    >>> 
    >>>> xgobi(laser)
    >>> xgobi -title 'laser' -std mmx -dev 2 /tmp/unixR3e07S15fb &
    >>>> Neither the file 2 nor 2.dat exists
    >>> 
    >>> what am i doing wrong?

    Kaspar> Nothing, I guess. The same thing turned up here. It seems that
    Kaspar> xgobi does not interpret the "dev" option as it should. A quick
    Kaspar> fix is to comment out the respective line in the "xgobi" R
    Kaspar> interface function (somewhere near the beginning, forgot the
    Kaspar> actual line). Disables the "dev" functionality, of course. But
    Kaspar> then, xgobi works.

    Kaspar> Has anybody else seen this? Any hints?

    MM> {Prof Brian Ripley has already answered this to some extent}

    MM> You are using an outdated version of the R interface for Xgobi.
    MM> Please use 
    MM> update.packages(...)
    MM> (or another reasonable means)
    MM> to get the current version (1.1-8) of xgobi  
    MM> {i.e., just the R interface to it} from  CRAN.

Sorry, this was wrong.
For some extreme unlucky/unclear reasons, the version 1.1-8 of the xgobi
package on CRAN does not contain the proper line, 
even though I thought it did when I "uploaded" it there.

A new version of the xgobi package -- with at least this bug corrected
should appear on CRAN in the next few days..

Martin

---
You can hand-apply the following patch to  xgobi/R/xgobi.R :

--- wrong-xgobi/R/xgobi.R	Sat Mar 11 23:40:26 2000
+++ xgobi/R/xgobi.R		Mon Mar  6 10:04:04 2000
@@ -10,7 +10,6 @@
 		  title	     = deparse(substitute(matrx)),
 		  vgroups    = NULL,
 		  std	     = "mmx",
-                  dev        = 2,
 		  nlinkable  = NULL,
 		  subset     = NULL,
 		  display    = NULL)
@@ -27,7 +26,7 @@
 		row.names = FALSE, col.names = FALSE)
 
     ## <MM> args <- ""
-    args <- paste("-std", std, "-dev", dev)
+    args <- paste("-std", std) ##, "-dev", dev)
 
     ## Column labels ###
     if (!is.null(collab)) {
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Apr 12 00:06:24 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 12 Apr 2000 10:06:24 +1200
Subject: [R] off-topic help request
Message-ID: <20000412100624.A22127@stat1.stat.auckland.ac.nz>

[Sorry to clutter the list]
I wonder if some kind soul with a decent library and scanner could do a
major favour for me.

I am looking for the design specs for the Ames room (that room with weird
dimensions which you look into through a pinhole).  I am led to believe by
	http://picpal.com/ames.html
That there is a blueprint for this room in the second edition of Zusne
and Jones' book, "Anomalistic Psychology".  Regretably, our library
only has the first edition.

I would be much obliged it someone could scan this for me and let me
have the image.  I want to build a virtual model of this room so that
kiddies in my visualization course can play with it.  Thanks.

-- 
+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Wed Apr 12 04:36:49 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Tue, 11 Apr 2000 21:36:49 -0500
Subject: [R] lm Help!!!
References: <200004100546.HAA14716@aragorn.ci.tuwien.ac.at> <38F1C5AF.1D26442B@univie.ac.at>
Message-ID: <38F3E141.A195ADCE@epm.net.co>

Hi, everybody!!

How can I calculate the Type III ss, as defined by SAS, for a linear regresion?

How can you use apply with a function that have several parameters like "plot"?

Thank you very much.

Kenneth Cabrera
Unviersidad Nacional de Colombia





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jennie17 at zdnetonebox.com  Wed Apr 12 01:50:36 2000
From: jennie17 at zdnetonebox.com (jennie17@zdnetonebox.com)
Date: Wed, 12 Apr 2000 01:50:36
Subject: [R] Expose your business to the Internet
Message-ID: <14upkq4mpervumz.120420000150@localhost>

PUT EMAIL MARKETING TO WORK FOR YOU...

Call NOW and receive 50,000
additional emails with your order
for only $100. Thats 40,000 FREE emails!!!

CALL NOW-702-248-1043

WE HAVE OPT-IN LISTS!!!!

see below for removal.

Special Ends Friday April 14, 2000

MLM'ers, We can build your downline.

Imagine having a product or idea and selling it
for only $10.

Now imagine sending an ad for your product or idea
to 25 million people!

If you only get a 1/10 of 1% response
you have just made $250,000!!

You hear about people getting rich off
the Internet everyday on TV,
now is the perfect time for you
to jump in on all the action.

FACT.
With the introduction of the Internet, one primary
KEY to conducting your business successfully is
creating massive exposure in a cost effective
manner.

FACT.
The experts agree that email marketing is one of
the most cost effective forms of promotion in
existence today.

Electronic mail has overtaken the telephone as the
primary means of business communication.(American
Management Association)

Of online users 41 percent check their email daily.

"A gold mine for those who can take advantage of
bulk email programs"- The New York Times

"Email is an incredible lead generation tool"
-Crains Magazine

"Blows away traditional Mailing"-Advertising Age

"It's truly arrived. Email is the killer app so
far in the online world"-Kate Delhagen, Forrester
Research Analyst

Why not let a professional company handle your
direct email marketing efforts for you?

*We will assist you in developing your entire
campaign!

*We can even create your ad or annoucement for
you!

*No responses? We resend at no cost!

For More Information CALL NOW-702-248-1043


For removal see below.

SPECIAL RATES
SPECIAL ENDS Friday April 14, 2000

Targeted Rates Upon Request.


Call NOW and receive 50,000
additional emails with your order
for only $100. Thats 40,000 FREE emails!!!

Call NOW - 702-248-1043








++++++++++++++++++++++++++++++++++++++++++++++++++
We are terribly sorry if you received this message
in error.
If you wish to be removed. Please, type "REMOVE"
in the subject line:   lisa30 at zxmail.com

++++++++++++++++++++++++++++++++++++++++++++++++++

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Wed Apr 12 09:42:28 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Wed, 12 Apr 2000 17:42:28 +1000
Subject: [R] lm Help!!
In-Reply-To: Your message of "Tue, 11 Apr 2000 21:36:49 EST."
             <38F3E141.A195ADCE@epm.net.co>
Message-ID: <200004120742.RAA23407@snowy.nsw.cmis.CSIRO.AU>

Kenneth Cabrera risks all by innocently asking:

> How can I calculate the Type III ss, as defined by SAS,
> for a linear regresion?

SAS?  What's that?

More seriously, I resent the implication that SAS sets the de
facto standard for statistical analysis right down to the
terminology.  It's the MicroSoft strategy, precisely.

More helpfully (I suppose) you can fit any linear model using
regression methods.  You can get the explicit model matrix using
the model.matrix() function.  Once you have the model matrix you
can omit any section of it that you wish in a new regression.  If
you understand what "Type III sums of squares" are (other than as
"those things that SAS gives you") this is all you need to know
to calculate them, should you wish to go through with it...

As you will see, you can check the result using

fm <- lm(y ~ .....)
drop1(fm, . ~ .)

but that's an even longer story.

Warning: with factors, use Helmert, sum or poly contrasts, NOT
treatment.

> How can you use apply with a function that have several
> parameters like "plot"?
>

Additional arguments to the function used with apply() may be
supplied as additional (named) arguments to apply() itself.


> Thank you very much.
>
> Kenneth Cabrera
> Unviersidad Nacional de Colombia

--
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au

Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 12 10:02:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Apr 2000 09:02:15 +0100 (BST)
Subject: [R] lm Help!!
In-Reply-To: <38F3E141.A195ADCE@epm.net.co>
Message-ID: <Pine.GSO.4.05.10004120854580.24858-100000@auk.stats>

On Tue, 11 Apr 2000, Kenneth Cabrera wrote:

> Hi, everybody!!
>
> How can I calculate the Type III ss, as defined by SAS, for a linear regresion?

With considerable difficulty, deliberately so.  Type III ss ignore the
hierarchy of the terms that all the S/R formula calculations insist on.
S-PLUS has a way to do this, but it is much berated. S has a bug in drop1
that can be used to fake type III ss's, but R has not copied that bug.

The only way I know to do this in R is to pick apart model matrices and fit
sub-models for each line.  But then as (a) I think it is statistical
nonsense and (b) I know how to do in S-PLUS, I have not tried to do it in
R!

> How can you use apply with a function that have several parameters like "plot"?

You can pass additional argument in ..., as in the example (cave) on the
help page.  If you want to vary more than one argument, write a wrapper
function (which you can always do) and use that in the call to apply.

If that is not clear enough, please give us an explicit example of what you
are want to do.


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 12 11:23:09 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Apr 2000 11:23:09 +0200
Subject: [R] lm Help!!
In-Reply-To: Kenneth Cabrera's message of "Tue, 11 Apr 2000 21:36:49 -0500"
References: <200004100546.HAA14716@aragorn.ci.tuwien.ac.at> <38F1C5AF.1D26442B@univie.ac.at> <38F3E141.A195ADCE@epm.net.co>
Message-ID: <x21z4b4qrm.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> Hi, everybody!!
>
> How can I calculate the Type III ss, as defined by SAS, for a linear regresion?

Like this:

> drop1(lm1, test="F")
Single term deletions

Model:
Fertility ~ Agriculture + Examination + Education + Catholic +
    Infant.Mortality
                 Df Sum of Sq    RSS    AIC F value     Pr(F)
<none>                        2105.0  190.7
Agriculture       1     307.7 2412.8  195.1  5.9934  0.018727 *
Examination       1      53.0 2158.1  189.9  1.0328  0.315462
Education         1    1162.6 3267.6  209.4 22.6432 2.431e-05 ***
Catholic          1     447.7 2552.8  197.8  8.7200  0.005190 **
Infant.Mortality  1     408.8 2513.8  197.0  7.9612  0.007336 **
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1


>
> How can you use apply with a function that have several parameters like "plot"?

Depends on what you want to do. There's nothing wrong with

ma<-matrix(c(1, 2, 3, 4, 1, 6, 7, 8),nrow=2)
par(mfrow=c(2,1))
apply(ma,1,plot)

if you want to add fixed arguments, just plug them in as
...-arguments:

apply(ma,1,plot,x=4:1,type='b')

Sometimes things get too sticky and you have to define a function of 1
arg:

apply(ma,1,function(y) plot(4:1,y,type='b'))

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 12 11:52:53 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Apr 2000 11:52:53 +0200
Subject: [R] lm Help!!
In-Reply-To: Bill Venables's message of "Wed, 12 Apr 2000 17:42:28 +1000"
References: <200004120742.RAA23407@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <x2vh1n3atm.fsf@blueberry.kubism.ku.dk>

Bill Venables <venables at acland.qld.cmis.csiro.au> writes:

> As you will see, you can check the result using
> 
> fm <- lm(y ~ .....)
> drop1(fm, . ~ .)
> 
> but that's an even longer story.
> 
> Warning: with factors, use Helmert, sum or poly contrasts, NOT
> treatment.

*cough*! Why? I get exactly the same results from drop1 whether I use
treatment or Helmert contrasts, as far as I can see.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 12 12:20:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Apr 2000 11:20:03 +0100 (BST)
Subject: [R] lm Help!!
Message-ID: <200004121020.LAA05939@toucan.stats.ox.ac.uk>


> To: Kenneth Cabrera <krcabrer at epm.net.co>
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 12 Apr 2000 11:23:09 +0200
> 
> Kenneth Cabrera <krcabrer at epm.net.co> writes:
> 
> > Hi, everybody!!
> >
> > How can I calculate the Type III ss, as defined by SAS, for a linear 
regresion?
> 
> Like this:
> 
> > drop1(lm1, test="F")
> Single term deletions

My belief is that does not work with models with interactions, which is
where the Type III notation comes into its own (mess).

> options(contrasts=c("contr.helmert", "contr.poly"))
> example(warpbreaks)
> drop1(fm1)
Single term deletions

Model:
breaks ~ wool + tension + wool:tension
             Df Sum of Sq    RSS    AIC
<none>                    5745.1  264.0
wool:tension  2    1002.8 6747.9  268.7

> drop1(fm1, . ~ .) # as suggested by Bill Venables
Single term deletions

Model:
breaks ~ wool + tension + wool:tension
             Df Sum of Sq    RSS    AIC
<none>                    5745.1  264.0
wool          1     450.7 6195.8  266.1
tension       2    2034.3 7779.4  276.4
wool:tension  2    1002.8 6747.9  268.7

looks as if it does work in R (we know it works in S-PLUS, as Bill found
out when trying to do the opposite).  However, watch out as

> drop1.default(fm1, . ~ .)
Single term deletions

Model:
breaks ~ wool + tension + wool:tension
             Df    AIC
<none>          264.02
wool          0 264.02
tension       0 264.02
wool:tension  2 268.71

does respect the hierarchy, and is probably what drop1.lm should have
given.  (Looks like I did copy one of the S errors, probably deliberately, when 
I wrote drop1.*.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwu at fcu.edu.tw  Wed Apr 12 14:31:21 2000
From: cwu at fcu.edu.tw (Chi-tsung Wu)
Date: Wed, 12 Apr 2000 20:31:21 +0800
Subject: [R] sun unix version
Message-ID: <38F46C99.600986E2@fcu.edu.tw>

Hi there,

Did R get version for SUN station?

Thanks.

CT

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Apr 12 15:50:11 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 12 Apr 2000 15:50:11 +0200 (MEST)
Subject: [R] Problems with SuSE 6.4
Message-ID: <XFMail.000412155011.theis@statistik.uni-dortmund.de>

Hello!

A friend of mine tried to install R 1.0.0 on a Linux SuSE 6.4 with new
compilers and new X. First the X-libs could not be found. Using the apropriate
flags to change the paths for X-libs for configure (deleting first
configure.cache) did not solve the problem. So he copied the libs
to the expected /usr/X11/lib/ resp. include (because linking was not possible)
it compiled fine up to the following error:

system.c line 106 Invalid asm statement
invalid register 2 GREC

Than he changed the xlib-PATH and X-include to the new paths in SuSE 6.4 in the
Makefile, thereafter linking R.X11 failed with a lot of unresolved references.

My friend finally stopped frustrated to install SuSE 6.4 and went back to SuSE
6.3 where he had no problems to install R. So this looks rather like a problem
concerning SuSE than concerning R. But my friend will send an apropriate mail to
SuSE as well.

Any suggestions or comments? 

So long,

W.Theis

PS: I was just told, that there is no problem installing the rpm for SuSE 6.2/3
on 6.4. But it would be nice to know that compilation is possible as well! ;-)
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 04-Apr-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------

--------------End of forwarded message-------------------------

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 12-Apr-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Wed Apr 12 16:16:26 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 12 Apr 2000 15:16:26 +0100
Subject: [R] Matrix indexing question
Message-ID: <dgkbt3fmmkl.fsf@scs2.ncl.ac.uk>


I apologise if this type of question has been answered before, however
how do I count the number of TRUE's in the upper half (non-symmetric)
matrix of logicals.

Thank you

Ross Darnell
University of Newcastle
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 12 16:35:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Apr 2000 16:35:27 +0200
Subject: [R] Matrix indexing question
In-Reply-To: r.e.darnell@ncl.ac.uk's message of "12 Apr 2000 15:16:26 +0100"
References: <dgkbt3fmmkl.fsf@scs2.ncl.ac.uk>
Message-ID: <x27le32xqo.fsf@blueberry.kubism.ku.dk>

r.e.darnell at ncl.ac.uk (R.E. Darnell) writes:

> I apologise if this type of question has been answered before, however
> how do I count the number of TRUE's in the upper half (non-symmetric)
> matrix of logicals.

Perhaps something like

sum(x & upper.tri(x))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Wed Apr 12 17:36:56 2000
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Wed, 12 Apr 2000 17:36:56 +0200 (CEST)
Subject: [R] eigen bug?
Message-ID: <Pine.LNX.3.96.1000412173336.9124F-100000@TILL.math.uni-hamburg.de>

Sorry if this bug is fixed in the meantime, but what is this??

> m
     [,1] [,2] [,3]
[1,]    1    2    1
[2,]    0    2    0
[3,]    1    2    1
> eigen(m)
$values
[1] 2 2 0

$vectors
              [,1]      [,2]       [,3]
[1,] -4.194304e+06 0.7071068 -0.7071068
[2,] -4.656613e-10 0.0000000  0.0000000
[3,] -4.194304e+06 0.7071068  0.7071068

> eigen(m, symmetric=T)
$values
[1]  3.709275  1.193937 -0.903212

$vectors
          [,1]       [,2]       [,3]
[1,] 0.2331920  0.8876503 -0.3971125
[2,] 0.7392387 -0.4271323 -0.5206574
[3,] 0.6317813  0.1721479  0.7557893

As far as I can see, m is symmetric. Why do these two  not coincide?
(The first is correct.)

Best regards,
Christian

***

Christian Hennig
Fachbereich Mathematik
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 12 17:48:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Apr 2000 17:48:35 +0200
Subject: [R] eigen bug?
In-Reply-To: Christian Hennig's message of "Wed, 12 Apr 2000 17:36:56 +0200 (CEST)"
References: <Pine.LNX.3.96.1000412173336.9124F-100000@TILL.math.uni-hamburg.de>
Message-ID: <x24s972ucs.fsf@blueberry.kubism.ku.dk>

Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

> > m
>      [,1] [,2] [,3]
> [1,]    1    2    1
> [2,]    0    2    0
> [3,]    1    2    1
..
> As far as I can see, m is symmetric.

Look closer... 

(and try calculating   m - t(m)  if you still cannot see)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed Apr 12 18:10:04 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 12 Apr 2000 18:10:04 +0200
Subject: [R] Problems with SuSE 6.4
In-Reply-To: <XFMail.000412155011.theis@statistik.uni-dortmund.de>
References: <XFMail.000412155011.theis@statistik.uni-dortmund.de>
Message-ID: <v04220800b51a4da294a9@[134.76.136.114]>

Under SuSE 6.4 everything just went the same as under 6.3 when 
installing from sources. Only after updating Perl to 5.6 the 
helpfiles weren't built any more. But SuSE 6.4 seems to have some 
problems in it's install scripts that result in some symbolic links 
not being set appropriately (you get an error message in yast after 
installation). I couldn't compile mysql anymore at first, only after 
reinstalling Linux or setting the links manually in another case.

--Ragnar Beer

>Hello!
>
>A friend of mine tried to install R 1.0.0 on a Linux SuSE 6.4 with new
>compilers and new X. First the X-libs could not be found. Using the apropriate
>flags to change the paths for X-libs for configure (deleting first
>configure.cache) did not solve the problem. So he copied the libs
>to the expected /usr/X11/lib/ resp. include (because linking was not possible)
>it compiled fine up to the following error:
>
>system.c line 106 Invalid asm statement
>invalid register 2 GREC
>
>Than he changed the xlib-PATH and X-include to the new paths in SuSE 
>6.4 in the
>Makefile, thereafter linking R.X11 failed with a lot of unresolved references.
>
>My friend finally stopped frustrated to install SuSE 6.4 and went back to SuSE
>6.3 where he had no problems to install R. So this looks rather like a problem
>concerning SuSE than concerning R. But my friend will send an 
>apropriate mail to
>SuSE as well.
>
>Any suggestions or comments?
>
>So long,
>
>W.Theis
>
>PS: I was just told, that there is no problem installing the rpm for 
>SuSE 6.2/3
>on 6.4. But it would be nice to know that compilation is possible as well! ;-)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From caeyme at tin.it  Wed Apr 12 15:45:59 2000
From: caeyme at tin.it (Alberto Meroni)
Date: Wed, 12 Apr 2000 15:45:59 +0200
Subject: [R] descriptive statistics with R
Message-ID: <20000412154559.A12419@Mandrake>

Sorry to disturb you, I should say that I do not have a deep
knowledge of R or statics, but I have the following problem I
think I could solve in R.
I have a dataset that I can create with read.table which contains
several columns, the first two are strings and the following integer
numbers between 0 and 10 (yes they are marks) and I would like to do
the following two things
1) grouping the numeric data accourding to the value of the second
column and calculating the frequency of occurrence of each mark
in the group (the second variable is a class name and I would like to say 
10% of people of class IDONOTKNOW got 5 point for column 3 and the same for all
other columns, of the order of ten numeric column) and
2) Building an occurency table for each class like the one given by table
but with frequency replacing counts.
Can someone help me ?
I read the manuals but .....
Thank you very much
			Alberto Meroni
			caeyme at tin.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Apr 13 11:01:24 2000
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 13 Apr 2000 11:01:24 +0200 (CEST)
Subject: [R] eigen bug?
In-Reply-To: <x24s972ucs.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.96.1000413105819.14216B-100000@TILL.math.uni-hamburg.de>

Yesterday was not my day. Sorry.

> > As far as I can see, m is symmetric.
> 
> Look closer... 
> 

This helped. Thank you.

***

Christian Hennig
Fachbereich Mathematik
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Apr 13 12:24:28 2000
From: gb at stat.umu.se (GB)
Date: Thu, 13 Apr 2000 12:24:28 +0200 (CEST)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <Pine.LNX.3.96.1000413105819.14216B-100000@TILL.math.uni-hamburg.de>
Message-ID: <Pine.LNX.4.21.0004131205010.16561-100000@pc16.stat.umu.se>


I have some doubts about the implementation of the operators  '&&'  and
'||'. I only discuss  '&&'  here. The reason: One of my students tried
(slightly simplified here)

> x <- c(0.5, 1.2, -0.8, 0.7)
> y <- x[(x > 0) && (x < 1)]
> y
[1]  0.5  1.2 -0.8  0.7

This was not his intention. He wanted

> y <- x[(x > 0) & (x < 1)]
> y
[1]  0.5  0.7

I suggested that his first attempt should render a "syntax error", since
'&&'  only applies to scalar logicals. However, upon reading 
the documentation, I found that 'a && b' is in fact equivalent to 
'a[1] & b[1]' (with one exception).

Therefore, '&&' seems to be of little use in  R  programming. You can
almost always use  '&'  instead (This is in sharp contrast to the use of
&  and  &&  in the  C  programming language). I can only see one
advantage (admittedly important, though) with  '&&'. In

if (is.numeric(x) && min(x) > 0) ..... (Found in MASS3, p. 94)

you avoid  'min(x)' to be evaluated if  x  is non-numeric. This doesn't
work with  '&', because then both expressions are evaluated before the
comparison.

Provided there are no other differences, I suggest that either

a) '&&'  is made obsolete, and  '&'  is 'improved' so that  b  in
   'a & b' is evaluated only if some component of  a  is TRUE, or

b) a warning (or syntax error) is given if  '&&'  is used with at least
   one non-scalar argument.

Any objections? 

G?ran
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Apr 13 12:23:36 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 13 Apr 2000 22:23:36 +1200
Subject: [R]: Experimental Design
Message-ID: <38F5A027.B4B1E8C9@xtra.co.nz>

Hi to all R lovers,

I am thinking of investigating and perhaps improve the anova "aov"
function in R.  However before I do so I just like to see if anyone
knows whether R is capable of multiple comparison tests (eg "Standard
Difference of the Means, SED", "Fisher's Least Significant Difference"
...etc)?  If it is, how can I do it?

Thanks.


Ko-Kang Wang
Undergraduate Statistics Student
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 13 13:07:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 13 Apr 2000 12:07:18 +0100 (BST)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <Pine.LNX.4.21.0004131205010.16561-100000@pc16.stat.umu.se>
Message-ID: <Pine.GSO.4.05.10004131203210.3437-100000@auk.stats>

On Thu, 13 Apr 2000, GB wrote:

> 
> I have some doubts about the implementation of the operators  '&&'  and
> '||'. I only discuss  '&&'  here. The reason: One of my students tried
> (slightly simplified here)
> 
> > x <- c(0.5, 1.2, -0.8, 0.7)
> > y <- x[(x > 0) && (x < 1)]
> > y
> [1]  0.5  1.2 -0.8  0.7

Where did he get the idea of using && from?  Only C programmers are likely
to think of it, and it will do what they expect.

> This was not his intention. He wanted
> 
> > y <- x[(x > 0) & (x < 1)]
> > y
> [1]  0.5  0.7
> 
> I suggested that his first attempt should render a "syntax error", since
> '&&'  only applies to scalar logicals. However, upon reading 

More precisely, it takes the first element of a vector (R has no scalars)
and coerces it to logical.

> the documentation, I found that 'a && b' is in fact equivalent to 
> 'a[1] & b[1]' (with one exception).
> 
> Therefore, '&&' seems to be of little use in  R  programming. You can
> almost always use  '&'  instead (This is in sharp contrast to the use of
> &  and  &&  in the  C  programming language). I can only see one
> advantage (admittedly important, though) with  '&&'. In
> 
> if (is.numeric(x) && min(x) > 0) ..... (Found in MASS3, p. 94)
> 
> you avoid  'min(x)' to be evaluated if  x  is non-numeric. This doesn't
> work with  '&', because then both expressions are evaluated before the
> comparison.

That is used a lot in base R.

> Provided there are no other differences, I suggest that either
> 
> a) '&&'  is made obsolete, and  '&'  is 'improved' so that  b  in
>    'a & b' is evaluated only if some component of  a  is TRUE, or

That would break S compatibility and a lot of correctly written code
(including in R itself).

> b) a warning (or syntax error) is given if  '&&'  is used with at least
>    one non-scalar argument.

That might be worthwhile.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 13 13:12:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 13 Apr 2000 12:12:43 +0100 (BST)
Subject: [R]: Experimental Design
In-Reply-To: <38F5A027.B4B1E8C9@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10004131207480.3437-100000@auk.stats>

On Thu, 13 Apr 2000, Ko-Kang Wang wrote:

> Hi to all R lovers,
> 
> I am thinking of investigating and perhaps improve the anova "aov"
> function in R.  However before I do so I just like to see if anyone
> knows whether R is capable of multiple comparison tests (eg "Standard
> Difference of the Means, SED", "Fisher's Least Significant Difference"
> ...etc)?  If it is, how can I do it?

Look in NEWS

    o   Some simple multiple comparison procedures: p.adjust() for
        generic adjustment of a set of p values by variants of the
        Bonferroni method; pairwise.t.test, pairwise.wilcox.test,
        pairwise.prop.test for pairwise comparisons of grouped data
        and proportions.

so R has some.  S-PLUS has multicomp, and people do ask for it here.

However, what is the connection with the aov() function?  That calculates
sums of squares in multistratum experimental designs.  You seem to be
wanting different ways to process an object of class aov, not to improve
aov().  Be aware that aov() was written to be compatible with S-PLUS, and
we will want to keep that compatibility.  But with those caveats, please do
contribute code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Thu Apr 13 13:19:11 2000
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Thu, 13 Apr 2000 13:19:11 +0200
Subject: [R] random and group arguments in lme
Message-ID: <000101bfa53a$19437240$0c27589d@estio12.est.cie.uva.es>

I want to fit the following model:

> aov.madera <- aov(tiempo~producto/panel, data = madera)
> anova(aov.madera)
Analysis of Variance Table

Response: tiempo
               Df Sum Sq Mean Sq F value    Pr(>F)    
producto        2 93.631  46.815 63.0511 4.304e-07 ***
producto:panel  9 43.533   4.837  6.5144  0.001881 ** 
Residuals      12  8.910   0.742                      
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

As panel is random I would need
["producto", "Mean Sq"]/["producto:panel", "Mean Sq"] in the cell
["producto", "F value"]
and its p-value, that is

> 46.815/4.837
[1] 9.67852
> 2*pf(46.815/4.837, 2, 9, lower.tail=FALSE)
[1] 0.01143266

How can I fit this model with lme function (of nlme)? What arguments have I
to put in the random and group arguments?

Where can I find references about the nlme library? a tutorial?

Thaks in advance,

Eusebio


       _\|/_      
       (o o)                                         
*---oOO-(_)-OOo-----------------------------------,,,-------*
*                      use at eio.uva.es            (o o)      *
*---------------------------------------------oOO-(_)-OOo---*


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 13 14:13:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 2000 14:13:57 +0200
Subject: [R] random and group arguments in lme
In-Reply-To: "Eusebio Arenal Guti?rrez"'s message of "Thu, 13 Apr 2000 13:19:11 +0200"
References: <000101bfa53a$19437240$0c27589d@estio12.est.cie.uva.es>
Message-ID: <x2g0sqci62.fsf@blueberry.kubism.ku.dk>

"Eusebio Arenal Guti?rrez" <use at eio.uva.es> writes:

> I want to fit the following model:
> 
> > aov.madera <- aov(tiempo~producto/panel, data = madera)
> > anova(aov.madera)
> Analysis of Variance Table
> 
> Response: tiempo
>                Df Sum Sq Mean Sq F value    Pr(>F)    
> producto        2 93.631  46.815 63.0511 4.304e-07 ***
> producto:panel  9 43.533   4.837  6.5144  0.001881 ** 
> Residuals      12  8.910   0.742                      
> ---
> Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 
> 
> As panel is random I would need
> ["producto", "Mean Sq"]/["producto:panel", "Mean Sq"] in the cell
> ["producto", "F value"]
> and its p-value, that is
> 
> > 46.815/4.837
> [1] 9.67852
> > 2*pf(46.815/4.837, 2, 9, lower.tail=FALSE)
> [1] 0.01143266
> 
> How can I fit this model with lme function (of nlme)? What arguments have I
> to put in the random and group arguments?

Assuming that this is a 3x4x2 factorial layout, it would be easier to
use

summary(aov(tiempo~producto+Error(producto:panel), data = madera))

cf.

> pr<-gl(3,1,24)
> pa<-gl(4,3,24)
> y<-rnorm(24)
> summary(aov(y~pr+Error(pr:pa)))

Error: pr:pa
          Df Sum Sq Mean Sq F value  Pr(>F)  
pr         2 6.5870  3.2935  3.2109 0.08861 .
Residuals  9 9.2316  1.0257                  
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

Error: Within
          Df  Sum Sq Mean Sq F value Pr(>F)
Residuals 12 16.6469  1.3872               


With lme() it seems to be tricky to do the pa:pr interaction
as a groping, but you might do

> pa<-gl(12,1,24)
> lme(y~pr,random=~1|pa)
Linear mixed-effects model fit by REML
  Data: NULL 
  Log-restricted-likelihood: -35.11024
  Fixed: y ~ pr 
(Intercept)         pr2         pr3 
  0.5753093  -0.3784748  -1.2511397 

Random effects:
 Formula: ~1 | pa
         (Intercept) Residual
StdDev: 1.669157e-53 1.110096

Number of Observations: 24
Number of Groups: 12 
> anova(lme(y~pr,random=~1|pa))
            numDF denDF   F-value p-value
(Intercept)     1    12 0.0200734  0.8897
pr              2     9 2.6726312  0.1227

Notice that this is not the same as the balanced analysis, since the
pa random effect would have a negative variance in this case.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Thu Apr 13 14:16:52 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Thu, 13 Apr 2000 22:16:52 +1000
Subject: [R] Can we get rid of  &&  and  ||?
Message-ID: <3.0.32.20000413221650.0124f950@pophost.nsw.cmis.csiro.au>

At 12:24 PM 13/4/2000 +0200, GB wrote:
>
>I have some doubts about the implementation of the operators  '&&'  and
>'||'. I only discuss  '&&'  here. The reason: One of my students tried
>(slightly simplified here)
>
>> x <- c(0.5, 1.2, -0.8, 0.7)
>> y <- x[(x > 0) && (x < 1)]
>> y
>[1]  0.5  1.2 -0.8  0.7

Notice that (x > 0) && (x < 1) is a scalar logical (here TRUE).  The vector is
reproduced because of the recycling rule.

>
>This was not his intention. He wanted
>
>> y <- x[(x > 0) & (x < 1)]
>> y
>[1]  0.5  0.7

..my guess is he learned something pretty thoroughly, then!

>
>I suggested that his first attempt should render a "syntax error", since
>'&&'  only applies to scalar logicals. However, upon reading 
>the documentation, I found that 'a && b' is in fact equivalent to 
>'a[1] & b[1]' (with one exception).
>
>Therefore, '&&' seems to be of little use in  R  programming. You can
>almost always use  '&'  instead (This is in sharp contrast to the use of
>&  and  &&  in the  C  programming language). I can only see one
>advantage (admittedly important, though) with  '&&'. In
>
>if (is.numeric(x) && min(x) > 0) ..... (Found in MASS3, p. 94)
>
>you avoid  'min(x)' to be evaluated if  x  is non-numeric. This doesn't
>work with  '&', because then both expressions are evaluated before the
>comparison.

This looks like a "go with the flow" argument: if the user expects something
to work that way, make it do so.  I have to disagree, very strongly.

>
>Provided there are no other differences, I suggest that either
>
>a) '&&'  is made obsolete, and  '&'  is 'improved' so that  b  in
>   'a & b' is evaluated only if some component of  a  is TRUE, or

I think you miss the point quite seriously.   Under the present semantics
in 'a & b' *both* a and b are *guaranteed* unconditionally to be evaluated,
and in a lazy evaluation language, especially, that unconditional evaluation
can be vital.   With 'a && b' (a) the result is guaranteed to be scalar and
(b) b is only *conditionally* evaluated (as you know, of course, but I must
emphasize it nevertheless).  

Viewed in this light 'a & b' and 'a && b' are both syntactically and 
semantically quite different.  Programmers should get to realise that, 
after which you start to read code with a better understanding of the
implications.  If you blurred the distinction  between & and && you would 
make code less readible (to the informed reader, at least) and make the 
interpreter more complex for no good purpose.

>
>b) a warning (or syntax error) is given if  '&&'  is used with at least
>   one non-scalar argument.

Well it cannot be a syntax error since the properties of the arguments,
a and b, are unknown at parse time (and may be different on different
evalutations).

A warning would be useful, though, and in line with what happens "elsewhere".

>
>Any objections? 

Yep, plenty.

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Apr 13 14:21:14 2000
From: gb at stat.umu.se (GB)
Date: Thu, 13 Apr 2000 14:21:14 +0200 (CEST)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <Pine.GSO.4.05.10004131203210.3437-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0004131404350.16679-100000@pc16.stat.umu.se>

Brian,

thanks for your comments. I have only one question/remark:

[snip]
> > Provided there are no other differences, I suggest that either
> > 
> > a) '&&'  is made obsolete, and  '&'  is 'improved' so that  b  in
> >    'a & b' is evaluated only if some component of  a  is TRUE, or
> 
> That would break S compatibility and a lot of correctly written code
> (including in R itself).

I meant keeping  '&&'  for precisely that reason, but changing  '&'  as
indicated, so that new code never had to consider '&&'. So, I made two
assumptions here: (i) Old code (or S code) will not be disturbed by the
'improvement' of  '&'; (ii) New code can always use '&' instead of '&&'.

Of course, if either assumption is wrong, the idea is not so good.

G?ran
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 13 14:38:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Apr 2000 13:38:09 +0100 (BST)
Subject: [R] Can we get rid of  &&  and  ||?
Message-ID: <200004131238.NAA28639@toucan.stats.ox.ac.uk>

> Date: Thu, 13 Apr 2000 14:21:14 +0200 (CEST)
> From: GB <gb at stat.umu.se>
> 
> Brian,
> 
> thanks for your comments. I have only one question/remark:
> 
> [snip]
> > > Provided there are no other differences, I suggest that either
> > > 
> > > a) '&&'  is made obsolete, and  '&'  is 'improved' so that  b  in
> > >    'a & b' is evaluated only if some component of  a  is TRUE, or
> > 
> > That would break S compatibility and a lot of correctly written code
> > (including in R itself).
> 
> I meant keeping  '&&'  for precisely that reason, but changing  '&'  as

Ah, that's not what I understood by `made obselete'. 
(`obsolete' = `disused', `discarded', ..., Concise Oxford Dictionary.)

> indicated, so that new code never had to consider '&&'. So, I made two
> assumptions here: (i) Old code (or S code) will not be disturbed by the
> 'improvement' of  '&'; (ii) New code can always use '&' instead of '&&'.
> 

Strictly (i) is false. Suppose I wrote

changed <- x[(n1 <- new(some)) | (n2 <- new(someother))]

Obscure, but legal S code. If n1 is all true, n2 would not be created,

> Of course, if either assumption is wrong, the idea is not so good.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Apr 13 14:43:13 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 13 Apr 2000 14:43:13 +0200
Subject: [R] how convert an array to a matrix?
Message-ID: <38F5C0E1.BFD1AB5A@psy.uni-muenchen.de>

Dear R-list,

is it possible to convert a threedimensional array to a matrix? The
array has the form

, , -4

      -4 -3   -2 -1    0  1    2  3    4
-80 1588 NA 1171 NA 1121 NA  852 NA 1580
0   1497 NA 1311 NA  762 NA 1185 NA 1466
80  1960 NA 1257 NA  941 NA 1435 NA 1636

[...]

I need a matrix like

-80 -4 -4 1588
-80 -3 -4 NA
-80 -2 -4 1171
etc.


I?ve tried write.table() with no succes:

Error in as.data.frame.default(x[[i]], optional = TRUE) : 
	can't coerce array into a data.frame

Thanks,

Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Thu Apr 13 14:12:12 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Thu, 13 Apr 2000 09:12:12 -0300 (ADT)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <Pine.GSO.4.05.10004131203210.3437-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0004130907170.4565-100000@Intrusion.Phys.Ocean.Dal.Ca>

> > I have some doubts about the implementation of the operators  '&&'  and
> > '||'. I only discuss  '&&'  here. The reason: One of my students tried

One thing I like about Perl is that it defines 'and' and (rhyming
here, can't help it) 'or' as well as the operators that C programmers
expect.

I've known many folks who were confused with & and && in C, but C
needs both bitwise and logical operators, so we're stuck.

Speaking of stuck, R is stuck too, since it strives to be like S.  A
way to improve things might be to provide warnings of things that are
legal but that might indicate errors of programming.  Perl does this
quite effectively, which is worth mentioning since it too is caught in
the bind of sticking with poor choices made in the adolescent stage of
growth.

-- 
Dan E. Kelley                                         phone:(902)494-1694
Oceanography Department, Dalhousie University           fax:(902)494-2885
Halifax, Nova Scotia                             mailto:Dan.Kelley at Dal.CA 
Canada B3H 4J1       http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 13 15:24:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 2000 15:24:35 +0200
Subject: [R] how convert an array to a matrix?
In-Reply-To: Sven Garbade's message of "Thu, 13 Apr 2000 14:43:13 +0200"
References: <38F5C0E1.BFD1AB5A@psy.uni-muenchen.de>
Message-ID: <x2d7nucewc.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Dear R-list,
> 
> is it possible to convert a threedimensional array to a matrix? The
> array has the form
> 
> , , -4
> 
>       -4 -3   -2 -1    0  1    2  3    4
> -80 1588 NA 1171 NA 1121 NA  852 NA 1580
> 0   1497 NA 1311 NA  762 NA 1185 NA 1466
> 80  1960 NA 1257 NA  941 NA 1435 NA 1636
> 
> [...]
> 
> I need a matrix like
> 
> -80 -4 -4 1588
> -80 -3 -4 NA
> -80 -2 -4 1171
> etc.
> 
> 
> I?ve tried write.table() with no succes:


The way to do it would be something like

cbind(as.vector(slice(x,1)),
	as.vector(slice(x,2)),
	as.vector(slice(x,3)),
	as.vector(x))

where slice is the generalised row()/col()/... function which we
haven't got in R (yet):

slice<-function(x,i) sweep(x, i, 1:dim(x)[i], function(x,y) y )

Hmm...that's not quite right. You want the dimnames in there instead
of 1:dim(x)[i], but you get the general idea.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Apr 13 15:58:28 2000
From: gb at stat.umu.se (GB)
Date: Thu, 13 Apr 2000 15:58:28 +0200 (CEST)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <3.0.32.20000413221650.0124f950@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.LNX.4.21.0004131512400.16744-100000@pc16.stat.umu.se>

Bill,

thank you for the lesson! Just one question:

[snip]
> I think you miss the point quite seriously.   

No and yes.

> Under the present semantics
> in 'a & b' *both* a and b are *guaranteed* unconditionally to be evaluated,

I didn't miss this.

> and in a lazy evaluation language, especially, that unconditional evaluation
> can be vital.   

I missed this. And I don't quite understand it (yet). In 'a && b', why
would it be vital to evaluate  b  if  a  is  FALSE? Of course, in a
construct like 'a && (b <- c)' it would, but isn't 'b <- c; a && b' more
readible and to be recommended? (Or does the former code execute faster?)
I think I need a good example here. Can you give me one?

Once again, thanks!

G?ran
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at vindigo.com  Thu Apr 13 16:38:10 2000
From: jon at vindigo.com (Jon McAuliffe)
Date: Thu, 13 Apr 2000 10:38:10 -0400
Subject: [R] Can we get rid of  &&  and  ||?
References: <Pine.LNX.4.21.0004130907170.4565-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <38F5DBD2.C55EF6F0@vindigo.com>



"Dan E. Kelley" wrote:
> 
> > > I have some doubts about the implementation of the operators  '&&'  and
> > > '||'. I only discuss  '&&'  here. The reason: One of my students tried
> 
> One thing I like about Perl is that it defines 'and' and (rhyming
> here, can't help it) 'or' as well as the operators that C programmers
> expect.

perl's 'and' and 'or' were introduced as ultra-low-precedence
operators to accomodate common perl idioms like

 do_foo_successfully(bar) || die("oops");

in cases where the left-hand disjunctive clause might contain
operators that "accidentally" bound less tightly than '||', for
example. they weren't added to increase the syntactic appeal of
the language. to think of 'and' and 'or' as synonymous with '&&' and
'||' will certainly land you in trouble eventually. here again bill
venables's earlier points about appreciating these distinctions
are well taken.

cheers
jon.


> I've known many folks who were confused with & and && in C, but C
> needs both bitwise and logical operators, so we're stuck.
> 
> Speaking of stuck, R is stuck too, since it strives to be like S.  A
> way to improve things might be to provide warnings of things that are
> legal but that might indicate errors of programming.  Perl does this
> quite effectively, which is worth mentioning since it too is caught in
> the bind of sticking with poor choices made in the adolescent stage of
> growth.
> 
> --
> Dan E. Kelley                                         phone:(902)494-1694
> Oceanography Department, Dalhousie University           fax:(902)494-2885
> Halifax, Nova Scotia                             mailto:Dan.Kelley at Dal.CA
> Canada B3H 4J1       http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Apr 13 16:57:13 2000
From: gb at stat.umu.se (GB)
Date: Thu, 13 Apr 2000 16:57:13 +0200 (CEST)
Subject: [R] Can we get rid of  &&  and  ||?
In-Reply-To: <Pine.LNX.4.21.0004131512400.16744-100000@pc16.stat.umu.se>
Message-ID: <Pine.LNX.4.21.0004131655520.16831-100000@pc16.stat.umu.se>


Confusion (mine!) continues. Replace '&&' with '&' in my reply!

G?ran

On Thu, 13 Apr 2000, GB wrote:

> Bill,
> 
> thank you for the lesson! Just one question:
> 
> [snip]
> > I think you miss the point quite seriously.   
> 
> No and yes.
> 
> > Under the present semantics
> > in 'a & b' *both* a and b are *guaranteed* unconditionally to be evaluated,
> 
> I didn't miss this.
> 
> > and in a lazy evaluation language, especially, that unconditional evaluation
> > can be vital.   
> 
> I missed this. And I don't quite understand it (yet). In 'a && b', why
> would it be vital to evaluate  b  if  a  is  FALSE? Of course, in a
> construct like 'a && (b <- c)' it would, but isn't 'b <- c; a && b' more
> readible and to be recommended? (Or does the former code execute faster?)
> I think I need a good example here. Can you give me one?
> 
> Once again, thanks!
> 
> G?ran
> ----------------------------------------------------------
>  G?ran Brostr?m                      tel: +46 90 786-5223
>  Department of Statistics            
>  Ume? University                                         
>  SE-90187 Ume?, Sweden              email: gb at stat.umu.se
> ----------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Professor                          fax: +46 90 786-6614
 Department of Statistics            
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
                                                        
 http://www.stat.umu.se/egna/gb    ftp://capa.stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Apr 14 11:57:17 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 14 Apr 2000 11:57:17 +0200
Subject: [R] how convert an array to a matrix?
References: <38F5C0E1.BFD1AB5A@psy.uni-muenchen.de> <x2d7nucewc.fsf@blueberry.kubism.ku.dk>
Message-ID: <38F6EB7D.3C2B0E02@psy.uni-muenchen.de>

Hi Peter,

thanks for your code, it works fine. I?ve calculated the dimnames from
the inidces by simple arithemic.

Bye, Sven 

Peter Dalgaard BSA wrote:

> 
> cbind(as.vector(slice(x,1)),
>         as.vector(slice(x,2)),
>         as.vector(slice(x,3)),
>         as.vector(x))
> 
> where slice is the generalised row()/col()/... function which we
> haven't got in R (yet):
> 
> slice<-function(x,i) sweep(x, i, 1:dim(x)[i], function(x,y) y )
> 
> Hmm...that's not quite right. You want the dimnames in there instead
> of 1:dim(x)[i], but you get the general idea.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jehan at inapg.inra.fr  Fri Apr 14 17:15:01 2000
From: jehan at inapg.inra.fr (Procaccia Jehan)
Date: Fri, 14 Apr 2000 17:15:01 +0200
Subject: [R] novice question
Message-ID: <38F735F5.841FBE19@inapg.inra.fr>

Hello,

I've just compile R under solaris 7, everything went right, unfortunatly
when I run R as a normal user it returns saying:

$./R
GUI `X11' is not supported

However as root it works fine in text mode, that's what I want

$./R

R : Copyright 2000, The R Development Core Team
Version 1.0.0  (February 29, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

>

Please let me know what to do.
Thanks a lot

PS: please reply to both jehan.procaccia at inapg.inra.fr and
christian.jost at inapg.inra.fr

--
Jehan.Procaccia at inapg.inra.fr
Ingenieur Systemes et Reseaux
Institut National Agronomique Paris-Grignon



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 14 18:13:16 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Apr 2000 17:13:16 +0100 (BST)
Subject: [R] novice question
In-Reply-To: <38F735F5.841FBE19@inapg.inra.fr>
Message-ID: <Pine.GSO.4.05.10004141709520.22801-100000@auk.stats>

On Fri, 14 Apr 2000, Procaccia Jehan wrote:

> Hello,
> 
> I've just compile R under solaris 7, everything went right, unfortunatly
> when I run R as a normal user it returns saying:
> 
> $./R
> GUI `X11' is not supported
> 
> However as root it works fine in text mode, that's what I want

.../bin/R.X11  needs to have r-x permission for ordinary users.
That message means that it is not found.  Another possibility is that you
have R_HOME set to an incorrect value when running as you: the R script
says:

# R_HOME may have moved, so check (or you get "GUI X11 is not supported")
if [ ! -x ${R_HOME} ]; then
  echo "R_HOME = \`${R_HOME}' not found"
  exit 1
fi

but it may of course exist but not contain bin/R.X11 (and old versions of
R used R.bin, I think).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr 14 18:30:44 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 14 Apr 2000 12:30:44 -0400 (EDT)
Subject: [R] rgamma with negative shape and scale parameters works? 
Message-ID: <Pine.LNX.4.21.0004141222170.611-100000@Chrestomanci.home.earth>

Dear R people,

This is a possibly silly question, but the rgamma function takes the shape
and scale arguments and simulates gamma rvs corresponding to those values,
right? But the shape and scale parameters have to be positive, right?
However, rgamma quite happily returns to me values for negative values of
shape and scale, and in some cases returns negative values eg.

> rgamma(1, 1, -1)
[1] -1.011081
> rgamma(1, -1, -1)
[1] -1.710464
> rgamma(1, -1, 1)
[1] 2.058639

What is with this? Is some generalised version of gamma being used or
what? Can someone enlighten me? Thanks.
                                              Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 14 18:44:43 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Apr 2000 18:44:43 +0200
Subject: [R] rgamma with negative shape and scale parameters works?
In-Reply-To: Faheem Mitha's message of "Fri, 14 Apr 2000 12:30:44 -0400 (EDT)"
References: <Pine.LNX.4.21.0004141222170.611-100000@Chrestomanci.home.earth>
Message-ID: <x2em88skck.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> Dear R people,
> 
> This is a possibly silly question, but the rgamma function takes the shape
> and scale arguments and simulates gamma rvs corresponding to those values,
> right? But the shape and scale parameters have to be positive, right?
> However, rgamma quite happily returns to me values for negative values of
> shape and scale, and in some cases returns negative values eg.
> 
> > rgamma(1, 1, -1)
> [1] -1.011081
> > rgamma(1, -1, -1)
> [1] -1.710464
> > rgamma(1, -1, 1)
> [1] 2.058639

Most likely, it is a bug(let). Calculating dgamma(rgamma(... with the
same parameters give NaN. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Apr 15 00:09:13 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 14 Apr 2000 18:09:13 -0400 (EDT)
Subject: [R] replacing NA values in an expression
Message-ID: <Pine.LNX.4.21.0004141748260.611-100000@Chrestomanci.home.earth>

Dear R people,

This is simple, nay trivial question. I do the following. I just want to
know what is the slickest/most elegant method. I have an expression
containing the term

(y)*log(y)

where y can take the value either 0 or 1. If y is 0 then the expression is
undefined, but in this case I want to replace the result by 0 in the
expression. I don't want to write a separate function for this, which
would be the simplest way of handling it, That is, I want this replacement
to be evaluated as part of the expression. What is the best way to do
this?
                                            Faheem.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 15 07:14:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 15 Apr 2000 06:14:29 +0100 (BST)
Subject: [R] replacing NA values in an expression
In-Reply-To: <Pine.LNX.4.21.0004141748260.611-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10004150612020.473-100000@auk.stats>

On Fri, 14 Apr 2000, Faheem Mitha wrote:

> Dear R people,
> 
> This is simple, nay trivial question. I do the following. I just want to
> know what is the slickest/most elegant method. I have an expression
> containing the term
> 
> (y)*log(y)
> 
> where y can take the value either 0 or 1. If y is 0 then the expression is
> undefined, but in this case I want to replace the result by 0 in the
> expression. I don't want to write a separate function for this, which
> would be the simplest way of handling it, That is, I want this replacement
> to be evaluated as part of the expression. What is the best way to do
> this?

See V&R3 p.94 for this very example.  E.g. ifelse(y<=0, 0, y*log(y))

I'm not sure what this has to do with NA's: in R

> 0*log(0)
[1] NaN


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Apr 15 22:03:49 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 15 Apr 2000 16:03:49 -0400 (EDT)
Subject: [R] problem with function involving ifelse and integrate
Message-ID: <Pine.LNX.4.21.0004151443480.440-100000@Chrestomanci.home.earth>

Dear R people,

There is probably a simple explanation for the following, but I have been
unable to come up with one. 

I want to integrate x(1-x)^{-1/3} over intervals of the form [0,a] where a
is between 0 and 1.

Hence, consider:

fm <- function(x) ifelse(x==0 | x==1 ,0,(x*(1-x))^(-1/3))

inbeta <- function(x)
{
 ifelse(x==0,0,integrate(fm,0,x,maxpts = NULL, eps=0.01))

}

Comments:

integrate(fm,0,x,maxpts = NULL, eps=0.01) works ok for everything I tried
it for except x = 0 for some reason, hence the ifelse above.

The problem is with inbeta. Trying inbeta(x) for any value of x other than
0 gives the error "Error in rep(no, length = length(ans)) : Unimplemented
feature in rep" For 0, of course, it returns the value 0.

I can't see anything obviously wrong with this. Can someone help to figure
it out?

Also, I was wondering what method of numerical quadrature is used for
integrate. The documentation is silent about this. Also, the error
messages for 

integrate(fm,0,0,maxpts = NULL, eps=0.01)

refers to something called lenwrk. What is this?

                                      Sincerely, Faheem Mitha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsetzer at mindspring.com  Sat Apr 15 23:14:25 2000
From: wsetzer at mindspring.com (Woodrow Setzer)
Date: Sat, 15 Apr 2000 17:14:25 -0400 (EDT)
Subject: [R] unresolved symbols in dynamically linked code
Message-ID: <Pine.LNX.4.04.10004151700450.477-100000@sleepy.mindspring.com>

I'm probably misunderstanding something in "Writing R Extensions" version
1.0.0.  In the chapter on the R API, section 4.7, it is stated that the
functions listed in R_ext/Linpack.h are available to users' Fortran code.
I am developing a developing a library of ode solvers, based on lsoda and
ddassl, and which in turn call some routines from linpack and double
precision blas.  I originally developed the library including those
routines, and got a functional shared library.  When I removed the
routines listed in Linpack.h, dyn.load gave the error:

...../call_lsoda.so: undefined symbol dgbfa_

Have I misunderstood the documentation, or do I need to do something
special to resolve these symbols?  I am using R SHLIB to do the make, and
am working on a Redhat Linux 6.1 machine.  When I set the option "verbose"
to TRUE, I get the warning, "Explicit local dynamic loading not supported
on this platform.  Using default."

--
Woodrow Setzer
Biostatistics and Research Support Staff
National Health and Environmental Effects Laboratory, 
U.S. Environmental Protection Agency
Research Triangle Park, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sun Apr 16 00:10:54 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sat, 15 Apr 2000 18:10:54 -0400 (EDT)
Subject: [R] replacing NA values in an expression
In-Reply-To: <Pine.LNX.4.21.0004141748260.611-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.10.10004151808580.1538-100000@bolker.zoo.ufl.edu>


    Are you sure you mean y can be *either* 0 or 1?  In that case y*log(y)
is always either undefined (in which case you want it set to 0) or 0 in
any case (because log(1)=0).
   If you mean that y is *between* 0 and 1 then

  ifelse(y==0,0,y*log(y))

  should do the trick.

On Fri, 14 Apr 2000, Faheem Mitha wrote:

> Dear R people,
> 
> This is simple, nay trivial question. I do the following. I just want to
> know what is the slickest/most elegant method. I have an expression
> containing the term
> 
> (y)*log(y)
> 
> where y can take the value either 0 or 1. If y is 0 then the expression is
> undefined, but in this case I want to replace the result by 0 in the
> expression. I don't want to write a separate function for this, which
> would be the simplest way of handling it, That is, I want this replacement
> to be evaluated as part of the expression. What is the best way to do
> this?
>                                             Faheem.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Sun Apr 16 16:39:19 2000
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Sun, 16 Apr 2000 15:39:19 +0100
Subject: [R] problem with function involving ifelse and integrate
Message-ID: <C12568C3.004B038C.00@osla28smtp.hda.hydro.com>



The error is in the use of 'ifelse'


Rhelp: 'ifelse' returns a value with the same shape as `test' (...)

whereas 'integrate' returns a list of five elements.

If all you're interested in is the value returned by 'integrate', you can use:

inbeta <- function(x) ifelse(x==0, 0, integrate(fm, 0, x,maxpts = NULL,
eps=0.01)$value)

Be careful, you can only use this for vectors of length 1. If you want the
integral for more than one value you can use 'sapply' as in:

plot(x, sapply(x, inbeta))

Jan


-------------------------
Jan Schelling
Norsk Hydro
Research Centre
N - 3907 Porsgrunn
NORWAY



From: faheem at email.unc.edu on 2000-04-15 20:03 GMT



To:   r-help at stat.math.ethz.ch
cc:    (bcc: Jan Schelling/HRE/Hydro)

Subject:  [R] problem with function involving ifelse and integrate



Dear R people,

There is probably a simple explanation for the following, but I have been
unable to come up with one.

I want to integrate x(1-x)^{-1/3} over intervals of the form [0,a] where a
is between 0 and 1.

Hence, consider:

fm <- function(x) ifelse(x==0 | x==1 ,0,(x*(1-x))^(-1/3))

inbeta <- function(x)
{
 ifelse(x==0,0,integrate(fm,0,x,maxpts = NULL, eps=0.01))

}

Comments:

integrate(fm,0,x,maxpts = NULL, eps=0.01) works ok for everything I tried
it for except x = 0 for some reason, hence the ifelse above.

The problem is with inbeta. Trying inbeta(x) for any value of x other than
0 gives the error "Error in rep(no, length = length(ans)) : Unimplemented
feature in rep" For 0, of course, it returns the value 0.

I can't see anything obviously wrong with this. Can someone help to figure
it out?

Also, I was wondering what method of numerical quadrature is used for
integrate. The documentation is silent about this. Also, the error
messages for

integrate(fm,0,0,maxpts = NULL, eps=0.01)

refers to something called lenwrk. What is this?

                                      Sincerely, Faheem Mitha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ensia.inra.fr  Sun Apr 16 10:59:02 2000
From: iosu at ensia.inra.fr (=?iso-8859-1?Q?Jes=FAs_Mar=EDa_Fr=EDas_Celayeta?=)
Date: Sun, 16 Apr 2000 10:59:02 +0200 (CEST)
Subject: [R] unresolved symbols in dynamically linked code
In-Reply-To: <Pine.LNX.4.04.10004151700450.477-100000@sleepy.mindspring.com>
Message-ID: <Pine.LNX.3.96.1000416104353.23137G-100000@iosu>

Hi!
	I don't know if this can help, but the Splus package nls2 uses
actually lsoda to build models based in systems of odes which has been
developed by the INRA-BIA (France). There is also a port of this package (by
Denis Mestivier from University Paris 7) which is not complete, but is
capable of performing the nonlinear regression with an ode's system and
using the lsoda library. I think that having a look to that code might help
you to find a good solution for your problem (recycling is always good). The
web site is

	http://www-bia.inra.fr/J/AB/nls2/welcome.html

cheers,

IOsu

On Sat, 15 Apr 2000, Woodrow Setzer wrote:

> I'm probably misunderstanding something in "Writing R Extensions" version
> 1.0.0.  In the chapter on the R API, section 4.7, it is stated that the
> functions listed in R_ext/Linpack.h are available to users' Fortran code.
> I am developing a developing a library of ode solvers, based on lsoda and
> ddassl, and which in turn call some routines from linpack and double
> precision blas.  I originally developed the library including those
> routines, and got a functional shared library.  When I removed the
> routines listed in Linpack.h, dyn.load gave the error:
> 
> ...../call_lsoda.so: undefined symbol dgbfa_
> 
> Have I misunderstood the documentation, or do I need to do something
> special to resolve these symbols?  I am using R SHLIB to do the make, and
> am working on a Redhat Linux 6.1 machine.  When I set the option "verbose"
> to TRUE, I get the warning, "Explicit local dynamic loading not supported
> on this platform.  Using default."
> 
> --
> Woodrow Setzer
> Biostatistics and Research Support Staff
> National Health and Environmental Effects Laboratory, 
> U.S. Environmental Protection Agency
> Research Triangle Park, NC 27711
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-------------------------------------------------------------------------------
Jes?s Mar?a Fr?as Celayeta		"Valeu a pena? Tudo vale a pena
ENSIA-INRA, Av. des Olympiades, 1	se a alma n?o ? pequena
91744, Massy. FRANCE			Quem quer passar al?m do Bojador
Fax:intl+33+1+69935185			Tem que passar al?m da dor.
Phone:intl+33+1+69935191		Deus ao mar o perigo e abismo deu,
					Mas nele ? que espelhou o c?u"
-------------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From santini at dsi.unimi.it  Mon Apr 17 11:28:13 2000
From: santini at dsi.unimi.it (Massimo Santini)
Date: Mon, 17 Apr 2000 11:28:13 +0200 (CEST)
Subject: [R] akima core dumps on loading
In-Reply-To: <C12568C3.004B038C.00@osla28smtp.hda.hydro.com>
Message-ID: <Pine.LNX.4.21.0004171127480.27793-100000@zorn.usr.dsi.unimi.it>

I've just dl the .rpm of R 1.0.1, installed it and then launched 

	insatll.packages("akima")

after re-launching R [--vanilla], the command

	library(akima)

has the only effect to coredump the program. Here is the output of gdb and
strace...

--- GDB (commands given can be seen from the except)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From santini at dsi.unimi.it  Mon Apr 17 11:30:26 2000
From: santini at dsi.unimi.it (Massimo Santini)
Date: Mon, 17 Apr 2000 11:30:26 +0200 (CEST)
Subject: [R] Re: akima core dumps on loading
In-Reply-To: <Pine.LNX.4.21.0004171127480.27793-100000@zorn.usr.dsi.unimi.it>
Message-ID: <Pine.LNX.4.21.0004171128540.27793-100000@zorn.usr.dsi.unimi.it>

Sorry for the previous post, I've hit the wrong key while cut and pasting.

> I've just dl the .rpm of R 1.0.1, installed it and then launched 
> 
> 	insatll.packages("akima")
> 
> after re-launching R [--vanilla], the command
> 
> 	library(akima)
> 
> has the only effect to coredump the program. Here is the output of gdb and
> strace...

I've submitted a bug report now with the gdb and strace outputs. Hope this
helps.

I've had the time to test it also under 1.0.0, and the problem remains the
same.

Best regards,
		Massimo Santini


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From langevin at valigene.com  Mon Apr 17 11:28:39 2000
From: langevin at valigene.com (Stephanie Langevin)
Date: Mon, 17 Apr 2000 09:28:39 +0000
Subject: [R] Statistical Significance of an observation 
Message-ID: <38FAD947.6F7AA9A6@valigene.com>

hello,

I would like to use a function in order to know the value of Specificity
and Sensibility of data ( True/False Negative/Positive measurement).

thanks for your help,

St?phanie Langevin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Damien.Berlemont at ccf.fr  Mon Apr 17 17:26:40 2000
From: Damien.Berlemont at ccf.fr (Damien BERLEMONT)
Date: Mon, 17 Apr 2000 17:26:40 +0200
Subject: [R] About the mda package
Message-ID: <s8fb4734.095@ccf.fr>

** High Priority **

I am a french student working on discriminant analysis issues. I am a new user of R language and have a few questions about its use :
     + About the mda package how can I plot the decision boundaries in the space of predictors from the results of the fda function ?
     + Does R include 3-D plots ?
     + How can I use bootstrap and cross-validation in classification ?

I thank you in advance for considering my request. 



******************************************
 Ce message est strictement confidentiel. Son integrite n'est pas assuree sur Internet. Le contenu de ce message ne peut engager la responsabilite du Credit Commercial de France. Si vous n'etes pas destinataire du message, merci d'en avertir immediatement l'expediteur et de le detruire.

 This message is strictly confidential. Integrity is not guaranteed through Internet. The content of this message does not bind Credit commercial de France in any way.  If you are not the intended recipient of the message, please notify the sender immediately and delete it.
******************************************

******************************************
message a ete controle par antivirus.
******************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at rhi.hi.is  Mon Apr 17 19:35:27 2000
From: helgito at rhi.hi.is (Helgi Tomasson)
Date: Mon, 17 Apr 2000 17:35:27 +0000
Subject: [R] source-parse difference in 0.9 and 1.0
Message-ID: <38FB4B5F.58EF8525@rhi.hi.is>

In version 0.9 I ran a command file of 489 lines with

source("    ")

In version 1.0 I do the same and get

Error in parse(file, n, text, prompt) : unable to open file for parsing

This has something to do with the length of the command file.  If I paste the individual lines into R

it is OK, if I only use few lines of the code is is OK as well.  The problem is affected by max.deparse.length

but not solved.

My R-1.0 runs on a SUSE-6.3 and my R-0.9 run on redhat-5.2.  Can this be something with the system setting?

best regards

Helgi Tomasson

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Apr 17 19:37:48 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 17 Apr 2000 19:37:48 +0200 (CEST)
Subject: [R] unresolved symbols in dynamically linked code
In-Reply-To: <Pine.LNX.4.04.10004151700450.477-100000@sleepy.mindspring.com>
References: <Pine.LNX.4.04.10004151700450.477-100000@sleepy.mindspring.com>
Message-ID: <14587.19436.210313.835000@aragorn.ci.tuwien.ac.at>

>>>>> Woodrow Setzer writes:

> I'm probably misunderstanding something in "Writing R Extensions"
> version 1.0.0.  In the chapter on the R API, section 4.7, it is stated
> that the functions listed in R_ext/Linpack.h are available to users'
> Fortran code.  I am developing a developing a library of ode solvers,
> based on lsoda and ddassl, and which in turn call some routines from
> linpack and double precision blas.  I originally developed the library
> including those routines, and got a functional shared library.  When I
> removed the routines listed in Linpack.h, dyn.load gave the error:

> ...../call_lsoda.so: undefined symbol dgbfa_

> Have I misunderstood the documentation, or do I need to do something
> special to resolve these symbols?  I am using R SHLIB to do the make,
> and am working on a Redhat Linux 6.1 machine.  When I set the option
> "verbose" to TRUE, I get the warning, "Explicit local dynamic loading
> not supported on this platform.  Using default."

Hmm.  I get (r-devel)

hornik at lp12:~/src/R$ find . -type f | xargs grep -i dgbfa
./src/include/R_ext/Linpack.h:extern int F77_SYMBOL(dgbfa)(double*, int*, int*, int*, int*, int*, int*);
./src/library/splines/R/splineClasses.R:##  z <-  .Fortran("dgbfa",

so it looks as if dgbfa was not contained in the R sources ...

Hence it should also not be in Linpack.h.

Comments?

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian at trichodon.afsc.noaa.gov  Mon Apr 17 20:41:40 2000
From: brian at trichodon.afsc.noaa.gov (Brian O'Gorman)
Date: Mon, 17 Apr 2000 10:41:40 -0800
Subject: [R] xgobi
Message-ID: <38FB5AE4.C40ECD4E@trichodon.afsc.noaa.gov>

I can't ssem to get the the examples running. Can anyone offer a
solution?
Thanks in advance, and this what happens.

> data(laser)
> xgobi(laser)
xgobi -title 'laser' -std mmx /tmp/xgobi-laserR7316S41c6 & 
> Neither the file /tmp/xgobi-laserR7316S41c6 nor /tmp/xgobi-laserR7316S41c6.dat exists
-------------- next part --------------
A non-text attachment was scrubbed...
Name: brian.vcf
Type: text/x-vcard
Size: 411 bytes
Desc: Card for Brian O'Gorman
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000417/f427999e/brian.vcf

From bates at stat.wisc.edu  Mon Apr 17 21:22:23 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Apr 2000 14:22:23 -0500
Subject: [R] unresolved symbols in dynamically linked code
In-Reply-To: Kurt Hornik's message of "Mon, 17 Apr 2000 19:37:48 +0200 (CEST)"
References: <Pine.LNX.4.04.10004151700450.477-100000@sleepy.mindspring.com> <14587.19436.210313.835000@aragorn.ci.tuwien.ac.at>
Message-ID: <6r3dok1qj4.fsf@franz.stat.wisc.edu>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> Hmm.  I get (r-devel)
> 
> hornik at lp12:~/src/R$ find . -type f | xargs grep -i dgbfa
> ./src/include/R_ext/Linpack.h:extern int F77_SYMBOL(dgbfa)(double*, int*, int*, int*, int*, int*, int*);
> ./src/library/splines/R/splineClasses.R:##  z <-  .Fortran("dgbfa",
> 
> so it looks as if dgbfa was not contained in the R sources ...
> 
> Hence it should also not be in Linpack.h.
> 
> Comments?

Alternatively we could incorporate the missing routines from
Linpack.h.  It looks as if the only changes made from the raw Linpack
sources to, say, src/appl/dpofa.f are from conversion to lower case.

I guess I would vote for incorporating all the double precision
Linpack routines but I don't have strong opinions on that.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krastev at fas.harvard.edu  Tue Apr 18 01:51:52 2000
From: krastev at fas.harvard.edu (Krassimir Krastev)
Date: Mon, 17 Apr 2000 16:51:52 -0700
Subject: No subject
Message-ID: <KIEBIPGFEPAPMCOGBKBKKEBACCAA.krastev@fas.harvard.edu>

Does anyone know of a package for doing Baysian Inference in R ?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Apr 17 23:22:28 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 17 Apr 2000 17:22:28 -0400
Subject: [R] unresolved symbols in dynamically linked code
Message-ID: <852568C4.0075713F.00@EPAHUB2.RTP.EPA.GOV>



I have investigated a little further:  I am able to link to the routines i need
that come from double precision blas listed in Linpack.h, but not any of the
four routines from Linpack (also all listed in Linpack.h): dgefa, dgesl, dgbfa,
dgbsl.

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hag.hi.is  Tue Apr 18 03:31:36 2000
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Tue, 18 Apr 2000 1:31:36 GMT
Subject: [R] source-parse difference in 0.9 and 1.0
In-Reply-To: <38FB4B5F.58EF8525@rhi.hi.is>; from "Helgi Tomasson" at Apr 17, 100 5:35 pm
Message-ID: <200004180131.BAA12406@hag.hi.is>

Sorry, this is my mistake.  There seems to be a file missing in my suse-system.

regards

Helgi

> 
> In version 0.9 I ran a command file of 489 lines with
> 
> source("    ")
> 
> In version 1.0 I do the same and get
> 
> Error in parse(file, n, text, prompt) : unable to open file for parsing
> 
> This has something to do with the length of the command file.  If I paste the individual lines into R
> 
> it is OK, if I only use few lines of the code is is OK as well.  The problem is affected by max.deparse.length
> 
> but not solved.
> 
> My R-1.0 runs on a SUSE-6.3 and my R-0.9 run on redhat-5.2.  Can this be something with the system setting?
> 
> best regards
> 
> Helgi Tomasson
> 
> --
> Helgi Tomasson                                       FAX:  354-552-6806
> University of Iceland                                PHONE:354-525-4571
> Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
> Oddi v/ Sturlugotu
> IS-101 Reykjavik
> ICELAND
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 18 09:03:48 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 18 Apr 2000 09:03:48 +0200 (CEST)
Subject: [R] xgobi
In-Reply-To: <38FB5AE4.C40ECD4E@trichodon.afsc.noaa.gov>
References: <38FB5AE4.C40ECD4E@trichodon.afsc.noaa.gov>
Message-ID: <14588.2260.695651.266447@lynne.ethz.ch>

>>>>> "Brian" == Brian O'Gorman <brian at trichodon.afsc.noaa.gov> writes:

    Brian> I can't ssem to get the the examples running. Can anyone offer a
    Brian> solution?
    Brian> Thanks in advance, and this what happens.

    >> data(laser)
    >> xgobi(laser)
    Brian> xgobi -title 'laser' -std mmx /tmp/xgobi-laserR7316S41c6 & 
    >> Neither the file /tmp/xgobi-laserR7316S41c6 nor /tmp/xgobi-laserR7316S41c6.dat exists

This is due to too slow startup of xgobi on some platforms
and has been reported (to me, as package maintainer by others).

The very latest (yesterday) version of R's xgobi package now ends in

      s <- system(command, FALSE)

      ## Now wait a bit before unlinking all the files via  on.exit(.) :
      system("sleep 3")
      invisible(s)
  }
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mfc at harpo.ma.adfa.edu.au  Tue Apr 18 09:52:42 2000
From: mfc at harpo.ma.adfa.edu.au (Dr Mark Collins)
Date: Tue, 18 Apr 2000 17:52:42 +1000 (EST)
Subject: [R] R Packages in Windows
Message-ID: <200004180752.RAA22028@harpo.ma.adfa.edu.au>

I have installed R version 1 for windows and have installed
the survival5 package in the library folder, but the base package
only seems to partially acknowledge survival5's presence.
How have I screwed up? The diagnostics are as follows...

>library(survival5)
    ** no warning given.. seems OK **
>help(package=survival5)
    **this gives the contents of the package correctly,
       including the 'survfit' function.  Again seems OK **
>survfit()
 Error: couldn't find function 'survfit'
     (Nor any of the other functions in survival5)
     
     
     Mark Collins
     m.collins at adfa.edu.au
    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 18 11:23:22 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 18 Apr 2000 11:23:22 +0200 (MET DST)
Subject: [R] R Packages in Windows
In-Reply-To: <200004180752.RAA22028@harpo.ma.adfa.edu.au>
Message-ID: <Pine.GSO.4.05.10004181118480.7840-100000@amadeus.statistik.uni-dortmund.de>



On Tue, 18 Apr 2000, Dr Mark Collins wrote:

> I have installed R version 1 for windows and have installed
> the survival5 package in the library folder, but the base package
> only seems to partially acknowledge survival5's presence.
> How have I screwed up? The diagnostics are as follows...
> 
> >library(survival5)
>     ** no warning given.. seems OK **
> >help(package=survival5)
>     **this gives the contents of the package correctly,
>        including the 'survfit' function.  Again seems OK **
> >survfit()
>  Error: couldn't find function 'survfit'
>      (Nor any of the other functions in survival5)

Works here perfectly (WinNT40, R-1.0.0).
What version of Windows are you running (Win9x / NT ?)

Did you install the latest version of the survival5 package ?
Did you compile it yourself or are you using survival5.zip from CRAN?


Regards,
Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From badel at bach.urbb.jussieu.fr  Tue Apr 18 13:48:45 2000
From: badel at bach.urbb.jussieu.fr (Anne Badel-Chagnon)
Date: Tue, 18 Apr 2000 13:48:45 +0200
Subject: [R] R : 3D graphics
Message-ID: <38FC4B9D.884B4F4B@urbb.jussieu.fr>

I am looking for a package that allow to plot 3D set of points (x, y, z) ?

Can someone help me to find it ?

thank for help

anne

--
Anne BADEL-CHAGNON     Email:badel at urbb.jussieu.fr
Equipe de Bioinformatique Mol?culaire, Universite Paris 7
Tour 53, 1er etage, case 7113       Tel : 01.44.27.77.14
75251 Paris cedex 05                Fax : 01.43.26.38.30


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000418/ddea515d/attachment.html

From dtrenkler at nts6.oec.uni-osnabrueck.de  Tue Apr 18 15:24:04 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Tue, 18 Apr 2000 15:24:04 +0200
Subject: [R] list arithmetic
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E014F8E@nts7.oec.Uni-Osnabrueck.DE>

I'm an old APL fossil and I got  used to work with nested arrays there.
In APL(2) you can write 1+(1 2 3)(4 5 6 7 8 9) and get (2 3 4)(5 6 7 8 9
10).
A similar concept is R's lists. So it takes me by surprise to learn that

        1+list(1:3,4:9)

delivers an
 
Error in 1 + list(1:3, 4:9) : non-numeric argument to binary operator


Is there any particular reason why this doesn't work as expected? I know
that 

           lapply(list(1:3,4:9),"+",y=1)

is an alternative but I hold that 1+list(1:3,4:9) looks more
straightforward.

 --- D.Trenkler ---

************************************************************************
*********
   Dietrich Trenkler
(trenkler at oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 18 15:47:26 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 18 Apr 2000 15:47:26 +0200
Subject: [R] R : 3D graphics
References: <38FC4B9D.884B4F4B@urbb.jussieu.fr>
Message-ID: <38FC676E.19C5315A@statistik.uni-dortmund.de>

> I am looking for a package that allow to plot 3D set of points (x, y, z) ?
> Can someone help me to find it ?


1. You can use "xgobi" ( http://www.research.att.com/areas/stat/xgobi/ )
The R package "xgobi" (available at CRAN) can be used to invoke xgobi
within your R session.

2. Martin Maechler and me are developing a scatterplot3d(.) function.
Have a look at 
http://www.statistik.uni-dortmund.de/leute/ligges.htm
But don't expect too much at this time....

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steuer at statistik.uni-dortmund.de  Tue Apr 18 15:59:21 2000
From: steuer at statistik.uni-dortmund.de (Dipl.-Stat. Detlef Steuer)
Date: Tue, 18 Apr 2000 15:59:21 +0200 (CEST)
Subject: [R] R : 3D graphics
In-Reply-To: <38FC4B9D.884B4F4B@urbb.jussieu.fr>
Message-ID: <XFMail.20000418155921.steuer@statistik.uni-dortmund.de>

Hello!

Uwe Ligges wrote the nice function scatterplot3d.

The latest version can be found here:

http://www.statistik.uni-dortmund.de/leute/ligges/R

Have fun,

Detlef Steuer



On 18-Apr-2000 Anne Badel-Chagnon wrote:
> I am looking for a package that allow to plot 3D set of points (x, y, z) ?
> 
> Can someone help me to find it ?
> 
> thank for help
> 
> anne
> 
> --
> Anne BADEL-CHAGNON     Email:badel at urbb.jussieu.fr
> Equipe de Bioinformatique Mol?culaire, Universite Paris 7
> Tour 53, 1er etage, case 7113       Tel : 01.44.27.77.14
> 75251 Paris cedex 05                Fax : 01.43.26.38.30
> 
> 

-- 

Detlef Steuer Universitaet Dortmund                             ///////
LS Computergestuetzte Statistik                          U N I D O ///  
steuer at statistik.uni-dortmund.de                        ______///////  
Tel: ++49 +231 755 4353 Fax: ++49 +231 755 4387         \_\_\_\/////
                                                         \_\_\_\///
                                                          \_\_\_\/

*** The root causes of bad leadership are greed, ***
*** aggressiveness, pride and resentment.        ***
*** Analects, Konfuzius                          ***
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue Apr 18 16:03:34 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Wed, 19 Apr 2000 00:03:34 +1000
Subject: [R] list arithmetic
Message-ID: <3.0.32.20000419000330.01226bf0@pophost.nsw.cmis.csiro.au>

At 03:24 PM 18/4/2000 +0200, Trenkler, Dietrich wrote:
>I'm an old APL fossil and I got  used to work with nested arrays there.
>In APL(2) you can write 1+(1 2 3)(4 5 6 7 8 9) and get (2 3 4)(5 6 7 8 9
>10).
>A similar concept is R's lists. So it takes me by surprise to learn that
>
>        1+list(1:3,4:9)
>
>delivers an
>Error in 1 + list(1:3, 4:9) : non-numeric argument to binary operator
>Is there any particular reason why this doesn't work as expected? 

Not too many others would expect it, I suppose.  I can only guess, but my
surmise is that lists are considered composite objects with no particular
reason to have numeric components at all (and usually will not) so
arithmetic on lists is not a very natural sort of operation to want to do.

>I know that 
>
>           lapply(list(1:3,4:9),"+",y=1)
>
>is an alternative but I hold that 1+list(1:3,4:9) looks more
>straightforward.

Hmm.

If you were willing to construct a class of objects, say "numericList",
that had a list as the prototype, you could have objects that behaved as
lists when you needed them to, but you could also write a group generic
method for them that would allow arithmetic operations in the kind of way
you see as natural.  For example, data frames are lists with class
data.frame and methods exist to allow them to be used very much like
matrices.  The same sort of trick can be used for your purpose.  (The
details are suppressed for brevity, but they are pretty simple.)

Bill Venables.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Apr 18 16:06:14 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 18 Apr 2000 10:06:14 -0400 (EDT)
Subject: [R] R : 3D graphics
In-Reply-To: <38FC4B9D.884B4F4B@urbb.jussieu.fr>
Message-ID: <Pine.LNX.4.10.10004181005560.4161-100000@bolker.zoo.ufl.edu>


scatterplot3d, available through

http://www.statistik.uni-dortmund.de/leute/ligges.htm

On Tue, 18 Apr 2000, Anne Badel-Chagnon wrote:

> I am looking for a package that allow to plot 3D set of points (x, y, z) ?
> 
> Can someone help me to find it ?
> 
> thank for help
> 
> anne
> 
> --
> Anne BADEL-CHAGNON     Email:badel at urbb.jussieu.fr
> Equipe de Bioinformatique Moléculaire, Universite Paris 7
> Tour 53, 1er etage, case 7113       Tel : 01.44.27.77.14
> 75251 Paris cedex 05                Fax : 01.43.26.38.30
> 
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emmanuel.charpentier at sap.ap-hop-paris.fr  Tue Apr 18 16:44:05 2000
From: emmanuel.charpentier at sap.ap-hop-paris.fr (Emmanuel Charpentier)
Date: Tue, 18 Apr 2000 16:44:05 +0200
Subject: [R] Statistical Significance of an observation
Message-ID: <38FC74B5.97B546BE@sap.ap-hop-paris.fr>

Accourding to your (curiously entitled) question to the R-help list :

> I would like to use a function in order to know the value of Specificity 
> and Sensibility of data ( True/False Negative/Positive measurement). 

That's an easy one ... at first sight. Computation is quite easy ; conditions
of use are *not*.

I'll use the vocabulary of my primary field (Biostatistics) and treat your
subject accordingly.

First, let us suppose that your variable is a boolean one (you are supposed to
use an undescribed device answering S="True" or False" to the question under
examination). Suppose furthermore that you have another mean of getting the
"real" answer, i. e. the value of the real (="gold standard) answer M to the
question (e. g. in medicine, pathology results).

By definition, Sensitivity is Pr(S|M) and is estimated, from a (supposedly
perfect) sample, by N(S^M)/N(M). In R parlance, if Sample is a dataframe with
vectors S and M both booleans, Sens<-sum(Sample$S & Sample$M)/sum(Sample^M).
(Resp. Specificity is Spec<-sum((!Sample$S) & (!Sample$M))/sum(!Sample$M))

Now, what happens in the mayhem called "the Real Life". There are missing data.
And that's where bigmistakes can be done. The pattern of missing data should be
looked at very closely, and explanations should be obtained. This is often as
important as the sensitivity/specificity estimation.

IMHO, missing data in M and in S should be treated differently. Cases where M
is missing can be discarded unless there is some reason to their absence that
might be related to the S value. Cases with S missing are different. In our
example, a "clinical" sensitivity (what is the sensitivity of a given test when
diagnosing a given disease) is given by the same formula as above, making first
Sample<-Sample[(!is.na(Sample$M)&(!is.na(Sample$S),], that is discarding cases
where either S or M cannot be got. If you are interested in the efficiency of
the test, however, you should look at the sample Sample[!is.na(Sample$M),] :
patients undergoing the test with no effective result are indeed consuming
resources.

Conversively, if you're an epidemiologist looking at the overall efficiency of
a sceening policy, the relevant set might be well Sample[!is.na(Sample$S),]
(hopefully the whole sample) and the denominator being nrow(Sample) : people
for which the M status remain unknown (screened negative) are probably a much
larger number than people diagnosed (screened positive then diagnosed either
positive or negative, or diagnosed for other reasons). But there what you're
looking at is no longer really sensitivity in the real sense ...

When you're looking at non-boolean signs (e. g. a biochemical dosage of a blood
sample), sensitivity and specificity have no longer any meaning per se. You
have to choose a threshold value  S0, beyound which S is noted S- and above
which it is noted S- (thus recreating a boolean variable).

Rather than studying sensitivity an specificity for a given value of S0, it is
often interesting to study the relationship between Sens(S0) and Spec(SO)
(always monotone non-increasing). More precisely, it is sufficient to have S
being a value extracted out of a totally ordered set (that is, for any pair S1,
S2, you have either S1<S2, S1>S2 or S1=S2 ; in S/R parlance, S is a numerical
variable or an *ordered* factor). For each value of S, you get a value of Sens
and a value of Spec.

The plot of Spec(S)=1-Sens(S) is called a ROC (Receiver Operating
Characteristic) curve, and is characteristic of the test, not of the
distribution of values in the sample. In particular, its integral (area under
curve) is considered as a good point value assessing the diagnostic value of
the test.

Computation of this curve is left as an exercise for the reader (that means
that I know how to compute it, but that my solution is ugly (loops ...) and
that I feel that it should be enhanced before publication :-). I might post a
smallish library for ROC analysis someday, but not soon : I have some other
things to attend first ...

A very common (and IMHO very dangerous) use of ROC analysis is to assess the
diagnostic value of a test starting from a sample of patients ordered in
"increasing order of (subjective) probability of presenting the disease" (e. g.
an ordering of radiographies). ROC analysis is valid for this kinf=d of
experiment if and only if the ordering is really a total order relationship
(that is, for any A, B, C, A>B and B>C entails A>C). This assumption is
necessary for the ROC to have a meaning ; this assumption, while extremely
strong, is always made, and very rarely checked upon. Caveat emptor ...

Of course, the cautions mentioned about missing values for the boolean case
remain valid; furthermore, attention should be paid to the distribution of S
(reproductibility, for example) and the impact of the S-measurement error on
apparent sensitivity/specificity should be assessed (by simulation or by
analysing samples of repeated measures).

Hope this helps ...

					Emmanuel Charpentier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Apr 18 18:42:20 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 18 Apr 2000 12:42:20 -0400 (EDT)
Subject: [R] increasing memory size
Message-ID: <Pine.LNX.4.21.0004181226050.450-100000@Chrestomanci.home.earth>

Dear R people,

I wonder if some kind person can tell me the correct syntax to set the
R_VSIZE environmental variable. I tried R_VSIZE = 10M in ~/.Renviron and
also export R_VSIZE = 10M. These don't seem to work. I scrounged around
looking for details about this, couldn't find any, got fed up. 
                                                            Faheem.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From CroglioN at elcsci.com  Tue Apr 18 20:00:35 2000
From: CroglioN at elcsci.com (Nicholas Croglio)
Date: Tue, 18 Apr 2000 11:00:35 -0700
Subject: [R] increasing memory size
Message-ID: <9155381CBC65D211A30100805FA69CE5C344F9@EX2>

Faheem,

I had a similar problem months ago and could not get an answer.  I was only
able to adjust the memory using the following addition to the window
shortcut under the icons shortcut target.  
Rgui --vsize=v --nsize=n 

Sincerely,
Nicholas J. Croglio Jr.


		-----Original Message-----
		From:	Faheem Mitha [mailto:faheem at email.unc.edu]
		Sent:	Tuesday, April 18, 2000 9:42 AM
		To:	r-help at stat.math.ethz.ch
		Subject:	[R] increasing memory size

		Dear R people,

		I wonder if some kind person can tell me the correct syntax
to set the
		R_VSIZE environmental variable. I tried R_VSIZE = 10M in
~/.Renviron and
		also export R_VSIZE = 10M. These don't seem to work. I
scrounged around
		looking for details about this, couldn't find any, got fed
up. 
	
Faheem.


	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
		r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
		Send "info", "help", or "[un]subscribe"
		(in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
	
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wmking at physics.bell-labs.com  Tue Apr 18 20:02:21 2000
From: wmking at physics.bell-labs.com (Wayne M. King)
Date: Tue, 18 Apr 2000 14:02:21 -0400
Subject: [R] annoucement for stochastic processes workshop
Message-ID: <38FCA32D.6B6A5297@physics.bell-labs.com>

Hello all, I wanted to share with you this announcement for an upcoming
workshop on the analysis of neural data
to be held this summer at woods hole, MA. The workshop has been
extremely productive in the past years and we
anticipate another good working group this year. This workshop is
applicable for any working in time series analysis whether
it involves point processes or sampled continuous time processes. (Both
will be discussed extensively) I am including the
poster for this year's workshop below. I would appreciate it
if you could forward this e-mail to any of your colleagues who might be
interested in these issues. If you have any further questions
I can be reached via e-mail at wmking at bell-labs.com or by phone at (908)

582-2669. Applications should be mailed or faxed to the address listed
in the poster, but I would be happy to answer any of your questions you
might have about the workshop. Please check out the workshop's web site
at www.vis.caltech.edu/~WAND in order to see what has been discussed in
previous years, as well as a
list of participants. Thank you for your attention and help in
disseminating this information.

Sincerely,

Wayne King


Analysis of Neural Data

Modern methods and open issues in the analysis and
interpretation of multivariate time series and imaging data in the
neurosciences

20 August - 2 September 2000

Marine Biological Laboratories - Woods Hole, MA


A working group of scientists committed to quantitative
approaches to problems in neuroscience will focus their
efforts on experimental and theoretical issues related to
the analysis of single and multichannel data sets.

The work group is motivated by issues in two complimentary areas
that are critical to an understanding of brain function. The first
involves advanced signal processing methods, particularly those
appropriate for emerging multisite recording and noninvasive
imaging techniques. The second involves the development of a
calculus to study the dynamical behavior of nervous systems and
the computations they perform.

A distinguishing feature of the work group is a close collaboration
between experimentalists and theorists with regard to the analysis
of data and the planning of experiments. The work group will have
a limited number of research lectures, supplemented by tutorials on
relevant computational,
experimental, and mathematical techniques.

The topics covered in the workgroup will maintain continuity with past
years and will include
the analysis of point process data (spike trains) as well as continuous
processes (LFP, imaging data), and
miscellaneous topics such as spike waveform classification. We will have

two one-day workshops in addition to the
scheduled activities:

28 August-Neuronal Control Signals for Prosthetic Devices
1 September-Statistical Inference for fMRI Time Series

Participants: About twenty five participants, both experimentalists and
theorists.
Experimentalists are encouraged to bring data records to the work group;

appropriate computational facilities will be
provided. The work group will further take advantage of interested
investigators and course faculty concurrently
present at the MBL.

We encourage graduate students and postdoctoral fellows as well as
senior researchers to apply.

PARTICIPANT FEE: $300

Accepted participants will be provided with shared dormitory
accomodations at MBL and board.
Support: National Institutes of Health-NIMH, NIA,  NIAAA, NICHD/NCRR,
NIDCD, NIDA, and NINDS.

Organizers: David Kleinfeld (UCSD) and Partha P. Mitra (Bell
Laboratories, Lucent Technologies).

Website: www.vis.caltech.edu/~WAND/

Application: Send a copy of your c.v. together with a cover letter
that contains a brief (ca. 200 word) paragraph on why you wish to
attend the work group to:

Ms. Jean B. Ainge
Bell Laboratories, Lucent Technologies
700 Mountain Avenue 1D-427
Murray Hill, NJ 07974
908-582-4702 (fax) or <jba at bell-labs.com>

Graduate students and postdoctoral fellows are encouraged to
include a brief letter of support from their research advisor.

Applications must be received by   19 May 2000

Participants will be notified by   29 May 2000




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feeney at un.org  Tue Apr 18 20:17:38 2000
From: feeney at un.org (Griffith Feeney)
Date: Tue, 18 Apr 2000 14:17:38 -0400
Subject: [R] path = "." default for list.files()?
Message-ID: <OFDEC1B7C1.E59F93AA-ON852568C5.006452D7@intlhub.un.org>

Would it make sense to default the path argument for list.files() to "."?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 18 21:33:43 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 18 Apr 2000 21:33:43 +0200
Subject: [R] increasing memory size
References: <9155381CBC65D211A30100805FA69CE5C344F9@EX2>
Message-ID: <38FCB897.DE246FC7@statistik.uni-dortmund.de>

>>>>>>> Faheem Mitha:
>> I wonder if some kind person can tell me the correct syntax
>> to set the R_VSIZE environmental variable. 
>> I tried R_VSIZE = 10M in ~/.Renviron and
>> also export R_VSIZE = 10M. These don't seem to work. I
>> scrounged around looking for details about this, couldn't find any, 
>> got fed up.

>>>>>> Nicholas J. Croglio Jr.:
> I had a similar problem months ago and could not get an answer.  I was only
> able to adjust the memory using the following addition to the window
> shortcut under the icons shortcut target.
> Rgui --vsize=v --nsize=n


If you are invoking R in ~/  it works as described.
file ".Renviron":

  R_VSIZE=10M  (linebreak!)

[without linebreak R-1.0.0 crashed here (WinNT4.0) :-(( ]
To R-Core: Is this a bug ???

Starting R:
[...]
> gc()
          free   total (Mb)
Ncells  205128  350000  6.7
Vcells 1197892 1310720 10.0
                       ^^^^

Regards, Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Apr 18 22:26:21 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 19 Apr 2000 08:26:21 +1200
Subject: [R] R : 3D graphics
References: <38FC4B9D.884B4F4B@urbb.jussieu.fr>
Message-ID: <38FCC4ED.372D10DE@xtra.co.nz>

Well, I guess it depends on WHAT KIND of 3D plots you want.

Try typing:
> ?persp

This help file will explain how you can draw perspective 3D surface
plot, which, from your discription of (x, y, z), is the one you should
use.

Cheers,

Ko-Kang Wang

Anne Badel-Chagnon wrote:

>
>
> I am looking for a package that allow to plot 3D set of points (x, y, z) ?
>
> Can someone help me to find it ?
>
> thank for help
>
> anne
>
> --
> Anne BADEL-CHAGNON     Email:badel at urbb.jussieu.fr
> Equipe de Bioinformatique Mol?culaire, Universite Paris 7
> Tour 53, 1er etage, case 7113       Tel : 01.44.27.77.14
> 75251 Paris cedex 05                Fax : 01.43.26.38.30
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000419/4d91eebf/attachment.html

From Ko-Kang at xtra.co.nz  Tue Apr 18 22:29:52 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 19 Apr 2000 08:29:52 +1200
Subject: [R] increasing memory size
References: <Pine.LNX.4.21.0004181226050.450-100000@Chrestomanci.home.earth>
Message-ID: <38FCC5BF.BB2BD277@xtra.co.nz>

Use:
--vsize=10M

Faheem Mitha wrote:

> Dear R people,
>
> I wonder if some kind person can tell me the correct syntax to set the
> R_VSIZE environmental variable. I tried R_VSIZE = 10M in ~/.Renviron and
> also export R_VSIZE = 10M. These don't seem to work. I scrounged around
> looking for details about this, couldn't find any, got fed up.
>                                                             Faheem.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Apr 18 22:44:51 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 18 Apr 2000 16:44:51 -0400 (EDT)
Subject: [R] increasing memory size
In-Reply-To: <38FCB897.DE246FC7@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.21.0004181616160.1324-100000@Chrestomanci.home.earth>

Dear R people,

I realise I should have specified that I am using R under Linux
(Unix).

I tried R_VSIZE=10M in .Renviron as suggested by Uwe Ligges, instead of
R_VSIZE = 10M and to my surprise it worked! I then tried R_VSIZE = 10M
again to make sure I wasn't deranged, and it *didn't* work! I don't see
why spaces should make so much difference. They rarely do in Unix, in my
experience. It might be reasonable to specifically mention the correct
form in the documentation. It is hardly self-evident, at least to me (but
maybe I'm missing something).

Thanks to Nicholas J. Croglio and Uwe Ligges for replying.

                                                        Faheem.
On Tue, 18 Apr 2000, Uwe Ligges wrote:

> >>>>>>> Faheem Mitha:
> >> I wonder if some kind person can tell me the correct syntax
> >> to set the R_VSIZE environmental variable. 
> >> I tried R_VSIZE = 10M in ~/.Renviron and
> >> also export R_VSIZE = 10M. These don't seem to work. I
> >> scrounged around looking for details about this, couldn't find any, 
> >> got fed up.
> 
> >>>>>> Nicholas J. Croglio Jr.:
> > I had a similar problem months ago and could not get an answer.  I was only
> > able to adjust the memory using the following addition to the window
> > shortcut under the icons shortcut target.
> > Rgui --vsize=v --nsize=n
> 
> 
> If you are invoking R in ~/  it works as described.
> file ".Renviron":
> 
>   R_VSIZE=10M  (linebreak!)
> 
> [without linebreak R-1.0.0 crashed here (WinNT4.0) :-(( ]
> To R-Core: Is this a bug ???
> 
> Starting R:
> [...]
> > gc()
>           free   total (Mb)
> Ncells  205128  350000  6.7
> Vcells 1197892 1310720 10.0
>                        ^^^^
> 
> Regards, Uwe Ligges



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 18 23:48:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Apr 2000 23:48:52 +0200
Subject: [R] increasing memory size
In-Reply-To: Faheem Mitha's message of "Tue, 18 Apr 2000 16:44:51 -0400 (EDT)"
References: <Pine.LNX.4.21.0004181616160.1324-100000@Chrestomanci.home.earth>
Message-ID: <x23dojyta3.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> Dear R people,
> 
> I realise I should have specified that I am using R under Linux
> (Unix).
> 
> I tried R_VSIZE=10M in .Renviron as suggested by Uwe Ligges, instead of
> R_VSIZE = 10M and to my surprise it worked! I then tried R_VSIZE = 10M
> again to make sure I wasn't deranged, and it *didn't* work! I don't see
> why spaces should make so much difference. They rarely do in Unix, in my
> experience. It might be reasonable to specifically mention the correct
> form in the documentation. It is hardly self-evident, at least to me (but
> maybe I'm missing something).

It's a (/bin/sh) shell script and shell scripts do not want blanks
around "=" 

x = y # execute program "x" with arguments "=" and "y"
x= y  # execute program "y" with environment var "x" set empty
x=y   # set variable "x" to "y"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrick.Lee at sf.frb.org  Wed Apr 19 01:16:29 2000
From: Patrick.Lee at sf.frb.org (Patrick Lee)
Date: Tue, 18 Apr 2000 16:16:29 -0700
Subject: [R] Rweb
Message-ID: <200004182317.TAA19021@p1fed3.frb.org>



Hello;
I'm thinking of setting up Rweb on an NT server and would like to know
if any R users have done the same. I don't know much of Perl and cgi scripts
so I'm wondering how much general debugging it wil take to build this interface.
Any help would be appreciated. Thank you.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Apr 19 18:35:20 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 19 Apr 2000 18:35:20 +0200 (CEST)
Subject: [R] path = "." default for list.files()?
In-Reply-To: <OFDEC1B7C1.E59F93AA-ON852568C5.006452D7@intlhub.un.org>
References: <OFDEC1B7C1.E59F93AA-ON852568C5.006452D7@intlhub.un.org>
Message-ID: <14589.57416.667108.373636@lynne.ethz.ch>

>>>>> "Griffith" == Griffith Feeney <feeney at un.org> writes:

    Griffith> Would it make sense to default the path argument for
    Griffith> list.files() to "."?

Seems like a good idea,  since it works (here) for both Unix and Windows.

Anyone: Please protest if you think this should *not* happen ...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 20 02:07:38 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 19 Apr 2000 20:07:38 -0400 (EDT)
Subject: [R] removing NA values from data frame & identification function
Message-ID: <Pine.LNX.4.21.0004191950380.459-100000@Chrestomanci.home.earth>

Dear people,

1) I have a data frame with named columns.For concreteness, let us say
that I created a data frame from the vectors fee, fi fo, fum by

giant.df <- cbind(fee, fi, fo, fum)

Now, some of the entries in fee, fi fo fum are NAs. I want to remove any
row which contains a NA, thus creating a new, smaller data frame, with the
same column names. This seems like something people would need to do all
the time, but I have been unable to think of a clean way to do it.

Actually, I'm trying to do this because step and stepAIC don't seem to
happy with handling glm objects constructed from data sets containing
NAs. It would be even cooler if this could be done at the level of
read.table, but I don't see a way to do this.

2) Is there a function to compare whether two objects are identical in
every respect?

Thanks for everyone's very valuable help on this list. I'm still a raw
beginner, but perhaps getting a little less raw...

                         Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 20 03:05:31 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 19 Apr 2000 21:05:31 -0400 (EDT)
Subject: [R] removing NA values from data frame & identification function
In-Reply-To: <38FE51BA.1C233A25@honlab.nmfs.hawaii.edu>
Message-ID: <Pine.LNX.4.21.0004192058520.459-100000@Chrestomanci.home.earth>

I should probably clarify. I can fit a glm model to my data fine, even
with missing values. The default na.action appears to be to omit the rows
with NAs in them. However, there is the following warning in the doc page
for step (written by Brian Ripley, I assume):

*********************************************************************
The model fitting must apply the models to the same dataset. This may be a
problem if there are missing values and R's default of na.action = na.omit
is used. We suggest you remove the missing values first.
*********************************************************************

I think he means that the NA values should be explicitly removed from the
data set. Indeed, funny things seem to happen when I try to use step or
its sister function stepAIC, which I think may possibly be due to NAs
being present. (In all cases, I am using na.action with the default value
of na.omit).
                                 Faheem.

On Wed, 19 Apr 2000, Pierre Kleiber wrote:

> For your first question look at the function na.omit() or the optional
> argument, na.action, in glm, gam, etc.  I think they will do what you
> want.
> 
> -- 
> -----------------------------------------------------------------
> Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
> Fishery Biologist                     Tel: 808 983-5399/737-7544
> NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
> 2570 Dole St., Honolulu, HI 96822-2396 
> -----------------------------------------------------------------
>  "God could have told Moses about galaxies and mitochondria and
>   all.  But behold... It was good enough for government work."
> -----------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Apr 20 04:09:11 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 20 Apr 2000 14:09:11 +1200
Subject: [R] increasing memory size
In-Reply-To: <37DE4DCD.2424B08A@lion-ag.de>
References: <Pine.LNX.4.04.9909131533490.10584-100000@euclea.sevenc.private>
Message-ID: <200004200209.OAA25217@gosset.stats.waikato.ac.nz>

I also want to increase memory size in R, version 0.90.1 on Windows NT 4.0.
My R icon is on my Office toolbar so I right-click it, select Properties
and alter the target. Then I get an error box saying:

"The name "F:\Program Files\rw0901\bin\Rgui.exe --vsize 20M --nsize 2M"
specified in the target box is not valid. Make sure the path and filename
are correct."

OK, what next?

Murray Jorgensen

At 01:29 PM 14-09-99 +0000, Laurent Gautier wrote:
>karen at gecko.biol.wits.ac.za wrote:
>
>> Help!
>>
>> I've done this before but can't remember how to do it, and can't find any
>> reference to it in the docs I have access to now.
>> I need to increase --vsize (I think), as I'm getting a message when I
>> start my R session "vector heap too small to load data".
>> How does one exactly do this, and what is the default setting? I don't
>> know how much to increase it by.
>>
>> I know I read this somewhere....
>> This is very irritating!
>> I'll appreciate any help!
>
>I guess I am the Nth person to send you an e-mail having the following
advice.
>Never mind :
>
>
>try
>
>help(Memory)

Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Apr 20 04:14:22 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 19 Apr 2000 22:14:22 -0400 (EDT)
Subject: [R] removing NA values from data frame & identification function
In-Reply-To: <Pine.LNX.4.21.0004191950380.459-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.10.10004192209480.1036-100000@bolker.zoo.ufl.edu>

On Wed, 19 Apr 2000, Faheem Mitha wrote:

> Dear people,
> 
> 1) I have a data frame with named columns.For concreteness, let us say
> that I created a data frame from the vectors fee, fi fo, fum by
> 
> giant.df <- cbind(fee, fi, fo, fum)
> 
> Now, some of the entries in fee, fi fo fum are NAs. I want to remove any
> row which contains a NA, thus creating a new, smaller data frame, with the
> same column names. This seems like something people would need to do all
> the time, but I have been unable to think of a clean way to do it.

  perhaps

clean.df <- giant.df[apply(giant.df,1,function(z)all(!is.na(z))),]

 would do what you wanted?

 Or, slightly more tersely,

            giant.df[!(apply(is.na(giant.df),1,any)),]

> 
> Actually, I'm trying to do this because step and stepAIC don't seem to
> happy with handling glm objects constructed from data sets containing
> NAs. It would be even cooler if this could be done at the level of
> read.table, but I don't see a way to do this.
> 


-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Apr 20 05:17:47 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 19 Apr 2000 23:17:47 -0400 (EDT)
Subject: [R] increasing memory size
In-Reply-To: <200004200209.OAA25217@gosset.stats.waikato.ac.nz>
References: <Pine.LNX.4.04.9909131533490.10584-100000@euclea.sevenc.private>
	<200004200209.OAA25217@gosset.stats.waikato.ac.nz>
Message-ID: <14590.30427.319543.674860@sonny.eddelbuettel.com>


  "Murray" == Murray Jorgensen <maj at waikato.ac.nz> writes:
  Murray> "The name "F:\Program Files\rw0901\bin\Rgui.exe --vsize 20M --nsize
  Murray> 2M" specified in the target box is not valid. Make sure the path
  Murray> and filename are correct."
  Murray> 
  Murray> OK, what next?

>From the CHANGES file:

    o   `vsize' and `nsize' can be set by the environment variables
        R_VSIZE and R_NSIZE respectively, perhaps most conveniently from
        `~/.Renviron' under Unix or Windows.  Command-line settings will
        take precedence.

        The defaults have been increased to 6M and 250k.

Note that this might not work on your pre-1.0.0 version, so you have another
reason to upgrade.

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Apr 20 06:41:02 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 20 Apr 2000 06:41:02 +0200
Subject: [R] increasing memory size
In-Reply-To: <200004200209.OAA25217@gosset.stats.waikato.ac.nz>
Message-ID: <B52456FE.27DA%pflugshaupt@geobot.umnw.ethz.ch>

(message from 20.4.2000 4:09 Uhr):

> I also want to increase memory size in R, version 0.90.1 on Windows NT 4.0.
> My R icon is on my Office toolbar so I right-click it, select Properties
> and alter the target. Then I get an error box saying:
> 
> "The name "F:\Program Files\rw0901\bin\Rgui.exe --vsize 20M --nsize 2M"
> specified in the target box is not valid. Make sure the path and filename
> are correct."
> 
> OK, what next?

Close the quotes before appending the parameters, thus writing

"F:\Program Files\rw0901\bin\Rgui.exe" --vsize 20M --nsize 2M

That should do it (did it for me). I'm no Windows expert, so don't ask why
this is necessary (shouldn't be, IMHO)

Cheers

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Thu Apr 20 10:53:46 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Thu, 20 Apr 2000 10:53:46 +0200
Subject: [R] installation pbm on irix 6.2 : make step
Message-ID: <38FEC599.E48FC962@univ-orleans.fr>

Hi everybody,

i try to install the R 1.0.1 on a mips-sgi-irix6.2 system.

The configure seems ok : it ends with
- souce directory : .
- installation dircetory : /usr/local
- C compiler : cc -g
- Fortran compiler : fort77
- Gnome support : no

But when i enter : make it says:
-syntax error in file ../tools/jeywords2html at line 9, next 2 tokens
"my $key"
-syntax error in file ../tools/jeywords2html at line 55, next 2 tokens
"searchKey("
-Execution of ../tools/keywords2html aborted due to compilation errors
***error code 255 (bu21)
***error code 1 (bu21)

Thanks in advance for any help

---------

Nicolas Baurin
Doctorant
I.C.O.A



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Thu Apr 20 11:34:28 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Thu, 20 Apr 2000 11:34:28 +0200
Subject: [R] random number 0-1
Message-ID: <38FECF21.C67BD3DF@univ-orleans.fr>

Hello,

i'm looking for the procedure to generate a random number between 0-1.
Try rnorm() but can't get to do generate between 0-1

thanks(i'm sur it's easy)

--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Apr 20 11:59:16 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 20 Apr 2000 11:59:16 +0200 (CEST)
Subject: [R] installation pbm on irix 6.2 : make step
In-Reply-To: <38FEC599.E48FC962@univ-orleans.fr>
References: <38FEC599.E48FC962@univ-orleans.fr>
Message-ID: <14590.54516.795465.21409@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 20 Apr 2000 10:53:46 +0200,
>>>>> nicolas baurin (nb) wrote:

nb> Hi everybody,
nb> i try to install the R 1.0.1 on a mips-sgi-irix6.2 system.

nb> The configure seems ok : it ends with
nb> - souce directory : .
nb> - installation dircetory : /usr/local
nb> - C compiler : cc -g
nb> - Fortran compiler : fort77
nb> - Gnome support : no

nb> But when i enter : make it says:
nb> -syntax error in file ../tools/jeywords2html at line 9, next 2 tokens
nb> "my $key"
nb> -syntax error in file ../tools/jeywords2html at line 55, next 2 tokens
nb> "searchKey("
nb> -Execution of ../tools/keywords2html aborted due to compilation errors
nb> ***error code 255 (bu21)
nb> ***error code 1 (bu21)



It really says ``jeywords2html'' instead of keywords2html or did you
type that text by hand?

Which version of perl is installed on your system (try perl --version)?

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Apr 20 12:07:37 2000
From: gb at stat.umu.se (gb)
Date: Thu, 20 Apr 2000 12:07:37 +0200 (CEST)
Subject: [R] random number 0-1
In-Reply-To: <38FECF21.C67BD3DF@univ-orleans.fr>
Message-ID: <Pine.LNX.4.21.0004201204480.2170-100000@pc16.stat.umu.se>

> i'm looking for the procedure to generate a random number between 0-1.
> Try rnorm() but can't get to do generate between 0-1

The distributions restricted to (0, 1) I know of in R are the beta 
distributions. You have 'rbeta' and 'runif'. 
> 
> thanks(i'm sur it's easy)
> 
> --
> Nicolas Baurin
> 
> Doctorant
> Institut de Chimie Organique et Analytique, UPRES-A 6005
> Université d'Orléans, BP 6759
> 45067 ORLEANS Cedex 2, France
> Tel: (33+) 2 38 49 45 77

Göran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr 20 12:20:13 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Apr 2000 12:20:13 +0200
Subject: [R] random number 0-1
References: <38FECF21.C67BD3DF@univ-orleans.fr>
Message-ID: <38FED9DD.569FFBC4@statistik.uni-dortmund.de>

> i'm looking for the procedure to generate a random number between 0-1.
> Try rnorm() but can't get to do generate between 0-1

Normal distribution between 0 and 1 ?????

For uniform distribution e.g.:
 runif(100, min=0, max=1)

Regards, 
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Thu Apr 20 12:25:11 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Thu, 20 Apr 2000 11:25:11 +0100
Subject: [R] increasing memory size
References: <B52456FE.27DA%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <38FEDB07.7A5A8902@clara.net>


Kaspar Pflugshaupt wrote:
> 
> (message from 20.4.2000 4:09 Uhr):
> 
> > I also want to increase memory size in R, version 0.90.1 on Windows NT 4.0.
> > My R icon is on my Office toolbar so I right-click it, select Properties
> > and alter the target. Then I get an error box saying:
> >
> > "The name "F:\Program Files\rw0901\bin\Rgui.exe --vsize 20M --nsize 2M"
> > specified in the target box is not valid. Make sure the path and filename
> > are correct."
> >
> > OK, what next?
> 
> Close the quotes before appending the parameters, thus writing
> 
> "F:\Program Files\rw0901\bin\Rgui.exe" --vsize 20M --nsize 2M
> 
> That should do it (did it for me). I'm no Windows expert, so don't ask why
> this is necessary (shouldn't be, IMHO)

The quotes _are_ necessary and the reason is the same for both Windows
and Unix. If any space (or other argument separator character) is
embedded in an argument, the entire argument needs to be surrounded by
quotes. For example:

a b c d         # run command "a" with 3 parameters "b", "c" and "d"
"a b" c d       # run command "a b" with 2 parameters "c" and "d"
"a b c d"       # run command "a b c d" with no parameters
a "b c d"       # run command "a" with 1 parameter "b c d"

Note that if you upgrade to R 1.0.0 you will need:

"F:\Program Files\rw1000\bin\Rgui.exe" --vsize=20M --nsize=2M

(the command now has 2 parameters instead of 4)

Regards,
Clive Jenkins

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 20 12:49:23 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Apr 2000 12:49:23 +0200
Subject: [R] removing NA values from data frame & identification function
In-Reply-To: Faheem Mitha's message of "Wed, 19 Apr 2000 20:07:38 -0400 (EDT)"
References: <Pine.LNX.4.21.0004191950380.459-100000@Chrestomanci.home.earth>
Message-ID: <x27ldt3v4c.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> Dear people,
> 
> 1) I have a data frame with named columns.For concreteness, let us say
> that I created a data frame from the vectors fee, fi fo, fum by
> 
> giant.df <- cbind(fee, fi, fo, fum)
> 
> Now, some of the entries in fee, fi fo fum are NAs. I want to remove any
> row which contains a NA, thus creating a new, smaller data frame, with the
> same column names. This seems like something people would need to do all
> the time, but I have been unable to think of a clean way to do it.

This would seem to do what you want:

giant.df.clean <- na.omit(giant.df) 

or 

subset(giant.df, complete.cases(giant.df))

or

giant.df[complete.cases(giant.df),]


However, this works on data frames and your giant.df is a matrix,
*not* a data frame. Use

giant.df <- data.frame(fee, fi, fo, fum)

and then go for the golden easter eggs...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 20 12:50:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Apr 2000 12:50:29 +0200
Subject: [R] random number 0-1
In-Reply-To: nicolas baurin's message of "Thu, 20 Apr 2000 11:34:28 +0200"
References: <38FECF21.C67BD3DF@univ-orleans.fr>
Message-ID: <x24s8x3v2i.fsf@blueberry.kubism.ku.dk>

nicolas baurin <nicolas.baurin at univ-orleans.fr> writes:

> Hello,
> 
> i'm looking for the procedure to generate a random number between 0-1.
> Try rnorm() but can't get to do generate between 0-1
> 
> thanks(i'm sur it's easy)

I think you're looking for 

runif()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Apr 20 12:45:55 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 20 Apr 2000 22:45:55 +1200
Subject: [R] random number 0-1
References: <38FECF21.C67BD3DF@univ-orleans.fr>
Message-ID: <38FEDFDF.D407837B@xtra.co.nz>

There are many ways to do this.
rnorm generates random numbers using normal distribution generator.
runif generates random numbers using uniform distribution generator, which by
default ranges from 0 ~ 1.

I believe "runif()" would be the one you want, althought here are many other
distribution like binomial and poisson.  To use runif, obviously you can read the
documentation by typing:
> ?runif

However, it works basically as:
runif(n, min=0, max=1)
where n is the number of random numbers you want, min=0, max=1 means you want them
to be generated through the uniform distribution generator, between 0 and 1 (they
are the default).

Cheers,


Ko-Kang Wang

nicolas baurin wrote:

> Hello,
>
> i'm looking for the procedure to generate a random number between 0-1.
> Try rnorm() but can't get to do generate between 0-1
>
> thanks(i'm sur it's easy)
>
> --
> Nicolas Baurin
>
> Doctorant
> Institut de Chimie Organique et Analytique, UPRES-A 6005
> Universit? d'Orl?ans, BP 6759
> 45067 ORLEANS Cedex 2, France
> Tel: (33+) 2 38 49 45 77
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Apr 20 13:53:34 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 20 Apr 2000 23:53:34 +1200
Subject: [R] increasing memory size
In-Reply-To: <38FEDB07.7A5A8902@clara.net>
References: <B52456FE.27DA%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <200004201157.XAA26855@gosset.stats.waikato.ac.nz>

Thanks to everyone for the help. I'm taking an Easter break now, but if you
hear nothing more from me you may assume that everythng worked fine!

Murray Jorgensen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Apr 20 17:37:06 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 20 Apr 2000 17:37:06 +0200 (CEST)
Subject: [R] rgamma with negative shape and scale parameters works?
In-Reply-To: <x2em88skck.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.21.0004141222170.611-100000@Chrestomanci.home.earth>
	<x2em88skck.fsf@blueberry.kubism.ku.dk>
Message-ID: <14591.9250.489061.905398@lynne.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Faheem Mitha <faheem at email.unc.edu> writes:

    >> This is a possibly silly question, but the rgamma function takes the
    >> shape and scale arguments and simulates gamma rvs corresponding to
    >> those values, right? But the shape and scale parameters have to be
    >> positive, right?  However, rgamma quite happily returns to me values
    >> for negative values of shape and scale, and in some cases returns
    >> negative values eg.
    >> 
    >> > rgamma(1, 1, -1)
    >> [1] -1.011081
    >> > rgamma(1, -1, -1)
    >> [1] -1.710464
    >> > rgamma(1, -1, 1)
    >> [1] 2.058639

    PD> Most likely, it is a bug(let). Calculating dgamma(rgamma(... with the
    PD> same parameters give NaN. 

Not so with Splus (5.1 Solaris); dgamma() there "works" as well
--- only with negative "scale" however; "shape" is required to be "> 0"...
In S+, it partially works (sometimes; I have seen dgamma() < 0 !) to use a
negative "scale" ("rate" in S-plus):
I found that R and S are quite incompatible for the gamma
distribution, we have "scale" where S has "rate", and
   rate = 1/scale

It seems that one can work with a negative rate/"scale" parameter
("scale" then being even more a misnomer...)
and I vaguely remember something in the back of my mind
where someone even *requested* this ...   any ring?

(anyone less lazy and care to look in Johnson & Kotz or ...) ?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adysart at nonlineardynamics.com  Thu Apr 20 19:08:41 2000
From: adysart at nonlineardynamics.com (Aidan Dysart)
Date: Thu, 20 Apr 2000 13:08:41 -0400 (EDT)
Subject: [R] stack operations on vectors
Message-ID: <Pine.LNX.4.10.10004201303370.2765-100000@ebony.nonlineardynamics.com>

It would be nie to have some basic stack operations for simple vectors and
lists. ie:

> a <- c(1,2,3,4,5)
> b <- pop(a)
> a
[1] 1 2 3 4
>b
[1] 5
> push(b, 6)
> b
[1] 5 6

notice how pop and push modify the original vector and not local copy
inside the functions environment. Is there any way to do this? I tried
this:

push <- function(vec,val) {
  vec <<- c(vec,val)
}

pop <- function(vec) {
  l <- length(vec)
  val <- vec[l]
  vec <<- vec[1:(l-1)]
  val
}

but those only create the object 'vec' in the global environment. is there
a way to pass an object by reference?

It seems like the only way to do this would be to have it call an
internal function.

PS. please include me in the reply, and I am only on the R-Help digest.
thanks.

-- 
Aidan Dysart | adysart at nonlineardynamics.com | www.nonlineardynamics.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Apr 20 19:52:43 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 20 Apr 2000 13:52:43 -0400
Subject: [R] rgamma with negative shape and scale parameters works?
Message-ID: <852568C7.00622F4A.00@EPAHUB2.RTP.EPA.GOV>



Patil, Boswell, and Ratnaparkhi (dictionary and Classified bibliography of
Statistical Distributions in Scientific Work, Volume 2: Continuous Univariate
Models, International Co-operative Publishing House, Fairland, MD. 1984)
parametrize the gamma distribution as does R and they constrain both shape and
scale to be positive.

The entry in the Encyclopedia of Statistical Sciences for the Gamma Distribution
(by Lee Bain) uses the same parametrization, and also constrain shape and scale
to be positive.

(Sorry, someone made off with volume 1 of our Johnson and Kotz, "Continuous
Univariate Distributions").

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+-------------------------->
|        |          maechler at stat.ma|
|        |          th.ethz.ch      |
|        |                          |
|        |          04/20/2000 11:37|
|        |          AM              |
|        |          Please respond  |
|        |          to maechler     |
|        |                          |
|--------+-------------------------->
  >----------------------------------------------------------|
  |                                                          |
  |       To:     r-help at stat.math.ethz.ch                   |
  |       cc:     faheem at email.unc.edu                       |
  |       Subject:     Re: [R] rgamma with negative shape and|
  |       scale parameters works?                            |
  >----------------------------------------------------------|






>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Faheem Mitha <faheem at email.unc.edu> writes:

    >> This is a possibly silly question, but the rgamma function takes the
    >> shape and scale arguments and simulates gamma rvs corresponding to
    >> those values, right? But the shape and scale parameters have to be
    >> positive, right?  However, rgamma quite happily returns to me values
    >> for negative values of shape and scale, and in some cases returns
    >> negative values eg.
    >>
    >> > rgamma(1, 1, -1)
    >> [1] -1.011081
    >> > rgamma(1, -1, -1)
    >> [1] -1.710464
    >> > rgamma(1, -1, 1)
    >> [1] 2.058639

    PD> Most likely, it is a bug(let). Calculating dgamma(rgamma(... with the
    PD> same parameters give NaN.

Not so with Splus (5.1 Solaris); dgamma() there "works" as well
--- only with negative "scale" however; "shape" is required to be "> 0"...
In S+, it partially works (sometimes; I have seen dgamma() < 0 !) to use a
negative "scale" ("rate" in S-plus):
I found that R and S are quite incompatible for the gamma
distribution, we have "scale" where S has "rate", and
   rate = 1/scale

It seems that one can work with a negative rate/"scale" parameter
("scale" then being even more a misnomer...)
and I vaguely remember something in the back of my mind
where someone even *requested* this ...   any ring?

(anyone less lazy and care to look in Johnson & Kotz or ...) ?

Martin Maechler <maechler at stat.math.ethz.ch>  http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10  Leonhardstr. 27
ETH (Federal Inst. Technology)     8092 Zurich     SWITZERLAND
phone: x-41-1-632-3408        fax: ...-1228             <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Apr 20 20:41:22 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 20 Apr 2000 18:41:22 +0000 (GMT)
Subject: [R] stack operations on vectors
In-Reply-To: <Pine.LNX.4.10.10004201303370.2765-100000@ebony.nonlineardynamics.com>
Message-ID: <Pine.LNX.4.10.10004201827570.3128-100000@gimel.biostat.washington.edu>

On Thu, 20 Apr 2000, Aidan Dysart wrote:

> It would be nie to have some basic stack operations for simple vectors and
> lists. ie:
> 
> > a <- c(1,2,3,4,5)
> > b <- pop(a)
> > a
> [1] 1 2 3 4
> >b
> [1] 5
> > push(b, 6)
> > b
> [1] 5 6
> 
> notice how pop and push modify the original vector and not local copy
> inside the functions environment. Is there any way to do this? I tried
> this:

There are two ways to do this sort of thing.  One is similar to what you
were doing, but is, I think, considered harmful (messing with frames
should be restricted to places where it is essential).

a <- c(1,2,3,4,5)
pop<-function(x) eval(substitute(x<-x[-1]),parent.frame())
> a
[1] 1 2 3 4 5
> pop(a)
> a
[1] 2 3 4 5



The other is to define a stack class, eg
> makeStack<-function(x){
 pop<-function() if (length(x)>1) x<<-x[-1]
 push<-function(y) x<<-c(y,x)
 value<-function() x
 rval<-list(pop=pop,push=push,value=value)
 class(rval)<-"myStack"
 rval
 }

> print.myStack<-function(x) print(x$value())
> a<-makeStack(1:5)
> a
[1] 1 2 3 4 5
> a$pop()
> a
[1] 2 3 4 5
> a$pop()
> a
[1] 3 4 5
> a$push(3)
> a
[1] 3 3 4 5


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 20 22:14:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Apr 2000 22:14:42 +0200
Subject: [R] stack operations on vectors
In-Reply-To: Thomas Lumley's message of "Thu, 20 Apr 2000 18:41:22 +0000 (GMT)"
References: <Pine.LNX.4.10.10004201827570.3128-100000@gimel.biostat.washington.edu>
Message-ID: <x2og745y31.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> There are two ways to do this sort of thing.  One is similar to what you
> were doing, but is, I think, considered harmful (messing with frames
> should be restricted to places where it is essential).

Actually, I think it *is* essential when you're trying to simulate
call-by-reference semantics, so code like the below would be quite OK.

> a <- c(1,2,3,4,5)
> pop<-function(x) eval(substitute(x<-x[-1]),parent.frame())
> > a
> [1] 1 2 3 4 5
> > pop(a)
> > a
> [1] 2 3 4 5

Um, you seem to have forgotten to return the old value of x[1]...

Exercise: Will this work, and why not?

pop<-function(x) {eval(substitute(x<-x[-1]),parent.frame());x[1]}

How about this:

pop<-function(x) if (length(x)>0)
		{eval(substitute(x<-x[-1]),parent.frame());x[1]} else NA

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Apr 21 10:52:14 2000
From: gb at stat.umu.se (gb)
Date: Fri, 21 Apr 2000 10:52:14 +0200 (CEST)
Subject: [R] i686
Message-ID: <Pine.LNX.4.21.0004211051170.2477-100000@pc16.stat.umu.se>


When I installed R-1.0.1 on my RH-6.1 Linux machine I got, when
running  'configure' (only the first few lines repeated here):

--------------------------------------------------
[root at localhost R-1.0.1]# ./configure --with-gnome
creating cache ./config.cache
checking host system type... i686-unknown-linux
loading site script ./config.site
loading build specific script ./config.site
./configure: i686: command not found
--------------------------------------------------

It's the last line that worries me. Obviously, configure tries to
do something special if the target is an i686, but has it succeeded?
And do I have to worry?

Haven't seen this before, but no wonder, considering the speedy
output from configure! 

G?ran
--------------------------------------------------------------------
 G?ran Brostr?m                             tel: +46 90 786 5223
 Department of Statistics                   fax: +46 90 786 6614
 University of Ume?
 SE-90187 Ume?, Sweden                   e-mail: gb at stat.umu.se
--------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Fri Apr 21 11:34:27 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Fri, 21 Apr 2000 11:34:27 +0200
Subject: [R] Graphics: somethink like autoscale
Message-ID: <390020A2.7E09F6EA@univ-orleans.fr>

Hello to all of you,

What i try to do : i got data of the type (x,y) which i plot with plot
(x,y).

i want to actualise that plot adding new points (x,y) (i did it with
points(x,y)): how can i adjust the scale of the axis x and y
to see all the points in the window.
Ex: i start with plot (1,0.5). If i do points(0.8,0.5) no problem, all
my points are visible on the graph. But if i do points(2,2),
this point is not visible on the plot. I'm looking for a way to adjust
the scale of the x and y axis to see all my points in the window.

Cordialement,


--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 21 12:20:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Apr 2000 12:20:18 +0200
Subject: [R] i686
In-Reply-To: gb's message of "Fri, 21 Apr 2000 10:52:14 +0200 (CEST)"
References: <Pine.LNX.4.21.0004211051170.2477-100000@pc16.stat.umu.se>
Message-ID: <x2ln27sql9.fsf@blueberry.kubism.ku.dk>

gb <gb at stat.umu.se> writes:

> When I installed R-1.0.1 on my RH-6.1 Linux machine I got, when
> running  'configure' (only the first few lines repeated here):
> 
> --------------------------------------------------
> [root at localhost R-1.0.1]# ./configure --with-gnome
> creating cache ./config.cache
> checking host system type... i686-unknown-linux
> loading site script ./config.site
> loading build specific script ./config.site
> ./configure: i686: command not found
> --------------------------------------------------
> 
> It's the last line that worries me. Obviously, configure tries to
> do something special if the target is an i686, but has it succeeded?
> And do I have to worry?

Yes, you should worry.... One thing you might do to debug it is to run
configure as "sh -x /path/to/configure". This echoes every sh command
that the script is running, so it should tell you exactly where the
error is coming from. (Tons of output, divert it to a file or run
through a pager). 

My best guess is that you have something in config.site that is not
supposed to be there.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 21 12:31:34 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Apr 2000 12:31:34 +0200
Subject: [R] Graphics: somethink like autoscale
In-Reply-To: nicolas baurin's message of "Fri, 21 Apr 2000 11:34:27 +0200"
References: <390020A2.7E09F6EA@univ-orleans.fr>
Message-ID: <x2itxbsq2h.fsf@blueberry.kubism.ku.dk>

nicolas baurin <nicolas.baurin at univ-orleans.fr> writes:

> Hello to all of you,
> 
> What i try to do : i got data of the type (x,y) which i plot with plot
> (x,y).
> 
> i want to actualise that plot adding new points (x,y) (i did it with
> points(x,y)): how can i adjust the scale of the axis x and y
> to see all the points in the window.
> Ex: i start with plot (1,0.5). If i do points(0.8,0.5) no problem, all
> my points are visible on the graph. But if i do points(2,2),
> this point is not visible on the plot. I'm looking for a way to adjust
> the scale of the x and y axis to see all my points in the window.

Basically, you can't. The graphics model used by R is of the "no
eraser" variety: If you plot something it stays there, including axes.
So the only thing to do is to plan ahead and make the xlim and ylim
large enough to hold all of your data. 

Alternatively, I suppose you could devise a system where you buffered
up the x,y pairs and replotted if necessary (i.e. if any of the new
pairs wouldn't fit). It wouldn't be completely trivial but it should
be doable.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 21 12:36:08 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 21 Apr 2000 12:36:08 +0200
Subject: [R] Graphics: somethink like autoscale
References: <390020A2.7E09F6EA@univ-orleans.fr>
Message-ID: <39002F18.2331206A@statistik.uni-dortmund.de>

> What i try to do : i got data of the type (x,y) which i plot with plot
> (x,y).
> 
> i want to actualise that plot adding new points (x,y) (i did it with
> points(x,y)): how can i adjust the scale of the axis x and y
> to see all the points in the window.
> Ex: i start with plot (1,0.5). If i do points(0.8,0.5) no problem, all
> my points are visible on the graph. But if i do points(2,2),
> this point is not visible on the plot. I'm looking for a way to adjust
> the scale of the x and y axis to see all my points in the window.

Maybe it is this what you want:

  plot(1, 0.5, xlim=c(0,2), ylim=c(0,2))
  points(2, 2)

Regards, 
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Apr 21 14:18:37 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 21 Apr 2000 14:18:37 +0200 (CEST)
Subject: [R] i686
In-Reply-To: <x2ln27sql9.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.21.0004211051170.2477-100000@pc16.stat.umu.se>
	<x2ln27sql9.fsf@blueberry.kubism.ku.dk>
Message-ID: <14592.18205.238302.742697@aragorn.ci.tuwien.ac.at>

>>>>> Peter Dalgaard BSA writes:

> gb <gb at stat.umu.se> writes:
>> When I installed R-1.0.1 on my RH-6.1 Linux machine I got, when
>> running  'configure' (only the first few lines repeated here):
>> 
>> --------------------------------------------------
>> [root at localhost R-1.0.1]# ./configure --with-gnome
>> creating cache ./config.cache
>> checking host system type... i686-unknown-linux
>> loading site script ./config.site
>> loading build specific script ./config.site
>> ./configure: i686: command not found
>> --------------------------------------------------
>> 
>> It's the last line that worries me. Obviously, configure tries to
>> do something special if the target is an i686, but has it succeeded?
>> And do I have to worry?

> Yes, you should worry.... One thing you might do to debug it is to run
> configure as "sh -x /path/to/configure". This echoes every sh command
> that the script is running, so it should tell you exactly where the
> error is coming from. (Tons of output, divert it to a file or run
> through a pager). 

> My best guess is that you have something in config.site that is not
> supposed to be there.

I think there is no need to worry.  The problem seems to occur when
using --with-gnome, irrespective of what config.site and/or .Rconf do.
It is solved by upgrading the tools/config.{sub,guess} scripts and
making related changes in configure.in.  This is already taken care of
in the development version.

If the reported behavior breaks something, I will gladly merge the fix
into the release version.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Apr 21 14:33:26 2000
From: gb at stat.umu.se (gb)
Date: Fri, 21 Apr 2000 14:33:26 +0200 (CEST)
Subject: [R] i686
In-Reply-To: <14592.18205.238302.742697@aragorn.ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.21.0004211427300.2670-100000@pc16.stat.umu.se>

On Fri, 21 Apr 2000, Kurt Hornik wrote:

> >>>>> Peter Dalgaard BSA writes:
> 
> > gb <gb at stat.umu.se> writes:
> >> When I installed R-1.0.1 on my RH-6.1 Linux machine I got, when
> >> running  'configure' (only the first few lines repeated here):
> >> 
> >> --------------------------------------------------
> >> [root at localhost R-1.0.1]# ./configure --with-gnome
> >> creating cache ./config.cache
> >> checking host system type... i686-unknown-linux
> >> loading site script ./config.site
> >> loading build specific script ./config.site
> >> ./configure: i686: command not found
> >> --------------------------------------------------
> >> 
> >> It's the last line that worries me. Obviously, configure tries to
> >> do something special if the target is an i686, but has it succeeded?
> >> And do I have to worry?
> 
> > Yes, you should worry.... One thing you might do to debug it is to run
> > configure as "sh -x /path/to/configure". This echoes every sh command
> > that the script is running, so it should tell you exactly where the
> > error is coming from. (Tons of output, divert it to a file or run
> > through a pager). 
> 
> > My best guess is that you have something in config.site that is not
> > supposed to be there.
> 
> I think there is no need to worry.  The problem seems to occur when
> using --with-gnome, irrespective of what config.site and/or .Rconf do.

Yes, I just found out; without that flag, no error message. And in
'configure' I find:

# Check whether --with-gnome or --without-gnome was given.
if test "${with_gnome+set}" = set; then
  withval="$with_gnome"
  if test "${withval}" = yes; then
    want_gnome=yes                        >>> Note
        $1                                >>> here
  else

It seems as if  $1  evaluates to  i686  here? Is this the bug? 

> It is solved by upgrading the tools/config.{sub,guess} scripts and
> making related changes in configure.in.  This is already taken care of
> in the development version.

Can I replace  $1  with

      LDFLAGS="$LDFLAGS -L${withval}/lib"
      CFLAGS="$CFLAGS -I${withval}/include"
      gnome_prefix=${withval}/lib

which I found a few lines futher down in configure?

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Fri Apr 21 14:35:17 2000
From: rls at pincock.com (Robert L. Sandefur)
Date: Fri, 21 Apr 2000 05:35:17 -0700
Subject: [R] outlier detection methods in r?
Message-ID: <s8ffe8c0.004@hc4>

hi -

 if I sample from a normal distribution with something like
n100<-rnorm(100,0,1)
and add an outlier with 
n100[10]<-4
then
qqnorm(n100)
visually shows the point 4 as an outlier
and calculating the probablity of a value of 4 or bigger  in 100 samples of norm(0,1)
gives
> 1-exp(log(pnorm(4,0,1))*100)
[1] 0.003162164

If I have more than 1 sample above outlier threshold the math is a bit more complicated
but doable.

My questions are 

1) are there better ways to assess probablity of outliers (ie value(s) above theshold from a given distribution)?
2) are they implimented in r?

(I checked outlier and extreme in r help and found nothing helpful)

thanx

bob sandefur

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vaddon at po-box.mcgill.ca  Sat Apr 22 16:46:20 2000
From: vaddon at po-box.mcgill.ca (Vittorio Addona)
Date: Sat, 22 Apr 2000 10:46:20 -0400
Subject: [R] censored bootstrap
Message-ID: <3901BB3C.5153D8D7@po-box.mcgill.ca>

Hello,
I have been trying to use the censored bootstrap function 'censboot'
from the library boot, with the function 'survfit' from the library
survival5.  My code is:

surv.fun <-function(data) {
  sur<-survfit(Surv(data[,1],data[,2]), data=data)
  }
c.boot<-censboot(m,surv.fun,R=99)

m is my data set

I get the error message:
Error in eval(attr(formula,"variables"),data,sys.frame(sys.parent( ))):
    sys.frame: not that many enclosing functions

Does anyone know what this means, or what I'm doing wrong?  Thank you
very much.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jiyugu at cc.kmu.edu.tw  Sun Apr 23 03:18:57 2000
From: jiyugu at cc.kmu.edu.tw (Jinn-Yuh Guh)
Date: Sun, 23 Apr 2000 09:18:57 +0800
Subject: [R] How to perform a logistic regression by R?
Message-ID: <000801bfacc1$efcb31c0$12b30fa3@m710044>

Hi,
How to perform a logistic regression by R?
Thanks

Sincerely Yours,
Jinn-Yuh Guh, M.D.
Dept. of Internal Medicine
Kaohsiung Medical College
100 Shi-Chuan 1st Road
Kaohsiung, Taiwan
FAX: 886-7-312-2810
e-mail: jyuh at mail.nsysu.edu.tw
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000423/f6b2e27a/attachment.html

From ripley at stats.ox.ac.uk  Sun Apr 23 11:56:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 23 Apr 2000 10:56:13 +0100 (BST)
Subject: [R] censored bootstrap
In-Reply-To: <3901BB3C.5153D8D7@po-box.mcgill.ca>
Message-ID: <Pine.GSO.4.05.10004231055100.732-100000@auk.stats>

On Sat, 22 Apr 2000, Vittorio Addona wrote:

> Hello,
> I have been trying to use the censored bootstrap function 'censboot'
> from the library boot, with the function 'survfit' from the library
> survival5.  My code is:
> 
> surv.fun <-function(data) {
>   sur<-survfit(Surv(data[,1],data[,2]), data=data)
>   }
> c.boot<-censboot(m,surv.fun,R=99)
> 
> m is my data set
> 
> I get the error message:
> Error in eval(attr(formula,"variables"),data,sys.frame(sys.parent( ))):
>     sys.frame: not that many enclosing functions
> 
> Does anyone know what this means, or what I'm doing wrong?  Thank you
> very much.

It is probably a problem with the R port. If you can send me a reproducible
example, I can take a look, but not otherwise.  All the supplied examples
work.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr 23 13:07:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 23 Apr 2000 12:07:15 +0100 (BST)
Subject: [R] removing NA values from data frame & identification function
In-Reply-To: <Pine.LNX.4.10.10004192209480.1036-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.05.10004231205380.732-100000@auk.stats>

On Wed, 19 Apr 2000, Ben Bolker wrote:

> On Wed, 19 Apr 2000, Faheem Mitha wrote:
> 
> > Dear people,
> > 
> > 1) I have a data frame with named columns.For concreteness, let us say
> > that I created a data frame from the vectors fee, fi fo, fum by
> > 
> > giant.df <- cbind(fee, fi, fo, fum)
> > 
> > Now, some of the entries in fee, fi fo fum are NAs. I want to remove any
> > row which contains a NA, thus creating a new, smaller data frame, with the
> > same column names. This seems like something people would need to do all
> > the time, but I have been unable to think of a clean way to do it.
> 
>   perhaps
> 
> clean.df <- giant.df[apply(giant.df,1,function(z)all(!is.na(z))),]
> 
>  would do what you wanted?
> 
>  Or, slightly more tersely,
> 
>             giant.df[!(apply(is.na(giant.df),1,any)),]

How about na.omit(giant.df)?  That is the intended use of na.action
functions. The help file says

     `na.omit' returns the data frame with incomplete cases removed.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Apr 23 20:55:43 2000
From: gb at stat.umu.se (gb)
Date: Sun, 23 Apr 2000 20:55:43 +0200 (CEST)
Subject: [R] matrix
In-Reply-To: <Pine.GSO.4.05.10004231205380.732-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0004232027370.9338-100000@pc16.stat.umu.se>


Is there a reason for the following behaviour?

> x <- matrix(1:6, ncol = 1)
> x
     [,1]
[1,]    1
[2,]    2
[3,]    3
[4,]    4
[5,]    5
[6,]    6
> is.matrix(x)
[1] TRUE
> is.matrix(x[1:2,])
[1] FALSE

The reason for asking is that I have a function which takes a matrix as
an argument, and in the function I "sweep" columns of subsets of the rows
of the matrix. This works fine, except when the input matrix has only one
column. Then I get

> sweep(cc[2:3, ], 2, cc.mean)
Error in aperm(array(STATS, dims[perm]), order(perm)) : 
        perm has incorrect length

If I change it to 

> sweep(matrix(cc[2:3, ]), 2, cc.mean)

it works, but it looks a little bit clumsy to me?

G?ran
-----------------------------------------------------------------------
 G?ran Brostr?m, professor                        tel: +46 90 786 5223
 Department of Statistics                         fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden                         e-mail: gb at stat.umu.se
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr 23 21:36:41 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Apr 2000 21:36:41 +0200
Subject: [R] matrix
In-Reply-To: gb's message of "Sun, 23 Apr 2000 20:55:43 +0200 (CEST)"
References: <Pine.LNX.4.21.0004232027370.9338-100000@pc16.stat.umu.se>
Message-ID: <x2d7ngip86.fsf@blueberry.kubism.ku.dk>

gb <gb at stat.umu.se> writes:

> Is there a reason for the following behaviour?
> 
> > x <- matrix(1:6, ncol = 1)
..
> > is.matrix(x[1:2,])
> [1] FALSE

Yes, there's a reason. Whether it's a good one is debatable, but it
has pervaded so much existing S (and R) code that it is not likely to
get changed. A single matrix column is converted to a vector and
generally when subsetting arrays, indices corresponding to extents of
length one are dropped. Note however that the behaviour can be
overridden:

> x <- matrix(1:6, ncol = 1)
> is.matrix(x[1:2,,drop=F])
[1] TRUE


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr 23 21:36:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 23 Apr 2000 20:36:09 +0100 (BST)
Subject: [R] matrix
In-Reply-To: <Pine.LNX.4.21.0004232027370.9338-100000@pc16.stat.umu.se>
Message-ID: <Pine.GSO.4.05.10004232035410.597-100000@auk.stats>

On Sun, 23 Apr 2000, gb wrote:

> 
> Is there a reason for the following behaviour?
> 
> > x <- matrix(1:6, ncol = 1)
> > x
>      [,1]
> [1,]    1
> [2,]    2
> [3,]    3
> [4,]    4
> [5,]    5
> [6,]    6
> > is.matrix(x)
> [1] TRUE
> > is.matrix(x[1:2,])
> [1] FALSE

Yes, S-compability!  If you want to subset matrices and always get a matrix
you need x[1:2, , drop=FALSE] (note the two commas). Peversely, S drops   
dimensions on subsetting but not on matrix multiplication (use drop there).

[This *is* well-documented in the S literature.]

 
> The reason for asking is that I have a function which takes a matrix as
> an argument, and in the function I "sweep" columns of subsets of the rows
> of the matrix. This works fine, except when the input matrix has only one
> column. Then I get
> 
> > sweep(cc[2:3, ], 2, cc.mean)
> Error in aperm(array(STATS, dims[perm]), order(perm)) : 
>         perm has incorrect length

Um, that does not have only one column, it is a vector and does not have
any columns.

I notice that sweep in R has aped S, but 1:length(dims) is a common error
for seq(along=dims).  Perhaps x in sweep should be coerced to an array, or
stop with an informative message (as apply does).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Apr 23 22:02:37 2000
From: gb at stat.umu.se (gb)
Date: Sun, 23 Apr 2000 22:02:37 +0200 (CEST)
Subject: [R] matrix
In-Reply-To: <Pine.GSO.4.05.10004232035410.597-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0004232146030.9411-100000@pc16.stat.umu.se>


Thanks to Brian Ripley and Peter Dalgaard for quick replies. The argument
'drop = F' does the trick, as in

> is.matrix(x[1:2, , drop = F]) 
[1] TRUE

However, the real issue, why a subset of a matrix is not (necessarily)
a matrix, is apparently a matter of  S  compatibility.

> On Sun, 23 Apr 2000, gb wrote:
> 
> > 
> > Is there a reason for the following behaviour?
> > 
> > > x <- matrix(1:6, ncol = 1)
> > > x
> >      [,1]
> > [1,]    1
> > [2,]    2
> > [3,]    3
> > [4,]    4
> > [5,]    5
> > [6,]    6
> > > is.matrix(x)
> > [1] TRUE
> > > is.matrix(x[1:2,])
> > [1] FALSE

G?ran
----------------------------------------------------------
 G?ran Brostr?m, professor           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Umea University
 SE-90187 Umea, Sweden            e-mail: gb at stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Mon Apr 24 03:13:53 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Mon, 24 Apr 2000 11:13:53 +1000
Subject: [R] matrix 
In-Reply-To: Your message of "Sun, 23 Apr 2000 22:02:37 +0200."
             <Pine.LNX.4.21.0004232146030.9411-100000@pc16.stat.umu.se> 
Message-ID: <200004240113.LAA17721@snowy.nsw.cmis.CSIRO.AU>

G?ran Brostr?m writes:
> 
> Thanks to Brian Ripley and Peter Dalgaard for quick replies. The argument
> 'drop = F' does the trick, as in
> 
> > is.matrix(x[1:2, , drop = F]) 
> [1] TRUE
> 
> However, the real issue, why a subset of a matrix is not (necessarily)
> a matrix, is apparently a matter of  S  compatibility.

Hmm.  Yes and no.  There comes a time when you realise that this
is a very useful convenience for interactive users but a real
curse for programmers.  As most users of R are interactive users,
on the whole it pays off, as it does in the progenitor system.

It takes a very long time for programmers to remember when to put
"drop = T" in extraction function calls (well, for me at least,
because it has not come yet!).  It is also very easy *not* to be
aware of the number of times the convention has saved people from
getting some very obscure and puzzling error messages.

I think the Matrix class of S is an instructive example.  Objects
of class "Matrix" behave just like matrices but have some
considerable advantages and also are ruthlessly logical in not
honouring this drop convention.  The Matrix library is well
documented and available on all systems, but as far as I can tell
almost no one has even heard of it, let alone uses it.  It's a
real pity in a way since it does offer real programming
advantages, but that's how it is.  Moreover I detect no great
clamour from users for something similar available in R.  (This
may be partly because Brian would tell them to "go and write the
jolly thing yourself it you really want it", but only partly!)


-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Apr 24 14:00:05 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 24 Apr 2000 14:00:05 +0200
Subject: [R] paste ?
Message-ID: <4.3.1.0.20000424135644.00d857b0@127.0.0.1>

Dear friends. I've made a very simple procedure to make Bland-Altman plots 
and it works OK except for the inability to take a variate as argument in 
annotation. I'm sure it is a very simple error, so if you have 5 seconds 
please tell me.
Best wishes
Troels

  bland <- function (x) #accepts two columns
{
mn <- 0.5*(x[,1]+x[,2])
diff <- x[,1]-x[,2]
plot(mn,diff,pch=16,xlab="Mean",ylab="Difference",
main = paste("Bland Altman plot",mn))
abline(h=mean(diff),lty=2)
abline(h=mean(diff)+c(2,-2)*sqrt(var(diff)))
}
Troels

look here:
http://www.wired.com/wired/archive/8.04/joy.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 24 14:22:50 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2000 14:22:50 +0200
Subject: [R] paste ?
In-Reply-To: Troels Ring's message of "Mon, 24 Apr 2000 14:00:05 +0200"
References: <4.3.1.0.20000424135644.00d857b0@127.0.0.1>
Message-ID: <x2zoqjsn6t.fsf@blueberry.kubism.ku.dk>

Troels Ring <tring at mail1.stofanet.dk> writes:

>   bland <- function (x) #accepts two columns
> {
> mn <- 0.5*(x[,1]+x[,2])
> diff <- x[,1]-x[,2]
> plot(mn,diff,pch=16,xlab="Mean",ylab="Difference",
> main = paste("Bland Altman plot",mn))
> abline(h=mean(diff),lty=2)
> abline(h=mean(diff)+c(2,-2)*sqrt(var(diff)))
> }

Er, what would you want to get? "mn" is a vector with potentially a
lot of values in it, so neither paste(..., mn) or paste(...,mn,collapse=",")
or anything in that vein looks particularly atttractive. Perhaps

... main = paste("Bland Altman plot of", substitute(x)) ...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Mon Apr 24 15:15:01 2000
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Mon, 24 Apr 2000 09:15:01 -0400 (EDT)
Subject: [R] Historical question
In-Reply-To: <200004240113.LAA17721@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.SOL.3.96L.1000424091228.1998A-100000@unix9.andrew.cmu.edu>

I realize this is not the right forum on which to pose this question, but
I thought someone on here would know the answer.  The question is: where
did the term ``bandwidth" come from when referring to one of the tuning
parameters in density estimation?  I suspect it came from time-series
analysis, but I'm not sure.  Does anyone know where the word was first
used in this context?

Thanks,
Steve

Stephen R. Laniel            |  "Farewell Angelina
Carnegie Mellon University   |   The sky is erupting
laniel at cmu.edu               |   I must go where it's quiet."
www.stat.cmu.edu/~laniel/    |   --Bob Dylan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Apr 24 16:18:54 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 24 Apr 2000 16:18:54 +0200
Subject: [R] outlier detection methods in r?
Message-ID: <3.0.32.20000424161853.008ec100@162.38.183.200>

At 05:35 21/04/00 -0700, Robert L. Sandefur wrote:
>and calculating the probablity of a value of 4 or bigger  in 100 samples of
>norm(0,1) gives
>> 1-exp(log(pnorm(4,0,1))*100)
>[1] 0.003162164

I do not understand the above formula. I'd do it as follows: if p is the
probability to get a value of 4 or bigger from a normal distribution with
mean=1 and var=1, then the probability to get one (and only one) value
equal to or greater than 4 in 100 independent draws from the same normal
law is given by the pdf of the binomial law:

> 1-pnorm(4,0,1) -> p
> dbinom(1, 100, p)
[1] 0.003157209

which is slightly smaller than what is reported by Rob. However, the
probability to get *at least* one value of 4 or bigger in the same sample is:

> 1-pbinom(0, 100, p)
[1] 0.003162164

which is identical to the reported value. The probabilities to get one,
two, three, or four values equal to or greater than 4 are:

> dbinom(1:4, 100, p)
[1] 3.157209e-03 4.949797e-06 5.121192e-09 3.933342e-12

They can easily be summed:

> sum(dbinom(1:4, 100, p))
[1] 0.003162164

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Apr 24 17:37:06 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 24 Apr 2000 11:37:06 -0400
Subject: [R] matrix
References: <200004240113.LAA17721@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <39046A22.A649DB99@bank-banque-canada.ca>

BDR>[This *is* well-documented in the S literature.]

Often with some exclamation marks as in "!!*%#!*!"

BV>The Matrix library is well
BV>documented and available on all systems, but as far as I can tell
BV>almost no one has even heard of it, let alone uses it.

Thanks. All these years programming Splus and R and I had never heard of
it.

BV>It's a real pity in a way since it does offer real programming
BV>advantages, but that's how it is.

But what I really want is to be able to use drop=c(F,F,T) for a 3
dimensional array, with a default F in all dimensions. Does it do that?

BV>Moreover I detect no great clamour from users for something similar
BV>available in R.  (This may be partly because Brian would tell them to
"go
BV>and write the jolly thing yourself it you really want it", but only
partly!)

Well, one of these days when I have more time on my hands...

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Mon Apr 24 18:07:22 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Mon, 24 Apr 2000 18:07:22 +0200
Subject: [R] outlier detection methods in r?
References: <s8ffe8c0.004@hc4>
Message-ID: <01cf01bfae07$2cc8e270$b1eb92c1@unirioja.es>

>Subject: [R] outlier detection methods in r?
> hi -
>  if I sample from a normal distribution with something like
> n100<-rnorm(100,0,1)
> and add an outlier with
> n100[10]<-4
> then
> qqnorm(n100)
> visually shows the point 4 as an outlier
> and calculating the probablity of a value of 4 or bigger  in 100 samples
of norm(0,1)
> gives
> > 1-exp(log(pnorm(4,0,1))*100)
> [1] 0.003162164
>
> If I have more than 1 sample above outlier threshold the math is a bit
more complicated
> but doable.
 > My questions are
> 1) are there better ways to assess probablity of outliers (ie value(s)
above theshold from a given distribution)?
> 2) are they implimented in r?

1)
The term "a given distribution" makes things a lot difficult, a far as
outlier detection is concerned.
If we are talking about normal distributions, or multivariate normal
distributions, the method based on Mahalanobis distances is the one I
prefer.
If the sample comes from a normal distribution, its Mahalanobis distance
follows a chi-square distribution, so you can allways assess if certain
point is above the threshold determined by your significance level.

2)
You can find mahalanobis() in base package.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian at trichodon.afsc.noaa.gov  Mon Apr 24 19:24:37 2000
From: brian at trichodon.afsc.noaa.gov (Brian O'Gorman)
Date: Mon, 24 Apr 2000 09:24:37 -0800
Subject: [R] make problems
Message-ID: <39048355.233D9942@trichodon.afsc.noaa.gov>

I'm having trouble making the manuals as per the INSTALL instructions. 
Anyone have any hints as to what's wrong?

<123>-> make dvi
DVI/LaTeX documentation: reference index ...
*** Error code 255
make: Fatal error: Command failed for target `refman.dvi'
                                                                                                                            
trichodon:/export/trichodon2/R/R-1.0.1/doc/manual                                                                           
<124>-> make pdf
PDF/LaTeX documentation: reference index ...
*** Error code 255
make: Fatal error: Command failed for target `refman.pdf'
                                                                                                                            
trichodon:/export/trichodon2/R/R-1.0.1/doc/manual                                                                           
<125>-> make info
false -D UseExternalXrefs -I. R-FAQ.texi
*** Error code 255
make: Fatal error: Command failed for target `R-FAQ.info'
-------------- next part --------------
A non-text attachment was scrubbed...
Name: brian.vcf
Type: text/x-vcard
Size: 411 bytes
Desc: Card for Brian O'Gorman
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000424/76066485/brian.vcf

From paradis at isem.univ-montp2.fr  Mon Apr 24 19:47:56 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 24 Apr 2000 19:47:56 +0200
Subject: [R] compiling R-1.0.1 under Solaris
Message-ID: <3.0.32.20000424194756.00906af0@162.38.183.200>

Dear all,

I am trying to compile R version 1.0.1 under Solaris on a SUNsparcUltra10.
Note that I'm doing this in my home directory as I cannot do it as root.
The configure script seems to run correctly and issues as the last few lines:

-----------------------------------------------
...
R is now configured for sparc-sun-solaris2.7

  Source directory:         .
  Installation directory:   /home/ppp/paradis/R
  C compiler:               cc  -g
  FORTRAN compiler:         f77
  Gnome support:            no
-----------------------------------------------

Then, when I try to run make (either the SUN one which is invoked with
'dmake', or GNU make 3.78.1), it returns, after some lines which appear
normal, the following error messages (for the GNU make):

----------------------------------------------------------------------------
----
...
make[3]: Entering directory `/home/ppp/paradis/R/R-1.0.1/src/appl'
cr libappl.a Rsock.o S_compat.o approx.o bakslv.o binning.o chisqsim.o
chull.o c
poly.o cumsum.o distance.o fft.o fmin.o fortran.o lbfgsb.o loglin.o
lowess.o mac
har.o massdist.o pretty.o pythag.o rowsum.o sock.o splines.o stem.o
strsignif.o
tabulate.o uncmin.o zeroin.o ch2inv.o chol.o dpbfa.o dpbsl.o dpoco.o
dpodi.o dpo
fa.o dposl.o dqrdc.o dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o
dtrsl.o e
igen.o lminfl.o blas.o
make[3]: cr: Command not found
make[3]: *** [libappl.a] Error 127
make[3]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src/appl'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src/appl'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src'
make: *** [R] Error 1
----------------------------------------------------------------------------
----

The corresponding lines for the SUN make are: 

----------------------------------------------------------------------------
----
...
cr libappl.a Rsock.o  S_compat.o  approx.o  bakslv.o  binning.o  chisqsim.o
 chu
ll.o  cpoly.o  cumsum.o  distance.o  fft.o  fmin.o  fortran.o  lbfgsb.o
loglin.
o  lowess.o  machar.o  massdist.o  pretty.o  pythag.o  rowsum.o  sock.o
splines
.o  stem.o  strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2inv.o  chol.o
dpbfa.
o  dpbsl.o  dpoco.o  dpodi.o  dpofa.o  dposl.o  dqrdc.o  dqrdc2.o  dqrls.o
dqrs
l.o  dqrutl.o  dsvdc.o  dtrco.o  dtrsl.o  eigen.o  lminfl.o blas.o
: libappl.a
siga --> Job output
cr libappl.a Rsock.o  S_compat.o  approx.o  bakslv.o  binning.o  chisqsim.o
 chu
ll.o  cpoly.o  cumsum.o  distance.o  fft.o  fmin.o  fortran.o  lbfgsb.o
loglin.
o  lowess.o  machar.o  massdist.o  pretty.o  pythag.o  rowsum.o  sock.o
splines
.o  stem.o  strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2inv.o  chol.o
dpbfa.
o  dpbsl.o  dpoco.o  dpodi.o  dpofa.o  dposl.o  dqrdc.o  dqrdc2.o  dqrls.o
dqrs
l.o  dqrutl.o  dsvdc.o  dtrco.o  dtrsl.o  eigen.o  lminfl.o blas.o
sh: cr: not found
*** Error code 1
dmake: Fatal error: Command failed for target `libappl.a'
Current working directory /home/ppp/paradis/R/R-1.0.1/src/appl
*** Error code 1
dmake: Fatal error: Command failed for target `R'
Current working directory /home/ppp/paradis/R/R-1.0.1/src/appl
*** Error code 1
dmake: Fatal error: Command failed for target `0 at R'
Current working directory /home/ppp/paradis/R/R-1.0.1/src
*** Error code 1
dmake: Fatal error: Command failed for target `R'          
----------------------------------------------------------------------------
----

Both kinds of make seem to have a problem with the command 'cr' and I have
no idea how to solve this. Any help would be greatly appreciated.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr 24 20:30:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 24 Apr 2000 19:30:05 +0100 (GMT Daylight Time)
Subject: [R] compiling R-1.0.1 under Solaris
In-Reply-To: <3.0.32.20000424194756.00906af0@162.38.183.200>
Message-ID: <Pine.WNT.4.05.10004241928030.208-100000@tern.stats>

On Mon, 24 Apr 2000, Emmanuel Paradis wrote:

> Dear all,
> 
> I am trying to compile R version 1.0.1 under Solaris on a SUNsparcUltra10.
> Note that I'm doing this in my home directory as I cannot do it as root.
> The configure script seems to run correctly and issues as the last few lines:

You need /usr/ccs/bin in your path, and you will need to re-configure.
(You need it in your path to compile even a trivial C program, I believe.)

[...]

> make[3]: cr: Command not found
> make[3]: *** [libappl.a] Error 127
> make[3]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src/appl'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src/appl'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/home/ppp/paradis/R/R-1.0.1/src'
> make: *** [R] Error 1


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Apr 25 05:06:00 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 25 Apr 2000 15:06:00 +1200
Subject: [R] Recursive Computation in R
Message-ID: <39050B98.50A59F48@xtra.co.nz>

Hi there,

I have written a function to calculate factorials as follows:

fact <- function(x) {
     recurse <- x > 1
     x[!recurse] <- 1
     if( any(recurse) ) {
          y <- x[recurse]
          x[recurse] <- y * fact( y - 1 )
     }
     x
}


I want to be able to do the famous birthday problem, which will involve
the computation of 365!, however it shall get cancelled out during the
computation.  To make it more clear, I want to work out:
n <- 1:80
prob <- 1 - ( fact(365) / ( fact( 365 - n ) * 365 ^ n ) )

This, if works, should gives a vector of 80 probabilities, that given a
room of n people, 2 will share the same birthday.

But R gives me the following Error message:
Error in fact(y - 1) : evaluation is nested too deeply: infinite
recursion?

I assume that 365 is simply too large?  Which should imply that my
factorial function is not written to the optimised way.  Anyone can
offer a solution?  Much appreciated.


Sincerely,

-------------------------------------------
Ko-Kang Wang
University of Auckland
Auckland 1005
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Tue Apr 25 05:28:40 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Tue, 25 Apr 2000 13:28:40 +1000
Subject: [R] Recursive Computation in R 
In-Reply-To: Your message of "Tue, 25 Apr 2000 15:06:00 +1200."
             <39050B98.50A59F48@xtra.co.nz> 
Message-ID: <200004250328.NAA23129@snowy.nsw.cmis.CSIRO.AU>

> Hi there,
> 
> I want to be able to do the famous birthday problem, which will involve
> the computation of 365!, however it shall get cancelled out during the
> computation.  To make it more clear, I want to work out:
> n <- 1:80
> prob <- 1 - ( fact(365) / ( fact( 365 - n ) * 365 ^ n ) )

Rule 1: If you find yourself calculating factorials you are
probably doing it the wrong way.

Rule 2: Same for determinants, but that's another issue.

Sorry to spoil it for you, but I can't resist:

> 1 - cumprod(365:285/365)
 [1] 0.000000000 0.002739726 0.008204166 0.016355912 0.027135574
 [6] 0.040462484 0.056235703 0.074335292 0.094623834 0.116948178
[11] 0.141141378 0.167024789 0.194410275 0.223102512 0.252901320
[16] 0.283604005 0.315007665 0.346911418 0.379118526 0.411438384
[21] 0.443688335 0.475695308 0.507297234 0.538344258 0.568699704
[26] 0.598240820 0.626859282 0.654461472 0.680968537 0.706316243
[31] 0.730454634 0.753347528 0.774971854 0.795316865 0.814383239
[36] 0.832182106 0.848734008 0.864067821 0.878219664 0.891231810
[41] 0.903151611 0.914030472 0.923922856 0.932885369 0.940975899
[46] 0.948252843 0.954774403 0.960597973 0.965779609 0.970373580
[51] 0.974431993 0.978004509 0.981138113 0.983876963 0.986262289
[56] 0.988332355 0.990122459 0.991664979 0.992989448 0.994122661
[61] 0.995088799 0.995909575 0.996604387 0.997190479 0.997683107
[66] 0.998095705 0.998440043 0.998726391 0.998963666 0.999159576
[71] 0.999320753 0.999452881 0.999560806 0.999648644 0.999719878
[76] 0.999777437 0.999823779 0.999860955 0.999890668 0.999914332
[81] 0.999933109

Hmm.  Better than even chances with 23 people.  Amazing... :-)


-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Apr 25 06:42:27 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 25 Apr 2000 14:42:27 +1000 (EST)
Subject: [R] Wrong SEs in predict.lm(..., type="terms")
Message-ID: <200004250442.OAA06532@leonard.anu.edu.au>

predict.lm(..., type="terms") gives wrong standard errors.

Below, I have provided what I believe are the necessary fixes.
However, there are subtleties, and the code needs careful
checking.  Some of the looping is surely not necessary, but
it is surely best to begin with the minimum necessary changes.

My tests, including checks against S-PLUS, have extended to fitting
spline curves.  I have not tested the code with any example where
the pivot sequence does not run sequentially from 1 to p1.

For what it is worth, I am using RW-1.0.0 under Windows 98.

df<-data.frame(x=1:9,y=c(2,3,6,4,8,10,12,14,15))
> df.lm_lm(y~x,data=df)
> as.vector(predict(df.lm,se=T,type="terms")$se.fit)
[1] 0.9904885 0.7428664 0.4952442 0.2476221 0.0000000 0.2476221 0.4952442
[8] 0.7428664 0.9904885

Here is what one should get:
> abs((df$x-mean(df$x)))*summary(df.lm)$coef[2,2]
[1] 0.5769836 0.4327377 0.2884918 0.1442459 0.0000000 0.1442459 0.2884918
[8] 0.4327377 0.5769836

Here is the corrected code:


    if (type=="terms"){
      asgn <- attrassign(object)
      beta<-coef(object)
      hasintercept<-attr(tt,"intercept")>0
      if (hasintercept)
        asgn$"(Intercept)"<-NULL
      nterms<-length(asgn)
      predictor<-matrix(ncol=nterms,nrow=NROW(X))
      dimnames(predictor)<-list(rownames(X),names(asgn))

      if (se.fit){
        ip<-matrix(ncol=nterms,nrow=NROW(X))
        dimnames(ip)<-list(rownames(X),names(asgn))
      }
        avX<-apply(X,2,mean)  
        X<-sweep(X,2,avX)    # We'd best sweep out column means
                             # before we start
      for (i in seq(1,nterms,length=nterms)){
        ii<-piv[asgn[[i]]]
	        predictor[,i]<-X[,ii,drop=F]%*%(beta[ii])
        if (se.fit){
          ii2_asgn[[i]]      # X[,piv] matches rows & columns of R
          vci<-R[ii2,ii2]*res.var
          for(j in (1:NROW(X))){
            xi<-X[j,ii,drop=F]  # Do not multiply by beta[ii]
           ip[j,i]<-sum(xi%*% vci %*%t(xi))

          }
        }
      }

Here is the existing (1.0.0) code:

    if (type=="terms"){
      asgn <- attrassign(object)
      beta<-coef(object)
      hasintercept<-attr(tt,"intercept")>0
      if (hasintercept)
        asgn$"(Intercept)"<-NULL
      nterms<-length(asgn)
      predictor<-matrix(ncol=nterms,nrow=NROW(X))
      dimnames(predictor)<-list(rownames(X),names(asgn))
      if (se.fit){
        ip<-matrix(ncol=nterms,nrow=NROW(X))
        dimnames(ip)<-list(rownames(X),names(asgn))
      }
      for (i in seq(1,nterms,length=nterms)){
        if (hasintercept)  # Redundant
          i0<-1            # Redundant
        else               # Redundant
          i0<-NULL         # Redundant
        ii<-piv[asgn[[i]]]
        predictor[,i]<-X[,ii,drop=F]%*%(beta[ii])  # Should be centred
        X[,ii]<-X[,ii]-mean(X[,ii]) # Columns must be centred individually
        if (se.fit){
          vci<-R[ii,ii]*res.var    # The pivot should not be applied to R
          for(j in (1:NROW(X))){
            xi<-X[j,ii,drop=F]*(beta[ii])  # Do not Xply by beta
            ip[j,i]<-sum(xi%*% vci %*%t(xi))
          }
        }
      }


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Apr 24 16:45:09 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 24 Apr 2000 16:45:09 +0200
Subject: [R] paste ?
In-Reply-To: <4.3.1.0.20000424135644.00d857b0@127.0.0.1>
Message-ID: <4.3.1.0.20000424164339.00d8cd80@127.0.0.1>

As Peter helpfully pointed out mn was a vector, so here is the corrected 
version:
  bland <- function (x) #accepts two columns
{
mn <<- 0.5*(x[,1]+x[,2])
diff <- x[,1]-x[,2]
plot(mn,diff,pch=16,xlab="Mean",ylab="Difference",
main = "Bland Altman plot",
sub= paste("Mean = ",formatC(mean(diff),digits=3)))
abline(h=mean(diff),lty=2)
abline(h=mean(diff)+c(2,-2)*sqrt(var(diff)))

At 14:00 24-04-00, you wrote:
>Dear friends. I've made a very simple procedure to make Bland-Altman plots 
>and it works OK except for the inability to take a variate as argument in 
>annotation. I'm sure it is a very simple error, so if you have 5 seconds 
>please tell me.
>Best wishes
>Troels
>
>  bland <- function (x) #accepts two columns
>{
>mn <- 0.5*(x[,1]+x[,2])
>diff <- x[,1]-x[,2]
>plot(mn,diff,pch=16,xlab="Mean",ylab="Difference",
>main = paste("Bland Altman plot",mn))
>abline(h=mean(diff),lty=2)
>abline(h=mean(diff)+c(2,-2)*sqrt(var(diff)))
>}
>Troels
>
>look here:
>http://www.wired.com/wired/archive/8.04/joy.html
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Troels Ring, MD
Department of Nephrology
Aalborg Hospital, Denmark
tring at mail1.stofanet.dk 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Tue Apr 25 08:45:06 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Tue, 25 Apr 2000 16:45:06 +1000
Subject: [R] paste ? 
In-Reply-To: Your message of "Mon, 24 Apr 2000 16:45:09 +0200."
             <4.3.1.0.20000424164339.00d8cd80@127.0.0.1> 
Message-ID: <200004250645.QAA27939@snowy.nsw.cmis.CSIRO.AU>

> As Peter helpfully pointed out mn was a vector, so here is the corrected 
> version:
>   bland <- function (x) #accepts two columns
> {
> mn <<- 0.5*(x[,1]+x[,2]
> diff <- x[,1]-x[,2]
> plot(mn,diff,pch=16,xlab="Mean",ylab="Difference",
> main = "Bland Altman plot",
> sub= paste("Mean = ",formatC(mean(diff),digits=3)))
> abline(h=mean(diff),lty=2)
> abline(h=mean(diff)+c(2,-2)*sqrt(var(diff)))
> }

Two small points.  The line

mn <<- 0.5*(x[,1]+x[,2])

is either a mistake, or it makes this a dangerous function for
public distribution.  ("Superassignment? Just say 'No'")

Secondly, I'm curious about the history of this kind of plot.
I've only heard it called a "Tukey mean difference" plot, (and
Trellis graphics has a function, tmd(), that does it, but no one
knows about it...).  Does anyone know who invented it?

Bill Venables.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au

Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 25 08:49:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Apr 2000 07:49:41 +0100 (BST)
Subject: [R] Factorials (was Recursive Computation in R)
In-Reply-To: <39050B98.50A59F48@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10004250735430.13701-100000@auk.stats>

On Tue, 25 Apr 2000, Ko-Kang Wang wrote:

> Hi there,
> 
> I have written a function to calculate factorials as follows:
> 
> fact <- function(x) {
>      recurse <- x > 1
>      x[!recurse] <- 1
>      if( any(recurse) ) {
>           y <- x[recurse]
>           x[recurse] <- y * fact( y - 1 )
>      }
>      x
> }
> 
> 
> I want to be able to do the famous birthday problem, which will involve
> the computation of 365!, however it shall get cancelled out during the
> computation.  To make it more clear, I want to work out:
> n <- 1:80
> prob <- 1 - ( fact(365) / ( fact( 365 - n ) * 365 ^ n ) )
> 
> This, if works, should gives a vector of 80 probabilities, that given a
> room of n people, 2 will share the same birthday.
> 
> But R gives me the following Error message:
> Error in fact(y - 1) : evaluation is nested too deeply: infinite
> recursion?
> 
> I assume that 365 is simply too large?  Which should imply that my
> factorial function is not written to the optimised way.  Anyone can
> offer a solution?  Much appreciated.

You _could_ increase the iteration limit with options(expressions=5000),
say.  But, you could also use the fact that n! = gamma(n+1) so

> gamma(366)  
[1] Inf
> lgamma(366)
[1] 1792.332

and your answer would overflow the machine arithmetic, at least on 32-bit
machines, as the answer is about 10^778. As Bill Venables points out, you
want to do the cancellation algebraically.

My reason for chipping is to note that you _never_ need to calculate
a factorial recursively, and that calculations like this are often best
done on log scale.  You can do the birthday problem that way

n <- 1:50
1 - exp(lgamma(366) - lgamma(366-n) - n*log(365))

agrees with Bill's answer up to 12dp or so.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Apr 25 09:08:57 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 25 Apr 2000 09:08:57 +0200 (CEST)
Subject: [R] make problems
In-Reply-To: <39048355.233D9942@trichodon.afsc.noaa.gov>
References: <39048355.233D9942@trichodon.afsc.noaa.gov>
Message-ID: <14597.17545.640135.589332@fangorn.ci.tuwien.ac.at>

>>>>> Brian O'Gorman writes:

> I'm having trouble making the manuals as per the INSTALL instructions. 
> Anyone have any hints as to what's wrong?

> <123>-> make dvi
> DVI/LaTeX documentation: reference index ...
> *** Error code 255
> make: Fatal error: Command failed for target `refman.dvi'
                                                                                                                            
> trichodon:/export/trichodon2/R/R-1.0.1/doc/manual                                                                           
> <124>-> make pdf
> PDF/LaTeX documentation: reference index ...
> *** Error code 255
> make: Fatal error: Command failed for target `refman.pdf'
                                                                                                                            
> trichodon:/export/trichodon2/R/R-1.0.1/doc/manual                                                                           
> <125>-> make info
> false -D UseExternalXrefs -I. R-FAQ.texi
> *** Error code 255
> make: Fatal error: Command failed for target `R-FAQ.info'

This fails because apparently you do not have makeinfo version 4.

I don't know about the others, but maybe you are missing latex &&
friends too?  It might be helpful to look at config.log or config.cache.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Apr 25 14:50:47 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 25 Apr 2000 14:50:47 +0200
Subject: [R] compiling R-1.0.1 under Solaris
Message-ID: <3.0.32.20000425145046.0090b100@162.38.183.200>

>> I am trying to compile R version 1.0.1 under Solaris on a SUNsparcUltra10.
>> Note that I'm doing this in my home directory as I cannot do it as root.
>> The configure script seems to run correctly and issues as the last few
lines:
>
>You need /usr/ccs/bin in your path, and you will need to re-configure.
>(You need it in your path to compile even a trivial C program, I believe.)

Many thanks to Professor Ripley. It really did the trick.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 25 17:09:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Apr 2000 16:09:41 +0100 (BST)
Subject: [R] `S Programming' book is now available
Message-ID: <200004251509.QAA00560@toucan.stats.ox.ac.uk>

We are pleased to advise our friends on S-news and R-help that a second
V&R book, `S Programming' was published by Springer recently and is (we
believe) now available.  Our sincere thanks to all of you who, directly
or indirectly, have helped us in this second project.  (Some of you may
even recognise answers to your questions.)  We hope all of you who use
it will find it clear and informative.

Further details are available at

	http://www.stats.ox.ac.uk/pub/MASS3/Sprog/

and at the mirror sites for our software.

	Brian Ripley and Bill Venables

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Tue Apr 25 20:20:33 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Tue, 25 Apr 2000 14:20:33 -0400
Subject: [R] loops
Message-ID: <200004251820.OAA02348@sirocco.cc.mcgill.ca>

Hi R friends,
I havent asked a silly question in a long time so here it is:
Reading the last issue of Stat Can J. there is an article in a single 
degree of freedom test for non aditivity of interactions in anova 
tables with 1 obs per cell. The authors claim it is more powerfull than 
Tukey but for the case of multiplicative interaction, which is the 
alternative studied by Tukey. I tried to program it, and it works since 
the tables are 5 by 5 or 5 by 8 etc.
Just for the sake of neatness how can I reprogram the core of the 
program which is:
s <- NULL
k <- 0
for ( j in 1:(nc-1)) {
  for (jp in (j+1):nc ) {
    k <- k+1
    s[k] <- 0
    for (i in 1:(nr-1)) {
      for(ip in (i+1):nr) {
        a <- xr[i,j]+xr[ip,jp]-xr[i,jp]-xr[ip,j]
        s[k] <- s[k] + a*a
      }
    }
  }
}
cra <- max(s)

where nc=number of columns, nr number of rows and the xr's are 
the centered ranks.
the statistic being cra, there is a similar version where mean is 
replace by median in a previous step..
There must be a way in R to replace the 4 for loops i<i' and j<j' 
Thanks for your help.
I suppose the answer is already in the new V&R?
.
R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Tue Apr 25 22:07:49 2000
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Tue, 25 Apr 2000 22:07:49 +0200
Subject: [R) Bland Altman plot (was: [R] paste ?) 
Message-ID: <200004251952.VAA01733@smtp-1.nordnet.fr>

> De : Bill Venables <venables at acland.qld.cmis.csiro.au>
> Objet : Re: [R] paste ? 
> Date?: mardi 25 avril 2000 08:45
> 

(...)

> Secondly, I'm curious about the history of this kind of plot.
> I've only heard it called a "Tukey mean difference" plot, (and
> Trellis graphics has a function, tmd(), that does it, but no one
> knows about it...).  Does anyone know who invented it?

Martin Bland and Doug Altman introduced it in their very successful 1986
paper in The Lancet (which has become a 'Citation Classic') :

Bland JM, Altman DG. Statistical methods for assessing agreement between
two methods of clinical measurement. Lancet 1986; i: 307-310.

BTW, thanks, Troel, for the R function!

Christophe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 25 22:35:37 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Apr 2000 22:35:37 +0200
Subject: [R) Bland Altman plot (was: [R] paste ?)
In-Reply-To: "Christophe Declercq"'s message of "Tue, 25 Apr 2000 22:07:49 +0200"
References: <200004251952.VAA01733@smtp-1.nordnet.fr>
Message-ID: <x2vh153ome.fsf@blueberry.kubism.ku.dk>

"Christophe Declercq" <cdeclercq at nordnet.fr> writes:

> > Secondly, I'm curious about the history of this kind of plot.
> > I've only heard it called a "Tukey mean difference" plot, (and
> > Trellis graphics has a function, tmd(), that does it, but no one
> > knows about it...).  Does anyone know who invented it?
> 
> Martin Bland and Doug Altman introduced it in their very successful 1986
> paper in The Lancet (which has become a 'Citation Classic') :

However, as so many other CTs, I don't think they actually invented
the procedure... Plotting residuals vs. fitted values to avoid
correlation, and warnings against the fallacy of plotting a difference
against one of the terms have certainly been around long before '86.

The Lancet paper is not really an introduction of a new method, rather
it is a polemic paper against the widespread practise of publishing
correlation coefficients as measures of agreement between two methods. 

[Of course, since people in the medical profession treats Lancet
papers as The Law, and vocal statisticians like Altman as demigods,
one occasionally meets people trying to use the Bland-Altman plot for
comparing measurements on completely different scales!]

> Bland JM, Altman DG. Statistical methods for assessing agreement between
> two methods of clinical measurement. Lancet 1986; i: 307-310.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur67 at yahoo.com  Tue Apr 25 23:17:08 2000
From: sarthur67 at yahoo.com (Stephen Arthur)
Date: Tue, 25 Apr 2000 14:17:08 -0700 (PDT)
Subject: [R] morley.dat
Message-ID: <20000425211708.18205.qmail@web123.yahoomail.com>

Hi,

I am sorry to say, I do not know where the
'morley.dat' is that is mentioned as the sample data
for the sample session on page 80 of Appendix A in the
Introduction to R book.

If you could get back to me soon about that would be
great!

Then I can prepare my next question,

steve

__________________________________________________
Do You Yahoo!?
Send online invitations with Yahoo! Invites.
http://invites.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Apr 26 00:47:30 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 25 Apr 2000 18:47:30 -0400 (EDT)
Subject: [R] morley.dat
In-Reply-To: <20000425211708.18205.qmail@web123.yahoomail.com>
Message-ID: <Pine.LNX.4.10.10004251843170.2539-100000@bolker.zoo.ufl.edu>


  I strongly suspect it's the same data as are included in the "michelson"
data set in the MASS library.

  Make sure the MASS library is installed, then:

library(MASS)
data(michelson)
attach(michelson)

should get you to where you would have been if you'd read in the
"morley.data" file and converted Run and Expt to factors (they're factors
already in the built-in data set).

  good luck,
   Ben

On Tue, 25 Apr 2000, Stephen Arthur wrote:

> Hi,
> 
> I am sorry to say, I do not know where the
> 'morley.dat' is that is mentioned as the sample data
> for the sample session on page 80 of Appendix A in the
> Introduction to R book.
> 
> If you could get back to me soon about that would be
> great!
> 
> Then I can prepare my next question,
> 
> steve
> 
> __________________________________________________
> Do You Yahoo!?
> Send online invitations with Yahoo! Invites.
> http://invites.yahoo.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 26 01:15:04 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Apr 2000 01:15:04 +0200
Subject: [R] morley.dat
In-Reply-To: Ben Bolker's message of "Tue, 25 Apr 2000 18:47:30 -0400 (EDT)"
References: <Pine.LNX.4.10.10004251843170.2539-100000@bolker.zoo.ufl.edu>
Message-ID: <x2snw9srgn.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at zoo.ufl.edu> writes:

>   I strongly suspect it's the same data as are included in the "michelson"
> data set in the MASS library.
> 
>   Make sure the MASS library is installed, then:
> 
> library(MASS)
> data(michelson)
> attach(michelson)
> 
> should get you to where you would have been if you'd read in the
> "morley.data" file and converted Run and Expt to factors (they're factors
> already in the built-in data set).

Morley is in the development version (which is to become 1.1.0 at some
point). It does have the same data as michelson, but not in the same
order and Run and Expt are not factors:

> str(morley)
`data.frame':   100 obs. of  3 variables:
 $ Expt : num  1 1 1 1 1 1 1 1 1 1 ...
 $ Run  : num  1 2 3 4 5 6 7 8 9 10 ...
 $ Speed: num  850 740 900 1070 930 850 950 980 980 880 ...
> str(michelson)
`data.frame':   100 obs. of  3 variables:
 $ Speed: num  850 740 900 1070 930 850 950 980 980 880 ...
 $ Run  : Factor w/ 20 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ Expt : Factor w/ 5 levels "1","2","3","4",..: 1 1 1 1 1 1 1 1 1 1 ...


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Wed Apr 26 05:34:40 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Wed, 26 Apr 2000 13:34:40 +1000
Subject: [R] morley.dat 
In-Reply-To: Your message of "Tue, 25 Apr 2000 18:47:30 -0400."
             <Pine.LNX.4.10.10004251843170.2539-100000@bolker.zoo.ufl.edu> 
Message-ID: <200004260334.NAA13249@snowy.nsw.cmis.CSIRO.AU>

Ben Bolker speculates:

> I strongly suspect it's the same data as are included in the "michelson"
> data set in the MASS library.
> 
>   Make sure the MASS library is installed, then:
> 
> library(MASS)
> data(michelson)
> attach(michelson)
> 
> should get you to where you would have been if you'd read in the
> "morley.data" file and converted Run and Expt to factors (they're factors
> already in the built-in data set).

and he is quite correct!  As the person responsible for both I had better own up I suppose.  I won't go on and on about why it changed its name, but it did.

Bill Venables.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Apr 26 07:45:22 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 26 Apr 2000 17:45:22 +1200
Subject: [R) Bland Altman plot (was: [R] paste ?)
In-Reply-To: <x2vh153ome.fsf@blueberry.kubism.ku.dk>
References: <"Christophe Declercq"'s message of "Tue, 25 Apr 2000 22:07:49 +0200">
 <200004251952.VAA01733@smtp-1.nordnet.fr>
Message-ID: <200004260545.RAA00837@gosset.stats.waikato.ac.nz>

The idea of comparing the variances of two variables X and Y by looking at
the correlation of 

	X + Y   with  X - Y
seems to go back to Pitman (1939) A note on normal correlation, Biometrika,
31, pp 9-12.

I havn't seen the paper myself but I presume that the essentials are
summarized in Cox & Hinkley (1974) pp 140, 141. These days, of course, we
are keener on plots than formal tests.

I discovered all this around 1977 when I was interested in the case where X
and Y were measurements of quantities like %fat in cheese obtained by two
different methods or by two different labs.

Murray Jorgensen

At 10:35 PM 25-04-00 +0200, Peter Dalgaard BSA wrote:
>"Christophe Declercq" <cdeclercq at nordnet.fr> writes:
>
>> > Secondly, I'm curious about the history of this kind of plot.
>> > I've only heard it called a "Tukey mean difference" plot, (and
>> > Trellis graphics has a function, tmd(), that does it, but no one
>> > knows about it...).  Does anyone know who invented it?
>> 
>> Martin Bland and Doug Altman introduced it in their very successful 1986
>> paper in The Lancet (which has become a 'Citation Classic') :
>
>However, as so many other CTs, I don't think they actually invented
>the procedure... Plotting residuals vs. fitted values to avoid
>correlation, and warnings against the fallacy of plotting a difference
>against one of the terms have certainly been around long before '86.
>
>The Lancet paper is not really an introduction of a new method, rather
>it is a polemic paper against the widespread practise of publishing
>correlation coefficients as measures of agreement between two methods. 
>
>[Of course, since people in the medical profession treats Lancet
>papers as The Law, and vocal statisticians like Altman as demigods,
>one occasionally meets people trying to use the Bland-Altman plot for
>comparing measurements on completely different scales!]
>
>> Bland JM, Altman DG. Statistical methods for assessing agreement between
>> two methods of clinical measurement. Lancet 1986; i: 307-310.
>
>-- 
>   O__  ---- Peter Dalgaard             Blegdamsvej 3  
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
> 
Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Wed Apr 26 11:16:26 2000
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Wed, 26 Apr 2000 10:16:26 +0100
Subject: [R] Bland Altman plot (was: [R] paste ?)
Message-ID: <200004260812.KAA25274@benes.incoma.cz>

Dear all,
sorry for this perhaps stupid question, but it concerns my recent 
problem as well as the current thread on B-A plot.
I would like to plot something like x+y vs. x-y or mean(x,y) vs 
difference (x,y), but my "variables" x,y are actually pairs of 
replicates (two observed values of a growth rate by 60 clones). So 
the order x,y does not matter and each x,y pair can be arranged 
regardless the arrangement of other x,y pairs, - of course, this will 
influence the appearance of the plot. I was playing with plotting 
(x+y) vs. absolute value of (x-y), but this will yield plotting area 
limited by the x=y line (provided the x,y are nonnegative values, 
which is my case). Exists there some standard plotting procedure 
for such data?
Thank you in advance!
Zdenek Skala
++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 26 11:19:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Apr 2000 11:19:55 +0200
Subject: [R] Bland Altman plot (was: [R] paste ?)
In-Reply-To: "Zdenek Skala"'s message of "Wed, 26 Apr 2000 10:16:26 +0100"
References: <200004260812.KAA25274@benes.incoma.cz>
Message-ID: <x2aeihjk1w.fsf@blueberry.kubism.ku.dk>

"Zdenek Skala" <Zdenek.Skala at incoma.cz> writes:

> Dear all,
> sorry for this perhaps stupid question, but it concerns my recent 
> problem as well as the current thread on B-A plot.
> I would like to plot something like x+y vs. x-y or mean(x,y) vs 
> difference (x,y), but my "variables" x,y are actually pairs of 
> replicates (two observed values of a growth rate by 60 clones). So 
> the order x,y does not matter and each x,y pair can be arranged 
> regardless the arrangement of other x,y pairs, - of course, this will 
> influence the appearance of the plot. I was playing with plotting 
> (x+y) vs. absolute value of (x-y), but this will yield plotting area 
> limited by the x=y line (provided the x,y are nonnegative values, 
> which is my case). Exists there some standard plotting procedure 
> for such data?
> Thank you in advance!

I don't think there's a "standard plot".

Plotting absolute values is essentially equivalent to plotting *both*
x-y and y-x against x+y in the B-A plot since the latter is obtained
by reflection in the horisontal axis. Seems to make reasonable sense,
except that B-A is partially designed to detect deviations from
symmetry which is a rather moot point in your case. You could still
look for outliers and for trends in the dispersion. Actually, the
"half-plot" is equivalent to the "Scale-Location plot" that lm.plot
does for the model where there's a common mean for both values in a
pair, but a separate one for each pair 

The B-A plot also has the enveloping phenomenon that you describe,
geometrically it just rotates an (x,y) plot 45 degrees clockwise, so
if all data are in the 1st quadrant...

If the effect is strong, you may have cause to look at the data on a
different scale, a log scale would be obvious, but power
transformations with small exponents could also be relevant.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thaddeus.tarpey at wright.edu  Wed Apr 26 19:22:24 2000
From: thaddeus.tarpey at wright.edu (Thaddeus Tarpey)
Date: Wed, 26 Apr 2000 13:22:24 -0400 (EDT)
Subject: [R] plotting question
Message-ID: <Pine.GSO.4.10.10004261316560.15637-100000@paladin.wright.edu>

I would like to plot two different samples on the same scatterplot in R
using different symbols for the different groups.
Could someone please let me know how this can be done?  Thank you very much.

Thad


*****************************************************************************
Thaddeus Tarpey                                   Phone: (937) 775-2861
Wright State University                             Fax: (937) 775-2081
Department of Mathematics and Statistics
Dayton,  Ohio  45435
Home-page: http://www.math.wright.edu/People/Thad_Tarpey/thad.htm
*****************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Apr 26 20:08:20 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Apr 2000 13:08:20 -0500
Subject: [R] plotting question
In-Reply-To: Thaddeus Tarpey's message of "Wed, 26 Apr 2000 13:22:24 -0400 (EDT)"
References: <Pine.GSO.4.10.10004261316560.15637-100000@paladin.wright.edu>
Message-ID: <6rbt2wohuz.fsf@franz.stat.wisc.edu>

Thaddeus Tarpey <thaddeus.tarpey at wright.edu> writes:

> I would like to plot two different samples on the same scatterplot in R
> using different symbols for the different groups.
> Could someone please let me know how this can be done?

One way is to use the pch argument to the plot function, as in

 > library(MASS)
 > data(michelson)
 > plot(Speed ~ as.integer(Run), data = michelson, pch = as.integer(Expt))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bcooke at gpu.srv.ualberta.ca  Wed Apr 26 20:46:42 2000
From: bcooke at gpu.srv.ualberta.ca (Barry Cooke)
Date: Wed, 26 Apr 2000 12:46:42 -0600 (MDT)
Subject: [R] Factor Rotation
Message-ID: <Pine.A41.4.10.10004261244230.45618-100000@gpu5.srv.ualberta.ca>

How does one rotate the loadings from a principal component analysis?
Help on function prcomp() from package mva mentions rotation:

Arguments

retx		a logical value indicating whether the rotated
		variables should be returned.

Values

rotation	the matrix of variable loadings (i.e., a matrix 
		whose olumns contain the eigenvectors).  The 
		function princomp returns this in the element 
		loadings.

x		if retx is true the value of the rotated data
		(the data multiplied by the rotation matrix) 
		is returned.

but it is unclear to me exactly how the rotation is to be done.
For instance how would one specify a varimax rotation?  Or are
loadings, by default, rotated by the varimax method in prcomp()?

MASS v2 describes the function rotate() on p. 409-410; however R
complements does not cover this.  A search of CRAN indicates Peter
Ho <peter at esb.ucp.pt> asked the same question Sept 29, 1999, but
I found no reply.

Thanks. Using R 1.0.0 on Windows 9x.

Barry J. Cooke                      Current mailing address:
Ph.D. Candidate                     #219 - 1810 NW 23 Blvd 
Environmental Biology and Ecology   Gainesville, Florida, USA 
Department of Biological Sciences   32605 
University of Alberta
Edmonton, AB, T6G 2E9               http://www.ualberta.ca/~bcooke 
bcooke at gpu.srv.ualberta.ca
 __________                         ________________________
 |        |                         -----\                 |
 |        |                               -------\         |
 |        |                                       \        \
 |    *   |                                        \   *    |
 \        |                                         |       |
  \       |                                         |       \
   \      |                                          \       |
    \     |                                           \      \
     \----|                                            \     |
                                                        \    /
                                                         \--/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed Apr 26 20:51:02 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 26 Apr 2000 20:51:02 +0200 (MET DST)
Subject: [R] Writing lgrindefs
Message-ID: <Pine.OSF.4.05.10004261749290.3810-100000@alnair.uio.no>

Dear all,

I'm writing a lgrind definition for R. Lgrind is a program to produce
pretty program listings for inclusion in LaTeX documents. Does anybody
here have any experience with lgrindefs?

My definition now looks like this:
R:\
	:pb=^\d?\p\d<-\dfunction\(\a\):\
	:bb={:be=}:cb=\d#:ce=$sb=":se=\e":lb=':le=\e':id=.:\
	:zb=@:ze=@:tb=%%:te=%%:mb=%\$:me=\$%:vb=%\|:ve=\|%:\
	:kw=while for in repeat if else switch break next\
	return stop warning function:

Most of this is cut'n'paste from other definitions.
Well, I haven't got it working, my lgrind says "no entry for language R"
when I give this file using the -d option. Never mind...
It is the definition itself that I hope someone will review. 

There are a few things to discuss. First, quotes: Can " and ' both be said
to be string start and end?

Second, lgrind has "character constants". 
- I can see that in e.g. Perl and C, the character constants start and end
  with '. Would this be a character constant in R as well (if they are
  not string start and ends)?
- I came to think of, could e.g. Inf, NA, TRUE etc. be reasonably called
  character constants?

Then, what characters other than letters and digits may occur in
identifiers? The .? 

Then, about the keywords: The keywords I now have are snatched from
ess-vars.el (a thank you is due to Tony! :-) ). I was thinking about,
however, having all the functions defined in base highlighted as keywords.
Would that be a good idea, and if it is, how can I extract the function
names most easily?

Finally, lgrind has regexps that you can use to include TeX math or normal
text etc. in comments. I have adopted what appears to be in use in most
definitions for other languages. Are there special conventions in use? 

Other ideas?

I think lgrind is very nice in producing pretty code for LaTeX documents,
so I hope someone is interested in joining me in producing a good
definition file.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur67 at yahoo.com  Wed Apr 26 21:19:24 2000
From: sarthur67 at yahoo.com (Stephen Arthur)
Date: Wed, 26 Apr 2000 12:19:24 -0700 (PDT)
Subject: [R] morley.dat 
Message-ID: <20000426191924.10572.qmail@web124.yahoomail.com>

To all:

I am flattered to have my question recieve all this
esteemed attention.

However, I still have two kvetches:

1)  I have still not received (or found on my own) the
location of the michelson.dat data set.

2)  I am not receiving mail from the R-help list or
the other two lists I think I signed up for.

Any help on these two kvetches would be appreciated.

steve

--- Bill Venables <venables at acland.qld.cmis.CSIRO.AU>
wrote:
> Ben Bolker speculates:
> 
> > I strongly suspect it's the same data as are
> included in the "michelson"
> > data set in the MASS library.
> > 
> >   Make sure the MASS library is installed, then:
> > 
> > library(MASS)
> > data(michelson)
> > attach(michelson)
> > 
> > should get you to where you would have been if
> you'd read in the
> > "morley.data" file and converted Run and Expt to
> factors (they're factors
> > already in the built-in data set).
> 
> and he is quite correct!  As the person responsible
> for both I had better own up I suppose.  I won't go
> on and on about why it changed its name, but it did.
> 
> Bill Venables.
> 
> -- 
> Bill Venables,      Statistician,     CMIS
> Environmetrics Project
> CSIRO Marine Labs, PO Box 120, Cleveland, Qld, 
> AUSTRALIA.   4163
> Tel: +61 7 3826 7251           Email:
> Bill.Venables at cmis.csiro.au    
> Fax: +61 7 3826 7304     
> http://www.cmis.csiro.au/bill.venables/
> 
> 
> 

__________________________________________________
Do You Yahoo!?
Send online invitations with Yahoo! Invites.
http://invites.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Apr 26 21:32:54 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 26 Apr 2000 15:32:54 -0400 (EDT)
Subject: [R] morley.dat 
In-Reply-To: <20000426191924.10572.qmail@web124.yahoomail.com>
Message-ID: <Pine.LNX.4.10.10004261525380.529-100000@bolker.zoo.ufl.edu>

On Wed, 26 Apr 2000, Stephen Arthur wrote:

> To all:
> 
> I am flattered to have my question recieve all this
> esteemed attention.
> 
> However, I still have two kvetches:
> 
> 1)  I have still not received (or found on my own) the
> location of the michelson.dat data set.

  Sorry if I wasn't explicit enough.  You need to get the MASS library
from CRAN (or wherever you obtained R from), install it (you can do this
using R INSTALL or the rwinst executable, depending on which platform
you're using), and then load it in using the commands I suggested.  You
won't then actually have a "michelson.dat" data file (although you could
create one), but you will have access to that data set from within R --
which I presume is good enough.

  In case you still can't find it, I've created the appropriate data file
by doing:

library(MASS)
data(michelson)
sink("michelson.dat")
michelson
sink()

and sent it to you separately (didn't want to clutter up the list).


> 
> 2)  I am not receiving mail from the R-help list or
> the other two lists I think I signed up for.

  Can't help you with that, but I believe that you've received all the
mail that got sent to the list on this subject.

> 
> Any help on these two kvetches would be appreciated.
> 
> steve
> 
> --- Bill Venables <venables at acland.qld.cmis.CSIRO.AU>
> wrote:
> > Ben Bolker speculates:
> > 
> > > I strongly suspect it's the same data as are
> > included in the "michelson"
> > > data set in the MASS library.
> > > 
> > >   Make sure the MASS library is installed, then:
> > > 
> > > library(MASS)
> > > data(michelson)
> > > attach(michelson)
> > > 
> > > should get you to where you would have been if
> > you'd read in the
> > > "morley.data" file and converted Run and Expt to
> > factors (they're factors
> > > already in the built-in data set).
> > 
> > and he is quite correct!  As the person responsible
> > for both I had better own up I suppose.  I won't go
> > on and on about why it changed its name, but it did.
> > 
> > Bill Venables.
> > 
> > -- 
> > Bill Venables,      Statistician,     CMIS
> > Environmetrics Project
> > CSIRO Marine Labs, PO Box 120, Cleveland, Qld, 
> > AUSTRALIA.   4163
> > Tel: +61 7 3826 7251           Email:
> > Bill.Venables at cmis.csiro.au    
> > Fax: +61 7 3826 7304     
> > http://www.cmis.csiro.au/bill.venables/
> > 
> > 
> > 
> 
> __________________________________________________
> Do You Yahoo!?
> Send online invitations with Yahoo! Invites.
> http://invites.yahoo.com
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Apr 26 21:57:13 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 26 Apr 2000 14:57:13 -0500
Subject: [R] plotting question
In-Reply-To: <Pine.GSO.4.10.10004261316560.15637-100000@paladin.wright.edu>
	(message from Thaddeus Tarpey on Wed, 26 Apr 2000 13:22:24 -0400
	(EDT))
Message-ID: <200004261957.OAA22630@odds.stat.purdue.edu>


Thad,

Here is an example taken from a class I am teaching:

library(MASS); data(Cars93)
plot(Cars93$EngineSize,Cars93$Horsepower,col=as.numeric(Cars93$Type))

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Apr 26 22:37:58 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 26 Apr 2000 22:37:58 +0200
Subject: [R] xaxp with dates
Message-ID: <4.3.1.0.20000426222624.00d93210@127.0.0.1>

Dear friends.
As promised ver 1.01 solved the former problem and now dates plot OK in 
windows. But.
In the following code, "cex.axis"=0.5 works OK but "xaxp"=c(14620,14680,4) 
has seemingly no effect. The limits for xaxp was found from the default 
plot and inspecting par(). I need to put the date marks at specific points. 
Could I suppress them altogether and make a new xaxis corresponding to the 
points ? Was xaxp not intended in this way ?
Thank you for your (so far) endless patience !

data <- read.table("vanco1.dat",h=T)
op <- par("xaxp"=c(14620,14680,4),"cex.axis"=0.5)
attach(data)
library(date)
dates <- mdy.date(month,day,year)
plot(dates,vanco,pch=c(19),xlab='',ylab="[Vancomycin]",
main="Vanco versus weekly dose")
abline(h=10,lty=2)
dm <- c(1,1,1,1,2,2,3)
dd <- c(7,17,21,31,23,25,3)
dy <- rep(2000,7)
limits <- mdy.date(dm,dd,dy)
abline(v=limits,lty=8)
x <- c(14611.37, 14620.95, 14627.94, 14634.44, 14650.85, 14663.85, 
14667.58,14680.15)
mtext(c("1","2","3","4","4.5","3","2","3"),3,at=x)
par(op)
-------------- next part --------------
month   day     year  dosis  vanco
12      31      1999    1       3.8
1       3       2000    1       2.4
1       7       2000    1       3.4
1       12      2000    2       7.1
1       14      2000    2       5.3
1       17      2000    2       5.7
1       19      2000    3       7.7
1       21      2000    3       8.3
1       24      2000    4       8.7
1       26      2000    4       11.1
1       31      2000    4       12.3
2       7       2000    4.5     12.0
2       14      2000    4.5     14.9
2       18      2000    4.5     23.0
2       25      2000    3       20.1
2       28      2000    2       11.3
3	1	2000	2	13.7
3	8	2000	3	12.8
3	10	2000	3	7.4
3	13	2000	3	9.1
3	15	2000	3	12.2
3	17	2000	3	13.8
-------------- next part --------------
Troels Ring, MD
Department of Nephrology
Aalborg Hospital, Denmark
tring at mail1.stofanet.dk 

From p.dalgaard at biostat.ku.dk  Wed Apr 26 23:05:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Apr 2000 23:05:35 +0200
Subject: [R] morley.dat
In-Reply-To: Stephen Arthur's message of "Wed, 26 Apr 2000 12:19:24 -0700 (PDT)"
References: <20000426191924.10572.qmail@web124.yahoomail.com>
Message-ID: <x21z3spo80.fsf@blueberry.kubism.ku.dk>

Stephen Arthur <sarthur67 at yahoo.com> writes:

> 2)  I am not receiving mail from the R-help list or
> the other two lists I think I signed up for.
---

Did you follow the instructions for doing so correctly?

> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
                                          ^^^^^^^^^^^^^^
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdb at young39.wi.mit.edu  Wed Apr 26 23:23:37 2000
From: jdb at young39.wi.mit.edu (John D. Barnett)
Date: Wed, 26 Apr 2000 17:23:37 -0400 (EDT)
Subject: [R] cluster indices
Message-ID: <Pine.LNX.4.10.10004261720250.2325-100000@young39.wi.mit.edu>

Hi-

I'd like to apply some of the cluter indices, using 'clustindex' in the
cclust package, but using output from hierarchical clustering using
'hclust' in the mva package.

The two packages use a different format for storing the results of
clustering; has anyone coerced one into the other?

Thanks!

-John Barnett


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernie.gardner at umb.edu  Thu Apr 27 00:49:01 2000
From: bernie.gardner at umb.edu (Bernie Gardner)
Date: Wed, 26 Apr 2000 22:49:01 +0000
Subject: [R] Quick plot question
Message-ID: <3907725D.7C4CDFF8@umb.edu>

Is there an easy way to add an axis or just a simple line at the 0
position of a graph with positive and negative values.  Specifically,
I'ld like to add a zero line on a plot of residuals from a fit.  I'm
very new at R so if this is a dumb question feel free to let me know but
I'ld still appreciate any help.

Thanks

Bernie
-- 
_________________
Bernie Gardner
Research Associate
ECOS, UMass Boston
100 Morrissey Blvd.
Boston, MA 02125
617-287-7451
bernie.gardner at umb.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 27 00:12:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2000 00:12:22 +0200
Subject: [R] Quick plot question
In-Reply-To: Bernie Gardner's message of "Wed, 26 Apr 2000 22:49:01 +0000"
References: <3907725D.7C4CDFF8@umb.edu>
Message-ID: <x2d7ncmrzt.fsf@blueberry.kubism.ku.dk>

Bernie Gardner <bernie.gardner at umb.edu> writes:

> Is there an easy way to add an axis or just a simple line at the 0
> position of a graph with positive and negative values.  Specifically,
> I'ld like to add a zero line on a plot of residuals from a fit.  I'm
> very new at R so if this is a dumb question feel free to let me know but
> I'ld still appreciate any help.

abline(h=0)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 27 04:38:23 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 26 Apr 2000 22:38:23 -0400 (EDT)
Subject: [R] reading in columns of a data set as factors
Message-ID: <Pine.LNX.4.21.0004262227520.480-100000@Chrestomanci.home.earth>

Dear people,

I've spent some time trying to find a simple way to do the following. I
can certainly think of complicated ways to do it...

I have a data set of 99 columns and 2000 rows. Each row corresponds to an
individual item of data, each column corresponds to a variable. I want
this data to be read into a data frame. The first 66 columns are binary,
values 0, 1, and I want these to be coerced into factor form. The last
33 are ordinary numeric data. For
concreteness let us call these variables b1... b66 and the last 33
x1... x33.

read.table does not seem to have any nice automated way of saying "I want
these n columns to correspond to factors". scan does, by going what =
(b1="", b2="", ...,b66="",... x1=0, x2=0,... ), and then I could coerce
the resulting list to a data frame, I suppose, but I had some problems
making a character vector of the correct form. I don't want to type 99
individual entries, and rep etc. have problems with equal signs and
inverted commas.

Maybe I am just going about this the wrong way. I am sure there must be
some simple way of doing this that I am overlooking.

                                 Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 27 05:58:22 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 26 Apr 2000 23:58:22 -0400 (EDT)
Subject: [R] Re: reading in columns of a data set as factors
In-Reply-To: <Pine.LNX.4.21.0004262227520.480-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0004262353540.480-100000@Chrestomanci.home.earth>

Dear people,

Replying to my own message here. The following appears to work. I read in
the data using read.table and then coerce the columns of the data frame to
factors afterwards.

clus.df <- read.table("clus.dat",header= FALSE, row.names=NULL,
col.names=names)

attach(clus.df)

for(i in 1:66)
clus.df[,i] <- as.factor(clus.df[,i])

However, I don't find this completely satisfactory. For one thing, I have
somehow got the impression that loops in Splus/R should be avoided
whenever possible (gee, I wonder where I got that impression) and so is
there a more elegant way to do this (without loops)?

                                                   Faheem.

On Wed, 26 Apr 2000, Faheem Mitha wrote:

> Dear people,
> 
> I've spent some time trying to find a simple way to do the following. I
> can certainly think of complicated ways to do it...
> 
> I have a data set of 99 columns and 2000 rows. Each row corresponds to an
> individual item of data, each column corresponds to a variable. I want
> this data to be read into a data frame. The first 66 columns are binary,
> values 0, 1, and I want these to be coerced into factor form. The last
> 33 are ordinary numeric data. For
> concreteness let us call these variables b1... b66 and the last 33
> x1... x33.
[stuff snipped]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 27 08:01:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 27 Apr 2000 07:01:15 +0100 (BST)
Subject: [R] Factor Rotation
In-Reply-To: <Pine.A41.4.10.10004261244230.45618-100000@gpu5.srv.ualberta.ca>
Message-ID: <Pine.GSO.4.05.10004270653000.26167-100000@auk.stats>

On Wed, 26 Apr 2000, Barry Cooke wrote:

> How does one rotate the loadings from a principal component analysis?
> Help on function prcomp() from package mva mentions rotation:
> 
> Arguments
> 
> retx		a logical value indicating whether the rotated
> 		variables should be returned.
> 
> Values
> 
> rotation	the matrix of variable loadings (i.e., a matrix 
> 		whose olumns contain the eigenvectors).  The 
> 		function princomp returns this in the element 
> 		loadings.
> 
> x		if retx is true the value of the rotated data
> 		(the data multiplied by the rotation matrix) 
> 		is returned.
> 
> but it is unclear to me exactly how the rotation is to be done.

You are being confused by prcomp's S-compatible notation.  All PCAs are a
`rotation' of the coordinate system to a basis in which the first component
has maximum variance, the next has maximal variance subject to
uncorrelatedness with the first etc.

> For instance how would one specify a varimax rotation?  Or are
> loadings, by default, rotated by the varimax method in prcomp()?
> 
> MASS v2 describes the function rotate() on p. 409-410; however R
> complements does not cover this.  A search of CRAN indicates Peter
> Ho <peter at esb.ucp.pt> asked the same question Sept 29, 1999, but
> I found no reply.

There is no code to do this in R that I know of. Rotation in the sense
you are describing it belongs with factor analysis, and that is not
currently implemented in R.  Indeed `loadings' is FA notation applied to
PCA, and this subject is bedevilled with confusion between the two.
In my view most of the rotation criteria only make sense for FA.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Thu Apr 27 08:02:17 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Thu, 27 Apr 2000 16:02:17 +1000
Subject: [R] Re: reading in columns of a data set as factors 
In-Reply-To: Your message of "Wed, 26 Apr 2000 23:58:22 -0400."
             <Pine.LNX.4.21.0004262353540.480-100000@Chrestomanci.home.earth> 
Message-ID: <200004270602.QAA18470@snowy.nsw.cmis.CSIRO.AU>

> Dear people,
> 
> Replying to my own message here. The following appears to work. I read in
> the data using read.table and then coerce the columns of the data frame to
> factors afterwards.
> 
> clus.df <- read.table("clus.dat",header= FALSE, row.names=NULL,
> col.names=names)
> 

Ah.  So you don't have the column names as part of the file but
in a separate vector, 'names'.  The way I would do it would be
(warning: untested code...)

template <- structure(c(as.list(rep("", 66)), as.list(rep(0, 
33)),
			names = names)
clus.df <- data.frame(scan("clus.dat", what = template))

I'd be surprised if it made much difference in time or resources,
though.  Sometimes a loop is OK.



> attach(clus.df)
> 
> for(i in 1:66)
> clus.df[,i] <- as.factor(clus.df[,i])
> 
> However, I don't find this completely satisfactory. For one thing, I have
> somehow got the impression that loops in Splus/R should be avoided
> whenever possible (gee, I wonder where I got that impression) and so is
> there a more elegant way to do this (without loops)?
> 
>                                                    Faheem.
> 
> On Wed, 26 Apr 2000, Faheem Mitha wrote:
> 
> > Dear people,
> > 
> > I've spent some time trying to find a simple way to do the following. I
> > can certainly think of complicated ways to do it...
> > 
> > I have a data set of 99 columns and 2000 rows. Each row corresponds to an
> > individual item of data, each column corresponds to a variable. I want
> > this data to be read into a data frame. The first 66 columns are binary,
> > values 0, 1, and I want these to be coerced into factor form. The last
> > 33 are ordinary numeric data. For
> > concreteness let us call these variables b1... b66 and the last 33
> > x1... x33.
> [stuff snipped]
> 

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au

Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr 27 09:21:17 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Apr 2000 09:21:17 +0200
Subject: [R] Writing lgrindefs
References: <Pine.OSF.4.05.10004261749290.3810-100000@alnair.uio.no>
Message-ID: <3907EA6D.6BE703BF@statistik.uni-dortmund.de>

Kjetil Kjernsmo:
> I'm writing a lgrind definition for R. Lgrind is a program to produce
> pretty program listings for inclusion in LaTeX documents. Does anybody
> here have any experience with lgrindefs?
>
> [...]
>
> Then, about the keywords: The keywords I now have are snatched from
> ess-vars.el (a thank you is due to Tony! :-) ). I was thinking about,
> however, having all the functions defined in base highlighted as keywords.
> Would that be a good idea, and if it is, how can I extract the function
> names most easily?

1. You get a list of objects (not only functions!!!) by typing
    ls(env=environment("R_GlobalEnv"))

2. In the html-help files, e.g. the "Functions" index could help you.
   Attention: Not only functions are listed here!

3. For my R-WinEdt "package", I extracted names of functions of many R
packages. 
   If you want, I will send some files.
 
> Other ideas?
> 
> I think lgrind is very nice in producing pretty code for LaTeX documents,
> so I hope someone is interested in joining me in producing a good
> definition file.

Cool!!! Would be really useful!!!

Uwe Ligges

PS:
Maybe R-devel is the better forum to discuss this?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Thu Apr 27 09:48:59 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Thu, 27 Apr 2000 09:48:59 +0200
Subject: [R] Getting betas in lm
Message-ID: <v04220800b52da059bba9@[134.76.136.114]>

Howdy,

is there a simple way to get beta weights from lm? So far I've done 
z-transformations of the variables before using them in lm.
I also wonder whether there is a function to calculate variance with 
n instead of (n-1)?

--Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Apr 27 09:50:09 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 27 Apr 2000 09:50:09 +0200 (CEST)
Subject: [R] cluster indices
In-Reply-To: <Pine.LNX.4.10.10004261720250.2325-100000@young39.wi.mit.edu>
References: <Pine.LNX.4.10.10004261720250.2325-100000@young39.wi.mit.edu>
Message-ID: <14599.61745.584113.251663@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 26 Apr 2000 17:23:37 -0400 (EDT),
>>>>> John D Barnett (JDB) wrote:

JDB> Hi-
JDB> I'd like to apply some of the cluter indices, using 'clustindex' in the
JDB> cclust package, but using output from hierarchical clustering using
JDB> 'hclust' in the mva package.

JDB> The two packages use a different format for storing the results of
JDB> clustering; has anyone coerced one into the other?

The function currently only works on objects returned by kmeans or
cclust, i.e., partitioning methods.

I've started (thinking about) unifying the interface of the various
cluster methods and object, but don't hold your breath until then ...

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr 27 10:15:29 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Apr 2000 10:15:29 +0200
Subject: [R] xaxp with dates
References: <4.3.1.0.20000426222624.00d93210@127.0.0.1>
Message-ID: <3907F721.E2930ED6@statistik.uni-dortmund.de>

> As promised ver 1.01 solved the former problem and now dates plot OK in
> windows. But.
> In the following code, "cex.axis"=0.5 works OK but "xaxp"=c(14620,14680,4)
> has seemingly no effect. The limits for xaxp was found from the default
> plot and inspecting par(). I need to put the date marks at specific points.
> Could I suppress them altogether and make a new xaxis corresponding to the
> points ? Was xaxp not intended in this way ?
> Thank you for your (so far) endless patience !
>
> data <- read.table("vanco1.dat",h=T)
> op <- par("xaxp"=c(14620,14680,4),"cex.axis"=0.5)
> attach(data)
> library(date)
> dates <- mdy.date(month,day,year)
> plot(dates,vanco,pch=c(19),xlab='',ylab="[Vancomycin]",
> main="Vanco versus weekly dose")
> abline(h=10,lty=2)
> dm <- c(1,1,1,1,2,2,3)
> dd <- c(7,17,21,31,23,25,3)
> dy <- rep(2000,7)
> limits <- mdy.date(dm,dd,dy)
> abline(v=limits,lty=8)
> x <- c(14611.37, 14620.95, 14627.94, 14634.44, 14650.85, 14663.85,
> 14667.58,14680.15)
> mtext(c("1","2","3","4","4.5","3","2","3"),3,at=x)
> par(op)

I wanted to tell you to use something like

   plot(dates, vanco, axes=FALSE)
   axis(.....)
   box()

as a workaround, but plot(dates,vanco,axes=FALSE) draws the
"dates"-axis!
Bug???


Something like

   plot(dates, vanco, xaxt="n")
   axis(1, temp <- seq(14620, 14680, 4), as.character(as.date(temp)),
cex.axis=0.5)

should work.


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 27 10:36:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 27 Apr 2000 09:36:33 +0100 (BST)
Subject: [R] Getting betas in lm
In-Reply-To: <v04220800b52da059bba9@[134.76.136.114]>
Message-ID: <Pine.GSO.4.05.10004270932120.26430-100000@auk.stats>

On Thu, 27 Apr 2000, Ragnar Beer wrote:

> Howdy,
> 
> is there a simple way to get beta weights from lm? So far I've done 
> z-transformations of the variables before using them in lm.

Could you please explain your notation?  coef(fit) gives the coefficients,
which may be what you want.

> I also wonder whether there is a function to calculate variance with 
> n instead of (n-1)?

cov.wt does so in S-PLUS but not R.  It is very easy to write one (if
you really want one):

myvar <- function(x, y) var(x)*(1 - 1/NROW(x))

I think does what you want, at least if there are no missing values.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 27 10:55:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2000 10:55:26 +0200
Subject: [R] xaxp with dates
In-Reply-To: Uwe Ligges's message of "Thu, 27 Apr 2000 10:15:29 +0200"
References: <4.3.1.0.20000426222624.00d93210@127.0.0.1> <3907F721.E2930ED6@statistik.uni-dortmund.de>
Message-ID: <x2og6vly81.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

>    plot(dates, vanco, axes=FALSE)
>    axis(.....)
>    box()
> 
> as a workaround, but plot(dates,vanco,axes=FALSE) draws the
> "dates"-axis!
> Bug???

Not in R itself... This is done explicitly in plot.date. There's
another bug:

plot.date(1:10,1:10)

notice the x label. Unclassing x should be done *after*
deparse(substitute()). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 27 11:16:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2000 11:16:12 +0200
Subject: [R] Getting betas in lm
In-Reply-To: Prof Brian D Ripley's message of "Thu, 27 Apr 2000 09:36:33 +0100 (BST)"
References: <Pine.GSO.4.05.10004270932120.26430-100000@auk.stats>
Message-ID: <x2ln1zlx9f.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 27 Apr 2000, Ragnar Beer wrote:
> 
> > Howdy,
> > 
> > is there a simple way to get beta weights from lm? So far I've done 
> > z-transformations of the variables before using them in lm.
> 
> Could you please explain your notation?  coef(fit) gives the coefficients,
> which may be what you want.

This is probably the SPSS abomination for "standardized coefficients"
sticking its head up, i.e. coefficients multiplied by the SD of the
corresponding x. [This is really great fun when you use SPSS along
with teaching materials which uses beta for (the true value of) the
regression parameters, which *is* the standard notation in theoretical
statistics.]

z-transforming is correct (insofar as the whole concept makes sense).
If you have only numeric predictors, it might be handy to give it as a
matrix scale(cbind(x1,x2,...)), for the general case, one could do
that to model.matrix(formula), but it gets unwieldy to give a general
solution (and the interpretation of std.coef. for factor contrasts is
dubious anyway). Watch out for NAs, by the way!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Apr 27 14:57:09 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 27 Apr 2000 14:57:09 +0200 (MET DST)
Subject: [R] What is ks.test saying?
Message-ID: <Pine.OSF.4.05.10004271331220.9815-100000@alnair.uio.no>

Hello!

I have two matrices of equal dimension ll and lu that I want to do a
ks.test on corresponding rows in these matrices (dim(ll) is [1] 101 100).

If I do e.g. > ks.test(ll[50,],lu[50,])
just for testing, it displays a lot of numbers, and some more info:
[116] -3.000000e-02 -4.000000e-02 -4.000000e-02 -3.000000e-02 -4.000000e-02
[121] -3.000000e-02 -4.000000e-02 -3.000000e-02 -2.000000e-02 -3.000000e-02
[126] -2.000000e-02 -1.000000e-02 -3.469447e-18 -1.000000e-02 -3.469447e-18

	 Two-sample Kolmogorov-Smirnov test 

data:  ll[50, ] and lu[50, ] 
D = 0.11, p-value = 0.5806 
alternative hypothesis: two.sided 

Warning message: 
cannot compute correct p-values with ties in: ks.test(ll[50, ], lu[50, ]) 
 
The documentation doesn't discuss the output in any length, so I am
wondering what it tells me. The D is the test statistic if I've got it
right, and there is a p-value, but if I understand the warning, it isn't
exact. Is it possible to qualitatively say how it differs from the exact
p-value? And, what is the long vector that is printed?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Thu Apr 27 15:18:28 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Thu, 27 Apr 2000 15:18:28 +0200
Subject: [R] Getting betas in lm
In-Reply-To: <x2ln1zlx9f.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.05.10004270932120.26430-100000@auk.stats>
 <x2ln1zlx9f.fsf@blueberry.kubism.ku.dk>
Message-ID: <v04220800b52dea2ea753@[134.76.136.114]>

>  > > is there a simple way to get beta weights from lm? So far I've done
>  > > z-transformations of the variables before using them in lm.
>  >
>This is probably the SPSS abomination for "standardized coefficients"
>sticking its head up, i.e. coefficients multiplied by the SD of the
>corresponding x. [This is really great fun when you use SPSS along
>with teaching materials which uses beta for (the true value of) the
>regression parameters, which *is* the standard notation in theoretical
>statistics.]

Yes, I'm coming from SPSS... Interpreting beta weights is standard in 
psychology and makes life a lot easier, because I don't have to keep 
in mind the range of each and every scale my variables refer to.

What do you mean by coefficients multiplied by the SD of the 
corresponding x? Sounds wrong to me.

>z-transforming is correct (insofar as the whole concept makes sense).
>If you have only numeric predictors, it might be handy to give it as a
>matrix scale(cbind(x1,x2,...)), for the general case, one could do
>that to model.matrix(formula), but it gets unwieldy to give a general
>solution (and the interpretation of std.coef. for factor contrasts is
>dubious anyway). Watch out for NAs, by the way!

"scale" works great! One problem: I know z-scores to be calculated

z = (x-mean(x)) / sd(x)

where sd(x) is the _sample_ standard deviation calculated with n and 
not n-1. Have I gotten something wrong?

--Ragnar

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 27 17:30:38 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 27 Apr 2000 11:30:38 -0400 (EDT)
Subject: [R] Re: reading in columns of a data set as factors 
In-Reply-To: <200004270602.QAA18470@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.LNX.4.21.0004271115001.438-100000@Chrestomanci.home.earth>

Dear Dr. Venables,

Did you mean to write

template <- structure(c(as.list(rep("", 66)), as.list(rep(0, 
33)),names = names))

clus.df <- data.frame(scan("clus.dat", what = template))

(A second bracket seems to be missing after names =names). 

If so, this code certainly loads successfully, and is *much* faster than
mine, but gives rather weird results. clus.df doesn't return the table in
the form you would expect. For example, I get dim(clus.df) [1] 1031 198
(!) I don't understand the structure function, so can't fix it.

Looks like I am stuck with my method for the time being. Does the method I
am using (the loop) look OK, though?

I am planning to buy the V&R third edition, possibly both volumes, the
data analysis one and the programming one, though they are rather
expensive, because I am getting a little desperate. I have had serious
problems finding sufficiently detailed documentation about Splus/R. The
online help is often very cryptic, and much of the other available
documentation is either severely incomplete or outdated. The only other
option appears to be reading the source code, something which I don't feel
quite up to, and which is, in any case, an option currently only available
in R.

Thank you for your response.
                                   Sincerely, Faheem Mitha.

On Thu, 27 Apr 2000, Bill Venables wrote:

> > Dear people,
> > 
> > Replying to my own message here. The following appears to work. I read in
> > the data using read.table and then coerce the columns of the data frame to
> > factors afterwards.
> > 
> > clus.df <- read.table("clus.dat",header= FALSE, row.names=NULL,
> > col.names=names)
> > 
> 
> Ah.  So you don't have the column names as part of the file but
> in a separate vector, 'names'.  The way I would do it would be
> (warning: untested code...)
> 
> template <- structure(c(as.list(rep("", 66)), as.list(rep(0, 
> 33)),
> 			names = names)
> clus.df <- data.frame(scan("clus.dat", what = template))
> 
> I'd be surprised if it made much difference in time or resources,
> though.  Sometimes a loop is OK.
> 
> 
> 
> > attach(clus.df)
> > 
> > for(i in 1:66)
> > clus.df[,i] <- as.factor(clus.df[,i])
> > 
> > However, I don't find this completely satisfactory. For one thing, I have
> > somehow got the impression that loops in Splus/R should be avoided
> > whenever possible (gee, I wonder where I got that impression) and so is
> > there a more elegant way to do this (without loops)?
> > 
> >                                                    Faheem.
> > 
> > On Wed, 26 Apr 2000, Faheem Mitha wrote:
> > 
> > > Dear people,
> > > 
> > > I've spent some time trying to find a simple way to do the following. I
> > > can certainly think of complicated ways to do it...
> > > 
> > > I have a data set of 99 columns and 2000 rows. Each row corresponds to an
> > > individual item of data, each column corresponds to a variable. I want
> > > this data to be read into a data frame. The first 66 columns are binary,
> > > values 0, 1, and I want these to be coerced into factor form. The last
> > > 33 are ordinary numeric data. For
> > > concreteness let us call these variables b1... b66 and the last 33
> > > x1... x33.
> > [stuff snipped]
> > 
> 
> -- 
> Bill Venables,      Statistician,     CMIS Environmetrics Project
> CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
> Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au
> 
> Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/
> 
> 
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Apr 27 17:54:02 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 27 Apr 2000 17:54:02 +0200 (CEST)
Subject: [R] Re: reading in columns of a data set as factors 
In-Reply-To: <Pine.LNX.4.21.0004271115001.438-100000@Chrestomanci.home.earth>
References: <200004270602.QAA18470@snowy.nsw.cmis.CSIRO.AU>
	<Pine.LNX.4.21.0004271115001.438-100000@Chrestomanci.home.earth>
Message-ID: <14600.25242.125759.145787@lynne.ethz.ch>


>>>>> "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:

    Faheem> Dear Dr. Venables, Did you mean to write

		....
    Faheem> I am planning to buy the V&R third edition, possibly both
    Faheem> volumes, the data analysis one and the programming one, though
    Faheem> they are rather expensive,
(I too was astonished a few months ago
 when I found how much Springer's book prices have increased in general,
 or is that mainly an effect of the rising US dollar ?)

    Faheem> because I am getting a little desperate. I have had serious
    Faheem> problems finding sufficiently detailed documentation about
    Faheem> Splus/R. The online help is often very cryptic, and much of the
    Faheem> other available documentation is either severely incomplete or
    Faheem> outdated.
as a probable co-author of much of this documentation, I'd like to find out
what is cryptic and even more what is ``severely incomplete or outdated''.

{More helpful than publicly critizing,
 would be to send specific suggestions for improvements; 
 since R has been a huge community effort ...
 We *do* appreciate bug reports on (and contributions to) documentation!
}

    Faheem> The only other option appears to be reading the
    Faheem> source code, something which I don't feel quite up to, and
    Faheem> which is, in any case, an option currently only available in R.
"only"..  why is R not enough?  ;-)

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Apr 27 18:04:32 2000
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 27 Apr 2000 12:04:32 -0400
Subject: [R] Getting betas in lm
In-Reply-To: <v04220800b52dea2ea753@[134.76.136.114]>
References: <x2ln1zlx9f.fsf@blueberry.kubism.ku.dk>
 <Pine.GSO.4.05.10004270932120.26430-100000@auk.stats>
 <x2ln1zlx9f.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.1.0.20000427115534.00d4d180@mcmail.cis.mcmaster.ca>

At 03:18 PM 4/27/2000 +0200, you wrote:

>Yes, I'm coming from SPSS... Interpreting beta weights is standard in 
>psychology and makes life a lot easier, because I don't have to keep in 
>mind the range of each and every scale my variables refer to.

This is probably not the place to debate the merits of standardized 
regression coefficients, but I agree with Peter Dalgaard that they are less 
useful that than they may at first appear, and in some contexts (such as 
with factors or interactions) are essentially uninterpretable.

>What do you mean by coefficients multiplied by the SD of the corresponding 
>x? Sounds wrong to me.
>

Actually, the standardized regression coefficient is b*sd(x)/sd(y) (where b 
is the unstandardized coefficient).

>"scale" works great! One problem: I know z-scores to be calculated
>
>z = (x-mean(x)) / sd(x)
>
>where sd(x) is the _sample_ standard deviation calculated with n and not 
>n-1. Have I gotten something wrong?

Because you're multiplying by sd(x) and dividing by sd(y), it doesn't 
matter what's in the denominator of the variance.

I hope that this helps.

John


|----------------------------------------------------|
| John Fox                          jfox at McMaster.ca |
| Department of Sociology        McMaster University |
|----------------------------------------------------|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Apr 27 18:37:26 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 27 Apr 2000 12:37:26 -0400 (EDT)
Subject: [R] Re: reading in columns of a data set as factors 
In-Reply-To: <14600.25242.125759.145787@lynne.ethz.ch>
Message-ID: <Pine.LNX.4.21.0004271210310.438-100000@Chrestomanci.home.earth>


On Thu, 27 Apr 2000, Martin Maechler wrote:
> 
>     Faheem> because I am getting a little desperate. I have had serious
>     Faheem> problems finding sufficiently detailed documentation about
>     Faheem> Splus/R. The online help is often very cryptic, and much of the
>     Faheem> other available documentation is either severely incomplete or
>     Faheem> outdated.
> as a probable co-author of much of this documentation, I'd like to find out
> what is cryptic and even more what is ``severely incomplete or outdated''.
> 
> {More helpful than publicly critizing,
>  would be to send specific suggestions for improvements; 
>  since R has been a huge community effort ...
>  We *do* appreciate bug reports on (and contributions to) documentation!

Dear Martin Maechler and others,

My apologies. I meant no offence, and did not mean to be publicly
criticising. I do greatly appreciate the work of the R community. Without
you, I would not be running R on my home computer, and this mailing list
has been very helpful to me.

I did not mean that the R online help was incomplete or outdated, though I
certainly find it cryptic, and as a beginner myself, I doubt if I would be
much use in expanding/improving it. I may possibly find it cryptic because
I am a beginner, of course, and I realise the on-line help is not meant to
replace a manual or textbook. One specific thing that would be helpful
would be more and simpler examples on the help pages. I find the examples
useful when there are some, but I find that they often include a lot of
other functions and terminology which I have to figure out first in order
to see what the function I'm interested in is doing. Perhaps slightly
simpler (artificially simple?) examples would be more helpful. Remember,
I'm speaking as a novice, and I assure you I put in plenty of effort
trying to figure out stuff.

When I said incomplete/outdated, I was alluding to free manuals and guides
available online, written by Mathsoft and others, much of it years old,
and the books I have come across in libraries. These are OK for the
basics, but not when you need details on some specialised topic. Since
R/Splus is changing so rapidly, much of the documentation available to me
alludes to version 3 of Splus and so forth. This is a fact of life, and
nobody's fault.

However, I do take the point about constructive suggestions. Again, I
apologise for any unintentional offence I may have given.

                          Sincerely, Faheem Mitha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud at stat.stanford.edu  Thu Apr 27 18:47:52 2000
From: renaud at stat.stanford.edu (Olivier Renaud)
Date: Thu, 27 Apr 2000 09:47:52 -0700
Subject: [R] Equivalent of S> assign( , ,frame=1)
Message-ID: <39086F38.C380D667@stat.stanford.edu>

Hi,
I'm new to R, and I certainly miss an obvious point. I looked in the doc
and the archieve, but could not find what is the R equivalent of the S
assign( , ,frame=1). I guess the question is like what is the equivalent
of the S frames and how to access them. As an example: 

oneprog <- function()
{
  initial()
  res <- subrout()
  return(res)
  }

initial <- function()
  {
  assign ("x", 2, frame=1)
  assign ("y", 3, frame=1)
  }

  
subrout <- function()
  return(x+y)

This works perfectly with S. I know that if I put subrout inside oneprog
and replace the call to initial by a simple x <- 2;y <-3, it will work
on R (and not on S). But initial is a routine I use in many different
programs, and therefore I don't want it inside a given one. Any help?
More general comments on this way of programming are also welcomed.


Olivier
-- 
Olivier Renaud
Department of Statistics  -  Sequoia Hall  -  390 Serra Mall
STANFORD, CA, 94305-4065     mailto:renaud at stat.stanford.edu
                             http://www.stanford.edu/~renaud
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Apr 27 19:54:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 27 Apr 2000 10:54:52 -0700 (PDT)
Subject: [R] Equivalent of S> assign( , ,frame=1)
In-Reply-To: <39086F38.C380D667@stat.stanford.edu>
Message-ID: <Pine.GSO.4.21.0004270954250.28220-100000@mail.biostat.washington.edu>

On Thu, 27 Apr 2000, Olivier Renaud wrote:

> Hi,
> I'm new to R, and I certainly miss an obvious point. I looked in the doc
> and the archieve, but could not find what is the R equivalent of the S
> assign( , ,frame=1). I guess the question is like what is the equivalent
> of the S frames and how to access them. As an example: 

R doesn't have an equivalent of frame 1.  It is possible to store objects
in an environment, which can either be referenced by a variable or stored
in the search path.

So one way to do this is

attach(NULL,name="Frame1")
initial <-function() 
  {
   frame1<-match("Frame1",search())
   assign ("x", 2, env=frame1)
   assign ("y", 3, env=frame1)
   }
   
YOu can now refer to x anywhere.  It does not override a variable called
'x' in the global environment, though.

Alternatively you can store things in an environment off the search path
and explicitly refer to them by location

frame1<-new.env()
initial <-function()   {
   assign ("x", 2, env=frame1)
   assign ("y", 3, env=frame1)
   }

subrout<-function(){
	get("x",env=frame1)+get("y",env=frame1)		
}
 

Alternatively, you can just pass things explicitly into the
functions. There isn't much efficiency loss, as arguments aren't copied
unless they are modified.


	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> oneprog <- function()
> {
>   initial()
>   res <- subrout()
>   return(res)
>   }
> 
> initial <- function()
>   {
>   assign ("x", 2, frame=1)
>   assign ("y", 3, frame=1)
>   }
> 
>   
> subrout <- function()
>   return(x+y)
> 
> This works perfectly with S. I know that if I put subrout inside oneprog
> and replace the call to initial by a simple x <- 2;y <-3, it will work
> on R (and not on S). But initial is a routine I use in many different
> programs, and therefore I don't want it inside a given one. Any help?
> More general comments on this way of programming are also welcomed.
> 
> 
> Olivier
> -- 
> Olivier Renaud
> Department of Statistics  -  Sequoia Hall  -  390 Serra Mall
> STANFORD, CA, 94305-4065     mailto:renaud at stat.stanford.edu
>                              http://www.stanford.edu/~renaud
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu Apr 27 20:09:22 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 27 Apr 2000 20:09:22 +0200
Subject: [R] plotting axes
Message-ID: <4.3.1.0.20000427195212.00db7570@127.0.0.1>

Dear friends. I appreciate the help that plot.date is not yet fully 
developed but beautiful and efficient as is anyway. I attach again an 
example from a real patient and now the problem is how to represent a 
chemical C-reactive protein (CRP) on the plot together with concentration 
of vancomycin. CRP was 25-200 and vancomycin below about 20. I only could 
get it about right by dividing CRP by 10 and the plot is informative as is 
- but how could I make an axis for the CRP ? I've tried taking all axes 
away (but dates are not taken away, anyway) and adding 
axis(4,at=seq(25,200,by=25)) but it will leave the plot at the upper right. 
So, will I have to construct it from mtext ?
I too would be happy to have also more basic R-oriented material akin to 
Maindonald's
http://room.anu.edu.au/~johnm/
--also so not to have to make all these basic questions to the very 
advanced people around.
Thanks for your efforts and dedication - and patience.

Yours
Troels

data <- read.table("vanco2.dat",h=T)
attach(data)
library(date)
dates <- mdy.date(month,day,year)
plot(dates,vanco,pch=c(19),xlab='',ylab="[Vancomycin] ",
main="Vanco versus ugentlig dosis")
abline(h=10,lty=2)
dm <- c(1,1,1,1,2,2,3)
dd <- c(7,17,21,31,23,25,3)
dy <- rep(2000,7)
limits <- mdy.date(dm,dd,dy)
abline(v=limits,lty=8)
x <- c(14611.37, 14620.95, 14627.94, 14634.44, 14650.85, 14663.85, 
14667.58,14680.15)
mtext(c("1","2","3","4","4.5","3","2","3"),3,at=x)
points(dates,CRP/10,pch=c(9))
-------------- next part --------------
month   day     year  dosis  vanco	CRP
12      31      1999    1       3.8	192
1       3       2000    1       2.4	200
1	5	2000	NA	NA	190
1       7       2000    1       3.4	NA
1       12      2000    2       7.1	NA
1       14      2000    2       5.3	NA
1       17      2000    2       5.7	123
1       19      2000    3       7.7	NA
1       21      2000    3       8.3	82
1       24      2000    4       8.7	83
1       26      2000    4       11.1	NA
1       31      2000    4       12.3	74
2	2	2000	NA	NA	83
2       7       2000    4.5     12.0	71
2       14      2000    4.5     14.9	71
2       18      2000    4.5     23.0	NA
2	21	2000	NA	NA	93
2       25      2000    3       20.1	67
2       28      2000    2       11.3	78
3	1	2000	2	13.7	NA
3	3	2000	NA	NA	64
3	6	2000	NA	NA	47
3	8	2000	3	12.8	NA
3	10	2000	3	7.4	NA
3	13	2000	3	9.1	33
3	15	2000	3	12.2	NA
3	17	2000	3	13.8	33
3	20	2000	NA	NA	36
3	27	2000	NA	NA	32
4	3	2000	NA	NA	36
4	5	2000	NA	NA	37
4	10	2000	NA	NA	25
4	17	2000	NA	NA	24
4	24	2000	NA	NA	24
4	26	2000	NA	NA	25

-------------- next part --------------
Troels

look here:
http://www.wired.com/wired/archive/8.04/joy.html

From pkleiber at honlab.nmfs.hawaii.edu  Thu Apr 27 22:20:26 2000
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 27 Apr 2000 10:20:26 -1000
Subject: [R] quit(save=default??)
Message-ID: <3908A10A.8B92E95@honlab.nmfs.hawaii.edu>

   Somehow I've inadvertently configured the default behavior on quit()
to be save="no" whether I'm in batch or interactive (No... I'm not
setting the --no-save option).  I am running R version 1.0.0.  I've
searched for info on how to reset things to behave as advertised, but no
luck.  Anybody have a clue?
   Thanks, Pierre
-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 28 00:11:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2000 00:11:59 +0200
Subject: [R] plotting axes
In-Reply-To: Troels Ring's message of "Thu, 27 Apr 2000 20:09:22 +0200"
References: <4.3.1.0.20000427195212.00db7570@127.0.0.1>
Message-ID: <x21z3rtcr4.fsf@blueberry.kubism.ku.dk>

Troels Ring <tring at mail1.stofanet.dk> writes:

> away (but dates are not taken away, anyway) and adding 
> axis(4,at=seq(25,200,by=25)) but it will leave the plot at the upper right. 
> So, will I have to construct it from mtext ?

How about

 axis(4,at=seq(25,200,by=25)/20, labels=seq(25,200,by=25))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr 28 01:47:22 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 27 Apr 2000 19:47:22 -0400 (EDT)
Subject: [R] reading in columns of a data set as factors
In-Reply-To: <Pine.LNX.4.21.0004271857160.438-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0004271938540.438-100000@Chrestomanci.home.earth>

Dear Dr. Kleiber,

Just to make sure I understand this. lapply acts on lists.  In the line
below, are we regarding mydat[ ,1:66] as a list with 66 components?  How
is lapply happy to regard this as a list?  I have only the dimmest
understanding of how classes are inherited by subsets of objects, but
class(mydat[ ,1:66]) gives data.frame, and is a data frame also a list?

                                                  Faheem.

> mydat[,1:66] _ lapply(mydat[,1:66],as.facto

On Thu, 27 Apr 2000, Faheem Mitha wrote:

> Thanks, this was exactly what I was looking for. Specifically, the last
> line:
> 
> > mydat[,1:66] _ lapply(mydat[,1:66],as.factor
> 
> can be used the replace the loop I have, and is much faster. Didn't think
> of using lapply. Must get to know it better. Looks like a useful
> all-purpose function.
>                                                Faheem.
> 
> On Thu, 27 Apr 2000, Pierre Kleiber wrote:
> 
> > Here's how I would go about it:
> > 
> > > mydat <- as.data.frame(matrix(scan("input.dat"),byrow=T,ncol=99)
> > > names(mydat) _ c(paste("b",1:66,sep=""),paste("x",1:33,sep=""))
> > > mydat[,1:66] _ lapply(mydat[,1:66],as.factor)
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Apr 28 02:26:08 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Fri, 28 Apr 2000 10:26:08 +1000
Subject: [R] Re: reading in columns of a data set as factors 
Message-ID: <3.0.32.20000428102604.01269410@pophost.nsw.cmis.csiro.au>

At 11:30 AM 4/27/00 -0400, Faheem Mitha wrote:
>Dear Dr. Venables,
>
>Did you mean to write
>
>template <- structure(c(as.list(rep("", 66)), as.list(rep(0, 
>33)),names = names))

Not quite!  That's what happens when I don't use emacs... Sigh

Try

template <- structure(c(as.list(rep("", 66)),
			      as.list(rep(0, 33))),
		names = names)

The idea is to make a list with the names that you want for your columns
and values for the components giving the mode of the value to be read in.
So you could do it in two steps:

template <- c(as.list(rep("", 66)), as.list(rep(0, 33)))
names(template) <- names

but that looks even more obscure because you have chosen to call your
vector of names, naturally enough "names".  (It's a good idea to avoid
these obvious sorts of, uh, names for things...)

>
>clus.df <- data.frame(scan("clus.dat", what = template))
>
>(A second bracket seems to be missing after names =names). 

(It was to go before the comma before the names = names, actually.)

>
>If so, this code certainly loads successfully, and is *much* faster than
>mine, but gives rather weird results. clus.df doesn't return the table in
>the form you would expect. For example, I get dim(clus.df) [1] 1031 198
>(!) I don't understand the structure function, so can't fix it.

The code above is still untested, but if I have got my brackets right this
time I suspect it will work and as fast as the incorrect version.


>
>Looks like I am stuck with my method for the time being. Does the method I
>am using (the loop) look OK, though?

Yes it did.  If I were only doing it once I can't see that it matters all
that much if it goes a bit slow.  You want to speed things up that you are
going to be doing all the time.  I think the value of this example is that
it alerts people to the older function, scan(), which offers some greater
flexibilities than read.table() since it works at a lower level.

>I am planning to buy the V&R third edition, possibly both volumes, the
>data analysis one and the programming one, though they are rather

Let me repeat, they are (at Springer's fairly insistent request) two books,
not two volumes of a single work.  There are links of course, but
essentially each stands alone and the focus audience of each is rather
different.  The larger, earlier book is about data analysis and using
S-PLUS (or R, with a few exceptions like Trellis) to do it efficiently and
well.  The second book is about programming and has next to no explicit
data analysis in it.  It is very much a handbook for people who need to use
an S language (and software systems based on it) for programming, (where
'S' is the generic term covering all three current dialects of the language). 

>expensive, because I am getting a little desperate. 

At the time the first edition of MASS came out we were complimented on how
we had "kept the price below US$40".  At the time I winced: we had nothing
to do with pricing, of course, but I wasn't about to turn down a compliment
and run the risk of seeming to be fishing for more...  Now Springer has had
the screws put on it and have had to jack their prices through the roof I
guess we have to wear the odium a little, but really it has nothing to do
with us, honestly.  In fact when I saw the prices in the catalogue I was
probably more annoyed and disappointed than you were.

>I have had serious
>problems finding sufficiently detailed documentation about Splus/R. The
>online help is often very cryptic, and much of the other available
>documentation is either severely incomplete or outdated. The only other
>option appears to be reading the source code, something which I don't feel
>quite up to, and which is, in any case, an option currently only available
>in R.

You have to realize that writing good documentation or technical material
of any kind is jolly hard work, very time-consuming and can take a terrible
toll on a person's friends, home life and personal well being.  (Believe
me, but but by all means check it out if you are not convinced...)
Compared to writing good documentation, programming is an absolute cinch.
It is not surprising at all to me that in a volunteer project like R the
programming gets done first as the easier bit (though by no means easy!)
and the documentation is at a much less well-developed stage.  

Personally I find reading code pretty tedious too, but ultimately it is the
only really safe way of finding things out (and contrary to what you say,
much of the critical code is available in S-PLUS, too).  I rather take the
help information as a first cut and then use the code to fill in the bits
that I still cannot sort out.  Of course I have been in the game for quite
some time so I do sympathize with someone just coming in for the first
time, but we all had to start sometime...

>
>Thank you for your response.
>                                   Sincerely, Faheem Mitha.
>

I bet you didn't notice that you had a cc to R-help in your headers!  Oh
well, it's probably a good idea to get the issue out in the open: we do
need more volunteers to help with the R project and writing *good*
documentation is an urgent need, but it is much harder than writing code
and for some reason nowhere near as glamorous.

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 28 08:18:58 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 28 Apr 2000 08:18:58 +0200
Subject: [R] quit(save=default??)
References: <3908A10A.8B92E95@honlab.nmfs.hawaii.edu>
Message-ID: <39092D52.28A18D96@statistik.uni-dortmund.de>

>    Somehow I've inadvertently configured the default behavior on quit()
> to be save="no" whether I'm in batch or interactive (No... I'm not
> setting the --no-save option).  I am running R version 1.0.0.  I've
> searched for info on how to reset things to behave as advertised, but no
> luck.  Anybody have a clue?

Maybe you defined a .Last(.) function?
Have a look into your .Rprofile .

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Apr 28 09:21:14 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 28 Apr 2000 09:21:14 +0200 (CEST)
Subject: [R] A data.frame is also a list [was "... reading in columns ..."]
In-Reply-To: <Pine.LNX.4.21.0004271938540.438-100000@Chrestomanci.home.earth>
References: <Pine.LNX.4.21.0004271857160.438-100000@Chrestomanci.home.earth>
	<Pine.LNX.4.21.0004271938540.438-100000@Chrestomanci.home.earth>
Message-ID: <14601.15338.206279.76083@lynne.ethz.ch>

>>>>> "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:


    Faheem> Just to make sure I understand this. lapply acts on lists.  In
    Faheem> the line below, are we regarding mydat[ ,1:66] as a list with
    Faheem> 66 components?  How is lapply happy to regard this as a list?
    Faheem> I have only the dimmest understanding of how classes are
    Faheem> inherited by subsets of objects, but class(mydat[ ,1:66]) gives
    Faheem> data.frame, and is a data frame also a list?

exactly.

?data.frame contains
>> Description:
>> 
>>      These functions create or manipulate data frames, tightly coupled
>>      collections of variables which share many 
>>      of the properties of matrices and of lists, .....
	                     ^^^^^^^^ ---    ^^^^^

Maybe the following is revealing 
[unclass() just strips the "class" attribute]:

  > str(unclass(data.frame(x=1:2,y=c("a","b"))))
  List of 2
   $ x: int [1:2] 1 2
   $ y: Factor w/ 2 levels "a","b": 1 2
   - attr(*, "row.names")= chr [1:2] "1" "2"

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolters at ikp.uni-bonn.de  Fri Apr 28 12:23:12 2000
From: wolters at ikp.uni-bonn.de (Maria Wolters)
Date: Fri, 28 Apr 2000 12:23:12 +0200
Subject: [R] converting numerical parts of factors into numeric vectors
Message-ID: <39096690.9E92BF8B@ikp.uni-bonn.de>

Dear list,

Problem:
Given a factor that contains both numerical values and category codes, 
how can I extract the numerical values and store them in a numeric 
vector while preserving the exact values? as.numeric() replaces the 
numerical values by their factor levels. But since the values represent
an interval-scaled distance measure, this is not exactly what is called
for. 

Current workaround: replace category codes by arbitrary numbers to be filtered
out later. In this case, negative numbers.

More elegant solution: ?

I checked CRAN, V&R, and the online help, but to no avail.

Thanks in advance for your help. (The problem is not urgent,
see "Current Workaround" ;)

Maria Wolters
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 28 12:33:50 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 28 Apr 2000 11:33:50 +0100 (BST)
Subject: [R] L(x,y,t)?
Message-ID: <Pine.LNX.4.10.10004281114120.4476-100000@localhost.localdomain>

I have been using the following method to create L(x,t)

x<-seq(1,66)
time<-seq(1,19)
v0<-.01
f0<-function(x,time) .45*cos(2*pi*3*x/66+v0*time)
L0<-outer(x,time,f0)

If I do image(L0) I get an  x,t plot of a drifting cosine wave grating.
The grating is actually a pattern of fuzzy bars; I have been ignoring the
y dimension (because the grating is vertical: y has no effect on the
luminance). However now I want to use it, and get L0(x,y,t).

I don't really understand outer, and my experiments with it have not
worked.  The basic idea is that I want a 19 frame movie and each frame
is a 66 x 31 image of a cosine grating. How to do it?

Thanks very much for any help!

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Fri Apr 28 14:45:43 2000
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Fri, 28 Apr 2000 13:45:43 +0100
Subject: [R] converting numerical parts of factors into numeric vectors
Message-ID: <C12568CF.00409D48.00@osla28smtp.hda.hydro.com>



Try:

as.numeric(levels(x)[x])

However, this gives you a warning if you have any non-numerical levels as
mentioned in the help file for 'as.numeric'.

Jan


-------------------------
Jan Schelling
Norsk Hydro
Research Centre
N - 3907 Porsgrunn
NORWAY





From: wolters at ikp.uni-bonn.de on 2000-04-28 10:23 GMT



To:   r-help at stat.math.ethz.ch
cc:    (bcc: Jan Schelling/HRE/Hydro)

Subject:  [R] converting numerical parts of factors into numeric vectors



Dear list,

Problem:
Given a factor that contains both numerical values and category codes,
how can I extract the numerical values and store them in a numeric
vector while preserving the exact values? as.numeric() replaces the
numerical values by their factor levels. But since the values represent
an interval-scaled distance measure, this is not exactly what is called
for.

Current workaround: replace category codes by arbitrary numbers to be filtered
out later. In this case, negative numbers.

More elegant solution: ?

I checked CRAN, V&R, and the online help, but to no avail.

Thanks in advance for your help. (The problem is not urgent,
see "Current Workaround" ;)

Maria Wolters
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 28 14:32:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Apr 2000 13:32:49 +0100 (BST)
Subject: [R] converting numerical parts of factors into numeric vectors
Message-ID: <200004281232.NAA00506@toucan.stats.ox.ac.uk>

> From: Jan.Schelling at hydro.com
> Date: Fri, 28 Apr 2000 13:45:43 +0100
> 
> Try:
> 
> as.numeric(levels(x)[x])
> 
> However, this gives you a warning if you have any non-numerical levels as
> mentioned in the help file for 'as.numeric'.


This is frequently mentioned here.  The simplest idea is

as.numeric(as.character(x))

but more efficient might be

as.numeric(levels(x))[x]

since that converts each string once only.  You would have to try hard
to find a noticeable difference, though.

> x <- factor(rep(123, 10000))
> system.time(zz <- as.numeric(as.character(x)))
[1] 0.08 0.01 0.09 0.00 0.00
> system.time(zz <- as.numeric(levels(x))[x])   
[1] 0.02 0.00 0.02 0.00 0.00
> system.time(zz <- as.numeric(levels(x)[x]))
[1] 0.08 0.01 0.09 0.00 0.00


BTW, all methods are likely to give warnings, but you can turn warnings
off if you want

> x <- factor(c(1:3, "four"))
> as.numeric(as.character(x))
[1]  1  2  3 NA
Warning message: 
NAs introduced by coercion 
> options(warn=-1)
> as.numeric(as.character(x))
[1]  1  2  3 NA


> From: wolters at ikp.uni-bonn.de on 2000-04-28 10:23 GMT
> I checked CRAN, V&R, and the online help, but to no avail.

I can't resist: p.15 of V&R's `S Programming' says

   One point to watch is that if it is necessary to convert a factor with
   numeric levels to a numeric vector, this must be done by
   
   as.numeric(as.character(x))
   
   which will convert any non-numeric values to NAs ...


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Apr 28 14:53:04 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 28 Apr 2000 22:53:04 +1000
Subject: [R] converting numerical parts of factors into numeric vector
Message-ID: <390989B0.F03650F5@ozemail.com.au>

This is a bit of a roughie, but it might do what you want.

test<-as.factor(c(1,2,3,4,5,"YES","NO","MAYBE",9,10))
fact2num<-function(f) {
 if(!missing(f)){
  if(is.factor(f)) {
   fnew<-vector("numeric",length(f))
   for(i in 1:length(f)) fnew[i]<-as.numeric(as.character(f[i]))
   return(fnew)
  }
 }
 cat("Usage: fact2num(f)\n\twhere f is a factor vector\n")
}
fact2num(test)

Please loftily ignore the error messages.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Fri Apr 28 15:21:25 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Fri, 28 Apr 2000 15:21:25 +0200
Subject: [R] Dumping functions to RCS
Message-ID: <200004281321.PAA01254@agesi.bs.ehu.es>

To keep track of an ongoing  programming project, I would like to dump
all my  functions to individual  ASCII files named xxx.R,  yyy.R, etc.
Presently I do  so manually in order to use RCS  (on a Linux machine),
so I can keep track of all versions, differences, snapshots, etc.

Is  there any  easy way  to  dump all  functions in  the workspace  to
individually named files? Thank you very much for any ideas.


ft. 

-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 28 15:30:43 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 28 Apr 2000 14:30:43 +0100 (BST)
Subject: [R] 3D array was L(x,y,t)?
In-Reply-To: <Pine.LNX.4.10.10004281114120.4476-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10004281424290.4670-100000@localhost.localdomain>

In case I wasn't clear, I am trying to create a 3D array set up like this:

111000111000            t=1
111000111000
111000111000
111000111000
111000111000


011100011100            t=2
011100011100
011100011100
011100011100
011100011100


001110001110            t=3
001110001110
001110001110
001110001110
001110001110

How to do it? With C one would do

v0=.01;
for(t=1;t<=19;t++)
	for(x=1;x<=66;x++)
		for(y=1;y<=31;y++)
			L0[x][y][t] = .45*cos(2*pi*3*x/66+v0*time);
Thanks very much for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Apr 28 16:08:36 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Apr 2000 09:08:36 -0500
Subject: [R] Dumping functions to RCS
In-Reply-To: "F.Tusell"'s message of "Fri, 28 Apr 2000 15:21:25 +0200"
References: <200004281321.PAA01254@agesi.bs.ehu.es>
Message-ID: <6rhfcm2u8r.fsf@franz.stat.wisc.edu>

"F.Tusell" <etptupaf at bs.ehu.es> writes:

> To keep track of an ongoing  programming project, I would like to dump
> all my  functions to individual  ASCII files named xxx.R,  yyy.R, etc.
> Presently I do  so manually in order to use RCS  (on a Linux machine),
> so I can keep track of all versions, differences, snapshots, etc.
> 
> Is  there any  easy way  to  dump all  functions in  the workspace  to
> individually named files? Thank you very much for any ideas.

You can use dump() in a loop over the result of objects().  I added
one enhancement below to select only the functions.

 > sqr <- function(X) X^2
 > cube <- function(X) X^3
 > x <- 1:3
 > for (obj in objects()) {   # produces files sqr.R and cube.R
 +     if (is.function(get(obj))) {
 +         dump(obj, fileout = paste(obj, ".R", sep = ''))
 +     }
 + }

I think the preferred solution is to create your own R package and to
use RCS (or CVS) to maintain the source directories for the package.

Creating packages for R is actually rather easy now that scripts like

 R CMD build <pkgname>

are available.  The process is described in the manual "Writing R
Extensions".

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Fri Apr 28 16:17:19 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Fri, 28 Apr 2000 16:17:19 +0200
Subject: [R] Dumping functions to RCS
In-Reply-To: <6rhfcm2u8r.fsf@franz.stat.wisc.edu> (bates@stat.wisc.edu)
References: <200004281321.PAA01254@agesi.bs.ehu.es> <6rhfcm2u8r.fsf@franz.stat.wisc.edu>
Message-ID: <200004281417.QAA01713@agesi.bs.ehu.es>


>  Sender: bates at franz.stat.wisc.edu
>  Cc: r-help at stat.math.ethz.ch
>  From: Douglas Bates <bates at stat.wisc.edu>
>  Date: 28 Apr 2000 09:08:36 -0500
>  
>  "F.Tusell" <etptupaf at bs.ehu.es> writes:
>  
>  > To keep track of an ongoing  programming project, I would like to dump
>  > all my  functions to individual  ASCII files named xxx.R,  yyy.R, etc.
>  > Presently I do  so manually in order to use RCS  (on a Linux machine),
>  > so I can keep track of all versions, differences, snapshots, etc.
>  > 
>  > Is  there any  easy way  to  dump all  functions in  the workspace  to
>  > individually named files? Thank you very much for any ideas.
>  
>  You can use dump() in a loop over the result of objects().  I added
>  one enhancement below to select only the functions.
>  
>   > sqr <- function(X) X^2
>   > cube <- function(X) X^3
>   > x <- 1:3
>   > for (obj in objects()) {   # produces files sqr.R and cube.R
>   +     if (is.function(get(obj))) {
>   +         dump(obj, fileout = paste(obj, ".R", sep = ''))
>   +     }
>   + }
>  
>  I think the preferred solution is to create your own R package and to
>  use RCS (or CVS) to maintain the source directories for the package.
>  
>  Creating packages for R is actually rather easy now that scripts like
>  
>   R CMD build <pkgname>
>  
>  are available.  The process is described in the manual "Writing R
>  Extensions".
>  
>  -- 
>  Douglas Bates                            bates at stat.wisc.edu
>  Statistics Department                    608/262-2598
>  University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
>  

Thank you very much. Thats exactly what I wanted. 
Yes, the creation of an R package seems the way to
go. I'll check "Writing R Extensions".  


ft.
-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 28 16:29:14 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 28 Apr 2000 16:29:14 +0200
Subject: [R] Dumping functions to RCS
References: <200004281321.PAA01254@agesi.bs.ehu.es>
Message-ID: <3909A03A.13A7E988@statistik.uni-dortmund.de>

"F.Tusell":
> 
> To keep track of an ongoing  programming project, I would like to dump
> all my  functions to individual  ASCII files named xxx.R,  yyy.R, etc.
> Presently I do  so manually in order to use RCS  (on a Linux machine),
> so I can keep track of all versions, differences, snapshots, etc.
> 
> Is  there any  easy way  to  dump all  functions in  the workspace  to
> individually named files? Thank you very much for any ideas.

This should work:

  my.funs <- names((x <- sapply(ls(),
function(y){is.function(get(y))}))[x==TRUE]) 
  for(i in 1:length(all.funs))
      dump(list=(temp <- my.funs[i]), fileout=paste(temp, ".R"))

(in .....fileout=paste(.)....) you could specify the path additionally)

Regards, 
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 28 16:32:42 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 28 Apr 2000 16:32:42 +0200
Subject: [R] Dumping functions to RCS
References: <200004281321.PAA01254@agesi.bs.ehu.es> <3909A03A.13A7E988@statistik.uni-dortmund.de>
Message-ID: <3909A10A.B6F41766@statistik.uni-dortmund.de>

> "F.Tusell":
> >
> > To keep track of an ongoing  programming project, I would like to dump
> > all my  functions to individual  ASCII files named xxx.R,  yyy.R, etc.
> > Presently I do  so manually in order to use RCS  (on a Linux machine),
> > so I can keep track of all versions, differences, snapshots, etc.
> >
> > Is  there any  easy way  to  dump all  functions in  the workspace  to
> > individually named files? Thank you very much for any ideas.
> 
> This should work:
> 
>   my.funs <- names((x <- sapply(ls(),
> function(y){is.function(get(y))}))[x==TRUE])
>   for(i in 1:length(all.funs))

Sorry, was too fast.  ^^^^^^^^^ must be: my.funs


>       dump(list=(temp <- my.funs[i]), fileout=paste(temp, ".R"))
> 
> (in .....fileout=paste(.)....) you could specify the path additionally)
> 
> Regards,
> Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcarel at netgenics.com  Fri Apr 28 16:48:26 2000
From: rcarel at netgenics.com (Carel, Roland)
Date: Fri, 28 Apr 2000 10:48:26 -0400
Subject: [R] dev2bitmap from a script invoked by another process
Message-ID: <DB52A7625347D211A1D70060B06AB1E201D601EF@exchgcle.dev.netgenics.com>

Issue:
I have a R script that is invoked periodically by another process. In the
script, a graphics is generated and I want to get a the image for the graph
as a jpeg.

Here is a prototypical version of the script (try.R):
plot(1)
dev2bitmap("try.jpg", type = "jpeg")

I am running R-1.0.0 on Solaris 7.

The script is invoked as: R --vanilla < try.R
A file named try.jpg is created but it contains a blank image, not the plot
created from the script.
Device inserted after plot(1) tells me that the current device is
postscript.
If I specify: postscript(file = "try.ps"), a file try.ps is created that
contains a postscript rendition of the plot. The try.jpg is also created but
is as previously described.
If I run the script in interactive mode, the file try.jpg is created and
contains the plot, as expected.

I know I can create the postscript file and then use ghostscript to convert
it but I was wondering if it is possible to create the jpeg directly from R.

Thanks for any help you might have.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 28 17:42:24 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2000 17:42:24 +0200
Subject: [R] dev2bitmap from a script invoked by another process
In-Reply-To: "Carel, Roland"'s message of "Fri, 28 Apr 2000 10:48:26 -0400"
References: <DB52A7625347D211A1D70060B06AB1E201D601EF@exchgcle.dev.netgenics.com>
Message-ID: <x2bt2uw7tr.fsf@blueberry.kubism.ku.dk>

"Carel, Roland" <rcarel at netgenics.com> writes:
> plot(1)
> dev2bitmap("try.jpg", type = "jpeg")
...
> The script is invoked as: R --vanilla < try.R
> A file named try.jpg is created but it contains a blank image, not the plot
> created from the script.
...
> I know I can create the postscript file and then use ghostscript to convert
> it but I was wondering if it is possible to create the jpeg directly from R.

Gah. This is silly. The problem is that dev2bitmap calls dev.print to
print the current device as postscript. When run noninteractively, the
current device *is* postscript, but that is not a replayable driver. A
quick solution is to explicitly start X11() at the start of your
script (which has a number of drawbacks, but might be good enough). A
better fix would be to doctor dev2bitmap by replacing

    dev.print(device=postscript, file=tmp, width=width, height=height,
              pointsize=pointsize, paper="special", horizontal=FALSE, ...)

with

   dev.off() #close (and flush!) PS device
   system(paste("mv Rplots.ps", tmp))

(Untested!)

Or something pretty similar.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Fri Apr 28 18:19:34 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Fri, 28 Apr 2000 18:19:34 +0200
Subject: [R] Matrix inverse
Message-ID: <001101bfb12d$8a896cd0$2795eb82@patrikwpc>

I haven't found a function that directly calculates the matrix inverse, does it exist? Otherwise what would be the fastest way to do it?

Patrik Waldmann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr 28 19:09:12 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 28 Apr 2000 10:09:12 -0700 (PDT)
Subject: [R] Matrix inverse
In-Reply-To: <001101bfb12d$8a896cd0$2795eb82@patrikwpc>
Message-ID: <Pine.GSO.4.21.0004281008130.22751-100000@mail.biostat.washington.edu>

On Fri, 28 Apr 2000, Patrik Waldmann wrote:

> I haven't found a function that directly calculates the matrix inverse, does it exist? Otherwise what would be the fastest way to do it?
> 

Ainv<-solve(A)

Note that if you want to solve Ax=b you can do solve(A,b), which should be
quicker than solve(A)%*%b

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Apr 28 19:06:42 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 28 Apr 2000 13:06:42 -0400
Subject: [R] Using 'by()' in a function
Message-ID: <852568CF.005DECF8.00@EPAHUB2.RTP.EPA.GOV>



I have a list of dataframes, and want to apply a function to subsets of the rows
of each dataframe.  It seemed natural to write a function that takes a dataframe
as an argument, and uses 'by() within it to apply the function to the dataframe
subsets.  However, I cannot get it to work.  The problem seems to be passing the
data argument of by() as a function argument.  Is this bug, or am I missing
something (or both)?

> ### Generate some test data
> Test <- vector("list",2)
> Test[[1]] <-
data.frame(Dose=rep(c(0,1),c(10,10)),Resp1=rnorm(20),Resp2=rnorm(20))
> ### The summary function
> sumfun <- function(z)
+ {
+   by(data=z,
+      INDICES=list(factor(z[,"Dose"])),
+      FUN=function(y)
+      {
+        apply(as.matrix(y[,c("Resp1","Resp2")]),2,
+              function(x)c(Mean=mean(x),SD=sqrt(var(x))))
+      }
+      )
+ }
> ### Using by works by itself
> by(data=Test[[1]],
+    INDICES=list(factor(Test[[1]][,"Dose"])),
+    FUN=function(y)
+    {
+      apply(as.matrix(y[,c("Resp1","Resp2")]),2,
+            function(x)c(Mean=mean(x),SD=sqrt(var(x))))
+    }
+    )
: 0
          Resp1      Resp2
Mean -0.2426571 -0.1024979
SD    0.9203455  0.9988352
------------------------------------------------------------
: 1
          Resp1     Resp2
Mean -0.1632326 0.1079938
SD    1.4124645 0.8793081
> ### But not in a function
> sumfun(Test[[1]])
[1] "data.frame"
Error in nrow(z) : Object "z" not found
>

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Apr 28 19:09:50 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 28 Apr 2000 13:09:50 -0400
Subject: [R] Re: Using 'by()' in a function
Message-ID: <852568CF.005E9E94.00@EPAHUB2.RTP.EPA.GOV>



Sorry, I should have said: I'm using R version 1.0.1 on Windows 98 (i.e.,
rw1001).

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+----------------------->
|        |          Woodrow      |
|        |          Setzer       |
|        |                       |
|        |          04/28/2000   |
|        |          01:06 PM     |
|        |                       |
|--------+----------------------->
  >----------------------------------------------------------|
  |                                                          |
  |       To:     r-help list                                |
  |       cc:                                                |
  |       Subject:     Using 'by()' in a function            |
  >----------------------------------------------------------|



I have a list of dataframes, and want to apply a function to subsets of the rows
of each dataframe.  It seemed natural to write a function that takes a dataframe
as an argument, and uses 'by() within it to apply the function to the dataframe
subsets.  However, I cannot get it to work.  The problem seems to be passing the
data argument of by() as a function argument.  Is this bug, or am I missing
something (or both)?

> ### Generate some test data
> Test <- vector("list",2)
> Test[[1]] <-
data.frame(Dose=rep(c(0,1),c(10,10)),Resp1=rnorm(20),Resp2=rnorm(20))
> ### The summary function
> sumfun <- function(z)
+ {
+   by(data=z,
+      INDICES=list(factor(z[,"Dose"])),
+      FUN=function(y)
+      {
+        apply(as.matrix(y[,c("Resp1","Resp2")]),2,
+              function(x)c(Mean=mean(x),SD=sqrt(var(x))))
+      }
+      )
+ }
> ### Using by works by itself
> by(data=Test[[1]],
+    INDICES=list(factor(Test[[1]][,"Dose"])),
+    FUN=function(y)
+    {
+      apply(as.matrix(y[,c("Resp1","Resp2")]),2,
+            function(x)c(Mean=mean(x),SD=sqrt(var(x))))
+    }
+    )
: 0
          Resp1      Resp2
Mean -0.2426571 -0.1024979
SD    0.9203455  0.9988352
------------------------------------------------------------
: 1
          Resp1     Resp2
Mean -0.1632326 0.1079938
SD    1.4124645 0.8793081
> ### But not in a function
> sumfun(Test[[1]])
[1] "data.frame"
Error in nrow(z) : Object "z" not found
>

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Apr 28 19:44:16 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 28 Apr 2000 13:44:16 -0400
Subject: [R] using by() in a function
Message-ID: <852568CF.00616BAD.00@EPAHUB2.RTP.EPA.GOV>



I have a fix to by.data.frame() that works for my example.  Can anyone see a
problem with this?

The old code has:

> get("by.data.frame",3)
function (data, INDICES, FUN, ...)
{
### code skipped to save space
   ans <- eval(substitute(tapply(1:nrow(data), IND, FUNx)),   ### The problem
seems to be here
        data)
    attr(ans, "call") <- match.call()
    class(ans) <- "by"
    ans
}
>

My change is:

    Nseq <- 1:nrow(data)
    ans <- eval(substitute(tapply(Nseq, IND, FUNx)),
        data)

I think what happens in the original is that 'data' gets replaced by 'z' (if
'by()' is called by function(z) by(data=z,...)) in the call to substitute.  When
by(data=z,IND,FUN) is called at the toplevel, 'z' is a real data frame, and the
call to eval() does the right thing.  If 'by(data=z,IND,FUN)' is called anywhere
else, 'z' will not be in 'sys.frame(sys.parent())', where eval is looking for
it, so 'z' remains unresolved.


R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Fri Apr 28 21:18:02 2000
From: amurta at ipimar.pt (Alberto Murta)
Date: Fri, 28 Apr 2000 19:18:02 +0000
Subject: [R] Matrix inverse
References: <001101bfb12d$8a896cd0$2795eb82@patrikwpc>
Message-ID: <3909E3EA.6581ADD1@ipimar.pt>

Patrik Waldmann wrote:
> 
> I haven't found a function that directly calculates the matrix inverse, does it exist? Otherwise what would be the fastest way to do it?
> 

You can use solve(), or if your matrix is not square, you can calculate
the generalised inverse using the singular value decomposition function
svd().
If you have a matrix X, svd(X) will return 1 vector d and 2 matrices u
and v.
The inverse of X is then the matrix calculated as v%*%diag(1/d)%*%t(u).
If any element of vector d is 0, then replace the corresponding element
in diag(1/d) by 0.


Alberto

 
__________________ Alberto G. Murta ______________________
     IPIMAR - Institute of Fisheries and Sea Research  
      Avenida de Brasilia; 1449-006 Lisboa; Portugal
Tel:351 213027062; Fax:351 213015948; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 28 19:59:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Apr 2000 18:59:28 +0100 (BST)
Subject: [R] Using 'by()' in a function
Message-ID: <200004281759.SAA01419@toucan.stats.ox.ac.uk>


> From: Setzer.Woodrow at epamail.epa.gov
> Date: Fri, 28 Apr 2000 13:06:42 -0400
> Subject: [R] Using 'by()' in a function
> To: r-help at hypatia.math.ethz.ch
> Content-disposition: inline
> X-Lotus-FromDomain: EPA
> 
> 
> 
> I have a list of dataframes, and want to apply a function to subsets of the 
rows
> of each dataframe.  It seemed natural to write a function that takes a 
dataframe
> as an argument, and uses 'by() within it to apply the function to the 
dataframe
> subsets.  However, I cannot get it to work.  The problem seems to be passing 
the
> data argument of by() as a function argument.  Is this bug, or am I missing
> something (or both)?
> 
> > ### Generate some test data
> > Test <- vector("list",2)
> > Test[[1]] <-
> data.frame(Dose=rep(c(0,1),c(10,10)),Resp1=rnorm(20),Resp2=rnorm(20))
> > ### The summary function
> > sumfun <- function(z)
> + {
> +   by(data=z,
> +      INDICES=list(factor(z[,"Dose"])),
> +      FUN=function(y)
> +      {
> +        apply(as.matrix(y[,c("Resp1","Resp2")]),2,
> +              function(x)c(Mean=mean(x),SD=sqrt(var(x))))
> +      }
> +      )
> + }
> > ### Using by works by itself
> > by(data=Test[[1]],
> +    INDICES=list(factor(Test[[1]][,"Dose"])),
> +    FUN=function(y)
> +    {
> +      apply(as.matrix(y[,c("Resp1","Resp2")]),2,
> +            function(x)c(Mean=mean(x),SD=sqrt(var(x))))
> +    }
> +    )
> : 0
>           Resp1      Resp2
> Mean -0.2426571 -0.1024979
> SD    0.9203455  0.9988352
> ------------------------------------------------------------
> : 1
>           Resp1     Resp2
> Mean -0.1632326 0.1079938
> SD    1.4124645 0.8793081
> > ### But not in a function
> > sumfun(Test[[1]])
> [1] "data.frame"
> Error in nrow(z) : Object "z" not found
> >

It's a scoping problem (and a bug). Alter by.data.frame to be

function (data, INDICES, FUN, ...) 
{
    if (!is.list(INDICES)) {
        IND <- vector("list", 1)
        IND[[1]] <- INDICES
        names(IND) <- deparse(substitute(INDICES))
    }
    else IND <- INDICES
    FUNx <- function(x) FUN(data[x, ], ...)
    nd <- nrow(data)
    ans <- eval(substitute(tapply(1:nd, IND, FUNx)), 
        data)
    attr(ans, "call") <- match.call()
    class(ans) <- "by"
    ans
}



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 28 20:08:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2000 20:08:58 +0200
Subject: [R] Using 'by()' in a function
In-Reply-To: Setzer.Woodrow@epamail.epa.gov's message of "Fri, 28 Apr 2000 13:06:42 -0400"
References: <852568CF.005DECF8.00@EPAHUB2.RTP.EPA.GOV>
Message-ID: <x2em7qkshx.fsf@blueberry.kubism.ku.dk>

Setzer.Woodrow at epamail.epa.gov writes:

> I have a list of dataframes, and want to apply a function to subsets of the rows
> of each dataframe.  It seemed natural to write a function that takes a dataframe
> as an argument, and uses 'by() within it to apply the function to the dataframe
> subsets.  However, I cannot get it to work.  The problem seems to be passing the
> data argument of by() as a function argument.  Is this bug, or am I missing
> something (or both)?

It's a bug: This looks like the culprit

    ans <- eval(substitute(tapply(1:nrow(data), IND, FUNx)), 
        data)

That will substitute the unevaluated data argument into the
"tapply(1:nrow(data),...)" where it will not make sense except at top
level. 

I think we want 

    NN<-seq(len=nrow(data))
    ans <- eval(substitute(tapply(NN, IND, FUNx)), data)

(but I didn't test that)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Apr 28 21:11:42 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 28 Apr 2000 15:11:42 -0400 (EDT)
Subject: [R] Matrix inverse
In-Reply-To: <001101bfb12d$8a896cd0$2795eb82@patrikwpc>
Message-ID: <Pine.LNX.4.21.0004281508590.445-100000@Chrestomanci.home.earth>

Finally, a question I can answer! solve(A) gives the inverse of A, I
believe. There is also the Moore-Penrose generalised inverse available as
ginv in the package MASS, but you probably don't need this. See pgs 55/56
of V&R 2nd edn. 3rd edn ?
                                    Faheem.

On Fri, 28 Apr 2000, Patrik Waldmann wrote:

> I haven't found a function that directly calculates the matrix inverse, does it exist? Otherwise what would be the fastest way to do it?
> 
> Patrik Waldmann
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Fri Apr 28 22:14:32 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Fri, 28 Apr 2000 16:14:32 -0400
Subject: [R] mvdnorm???
Message-ID: <796D5B7256C7D211A8D600A0C99D6A9A133A8A@mail.nsabp.pitt.edu>

Hello:

There is a function in the MASS library called mvrnorm(), and I wonder
whether R has a corresponding function mvdnorm?  I don't think it would be
that tough to write, but has anyone done it yet?  Thanks in advance.

						Tom Richards


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Apr 28 22:40:50 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 29 Apr 2000 08:40:50 +1200
Subject: [R] Print Page by Page
Message-ID: <3909F752.8CE5AECD@xtra.co.nz>

Hi there,

I'm using R1.0.1 Windows 98 version.

Sometimes, ok very often, we need to analyse data that will generate a
lot of outputs.  For example, the function "aov()" will print out lots
of outputs on screen.  I am just wondering, if it is possible to make
these outputs shown page by page instead of throwing everything on
screen and I have to scroll back up.  I know in UNIX this is simliar to
the command "more", can I do this in R?

Thanks.

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Fri Apr 28 22:15:50 2000
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Fri, 28 Apr 2000 13:15:50 -0700
Subject: [R] obtaining the discriminant line from lda
Message-ID: <20000428131550.I14347@brandybuck.ca.sandia.gov>

Dear R folks,

Thanks to all your help before I have loaded a 1-D toy data set into
R and did LDA on it. The toy data has Class=0 if value>0.

> XY <-- read.table ("test.xy",header=T )
> XY              
     X.Class       value
1          0  60.4897262
2          0  32.9554489
3         -1 -53.6459189
4          0  44.4450579
.
.
.
998       -1 -43.4183157
999        0   7.9865092
1000      -1  -8.2279180
> XY.lda <- lda(X.Class ~ value,XY)
> XY.lda
Call:
lda.formula(X.Class ~ value, data = XY)

Prior probabilities of groups:
   -1     0 
0.521 0.479 

Group means:
       value
-1 -48.66322
0   49.91819

Coefficients of linear discriminants:
            LD1
value 0.0357248
> XY.lda$svd
[1] 55.63543
> XY.lda$class
NULL
> XY.lda$posterior
NULL

Question #1: How do I obtain the line that lda thinks divides the
two groups?  (which here it is between 1 and 2.)

Next I load in a test set for prediction:

> Predict0
   value
1    -10
2     -9
3     -8
4     -7
5     -6
6     -5
7     -4
8     -3
9     -2
10    -1
11     0
12     1
13     2
14     3
15     4
16     5
17     6
18     7
19     8
20     9
21    10

> Predict0.lda <- predict(XY.lda,Predict0)
> Predict0.lda$class
 [1] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 0  0  0  0  0  0  0  0  0 

For those who don't want to count this shows that the dividing
line is somewhere between 1 & 2, even though my toy data set
can be perfectly divided at 0.  I had not expected (Fischer's) LDA
to behave this way.

Question #2:  Are there parameter adjustments and/or other LDA methods
where I can get the expected dividing surface at 0. (presumability
a classification tree would choose the line I desire, but I want
a lda method that does this.) 

If I am not being clear let me know, 

Thanks in advance,

Clayton
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 28 23:34:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Apr 2000 22:34:32 +0100 (BST)
Subject: [R] Print Page by Page
In-Reply-To: <3909F752.8CE5AECD@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10004282228001.6862-100000@auk.stats>

On Sat, 29 Apr 2000, Ko-Kang Wang wrote:

> Hi there,
> 
> I'm using R1.0.1 Windows 98 version.
> 
> Sometimes, ok very often, we need to analyse data that will generate a
> lot of outputs.  For example, the function "aov()" will print out lots
> of outputs on screen.  I am just wondering, if it is possible to make
> these outputs shown page by page instead of throwing everything on
> screen and I have to scroll back up.  I know in UNIX this is simliar to
> the command "more", can I do this in R?

First, this is not `printing': no printer is involved.  Second, aov()
prints/outputs nothing at all: that is done by print.aov. And as
example(aov) generates less than 100 lines, that is hardly `lots of
outputs', I believe.

There is no way to run a pager inside Rgui (if that is what you are using).
It _is_ possible to run output of Rterm through `less' or `more' on
Windows. However, you can always use sink to rediect output to a file, and
display that file in a pager (e.g. from the File menu in Rgui).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 28 23:44:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Apr 2000 22:44:01 +0100 (BST)
Subject: [R] obtaining the discriminant line from lda
In-Reply-To: <20000428131550.I14347@brandybuck.ca.sandia.gov>
Message-ID: <Pine.GSO.4.05.10004282236130.6862-100000@auk.stats>

On Fri, 28 Apr 2000, Clayton Springer wrote:

> Dear R folks,
> 
> Thanks to all your help before I have loaded a 1-D toy data set into
> R and did LDA on it. The toy data has Class=0 if value>0.
> 
> > XY <-- read.table ("test.xy",header=T )
> > XY              
>      X.Class       value
> 1          0  60.4897262
> 2          0  32.9554489
> 3         -1 -53.6459189
> 4          0  44.4450579
> .
> .
> .
> 998       -1 -43.4183157
> 999        0   7.9865092
> 1000      -1  -8.2279180
> > XY.lda <- lda(X.Class ~ value,XY)
> > XY.lda
> Call:
> lda.formula(X.Class ~ value, data = XY)
> 
> Prior probabilities of groups:
>    -1     0 
> 0.521 0.479 
> 
> Group means:
>        value
> -1 -48.66322
> 0   49.91819
> 
> Coefficients of linear discriminants:
>             LD1
> value 0.0357248
> > XY.lda$svd
> [1] 55.63543
> > XY.lda$class
> NULL
> > XY.lda$posterior
> NULL
> 
> Question #1: How do I obtain the line that lda thinks divides the
> two groups?  (which here it is between 1 and 2.)

Use the prediction equation, and solve for equal probabilities in the
groups.

> Next I load in a test set for prediction:
> 
> > Predict0
>    value
> 1    -10
> 2     -9
> 3     -8
> 4     -7
> 5     -6
> 6     -5
> 7     -4
> 8     -3
> 9     -2
> 10    -1
> 11     0
> 12     1
> 13     2
> 14     3
> 15     4
> 16     5
> 17     6
> 18     7
> 19     8
> 20     9
> 21    10
> 
> > Predict0.lda <- predict(XY.lda,Predict0)
> > Predict0.lda$class
>  [1] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 0  0  0  0  0  0  0  0  0 
> 
> For those who don't want to count this shows that the dividing
> line is somewhere between 1 & 2, even though my toy data set
> can be perfectly divided at 0.  I had not expected (Fischer's) LDA
> to behave this way.

lda is not Fisher's (no c) LDF, it is Rao's LDA. In particular, it takes
the class prevalences into account unless you set prior.  lda is not a
perceptron, nor logistic discrimination.

> Question #2:  Are there parameter adjustments and/or other LDA methods
> where I can get the expected dividing surface at 0. (presumability
> a classification tree would choose the line I desire, but I want
> a lda method that does this.) 

No, a tree will not (it will not use linear combinations).  Why do you
think the dividing surface should be at zero?  Your training set is
asymmetric.  I think you are looking for logistic discrimination not lda,
and are confusing performance on the training set with performance on
future examples: lda `knows' the populations are normally distributed.

I think you need to understand better the theory behing lda: see the book
for which it is supporting software.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ejczilli at umich.edu  Sat Apr 29 16:20:40 2000
From: ejczilli at umich.edu (Edward J. Czilli)
Date: Sat, 29 Apr 2000 10:20:40 -0400
Subject: [R] S-Plus 2000 <-> R 1.0.1
Message-ID: <390AB778.14987.3FA8C57@localhost>

Good day:

Let's say that I have a data frame in S-Plus 2000 (Win98 version). 

I want to use the same data frame with R on another computer.

Questions:

1) Can R read S-Plus data frames? Can S-Plus 2000 read R data 
frames?

2) How can i move the data frame between the two systems?  Do I 
need to use dump()?

Thank you.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 29 16:45:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 29 Apr 2000 15:45:32 +0100 (BST)
Subject: [R] S-Plus 2000 <-> R 1.0.1
In-Reply-To: <390AB778.14987.3FA8C57@localhost>
Message-ID: <Pine.GSO.4.05.10004291538180.23276-100000@auk.stats>

On Sat, 29 Apr 2000, Edward J. Czilli wrote:

> Good day:
> 
> Let's say that I have a data frame in S-Plus 2000 (Win98 version). 
> 
> I want to use the same data frame with R on another computer.
> 
> Questions:
> 
> 1) Can R read S-Plus data frames? Can S-Plus 2000 read R data 
> frames?

No, no.  The first is possible (S data frames are external objects,
even if under S-PLUS 2000 they often have mapped names), but R objects
only exist inside R workspaces.  [Yes, I know they can be save-d,
but they are saved as a workspace containing just one object.]

Ross has talked about adding the ability for R to read S objects, but this
would need to be done by someone who has seen the S specs and not the
S code (and I have seen the code but not the specs: I have no idea if
they are public knowledge).

> 2) How can i move the data frame between the two systems?  Do I 
> need to use dump()?

I would use write.table and read.table.  You could also use dump and
source, but the output is hardly human-readable for data frames.
I tend to kep all my datasets as text files anyway, so I can read them into
any version of R or S.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Sat Apr 29 17:22:14 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Sat, 29 Apr 2000 17:22:14 +0200
Subject: [R] S-Plus 2000 <-> R 1.0.1
References: <390AB778.14987.3FA8C57@localhost>
Message-ID: <390AFE26.3964DA0E@epfl.ch>

"Edward J. Czilli" wrote:
> 1) Can R read S-Plus data frames? Can S-Plus 2000 read R data
> frames?

Export from R/S+ the data frame into an external text file, and 
import it to S+/R... 

Needed functions for data frames: write.table() and read.table()

> 2) How can i move the data frame between the two systems?  Do I
> need to use dump()?

See 1)

Greets

  Diego Kuonen

-- 
Diego Kuonen                    http://statwww.epfl.ch/people/kuonen
WAP on http://WAP.lugo.ch                 SURF on http://www.LUGO.ch
http://www.Statoo.ch   Kya aap statooed hai?   http://www.Statoo.com     
http://www.LinuxPlanet.ch   Linux - The Ultimate Anti-Virus Software

Why use Windows, since there is a door?
(By fachat at galileo.rhein-neckar.de, Andre Fachat)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Apr 29 17:39:57 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 29 Apr 2000 10:39:57 -0500
Subject: [R] S-Plus 2000 <-> R 1.0.1
In-Reply-To: "Edward J. Czilli"'s message of "Sat, 29 Apr 2000 10:20:40 -0400"
References: <390AB778.14987.3FA8C57@localhost>
Message-ID: <6rd7n87w6q.fsf@franz.stat.wisc.edu>

"Edward J. Czilli" <ejczilli at umich.edu> writes:

> Let's say that I have a data frame in S-Plus 2000 (Win98 version). 
> 
> I want to use the same data frame with R on another computer.
> 
> Questions:
> 
> 1) Can R read S-Plus data frames? 

No, not directly.  The simplest thing to do is to dump the data frame
from S-PLUS to an ASCII file and try to read that into R.  Sometimes
that will work.  Sometimes there are complications with the way
S-PLUS stores factors.

> Can S-Plus 2000 read R data frames?

The reverse route tends to work better.  A file created by dump in R
tends to be easier to read into S-PLUS.

> 2) How can i move the data frame between the two systems?  Do I 
> need to use dump()?

That is probably the most effective way.

For example, in R use

 > data(InsectSprays)
 > str(InsectSprays)
 `data.frame':	72 obs. of  2 variables:
  $ count: num  10 7 20 14 14 12 10 23 17 20 ...
  $ spray: Factor w/ 6 levels "A","B","C","D",..: 1 1 1 1 1 1 1 1 1 1 ...
 > dump("InsectSprays", file = "InsectSprays.q")

If you start S-PLUS you should be able to use
 > source("InsectSprays.q")
to retrieve a copy of the frame.

For the list: When moving objects between computers in R one can use
the R save format (.rda files) because they use a machine-independent
representation.  I believe the preferred way of doing this in S-PLUS
is still to use the S-PLUS data.dump format.

A good project for someone wanting to learn the internals of R would
be to create an R function that reads the S-PLUS data.dump format.  It
would be a great advantage to use C code to read the file and create
the R structures.  Read the manual "Writing R Extensions" before
trying to do this.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Sat Apr 29 19:03:31 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Sat, 29 Apr 2000 19:03:31 +0200 (CEST)
Subject: [R] S-Plus 2000 <-> R 1.0.1
In-Reply-To: <390AB778.14987.3FA8C57@localhost>
Message-ID: <Pine.LNX.4.21.0004291859150.23187-100000@boromir.ci.tuwien.ac.at>


> Good day:
> 
> Let's say that I have a data frame in S-Plus 2000 (Win98 version). 
> 
> I want to use the same data frame with R on another computer.
> 
> Questions:
> 
> 1) Can R read S-Plus data frames? Can S-Plus 2000 read R data 
> frames?
> 

All the previous answers will do, if you want something more 
sophisticated, try StatDataML. All the stuff you need is available at
omegahat.org, and ready to use for R. You'll need to adapt some things for
S (the StatDataML code should work), but you'll need to compile the XML
stuff.

> 2) How can i move the data frame between the two systems?  Do I 
> need to use dump()?

once you have StatDataML running on both systems, this is a piece of cake
:-)

Torsten

> 
> Thank you.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Apr 30 13:56:09 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sun, 30 Apr 2000 23:56:09 +1200
Subject: [R] Help Need with aov()
Message-ID: <390C1F59.F167B279@xtra.co.nz>

Hi there,

I'm using R1.0.1 Windows 98.

This file contains some inputs and an aov function code.  Can someone
check it for me?  Somehow I got completely different answer when typing
them in R and in Splus.

Splus gives me this:
> summary( Turnip.aov )
Error: Blocks
          Df Sum of Sq  Mean Sq F Value Pr(F)
Residuals  3  163.7367 54.57891

Error: Plots %in% Blocks
                                                       Df   Sum of Sq
Mean Sq    F Value       Pr(F)
Variety                                              1     83.9514
83.9514     8.75282    0.0049136
Sowing.Date                                      1    233.7077
233.7077   24.36650    0.0000114
Sowing.density                                   3    470.3780
156.7927   16.34730    0.0000003
Variety:Sowing.Date                          1     36.4514
36.4514     3.80045    0.0574875
Variety:Sowing.density                       3      8.6467
2.8822      0.30050    0.8248459
Sowing.Date:Sowing.density               3    154.7930     51.5977
5.37960    0.0029884
Variety:Sowing.Date:Sowing.density   3      17.9992     5.9997
0.62554    0.6022439
Residuals                                          45   431.6108
9.5914


and R gives:
Error: Blocks
          Df Sum Sq Mean Sq F value Pr(>F)
Residuals  1 107.76  107.76

Error: Blocks:Plots
        Df Sum Sq Mean Sq
Variety  1  31.02   31.02

Error: Within
                                                       Df    Sum Sq
Mean Sq    F value    Pr(>F)
Variety                                             1       72.34
72.34        6.3775   0.014525 *
Sowing.Date                                     1      255.84
255.84      22.5546  1.547e-05 ***
Sowing.density                                  1      377.13
377.13      33.2480  4.033e-07 ***
Variety:Sowing.Date                         1       31.04
31.04       2.7366   0.103872
Variety:Sowing.density                      1        0.20
0.20         0.0173   0.895712
Sowing.Date:Sowing.density              1      108.01    108.01
9.5225   0.003199 **
Variety:Sowing.Date:Sowing.density  1        5.40        5.40
0.4763   0.493046
Residuals                                         54 612.52   11.34
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1



Can anyone tell me why this is happening?  Much appreciated...

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Turnip.R
Type: application/x-unknown-content-type-r_auto_file
Size: 1349 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000430/763c5770/Turnip.bin

From Bill.Venables at cmis.csiro.au  Sun Apr 30 15:08:29 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 30 Apr 2000 23:08:29 +1000
Subject: [R] Help Need with aov()
Message-ID: <3.0.32.20000430230827.01262830@pophost.nsw.cmis.csiro.au>

You don't give us much to go on!

At 11:56 PM 4/30/00 +1200, Ko-Kang Wang wrote:
>Hi there,
>
>I'm using R1.0.1 Windows 98.
>
>This file contains some inputs and an aov function code.  Can someone
>check it for me?  Somehow I got completely different answer when typing
>them in R and in Splus.
>
>Splus gives me this:
>> summary( Turnip.aov )
>Error: Blocks
>          Df Sum of Sq  Mean Sq F Value Pr(F)
>Residuals  3  163.7367 54.57891
>
>Error: Plots %in% Blocks
>                                                       Df   Sum of Sq
>Mean Sq    F Value       Pr(F)
>Variety                                              1     83.9514
>83.9514     8.75282    0.0049136
>Sowing.Date                                      1    233.7077
>233.7077   24.36650    0.0000114
>Sowing.density                                   3    470.3780
>156.7927   16.34730    0.0000003
>Variety:Sowing.Date                          1     36.4514
>36.4514     3.80045    0.0574875
>Variety:Sowing.density                       3      8.6467
>2.8822      0.30050    0.8248459
>Sowing.Date:Sowing.density               3    154.7930     51.5977
>5.37960    0.0029884
>Variety:Sowing.Date:Sowing.density   3      17.9992     5.9997
>0.62554    0.6022439
>Residuals                                          45   431.6108
>9.5914
>
>
>and R gives:
>Error: Blocks
>          Df Sum Sq Mean Sq F value Pr(>F)
>Residuals  1 107.76  107.76
>
>Error: Blocks:Plots
>        Df Sum Sq Mean Sq
>Variety  1  31.02   31.02
>
>Error: Within
>                                                       Df    Sum Sq
>Mean Sq    F value    Pr(>F)
>Variety                                             1       72.34
>72.34        6.3775   0.014525 *
>Sowing.Date                                     1      255.84
>255.84      22.5546  1.547e-05 ***
>Sowing.density                                  1      377.13
>377.13      33.2480  4.033e-07 ***
>Variety:Sowing.Date                         1       31.04
>31.04       2.7366   0.103872
>Variety:Sowing.density                      1        0.20
>0.20         0.0173   0.895712
>Sowing.Date:Sowing.density              1      108.01    108.01
>9.5225   0.003199 **
>Variety:Sowing.Date:Sowing.density  1        5.40        5.40
>0.4763   0.493046
>Residuals                                         54 612.52   11.34
>---
>Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1
>
>
>
>Can anyone tell me why this is happening?  Much appreciated...

But there is a pretty large clue in the degrees of freedom column.  It
looks very much as if in R you have not set up Sowing.density as a factor
(with 4 levels) but left it as a quantitative variable.  If that's not the
problem there's not much more I can say from the information you give -
(other than it is most likely your mistake and not that of the software...).

>
>--
>---------------------------------------------------------------------------
--------
>
> Ko-Kang Wang
> Undergraduate Student
> Computer Science/Statistics Double Major
> University of Auckland
> Auckland 1005
> New Zealand
>---------------------------------------------------------------------------
--------
>
>
>
>Attachment Converted: "D:\data\tad\Eudora\attach\Turnip.R"
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun Apr 30 15:16:20 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 30 Apr 2000 23:16:20 +1000
Subject: [R] Help Need with aov()
Message-ID: <3.0.32.20000430231618.0126c8f0@pophost.nsw.cmis.csiro.au>

Oops!  Now that I have persuaded to coax my hideous MicroSoft mailer to
reveal Ko-Kang's  included file I see that he (or she) has provided quite
comprehensive information and my tetchiness was somewhat rash.  Sorry.

In fact, though, it looks as if my suspicion was correct: Sowing.density
did enter the analysis as a quantitave covariate rather than as a factor.
Fixing this will certainly change things markedly.

Bill Venables.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eduardocarrillo at teleline.es  Sat Apr 29 13:45:24 2000
From: eduardocarrillo at teleline.es (EDUARDOCC)
Date: Sat, 29 Apr 2000 13:45:24 +0200
Subject: [R] sm package
Message-ID: <000401bfb610$c0890380$994799c1@default>

I can not use the help page for R and I need to know how I can install the sm package.
Thank you very much.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000429/9b3e526c/attachment.html

