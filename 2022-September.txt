From j@b@y@t194 @end|ng |rom gm@||@com  Thu Sep  1 07:23:57 2022
From: j@b@y@t194 @end|ng |rom gm@||@com (javad bayat)
Date: Thu, 1 Sep 2022 09:53:57 +0430
Subject: [R] Combine two dataframe with different row number and
 interpolation between values
In-Reply-To: <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <CANTxAm+qPT_39eEuZT20LtBJ2hOaDCstrFMi-e-WiCJZc4fXfQ@mail.gmail.com>
 <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>

 Dear Tim;
The dplyr did not work for me. My data frames have exactly similar columns
but different row numbers.
Mr Petr sent this code and the code worked but it copied the second
dataframe into the first one and did not replace the corresponding row.
> df3 = merge(df1, df2, all = TRUE)
Regarding filling the "NA" data, it does not matter for me to interpolate
between numbers or put the mean of numbers.
Sincerely






On Wed, Aug 31, 2022 at 5:17 PM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

> Can I interest you in the join functions in dplyr?
> https://www.datasciencemadesimple.com/join-in-r-merge-in-r/
>
> Filling in missing data is a useful practice when the fake (simulated)
> data is a small proportion of all data. When 2/3 of the data is fake one
> must wonder if anything based on those numbers is real or an artifact of
> assumptions made to generate the numbers.
>
> I deal with weather data and some weather stations are set up to average
> measurements between recorded values and others take a single reading at
> regular intervals. How you interpolate might depend on which option
> describes your data. The alternative is to use the method for recording ws
> and apply it to the other data that will be merged with these data. I
> assume there is more data, otherwise I see little point in expanding these
> values out.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of javad bayat
> Sent: Wednesday, August 31, 2022 2:09 AM
> To: r-help at r-project.org
> Subject: [R] Combine two dataframe with different row number and
> interpolation between values
>
> [External Email]
>
>  Dear all,
> I am trying to combine two large dataframe in order to make a dataframe
> with exactly the dimension of the second dataframe.
> The first df is as follows:
>
> df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 2920), d =
> rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
>       h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
>       ws = rnorm(1:14600, mean=20))
> > head(df1)
>      y       d   h        ws
> 1  2010  1  3     20.71488
> 2  2010  1  6     19.70125
> 3  2010  1  9     21.00180
> 4  2010  1 12     20.29236
> 5  2010  1 15     20.12317
> 6  2010  1 18     19.47782
>
> The data in the "ws" column were measured with 3 hours frequency and I
> need data with one hour frequency. I have made a second df as follows with
> one hour frequency for the "ws" column.
>
> df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 8760), d =
> rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
>       h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
> > head(df2)
>       y      d    h   ws
> 1  2010  1    1   NA
> 2  2010  1    2   NA
> 3  2010  1    3   NA
> 4  2010  1    4   NA
> 5  2010  1    5   NA
> 6  2010  1    6   NA
>
> What I am trying to do is combine these two dataframes so as to the rows in
> df1 (based on the values of "y", "d", "h" columns) that have values
> exactly similar to df2's rows copied in its place in the new df (df3).
> For example, in the first dataframe the first row was measured at 3
> o'clock on the first day of 2010 and this row must be placed on the third
> row of the second dataframe which has a similar value (2010, 1, 3). Like
> the below
> table:
>       y      d    h   ws
> 1  2010  1    1   NA
> 2  2010  1    2   NA
> 3  2010  1    3   20.71488
> 4  2010  1    4   NA
> 5  2010  1    5   NA
> 6  2010  1    6   19.70125
>
> But regarding the values of the "ws" column for df2 that do not have value
> (at 4 and 5 o'clock), I need to interpolate between the before and after
> values to fill in the missing data of the "ws".
> I have tried the following codes but they did not work correctly.
>
> > df3 = merge(df1, df2, by = "y")
> Error: cannot allocate vector of size 487.9 Mb or
> > library(dplyr)
> > df3<- df1%>% full_join(df2)
>
>
> Is there any way to do this?
> Sincerely
>
>
>
>
>
> --
> Best Regards
> Javad Bayat
> M.Sc. Environment Engineering
> Alternative Mail: bayat194 at yahoo.com
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=WigJVAmdLn%2FK7ZtJq28%2Buv4aDmUjNXu6QPabdt5h2iQ%3D&amp;reserved=0
> PLEASE do read the posting guide
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=m1VCPBpnYy%2FwqlOuf5froUVEMBDJKwDuAWS4cFNx1wI%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
Best Regards
Javad Bayat
M.Sc. Environment Engineering
Alternative Mail: bayat194 at yahoo.com

	[[alternative HTML version deleted]]


From @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my  Thu Sep  1 05:21:39 2022
From: @|@y@hz@k@r|@ @end|ng |rom un|m@p@edu@my (SITI AISYAH ZAKARIA)
Date: Thu, 1 Sep 2022 11:21:39 +0800
Subject: [R] How to solve this?
Message-ID: <CALcx2Bk7UhcvQhZsJTockB-ERtVS2NsEPwcCTSfDOMZvRjwU8A@mail.gmail.com>

Hi everyone,

Can some one help me?

If my coding come out the error like this "Error in optim(start, nhl, ...,
method = method) : non-finite value supplied by optim". What it means?
How can I solve this?

Thank you.

-- 





"..Millions of trees are used to make papers, only to be thrown away 
after a couple of minutes reading from them. Our planet is at stake. Please 
be considerate. THINK TWICE BEFORE PRINTING THIS.."

DISCLAIMER:?This email \ and any files transmitte...{{dropped:24}}


From pik@pp@@devei m@iii@g oii gm@ii@com  Thu Sep  1 09:28:32 2022
From: pik@pp@@devei m@iii@g oii gm@ii@com (pik@pp@@devei m@iii@g oii gm@ii@com)
Date: Thu, 1 Sep 2022 09:28:32 +0200
Subject: [R] How to solve this?
In-Reply-To: <CALcx2Bk7UhcvQhZsJTockB-ERtVS2NsEPwcCTSfDOMZvRjwU8A@mail.gmail.com>
References: <CALcx2Bk7UhcvQhZsJTockB-ERtVS2NsEPwcCTSfDOMZvRjwU8A@mail.gmail.com>
Message-ID: <000801d8bdd4$7097e9b0$51c7bd10$@gmail.com>

Hi Zakaria,

I had such an issue before, and in my case, the problem was that the calculation of the objective for some values used by the optimizer gave back a non-finite result. In general, this might be because the objective function has poles, and the calculation returns inf. Alternatively, there might be a calculation error somewhere in the objective function's code resulting in a nan value. I think that first, you need to determine more precisely what the problem is in your case. You could try evaluating the objective at different points (for instance, your initialization values) to see how it behaves.

I hope this helps!
Pantelis

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of SITI AISYAH ZAKARIA
Sent: Thursday, September 1, 2022 5:22 AM
To: r-help mailing list <r-help at r-project.org>
Subject: [R] How to solve this?

Hi everyone,

Can some one help me?

If my coding come out the error like this "Error in optim(start, nhl, ..., method = method) : non-finite value supplied by optim". What it means?
How can I solve this?

Thank you.

-- 





"..Millions of trees are used to make papers, only to be thrown away after a couple of minutes reading from them. Our planet is at stake. Please be considerate. THINK TWICE BEFORE PRINTING THIS.."

DISCLAIMER: This email \ and any files transmitte...{{dr...{{dropped:9}}


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Sep  1 10:54:08 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Sep 2022 09:54:08 +0100
Subject: [R] How to solve this?
In-Reply-To: <000801d8bdd4$7097e9b0$51c7bd10$@gmail.com>
References: <CALcx2Bk7UhcvQhZsJTockB-ERtVS2NsEPwcCTSfDOMZvRjwU8A@mail.gmail.com>
 <000801d8bdd4$7097e9b0$51c7bd10$@gmail.com>
Message-ID: <ab5c1b84-5e10-dffc-ac59-bdfc7b665ef0@sapo.pt>

Hello,

Can you post the code you've tried and sample data? Please post the code 
you ran and the output of `dput(df)`. Or, if it is too big with the 
output of `dput(head(df, 20))`. (Note: `df` is a placeholder for the 
name of your data set.)

Hope this helps,

Rui Barradas


?s 08:28 de 01/09/2022, pikappa.devel at gmail.com escreveu:
> Hi Zakaria,
> 
> I had such an issue before, and in my case, the problem was that the calculation of the objective for some values used by the optimizer gave back a non-finite result. In general, this might be because the objective function has poles, and the calculation returns inf. Alternatively, there might be a calculation error somewhere in the objective function's code resulting in a nan value. I think that first, you need to determine more precisely what the problem is in your case. You could try evaluating the objective at different points (for instance, your initialization values) to see how it behaves.
> 
> I hope this helps!
> Pantelis
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of SITI AISYAH ZAKARIA
> Sent: Thursday, September 1, 2022 5:22 AM
> To: r-help mailing list <r-help at r-project.org>
> Subject: [R] How to solve this?
> 
> Hi everyone,
> 
> Can some one help me?
> 
> If my coding come out the error like this "Error in optim(start, nhl, ..., method = method) : non-finite value supplied by optim". What it means?
> How can I solve this?
> 
> Thank you.
>


From drj|m|emon @end|ng |rom gm@||@com  Thu Sep  1 11:31:15 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 1 Sep 2022 19:31:15 +1000
Subject: [R] Combine two dataframe with different row number and
 interpolation between values
In-Reply-To: <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
References: <CANTxAm+qPT_39eEuZT20LtBJ2hOaDCstrFMi-e-WiCJZc4fXfQ@mail.gmail.com>
 <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
Message-ID: <CA+8X3fUascDz4oRhxk4yYb5fhzhPhW_JGbePU1kiWU-NVHAKjw@mail.gmail.com>

Hi Javad,
You seem to have the data frame join worked out, so here is a function
to interpolate over sequences of NAs. I have found it quite useful.

# interpolate over sequences of NAs
# NA sequences at the beginning of a file are replaced with the first
nonNA value
# NA sequences at the end are filled with the last nonNA value
# sequences of all NAs are returned unaltered
interpNA<-function(x) {
 if(any(is.na(x))) {
  xrle<-rle(is.na(x))
  begin<-end<-1
  # if the sequence begins with NA
  # set the initial run of NAs to the 1st non-NA
  if(is.na(x[1])) x[1:xrle$lengths[1]]<-x[xrle$lengths[1]+1]
  for(i in 1:length(xrle$values)) {
   # if this is a run of NA, fill it
   if(xrle$values[i]) {
    end<-begin+xrle$lengths[i]+(i>1)
    if(is.na(x[end])) x[begin:(end-1)]<-x[begin]
    else x[begin:end]<-seq(x[begin],x[end],length.out=1+end-begin)
    begin<-end+xrle$lengths[i]-1
  }
   else {
    # set begin to the end of the non-NA values
    begin<-end+xrle$lengths[i]-1
   }
  }
 }
 return(x)
}

Jim

On Thu, Sep 1, 2022 at 3:29 PM javad bayat <j.bayat194 at gmail.com> wrote:
>
>  Dear Tim;
> The dplyr did not work for me. My data frames have exactly similar columns
> but different row numbers.
> Mr Petr sent this code and the code worked but it copied the second
> dataframe into the first one and did not replace the corresponding row.
> > df3 = merge(df1, df2, all = TRUE)
> Regarding filling the "NA" data, it does not matter for me to interpolate
> between numbers or put the mean of numbers.
> Sincerely
>
>
>
>
>
>
> On Wed, Aug 31, 2022 at 5:17 PM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:
>
> > Can I interest you in the join functions in dplyr?
> > https://www.datasciencemadesimple.com/join-in-r-merge-in-r/
> >
> > Filling in missing data is a useful practice when the fake (simulated)
> > data is a small proportion of all data. When 2/3 of the data is fake one
> > must wonder if anything based on those numbers is real or an artifact of
> > assumptions made to generate the numbers.
> >
> > I deal with weather data and some weather stations are set up to average
> > measurements between recorded values and others take a single reading at
> > regular intervals. How you interpolate might depend on which option
> > describes your data. The alternative is to use the method for recording ws
> > and apply it to the other data that will be merged with these data. I
> > assume there is more data, otherwise I see little point in expanding these
> > values out.
> >
> > Tim
> >
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of javad bayat
> > Sent: Wednesday, August 31, 2022 2:09 AM
> > To: r-help at r-project.org
> > Subject: [R] Combine two dataframe with different row number and
> > interpolation between values
> >
> > [External Email]
> >
> >  Dear all,
> > I am trying to combine two large dataframe in order to make a dataframe
> > with exactly the dimension of the second dataframe.
> > The first df is as follows:
> >
> > df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 2920), d =
> > rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
> >       h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> > 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
> >       ws = rnorm(1:14600, mean=20))
> > > head(df1)
> >      y       d   h        ws
> > 1  2010  1  3     20.71488
> > 2  2010  1  6     19.70125
> > 3  2010  1  9     21.00180
> > 4  2010  1 12     20.29236
> > 5  2010  1 15     20.12317
> > 6  2010  1 18     19.47782
> >
> > The data in the "ws" column were measured with 3 hours frequency and I
> > need data with one hour frequency. I have made a second df as follows with
> > one hour frequency for the "ws" column.
> >
> > df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 8760), d =
> > rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
> >       h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
> > > head(df2)
> >       y      d    h   ws
> > 1  2010  1    1   NA
> > 2  2010  1    2   NA
> > 3  2010  1    3   NA
> > 4  2010  1    4   NA
> > 5  2010  1    5   NA
> > 6  2010  1    6   NA
> >
> > What I am trying to do is combine these two dataframes so as to the rows in
> > df1 (based on the values of "y", "d", "h" columns) that have values
> > exactly similar to df2's rows copied in its place in the new df (df3).
> > For example, in the first dataframe the first row was measured at 3
> > o'clock on the first day of 2010 and this row must be placed on the third
> > row of the second dataframe which has a similar value (2010, 1, 3). Like
> > the below
> > table:
> >       y      d    h   ws
> > 1  2010  1    1   NA
> > 2  2010  1    2   NA
> > 3  2010  1    3   20.71488
> > 4  2010  1    4   NA
> > 5  2010  1    5   NA
> > 6  2010  1    6   19.70125
> >
> > But regarding the values of the "ws" column for df2 that do not have value
> > (at 4 and 5 o'clock), I need to interpolate between the before and after
> > values to fill in the missing data of the "ws".
> > I have tried the following codes but they did not work correctly.
> >
> > > df3 = merge(df1, df2, by = "y")
> > Error: cannot allocate vector of size 487.9 Mb or
> > > library(dplyr)
> > > df3<- df1%>% full_join(df2)
> >
> >
> > Is there any way to do this?
> > Sincerely
> >
> >
> >
> >
> >
> > --
> > Best Regards
> > Javad Bayat
> > M.Sc. Environment Engineering
> > Alternative Mail: bayat194 at yahoo.com
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >
> > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=WigJVAmdLn%2FK7ZtJq28%2Buv4aDmUjNXu6QPabdt5h2iQ%3D&amp;reserved=0
> > PLEASE do read the posting guide
> > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=m1VCPBpnYy%2FwqlOuf5froUVEMBDJKwDuAWS4cFNx1wI%3D&amp;reserved=0
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>
> --
> Best Regards
> Javad Bayat
> M.Sc. Environment Engineering
> Alternative Mail: bayat194 at yahoo.com
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Sep  1 11:33:42 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 1 Sep 2022 09:33:42 +0000
Subject: [R] Combine two dataframe with different row number and
 interpolation between values
In-Reply-To: <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
References: <CANTxAm+qPT_39eEuZT20LtBJ2hOaDCstrFMi-e-WiCJZc4fXfQ@mail.gmail.com>
 <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
Message-ID: <5c3a626c07d549599cb0341ae2f0b8ce@SRVEXCHCM1302.precheza.cz>

Hallo

This code do the merging without repeating the NA row.

df3 = merge(df1, df2, by=c("y", "d", "h"), all.y = TRUE)

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of javad bayat
> Sent: Thursday, September 1, 2022 7:24 AM
> To: Ebert,Timothy Aaron <tebert at ufl.edu>
> Cc: r-help at r-project.org
> Subject: Re: [R] Combine two dataframe with different row number and
> interpolation between values
> 
>  Dear Tim;
> The dplyr did not work for me. My data frames have exactly similar columns
but
> different row numbers.
> Mr Petr sent this code and the code worked but it copied the second
dataframe
> into the first one and did not replace the corresponding row.
> > df3 = merge(df1, df2, all = TRUE)
> Regarding filling the "NA" data, it does not matter for me to interpolate
between
> numbers or put the mean of numbers.
> Sincerely
> 
> 
> 
> 
> 
> 
> On Wed, Aug 31, 2022 at 5:17 PM Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> 
> > Can I interest you in the join functions in dplyr?
> > https://www.datasciencemadesimple.com/join-in-r-merge-in-r/
> >
> > Filling in missing data is a useful practice when the fake (simulated)
> > data is a small proportion of all data. When 2/3 of the data is fake
> > one must wonder if anything based on those numbers is real or an
> > artifact of assumptions made to generate the numbers.
> >
> > I deal with weather data and some weather stations are set up to
> > average measurements between recorded values and others take a single
> > reading at regular intervals. How you interpolate might depend on
> > which option describes your data. The alternative is to use the method
> > for recording ws and apply it to the other data that will be merged
> > with these data. I assume there is more data, otherwise I see little
> > point in expanding these values out.
> >
> > Tim
> >
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of javad bayat
> > Sent: Wednesday, August 31, 2022 2:09 AM
> > To: r-help at r-project.org
> > Subject: [R] Combine two dataframe with different row number and
> > interpolation between values
> >
> > [External Email]
> >
> >  Dear all,
> > I am trying to combine two large dataframe in order to make a
> > dataframe with exactly the dimension of the second dataframe.
> > The first df is as follows:
> >
> > df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 2920), d
> > = rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
> >       h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> > 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
> >       ws = rnorm(1:14600, mean=20))
> > > head(df1)
> >      y       d   h        ws
> > 1  2010  1  3     20.71488
> > 2  2010  1  6     19.70125
> > 3  2010  1  9     21.00180
> > 4  2010  1 12     20.29236
> > 5  2010  1 15     20.12317
> > 6  2010  1 18     19.47782
> >
> > The data in the "ws" column were measured with 3 hours frequency and I
> > need data with one hour frequency. I have made a second df as follows
> > with one hour frequency for the "ws" column.
> >
> > df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 8760), d
> > = rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
> >       h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
> > > head(df2)
> >       y      d    h   ws
> > 1  2010  1    1   NA
> > 2  2010  1    2   NA
> > 3  2010  1    3   NA
> > 4  2010  1    4   NA
> > 5  2010  1    5   NA
> > 6  2010  1    6   NA
> >
> > What I am trying to do is combine these two dataframes so as to the
> > rows in
> > df1 (based on the values of "y", "d", "h" columns) that have values
> > exactly similar to df2's rows copied in its place in the new df (df3).
> > For example, in the first dataframe the first row was measured at 3
> > o'clock on the first day of 2010 and this row must be placed on the
> > third row of the second dataframe which has a similar value (2010, 1,
> > 3). Like the below
> > table:
> >       y      d    h   ws
> > 1  2010  1    1   NA
> > 2  2010  1    2   NA
> > 3  2010  1    3   20.71488
> > 4  2010  1    4   NA
> > 5  2010  1    5   NA
> > 6  2010  1    6   19.70125
> >
> > But regarding the values of the "ws" column for df2 that do not have
> > value (at 4 and 5 o'clock), I need to interpolate between the before
> > and after values to fill in the missing data of the "ws".
> > I have tried the following codes but they did not work correctly.
> >
> > > df3 = merge(df1, df2, by = "y")
> > Error: cannot allocate vector of size 487.9 Mb or
> > > library(dplyr)
> > > df3<- df1%>% full_join(df2)
> >
> >
> > Is there any way to do this?
> > Sincerely
> >
> >
> >
> >
> >
> > --
> > Best Regards
> > Javad Bayat
> > M.Sc. Environment Engineering
> > Alternative Mail: bayat194 at yahoo.com
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >
> > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat
> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> help&amp;data=05%7C01%7Ctebert%40ufl
> >
> .edu%7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace6
> 0a62331e
> >
> 1b84%7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8
> eyJWIjoiMC4w
> >
> LjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
> %7C%7C
> >
> &amp;sdata=WigJVAmdLn%2FK7ZtJq28%2Buv4aDmUjNXu6QPabdt5h2iQ%3D
> &amp;rese
> > rved=0
> > PLEASE do read the posting guide
> >
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r
> > -project.org%2Fposting-
> guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%
> >
> 7C9e63e590cb834ddc23d908da8b1802e2%7C0d4da0f84a314d76ace60a623
> 31e1b84%
> >
> 7C0%7C0%7C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIj
> oiMC4wLjAwM
> >
> DAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> C&amp;
> >
> sdata=m1VCPBpnYy%2FwqlOuf5froUVEMBDJKwDuAWS4cFNx1wI%3D&amp;r
> eserved=0
> > and provide commented, minimal, self-contained, reproducible code.
> >
> 
> 
> --
> Best Regards
> Javad Bayat
> M.Sc. Environment Engineering
> Alternative Mail: bayat194 at yahoo.com
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From petr@p|k@| @end|ng |rom prechez@@cz  Thu Sep  1 12:29:09 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 1 Sep 2022 10:29:09 +0000
Subject: [R] Combine two dataframe with different row number and
 interpolation between values
In-Reply-To: <CA+8X3fUascDz4oRhxk4yYb5fhzhPhW_JGbePU1kiWU-NVHAKjw@mail.gmail.com>
References: <CANTxAm+qPT_39eEuZT20LtBJ2hOaDCstrFMi-e-WiCJZc4fXfQ@mail.gmail.com>
 <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
 <CA+8X3fUascDz4oRhxk4yYb5fhzhPhW_JGbePU1kiWU-NVHAKjw@mail.gmail.com>
Message-ID: <8f3eea42758741d79a02fcc3a397ccb1@SRVEXCHCM1302.precheza.cz>

Hi

You could also use approxfun to fill NA values

fff <- approxfun(1:dim(df3)[1], df3$ws.x)
df3$ws2 <- fff(1:dim(df3)[1])
head(df3)
     y d h     ws.x ws.y      ws2
1 2010 1 1       NA   NA       NA
2 2010 1 2       NA   NA       NA
3 2010 1 3 20.46314   NA 20.46314
4 2010 1 4       NA   NA 20.74001
5 2010 1 5       NA   NA 21.01689
6 2010 1 6 21.29376   NA 21.29376

And fill starting or trailing NA by na.locf function from zoo package or
change starting or trailing NA to some value before calling approxfun.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Jim Lemon
> Sent: Thursday, September 1, 2022 11:31 AM
> To: javad bayat <j.bayat194 at gmail.com>; r-help mailing list <r-help at r-
> project.org>
> Subject: Re: [R] Combine two dataframe with different row number and
> interpolation between values
> 
> Hi Javad,
> You seem to have the data frame join worked out, so here is a function
> to interpolate over sequences of NAs. I have found it quite useful.
> 
> # interpolate over sequences of NAs
> # NA sequences at the beginning of a file are replaced with the first
> nonNA value
> # NA sequences at the end are filled with the last nonNA value
> # sequences of all NAs are returned unaltered
> interpNA<-function(x) {
>  if(any(is.na(x))) {
>   xrle<-rle(is.na(x))
>   begin<-end<-1
>   # if the sequence begins with NA
>   # set the initial run of NAs to the 1st non-NA
>   if(is.na(x[1])) x[1:xrle$lengths[1]]<-x[xrle$lengths[1]+1]
>   for(i in 1:length(xrle$values)) {
>    # if this is a run of NA, fill it
>    if(xrle$values[i]) {
>     end<-begin+xrle$lengths[i]+(i>1)
>     if(is.na(x[end])) x[begin:(end-1)]<-x[begin]
>     else x[begin:end]<-seq(x[begin],x[end],length.out=1+end-begin)
>     begin<-end+xrle$lengths[i]-1
>   }
>    else {
>     # set begin to the end of the non-NA values
>     begin<-end+xrle$lengths[i]-1
>    }
>   }
>  }
>  return(x)
> }
> 
> Jim
> 
> On Thu, Sep 1, 2022 at 3:29 PM javad bayat <j.bayat194 at gmail.com> wrote:
> >
> >  Dear Tim;
> > The dplyr did not work for me. My data frames have exactly similar
columns
> > but different row numbers.
> > Mr Petr sent this code and the code worked but it copied the second
> > dataframe into the first one and did not replace the corresponding row.
> > > df3 = merge(df1, df2, all = TRUE)
> > Regarding filling the "NA" data, it does not matter for me to
interpolate
> > between numbers or put the mean of numbers.
> > Sincerely
> >
> >
> >
> >
> >
> >
> > On Wed, Aug 31, 2022 at 5:17 PM Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> >
> > > Can I interest you in the join functions in dplyr?
> > > https://www.datasciencemadesimple.com/join-in-r-merge-in-r/
> > >
> > > Filling in missing data is a useful practice when the fake (simulated)
> > > data is a small proportion of all data. When 2/3 of the data is fake
one
> > > must wonder if anything based on those numbers is real or an artifact
of
> > > assumptions made to generate the numbers.
> > >
> > > I deal with weather data and some weather stations are set up to
average
> > > measurements between recorded values and others take a single reading
at
> > > regular intervals. How you interpolate might depend on which option
> > > describes your data. The alternative is to use the method for
recording ws
> > > and apply it to the other data that will be merged with these data. I
> > > assume there is more data, otherwise I see little point in expanding
these
> > > values out.
> > >
> > > Tim
> > >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of javad bayat
> > > Sent: Wednesday, August 31, 2022 2:09 AM
> > > To: r-help at r-project.org
> > > Subject: [R] Combine two dataframe with different row number and
> > > interpolation between values
> > >
> > > [External Email]
> > >
> > >  Dear all,
> > > I am trying to combine two large dataframe in order to make a
dataframe
> > > with exactly the dimension of the second dataframe.
> > > The first df is as follows:
> > >
> > > df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 2920), d
=
> > > rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
> > >       h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> > > 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
> > >       ws = rnorm(1:14600, mean=20))
> > > > head(df1)
> > >      y       d   h        ws
> > > 1  2010  1  3     20.71488
> > > 2  2010  1  6     19.70125
> > > 3  2010  1  9     21.00180
> > > 4  2010  1 12     20.29236
> > > 5  2010  1 15     20.12317
> > > 6  2010  1 18     19.47782
> > >
> > > The data in the "ws" column were measured with 3 hours frequency and I
> > > need data with one hour frequency. I have made a second df as follows
with
> > > one hour frequency for the "ws" column.
> > >
> > > df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 8760), d
=
> > > rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
> > >       h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
> > > > head(df2)
> > >       y      d    h   ws
> > > 1  2010  1    1   NA
> > > 2  2010  1    2   NA
> > > 3  2010  1    3   NA
> > > 4  2010  1    4   NA
> > > 5  2010  1    5   NA
> > > 6  2010  1    6   NA
> > >
> > > What I am trying to do is combine these two dataframes so as to the
rows in
> > > df1 (based on the values of "y", "d", "h" columns) that have values
> > > exactly similar to df2's rows copied in its place in the new df (df3).
> > > For example, in the first dataframe the first row was measured at 3
> > > o'clock on the first day of 2010 and this row must be placed on the
third
> > > row of the second dataframe which has a similar value (2010, 1, 3).
Like
> > > the below
> > > table:
> > >       y      d    h   ws
> > > 1  2010  1    1   NA
> > > 2  2010  1    2   NA
> > > 3  2010  1    3   20.71488
> > > 4  2010  1    4   NA
> > > 5  2010  1    5   NA
> > > 6  2010  1    6   19.70125
> > >
> > > But regarding the values of the "ws" column for df2 that do not have
value
> > > (at 4 and 5 o'clock), I need to interpolate between the before and
after
> > > values to fill in the missing data of the "ws".
> > > I have tried the following codes but they did not work correctly.
> > >
> > > > df3 = merge(df1, df2, by = "y")
> > > Error: cannot allocate vector of size 487.9 Mb or
> > > > library(dplyr)
> > > > df3<- df1%>% full_join(df2)
> > >
> > >
> > > Is there any way to do this?
> > > Sincerely
> > >
> > >
> > >
> > >
> > >
> > > --
> > > Best Regards
> > > Javad Bayat
> > > M.Sc. Environment Engineering
> > > Alternative Mail: bayat194 at yahoo.com
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >
> > >
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.et
> hz.ch%2Fmailman%2Flistinfo%2Fr-
> help&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d90
> 8da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6379
> 75232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&a
> mp;sdata=WigJVAmdLn%2FK7ZtJq28%2Buv4aDmUjNXu6QPabdt5h2iQ%3D&a
> mp;reserved=0
> > > PLEASE do read the posting guide
> > >
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-
> project.org%2Fposting-
> guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc
> 23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7
> C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%
> 7C&amp;sdata=m1VCPBpnYy%2FwqlOuf5froUVEMBDJKwDuAWS4cFNx1wI%3
> D&amp;reserved=0
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> >
> > --
> > Best Regards
> > Javad Bayat
> > M.Sc. Environment Engineering
> > Alternative Mail: bayat194 at yahoo.com
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From n|ckmwr@y @end|ng |rom gm@||@com  Thu Sep  1 12:49:31 2022
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Thu, 1 Sep 2022 11:49:31 +0100
Subject: [R] GIS in R
Message-ID: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>

I hope that this is an allowable question - for my hydrological research I
need to create and manipulate maps (ideally in raster form), and get
conversant with GIS.  I have for example downloaded QGIS but am finding the
sites on it opaque, and more widely I am finding it hard to find useful
sources of information on GIS processing in R.

Does anyone know of any accessible sites or useful texts on GIS processing
in R?

Thanks Nick Wray

	[[alternative HTML version deleted]]


From te@3rd @end|ng |rom gm@||@com  Thu Sep  1 13:41:04 2022
From: te@3rd @end|ng |rom gm@||@com (Thomas Adams)
Date: Thu, 1 Sep 2022 07:41:04 -0400
Subject: [R] GIS in R
In-Reply-To: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
References: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
Message-ID: <CAGxgkWiNz1FF7KP-v9+aTAVS+2NHf+Q-yizoM8w8Skxqy72+sQ@mail.gmail.com>

Hi Nick,

First off, I would suggest going to:

https://cran.r-project.org/web/views/Spatial.html

also have a close look at
https://journal.r-project.org/archive/2017/RJ-2017-067/RJ-2017-067.pdf

And you might also consider the use of GRASS GIS, which interfaces with R
pretty seamlessly: https://grasswiki.osgeo.org/wiki/R_statistics/rgrass7

Best,
Tom

On Thu, Sep 1, 2022 at 6:50 AM Nick Wray <nickmwray at gmail.com> wrote:

> I hope that this is an allowable question - for my hydrological research I
> need to create and manipulate maps (ideally in raster form), and get
> conversant with GIS.  I have for example downloaded QGIS but am finding the
> sites on it opaque, and more widely I am finding it hard to find useful
> sources of information on GIS processing in R.
>
> Does anyone know of any accessible sites or useful texts on GIS processing
> in R?
>
> Thanks Nick Wray
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From t@v|b@r @end|ng |rom gm@||@com  Thu Sep  1 14:43:21 2022
From: t@v|b@r @end|ng |rom gm@||@com (Micha Silver)
Date: Thu, 1 Sep 2022 14:43:21 +0200
Subject: [R] GIS in R
In-Reply-To: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
References: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
Message-ID: <aee8323a-3237-b4e3-b091-253b1ac0bf60@gmail.com>

Two comments in addition to what Tom suggested:

This online book comes highly recommended:

https://geocompr.robinlovelace.net/


and when you encounter further questions specific to spatial analysis, 
you'll want to post to the R geo special interest group maillist:

https://stat.ethz.ch/mailman/listinfo/r-sig-geo


Regards,

Micha


On 9/1/22 12:49, Nick Wray wrote:
> I hope that this is an allowable question - for my hydrological research I
> need to create and manipulate maps (ideally in raster form), and get
> conversant with GIS.  I have for example downloaded QGIS but am finding the
> sites on it opaque, and more widely I am finding it hard to find useful
> sources of information on GIS processing in R.
>
> Does anyone know of any accessible sites or useful texts on GIS processing
> in R?
>
> Thanks Nick Wray
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Micha Silver
Ben Gurion Univ.
Sde Boker, Remote Sensing Lab
cell: +972-523-665918
https://orcid.org/0000-0002-1128-1325


From @@r@h@go@|ee @end|ng |rom gm@||@com  Thu Sep  1 16:11:56 2022
From: @@r@h@go@|ee @end|ng |rom gm@||@com (Sarah Goslee)
Date: Thu, 1 Sep 2022 10:11:56 -0400
Subject: [R] GIS in R
In-Reply-To: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
References: <CABxY9BP4s8M_ZVtWD1W9SSpHN9+NEyWyOmaf=MDtOm9mjHfEfg@mail.gmail.com>
Message-ID: <CAM_vju=y7FDt0VO1dF4a23S9NWCb0CGj-AMrPDJstqNQtS+-PQ@mail.gmail.com>

Hi Nick,

There are a bunch of resources. You might start with this Spatial Data
Science with R book at https://rspatial.org

The book fondly known as ASDAR (
https://link.springer.com/book/10.1007/978-1-4614-7618-4 ) is a more
comprehensive survey of spatial data in R, but if you?re mainly doing
raster analysis the above may be what you need.

For specific questions, there?s a subject mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-geo

Sarah

On Thu, Sep 1, 2022 at 6:50 AM Nick Wray <nickmwray at gmail.com> wrote:
>
> I hope that this is an allowable question - for my hydrological research I
> need to create and manipulate maps (ideally in raster form), and get
> conversant with GIS.  I have for example downloaded QGIS but am finding the
> sites on it opaque, and more widely I am finding it hard to find useful
> sources of information on GIS processing in R.
>
> Does anyone know of any accessible sites or useful texts on GIS processing
> in R?
>
> Thanks Nick Wray
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @erv|ce @end|ng |rom @hd@w@on@com  Thu Sep  1 17:45:15 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Thu, 1 Sep 2022 11:45:15 -0400
Subject: [R] Error Running arules
Message-ID: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>

Hi Everyone,


I upgraded my box recently. I am now running R at version 4.2. I 
attempted to do association rules today using arules. I am getting two 
errors.

My first guess is there is something in the build of the arules that is 
not found in r-base. My second guess is the script syntax needs further 
work.

Anyone have an idea how to interpret these two errors, pls?

***************************************************
stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-base | grep Version
Version: 4.2.1-2.2204.0
stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-arules | grep Version
Version: 1.7-4-1cran1.2204.0
stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-Matrix | grep Version
Version: 1.4-1-1.2204.0
stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-psych | grep Version
Version: 2.2.5-1cran1.2204.0
stephen at LENOVO-SSD ~/Desktop $
***************************************************
setwd("/home/stephen/SHD-R")

library(Matrix)
library(arules)
library(psych)

Data <- read.csv("./input/DataSet.csv", header=T, colClasses='factor')

Groups <- Data[6:12]
Groups[Groups=="0"] <- NA
View(Groups)

rules <- apriori(Groups, parameter = list(ext = FALSE, minlen=2, 
supp=0.2, conf=0.5))
inspect(rules)
***************************************************
ERROR ONE
Attaching package: ?arules?

The following objects are masked from ?package:base?:

 ??? abbreviate, write
***************************************************
ERROR TWO
Error in eval(ei, envir) : object 'Insert' not found
***************************************************


Kindest Regards,
-- 
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Sep  1 18:25:21 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Sep 2022 17:25:21 +0100
Subject: [R] Problems with dataframe
In-Reply-To: <CANTxAmJt02SjHpsPwtOt=oG9=9UixrAn06m_TCXt26HVfsSjjA@mail.gmail.com>
References: <CANTxAmJt02SjHpsPwtOt=oG9=9UixrAn06m_TCXt26HVfsSjjA@mail.gmail.com>
Message-ID: <2cb4af8b-c759-60f2-5da3-3986be37b6d7@sapo.pt>

Hello,

The following code does not merge the two data sets, it creates a third one.

1. split the data by year and day
2. for each sub-df, assign the values in df1$ws to the corresponding df2$ws
3. loop through df3 interpolating the values in ws and replacing the NA 
by the new ones. This is linear interpolation, not to substitute the 
mean for NA's.
4. bind the sub-df's together and remove the temp sp1, sp2.
5. if you want to, you can write df2 wherever df3 occurs. In fact, there 
is no need for the new df3, I have coded it like this to make the 
several steps more clear but you can simply use df2 throughoutthe code 
below.


sp1 <- split(df1, list(df1$y, df1$d))
sp2 <- split(df2, list(df2$y, df2$d))

df3 <- Map(\(X, Y) {
   i <- match(X$h, Y$h)
   Y$ws[i] <- X$ws
   Y
}, sp1, sp2)

df3 <- lapply(df3, \(X) {
   X$ws <- approx(X$h, X$ws, xout = X$h)$y
   X
})

df3 <- do.call(rbind, df3)
str(df3)
rm(sp1, sp2)


Hope this helps,

Rui Barradas


?s 10:03 de 01/09/2022, javad bayat escreveu:
>   Dear Rui,
> I have sent this to the R mailing list but I did not receive a right
> solution. I apologize for sending this to you. Can you help me to fix this
> problem?
> 
> I am trying to combine two large dataframe in order to make a dataframe
> with exactly the dimension of the second dataframe.
> The first df is as follows:
> 
> df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 2920), d =
> rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
>        h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
>        ws = rnorm(1:14600, mean=20))
>> head(df1)
>       y       d   h        ws
> 1  2010  1  3     20.71488
> 2  2010  1  6     19.70125
> 3  2010  1  9     21.00180
> 4  2010  1 12     20.29236
> 5  2010  1 15     20.12317
> 6  2010  1 18     19.47782
> 
> The data in the "ws" column were measured with 3 hours frequency and I need
> data with one hour frequency. I have made a second df as follows with one
> hour frequency for the "ws" column.
> 
> df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each = 8760), d =
> rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
>        h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
>> head(df2)
>        y      d    h   ws
> 1  2010  1    1   NA
> 2  2010  1    2   NA
> 3  2010  1    3   NA
> 4  2010  1    4   NA
> 5  2010  1    5   NA
> 6  2010  1    6   NA
> 
> What I am trying to do is combine these two dataframes so as to the rows in
> df1 (based on the values of "y", "d", "h" columns) that have values exactly
> similar to df2's rows copied in its place in the new df (df3).
> For example, in the first dataframe the first row was measured at 3 o'clock
> on the first day of 2010 and this row must be placed on the third row of
> the second dataframe which has a similar value (2010, 1, 3). Like the below
> table:
>        y      d    h   ws
> 1  2010  1    1   NA
> 2  2010  1    2   NA
> 3  2010  1    3   20.71488
> 4  2010  1    4   NA
> 5  2010  1    5   NA
> 6  2010  1    6   19.70125
> 
> But regarding the values of the "ws" column for df2 that do not have value
> (at 4 and 5 o'clock), I need to interpolate between the before and after
> values to fill in the missing data of the "ws".
> I have tried the following codes but they did not work correctly.
> 
>> df3 = merge(df1, df2, by = "y")
> Error: cannot allocate vector of size 487.9 Mb
> or
>> library(dplyr)
>> df3<- df1%>% full_join(df2)
> 
> Pikal Petr has sent a code and the code worked but it copied the second
> dataframe into the first one and did not replace the corresponding row in
> the first one.
> 
>> df3 = merge(df1, df2, all = TRUE)
> 
> Regarding filling the "NA" data, it does not matter for me to interpolate
> between numbers or put the mean of numbers.
> The dplyr did not work for me. My data frames have exactly similar columns
> but different row numbers.
> 
> Is there any way to do this?
> Sincerely
> 
>


From y@ngk@|9999 @end|ng |rom y@hoo@com  Thu Sep  1 18:55:04 2022
From: y@ngk@|9999 @end|ng |rom y@hoo@com (Kai Yang)
Date: Thu, 1 Sep 2022 16:55:04 +0000 (UTC)
Subject: [R] how to add vertical sliding bar in flexdashboard output
References: <193118096.1640482.1662051304265.ref@mail.yahoo.com>
Message-ID: <193118096.1640482.1662051304265@mail.yahoo.com>

Hello everyone,I generated an output using flexdashboard. But the output file doesn't have vertical sliding bar. How can I do to add it in? I attached my code below.Thank you,Kai
---title: "data report example"date: "`r Sys.Date()`"output:?? flexdashboard::flex_dashboard:? ? orientation: columns? ? vertical_layout: fill---

```{r setup, include=FALSE, echo=FALSE}library(flexdashboard)library(tidyverse)mtcars$gear_c <- as.character(mtcars$gear)
```
### anova analysis?```{r}################################################################below is anova analysis for assumption of equal variances
# Compute the analysis of varianceres.aov <- aov(qsec ~ gear_c, data = mtcars)# Summary of the analysisaov1 <- summary(res.aov)
#perform Tukey HSD test (look the difference between each group)aov1_par <- TukeyHSD(res.aov, conf.level=.95)#draw confidence interval plot, see this plot in the following plot tag#plot(TukeyHSD(res.aov, conf.level=.95), las =2)
################################################################ANOVA test with no assumption of equal variances
aov2 <- oneway.test(qsec ~ gear_c, data = mtcars)aov2_par <- pairwise.t.test(mtcars$qsec, mtcars$gear_c,? ? ? ? ? ? ? ? p.adjust.method = "holm", pool.sd = FALSE)
# Compute Kruskal-Wallis testaov3 <- kruskal.test(qsec ~ gear_c, data = mtcars)

#student ttestg34 <- subset(mtcars, gear_c != "5")t1 <- t.test(qsec ~ gear_c, data = g34)
g35 <- subset(mtcars, gear_c != "4")t2 <- t.test(qsec ~ gear_c, data = g35)
g45 <- subset(mtcars, gear_c != "3")t3 <- t.test(qsec ~ gear_c, data = g45)
aov_all <- paste0(aov1, aov1_par, aov2, aov2_par, aov3, t1, t2, t3, '\n')
print(aov1)print(aov1_par)print(aov2)print(aov2_par)print(aov3)print(t1)print(t2)print(t3)
```


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Sep  1 19:08:47 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 1 Sep 2022 10:08:47 -0700
Subject: [R] Error Running arules
In-Reply-To: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
Message-ID: <CAGxFJbRe=_stEYU0mLr58mn3TzW6sVrME4Xaw9m2ZNprZ8mDVw@mail.gmail.com>

I have no clue about #2, but do note
----------
ERROR ONE
Attaching package: ?arules?

The following objects are masked from ?package:base?:

     abbreviate, write
---------
is *NOT* an error.  It merely means that arules has its own versions
of abbreviate() and write(), which will be the functions called if you
do not prefix calling the base functions with 'base::', e.g. as in
base::abbreviate(...)

Cheers,
Bert

On Thu, Sep 1, 2022 at 8:46 AM Stephen H. Dawson, DSL via R-help
<r-help at r-project.org> wrote:
>
> Hi Everyone,
>
>
> I upgraded my box recently. I am now running R at version 4.2. I
> attempted to do association rules today using arules. I am getting two
> errors.
>
> My first guess is there is something in the build of the arules that is
> not found in r-base. My second guess is the script syntax needs further
> work.
>
> Anyone have an idea how to interpret these two errors, pls?
>
> ***************************************************
> stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-base | grep Version
> Version: 4.2.1-2.2204.0
> stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-arules | grep Version
> Version: 1.7-4-1cran1.2204.0
> stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-Matrix | grep Version
> Version: 1.4-1-1.2204.0
> stephen at LENOVO-SSD ~/Desktop $ dpkg -s r-cran-psych | grep Version
> Version: 2.2.5-1cran1.2204.0
> stephen at LENOVO-SSD ~/Desktop $
> ***************************************************
> setwd("/home/stephen/SHD-R")
>
> library(Matrix)
> library(arules)
> library(psych)
>
> Data <- read.csv("./input/DataSet.csv", header=T, colClasses='factor')
>
> Groups <- Data[6:12]
> Groups[Groups=="0"] <- NA
> View(Groups)
>
> rules <- apriori(Groups, parameter = list(ext = FALSE, minlen=2,
> supp=0.2, conf=0.5))
> inspect(rules)
> ***************************************************
> ERROR ONE
> Attaching package: ?arules?
>
> The following objects are masked from ?package:base?:
>
>      abbreviate, write
> ***************************************************
> ERROR TWO
> Error in eval(ei, envir) : object 'Insert' not found
> ***************************************************
>
>
> Kindest Regards,
> --
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Thu Sep  1 19:11:58 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 1 Sep 2022 10:11:58 -0700
Subject: [R] how to add vertical sliding bar in flexdashboard output
In-Reply-To: <193118096.1640482.1662051304265@mail.yahoo.com>
References: <193118096.1640482.1662051304265.ref@mail.yahoo.com>
 <193118096.1640482.1662051304265@mail.yahoo.com>
Message-ID: <CAGxFJbQVMZDY-t2qLPoRDb++nENkoURhwAcbPyi0TRAp5jHO8A@mail.gmail.com>

Post in *Plain Text* so that your HTML does not get stripped and your
text mangled and thereby more likely to be ignored. If memory serves
(and my apology if it does not), you have been told this before.

Cheers,
Bert

On Thu, Sep 1, 2022 at 9:55 AM Kai Yang via R-help <r-help at r-project.org> wrote:
>
> Hello everyone,I generated an output using flexdashboard. But the output file doesn't have vertical sliding bar. How can I do to add it in? I attached my code below.Thank you,Kai
> ---title: "data report example"date: "`r Sys.Date()`"output:   flexdashboard::flex_dashboard:    orientation: columns    vertical_layout: fill---
>
> ```{r setup, include=FALSE, echo=FALSE}library(flexdashboard)library(tidyverse)mtcars$gear_c <- as.character(mtcars$gear)
> ```
> ### anova analysis ```{r}################################################################below is anova analysis for assumption of equal variances
> # Compute the analysis of varianceres.aov <- aov(qsec ~ gear_c, data = mtcars)# Summary of the analysisaov1 <- summary(res.aov)
> #perform Tukey HSD test (look the difference between each group)aov1_par <- TukeyHSD(res.aov, conf.level=.95)#draw confidence interval plot, see this plot in the following plot tag#plot(TukeyHSD(res.aov, conf.level=.95), las =2)
> ################################################################ANOVA test with no assumption of equal variances
> aov2 <- oneway.test(qsec ~ gear_c, data = mtcars)aov2_par <- pairwise.t.test(mtcars$qsec, mtcars$gear_c,                p.adjust.method = "holm", pool.sd = FALSE)
> # Compute Kruskal-Wallis testaov3 <- kruskal.test(qsec ~ gear_c, data = mtcars)
>
> #student ttestg34 <- subset(mtcars, gear_c != "5")t1 <- t.test(qsec ~ gear_c, data = g34)
> g35 <- subset(mtcars, gear_c != "4")t2 <- t.test(qsec ~ gear_c, data = g35)
> g45 <- subset(mtcars, gear_c != "3")t3 <- t.test(qsec ~ gear_c, data = g45)
> aov_all <- paste0(aov1, aov1_par, aov2, aov2_par, aov3, t1, t2, t3, '\n')
> print(aov1)print(aov1_par)print(aov2)print(aov2_par)print(aov3)print(t1)print(t2)print(t3)
> ```
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From er|nm@hodge@@ @end|ng |rom gm@||@com  Thu Sep  1 19:20:36 2022
From: er|nm@hodge@@ @end|ng |rom gm@||@com (Erin Hodgess)
Date: Thu, 1 Sep 2022 13:20:36 -0400
Subject: [R] how to add vertical sliding bar in flexdashboard output
In-Reply-To: <193118096.1640482.1662051304265@mail.yahoo.com>
References: <193118096.1640482.1662051304265.ref@mail.yahoo.com>
 <193118096.1640482.1662051304265@mail.yahoo.com>
Message-ID: <CACxE24kBE_=h5bWVYwG+A22d1iRQSav=KUu9RmzrOPcmKaLL5g@mail.gmail.com>

You may actually want to send an email to the RStudio community.  They deal
with this as a rule.

Thanks,
Erin

On Thu, Sep 1, 2022 at 12:55 PM Kai Yang via R-help <r-help at r-project.org>
wrote:

> Hello everyone,I generated an output using flexdashboard. But the output
> file doesn't have vertical sliding bar. How can I do to add it in? I
> attached my code below.Thank you,Kai
> ---title: "data report example"date: "`r Sys.Date()`"output:
> flexdashboard::flex_dashboard:    orientation: columns    vertical_layout:
> fill---
>
> ```{r setup, include=FALSE,
> echo=FALSE}library(flexdashboard)library(tidyverse)mtcars$gear_c <-
> as.character(mtcars$gear)
> ```
> ### anova
> analysis ```{r}################################################################below
> is anova analysis for assumption of equal variances
> # Compute the analysis of varianceres.aov <- aov(qsec ~ gear_c, data =
> mtcars)# Summary of the analysisaov1 <- summary(res.aov)
> #perform Tukey HSD test (look the difference between each group)aov1_par
> <- TukeyHSD(res.aov, conf.level=.95)#draw confidence interval plot, see
> this plot in the following plot tag#plot(TukeyHSD(res.aov, conf.level=.95),
> las =2)
> ################################################################ANOVA test
> with no assumption of equal variances
> aov2 <- oneway.test(qsec ~ gear_c, data = mtcars)aov2_par <-
> pairwise.t.test(mtcars$qsec, mtcars$gear_c,                p.adjust.method
> = "holm", pool.sd = FALSE)
> # Compute Kruskal-Wallis testaov3 <- kruskal.test(qsec ~ gear_c, data =
> mtcars)
>
> #student ttestg34 <- subset(mtcars, gear_c != "5")t1 <- t.test(qsec ~
> gear_c, data = g34)
> g35 <- subset(mtcars, gear_c != "4")t2 <- t.test(qsec ~ gear_c, data = g35)
> g45 <- subset(mtcars, gear_c != "3")t3 <- t.test(qsec ~ gear_c, data = g45)
> aov_all <- paste0(aov1, aov1_par, aov2, aov2_par, aov3, t1, t2, t3, '\n')
>
> print(aov1)print(aov1_par)print(aov2)print(aov2_par)print(aov3)print(t1)print(t2)print(t3)
> ```
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 
Erin Hodgess, PhD
mailto: erinm.hodgess at gmail.com

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Fri Sep  2 09:09:20 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 2 Sep 2022 09:09:20 +0200
Subject: [R] Error Running arules
In-Reply-To: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
Message-ID: <20220902090806.5a978489@parabola>

? Thu, 1 Sep 2022 11:45:15 -0400
"Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:

> Error in eval(ei, envir) : object 'Insert' not found

traceback() is invaluable when debugging errors like this.

It might be a bug in one of the packages you're running. You might end
up having to contact the maintainer (see the maintainer() function) of
one of them to have it fixed.

-- 
Best regards,
Ivan


From r-p@ck@ge@ @end|ng |rom r-project@org  Fri Sep  2 16:26:11 2022
From: r-p@ck@ge@ @end|ng |rom r-project@org (Zhu, Yalin via R-packages)
Date: Fri, 2 Sep 2022 14:26:11 +0000
Subject: [R] [R-pkgs] gMCPLite: Lightweight Graph Based Multiple Comparison
 Procedures
Message-ID: <SN4P106MB014480742C9B8DCA49C094B1FD7A9@SN4P106MB0144.NAMP106.PROD.OUTLOOK.COM>

Dear all,

I am happy to announce that {gMCPLite} is now on CRAN. It is a lightweight fork of {gMCP} for graph-based multiple comparison procedures, with {ggplot2} multiplicity graph visualizations, graphical testing for group sequential design workflows, and essential unit testing.

I hope you find it helpful. Please feel free to reach out with feedbacks or questions.

CRAN: https://cran.r-project.org/package=gMCPLite 
Documentation: https://merck.github.io/gMCPLite/ 

-Yalin Zhu

This e-mail message, together with any attachments, cont...{{dropped:10}}

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From @erv|ce @end|ng |rom @hd@w@on@com  Fri Sep  2 18:01:55 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Fri, 2 Sep 2022 12:01:55 -0400
Subject: [R] Error Running arules
In-Reply-To: <20220902090806.5a978489@parabola>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
Message-ID: <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>

Bert,
Thanks for the guidance. Do you have a documentation URL I can review to 
research your suggestion?

Ivan,
Thanks for the guidance. The traceback() revealed the same results that 
I shared originally.

This is a bigger problem than coding a command set to run against data. 
It does seem like a version problem with arules or how it leverages 
r-base. I will go to arules maintainer for further guidance.


Kindest Regards,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 9/2/22 03:09, Ivan Krylov wrote:
> ? Thu, 1 Sep 2022 11:45:15 -0400
> "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
>
>> Error in eval(ei, envir) : object 'Insert' not found
> traceback() is invaluable when debugging errors like this.
>
> It might be a bug in one of the packages you're running. You might end
> up having to contact the maintainer (see the maintainer() function) of
> one of them to have it fixed.
>


From bgunter@4567 @end|ng |rom gm@||@com  Fri Sep  2 18:46:14 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 2 Sep 2022 09:46:14 -0700
Subject: [R] Error Running arules
In-Reply-To: <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
 <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
Message-ID: <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>

1. I told you essentially everything there is to know.
2. Chapter 13.3 of "An Introduction to R" on 'namespaces'.
3. Search on "masking in R"

Bert

On Fri, Sep 2, 2022 at 9:01 AM Stephen H. Dawson, DSL
<service at shdawson.com> wrote:
>
> Bert,
> Thanks for the guidance. Do you have a documentation URL I can review to
> research your suggestion?
>
> Ivan,
> Thanks for the guidance. The traceback() revealed the same results that
> I shared originally.
>
> This is a bigger problem than coding a command set to run against data.
> It does seem like a version problem with arules or how it leverages
> r-base. I will go to arules maintainer for further guidance.
>
>
> Kindest Regards,
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
>
> On 9/2/22 03:09, Ivan Krylov wrote:
> > ? Thu, 1 Sep 2022 11:45:15 -0400
> > "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
> >
> >> Error in eval(ei, envir) : object 'Insert' not found
> > traceback() is invaluable when debugging errors like this.
> >
> > It might be a bug in one of the packages you're running. You might end
> > up having to contact the maintainer (see the maintainer() function) of
> > one of them to have it fixed.
> >
>


From @erv|ce @end|ng |rom @hd@w@on@com  Fri Sep  2 18:50:18 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Fri, 2 Sep 2022 12:50:18 -0400
Subject: [R] Error Running arules
In-Reply-To: <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
 <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
 <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>
Message-ID: <3b0840dc-f414-0666-9fb2-c95ce9ebc0e0@shdawson.com>

Go it, thanks.

*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 9/2/22 12:46, Bert Gunter wrote:
> 1. I told you essentially everything there is to know.
> 2. Chapter 13.3 of "An Introduction to R" on 'namespaces'.
> 3. Search on "masking in R"
>
> Bert
>
> On Fri, Sep 2, 2022 at 9:01 AM Stephen H. Dawson, DSL
> <service at shdawson.com> wrote:
>> Bert,
>> Thanks for the guidance. Do you have a documentation URL I can review to
>> research your suggestion?
>>
>> Ivan,
>> Thanks for the guidance. The traceback() revealed the same results that
>> I shared originally.
>>
>> This is a bigger problem than coding a command set to run against data.
>> It does seem like a version problem with arules or how it leverages
>> r-base. I will go to arules maintainer for further guidance.
>>
>>
>> Kindest Regards,
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>>
>> On 9/2/22 03:09, Ivan Krylov wrote:
>>> ? Thu, 1 Sep 2022 11:45:15 -0400
>>> "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
>>>
>>>> Error in eval(ei, envir) : object 'Insert' not found
>>> traceback() is invaluable when debugging errors like this.
>>>
>>> It might be a bug in one of the packages you're running. You might end
>>> up having to contact the maintainer (see the maintainer() function) of
>>> one of them to have it fixed.
>>>


From k@r|@m@y0 @end|ng |rom |reenet@de  Fri Sep  2 10:29:21 2022
From: k@r|@m@y0 @end|ng |rom |reenet@de (Karl May)
Date: Fri, 02 Sep 2022 18:29:21 +1000
Subject: [R] stunning matrix multiplication differences Matrix vs. matrix
Message-ID: <2941249.iZASKD2KPV@ghpc>

Hi all,

can somebody help me out with an explanation of this:

> class(M);class(MM);class(RHS)
[1] "dgCMatrix"
attr(,"package")
[1] "Matrix"
[1] "matrix" "array" 
[1] "dgeMatrix"
attr(,"package")
[1] "Matrix"
> dim(M);dim(MM);dim(RHS)
[1] 29418 29418
[1] 29418 29418
[1] 29418     1
> max(abs(M-MM))
[1] 0
> t(RHS)%*%M%*%RHS
1 x 1 Matrix of class "dgeMatrix"
         [,1]
[1,] 7264.878
> t(RHS)%*%MM%*%RHS
1 x 1 Matrix of class "dgeMatrix"
         [,1]
[1,] 5765.366
> 

Apparently the two matrices "M" and "MM" are entirely identical but the 
difference in results from multiplying both with the same matrix is, say, 
significant.

Even when I transfer M into "matrix" and then back into "Matrix" the 
differences remain:

> M <- as.matrix(M)
> t(RHS)%*%M%*%RHS
1 x 1 Matrix of class "dgeMatrix"
         [,1]
[1,] 5765.366
> M <- Matrix(M)
> t(RHS)%*%M%*%RHS
1 x 1 Matrix of class "dgeMatrix"
         [,1]
[1,] 7264.878
> 

Frankly, I have no clue what's going on!!

This is the session info:

> sessionInfo()
R version 4.1.3 (2022-03-10)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Arch Linux
BLAS/LAPACK: /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so

 [1] LC_CTYPE=en_AU.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=C                  LC_COLLATE=en_AU.UTF-8    
 [5] LC_MONETARY=en_AU.UTF-8    LC_MESSAGES=en_AU.UTF-8   
 [7] LC_PAPER=en_AU.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_AU.UTF-8 LC_IDENTIFICATION=C       

[1] graphics  grDevices datasets  stats     utils     parallel  methods  
[8] base     
[1] pedigreemm_0.3-3  lme4_1.1-28       Matrix_1.4-0      bit64_4.0.5      
[5] bit_4.0.4         data.table_1.14.2

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.8      lattice_0.20-45 MASS_7.3-55     grid_4.1.3     
 [5] nlme_3.1-155    minqa_1.2.4     nloptr_2.0.0    boot_1.3-28    
 [9] splines_4.1.3   tools_4.1.3     compiler_4.1.3


From n||e@h@d|ghe @end|ng |rom b@yer@com  Fri Sep  2 13:15:24 2022
From: n||e@h@d|ghe @end|ng |rom b@yer@com (Nilesh Dighe)
Date: Fri, 2 Sep 2022 11:15:24 +0000
Subject: [R] Combine two dataframe with different row number and
 interpolation between values
In-Reply-To: <8f3eea42758741d79a02fcc3a397ccb1@SRVEXCHCM1302.precheza.cz>
References: <CANTxAm+qPT_39eEuZT20LtBJ2hOaDCstrFMi-e-WiCJZc4fXfQ@mail.gmail.com>
 <BN6PR2201MB1553ACD3653959F1FEE4081BCF789@BN6PR2201MB1553.namprd22.prod.outlook.com>
 <CANTxAmL_T_02b-uyQ6kw4735C5kbaFcwmOSyxFbjEdZ05w4LzA@mail.gmail.com>
 <CA+8X3fUascDz4oRhxk4yYb5fhzhPhW_JGbePU1kiWU-NVHAKjw@mail.gmail.com>
 <8f3eea42758741d79a02fcc3a397ccb1@SRVEXCHCM1302.precheza.cz>
Message-ID: <AS8PR05MB7591A3049C948B42EF48E02E847A9@AS8PR05MB7591.eurprd05.prod.outlook.com>

You can also use match function to combine the two dataframes as shown below:

wh<- match(interaction(df2[c("y", "d", "h")]), interaction(df1[c("y", "d", "h")])) matched <- !is.na(wh) df2[matched, "ws"] <- df1[wh[matched],"ws"]

head(df2)
# y d h               ws
# 1 2010 1 1               NA
# 2 2010 1 2               NA
# 3 2010 1 3 21.7863481620828
# 4 2010 1 4               NA
# 5 2010 1 5               NA
# 6 2010 1 6 21.9653408303519

Nilesh

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of PIKAL Petr
Sent: Thursday, September 1, 2022 6:29 AM
To: Jim Lemon <drjimlemon at gmail.com>; javad bayat <j.bayat194 at gmail.com>; r-help mailing list <r-help at r-project.org>
Subject: Re: [R] Combine two dataframe with different row number and interpolation between values

Hi

You could also use approxfun to fill NA values

fff <- approxfun(1:dim(df3)[1], df3$ws.x)
df3$ws2 <- fff(1:dim(df3)[1])
head(df3)
     y d h     ws.x ws.y      ws2
1 2010 1 1       NA   NA       NA
2 2010 1 2       NA   NA       NA
3 2010 1 3 20.46314   NA 20.46314
4 2010 1 4       NA   NA 20.74001
5 2010 1 5       NA   NA 21.01689
6 2010 1 6 21.29376   NA 21.29376

And fill starting or trailing NA by na.locf function from zoo package or change starting or trailing NA to some value before calling approxfun.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Jim Lemon
> Sent: Thursday, September 1, 2022 11:31 AM
> To: javad bayat <j.bayat194 at gmail.com>; r-help mailing list <r-help at r-
> project.org>
> Subject: Re: [R] Combine two dataframe with different row number and
> interpolation between values
>
> Hi Javad,
> You seem to have the data frame join worked out, so here is a function
> to interpolate over sequences of NAs. I have found it quite useful.
>
> # interpolate over sequences of NAs
> # NA sequences at the beginning of a file are replaced with the first
> nonNA value # NA sequences at the end are filled with the last nonNA
> value # sequences of all NAs are returned unaltered
> interpNA<-function(x) {
>  if(any(is.na(x))) {
>   xrle<-rle(is.na(x))
>   begin<-end<-1
>   # if the sequence begins with NA
>   # set the initial run of NAs to the 1st non-NA
>   if(is.na(x[1])) x[1:xrle$lengths[1]]<-x[xrle$lengths[1]+1]
>   for(i in 1:length(xrle$values)) {
>    # if this is a run of NA, fill it
>    if(xrle$values[i]) {
>     end<-begin+xrle$lengths[i]+(i>1)
>     if(is.na(x[end])) x[begin:(end-1)]<-x[begin]
>     else x[begin:end]<-seq(x[begin],x[end],length.out=1+end-begin)
>     begin<-end+xrle$lengths[i]-1
>   }
>    else {
>     # set begin to the end of the non-NA values
>     begin<-end+xrle$lengths[i]-1
>    }
>   }
>  }
>  return(x)
> }
>
> Jim
>
> On Thu, Sep 1, 2022 at 3:29 PM javad bayat <j.bayat194 at gmail.com> wrote:
> >
> >  Dear Tim;
> > The dplyr did not work for me. My data frames have exactly similar
columns
> > but different row numbers.
> > Mr Petr sent this code and the code worked but it copied the second
> > dataframe into the first one and did not replace the corresponding row.
> > > df3 = merge(df1, df2, all = TRUE)
> > Regarding filling the "NA" data, it does not matter for me to
interpolate
> > between numbers or put the mean of numbers.
> > Sincerely
> >
> >
> >
> >
> >
> >
> > On Wed, Aug 31, 2022 at 5:17 PM Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> >
> > > Can I interest you in the join functions in dplyr?
> > > https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2F
> > > www.datasciencemadesimple.com%2Fjoin-in-r-merge-in-r%2F&amp;data=0
> > > 5%7C01%7C%7C22d32a92ea5f4aa85d3208da8c04dc0f%7Cfcb2b37b5da0466b9b8
> > > 30014b67a7c78%7C0%7C0%7C637976250192968351%7CUnknown%7CTWFpbGZsb3d
> > > 8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3
> > > D%7C2000%7C%7C%7C&amp;sdata=Vq0f9lMY7EzosUTCnsXEJXZZJYiEI5icCNql%2
> > > FBJNsaE%3D&amp;reserved=0
> > >
> > > Filling in missing data is a useful practice when the fake
> > > (simulated) data is a small proportion of all data. When 2/3 of
> > > the data is fake
one
> > > must wonder if anything based on those numbers is real or an
> > > artifact
of
> > > assumptions made to generate the numbers.
> > >
> > > I deal with weather data and some weather stations are set up to
average
> > > measurements between recorded values and others take a single
> > > reading
at
> > > regular intervals. How you interpolate might depend on which
> > > option describes your data. The alternative is to use the method
> > > for
recording ws
> > > and apply it to the other data that will be merged with these
> > > data. I assume there is more data, otherwise I see little point in
> > > expanding
these
> > > values out.
> > >
> > > Tim
> > >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of javad
> > > bayat
> > > Sent: Wednesday, August 31, 2022 2:09 AM
> > > To: r-help at r-project.org
> > > Subject: [R] Combine two dataframe with different row number and
> > > interpolation between values
> > >
> > > [External Email]
> > >
> > >  Dear all,
> > > I am trying to combine two large dataframe in order to make a
dataframe
> > > with exactly the dimension of the second dataframe.
> > > The first df is as follows:
> > >
> > > df1 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each =
> > > 2920), d
=
> > > rep(c(1:365,1:365,1:365,1:365,1:365),each=8),
> > >       h = rep(c(seq(3,24, by = 3),seq(3,24, by = 3),seq(3,24, by =
> > > 3),seq(3,24, by = 3),seq(3,24, by = 3)),365),
> > >       ws = rnorm(1:14600, mean=20))
> > > > head(df1)
> > >      y       d   h        ws
> > > 1  2010  1  3     20.71488
> > > 2  2010  1  6     19.70125
> > > 3  2010  1  9     21.00180
> > > 4  2010  1 12     20.29236
> > > 5  2010  1 15     20.12317
> > > 6  2010  1 18     19.47782
> > >
> > > The data in the "ws" column were measured with 3 hours frequency
> > > and I need data with one hour frequency. I have made a second df
> > > as follows
with
> > > one hour frequency for the "ws" column.
> > >
> > > df2 = data.frame(y = rep(c(2010,2011,2012,2013,2014), each =
> > > 8760), d
=
> > > rep(c(1:365,1:365,1:365,1:365,1:365),each=24),
> > >       h = rep(c(1:24,1:24,1:24,1:24,1:24),365), ws = "NA")
> > > > head(df2)
> > >       y      d    h   ws
> > > 1  2010  1    1   NA
> > > 2  2010  1    2   NA
> > > 3  2010  1    3   NA
> > > 4  2010  1    4   NA
> > > 5  2010  1    5   NA
> > > 6  2010  1    6   NA
> > >
> > > What I am trying to do is combine these two dataframes so as to
> > > the
rows in
> > > df1 (based on the values of "y", "d", "h" columns) that have
> > > values exactly similar to df2's rows copied in its place in the new df (df3).
> > > For example, in the first dataframe the first row was measured at
> > > 3 o'clock on the first day of 2010 and this row must be placed on
> > > the
third
> > > row of the second dataframe which has a similar value (2010, 1, 3).
Like
> > > the below
> > > table:
> > >       y      d    h   ws
> > > 1  2010  1    1   NA
> > > 2  2010  1    2   NA
> > > 3  2010  1    3   20.71488
> > > 4  2010  1    4   NA
> > > 5  2010  1    5   NA
> > > 6  2010  1    6   19.70125
> > >
> > > But regarding the values of the "ws" column for df2 that do not
> > > have
value
> > > (at 4 and 5 o'clock), I need to interpolate between the before and
after
> > > values to fill in the missing data of the "ws".
> > > I have tried the following codes but they did not work correctly.
> > >
> > > > df3 = merge(df1, df2, by = "y")
> > > Error: cannot allocate vector of size 487.9 Mb or
> > > > library(dplyr)
> > > > df3<- df1%>% full_join(df2)
> > >
> > >
> > > Is there any way to do this?
> > > Sincerely
> > >
> > >
> > >
> > >
> > >
> > > --
> > > Best Regards
> > > Javad Bayat
> > > M.Sc. Environment Engineering
> > > Alternative Mail: bayat194 at yahoo.com
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >
> > >
> https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat
> .et%2F&amp;data=05%7C01%7C%7C22d32a92ea5f4aa85d3208da8c04dc0f%7Cfcb2b3
> 7b5da0466b9b830014b67a7c78%7C0%7C0%7C637976250192968351%7CUnknown%7CTW
> FpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6
> Mn0%3D%7C2000%7C%7C%7C&amp;sdata=VR%2BQtSTNThYD2qRH%2FujMJvoAmSkj8ZWb6
> 9lQC4MNMGg%3D&amp;reserved=0
> hz.ch%2Fmailman%2Flistinfo%2Fr-
> help&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc23d90
> 8da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6379
> 75232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&a
> mp;sdata=WigJVAmdLn%2FK7ZtJq28%2Buv4aDmUjNXu6QPabdt5h2iQ%3D&a
> mp;reserved=0
> > > PLEASE do read the posting guide
> > >
> https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r
> -%2F&amp;data=05%7C01%7C%7C22d32a92ea5f4aa85d3208da8c04dc0f%7Cfcb2b37b
> 5da0466b9b830014b67a7c78%7C0%7C0%7C637976250192968351%7CUnknown%7CTWFp
> bGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn
> 0%3D%7C2000%7C%7C%7C&amp;sdata=uAnoH%2BHi6aSg1mgtr7PBByegKlvksUnANfT2N
> BFpuSM%3D&amp;reserved=0
> project.org%2Fposting-
> guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%7C9e63e590cb834ddc
> 23d908da8b1802e2%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7
> C637975232519465332%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%
> 7C&amp;sdata=m1VCPBpnYy%2FwqlOuf5froUVEMBDJKwDuAWS4cFNx1wI%3
> D&amp;reserved=0
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> >
> > --
> > Best Regards
> > Javad Bayat
> > M.Sc. Environment Engineering
> > Alternative Mail: bayat194 at yahoo.com
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst
> > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7C%7C22d32
> > a92ea5f4aa85d3208da8c04dc0f%7Cfcb2b37b5da0466b9b830014b67a7c78%7C0%7
> > C0%7C637976250192968351%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAi
> > LCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&amp;s
> > data=aOg9DevOR31NX4GBBOMN%2Bk6uOCUMDXzSv%2B968vc2QG8%3D&amp;reserved
> > =0 PLEASE do read the posting guide
> > https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww
> > .r-project.org%2Fposting-&amp;data=05%7C01%7C%7C22d32a92ea5f4aa85d32
> > 08da8c04dc0f%7Cfcb2b37b5da0466b9b830014b67a7c78%7C0%7C0%7C6379762501
> > 92968351%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzI
> > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&amp;sdata=u1nQCr5eWi
> > 0zuXzen4C0CW4YSs8hXvmhepAVkD3We44%3D&amp;reserved=0
> guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7C%7C22d32a92e
> a5f4aa85d3208da8c04dc0f%7Cfcb2b37b5da0466b9b830014b67a7c78%7C0%7C0%7C6
> 37976250192968351%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoi
> V2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&amp;sdata=aOg9D
> evOR31NX4GBBOMN%2Bk6uOCUMDXzSv%2B968vc2QG8%3D&amp;reserved=0
> PLEASE do read the posting guide
https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7C%7C22d32a92ea5f4aa85d3208da8c04dc0f%7Cfcb2b37b5da0466b9b830014b67a7c78%7C0%7C0%7C637976250192968351%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C2000%7C%7C%7C&amp;sdata=zVgeOMKCYAFRaqqzUot0blLwXk%2FSgROm2qbmJu4hqFQ%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.
________________________________

The information contained in this e-mail is for the excl...{{dropped:9}}


From bgunter@4567 @end|ng |rom gm@||@com  Sat Sep  3 10:22:59 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 3 Sep 2022 01:22:59 -0700
Subject: [R] 
 stunning matrix multiplication differences Matrix vs. matrix
In-Reply-To: <2941249.iZASKD2KPV@ghpc>
References: <2941249.iZASKD2KPV@ghpc>
Message-ID: <CAGxFJbQZNRqXH-Xak_CMj9xrFcvU1YOF8VqFqXxA-2ytuBhzhA@mail.gmail.com>

FAQ 7.31 ?
Your matrices have about 9*10e8 entries after all.

I know almost nothing about the Matrix package, but what does
crossprod(RHS, Z) %*% RHS give for the two versions of Z = M and MM
(assuming Matrix:::crossprod S4 method works here)?
Hopefully a knowledgeable Matrix user will correct me if this is wrong.

Cheers,
Bert




On Fri, Sep 2, 2022 at 3:23 PM Karl May <karl.may0 at freenet.de> wrote:
>
> Hi all,
>
> can somebody help me out with an explanation of this:
>
> > class(M);class(MM);class(RHS)
> [1] "dgCMatrix"
> attr(,"package")
> [1] "Matrix"
> [1] "matrix" "array"
> [1] "dgeMatrix"
> attr(,"package")
> [1] "Matrix"
> > dim(M);dim(MM);dim(RHS)
> [1] 29418 29418
> [1] 29418 29418
> [1] 29418     1
> > max(abs(M-MM))
> [1] 0
> > t(RHS)%*%M%*%RHS
> 1 x 1 Matrix of class "dgeMatrix"
>          [,1]
> [1,] 7264.878
> > t(RHS)%*%MM%*%RHS
> 1 x 1 Matrix of class "dgeMatrix"
>          [,1]
> [1,] 5765.366
> >
>
> Apparently the two matrices "M" and "MM" are entirely identical but the
> difference in results from multiplying both with the same matrix is, say,
> significant.
>
> Even when I transfer M into "matrix" and then back into "Matrix" the
> differences remain:
>
> > M <- as.matrix(M)
> > t(RHS)%*%M%*%RHS
> 1 x 1 Matrix of class "dgeMatrix"
>          [,1]
> [1,] 5765.366
> > M <- Matrix(M)
> > t(RHS)%*%M%*%RHS
> 1 x 1 Matrix of class "dgeMatrix"
>          [,1]
> [1,] 7264.878
> >
>
> Frankly, I have no clue what's going on!!
>
> This is the session info:
>
> > sessionInfo()
> R version 4.1.3 (2022-03-10)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Arch Linux
> BLAS/LAPACK: /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so
>
>  [1] LC_CTYPE=en_AU.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=C                  LC_COLLATE=en_AU.UTF-8
>  [5] LC_MONETARY=en_AU.UTF-8    LC_MESSAGES=en_AU.UTF-8
>  [7] LC_PAPER=en_AU.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_AU.UTF-8 LC_IDENTIFICATION=C
>
> [1] graphics  grDevices datasets  stats     utils     parallel  methods
> [8] base
> [1] pedigreemm_0.3-3  lme4_1.1-28       Matrix_1.4-0      bit64_4.0.5
> [5] bit_4.0.4         data.table_1.14.2
>
> loaded via a namespace (and not attached):
>  [1] Rcpp_1.0.8      lattice_0.20-45 MASS_7.3-55     grid_4.1.3
>  [5] nlme_3.1-155    minqa_1.2.4     nloptr_2.0.0    boot_1.3-28
>  [9] splines_4.1.3   tools_4.1.3     compiler_4.1.3
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From t@n@@@ @end|ng |rom gm@||@com  Sun Sep  4 00:39:11 2022
From: t@n@@@ @end|ng |rom gm@||@com (Bogdan Tanasa)
Date: Sat, 3 Sep 2022 15:39:11 -0700
Subject: [R] confidence intervals
In-Reply-To: <BN6PR2201MB1553E6071C9A5CE6769BD45CCF769@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <CA+JEM01f88pCikn6gwr20vHx_KgQ7Tnik98hYuzZPcVF1H5k0Q@mail.gmail.com>
 <61194db7-dcd5-5de0-262d-dc5843490192@comcast.net>
 <CA+JEM0234ij2_4CUY_xC5CkxdFqbe_qZvdMTM9tNvjq52pTU3A@mail.gmail.com>
 <BN6PR2201MB1553E6071C9A5CE6769BD45CCF769@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <CA+JEM01GyAtiXFHi0Xfevhhe+qsSYogbeUxaFwYFLVYf0R=tJQ@mail.gmail.com>

Dear Aaron, David, and everyone,

Thank you again for your comments on my question related to the confidence
intervals. I am sorry for the late reply.

The definition of the 95 confidence intervals where our discussion
originates from has been proposed by the authors of these two articles (I
am including the links to the articles just to show that the formula has
been published in a methods article a while ago; the articles are in the
field of biology though, where not too many of you are part of, I guess).
These authors have written the scripts and they have made those available
on github. I have asked a while ago the authors why they have chosen this
formula, however, I have not received any reply. In any case, at this
moment I will use the mathematical formulas described in the articles :

https://www.cell.com/molecular-cell/fulltext/S1097-2765(15)00304-4

https://www.nature.com/articles/s41596-019-0218-7

Wishing everyone a good weekend,

Bogdan



On Sun, Aug 28, 2022 at 6:53 PM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

> I have a general dislike of "analysis emergencies." I would like to see a
> data emergency wherein someone must cram 3 years of data collection into 18
> months so that they have time to work out the correct analysis. I am sure
> others would suggest working out how analyze the data before starting the
> experiment.
>
> Our business office gives this advice to faculty members: An emergency on
> your part is not an emergency on our part.
>
> How about starting by answering the questions posted by the people you are
> hoping will help. Focus on David's middle paragraph. However, if you can
> re-code everything to work, then it would seem that you already know the
> answer and it might be simpler/faster to write the correct code.
>
> You might spend some time looking for a scientific paper that uses that
> equation for the confidence interval and thereby get some context to
> explain why the equation is correct.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bogdan Tanasa
> Sent: Sunday, August 28, 2022 8:55 PM
> To: David Winsemius <dwinsemius at comcast.net>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] confidence intervals
>
> [External Email]
>
> Hi David,
>
> Thank you for your comments, and feed-back message. I am very happy to
> learn from the experience of the people on R mailing list, and without any
> doubt, I am very thankful to you and to everyone for sharing their
> knowledge. I do apologize for any confusion that I have created unwillingly
> with my previous email.
>
> About my previous email related to the confidence intervals: indeed I have
> posted the question with a detailed description on stackoverflow, and the
> link is listed below.
>
> I have to admit that I have been in rush willing to have the suggestions
> of R-help members by Monday (if that would have been possible), as I have
> to make a decision at the beginning of this week on whether I need to
> re-code the shell script in R. I have a deadline on Wed. The script itself
> is less important per se, I have included it just to point our the origin
> of my question.
>
> I do certainly respect the principles of online R-help community, and I
> would very much appreciate if I could have your advice on the following :
> shall a "R code related emergency" arise, would it be acceptable to post
> the question on stackoverflow with the corresponding data tables and
> detailed code, and to refer the posting on R-help mailing list ?
>
> If it is acceptable at least for a single email, and if you do not mind, I
> could mention the link to stackoverflow, inviting our members to read it,
> shall they be comfortable with this topic.
>
>
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F73507697%2Fconfidence-intervals-of-a-biological-assay%3Fnoredirect%3D1%23comment129816241_73507697&amp;data=05%7C01%7Ctebert%40ufl.edu%7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637973313343894313%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=8sF7j4OCgH12qx4d8NCiw1%2FDbPa6nrui27S9C3ZNuL0%3D&amp;reserved=0
>
> Thanks a lot, have  a good week !
>
> ~ Bogdan
>
>
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F73507697%2Fconfidence-intervals-of-a-biological-assay%3Fnoredirect%3D1%23comment129816241_73507697&amp;data=05%7C01%7Ctebert%40ufl.edu%7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637973313343894313%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=8sF7j4OCgH12qx4d8NCiw1%2FDbPa6nrui27S9C3ZNuL0%3D&amp;reserved=0
>
> On Sat, Aug 27, 2022, 6:52 PM David Winsemius <dwinsemius at comcast.net>
> wrote:
>
> > You cross-posted this to StackOverflow and did not say so.  ... and
> > you posted in HTML Bad dog squared. I cast one of the close votes on
> > SO, but here I can only say ... READ the Posting Guide.
> >
> > You also give no citation other than someone's Github files with
> > minimal comments in that material. You should indicate whether this
> > code has any solid support. Why do you think this code is something to
> depend upon?
> >
> > After all, you been posting questions on R-help for several months.
> > Don't you think you should make a good faith effort to understand the
> > principles underlying this resource?
> >
> >
> > --
> >
> > David.
> >
> > On 8/26/22 17:55, Bogdan Tanasa wrote:
> > > Dear all,
> > >
> > > Although I know that it is not a statistics mailing list, given my
> > > work
> > on
> > > ICeChIP
> > >
> > >
> > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgith
> > ub.com%2Fshah-rohan%2Ficechip%2Fblob%2Fmaster%2FScripts%2FcomputeHMDan
> > dError&amp;data=05%7C01%7Ctebert%40ufl.edu%7C0ba5d535471b46c05ec508da8
> > 9592c20%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C63797331334389431
> > 3%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6
> > Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=9HOH72K0Lj30w7tE%2BMN
> > oXakPbO1sasaujUTsnHFwDZo%3D&amp;reserved=0
> > >
> > > I would appreciate to have the answer to a question :
> > >
> > > given two variables a and b (a and b can have 1000 paired-values)
> > > and a calibration number "cal",
> > >
> > > why the 95 confidence interval has been calculated as such for each
> > > value
> > > a(i) and b(i) :
> > >
> > > 100 / cal * sqrt (( a/ (b^2) + (a^2) / (b ^3)) * 1.96
> > >
> > > Thank you,
> > >
> > > Bogdan
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst
> > > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ctebert%4
> > > 0ufl.edu%7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a
> > > 62331e1b84%7C0%7C0%7C637973313344050547%7CUnknown%7CTWFpbGZsb3d8eyJW
> > > IjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C300
> > > 0%7C%7C%7C&amp;sdata=KfmZ6PvxUVrbCMzVZcz6S2H2sqfWQmw2WIZHERwKDEk%3D&
> > > amp;reserved=0
> > > PLEASE do read the posting guide
> > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r
> > -project.org%2Fposting-guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%
> > 7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a62331e1b84%
> > 7C0%7C0%7C637973313344050547%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwM
> > DAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;
> > sdata=127HvzZh7q9Xa7LaESHIEXIy3CdmUyQ3cxAVeOA%2Bukg%3D&amp;reserved=0
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=05%7C01%7Ctebert%40ufl.edu%7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637973313344050547%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=KfmZ6PvxUVrbCMzVZcz6S2H2sqfWQmw2WIZHERwKDEk%3D&amp;reserved=0
> PLEASE do read the posting guide
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=05%7C01%7Ctebert%40ufl.edu%7C0ba5d535471b46c05ec508da89592c20%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C637973313344050547%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=127HvzZh7q9Xa7LaESHIEXIy3CdmUyQ3cxAVeOA%2Bukg%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From me @end|ng |rom n@nx@me  Fri Sep  2 19:27:34 2022
From: me @end|ng |rom n@nx@me (Nan Xiao)
Date: Fri, 02 Sep 2022 13:27:34 -0400
Subject: [R] [R-pkgs] pkglite 0.2.1 is released
Message-ID: <472c1447-c521-4b9b-8274-321a602b56c9@www.fastmail.com>

Dear all,

A new version of pkglite (0.2.1) is now on CRAN (https://cran.r-project.org/package=pkglite). pkglite offers a tool, grammar, and standard to represent and exchange R package source code as text files.

This version brings expanded coverage of file types (before: 88.85%, after: 96.65%, tested among all files in all CRAN packages), fewer dependencies, and more low-level enhancements. Please see the changelog (https://merck.github.io/pkglite/news/) for details.

Thanks,
-Nan

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From @erv|ce @end|ng |rom @hd@w@on@com  Sun Sep  4 18:14:23 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sun, 4 Sep 2022 12:14:23 -0400
Subject: [R] Error Running arules
In-Reply-To: <3b0840dc-f414-0666-9fb2-c95ce9ebc0e0@shdawson.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
 <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
 <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>
 <3b0840dc-f414-0666-9fb2-c95ce9ebc0e0@shdawson.com>
Message-ID: <36e20317-dac8-f238-55e9-037300d02663@shdawson.com>

I contacted the arules package maintainer.

He concluded the syntax I submitted to this original post is correct. 
The problem he estimates is a version mismatch within my R packages, 
although all packages I am using come from R repositories. Specifically, 
something is off on the r-base version I am running.

I will remove all of R from my box and look to other repositories.


*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 9/2/22 12:50, Stephen H. Dawson, DSL via R-help wrote:
> Go it, thanks.
>
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
>
>
> On 9/2/22 12:46, Bert Gunter wrote:
>> 1. I told you essentially everything there is to know.
>> 2. Chapter 13.3 of "An Introduction to R" on 'namespaces'.
>> 3. Search on "masking in R"
>>
>> Bert
>>
>> On Fri, Sep 2, 2022 at 9:01 AM Stephen H. Dawson, DSL
>> <service at shdawson.com> wrote:
>>> Bert,
>>> Thanks for the guidance. Do you have a documentation URL I can 
>>> review to
>>> research your suggestion?
>>>
>>> Ivan,
>>> Thanks for the guidance. The traceback() revealed the same results that
>>> I shared originally.
>>>
>>> This is a bigger problem than coding a command set to run against data.
>>> It does seem like a version problem with arules or how it leverages
>>> r-base. I will go to arules maintainer for further guidance.
>>>
>>>
>>> Kindest Regards,
>>> *Stephen Dawson, DSL*
>>> /Executive Strategy Consultant/
>>> Business & Technology
>>> +1 (865) 804-3454
>>> http://www.shdawson.com
>>>
>>>
>>> On 9/2/22 03:09, Ivan Krylov wrote:
>>>> ? Thu, 1 Sep 2022 11:45:15 -0400
>>>> "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
>>>>
>>>>> Error in eval(ei, envir) : object 'Insert' not found
>>>> traceback() is invaluable when debugging errors like this.
>>>>
>>>> It might be a bug in one of the packages you're running. You might end
>>>> up having to contact the maintainer (see the maintainer() function) of
>>>> one of them to have it fixed.
>>>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Sep  4 20:19:19 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 4 Sep 2022 19:19:19 +0100
Subject: [R] Error Running arules
In-Reply-To: <36e20317-dac8-f238-55e9-037300d02663@shdawson.com>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
 <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
 <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>
 <3b0840dc-f414-0666-9fb2-c95ce9ebc0e0@shdawson.com>
 <36e20317-dac8-f238-55e9-037300d02663@shdawson.com>
Message-ID: <398893a5-5afb-f1dc-ef7f-5bd9e18a4add@sapo.pt>

Hello,

Before removing all of R, why not run

update.packages()

?

Hope this helps,

Rui Barradas

?s 17:14 de 04/09/2022, Stephen H. Dawson, DSL via R-help escreveu:
> I contacted the arules package maintainer.
> 
> He concluded the syntax I submitted to this original post is correct. 
> The problem he estimates is a version mismatch within my R packages, 
> although all packages I am using come from R repositories. Specifically, 
> something is off on the r-base version I am running.
> 
> I will remove all of R from my box and look to other repositories.
> 
> 
> *Stephen Dawson, DSL*
> /Executive Strategy Consultant/
> Business & Technology
> +1 (865) 804-3454
> http://www.shdawson.com
> 
> 
> On 9/2/22 12:50, Stephen H. Dawson, DSL via R-help wrote:
>> Go it, thanks.
>>
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>>
>> On 9/2/22 12:46, Bert Gunter wrote:
>>> 1. I told you essentially everything there is to know.
>>> 2. Chapter 13.3 of "An Introduction to R" on 'namespaces'.
>>> 3. Search on "masking in R"
>>>
>>> Bert
>>>
>>> On Fri, Sep 2, 2022 at 9:01 AM Stephen H. Dawson, DSL
>>> <service at shdawson.com> wrote:
>>>> Bert,
>>>> Thanks for the guidance. Do you have a documentation URL I can 
>>>> review to
>>>> research your suggestion?
>>>>
>>>> Ivan,
>>>> Thanks for the guidance. The traceback() revealed the same results that
>>>> I shared originally.
>>>>
>>>> This is a bigger problem than coding a command set to run against data.
>>>> It does seem like a version problem with arules or how it leverages
>>>> r-base. I will go to arules maintainer for further guidance.
>>>>
>>>>
>>>> Kindest Regards,
>>>> *Stephen Dawson, DSL*
>>>> /Executive Strategy Consultant/
>>>> Business & Technology
>>>> +1 (865) 804-3454
>>>> http://www.shdawson.com
>>>>
>>>>
>>>> On 9/2/22 03:09, Ivan Krylov wrote:
>>>>> ? Thu, 1 Sep 2022 11:45:15 -0400
>>>>> "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
>>>>>
>>>>>> Error in eval(ei, envir) : object 'Insert' not found
>>>>> traceback() is invaluable when debugging errors like this.
>>>>>
>>>>> It might be a bug in one of the packages you're running. You might end
>>>>> up having to contact the maintainer (see the maintainer() function) of
>>>>> one of them to have it fixed.
>>>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @erv|ce @end|ng |rom @hd@w@on@com  Sun Sep  4 20:29:38 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Sun, 4 Sep 2022 14:29:38 -0400
Subject: [R] Error Running arules
In-Reply-To: <398893a5-5afb-f1dc-ef7f-5bd9e18a4add@sapo.pt>
References: <6a9b48c4-dbb3-2996-da5c-c11893531454@shdawson.com>
 <20220902090806.5a978489@parabola>
 <b999a04b-3b63-ef76-174f-66a870012fca@shdawson.com>
 <CAGxFJbS1f+FZWZ=N==1HT4yb8xBADtAqy3vdOW9A9aiAeyskeA@mail.gmail.com>
 <3b0840dc-f414-0666-9fb2-c95ce9ebc0e0@shdawson.com>
 <36e20317-dac8-f238-55e9-037300d02663@shdawson.com>
 <398893a5-5afb-f1dc-ef7f-5bd9e18a4add@sapo.pt>
Message-ID: <dcc7b0b2-a272-1510-24d2-43dc51955112@shdawson.com>

Thought about it.

The arules maintainer said to remove and reinstall.

I am not a huge fan of having apps in my home directory.

Oddly, I had to wait for r-base to update to 4.2 as it is a requirement 
of arules.

I went with my distribution's repository for all things R. Then, I went 
for CRAN repository when I could not get r-base at 4.2 from my 
distribution's repository. I am thinking this could be where things got off.

Frankly, I cannot believe things are off. If the primary repository 
shoots me r-base 4.2, cloud.r-project.org got me arules, and the arules 
maintainer says nothing about a particular version of r-base beyond 4.2 
as prompted by arules, then I am wondering if I am about to spend time 
on this versioning effort for nothing.

stephen at LENOVO-SSD ~/Desktop $ grep ^[^#] /etc/apt/sources.list 
/etc/apt/sources.list.d/*
/etc/apt/sources.list.d/additional-repositories.list:deb 
https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/
/etc/apt/sources.list.d/c2d4u_team-c2d4u4_0_-jammy.list:deb 
http://ppa.launchpad.net/c2d4u.team/c2d4u4.0+/ubuntu jammy main
/etc/apt/sources.list.d/google-chrome.list:deb [arch=amd64] 
https://dl.google.com/linux/chrome/deb/ stable main
/etc/apt/sources.list.d/official-package-repositories.list:deb 
http://packages.linuxmint.com vanessa main upstream import backport 
#id:linuxmint_main
/etc/apt/sources.list.d/official-package-repositories.list:deb 
http://archive.ubuntu.com/ubuntu jammy main restricted universe multiverse
/etc/apt/sources.list.d/official-package-repositories.list:deb 
http://archive.ubuntu.com/ubuntu jammy-updates main restricted universe 
multiverse
/etc/apt/sources.list.d/official-package-repositories.list:deb 
http://archive.ubuntu.com/ubuntu jammy-backports main restricted 
universe multiverse
/etc/apt/sources.list.d/official-package-repositories.list:deb 
http://security.ubuntu.com/ubuntu/ jammy-security main restricted 
universe multiverse
/etc/apt/sources.list.d/skype-stable.list:deb [arch=amd64] 
https://repo.skype.com/deb stable main
/etc/apt/sources.list.d/teams.list:deb [arch=amd64] 
https://packages.microsoft.com/repos/ms-teams stable main
stephen at LENOVO-SSD ~/Desktop $

stephen at LENOVO-SSD ~/Desktop $ cat /etc/linuxmint/info
RELEASE=21
CODENAME=vanessa
EDITION="Cinnamon"
DESCRIPTION="Linux Mint 21 Vanessa"
DESKTOP=Gnome
TOOLKIT=GTK
NEW_FEATURES_URL=https://www.linuxmint.com/rel_vanessa_cinnamon_whatsnew.php
RELEASE_NOTES_URL=https://www.linuxmint.com/rel_vanessa_cinnamon.php
USER_GUIDE_URL=https://www.linuxmint.com/documentation.php
GRUB_TITLE=Linux Mint 21 Cinnamon
stephen at LENOVO-SSD ~/Desktop $ uname -a
Linux LENOVO-SSD 5.15.0-47-generic #51-Ubuntu SMP Thu Aug 11 07:51:15 
UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
stephen at LENOVO-SSD ~/Desktop $


I know I am not looking forward to this rinse-and-repeat exercise of 
building the box for R again.


*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com


On 9/4/22 14:19, Rui Barradas wrote:
> Hello,
>
> Before removing all of R, why not run
>
> update.packages()
>
> ?
>
> Hope this helps,
>
> Rui Barradas
>
> ?s 17:14 de 04/09/2022, Stephen H. Dawson, DSL via R-help escreveu:
>> I contacted the arules package maintainer.
>>
>> He concluded the syntax I submitted to this original post is correct. 
>> The problem he estimates is a version mismatch within my R packages, 
>> although all packages I am using come from R repositories. 
>> Specifically, something is off on the r-base version I am running.
>>
>> I will remove all of R from my box and look to other repositories.
>>
>>
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>>
>> On 9/2/22 12:50, Stephen H. Dawson, DSL via R-help wrote:
>>> Go it, thanks.
>>>
>>> *Stephen Dawson, DSL*
>>> /Executive Strategy Consultant/
>>> Business & Technology
>>> +1 (865) 804-3454
>>> http://www.shdawson.com
>>>
>>>
>>> On 9/2/22 12:46, Bert Gunter wrote:
>>>> 1. I told you essentially everything there is to know.
>>>> 2. Chapter 13.3 of "An Introduction to R" on 'namespaces'.
>>>> 3. Search on "masking in R"
>>>>
>>>> Bert
>>>>
>>>> On Fri, Sep 2, 2022 at 9:01 AM Stephen H. Dawson, DSL
>>>> <service at shdawson.com> wrote:
>>>>> Bert,
>>>>> Thanks for the guidance. Do you have a documentation URL I can 
>>>>> review to
>>>>> research your suggestion?
>>>>>
>>>>> Ivan,
>>>>> Thanks for the guidance. The traceback() revealed the same results 
>>>>> that
>>>>> I shared originally.
>>>>>
>>>>> This is a bigger problem than coding a command set to run against 
>>>>> data.
>>>>> It does seem like a version problem with arules or how it leverages
>>>>> r-base. I will go to arules maintainer for further guidance.
>>>>>
>>>>>
>>>>> Kindest Regards,
>>>>> *Stephen Dawson, DSL*
>>>>> /Executive Strategy Consultant/
>>>>> Business & Technology
>>>>> +1 (865) 804-3454
>>>>> http://www.shdawson.com
>>>>>
>>>>>
>>>>> On 9/2/22 03:09, Ivan Krylov wrote:
>>>>>> ? Thu, 1 Sep 2022 11:45:15 -0400
>>>>>> "Stephen H. Dawson, DSL via R-help" <r-help at r-project.org> ?????:
>>>>>>
>>>>>>> Error in eval(ei, envir) : object 'Insert' not found
>>>>>> traceback() is invaluable when debugging errors like this.
>>>>>>
>>>>>> It might be a bug in one of the packages you're running. You 
>>>>>> might end
>>>>>> up having to contact the maintainer (see the maintainer() 
>>>>>> function) of
>>>>>> one of them to have it fixed.
>>>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


