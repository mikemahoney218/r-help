From |kry|ov @end|ng |rom d|@root@org  Thu Aug  1 18:06:28 2024
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Thu, 1 Aug 2024 19:06:28 +0300
Subject: [R] 
 Difference between stats.steps() and MuMIn.dredge() to select
 best fit model
In-Reply-To: <ff2e607efd2c1093cfa0f6c42a37df3e@posteo.de>
References: <ff2e607efd2c1093cfa0f6c42a37df3e@posteo.de>
Message-ID: <20240801190628.5a34acb5@arachnoid>

? Wed, 31 Jul 2024 11:56:55 +0000
c.buhtz at posteo.jp ?????:

> step() explore the model space with a step wise approach.
> And dredge() try out all possible combinations of the variables.
>
> But isn't that the same? I might have a mental block on this.
> 
> Which model (formula) would dredge() "test" that step() wouldn't?`

Suppose that the predictors a, b, c, d, e, f are arranged in the
descending order of contribution to the model.

Consider a forward stepwise algorithm that is asked to choose three
variables.

It starts by testing a, b, c, d, e, f, and chooses a.

It continues by testing a + b, a + c, a + d, a + e, a + f, and chooses
a + b.

It continues by testing a + b + c, a + b + d, a + b + e, a + b + f, and
chooses a + b + c.

By being greedy, it doesn't consider, for example, the model d + e + f,
because for that it would have to pick d before a.

A greedy algorithm for K variables out N tests N + (N-1) + ... +
(N-K+1) = N*K - K(K-1)/2 models. An exhaustive search would have to test
choose(N,K) = N!/(N-K)!/K! models.

-- 
Best regards,
Ivan


From phii m@iii@g oii phiiipsmith@c@  Thu Aug  1 20:01:56 2024
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Thu, 01 Aug 2024 14:01:56 -0400
Subject: [R] R facets including two kinds of charts
Message-ID: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>

I am asking for help with a ggplot2 program that has facets. There are 
actually 100 facets in my program, but in the example below I have 
limited the number to 3. There are two kinds of charts among the facets. 
One kind is a simple line plot with all of the y-values greater than 
zero. The facet for "A" in my example below is this kind. The other kind 
is a line plot combined with a bar chart with some of the y-values being 
positive and others negative. The facets for "B" and "C" in my example 
are this kind.

The facets for "B" and "C" look the way I want them to. However the 
facet for "A" has a scale on the y-axis that starts at zero, whereas I 
would like the minimum value on this scale to be non-zero, chosen by 
ggplot2 to be closer to the minimum value of y for that particular 
facet.

My example may not be the most efficient way to achieve this, but it 
works except for one aspect. Chart A, for which I do not wish to show a 
zero line, does indeed not show a zero line but it nevertheless chooses 
a scale for the y-axis that has a minimum value of zero. How can I 
adjust the code so that it chooses a minimum value on the y-axis that is 
non-zero and closer to the minimum actual y-value (as would be the case 
for a simple line chart alone, without any facets)?

library(ggplot2)
library(dplyr)

df <- data.frame(
   date=c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6),
   
nm=c("A","B","C","A","B","C","A","B","C","A","B","C","A","B","C","A","B","C"),
   val0=c(NA,-5,4,NA,-3,3,NA,2,4,NA,3,3,NA,3,1,NA,-3,-4),
   val1=c(NA,-3,6,NA,-1,4,NA,5,5,NA,7,2,NA,4,3,NA,-2,-2),
   val2=c(50,NA,NA,53,NA,NA,62,NA,NA,56,NA,NA,54,NA,NA,61,NA,NA),
   zline=c(NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0)
)

ggplot(df)+
   geom_col(aes(x=date,y=val0),na.rm=TRUE,fill="white")+
   geom_line(aes(x=date,y=val1))+
   geom_line(aes(x=date,y=val2))+
   geom_hline(aes(yintercept=zline),na.rm=TRUE)+
   facet_wrap(~nm,scales="free_y")

Thank you for your assistance.

Philip


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Aug  1 21:08:07 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Aug 2024 20:08:07 +0100
Subject: [R] R facets including two kinds of charts
In-Reply-To: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>
References: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>
Message-ID: <88456aba-8474-44be-af47-287305301f7e@sapo.pt>

?s 19:01 de 01/08/2024, phil at philipsmith.ca escreveu:
> I am asking for help with a ggplot2 program that has facets. There are 
> actually 100 facets in my program, but in the example below I have 
> limited the number to 3. There are two kinds of charts among the facets. 
> One kind is a simple line plot with all of the y-values greater than 
> zero. The facet for "A" in my example below is this kind. The other kind 
> is a line plot combined with a bar chart with some of the y-values being 
> positive and others negative. The facets for "B" and "C" in my example 
> are this kind.
> 
> The facets for "B" and "C" look the way I want them to. However the 
> facet for "A" has a scale on the y-axis that starts at zero, whereas I 
> would like the minimum value on this scale to be non-zero, chosen by 
> ggplot2 to be closer to the minimum value of y for that particular facet.
> 
> My example may not be the most efficient way to achieve this, but it 
> works except for one aspect. Chart A, for which I do not wish to show a 
> zero line, does indeed not show a zero line but it nevertheless chooses 
> a scale for the y-axis that has a minimum value of zero. How can I 
> adjust the code so that it chooses a minimum value on the y-axis that is 
> non-zero and closer to the minimum actual y-value (as would be the case 
> for a simple line chart alone, without any facets)?
> 
> library(ggplot2)
> library(dplyr)
> 
> df <- data.frame(
>  ? date=c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6),
> nm=c("A","B","C","A","B","C","A","B","C","A","B","C","A","B","C","A","B","C"),
>  ? val0=c(NA,-5,4,NA,-3,3,NA,2,4,NA,3,3,NA,3,1,NA,-3,-4),
>  ? val1=c(NA,-3,6,NA,-1,4,NA,5,5,NA,7,2,NA,4,3,NA,-2,-2),
>  ? val2=c(50,NA,NA,53,NA,NA,62,NA,NA,56,NA,NA,54,NA,NA,61,NA,NA),
>  ? zline=c(NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0)
> )
> 
> ggplot(df)+
>  ? geom_col(aes(x=date,y=val0),na.rm=TRUE,fill="white")+
>  ? geom_line(aes(x=date,y=val1))+
>  ? geom_line(aes(x=date,y=val2))+
>  ? geom_hline(aes(yintercept=zline),na.rm=TRUE)+
>  ? facet_wrap(~nm,scales="free_y")
> 
> Thank you for your assistance.
> 
> Philip
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Try to remove

scales="free_y"

from facet_wrap(). With scales="free_y" each facet will have its own y 
limits, given by the data plotted in each of them. If you want a global 
y limits, don't use it.

Hope this helps,

Rui Barradas




-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From phii m@iii@g oii phiiipsmith@c@  Thu Aug  1 21:10:35 2024
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Thu, 01 Aug 2024 15:10:35 -0400
Subject: [R] R facets including two kinds of charts
In-Reply-To: <88456aba-8474-44be-af47-287305301f7e@sapo.pt>
References: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>
 <88456aba-8474-44be-af47-287305301f7e@sapo.pt>
Message-ID: <5818e5e4b18a77b959a8ca3b23ef393d@philipsmith.ca>

Thanks for the suggestion, but this does not give me what I want. Each 
chart needs its own unique scale on the y-axis.

Philip


On 2024-08-01 15:08, Rui Barradas wrote:
> ?s 19:01 de 01/08/2024, phil at philipsmith.ca escreveu:
>> I am asking for help with a ggplot2 program that has facets. There are 
>> actually 100 facets in my program, but in the example below I have 
>> limited the number to 3. There are two kinds of charts among the 
>> facets. One kind is a simple line plot with all of the y-values 
>> greater than zero. The facet for "A" in my example below is this kind. 
>> The other kind is a line plot combined with a bar chart with some of 
>> the y-values being positive and others negative. The facets for "B" 
>> and "C" in my example are this kind.
>> 
>> The facets for "B" and "C" look the way I want them to. However the 
>> facet for "A" has a scale on the y-axis that starts at zero, whereas I 
>> would like the minimum value on this scale to be non-zero, chosen by 
>> ggplot2 to be closer to the minimum value of y for that particular 
>> facet.
>> 
>> My example may not be the most efficient way to achieve this, but it 
>> works except for one aspect. Chart A, for which I do not wish to show 
>> a zero line, does indeed not show a zero line but it nevertheless 
>> chooses a scale for the y-axis that has a minimum value of zero. How 
>> can I adjust the code so that it chooses a minimum value on the y-axis 
>> that is non-zero and closer to the minimum actual y-value (as would be 
>> the case for a simple line chart alone, without any facets)?
>> 
>> library(ggplot2)
>> library(dplyr)
>> 
>> df <- data.frame(
>>  ? date=c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6),
>> nm=c("A","B","C","A","B","C","A","B","C","A","B","C","A","B","C","A","B","C"),
>>  ? val0=c(NA,-5,4,NA,-3,3,NA,2,4,NA,3,3,NA,3,1,NA,-3,-4),
>>  ? val1=c(NA,-3,6,NA,-1,4,NA,5,5,NA,7,2,NA,4,3,NA,-2,-2),
>>  ? val2=c(50,NA,NA,53,NA,NA,62,NA,NA,56,NA,NA,54,NA,NA,61,NA,NA),
>>  ? zline=c(NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0)
>> )
>> 
>> ggplot(df)+
>>  ? geom_col(aes(x=date,y=val0),na.rm=TRUE,fill="white")+
>>  ? geom_line(aes(x=date,y=val1))+
>>  ? geom_line(aes(x=date,y=val2))+
>>  ? geom_hline(aes(yintercept=zline),na.rm=TRUE)+
>>  ? facet_wrap(~nm,scales="free_y")
>> 
>> Thank you for your assistance.
>> 
>> Philip
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> Try to remove
> 
> scales="free_y"
> 
> from facet_wrap(). With scales="free_y" each facet will have its own y 
> limits, given by the data plotted in each of them. If you want a global 
> y limits, don't use it.
> 
> Hope this helps,
> 
> Rui Barradas


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Aug  1 21:44:57 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Aug 2024 20:44:57 +0100
Subject: [R] R facets including two kinds of charts
In-Reply-To: <5818e5e4b18a77b959a8ca3b23ef393d@philipsmith.ca>
References: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>
 <88456aba-8474-44be-af47-287305301f7e@sapo.pt>
 <5818e5e4b18a77b959a8ca3b23ef393d@philipsmith.ca>
Message-ID: <47681136-52d9-443a-96a4-9a24df56484f@sapo.pt>

Hello,

I hadn't understood the problem, sorry.
The problem are the bar plots, ggplot is plotting one in the "A" facet. 
And since there is nothing to plot, the bars start at 0.

A hack is to plot facet "A" separately and then combine the plots with 
one of several ways to combine ggplot plots. Below is an example with 
cowplot::plot_grid


library(ggplot2)
library(dplyr)
library(cowplot)

p1 <- df %>%
   filter(nm == "A") %>%
   ggplot(aes(x = date)) +
   geom_line(aes(y = val2)) +
   facet_wrap(~ nm, scales = "free_y") +
   theme(plot.margin = unit(c(0.2, 0, 0.1, 0), "cm"))

p2 <- df %>%
   filter(nm != "A") %>%
   ggplot(aes(x = date)) +
   geom_col(aes(y = val0), na.rm = TRUE, fill = "white") +
   geom_line(aes(y = val1)) +
   ylab("") +
   facet_wrap(~ nm, scales = "free_y")

plot_grid(p1, p2, rel_widths = c(1, 2))


Hope this helps,

Rui Barradas



?s 20:10 de 01/08/2024, phil at philipsmith.ca escreveu:
> Thanks for the suggestion, but this does not give me what I want. Each 
> chart needs its own unique scale on the y-axis.
> 
> Philip
> 
> 
> On 2024-08-01 15:08, Rui Barradas wrote:
>> ?s 19:01 de 01/08/2024, phil at philipsmith.ca escreveu:
>>> I am asking for help with a ggplot2 program that has facets. There 
>>> are actually 100 facets in my program, but in the example below I 
>>> have limited the number to 3. There are two kinds of charts among the 
>>> facets. One kind is a simple line plot with all of the y-values 
>>> greater than zero. The facet for "A" in my example below is this 
>>> kind. The other kind is a line plot combined with a bar chart with 
>>> some of the y-values being positive and others negative. The facets 
>>> for "B" and "C" in my example are this kind.
>>>
>>> The facets for "B" and "C" look the way I want them to. However the 
>>> facet for "A" has a scale on the y-axis that starts at zero, whereas 
>>> I would like the minimum value on this scale to be non-zero, chosen 
>>> by ggplot2 to be closer to the minimum value of y for that particular 
>>> facet.
>>>
>>> My example may not be the most efficient way to achieve this, but it 
>>> works except for one aspect. Chart A, for which I do not wish to show 
>>> a zero line, does indeed not show a zero line but it nevertheless 
>>> chooses a scale for the y-axis that has a minimum value of zero. How 
>>> can I adjust the code so that it chooses a minimum value on the 
>>> y-axis that is non-zero and closer to the minimum actual y-value (as 
>>> would be the case for a simple line chart alone, without any facets)?
>>>
>>> library(ggplot2)
>>> library(dplyr)
>>>
>>> df <- data.frame(
>>> ?? date=c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6),
>>> nm=c("A","B","C","A","B","C","A","B","C","A","B","C","A","B","C","A","B","C"),
>>> ?? val0=c(NA,-5,4,NA,-3,3,NA,2,4,NA,3,3,NA,3,1,NA,-3,-4),
>>> ?? val1=c(NA,-3,6,NA,-1,4,NA,5,5,NA,7,2,NA,4,3,NA,-2,-2),
>>> ?? val2=c(50,NA,NA,53,NA,NA,62,NA,NA,56,NA,NA,54,NA,NA,61,NA,NA),
>>> ?? zline=c(NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0)
>>> )
>>>
>>> ggplot(df)+
>>> ?? geom_col(aes(x=date,y=val0),na.rm=TRUE,fill="white")+
>>> ?? geom_line(aes(x=date,y=val1))+
>>> ?? geom_line(aes(x=date,y=val2))+
>>> ?? geom_hline(aes(yintercept=zline),na.rm=TRUE)+
>>> ?? facet_wrap(~nm,scales="free_y")
>>>
>>> Thank you for your assistance.
>>>
>>> Philip
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> Try to remove
>>
>> scales="free_y"
>>
>> from facet_wrap(). With scales="free_y" each facet will have its own y 
>> limits, given by the data plotted in each of them. If you want a 
>> global y limits, don't use it.
>>
>> Hope this helps,
>>
>> Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From phii m@iii@g oii phiiipsmith@c@  Thu Aug  1 22:03:29 2024
From: phii m@iii@g oii phiiipsmith@c@ (phii m@iii@g oii phiiipsmith@c@)
Date: Thu, 01 Aug 2024 16:03:29 -0400
Subject: [R] R facets including two kinds of charts
In-Reply-To: <47681136-52d9-443a-96a4-9a24df56484f@sapo.pt>
References: <6b69af2baaeeaf7679053b7b9430ef08@philipsmith.ca>
 <88456aba-8474-44be-af47-287305301f7e@sapo.pt>
 <5818e5e4b18a77b959a8ca3b23ef393d@philipsmith.ca>
 <47681136-52d9-443a-96a4-9a24df56484f@sapo.pt>
Message-ID: <3a617832a1bd07c8079021ebd4adb101@philipsmith.ca>

Thank you. That approach could work and I might use it, but a 
complication is that the 100 facets must be in a specified order and 
that order mixes charts of type A and B/C in an unsystematic way. I 
suppose I could write two functions, use them to create all the plots 
and then join them together with cowplot. Or perhaps I could use 
patchwork, with which I am more familiar. I was of course hoping this 
could just be done with facets.

Incidentally this used to work fine with facets (I post the results on 
the web periodically. See 
http://www.philipsmith.ca/Canadian_macroeconomic_indicators/) but 
something must have changed in one of the packages (I'm guessing) and 
that approach suddenly stopped working.

Philip


On 2024-08-01 15:44, Rui Barradas wrote:
> Hello,
> 
> I hadn't understood the problem, sorry.
> The problem are the bar plots, ggplot is plotting one in the "A" facet. 
> And since there is nothing to plot, the bars start at 0.
> 
> A hack is to plot facet "A" separately and then combine the plots with 
> one of several ways to combine ggplot plots. Below is an example with 
> cowplot::plot_grid
> 
> 
> library(ggplot2)
> library(dplyr)
> library(cowplot)
> 
> p1 <- df %>%
>   filter(nm == "A") %>%
>   ggplot(aes(x = date)) +
>   geom_line(aes(y = val2)) +
>   facet_wrap(~ nm, scales = "free_y") +
>   theme(plot.margin = unit(c(0.2, 0, 0.1, 0), "cm"))
> 
> p2 <- df %>%
>   filter(nm != "A") %>%
>   ggplot(aes(x = date)) +
>   geom_col(aes(y = val0), na.rm = TRUE, fill = "white") +
>   geom_line(aes(y = val1)) +
>   ylab("") +
>   facet_wrap(~ nm, scales = "free_y")
> 
> plot_grid(p1, p2, rel_widths = c(1, 2))
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> 
> 
> ?s 20:10 de 01/08/2024, phil at philipsmith.ca escreveu:
>> Thanks for the suggestion, but this does not give me what I want. Each 
>> chart needs its own unique scale on the y-axis.
>> 
>> Philip
>> 
>> 
>> On 2024-08-01 15:08, Rui Barradas wrote:
>>> ?s 19:01 de 01/08/2024, phil at philipsmith.ca escreveu:
>>>> I am asking for help with a ggplot2 program that has facets. There 
>>>> are actually 100 facets in my program, but in the example below I 
>>>> have limited the number to 3. There are two kinds of charts among 
>>>> the facets. One kind is a simple line plot with all of the y-values 
>>>> greater than zero. The facet for "A" in my example below is this 
>>>> kind. The other kind is a line plot combined with a bar chart with 
>>>> some of the y-values being positive and others negative. The facets 
>>>> for "B" and "C" in my example are this kind.
>>>> 
>>>> The facets for "B" and "C" look the way I want them to. However the 
>>>> facet for "A" has a scale on the y-axis that starts at zero, whereas 
>>>> I would like the minimum value on this scale to be non-zero, chosen 
>>>> by ggplot2 to be closer to the minimum value of y for that 
>>>> particular facet.
>>>> 
>>>> My example may not be the most efficient way to achieve this, but it 
>>>> works except for one aspect. Chart A, for which I do not wish to 
>>>> show a zero line, does indeed not show a zero line but it 
>>>> nevertheless chooses a scale for the y-axis that has a minimum value 
>>>> of zero. How can I adjust the code so that it chooses a minimum 
>>>> value on the y-axis that is non-zero and closer to the minimum 
>>>> actual y-value (as would be the case for a simple line chart alone, 
>>>> without any facets)?
>>>> 
>>>> library(ggplot2)
>>>> library(dplyr)
>>>> 
>>>> df <- data.frame(
>>>> ?? date=c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6),
>>>> nm=c("A","B","C","A","B","C","A","B","C","A","B","C","A","B","C","A","B","C"),
>>>> ?? val0=c(NA,-5,4,NA,-3,3,NA,2,4,NA,3,3,NA,3,1,NA,-3,-4),
>>>> ?? val1=c(NA,-3,6,NA,-1,4,NA,5,5,NA,7,2,NA,4,3,NA,-2,-2),
>>>> ?? val2=c(50,NA,NA,53,NA,NA,62,NA,NA,56,NA,NA,54,NA,NA,61,NA,NA),
>>>> ?? zline=c(NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0,NA,0,0)
>>>> )
>>>> 
>>>> ggplot(df)+
>>>> ?? geom_col(aes(x=date,y=val0),na.rm=TRUE,fill="white")+
>>>> ?? geom_line(aes(x=date,y=val1))+
>>>> ?? geom_line(aes(x=date,y=val2))+
>>>> ?? geom_hline(aes(yintercept=zline),na.rm=TRUE)+
>>>> ?? facet_wrap(~nm,scales="free_y")
>>>> 
>>>> Thank you for your assistance.
>>>> 
>>>> Philip
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> Hello,
>>> 
>>> Try to remove
>>> 
>>> scales="free_y"
>>> 
>>> from facet_wrap(). With scales="free_y" each facet will have its own 
>>> y limits, given by the data plotted in each of them. If you want a 
>>> global y limits, don't use it.
>>> 
>>> Hope this helps,
>>> 
>>> Rui Barradas


From @tyen @end|ng |rom ntu@edu@tw  Fri Aug  2 03:10:53 2024
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 2 Aug 2024 09:10:53 +0800
Subject: [R] grep
Message-ID: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>

Good Morning. Below I like statement like

j<-grep(".r\\b",colnames(mydata),value=TRUE); j

with the \\b option which I read long time ago which Ive found useful.

Are there more or these options, other than ? grep? Thanks.

dstat is just my own descriptive routine.

 > x
 ?[1] "age"????????? "sleep"??????? "primary"????? "middle"
 ?[5] "high"???????? "somewhath"??? "veryh"??????? "somewhatm"
 ?[9] "verym"??????? "somewhatc"??? "veryc"??????? "somewhatl"
[13] "veryl"??????? "village"????? "married"????? "social"
[17] "agricultural" "communist"??? "minority"???? "religious"
 > colnames(mydata)
 ?[1] "depression"???? "sleep"????????? "female" "village"
 ?[5] "agricultural"?? "married"??????? "communist" "minority"
 ?[9] "religious"????? "social"???????? "no" "primary"
[13] "middle"???????? "high"?????????? "veryh" "somewhath"
[17] "notveryh"?????? "verym"????????? "somewhatm" "notverym"
[21] "veryc"????????? "somewhatc"????? "notveryc" "veryl"
[25] "somewhatl"????? "notveryl"?????? "age" "village.r"
[29] "married.r"????? "social.r"?????? "agricultural.r" "communist.r"
[33] "minority.r"???? "religious.r"??? "male.r" "education.r"
 > j<-grep(".r\\b",colnames(mydata),value=TRUE); j
[1] "village.r"????? "married.r"????? "social.r" "agricultural.r"
[5] "communist.r"??? "minority.r"???? "religious.r" "male.r"
[9] "education.r"
 > j<-c(x,j); j
 ?[1] "age"??????????? "sleep"????????? "primary" "middle"
 ?[5] "high"?????????? "somewhath"????? "veryh" "somewhatm"
 ?[9] "verym"????????? "somewhatc"????? "veryc" "somewhatl"
[13] "veryl"????????? "village"??????? "married" "social"
[17] "agricultural"?? "communist"????? "minority" "religious"
[21] "village.r"????? "married.r"????? "social.r" "agricultural.r"
[25] "communist.r"??? "minority.r"???? "religious.r" "male.r"
[29] "education.r"
 > data<-mydata[j]
 > cbind(
+?? dstat(subset(data,male.r==1))[,1:2],
+?? dstat(subset(data,male.r==0))[,1:2]
+ )
Sample statistics (Weighted =? FALSE )

Sample statistics (Weighted =? FALSE )

 ??????????????? Mean Std.dev? Mean Std.dev
age??????????? 6.279?? 0.841 6.055?? 0.813
sleep????????? 6.483?? 1.804 6.087?? 2.045
primary??????? 0.452?? 0.498 0.408?? 0.491
middle???????? 0.287?? 0.453 0.176?? 0.381
high?????????? 0.171?? 0.377 0.082?? 0.275
somewhath????? 0.522?? 0.500 0.447?? 0.497
veryh????????? 0.254?? 0.435 0.250?? 0.433
somewhatm????? 0.419?? 0.493 0.460?? 0.498
verym????????? 0.544?? 0.498 0.411?? 0.492
somewhatc????? 0.376?? 0.484 0.346?? 0.476
veryc????????? 0.593?? 0.491 0.615?? 0.487
somewhatl????? 0.544?? 0.498 0.504?? 0.500
veryl????????? 0.390?? 0.488 0.389?? 0.487
village??????? 0.757?? 0.429 0.752?? 0.432
married??????? 0.936?? 0.245 0.906?? 0.291
social???????? 0.538?? 0.499 0.528?? 0.499
agricultural?? 0.780?? 0.414 0.826?? 0.379
communist????? 0.178?? 0.383 0.038?? 0.190
minority?????? 0.071?? 0.256 0.081?? 0.273
religious????? 0.088?? 0.284 0.102?? 0.302
village.r????? 0.243?? 0.429 0.248?? 0.432
married.r????? 0.064?? 0.245 0.094?? 0.291
social.r?????? 0.462?? 0.499 0.472?? 0.499
agricultural.r 0.220?? 0.414 0.174?? 0.379
communist.r??? 0.822?? 0.383 0.962?? 0.190
minority.r???? 0.929?? 0.256 0.919?? 0.273
religious.r??? 0.912?? 0.284 0.898?? 0.302
male.r???????? 1.000?? 0.000 0.000?? 0.000
education.r??? 0.090?? 0.286 0.334?? 0.472
 >


From |kw@|mmo @end|ng |rom gm@||@com  Fri Aug  2 03:40:27 2024
From: |kw@|mmo @end|ng |rom gm@||@com (Iris Simmons)
Date: Thu, 1 Aug 2024 21:40:27 -0400
Subject: [R] grep
In-Reply-To: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>
References: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>
Message-ID: <CADNULg_p7AwzR=nXeZ_r2SXOeREX4JP_Bq0xOVTd=UqQYzsHzQ@mail.gmail.com>

You can find more by reading through ?regex as well as Perl documentation
(which you can find online).

On Thu, Aug 1, 2024, 21:11 Steven Yen <styen at ntu.edu.tw> wrote:

> Good Morning. Below I like statement like
>
> j<-grep(".r\\b",colnames(mydata),value=TRUE); j
>
> with the \\b option which I read long time ago which Ive found useful.
>
> Are there more or these options, other than ? grep? Thanks.
>
> dstat is just my own descriptive routine.
>
>  > x
>   [1] "age"          "sleep"        "primary"      "middle"
>   [5] "high"         "somewhath"    "veryh"        "somewhatm"
>   [9] "verym"        "somewhatc"    "veryc"        "somewhatl"
> [13] "veryl"        "village"      "married"      "social"
> [17] "agricultural" "communist"    "minority"     "religious"
>  > colnames(mydata)
>   [1] "depression"     "sleep"          "female" "village"
>   [5] "agricultural"   "married"        "communist" "minority"
>   [9] "religious"      "social"         "no" "primary"
> [13] "middle"         "high"           "veryh" "somewhath"
> [17] "notveryh"       "verym"          "somewhatm" "notverym"
> [21] "veryc"          "somewhatc"      "notveryc" "veryl"
> [25] "somewhatl"      "notveryl"       "age" "village.r"
> [29] "married.r"      "social.r"       "agricultural.r" "communist.r"
> [33] "minority.r"     "religious.r"    "male.r" "education.r"
>  > j<-grep(".r\\b",colnames(mydata),value=TRUE); j
> [1] "village.r"      "married.r"      "social.r" "agricultural.r"
> [5] "communist.r"    "minority.r"     "religious.r" "male.r"
> [9] "education.r"
>  > j<-c(x,j); j
>   [1] "age"            "sleep"          "primary" "middle"
>   [5] "high"           "somewhath"      "veryh" "somewhatm"
>   [9] "verym"          "somewhatc"      "veryc" "somewhatl"
> [13] "veryl"          "village"        "married" "social"
> [17] "agricultural"   "communist"      "minority" "religious"
> [21] "village.r"      "married.r"      "social.r" "agricultural.r"
> [25] "communist.r"    "minority.r"     "religious.r" "male.r"
> [29] "education.r"
>  > data<-mydata[j]
>  > cbind(
> +   dstat(subset(data,male.r==1))[,1:2],
> +   dstat(subset(data,male.r==0))[,1:2]
> + )
> Sample statistics (Weighted =  FALSE )
>
> Sample statistics (Weighted =  FALSE )
>
>                  Mean Std.dev  Mean Std.dev
> age            6.279   0.841 6.055   0.813
> sleep          6.483   1.804 6.087   2.045
> primary        0.452   0.498 0.408   0.491
> middle         0.287   0.453 0.176   0.381
> high           0.171   0.377 0.082   0.275
> somewhath      0.522   0.500 0.447   0.497
> veryh          0.254   0.435 0.250   0.433
> somewhatm      0.419   0.493 0.460   0.498
> verym          0.544   0.498 0.411   0.492
> somewhatc      0.376   0.484 0.346   0.476
> veryc          0.593   0.491 0.615   0.487
> somewhatl      0.544   0.498 0.504   0.500
> veryl          0.390   0.488 0.389   0.487
> village        0.757   0.429 0.752   0.432
> married        0.936   0.245 0.906   0.291
> social         0.538   0.499 0.528   0.499
> agricultural   0.780   0.414 0.826   0.379
> communist      0.178   0.383 0.038   0.190
> minority       0.071   0.256 0.081   0.273
> religious      0.088   0.284 0.102   0.302
> village.r      0.243   0.429 0.248   0.432
> married.r      0.064   0.245 0.094   0.291
> social.r       0.462   0.499 0.472   0.499
> agricultural.r 0.220   0.414 0.174   0.379
> communist.r    0.822   0.383 0.962   0.190
> minority.r     0.929   0.256 0.919   0.273
> religious.r    0.912   0.284 0.898   0.302
> male.r         1.000   0.000 0.000   0.000
> education.r    0.090   0.286 0.334   0.472
>  >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Aug  2 06:28:50 2024
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 2 Aug 2024 05:28:50 +0100
Subject: [R] grep
In-Reply-To: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>
References: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>
Message-ID: <774d24ec-d361-43af-941e-afce99fce6e9@sapo.pt>

?s 02:10 de 02/08/2024, Steven Yen escreveu:
> Good Morning. Below I like statement like
> 
> j<-grep(".r\\b",colnames(mydata),value=TRUE); j
> 
> with the \\b option which I read long time ago which Ive found useful.
> 
> Are there more or these options, other than ? grep? Thanks.
> 
> dstat is just my own descriptive routine.
> 
>  > x
>  ?[1] "age"????????? "sleep"??????? "primary"????? "middle"
>  ?[5] "high"???????? "somewhath"??? "veryh"??????? "somewhatm"
>  ?[9] "verym"??????? "somewhatc"??? "veryc"??????? "somewhatl"
> [13] "veryl"??????? "village"????? "married"????? "social"
> [17] "agricultural" "communist"??? "minority"???? "religious"
>  > colnames(mydata)
>  ?[1] "depression"???? "sleep"????????? "female" "village"
>  ?[5] "agricultural"?? "married"??????? "communist" "minority"
>  ?[9] "religious"????? "social"???????? "no" "primary"
> [13] "middle"???????? "high"?????????? "veryh" "somewhath"
> [17] "notveryh"?????? "verym"????????? "somewhatm" "notverym"
> [21] "veryc"????????? "somewhatc"????? "notveryc" "veryl"
> [25] "somewhatl"????? "notveryl"?????? "age" "village.r"
> [29] "married.r"????? "social.r"?????? "agricultural.r" "communist.r"
> [33] "minority.r"???? "religious.r"??? "male.r" "education.r"
>  > j<-grep(".r\\b",colnames(mydata),value=TRUE); j
> [1] "village.r"????? "married.r"????? "social.r" "agricultural.r"
> [5] "communist.r"??? "minority.r"???? "religious.r" "male.r"
> [9] "education.r"
>  > j<-c(x,j); j
>  ?[1] "age"??????????? "sleep"????????? "primary" "middle"
>  ?[5] "high"?????????? "somewhath"????? "veryh" "somewhatm"
>  ?[9] "verym"????????? "somewhatc"????? "veryc" "somewhatl"
> [13] "veryl"????????? "village"??????? "married" "social"
> [17] "agricultural"?? "communist"????? "minority" "religious"
> [21] "village.r"????? "married.r"????? "social.r" "agricultural.r"
> [25] "communist.r"??? "minority.r"???? "religious.r" "male.r"
> [29] "education.r"
>  > data<-mydata[j]
>  > cbind(
> +?? dstat(subset(data,male.r==1))[,1:2],
> +?? dstat(subset(data,male.r==0))[,1:2]
> + )
> Sample statistics (Weighted =? FALSE )
> 
> Sample statistics (Weighted =? FALSE )
> 
>  ??????????????? Mean Std.dev? Mean Std.dev
> age??????????? 6.279?? 0.841 6.055?? 0.813
> sleep????????? 6.483?? 1.804 6.087?? 2.045
> primary??????? 0.452?? 0.498 0.408?? 0.491
> middle???????? 0.287?? 0.453 0.176?? 0.381
> high?????????? 0.171?? 0.377 0.082?? 0.275
> somewhath????? 0.522?? 0.500 0.447?? 0.497
> veryh????????? 0.254?? 0.435 0.250?? 0.433
> somewhatm????? 0.419?? 0.493 0.460?? 0.498
> verym????????? 0.544?? 0.498 0.411?? 0.492
> somewhatc????? 0.376?? 0.484 0.346?? 0.476
> veryc????????? 0.593?? 0.491 0.615?? 0.487
> somewhatl????? 0.544?? 0.498 0.504?? 0.500
> veryl????????? 0.390?? 0.488 0.389?? 0.487
> village??????? 0.757?? 0.429 0.752?? 0.432
> married??????? 0.936?? 0.245 0.906?? 0.291
> social???????? 0.538?? 0.499 0.528?? 0.499
> agricultural?? 0.780?? 0.414 0.826?? 0.379
> communist????? 0.178?? 0.383 0.038?? 0.190
> minority?????? 0.071?? 0.256 0.081?? 0.273
> religious????? 0.088?? 0.284 0.102?? 0.302
> village.r????? 0.243?? 0.429 0.248?? 0.432
> married.r????? 0.064?? 0.245 0.094?? 0.291
> social.r?????? 0.462?? 0.499 0.472?? 0.499
> agricultural.r 0.220?? 0.414 0.174?? 0.379
> communist.r??? 0.822?? 0.383 0.962?? 0.190
> minority.r???? 0.929?? 0.256 0.919?? 0.273
> religious.r??? 0.912?? 0.284 0.898?? 0.302
> male.r???????? 1.000?? 0.000 0.000?? 0.000
> education.r??? 0.090?? 0.286 0.334?? 0.472
>  >
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

The metacharacters reference is the documentation ?regex.
If you want to know whether there are more metacharacters similar to \b,
there are \< and \>. low are examples of using them instead of \b.

Also, the pattern '.r' does not match a period followed by an 'r', the 
period matches any character ('.'). To match a literal period you must 
escape it. The correct regex is '\\.r'.



x <- c("age", "sleep", "primary", "middle", "high", "somewhath", "veryh",
        "somewhatm", "verym", "somewhatc", "veryc", "somewhatl", "veryl",
        "village", "married", "social", "agricultural", "communist",
        "minority", "religious")
colnms <- c("depression", "sleep", "female", "village", "agricultural",
             "married", "communist", "minority", "religious", "social", 
"no",
             "primary", "middle", "high", "veryh", "somewhath", "notveryh",
             "verym", "somewhatm", "notverym", "veryc", "somewhatc", 
"notveryc",
             "veryl", "somewhatl", "notveryl", "age", "village.r", 
"married.r",
             "social.r", "agricultural.r", "communist.r", "minority.r", 
"religious.r",
             "male.r", "education.r")

grep("\\.r\\b", colnms, value = TRUE)
#> [1] "village.r"      "married.r"      "social.r"       "agricultural.r"
#> [5] "communist.r"    "minority.r"     "religious.r"    "male.r"
#> [9] "education.r"
# the same as above
# \\> matches the empty string at the end of a word,
# \\b matches the empty string at both ends of a word
grep("\\.r\\>", colnms, value = TRUE)
#> [1] "village.r"      "married.r"      "social.r"       "agricultural.r"
#> [5] "communist.r"    "minority.r"     "religious.r"    "male.r"
#> [9] "education.r"

# 4 col names have a 'm' and end in '.r' therefore 4 matches
grep("m.*\\.r\\>", colnms, value = TRUE)
#> [1] "married.r"   "communist.r" "minority.r"  "male.r"
# only the strings starting with 'm'
grep("\\bm.*\\.r\\b", colnms, value = TRUE)
#> [1] "married.r"  "minority.r" "male.r"
grep("\\<m.*\\.r\\>", colnms, value = TRUE)
#> [1] "married.r"  "minority.r" "male.r"


Hope this helps,

Rui Barradas


-- 
Este e-mail foi analisado pelo software antiv?rus AVG para verificar a presen?a de v?rus.
www.avg.com


From @tyen @end|ng |rom ntu@edu@tw  Fri Aug  2 08:32:49 2024
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 2 Aug 2024 14:32:49 +0800
Subject: [R] grep
In-Reply-To: <774d24ec-d361-43af-941e-afce99fce6e9@sapo.pt>
References: <8be3d2f5-b15c-4477-880f-2118bfae7897@ntu.edu.tw>
 <774d24ec-d361-43af-941e-afce99fce6e9@sapo.pt>
Message-ID: <e8766b05-28de-4857-bd9a-6d85384ec486@ntu.edu.tw>

Thanks!

On 8/2/2024 12:28 PM, Rui Barradas wrote:
> ?s 02:10 de 02/08/2024, Steven Yen escreveu:
>> Good Morning. Below I like statement like
>>
>> j<-grep(".r\\b",colnames(mydata),value=TRUE); j
>>
>> with the \\b option which I read long time ago which Ive found useful.
>>
>> Are there more or these options, other than ? grep? Thanks.
>>
>> dstat is just my own descriptive routine.
>>
>> ?> x
>> ??[1] "age"????????? "sleep"??????? "primary"????? "middle"
>> ??[5] "high"???????? "somewhath"??? "veryh"??????? "somewhatm"
>> ??[9] "verym"??????? "somewhatc"??? "veryc"??????? "somewhatl"
>> [13] "veryl"??????? "village"????? "married"????? "social"
>> [17] "agricultural" "communist"??? "minority"???? "religious"
>> ?> colnames(mydata)
>> ??[1] "depression"???? "sleep"????????? "female" "village"
>> ??[5] "agricultural"?? "married"??????? "communist" "minority"
>> ??[9] "religious"????? "social"???????? "no" "primary"
>> [13] "middle"???????? "high"?????????? "veryh" "somewhath"
>> [17] "notveryh"?????? "verym"????????? "somewhatm" "notverym"
>> [21] "veryc"????????? "somewhatc"????? "notveryc" "veryl"
>> [25] "somewhatl"????? "notveryl"?????? "age" "village.r"
>> [29] "married.r"????? "social.r"?????? "agricultural.r" "communist.r"
>> [33] "minority.r"???? "religious.r"??? "male.r" "education.r"
>> ?> j<-grep(".r\\b",colnames(mydata),value=TRUE); j
>> [1] "village.r"????? "married.r"????? "social.r" "agricultural.r"
>> [5] "communist.r"??? "minority.r"???? "religious.r" "male.r"
>> [9] "education.r"
>> ?> j<-c(x,j); j
>> ??[1] "age"??????????? "sleep"????????? "primary" "middle"
>> ??[5] "high"?????????? "somewhath"????? "veryh" "somewhatm"
>> ??[9] "verym"????????? "somewhatc"????? "veryc" "somewhatl"
>> [13] "veryl"????????? "village"??????? "married" "social"
>> [17] "agricultural"?? "communist"????? "minority" "religious"
>> [21] "village.r"????? "married.r"????? "social.r" "agricultural.r"
>> [25] "communist.r"??? "minority.r"???? "religious.r" "male.r"
>> [29] "education.r"
>> ?> data<-mydata[j]
>> ?> cbind(
>> +?? dstat(subset(data,male.r==1))[,1:2],
>> +?? dstat(subset(data,male.r==0))[,1:2]
>> + )
>> Sample statistics (Weighted =? FALSE )
>>
>> Sample statistics (Weighted =? FALSE )
>>
>> ???????????????? Mean Std.dev? Mean Std.dev
>> age??????????? 6.279?? 0.841 6.055?? 0.813
>> sleep????????? 6.483?? 1.804 6.087?? 2.045
>> primary??????? 0.452?? 0.498 0.408?? 0.491
>> middle???????? 0.287?? 0.453 0.176?? 0.381
>> high?????????? 0.171?? 0.377 0.082?? 0.275
>> somewhath????? 0.522?? 0.500 0.447?? 0.497
>> veryh????????? 0.254?? 0.435 0.250?? 0.433
>> somewhatm????? 0.419?? 0.493 0.460?? 0.498
>> verym????????? 0.544?? 0.498 0.411?? 0.492
>> somewhatc????? 0.376?? 0.484 0.346?? 0.476
>> veryc????????? 0.593?? 0.491 0.615?? 0.487
>> somewhatl????? 0.544?? 0.498 0.504?? 0.500
>> veryl????????? 0.390?? 0.488 0.389?? 0.487
>> village??????? 0.757?? 0.429 0.752?? 0.432
>> married??????? 0.936?? 0.245 0.906?? 0.291
>> social???????? 0.538?? 0.499 0.528?? 0.499
>> agricultural?? 0.780?? 0.414 0.826?? 0.379
>> communist????? 0.178?? 0.383 0.038?? 0.190
>> minority?????? 0.071?? 0.256 0.081?? 0.273
>> religious????? 0.088?? 0.284 0.102?? 0.302
>> village.r????? 0.243?? 0.429 0.248?? 0.432
>> married.r????? 0.064?? 0.245 0.094?? 0.291
>> social.r?????? 0.462?? 0.499 0.472?? 0.499
>> agricultural.r 0.220?? 0.414 0.174?? 0.379
>> communist.r??? 0.822?? 0.383 0.962?? 0.190
>> minority.r???? 0.929?? 0.256 0.919?? 0.273
>> religious.r??? 0.912?? 0.284 0.898?? 0.302
>> male.r???????? 1.000?? 0.000 0.000?? 0.000
>> education.r??? 0.090?? 0.286 0.334?? 0.472
>> ?>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> The metacharacters reference is the documentation ?regex.
> If you want to know whether there are more metacharacters similar to \b,
> there are \< and \>. low are examples of using them instead of \b.
>
> Also, the pattern '.r' does not match a period followed by an 'r', the 
> period matches any character ('.'). To match a literal period you must 
> escape it. The correct regex is '\\.r'.
>
>
>
> x <- c("age", "sleep", "primary", "middle", "high", "somewhath", "veryh",
> ?????? "somewhatm", "verym", "somewhatc", "veryc", "somewhatl", "veryl",
> ?????? "village", "married", "social", "agricultural", "communist",
> ?????? "minority", "religious")
> colnms <- c("depression", "sleep", "female", "village", "agricultural",
> ??????????? "married", "communist", "minority", "religious", "social", 
> "no",
> ??????????? "primary", "middle", "high", "veryh", "somewhath", 
> "notveryh",
> ??????????? "verym", "somewhatm", "notverym", "veryc", "somewhatc", 
> "notveryc",
> ??????????? "veryl", "somewhatl", "notveryl", "age", "village.r", 
> "married.r",
> ??????????? "social.r", "agricultural.r", "communist.r", "minority.r", 
> "religious.r",
> ??????????? "male.r", "education.r")
>
> grep("\\.r\\b", colnms, value = TRUE)
> #> [1] "village.r"????? "married.r"????? "social.r" "agricultural.r"
> #> [5] "communist.r"??? "minority.r"???? "religious.r" "male.r"
> #> [9] "education.r"
> # the same as above
> # \\> matches the empty string at the end of a word,
> # \\b matches the empty string at both ends of a word
> grep("\\.r\\>", colnms, value = TRUE)
> #> [1] "village.r"????? "married.r"????? "social.r" "agricultural.r"
> #> [5] "communist.r"??? "minority.r"???? "religious.r" "male.r"
> #> [9] "education.r"
>
> # 4 col names have a 'm' and end in '.r' therefore 4 matches
> grep("m.*\\.r\\>", colnms, value = TRUE)
> #> [1] "married.r"?? "communist.r" "minority.r"? "male.r"
> # only the strings starting with 'm'
> grep("\\bm.*\\.r\\b", colnms, value = TRUE)
> #> [1] "married.r"? "minority.r" "male.r"
> grep("\\<m.*\\.r\\>", colnms, value = TRUE)
> #> [1] "married.r"? "minority.r" "male.r"
>
>
> Hope this helps,
>
> Rui Barradas
>
>


From ro||turner @end|ng |rom po@teo@net  Mon Aug  5 03:05:29 2024
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Mon,  5 Aug 2024 01:05:29 +0000
Subject: [R] Checking something.
Message-ID: <20240805130529.5e61df36@elderly-dell>


Apologies for the noise.

R.T.

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From rcurze| @end|ng |rom gm@||@com  Mon Aug  5 23:09:10 2024
From: rcurze| @end|ng |rom gm@||@com (Rosana Curzel)
Date: Mon, 5 Aug 2024 18:09:10 -0300
Subject: [R] An error message with the command fm<-1m (Version 4.4.1. p. 80,
 An introduction to R)
Message-ID: <CAK7f2VN41vY+rKyyiyo4OrVZTWYmo8rKMXmft5ObLEcA26NzVw@mail.gmail.com>

Dear all,

I am introducing in R and I had a problem in the beginning. Please, you can
see an error message below: (Maybe I am in error. If so, sorry for that).
Thank You so much!

[1] "R"
> x<-rnorm(50)
> y<-rnorm(x)
> plot(x,y)
> ls()
[1] "x" "y"
> rm(x,y)
> x<-1:20 Make x=(1,2,...,20).
Erro: unexpected symbol em "x<-1:20 Make"
> x<-1:20
> w<-1+sqrt(x)/2
> dummy<-data.frame(x=x, y=x+rnorm(x)*w)
> dummy
    x          y
1   1  1.5870188
2   2 -0.1337255
3   3  2.1804598
4   4  5.9208727
5   5  4.8860564
6   6  6.5736696
7   7  5.5894932
8   8  5.1181831
9   9 12.2127547
10 10 11.2671459
11 11 10.6736019
12 12  9.5145623
13 13  9.7410161
14 14 11.4136781
15 15 14.6617839
16 16 16.0676884
17 17 13.0879981
18 18 17.4291520
19 19 22.3425584
20 20 23.2160390
> fm<-1m(y~x,data=dummy)
Erro: unexpected symbol em "fm<-1m"
> fm<- 1m(y~x,data=dummy)
Erro: unexpected symbol em "fm<- 1m"
> fm<-1m(y ~ x, data=dummy)
Erro: unexpected symbol em "fm<-1m"
> fm<-1m(y~x,data=dummy)
Erro: unexpected symbol em "fm<-1m"
> fm<-1m(y~x,data=dummy)
Erro: unexpected symbol em "fm<-1m"
>



-- 
Rosana Curzel

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Tue Aug  6 10:27:20 2024
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 6 Aug 2024 11:27:20 +0300
Subject: [R] 
 An error message with the command fm<-1m (Version 4.4.1. p. 80,
 An introduction to R)
In-Reply-To: <CAK7f2VN41vY+rKyyiyo4OrVZTWYmo8rKMXmft5ObLEcA26NzVw@mail.gmail.com>
References: <CAK7f2VN41vY+rKyyiyo4OrVZTWYmo8rKMXmft5ObLEcA26NzVw@mail.gmail.com>
Message-ID: <CAGgJW777GVz6Jn3n+Yv13SF60PBx+uvt+SqgV52RdAciNvR-Ew@mail.gmail.com>

The function is lm(), not 1m().
lm stands for "linear model" (the first letter of each word)


On Tue, Aug 6, 2024 at 11:22?AM Rosana Curzel <rcurzel at gmail.com> wrote:

> Dear all,
>
> I am introducing in R and I had a problem in the beginning. Please, you can
> see an error message below: (Maybe I am in error. If so, sorry for that).
> Thank You so much!
>
> [1] "R"
> > x<-rnorm(50)
> > y<-rnorm(x)
> > plot(x,y)
> > ls()
> [1] "x" "y"
> > rm(x,y)
> > x<-1:20 Make x=(1,2,...,20).
> Erro: unexpected symbol em "x<-1:20 Make"
> > x<-1:20
> > w<-1+sqrt(x)/2
> > dummy<-data.frame(x=x, y=x+rnorm(x)*w)
> > dummy
>     x          y
> 1   1  1.5870188
> 2   2 -0.1337255
> 3   3  2.1804598
> 4   4  5.9208727
> 5   5  4.8860564
> 6   6  6.5736696
> 7   7  5.5894932
> 8   8  5.1181831
> 9   9 12.2127547
> 10 10 11.2671459
> 11 11 10.6736019
> 12 12  9.5145623
> 13 13  9.7410161
> 14 14 11.4136781
> 15 15 14.6617839
> 16 16 16.0676884
> 17 17 13.0879981
> 18 18 17.4291520
> 19 19 22.3425584
> 20 20 23.2160390
> > fm<-1m(y~x,data=dummy)
> Erro: unexpected symbol em "fm<-1m"
> > fm<- 1m(y~x,data=dummy)
> Erro: unexpected symbol em "fm<- 1m"
> > fm<-1m(y ~ x, data=dummy)
> Erro: unexpected symbol em "fm<-1m"
> > fm<-1m(y~x,data=dummy)
> Erro: unexpected symbol em "fm<-1m"
> > fm<-1m(y~x,data=dummy)
> Erro: unexpected symbol em "fm<-1m"
> >
>
>
>
> --
> Rosana Curzel
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From JH@rm@e @end|ng |rom roku@com  Tue Aug  6 16:27:14 2024
From: JH@rm@e @end|ng |rom roku@com (Jorgen Harmse)
Date: Tue, 6 Aug 2024 14:27:14 +0000
Subject: [R] An error message with the command fm<-1m
In-Reply-To: <mailman.371733.1.1722938402.46628.r-help@r-project.org>
References: <mailman.371733.1.1722938402.46628.r-help@r-project.org>
Message-ID: <BL0PR01MB4434FF0AFAC6D8B4198EF567DCBF2@BL0PR01MB4434.prod.exchangelabs.com>

> The function is lm(), not 1m().

Eric Berger is correct (except for the extra parentheses), but it is worth pointing out that variable names do not begin with digits. (You can use backticks, assign, & other features to create such names (e.g. to write the Orwellian assignment `2 + 2` <- 5L), but they are non-standard and you need special syntax to use them.) Maybe the font makes some characters hard to distinguish, but a vertical line at the start of a standard name must be lower-case 'l' or upper-case 'I', not '1' or a pipe symbol. A circle or oval must be 'o' or 'O', not the digit '0'. (Digits after the first character are standard.)

Regards,
Jorgen Harmse.



	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Aug  6 16:30:51 2024
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 6 Aug 2024 07:30:51 -0700
Subject: [R] 
 An error message with the command fm<-1m (Version 4.4.1. p. 80,
 An introduction to R)
In-Reply-To: <CAGgJW777GVz6Jn3n+Yv13SF60PBx+uvt+SqgV52RdAciNvR-Ew@mail.gmail.com>
References: <CAK7f2VN41vY+rKyyiyo4OrVZTWYmo8rKMXmft5ObLEcA26NzVw@mail.gmail.com>
 <CAGgJW777GVz6Jn3n+Yv13SF60PBx+uvt+SqgV52RdAciNvR-Ew@mail.gmail.com>
Message-ID: <CAGxFJbSEVSKmq_JXq8yYy0p4SqYnaHeJgcb0dheRQxAWtmwZYQ@mail.gmail.com>

Rosana:
As you say you are just beginning in R, it is probably worth adding
that you should first take some time to learn basic R rules, one of
which is that "legal" (i.e. syntactically valid) names in R cannot
start with a number. See ?make.names for a brief  discussion or an R
tutorial -- as usual, there are many good ones on the internet.

-- Bert

On Tue, Aug 6, 2024 at 1:28?AM Eric Berger <ericjberger at gmail.com> wrote:
>
> The function is lm(), not 1m().
> lm stands for "linear model" (the first letter of each word)
>
>
> On Tue, Aug 6, 2024 at 11:22?AM Rosana Curzel <rcurzel at gmail.com> wrote:
>
> > Dear all,
> >
> > I am introducing in R and I had a problem in the beginning. Please, you can
> > see an error message below: (Maybe I am in error. If so, sorry for that).
> > Thank You so much!
> >
> > [1] "R"
> > > x<-rnorm(50)
> > > y<-rnorm(x)
> > > plot(x,y)
> > > ls()
> > [1] "x" "y"
> > > rm(x,y)
> > > x<-1:20 Make x=(1,2,...,20).
> > Erro: unexpected symbol em "x<-1:20 Make"
> > > x<-1:20
> > > w<-1+sqrt(x)/2
> > > dummy<-data.frame(x=x, y=x+rnorm(x)*w)
> > > dummy
> >     x          y
> > 1   1  1.5870188
> > 2   2 -0.1337255
> > 3   3  2.1804598
> > 4   4  5.9208727
> > 5   5  4.8860564
> > 6   6  6.5736696
> > 7   7  5.5894932
> > 8   8  5.1181831
> > 9   9 12.2127547
> > 10 10 11.2671459
> > 11 11 10.6736019
> > 12 12  9.5145623
> > 13 13  9.7410161
> > 14 14 11.4136781
> > 15 15 14.6617839
> > 16 16 16.0676884
> > 17 17 13.0879981
> > 18 18 17.4291520
> > 19 19 22.3425584
> > 20 20 23.2160390
> > > fm<-1m(y~x,data=dummy)
> > Erro: unexpected symbol em "fm<-1m"
> > > fm<- 1m(y~x,data=dummy)
> > Erro: unexpected symbol em "fm<- 1m"
> > > fm<-1m(y ~ x, data=dummy)
> > Erro: unexpected symbol em "fm<-1m"
> > > fm<-1m(y~x,data=dummy)
> > Erro: unexpected symbol em "fm<-1m"
> > > fm<-1m(y~x,data=dummy)
> > Erro: unexpected symbol em "fm<-1m"
> > >
> >
> >
> >
> > --
> > Rosana Curzel
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From br|@n@m|th199312 @end|ng |rom gm@||@com  Wed Aug  7 12:06:36 2024
From: br|@n@m|th199312 @end|ng |rom gm@||@com (Brian Smith)
Date: Wed, 7 Aug 2024 15:36:36 +0530
Subject: [R] Manually calculating values from aov() result
Message-ID: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>

Hi,

I have performed ANOVA as below

dat = data.frame(
'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
-0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704),
'B' = c(2,1,2,2,1,2,2,2,2,2),
'C' = c(0,1,1,1,1,1,1,0,1,1))

summary(aov(A ~ B * C, dat))

However now I also tried to calculate SSE for factor C

Mean = sapply(split(dat, dat$C), function(x) mean(x$A))
N = sapply(split(dat, dat$C), function(x) dim(x)[1])

N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
#1.691

But in ANOVA table the sum-square for C is reported as 0.77.

Could you please help how exactly this C = 0.77 is obtained from aov()


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Aug  7 13:30:54 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 7 Aug 2024 07:30:54 -0400
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
Message-ID: <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>

On 2024-08-07 6:06 a.m., Brian Smith wrote:
> Hi,
> 
> I have performed ANOVA as below
> 
> dat = data.frame(
> 'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
> -0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704),
> 'B' = c(2,1,2,2,1,2,2,2,2,2),
> 'C' = c(0,1,1,1,1,1,1,0,1,1))
> 
> summary(aov(A ~ B * C, dat))
> 
> However now I also tried to calculate SSE for factor C
> 
> Mean = sapply(split(dat, dat$C), function(x) mean(x$A))
> N = sapply(split(dat, dat$C), function(x) dim(x)[1])
> 
> N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
> #1.691
> 
> But in ANOVA table the sum-square for C is reported as 0.77.
> 
> Could you please help how exactly this C = 0.77 is obtained from aov()

Your design isn't balanced, so there are several ways to calculate the 
SS for C.  What you have calculated looks like the "Type I SS" in SAS 
notation, if I remember correctly, assuming that C enters the model 
before B.  That's not what R uses; I think it is Type II SS.

For some details about this, see 
https://mcfromnz.wordpress.com/2011/03/02/anova-type-iiiiii-ss-explained/


From br|@n@m|th199312 @end|ng |rom gm@||@com  Wed Aug  7 14:27:48 2024
From: br|@n@m|th199312 @end|ng |rom gm@||@com (Brian Smith)
Date: Wed, 7 Aug 2024 17:57:48 +0530
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
 <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
Message-ID: <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>

Hi,

Thanks for this information. Is there any way to force R to use Type-1
SS? I think most textbooks use this only.

Thanks and regards,

On Wed, 7 Aug 2024 at 17:00, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 2024-08-07 6:06 a.m., Brian Smith wrote:
> > Hi,
> >
> > I have performed ANOVA as below
> >
> > dat = data.frame(
> > 'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
> > -0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704),
> > 'B' = c(2,1,2,2,1,2,2,2,2,2),
> > 'C' = c(0,1,1,1,1,1,1,0,1,1))
> >
> > summary(aov(A ~ B * C, dat))
> >
> > However now I also tried to calculate SSE for factor C
> >
> > Mean = sapply(split(dat, dat$C), function(x) mean(x$A))
> > N = sapply(split(dat, dat$C), function(x) dim(x)[1])
> >
> > N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
> > #1.691
> >
> > But in ANOVA table the sum-square for C is reported as 0.77.
> >
> > Could you please help how exactly this C = 0.77 is obtained from aov()
>
> Your design isn't balanced, so there are several ways to calculate the
> SS for C.  What you have calculated looks like the "Type I SS" in SAS
> notation, if I remember correctly, assuming that C enters the model
> before B.  That's not what R uses; I think it is Type II SS.
>
> For some details about this, see
> https://mcfromnz.wordpress.com/2011/03/02/anova-type-iiiiii-ss-explained/
>


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Aug  7 14:50:39 2024
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 7 Aug 2024 08:50:39 -0400
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
 <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
 <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
Message-ID: <b003450f-6f40-43c8-8440-39fd25ae24ff@gmail.com>

Sure, summary(aov(A ~ C, dat)) will give it to you.

Duncan Murdoch

On 2024-08-07 8:27 a.m., Brian Smith wrote:
> Hi,
> 
> Thanks for this information. Is there any way to force R to use Type-1
> SS? I think most textbooks use this only.
> 
> Thanks and regards,
> 
> On Wed, 7 Aug 2024 at 17:00, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> On 2024-08-07 6:06 a.m., Brian Smith wrote:
>>> Hi,
>>>
>>> I have performed ANOVA as below
>>>
>>> dat = data.frame(
>>> 'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
>>> -0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704),
>>> 'B' = c(2,1,2,2,1,2,2,2,2,2),
>>> 'C' = c(0,1,1,1,1,1,1,0,1,1))
>>>
>>> summary(aov(A ~ B * C, dat))
>>>
>>> However now I also tried to calculate SSE for factor C
>>>
>>> Mean = sapply(split(dat, dat$C), function(x) mean(x$A))
>>> N = sapply(split(dat, dat$C), function(x) dim(x)[1])
>>>
>>> N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
>>> #1.691
>>>
>>> But in ANOVA table the sum-square for C is reported as 0.77.
>>>
>>> Could you please help how exactly this C = 0.77 is obtained from aov()
>>
>> Your design isn't balanced, so there are several ways to calculate the
>> SS for C.  What you have calculated looks like the "Type I SS" in SAS
>> notation, if I remember correctly, assuming that C enters the model
>> before B.  That's not what R uses; I think it is Type II SS.
>>
>> For some details about this, see
>> https://mcfromnz.wordpress.com/2011/03/02/anova-type-iiiiii-ss-explained/
>>


From tebert @end|ng |rom u||@edu  Wed Aug  7 15:09:28 2024
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 7 Aug 2024 13:09:28 +0000
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
 <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
 <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
Message-ID: <CH3PR22MB451413843DF345EEB9AAAAA2CFB82@CH3PR22MB4514.namprd22.prod.outlook.com>

In proc glm, SAS will give both type I and type III sums of squares. You can get type II if you ask. Other procedures in SAS have different output as defaults.

Introductory textbooks may only cover type I SS. It is easy to calculate and gets the idea across. In application one of the problems is that a researcher could reanalyze the data to get an outcome of their choice because the order in which variables appear in the model influences their type I SS.
A + B + A*B + C + A*C + B*C + A*B*C
B + C + A + A*B + A*C + B*C + A*B*C

Each variable (or interaction) can have a different type I SS and that can change the perception of which elements of the model are significant or not. Type III SS will give the same SS values for either model.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Brian Smith
Sent: Wednesday, August 7, 2024 8:28 AM
To: Duncan Murdoch <murdoch.duncan at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] Manually calculating values from aov() result

[External Email]

Hi,

Thanks for this information. Is there any way to force R to use Type-1 SS? I think most textbooks use this only.

Thanks and regards,

On Wed, 7 Aug 2024 at 17:00, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 2024-08-07 6:06 a.m., Brian Smith wrote:
> > Hi,
> >
> > I have performed ANOVA as below
> >
> > dat = data.frame(
> > 'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
> > -0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704), 'B' =
> > c(2,1,2,2,1,2,2,2,2,2), 'C' = c(0,1,1,1,1,1,1,0,1,1))
> >
> > summary(aov(A ~ B * C, dat))
> >
> > However now I also tried to calculate SSE for factor C
> >
> > Mean = sapply(split(dat, dat$C), function(x) mean(x$A)) N =
> > sapply(split(dat, dat$C), function(x) dim(x)[1])
> >
> > N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
> > #1.691
> >
> > But in ANOVA table the sum-square for C is reported as 0.77.
> >
> > Could you please help how exactly this C = 0.77 is obtained from
> > aov()
>
> Your design isn't balanced, so there are several ways to calculate the
> SS for C.  What you have calculated looks like the "Type I SS" in SAS
> notation, if I remember correctly, assuming that C enters the model
> before B.  That's not what R uses; I think it is Type II SS.
>
> For some details about this, see
> https://mcfr/
> omnz.wordpress.com%2F2011%2F03%2F02%2Fanova-type-iiiiii-ss-explained%2
> F&data=05%7C02%7Ctebert%40ufl.edu%7C21219670c5d541da503d08dcb6dc6c08%7
> C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638586305046428793%7CUnkno
> wn%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiL
> CJXVCI6Mn0%3D%7C0%7C%7C%7C&sdata=HIGCrSH46P%2B1Y0cXUAfZ7DMCCORvtWaiRGC
> crokr4Rs%3D&reserved=0
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From j|ox @end|ng |rom mcm@@ter@c@  Wed Aug  7 15:58:38 2024
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Wed, 7 Aug 2024 09:58:38 -0400
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
 <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
 <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
Message-ID: <46c97bcb-6dc4-4d0c-aba0-01f8522460e4@mcmaster.ca>

Dear Brian,

As Duncan mentioned, the terms type-I, II, and III sums of squares 
originated in SAS. The type-II and III SSs computed by the Anova() 
function in the car package take a different computational approach than 
in SAS, but in almost all cases produce the same results. (I slightly 
regret using the "type-*" terminology for car::Anova() because of the 
lack of exact correspondence to SAS.) The standard R anova() function 
computes type-I (sequential) SSs.

The focus, however, shouldn't be on the SSs, or how they're computed, 
but on the hypotheses that are tested. Briefly, the hypotheses for 
type-I tests assume that all terms later in the sequence are 0 in the 
population; type-II tests assume that interactions to which main effects 
are marginal (and higher-order interactions to which lower-order 
interactions are marginal) are 0. Type-III tests don't, e.g., assume 
that interactions to which a main effect are marginal are 0 in testing 
the main effect, which represents an average over levels of the 
factor(s) with which the factor in the main effect interact. The 
description of the hypotheses for type-III tests is even more complex if 
there are covariates. In my opinion, researchers are usually interested 
in the hypotheses for type-II tests.

These matters are described in detail, for example, in my applied 
regression text <https://www.john-fox.ca/AppliedRegression/index.html>.

I hope this helps,
  John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://www.john-fox.ca/
--
On 2024-08-07 8:27 a.m., Brian Smith wrote:
> [You don't often get email from briansmith199312 at gmail.com. Learn why this is important at https://aka.ms/LearnAboutSenderIdentification ]
> 
> Caution: External email.
> 
> 
> Hi,
> 
> Thanks for this information. Is there any way to force R to use Type-1
> SS? I think most textbooks use this only.
> 
> Thanks and regards,
> 
> On Wed, 7 Aug 2024 at 17:00, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> On 2024-08-07 6:06 a.m., Brian Smith wrote:
>>> Hi,
>>>
>>> I have performed ANOVA as below
>>>
>>> dat = data.frame(
>>> 'A' = c(-0.3960025, -0.3492880, -1.5893792, -1.4579074, -4.9214873,
>>> -0.8575018, -2.5551363, -0.9366557, -1.4307489, -0.3943704),
>>> 'B' = c(2,1,2,2,1,2,2,2,2,2),
>>> 'C' = c(0,1,1,1,1,1,1,0,1,1))
>>>
>>> summary(aov(A ~ B * C, dat))
>>>
>>> However now I also tried to calculate SSE for factor C
>>>
>>> Mean = sapply(split(dat, dat$C), function(x) mean(x$A))
>>> N = sapply(split(dat, dat$C), function(x) dim(x)[1])
>>>
>>> N[1] * (Mean[1] - mean(dat$A))^2 + N[2] * (Mean[2] - mean(dat$A))^2
>>> #1.691
>>>
>>> But in ANOVA table the sum-square for C is reported as 0.77.
>>>
>>> Could you please help how exactly this C = 0.77 is obtained from aov()
>>
>> Your design isn't balanced, so there are several ways to calculate the
>> SS for C.  What you have calculated looks like the "Type I SS" in SAS
>> notation, if I remember correctly, assuming that C enters the model
>> before B.  That's not what R uses; I think it is Type II SS.
>>
>> For some details about this, see
>> https://mcfromnz.wordpress.com/2011/03/02/anova-type-iiiiii-ss-explained/
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ro||turner @end|ng |rom po@teo@net  Thu Aug  8 01:24:48 2024
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Wed,  7 Aug 2024 23:24:48 +0000
Subject: [R] Manually calculating values from aov() result
In-Reply-To: <46c97bcb-6dc4-4d0c-aba0-01f8522460e4@mcmaster.ca>
References: <CAHUBDY9+TyGtz7UWCzgtPVeiXHjms468DqX57BNxx6ucYn+OZw@mail.gmail.com>
 <a1e03df9-d75d-4d71-88a1-072d91fffdb2@gmail.com>
 <CAHUBDY8=qaoFx9Bk3V-7Sj=ssBX9eK-53q2cd+Dab2a35wS_qg@mail.gmail.com>
 <46c97bcb-6dc4-4d0c-aba0-01f8522460e4@mcmaster.ca>
Message-ID: <20240808112448.26210ab6@elderly-dell>


On Wed, 7 Aug 2024 09:58:38 -0400
John Fox <jfox at mcmaster.ca> wrote:

> Dear Brian,
> 
> As Duncan mentioned, the terms type-I, II, and III sums of squares 
> originated in SAS. ...

<SNIP>

> The focus, however, shouldn't be on the SSs, or how they're computed, 
> but on the hypotheses that are tested.

<SNIP>

The last point is focussed on in:

    https://www.stats.ox.ac.uk/pub/MASS3/Exegeses.pdf

I don't agree with everything that Prof. Venables says, but "Exegeses"
is *well* worth a read.

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From @nupty@g| @end|ng |rom gm@||@com  Thu Aug  8 09:13:23 2024
From: @nupty@g| @end|ng |rom gm@||@com (Anupam Tyagi)
Date: Thu, 8 Aug 2024 12:43:23 +0530
Subject: [R] WDI package commands timing out and not working
Message-ID: <CAFL9eun-6HWgw1LQ1xia0vS+wqb+xe4oC7irr=GogVi0U45v8A@mail.gmail.com>

There is some problem getting data with the WDI package. It gets data from
World Development Indicators and other databases of The World Bank. I let
the code run for several minutes and nothing happens. Sometimes it gives a
time out message. I ran the same code last year and it worked. Any idea
what the problem is and how to fix it?

> dat1EU = WDI(indicator = c('NY.ADJ.NNAT.GN.ZS', 'NY.GNS.ICTR.GN.ZS'), country = c('EU'), start=1977, end=2020)


> dat1OED = WDI(indicator = c('NY.ADJ.NNAT.GN.ZS', 'NY.GNS.ICTR.GN.ZS'), country = c('OED'), start=1977, end=2020)Warning message:
In open.connection(con, "rb") :
  URL 'https://api.worldbank.org/v2/en/country/OED/indicator/NY.ADJ.NNAT.GN.ZS?format=json&date=1977:2020&per_page=32500&page=1':
Timeout of 60 seconds was reached


The following  command works and gives the correct output.

> WDIsearch('savings')


-- 
Anupam.

	[[alternative HTML version deleted]]


