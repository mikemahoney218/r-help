From chr_bou@quet @end|ng |rom protonm@||@com  Fri Sep  1 11:05:45 2023
From: chr_bou@quet @end|ng |rom protonm@||@com (Christophe Bousquet)
Date: Fri, 01 Sep 2023 09:05:45 +0000
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <20230831224352.265f0e82@Tarkus>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <65a86647-6d3c-2cbc-f430-ceffdfabc27e@gmail.com>
 <D442E7BB-8B62-4D90-92CB-CFF4D04747A5@dcn.davis.ca.us>
 <FcRXptuQK7mSj19HnYSV_WCP7s36C1RyQ4c_sf209rfnQkw0yXP-wkhQKX0JpjKUVfEJpoYauN9cnI6sqiGYF4Xi_GvYR0M7gVnye9iA6-w=@protonmail.com>
 <20230831153428.0c697d8c@arachnoid>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
Message-ID: <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>

> Is there a "C:\Program Files\R\R-4.3.1\bin\x64\Rterm.exe"? If you
> launch it, does it present an R command line?

Yes, this file exists and when I launch it, a new functionally-working R terminal window pops up.


> I'm suspecting that Rcmd.exe somehow messes up when it tries to locate
> Rterm.exe to launch it. Here's one way to see what happens:
> 
> 1. Download Sysinternals Process Monitor, a free monitoring utility,
> from the Microsoft website and launch it (no installation needed):
> https://learn.microsoft.com/en-us/sysinternals/downloads/procmon
> 
> 2. Set up the filter so that so that entries are included
> - Process name is "Rcmd.exe"
> - Operation is "Process Create"
> 
> 3. Run tools::Rcmd('SHLIB --help') (or any other Rcmd invocation that
> fails to produce any output for you)
> 
> 4. You should get one event of Rcmd.exe trying to launch cmd.exe with a
> long command line. What is the command line?

For 2., I also added the Process name "Rterm.exe"
Here are the outputs from Process Monitor for each situation.
In the first situation, I run the command tools::Rcmd('SHLIB --help') from within R (launched by clicking on the R icon). I get:
Process Name: Rcmd.exe
PID: 8204
Path: C:\WINDOWS\System32\Conhost.exe
Result: SUCCESS
Detail: PID: 4028, Command line: \??\C:\WINDOWS\system32\conhost.exe 0xffffffff -ForceV1

In the second situation, I run the command tools::Rcmd('SHLIB --help') from the R terminal (launched by clicking on Rterm.exe). I get:
Process Name: Rterm.exe
PID: 14596
Path: C:\PROGRA~1\R\R-43~1.1\bin\x64\Rcmd.exe
Result: SUCCESS
Detail: PID: 6820, Command line: C:\PROGRA~1\R\R-43~1.1\bin\x64\Rcmd.exe SHLIB --help

Best regards,
Christophe


From kry|ov@r00t @end|ng |rom gm@||@com  Fri Sep  1 16:53:15 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 1 Sep 2023 17:53:15 +0300
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <65a86647-6d3c-2cbc-f430-ceffdfabc27e@gmail.com>
 <D442E7BB-8B62-4D90-92CB-CFF4D04747A5@dcn.davis.ca.us>
 <FcRXptuQK7mSj19HnYSV_WCP7s36C1RyQ4c_sf209rfnQkw0yXP-wkhQKX0JpjKUVfEJpoYauN9cnI6sqiGYF4Xi_GvYR0M7gVnye9iA6-w=@protonmail.com>
 <20230831153428.0c697d8c@arachnoid>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
 <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
Message-ID: <20230901175315.1cbe946c@arachnoid>

? Fri, 01 Sep 2023 09:05:45 +0000
Christophe Bousquet <chr_bousquet at protonmail.com> ?????:

> In the first situation, I run the command tools::Rcmd('SHLIB --help')
> from within R (launched by clicking on the R icon). I get:
> Process Name: Rcmd.exe
> PID: 8204
> Path: C:\WINDOWS\System32\Conhost.exe
> Result: SUCCESS
> Detail: PID: 4028, Command line: \??\C:\WINDOWS\system32\conhost.exe
> 0xffffffff -ForceV1

I'll be honest with you: I still don't understand what's going on.

Thank you for confirming that your filter works (seeing Rcmd.exe
launched when you run tools::Rcmd() from Rterm.exe is the expected
behaviour), but I don't know enough about Windows internals to come up
with an explanation for the observed behaviour.

If you're up to compiling R from source [*] and using a symbolic
debugger [**] to step through Rcmd.exe, we could try to do that.
Murphy's law says that the copy of Rcmd.exe you'll build from source
will work well and refuse to reproduce the problem for you to
investigate. (Beyond that, there is binary-level debugging, which I'm
not well versed in.)

-- 
Best regards,
Ivan

[*] https://cran.r-project.org/bin/windows/base/howto-R-devel.html

[**] https://beej.us/guide/bggdb/


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Fri Sep  1 20:38:24 2023
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Fri, 1 Sep 2023 13:38:24 -0500
Subject: [R] How to create an R input
In-Reply-To: <CA+8X3fXCKhJgV5SOV=2stwSk_AxecQb=0cKb03URGxEnh1-NSg@mail.gmail.com>
References: <000001d9dbac$e613b790$b23b26b0$.ref@sbcglobal.net>
 <000001d9dbac$e613b790$b23b26b0$@sbcglobal.net>
 <CA+8X3fXCKhJgV5SOV=2stwSk_AxecQb=0cKb03URGxEnh1-NSg@mail.gmail.com>
Message-ID: <005501d9dd03$7dd2aee0$79780ca0$@sbcglobal.net>

Jim

Yes that is helpful. Everything goes inside the function

Jeff

-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com> 
Sent: Wednesday, August 30, 2023 10:54 PM
To: Jeff Reichman <reichmanj at sbcglobal.net>
Cc: r-help at r-project.org
Subject: Re: [R] How to create an R input

HI Jeff,
This might give you a start.

add_stuff<-function(x) {
 x<-xinc<-NA
 finished<-FALSE
 while(is.na(x))
  x<-as.numeric(readline("What number do you want to start? "))
 while(is.na(xinc) || !finished) {
  xinc<-as.numeric(readline("What number do you want to add? "))
  if(is.numeric(xinc)) x<-x+xinc
  answer<-unlist(strsplit(readline("Do you want to keep doing this?
(y/n) "),""))[1]
  finished<-toupper(answer)!="Y"
 }
 return(x)
}

Jim

On Thu, Aug 31, 2023 at 11:46?AM Jeff Reichman <reichmanj at sbcglobal.net> wrote:
>
> R Help
>
>
>
> Trying to figure out how to create a simple program that will as the 
> user from a value input and simply add 5 units to that value then ask 
> the user for another value  and add 45 units to it  and on and on. 
> Then how does one exit the loop of program?
>
>
>
> # Create a function called `add_five`
>
> add_five <- function(x) {
>
>   # Add 5 to the input value
>
>   x + 5
>
> }
>
>
>
> readline(prompt = "Enter a number: ")
>
>
>
> Jeff
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bog@@o@chr|@to|er @end|ng |rom gm@||@com  Sat Sep  2 18:53:51 2023
From: bog@@o@chr|@to|er @end|ng |rom gm@||@com (Christofer Bogaso)
Date: Sat, 2 Sep 2023 22:23:51 +0530
Subject: [R] Fails to install Rfast package
Message-ID: <CA+dpOJnBE0yGryi1uhifsC9K-vJe=tic9x=RdHqmZRAwuSmc3w@mail.gmail.com>

Hi,

I was trying to install Rfast package in iMac (OS HIGH SIERRA) from
source. However the installation fails with below message.

Rfast is an essential package for various other packages in R

Could you please help how to resolve this error?

Thankss for your help

> install.packages("/Volumes/WDStorage/NAS Download/Rfast_2.0.8.tar.gz", repos = NULL)

* installing *source* package ?Rfast? ...

** package ?Rfast? successfully unpacked and MD5 sums checked

** using staged installation

** libs

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c Diag.cpp -o Diag.o

In file included from Diag.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c Norm.cpp -o Norm.o

In file included from Norm.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c Rank.cpp -o Rank.o

In file included from Rank.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c Sort.cpp -o Sort.o

In file included from Sort.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c Table.cpp -o Table.o

In file included from Table.cpp:5:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c add_to_namespace.cpp -o
add_to_namespace.o

In file included from add_to_namespace.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c apply_condition.cpp -o
apply_condition.o

In file included from apply_condition.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c as_integer.cpp -o
as_integer.o

In file included from as_integer.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c binarysearch.cpp -o
binarysearch.o

In file included from binarysearch.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c bincomb.cpp -o
bincomb.o

In file included from bincomb.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c calc_qpois_regs.cpp -o
calc_qpois_regs.o

In file included from calc_qpois_regs.cpp:3:

In file included from ./calc_qpois_regs.h:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c check.cpp -o check.o

In file included from check.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c cholesky.cpp -o
cholesky.o

In file included from cholesky.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c col_row_utilities.cpp
-o col_row_utilities.o

In file included from col_row_utilities.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c col_row_utilities_p.cpp
-o col_row_utilities_p.o

In file included from col_row_utilities_p.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c col_statistical.cpp -o
col_statistical.o

In file included from col_statistical.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c colrint_mle.cpp -o
colrint_mle.o

In file included from colrint_mle.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c colweibull_mle.cpp -o
colweibull_mle.o

In file included from colweibull_mle.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c cts.cpp -o cts.o

In file included from cts.cpp:4:

In file included from ./cts.h:9:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c cts_rf.cpp -o cts_rf.o

In file included from cts_rf.cpp:1:

In file included from ./cts_rf.h:5:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

cts_rf.cpp:786:18: warning: variable 'itters' set but not used
[-Wunused-but-set-variable]

  unsigned int j,itters=0;

                 ^

2 warnings generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c design_matrix.cpp -o
design_matrix.o

In file included from design_matrix.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c dir_knn.cpp -o
dir_knn.o

In file included from dir_knn.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c diri_nr_type2.cpp -o
diri_nr_type2.o

In file included from diri_nr_type2.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c dista.cpp -o dista.o

In file included from dista.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c dists.cpp -o dists.o

In file included from dists.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c dists_vec.cpp -o
dists_vec.o

In file included from dists_vec.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c each.cpp -o each.o

In file included from each.cpp:1:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c eigs_sym_c.cpp -o
eigs_sym_c.o

In file included from eigs_sym_c.cpp:1:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c energy.cpp -o energy.o

In file included from energy.cpp:5:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c floyd_john.cpp -o
floyd_john.o

In file included from floyd_john.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c frame_to_matrix.cpp -o
frame_to_matrix.o

In file included from frame_to_matrix.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c g2_export.cpp -o
g2_export.o

In file included from g2_export.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c g2_helpers.cpp -o
g2_helpers.o

In file included from g2_helpers.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c g2t.cpp -o g2t.o

In file included from g2t.cpp:5:

In file included from ./g2t.h:18:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp.h:27:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c gamma.cpp -o gamma.o

In file included from gamma.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c gaussian_nb.cpp -o
gaussian_nb.o

In file included from gaussian_nb.cpp:6:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c geom_regs.cpp -o
geom_regs.o

In file included from geom_regs.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c glm.cpp -o glm.o

In file included from glm.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c group.cpp -o group.o

In file included from group.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c hash.cpp -o hash.o

In file included from hash.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang -mmacosx-version-min=10.13
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c is.cpp -o is.o

In file included from is.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c k_nn.cpp -o k_nn.o

In file included from k_nn.cpp:4:

In file included from ./k_nn.h:8:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c logistic_only.cpp -o
logistic_only.o

In file included from logistic_only.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c lower_upper_tri.cpp -o
lower_upper_tri.o

In file included from lower_upper_tri.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c maha.cpp -o maha.o

In file included from maha.cpp:26:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c maha_ex.cpp -o
maha_ex.o

In file included from maha_ex.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c matrices.cpp -o
matrices.o

In file included from matrices.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c mn.cpp -o mn.o

In file included from mn.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c multinom_regs.cpp -o
multinom_regs.o

In file included from multinom_regs.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c my_k_sorted_array.cpp
-o my_k_sorted_array.o

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c normlog_reg.cpp -o
normlog_reg.o

In file included from normlog_reg.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c normlog_regs.cpp -o
normlog_regs.o

In file included from normlog_regs.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c odds_helper.cpp -o
odds_helper.o

In file included from odds_helper.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c partial_sort.cpp -o
partial_sort.o

In file included from partial_sort.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c pc_skel.cpp -o
pc_skel.o

In file included from pc_skel.cpp:4:

In file included from ./pc_skel.h:7:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c permutation.cpp -o
permutation.o

In file included from permutation.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c positive_negative.cpp
-o positive_negative.o

In file included from positive_negative.cpp:6:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c prop.cpp -o prop.o

In file included from prop.cpp:1:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c qpois.cpp -o qpois.o

In file included from qpois.cpp:1:

In file included from ./calc_qpois_regs.h:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c rbing.cpp -o rbing.o

In file included from rbing.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c read.cpp -o read.o

In file included from read.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c reg_lib.cpp -o
reg_lib.o

In file included from reg_lib.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c rep.cpp -o rep.o

In file included from rep.cpp:6:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c rint.cpp -o rint.o

In file included from rint.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c rmdp.cpp -o rmdp.o

In file included from rmdp.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c rvmf_h.cpp -o rvmf_h.o

In file included from rvmf_h.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c sf.cpp -o sf.o

In file included from sf.cpp:1:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c sort_mat.cpp -o
sort_mat.o

In file included from sort_mat.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c sort_unique.cpp -o
sort_unique.o

In file included from sort_unique.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

sort_unique.cpp:165:33: warning: unused variable 'F' [-Wunused-variable]

    vector<int>::iterator pp,nn,F;

                                ^

2 warnings generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c spat_med.cpp -o
spat_med.o

In file included from spat_med.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c spml.cpp -o spml.o

In file included from spml.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c sw_regs.cpp -o
sw_regs.o

In file included from sw_regs.cpp:4:

In file included from ./sw_regs.h:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c system_files.cpp -o
system_files.o

In file included from system_files.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c topological_sort.cpp -o
topological_sort.o

In file included from topological_sort.cpp:4:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c total_dista.cpp -o
total_dista.o

In file included from total_dista.cpp:2:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c total_dists.cpp -o
total_dists.o

In file included from total_dists.cpp:5:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c utilities.cpp -o
utilities.o

In file included from utilities.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c varcomps_mle.cpp -o
varcomps_mle.o

In file included from varcomps_mle.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c vecdist.cpp -o
vecdist.o

In file included from vecdist.cpp:6:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c weib_reg.cpp -o
weib_reg.o

In file included from weib_reg.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17
-I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG
-I../inst/include
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include'
-I'/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include'
-I/usr/local/include   -fPIC  -Wall -g -O2  -c weibull_mle.cpp -o
weibull_mle.o

In file included from weibull_mle.cpp:3:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo.h:29:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppArmadillo/include/RcppArmadillo/interface/RcppArmadilloForward.h:25:

In file included from
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/RcppCommon.h:168:

/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/Rcpp/internal/r_coerce.h:255:7:
warning: 'sprintf' is deprecated: This function is provided

      for compatibility reasons only. Due to security concerns
inherent in the design of sprintf(3), it is highly recommended that
you use snprintf(3) instead. [-Wdeprecated-declarations]

    ::sprintf(buff, "%02x", from);

      ^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/stdio.h:188:1:
note: 'sprintf' has been explicitly marked deprecated here

__deprecated_msg("This function is provided for compatibility reasons
only.  Due to security concerns inherent in the design of sprintf(3),
it is highly recommended that you use snp...

^

/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:215:48:
note: expanded from macro '__deprecated_msg'

        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))

                                                      ^

1 warning generated.

clang++ -mmacosx-version-min=10.13 -std=gnu++17 -dynamiclib
-Wl,-headerpad_max_install_names -undefined dynamic_lookup
-single_module -multiply_defined suppress
-L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
Rfast.so Diag.o Norm.o Rank.o Sort.o Table.o add_to_namespace.o
apply_condition.o as_integer.o binarysearch.o bincomb.o
calc_qpois_regs.o check.o cholesky.o col_row_utilities.o
col_row_utilities_p.o col_statistical.o colrint_mle.o colweibull_mle.o
cts.o cts_rf.o design_matrix.o dir_knn.o diri_nr_type2.o dista.o
dists.o dists_vec.o each.o eigs_sym_c.o energy.o floyd_john.o
frame_to_matrix.o g2_export.o g2_helpers.o g2t.o gamma.o gaussian_nb.o
geom_regs.o glm.o group.o hash.o init.o is.o k_nn.o logistic_only.o
lower_upper_tri.o maha.o maha_ex.o matrices.o mn.o multinom_regs.o
my_k_sorted_array.o normlog_reg.o normlog_regs.o odds_helper.o
partial_sort.o pc_skel.o permutation.o positive_negative.o prop.o
qpois.o rbing.o read.o reg_lib.o rep.o rint.o rmdp.o rvmf_h.o sf.o
sort_mat.o sort_unique.o spat_med.o spml.o sw_regs.o system_files.o
topological_sort.o total_dista.o total_dists.o utilities.o
varcomps_mle.o vecdist.o weib_reg.o weibull_mle.o
-L/Library/Frameworks/R.framework/Resources/lib -lRlapack
-L/Library/Frameworks/R.framework/Resources/lib -lRblas
-L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin18/8.2.0
-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
-F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
-Wl,CoreFoundation

ld: warning: directory not found for option
'-L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin18/8.2.0'

ld: warning: directory not found for option '-L/usr/local/gfortran/lib'

ld: library not found for -lgfortran

clang: error: linker command failed with exit code 1 (use -v to see invocation)

make: *** [Rfast.so] Error 1

ERROR: compilation failed for package ?Rfast?

* removing ?/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rfast?

Warning message:

In install.packages("/Volumes/WDStorage/NAS Download/Rfast_2.0.8.tar.gz",  :

  installation of package ?/Volumes/WDStorage/NAS
Download/Rfast_2.0.8.tar.gz? had non-zero exit status


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Sep  2 19:06:38 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 2 Sep 2023 20:06:38 +0300
Subject: [R] Fails to install Rfast package
In-Reply-To: <CA+dpOJnBE0yGryi1uhifsC9K-vJe=tic9x=RdHqmZRAwuSmc3w@mail.gmail.com>
References: <CA+dpOJnBE0yGryi1uhifsC9K-vJe=tic9x=RdHqmZRAwuSmc3w@mail.gmail.com>
Message-ID: <20230902200638.520f0e83@Tarkus>

? Sat, 2 Sep 2023 22:23:51 +0530
Christofer Bogaso <bogaso.christofer at gmail.com> ?????:

> ld: warning: directory not found for option
> '-L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin18/8.2.0'
> 
> ld: warning: directory not found for option
> '-L/usr/local/gfortran/lib'
> 
> ld: library not found for -lgfortran

Sounds like you need to install gfortran:
https://mac.r-project.org/tools/

If that doesn't help, consider asking at r-sig-mac at r-project.org, a
"special interest group" for everything related to R on macOS.

-- 
Best regards,
Ivan


From |eo@m@d@ @end|ng |rom @yon|c@eu  Mon Sep  4 02:05:40 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Mon, 4 Sep 2023 03:05:40 +0300
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
Message-ID: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>

Dear R-List Members,

I am looking for collaborators to further develop the BioShapes 
almost-package. I added a brief description below.

A.) BioShapes (Almost-) Package

The aim of the BioShapes quasi-package is to facilitate the generation 
of graphical objects resembling biological and chemical entities, 
enabling the construction of diagrams based on these objects. It 
currently includes functions to generate diagrams depicting viral 
particles, liposomes, double helix / DNA strands, various cell types 
(like neurons, brush-border cells and duct cells), Ig-domains, as well 
as more basic shapes.

It should offer researchers in the field of biological and chemical 
sciences a tool to easily generate diagrams depicting the studied 
biological processes.

The package lacks a proper documentation and is not yet released on 
CRAN. However, it is available on GitHub:
https://github.com/discoleo/BioShapes

Although there are 27 unique cloners on GitHub, I am still looking for 
contributors and collaborators. I would appreciate any collaborations to 
develop it further. I can be contacted both by email and on GitHub.


B.) Documentation Tools

Is there a succinct, but sufficiently informative description of 
documentation tools?
I find that including the documentation in the source files is very 
distracting. I would prefer to have only basic comments in the source 
files and an expanded documentation in a separate location.

This question may be more appropriate for the R-package-devel list. I 
can move the 2nd question to that list.

###

As the biological sciences are very vast, I would be very happy for 
collaborators on the development of this package. Examples with existing 
shapes are available in (but are unfortunately not documented):

Man/examples/Examples.Man.R
R/Examples.R
R/Examples.Cells.R
tests/experimental/*


Many thanks,

Leonard


From bgunter@4567 @end|ng |rom gm@||@com  Mon Sep  4 03:58:14 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 3 Sep 2023 18:58:14 -0700
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
Message-ID: <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>

1. R-package-devel is where queries about package protocols should go.

2. But...
"Is there a succinct, but sufficiently informative description of
documentation tools?"
"Writing R Extensions" (shipped with R) is *the* reference for R
documentation. Whether it's sufficiently "succinct" for you, I cannot say.

"I find that including the documentation in the source files is very
distracting."
?? R documentation (.Rd) files are separate from source (.R) files. Inline
documentation in source files is an "add-on" capability provided by
optional packages if one prefers to do this. Such packages parse the source
files to extract the documentation into the .Rd files/ So not sure what you
mean here. Apologies if I have misunderstood.

" I would prefer to have only basic comments in the source
files and an expanded documentation in a separate location."
If I understand you correctly, this is exactly what the R package process
specifies. Again, see the "Writing R Extensions" manual for details.

Also, if you wish to have your package on CRAN, it requires that the
package documents all functions in the package as specified by the "Writing
..." manual.

Again, further questions and elaboration should go to the R-package-devel
list, although I think the manual is really the authoritative resource to
follow.

Cheers,
Bert



On Sun, Sep 3, 2023 at 5:06?PM Leonard Mada via R-help <r-help at r-project.org>
wrote:

> Dear R-List Members,
>
> I am looking for collaborators to further develop the BioShapes
> almost-package. I added a brief description below.
>
> A.) BioShapes (Almost-) Package
>
> The aim of the BioShapes quasi-package is to facilitate the generation
> of graphical objects resembling biological and chemical entities,
> enabling the construction of diagrams based on these objects. It
> currently includes functions to generate diagrams depicting viral
> particles, liposomes, double helix / DNA strands, various cell types
> (like neurons, brush-border cells and duct cells), Ig-domains, as well
> as more basic shapes.
>
> It should offer researchers in the field of biological and chemical
> sciences a tool to easily generate diagrams depicting the studied
> biological processes.
>
> The package lacks a proper documentation and is not yet released on
> CRAN. However, it is available on GitHub:
> https://github.com/discoleo/BioShapes
>
> Although there are 27 unique cloners on GitHub, I am still looking for
> contributors and collaborators. I would appreciate any collaborations to
> develop it further. I can be contacted both by email and on GitHub.
>
>
> B.) Documentation Tools
>
> Is there a succinct, but sufficiently informative description of
> documentation tools?
> I find that including the documentation in the source files is very
> distracting. I would prefer to have only basic comments in the source
> files and an expanded documentation in a separate location.
>
> This question may be more appropriate for the R-package-devel list. I
> can move the 2nd question to that list.
>
> ###
>
> As the biological sciences are very vast, I would be very happy for
> collaborators on the development of this package. Examples with existing
> shapes are available in (but are unfortunately not documented):
>
> Man/examples/Examples.Man.R
> R/Examples.R
> R/Examples.Cells.R
> tests/experimental/*
>
>
> Many thanks,
>
> Leonard
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Mon Sep  4 04:06:09 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Mon, 4 Sep 2023 05:06:09 +0300
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
Message-ID: <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>

Thank you Bert.


Clarification:

Indeed, I am using an add-on package: it is customary for that package - 
that is what I have seen - to have the entire documentation included as 
comments in the R src files. (But maybe I am wrong.)


I will try to find some time over the next few days to explore in more 
detail the R documentation. Although, I do not know how this will 
interact with the add-on package.


Sincerely,


Leonard


On 9/4/2023 4:58 AM, Bert Gunter wrote:
> 1. R-package-devel is where queries about package protocols should go.
>
> 2. But...
> "Is there a succinct, but sufficiently informative description of
> documentation tools?"
> "Writing R Extensions" (shipped with R) is *the* reference for R 
> documentation. Whether it's sufficiently "succinct" for you, I cannot 
> say.
>
> "I find that including the documentation in the source files is very
> distracting."
> ?? R documentation (.Rd) files are separate from source (.R) files. 
> Inline documentation in source files is an "add-on" capability 
> provided by optional packages if one prefers to do this. Such packages 
> parse the source files to extract the documentation into the .Rd 
> files/ So not sure what you mean here. Apologies if I have misunderstood.
>
> " I would prefer to have only basic comments in the source
> files and an expanded documentation in a separate location."
> If I understand you correctly, this is exactly what the R package 
> process specifies. Again, see the "Writing R Extensions" manual for 
> details.
>
> Also, if you wish to have your package on CRAN, it requires that the 
> package documents all functions in the package as specified by the 
> "Writing ..." manual.
>
> Again, further questions and elaboration should go to the 
> R-package-devel list, although I think the manual is really the 
> authoritative resource to follow.
>
> Cheers,
> Bert
>
>
>
> On Sun, Sep 3, 2023 at 5:06?PM Leonard Mada via R-help 
> <r-help at r-project.org> wrote:
>
>     Dear R-List Members,
>
>     I am looking for collaborators to further develop the BioShapes
>     almost-package. I added a brief description below.
>
>     A.) BioShapes (Almost-) Package
>
>     The aim of the BioShapes quasi-package is to facilitate the
>     generation
>     of graphical objects resembling biological and chemical entities,
>     enabling the construction of diagrams based on these objects. It
>     currently includes functions to generate diagrams depicting viral
>     particles, liposomes, double helix / DNA strands, various cell types
>     (like neurons, brush-border cells and duct cells), Ig-domains, as
>     well
>     as more basic shapes.
>
>     It should offer researchers in the field of biological and chemical
>     sciences a tool to easily generate diagrams depicting the studied
>     biological processes.
>
>     The package lacks a proper documentation and is not yet released on
>     CRAN. However, it is available on GitHub:
>     https://github.com/discoleo/BioShapes
>
>     Although there are 27 unique cloners on GitHub, I am still looking
>     for
>     contributors and collaborators. I would appreciate any
>     collaborations to
>     develop it further. I can be contacted both by email and on GitHub.
>
>
>     B.) Documentation Tools
>
>     Is there a succinct, but sufficiently informative description of
>     documentation tools?
>     I find that including the documentation in the source files is very
>     distracting. I would prefer to have only basic comments in the source
>     files and an expanded documentation in a separate location.
>
>     This question may be more appropriate for the R-package-devel list. I
>     can move the 2nd question to that list.
>
>     ###
>
>     As the biological sciences are very vast, I would be very happy for
>     collaborators on the development of this package. Examples with
>     existing
>     shapes are available in (but are unfortunately not documented):
>
>     Man/examples/Examples.Man.R
>     R/Examples.R
>     R/Examples.Cells.R
>     tests/experimental/*
>
>
>     Many thanks,
>
>     Leonard
>
>     ______________________________________________
>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide
>     http://www.R-project.org/posting-guide.html
>     <http://www.R-project.org/posting-guide.html>
>     and provide commented, minimal, self-contained, reproducible code.
>
	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Mon Sep  4 04:47:32 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 03 Sep 2023 19:47:32 -0700
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
 <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
Message-ID: <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>

Leonard... the reason roxygen exists is to allow markup in source files to be used to automatically generate the numerous files required by standard R packages as documented in Writing R Extensions.

If your goal is to not use source files this way then the solution is to not use roxygen at all. Just create those files yourself by directly editing them from scratch.

On September 3, 2023 7:06:09 PM PDT, Leonard Mada via R-help <r-help at r-project.org> wrote:
>Thank you Bert.
>
>
>Clarification:
>
>Indeed, I am using an add-on package: it is customary for that package - 
>that is what I have seen - to have the entire documentation included as 
>comments in the R src files. (But maybe I am wrong.)
>
>
>I will try to find some time over the next few days to explore in more 
>detail the R documentation. Although, I do not know how this will 
>interact with the add-on package.
>
>
>Sincerely,
>
>
>Leonard
>
>
>On 9/4/2023 4:58 AM, Bert Gunter wrote:
>> 1. R-package-devel is where queries about package protocols should go.
>>
>> 2. But...
>> "Is there a succinct, but sufficiently informative description of
>> documentation tools?"
>> "Writing R Extensions" (shipped with R) is *the* reference for R 
>> documentation. Whether it's sufficiently "succinct" for you, I cannot 
>> say.
>>
>> "I find that including the documentation in the source files is very
>> distracting."
>> ?? R documentation (.Rd) files are separate from source (.R) files. 
>> Inline documentation in source files is an "add-on" capability 
>> provided by optional packages if one prefers to do this. Such packages 
>> parse the source files to extract the documentation into the .Rd 
>> files/ So not sure what you mean here. Apologies if I have misunderstood.
>>
>> " I would prefer to have only basic comments in the source
>> files and an expanded documentation in a separate location."
>> If I understand you correctly, this is exactly what the R package 
>> process specifies. Again, see the "Writing R Extensions" manual for 
>> details.
>>
>> Also, if you wish to have your package on CRAN, it requires that the 
>> package documents all functions in the package as specified by the 
>> "Writing ..." manual.
>>
>> Again, further questions and elaboration should go to the 
>> R-package-devel list, although I think the manual is really the 
>> authoritative resource to follow.
>>
>> Cheers,
>> Bert
>>
>>
>>
>> On Sun, Sep 3, 2023 at 5:06?PM Leonard Mada via R-help 
>> <r-help at r-project.org> wrote:
>>
>>     Dear R-List Members,
>>
>>     I am looking for collaborators to further develop the BioShapes
>>     almost-package. I added a brief description below.
>>
>>     A.) BioShapes (Almost-) Package
>>
>>     The aim of the BioShapes quasi-package is to facilitate the
>>     generation
>>     of graphical objects resembling biological and chemical entities,
>>     enabling the construction of diagrams based on these objects. It
>>     currently includes functions to generate diagrams depicting viral
>>     particles, liposomes, double helix / DNA strands, various cell types
>>     (like neurons, brush-border cells and duct cells), Ig-domains, as
>>     well
>>     as more basic shapes.
>>
>>     It should offer researchers in the field of biological and chemical
>>     sciences a tool to easily generate diagrams depicting the studied
>>     biological processes.
>>
>>     The package lacks a proper documentation and is not yet released on
>>     CRAN. However, it is available on GitHub:
>>     https://github.com/discoleo/BioShapes
>>
>>     Although there are 27 unique cloners on GitHub, I am still looking
>>     for
>>     contributors and collaborators. I would appreciate any
>>     collaborations to
>>     develop it further. I can be contacted both by email and on GitHub.
>>
>>
>>     B.) Documentation Tools
>>
>>     Is there a succinct, but sufficiently informative description of
>>     documentation tools?
>>     I find that including the documentation in the source files is very
>>     distracting. I would prefer to have only basic comments in the source
>>     files and an expanded documentation in a separate location.
>>
>>     This question may be more appropriate for the R-package-devel list. I
>>     can move the 2nd question to that list.
>>
>>     ###
>>
>>     As the biological sciences are very vast, I would be very happy for
>>     collaborators on the development of this package. Examples with
>>     existing
>>     shapes are available in (but are unfortunately not documented):
>>
>>     Man/examples/Examples.Man.R
>>     R/Examples.R
>>     R/Examples.Cells.R
>>     tests/experimental/*
>>
>>
>>     Many thanks,
>>
>>     Leonard
>>
>>     ______________________________________________
>>     R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>     https://stat.ethz.ch/mailman/listinfo/r-help
>>     PLEASE do read the posting guide
>>     http://www.R-project.org/posting-guide.html
>>     <http://www.R-project.org/posting-guide.html>
>>     and provide commented, minimal, self-contained, reproducible code.
>>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Sep  4 10:51:32 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 4 Sep 2023 04:51:32 -0400
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
 <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
 <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
Message-ID: <0d20d819-6ebc-f049-71f3-abbc6f3f50c0@gmail.com>

On 03/09/2023 10:47 p.m., Jeff Newmiller wrote:
> Leonard... the reason roxygen exists is to allow markup in source files to be used to automatically generate the numerous files required by standard R packages as documented in Writing R Extensions.
> 
> If your goal is to not use source files this way then the solution is to not use roxygen at all. Just create those files yourself by directly editing them from scratch.

Just a bit of elaboration on Jeff's suggestion -- here's the workflow I 
prefer to using Roxygen.

Once you have a function that works:

1.  install the package
2.  set your working directory to the package "man" directory
3.  run `prompt(functionname)`
4.  edit `functionname.Rd` in the "man" directory, which will already be 
filled in as a skeleton help file, with comments describing what else to 
add.

Don't run prompt() again after editing, or you'll lose all your edits. 
But this is a good way to get started.

I think for the first few times the comments are really helpful, but I 
wouldn't mind a way to suppress them.

Duncan Murdoch


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Mon Sep  4 11:44:13 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Mon, 4 Sep 2023 11:44:13 +0200
Subject: [R] aggregate formula - differing results
Message-ID: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>

Dear useRs,

I have just stumbled across a behavior in aggregate() that I cannot 
explain. Any help would be appreciated!

Sample data:
my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
"FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
"HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 
121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 
1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), 
Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 
32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 
25.149, 33.427, 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84, 
NA, 15.33, 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK = 
c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78, 
NA, 78, 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4, 
5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9, 
29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT", 
"FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), 
row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class = 
"data.frame")

1) Simple aggregation with 2 variables:
aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean, 
na.rm = TRUE)

2) Using the dot notation - different results:
aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)

3) Using dplyr, I get the same results as #1:
group_by(my_data, RAWMAT) %>%
 ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))

4) It gets weirder: using all columns in #1 give the same results as in 
#2 but different from #1 and #3
aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = mean, 
na.rm = TRUE)

So it seems it is not only due to the notation (cbind() vs. dot). Is it 
a bug? A peculiar thing in my dataset? I tend to think this could be due 
to some variables (or their names) as all notations seem to agree when I 
remove some variables (although I haven't found out which variable(s) is 
(are) at fault), e.g.:

my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
"FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
"HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 
121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 
1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), 
Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 
32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 
25.149, 33.427, 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT", 
"FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", 
"HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 
113L, 114L, 115L), class = "data.frame")

aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, data = 
my_data2, FUN = mean, na.rm = TRUE)

aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)

group_by(my_data2, RAWMAT) %>%
 ? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))


Thank you in advance for any hint.
Best wishes,
Ivan




	*LEIBNIZ-ZENTRUM*
*F?R ARCH?OLOGIE*

*Dr. Ivan CALANDRA*
**Head of IMPALA (IMaging Platform At LeizA)

*MONREPOS* Archaeological Research Centre, Schloss Monrepos
56567 Neuwied, Germany

T: +49 2631 9772 243
T: +49 6131 8885 543
ivan.calandra at leiza.de

leiza.de <http://www.leiza.de/>
<http://www.leiza.de/>
ORCID <https://orcid.org/0000-0003-3816-6359>
ResearchGate
<https://www.researchgate.net/profile/Ivan_Calandra>

LEIZA is a foundation under public law of the State of 
Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
Mainz. Supervision is carried out by the Ministry of Science and Health 
of the State of Rhineland-Palatinate. LEIZA is a research museum of the 
Leibniz Association.

From |@go@g|ne @end|ng |rom @jd@e@  Mon Sep  4 12:45:21 2023
From: |@go@g|ne @end|ng |rom @jd@e@ (=?iso-8859-1?Q?Iago_Gin=E9_V=E1zquez?=)
Date: Mon, 4 Sep 2023 10:45:21 +0000
Subject: [R] aggregate formula - differing results
In-Reply-To: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
Message-ID: <AM6PR02MB4423658306CF8F9245DA71AC94E9A@AM6PR02MB4423.eurprd02.prod.outlook.com>

It seems that the issue are the missings. If in  #1 you use the dataset na.omit(my_data) instead of my_data, you get the same output that in #2 and in #4, where all observations with missing data are removed since you are including all the variables.


The second dataset has no issue since it has no missing data.

Iago
________________________________
De: R-help <r-help-bounces at r-project.org> de part de Ivan Calandra <ivan.calandra at leiza.de>
Enviat el: dilluns, 4 de setembre de 2023 11:44
Per a: R-help <r-help at r-project.org>
Tema: [R] aggregate formula - differing results

Dear useRs,

I have just stumbled across a behavior in aggregate() that I cannot
explain. Any help would be appreciated!

Sample data:
my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100",
"FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103",
"HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41,
121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83,
1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2),
Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854,
32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42,
25.149, 33.427, 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84,
NA, 15.33, 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK =
c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78,
NA, 78, 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4,
5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9,
29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT",
"FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")),
row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class =
"data.frame")

1) Simple aggregation with 2 variables:
aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean,
na.rm = TRUE)

2) Using the dot notation - different results:
aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)

3) Using dplyr, I get the same results as #1:
group_by(my_data, RAWMAT) %>%
   summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))

4) It gets weirder: using all columns in #1 give the same results as in
#2 but different from #1 and #3
aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH,
PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = mean,
na.rm = TRUE)

So it seems it is not only due to the notation (cbind() vs. dot). Is it
a bug? A peculiar thing in my dataset? I tend to think this could be due
to some variables (or their names) as all notations seem to agree when I
remove some variables (although I haven't found out which variable(s) is
(are) at fault), e.g.:

my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100",
"FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103",
"HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41,
121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83,
1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2),
Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854,
32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42,
25.149, 33.427, 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT",
"FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS",
"HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L,
113L, 114L, 115L), class = "data.frame")

aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, data =
my_data2, FUN = mean, na.rm = TRUE)

aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)

group_by(my_data2, RAWMAT) %>%
   summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))


Thank you in advance for any hint.
Best wishes,
Ivan




        *LEIBNIZ-ZENTRUM*
*F?R ARCH?OLOGIE*

*Dr. Ivan CALANDRA*
**Head of IMPALA (IMaging Platform At LeizA)

*MONREPOS* Archaeological Research Centre, Schloss Monrepos
56567 Neuwied, Germany

T: +49 2631 9772 243
T: +49 6131 8885 543
ivan.calandra at leiza.de

leiza.de <http://www.leiza.de/>
<http://www.leiza.de/>
ORCID <https://orcid.org/0000-0003-3816-6359>
ResearchGate
<https://www.researchgate.net/profile/Ivan_Calandra>

LEIZA is a foundation under public law of the State of
Rhineland-Palatinate and the City of Mainz. Its headquarters are in
Mainz. Supervision is carried out by the Ministry of Science and Health
of the State of Rhineland-Palatinate. LEIZA is a research museum of the
Leibniz Association.
______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Mon Sep  4 12:52:39 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Mon, 4 Sep 2023 12:52:39 +0200
Subject: [R] aggregate formula - differing results
In-Reply-To: <AM6PR02MB4423658306CF8F9245DA71AC94E9A@AM6PR02MB4423.eurprd02.prod.outlook.com>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <AM6PR02MB4423658306CF8F9245DA71AC94E9A@AM6PR02MB4423.eurprd02.prod.outlook.com>
Message-ID: <26abf8ea-0940-2d54-9965-0201cc870cde@leiza.de>

Thanks Iago for the pointer.


It then means that na.rm = TRUE is not applied in the same way within 
aggregate() as opposed to dplyr::group_by() + summarise(), right? Within 
aggregate, it behaves like na.omit(), that is, it excludes the 
incomplete cases (whole rows), whereas with group_by() + summarise() it 
is applied on each vector (variable), which is what I actually would expect.


I hadn't showed it, but doBy::summaryBy() produces the same results as 
group_by() + summarise().


Ivan


On 04/09/2023 12:45, Iago Gin? V?zquez wrote:
> It seems that the issue are the missings. If in? #1 you use the 
> dataset na.omit(my_data) instead of my_data, you get the same output 
> that in #2 and in #4, where all observations with missing data are 
> removed since you are including all the variables.
>
>
> The second dataset has no issue since it has no missing data.
>
> Iago
> ------------------------------------------------------------------------
> *De:* R-help <r-help-bounces at r-project.org> de part de Ivan Calandra 
> <ivan.calandra at leiza.de>
> *Enviat el:* dilluns, 4 de setembre de 2023 11:44
> *Per a:* R-help <r-help at r-project.org>
> *Tema:* [R] aggregate formula - differing results
> Dear useRs,
>
> I have just stumbled across a behavior in aggregate() that I cannot
> explain. Any help would be appreciated!
>
> Sample data:
> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100",
> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103",
> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41,
> 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83,
> 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2),
> Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854,
> 32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42,
> 25.149, 33.427, 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84,
> NA, 15.33, 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK =
> c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78,
> NA, 78, 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4,
> 5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9,
> 29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT",
> "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")),
> row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class =
> "data.frame")
>
> 1) Simple aggregation with 2 variables:
> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean,
> na.rm = TRUE)
>
> 2) Using the dot notation - different results:
> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
>
> 3) Using dplyr, I get the same results as #1:
> group_by(my_data, RAWMAT) %>%
> ?? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>
> 4) It gets weirder: using all columns in #1 give the same results as in
> #2 but different from #1 and #3
> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH,
> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = mean,
> na.rm = TRUE)
>
> So it seems it is not only due to the notation (cbind() vs. dot). Is it
> a bug? A peculiar thing in my dataset? I tend to think this could be due
> to some variables (or their names) as all notations seem to agree when I
> remove some variables (although I haven't found out which variable(s) is
> (are) at fault), e.g.:
>
> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100",
> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103",
> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41,
> 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83,
> 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2),
> Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854,
> 32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42,
> 25.149, 33.427, 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT",
> "FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS",
> "HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L,
> 113L, 114L, 115L), class = "data.frame")
>
> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, data =
> my_data2, FUN = mean, na.rm = TRUE)
>
> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
>
> group_by(my_data2, RAWMAT) %>%
> ?? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
>
>
> Thank you in advance for any hint.
> Best wishes,
> Ivan
>
>
>
>
> ??????? *LEIBNIZ-ZENTRUM*
> *F?R ARCH?OLOGIE*
>
> *Dr. Ivan CALANDRA*
> **Head of IMPALA (IMaging Platform At LeizA)
>
> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
> 56567 Neuwied, Germany
>
> T: +49 2631 9772 243
> T: +49 6131 8885 543
> ivan.calandra at leiza.de
>
> leiza.de <http://www.leiza.de/>
> <http://www.leiza.de/>
> ORCID <https://orcid.org/0000-0003-3816-6359>
> ResearchGate
> <https://www.researchgate.net/profile/Ivan_Calandra>
>
> LEIZA is a foundation under public law of the State of
> Rhineland-Palatinate and the City of Mainz. Its headquarters are in
> Mainz. Supervision is carried out by the Ministry of Science and Health
> of the State of Rhineland-Palatinate. LEIZA is a research museum of the
> Leibniz Association.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.
	[[alternative HTML version deleted]]


From @|ddh@rth@dortmund @end|ng |rom goog|em@||@com  Sun Sep  3 06:24:28 2023
From: @|ddh@rth@dortmund @end|ng |rom goog|em@||@com (siddharth sahasrabudhe)
Date: Sun, 3 Sep 2023 09:54:28 +0530
Subject: [R] Time out error while connecting to Github repository
Message-ID: <CAO0h10A-DHXngWOvRDHUWZ30HjQhyKQSM2w83+ARHCJHF5P36Q@mail.gmail.com>

I want to access the .csv file from my github repository. While connecting
to the Github repository I am getting the following error:

Error in curl::curl_fetch_memory(file) :
Timeout was reached: [raw.githubusercontent.com] Failed to connect to
raw.githubusercontent.com port 443 after 5250 ms: Timed out

The R-code is as below:

library(tidyverse)
library(rio)

data <- import("
https://raw.githubusercontent.com/siddharth-sahasrabudhe/Youtube-video-files/main/deck.csv
")

Can you please suggest how I can able to resolve this issue?

-- 

Regards
Siddharth Sahasrabudhe

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Sep  4 13:28:34 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 4 Sep 2023 13:28:34 +0200
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
 <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
 <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
Message-ID: <25845.48994.142473.626547@stat.math.ethz.ch>

>>>>> Jeff Newmiller 
>>>>>     on Sun, 03 Sep 2023 19:47:32 -0700 writes:

    > Leonard... the reason roxygen exists is to allow markup in
    > source files to be used to automatically generate the
    > numerous files required by standard R packages as
    > documented in Writing R Extensions.  If your goal is to
    > not use source files this way then the solution is to not
    > use roxygen at all. Just create those files yourself by
    > directly editing them from scratch.

Yes. Many experienced R programmers do not use Roxygen
(or use it only rarely; e.g., together with ESS (Emacs Speaks
 Statistics) to make the initial creation or sometime a thorough
 updating the help pages  man/*.Rd more convenient).

There are different tastes and different work flows for
different people.

Martin


    > On September 3, 2023 7:06:09 PM PDT, Leonard Mada via
    > R-help <r-help at r-project.org> wrote:
    >> Thank you Bert.
    >> 
    >> 
    >> Clarification:
    >> 
    >> Indeed, I am using an add-on package: it is customary for
    >> that package - that is what I have seen - to have the
    >> entire documentation included as comments in the R src
    >> files. (But maybe I am wrong.)
    >> 
    >> 
    >> I will try to find some time over the next few days to
    >> explore in more detail the R documentation. Although, I
    >> do not know how this will interact with the add-on
    >> package.
    >> 
    >> 
    >> Sincerely,
    >> 
    >> 
    >> Leonard
    >> 
    >> 
    >> On 9/4/2023 4:58 AM, Bert Gunter wrote:
    >>> 1. R-package-devel is where queries about package
    >>> protocols should go.
    >>> 
    >>> 2. But...  "Is there a succinct, but sufficiently
    >>> informative description of documentation tools?"
    >>> "Writing R Extensions" (shipped with R) is *the*
    >>> reference for R documentation. Whether it's sufficiently
    >>> "succinct" for you, I cannot say.
    >>> 
    >>> "I find that including the documentation in the source
    >>> files is very distracting."  ?? R documentation (.Rd)
    >>> files are separate from source (.R) files.  Inline
    >>> documentation in source files is an "add-on" capability
    >>> provided by optional packages if one prefers to do
    >>> this. Such packages parse the source files to extract
    >>> the documentation into the .Rd files/ So not sure what
    >>> you mean here. Apologies if I have misunderstood.
    >>> 
    >>> " I would prefer to have only basic comments in the
    >>> source files and an expanded documentation in a separate
    >>> location."  If I understand you correctly, this is
    >>> exactly what the R package process specifies. Again, see
    >>> the "Writing R Extensions" manual for details.
    >>> 
    >>> Also, if you wish to have your package on CRAN, it
    >>> requires that the package documents all functions in the
    >>> package as specified by the "Writing ..." manual.
    >>> 
    >>> Again, further questions and elaboration should go to
    >>> the R-package-devel list, although I think the manual is
    >>> really the authoritative resource to follow.
    >>> 
    >>> Cheers, Bert
    >>> 
    >>> 
    >>> 
    >>> On Sun, Sep 3, 2023 at 5:06?PM Leonard Mada via R-help
    >>> <r-help at r-project.org> wrote:
    >>> 
    >>> Dear R-List Members,
    >>> 
    >>> I am looking for collaborators to further develop the
    >>> BioShapes almost-package. I added a brief description
    >>> below.
    >>> 
    >>> A.) BioShapes (Almost-) Package
    >>> 
    >>> The aim of the BioShapes quasi-package is to facilitate
    >>> the generation of graphical objects resembling
    >>> biological and chemical entities, enabling the
    >>> construction of diagrams based on these objects. It
    >>> currently includes functions to generate diagrams
    >>> depicting viral particles, liposomes, double helix / DNA
    >>> strands, various cell types (like neurons, brush-border
    >>> cells and duct cells), Ig-domains, as well as more basic
    >>> shapes.
    >>> 
    >>> It should offer researchers in the field of biological
    >>> and chemical sciences a tool to easily generate diagrams
    >>> depicting the studied biological processes.
    >>> 
    >>> The package lacks a proper documentation and is not yet
    >>> released on CRAN. However, it is available on GitHub:
    >>> https://github.com/discoleo/BioShapes
    >>> 
    >>> Although there are 27 unique cloners on GitHub, I am
    >>> still looking for contributors and collaborators. I
    >>> would appreciate any collaborations to develop it
    >>> further. I can be contacted both by email and on GitHub.
    >>> 
    >>> 
    >>> B.) Documentation Tools
    >>> 
    >>> Is there a succinct, but sufficiently informative
    >>> description of documentation tools?  I find that
    >>> including the documentation in the source files is very
    >>> distracting. I would prefer to have only basic comments
    >>> in the source files and an expanded documentation in a
    >>> separate location.
    >>> 
    >>> This question may be more appropriate for the
    >>> R-package-devel list. I can move the 2nd question to
    >>> that list.
    >>> 
    >>> ###
    >>> 
    >>> As the biological sciences are very vast, I would be
    >>> very happy for collaborators on the development of this
    >>> package. Examples with existing shapes are available in
    >>> (but are unfortunately not documented):
    >>> 
    >>> Man/examples/Examples.Man.R R/Examples.R
    >>> R/Examples.Cells.R tests/experimental/*
    >>> 
    >>> 
    >>> Many thanks,
    >>> 
    >>> Leonard
    >>> 
    >>> ______________________________________________
    >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    >>> more, see https://stat.ethz.ch/mailman/listinfo/r-help
    >>> PLEASE do read the posting guide
    >>> http://www.R-project.org/posting-guide.html
    >>> <http://www.R-project.org/posting-guide.html> and
    >>> provide commented, minimal, self-contained, reproducible
    >>> code.
    >>> 
    >> [[alternative HTML version deleted]]
    >> 
    >> ______________________________________________
    >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    >> more, see https://stat.ethz.ch/mailman/listinfo/r-help
    >> PLEASE do read the posting guide
    >> http://www.R-project.org/posting-guide.html and provide
    >> commented, minimal, self-contained, reproducible code.

    > -- 
    > Sent from my phone. Please excuse my brevity.

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide
    > http://www.R-project.org/posting-guide.html and provide
    > commented, minimal, self-contained, reproducible code.


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Sep  4 13:30:16 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 4 Sep 2023 13:30:16 +0200
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <0d20d819-6ebc-f049-71f3-abbc6f3f50c0@gmail.com>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
 <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
 <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
 <0d20d819-6ebc-f049-71f3-abbc6f3f50c0@gmail.com>
Message-ID: <25845.49096.600207.193685@stat.math.ethz.ch>

>>>>> Duncan Murdoch 
>>>>>     on Mon, 4 Sep 2023 04:51:32 -0400 writes:

    > On 03/09/2023 10:47 p.m., Jeff Newmiller wrote:
    >> Leonard... the reason roxygen exists is to allow markup
    >> in source files to be used to automatically generate the
    >> numerous files required by standard R packages as
    >> documented in Writing R Extensions.
    >> 
    >> If your goal is to not use source files this way then the
    >> solution is to not use roxygen at all. Just create those
    >> files yourself by directly editing them from scratch.

    > Just a bit of elaboration on Jeff's suggestion -- here's
    > the workflow I prefer to using Roxygen.

    > Once you have a function that works:

    > 1.  install the package 2.  set your working directory
    > to the package "man" directory 3.  run
    > `prompt(functionname)` 4.  edit `functionname.Rd` in the
    > "man" directory, which will already be filled in as a
    > skeleton help file, with comments describing what else
    > to add.

    > Don't run prompt() again after editing, or you'll lose
    > all your edits.  But this is a good way to get started.

    > I think for the first few times the comments are really
    > helpful, but I wouldn't mind a way to suppress them.

    > Duncan Murdoch

Me neither.  A new option, not changing the default, would make sense.

Martin


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Sep  4 13:46:00 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 4 Sep 2023 12:46:00 +0100
Subject: [R] aggregate formula - differing results
In-Reply-To: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
Message-ID: <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>

?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
> Dear useRs,
> 
> I have just stumbled across a behavior in aggregate() that I cannot 
> explain. Any help would be appreciated!
> 
> Sample data:
> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 
> 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 
> 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), 
> Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 
> 32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 
> 25.149, 33.427, 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84, 
> NA, 15.33, 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK = 
> c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78, 
> NA, 78, 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4, 
> 5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9, 
> 29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT", 
> "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), 
> row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class = 
> "data.frame")
> 
> 1) Simple aggregation with 2 variables:
> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean, 
> na.rm = TRUE)
> 
> 2) Using the dot notation - different results:
> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
> 
> 3) Using dplyr, I get the same results as #1:
> group_by(my_data, RAWMAT) %>%
>  ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
> 
> 4) It gets weirder: using all columns in #1 give the same results as in 
> #2 but different from #1 and #3
> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = mean, 
> na.rm = TRUE)
> 
> So it seems it is not only due to the notation (cbind() vs. dot). Is it 
> a bug? A peculiar thing in my dataset? I tend to think this could be due 
> to some variables (or their names) as all notations seem to agree when I 
> remove some variables (although I haven't found out which variable(s) is 
> (are) at fault), e.g.:
> 
> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 
> 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 
> 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), 
> Length = c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 
> 32.075, 21.337, 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 
> 25.149, 33.427, 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT", 
> "FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", 
> "HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 
> 113L, 114L, 115L), class = "data.frame")
> 
> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, data = 
> my_data2, FUN = mean, na.rm = TRUE)
> 
> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
> 
> group_by(my_data2, RAWMAT) %>%
>  ? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
> 
> 
> Thank you in advance for any hint.
> Best wishes,
> Ivan
> 
> 
> 
> 
>  ????*LEIBNIZ-ZENTRUM*
> *F?R ARCH?OLOGIE*
> 
> *Dr. Ivan CALANDRA*
> **Head of IMPALA (IMaging Platform At LeizA)
> 
> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
> 56567 Neuwied, Germany
> 
> T: +49 2631 9772 243
> T: +49 6131 8885 543
> ivan.calandra at leiza.de
> 
> leiza.de <http://www.leiza.de/>
> <http://www.leiza.de/>
> ORCID <https://orcid.org/0000-0003-3816-6359>
> ResearchGate
> <https://www.researchgate.net/profile/Ivan_Calandra>
> 
> LEIZA is a foundation under public law of the State of 
> Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
> Mainz. Supervision is carried out by the Ministry of Science and Health 
> of the State of Rhineland-Palatinate. LEIZA is a research museum of the 
> Leibniz Association.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

You can define a vector of the columns of interest and subset the data 
with it. Then the default na.action = na.omit will no longer remove the 
rows with NA vals in at least one column and the results are the same.

However, this will not give the mean values of the other numeric 
columns, just of those two.



# define a vector of columns of interest
cols <- c("Length", "Width", "RAWMAT")

# 1) Simple aggregation with 2 variables, select cols:
aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN = 
mean, na.rm = TRUE)

# 2) Using the dot notation - if cols are selected, equal results:
aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)

# 3) Using dplyr, the results are now the same results as #1 and #2:
my_data %>%
   select(all_of(cols)) %>%
   group_by(RAWMAT) %>%
   summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))


Hope this helps,

Rui Barradas


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Mon Sep  4 13:51:28 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Mon, 4 Sep 2023 13:51:28 +0200
Subject: [R] aggregate formula - differing results
In-Reply-To: <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
Message-ID: <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>

Thanks Rui for your help; that would be one possibility indeed.

But am I the only one who finds that behavior of aggregate() completely 
unexpected and confusing? Especially considering that dplyr::summarise() 
and doBy::summaryBy() deal with NAs differently, even though they all 
use mean(na.rm = TRUE) to calculate the group stats.

Best wishes,
Ivan

On 04/09/2023 13:46, Rui Barradas wrote:
> ?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
>> Dear useRs,
>>
>> I have just stumbled across a behavior in aggregate() that I cannot 
>> explain. Any help would be appreciated!
>>
>> Sample data:
>> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", 
>> "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 
>> 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = 
>> c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 
>> 1791.48, 461.15, 1127.2), Length = c(44.384, 29.831, 43.869, 48.011, 
>> 54.109, 41.742, 23.854, 32.075, 21.337, 35.459), Width = c(45.982, 
>> 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 62.783, 26.417, 
>> 35.297), PLATWIDTH = c(38.84, NA, 15.33, 30.37, 11.44, 14.88, 13.86, 
>> NA, NA, 26.71), PLATTHICK = c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 
>> 4.58, NA, NA, 9.35), EPA = c(78, NA, 78, 54, 72, 49, 56, NA, NA, 56), 
>> THICKNESS = c(10.97, NA, 9.36, 6.4, 5.89, 11.05, 4.9, NA, NA, 10.08), 
>> WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9, 29.5, 4.5, NA, NA, 23), RAWMAT 
>> = c("FLINT", "FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", 
>> "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), row.names = c(1L, 
>> 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class = "data.frame")
>>
>> 1) Simple aggregation with 2 variables:
>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean, 
>> na.rm = TRUE)
>>
>> 2) Using the dot notation - different results:
>> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
>>
>> 3) Using dplyr, I get the same results as #1:
>> group_by(my_data, RAWMAT) %>%
>> ?? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>
>> 4) It gets weirder: using all columns in #1 give the same results as 
>> in #2 but different from #1 and #3
>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
>> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = 
>> mean, na.rm = TRUE)
>>
>> So it seems it is not only due to the notation (cbind() vs. dot). Is 
>> it a bug? A peculiar thing in my dataset? I tend to think this could 
>> be due to some variables (or their names) as all notations seem to 
>> agree when I remove some variables (although I haven't found out 
>> which variable(s) is (are) at fault), e.g.:
>>
>> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", 
>> "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 
>> 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = 
>> c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 
>> 1791.48, 461.15, 1127.2), Length = c(44.384, 29.831, 43.869, 48.011, 
>> 54.109, 41.742, 23.854, 32.075, 21.337, 35.459), Width = c(45.982, 
>> 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 62.783, 26.417, 
>> 35.297), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT", "FLINT", 
>> "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), 
>> row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), 
>> class = "data.frame")
>>
>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, 
>> data = my_data2, FUN = mean, na.rm = TRUE)
>>
>> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
>>
>> group_by(my_data2, RAWMAT) %>%
>> ?? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
>>
>>
>> Thank you in advance for any hint.
>> Best wishes,
>> Ivan
>>
>>
>>
>>
>> ?????*LEIBNIZ-ZENTRUM*
>> *F?R ARCH?OLOGIE*
>>
>> *Dr. Ivan CALANDRA*
>> **Head of IMPALA (IMaging Platform At LeizA)
>>
>> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
>> 56567 Neuwied, Germany
>>
>> T: +49 2631 9772 243
>> T: +49 6131 8885 543
>> ivan.calandra at leiza.de
>>
>> leiza.de <http://www.leiza.de/>
>> <http://www.leiza.de/>
>> ORCID <https://orcid.org/0000-0003-3816-6359>
>> ResearchGate
>> <https://www.researchgate.net/profile/Ivan_Calandra>
>>
>> LEIZA is a foundation under public law of the State of 
>> Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
>> Mainz. Supervision is carried out by the Ministry of Science and 
>> Health of the State of Rhineland-Palatinate. LEIZA is a research 
>> museum of the Leibniz Association.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> You can define a vector of the columns of interest and subset the data 
> with it. Then the default na.action = na.omit will no longer remove 
> the rows with NA vals in at least one column and the results are the 
> same.
>
> However, this will not give the mean values of the other numeric 
> columns, just of those two.
>
>
>
> # define a vector of columns of interest
> cols <- c("Length", "Width", "RAWMAT")
>
> # 1) Simple aggregation with 2 variables, select cols:
> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN = 
> mean, na.rm = TRUE)
>
> # 2) Using the dot notation - if cols are selected, equal results:
> aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)
>
> # 3) Using dplyr, the results are now the same results as #1 and #2:
> my_data %>%
> ? select(all_of(cols)) %>%
> ? group_by(RAWMAT) %>%
> ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>
>
> Hope this helps,
>
> Rui Barradas
>


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Sep  4 13:56:34 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 4 Sep 2023 12:56:34 +0100
Subject: [R] aggregate formula - differing results
In-Reply-To: <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
 <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
Message-ID: <863ccb45-1570-e856-e2f9-e1b2ebbdaf0f@sapo.pt>

?s 12:51 de 04/09/2023, Ivan Calandra escreveu:
> Thanks Rui for your help; that would be one possibility indeed.
> 
> But am I the only one who finds that behavior of aggregate() completely 
> unexpected and confusing? Especially considering that dplyr::summarise() 
> and doBy::summaryBy() deal with NAs differently, even though they all 
> use mean(na.rm = TRUE) to calculate the group stats.
> 
> Best wishes,
> Ivan
> 
> On 04/09/2023 13:46, Rui Barradas wrote:
>> ?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
>>> Dear useRs,
>>>
>>> I have just stumbled across a behavior in aggregate() that I cannot 
>>> explain. Any help would be appreciated!
>>>
>>> Sample data:
>>> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", 
>>> "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 
>>> 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = 
>>> c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 
>>> 1791.48, 461.15, 1127.2), Length = c(44.384, 29.831, 43.869, 48.011, 
>>> 54.109, 41.742, 23.854, 32.075, 21.337, 35.459), Width = c(45.982, 
>>> 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 62.783, 26.417, 
>>> 35.297), PLATWIDTH = c(38.84, NA, 15.33, 30.37, 11.44, 14.88, 13.86, 
>>> NA, NA, 26.71), PLATTHICK = c(8.67, NA, 7.99, 11.69, 3.3, 16.52, 
>>> 4.58, NA, NA, 9.35), EPA = c(78, NA, 78, 54, 72, 49, 56, NA, NA, 56), 
>>> THICKNESS = c(10.97, NA, 9.36, 6.4, 5.89, 11.05, 4.9, NA, NA, 10.08), 
>>> WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9, 29.5, 4.5, NA, NA, 23), RAWMAT 
>>> = c("FLINT", "FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", 
>>> "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), row.names = c(1L, 
>>> 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class = "data.frame")
>>>
>>> 1) Simple aggregation with 2 variables:
>>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean, 
>>> na.rm = TRUE)
>>>
>>> 2) Using the dot notation - different results:
>>> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
>>>
>>> 3) Using dplyr, I get the same results as #1:
>>> group_by(my_data, RAWMAT) %>%
>>> ?? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>>
>>> 4) It gets weirder: using all columns in #1 give the same results as 
>>> in #2 but different from #1 and #3
>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
>>> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = 
>>> mean, na.rm = TRUE)
>>>
>>> So it seems it is not only due to the notation (cbind() vs. dot). Is 
>>> it a bug? A peculiar thing in my dataset? I tend to think this could 
>>> be due to some variables (or their names) as all notations seem to 
>>> agree when I remove some variables (although I haven't found out 
>>> which variable(s) is (are) at fault), e.g.:
>>>
>>> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", 
>>> "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 
>>> 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), SurfaceArea = 
>>> c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 1169.26, 444.61, 
>>> 1791.48, 461.15, 1127.2), Length = c(44.384, 29.831, 43.869, 48.011, 
>>> 54.109, 41.742, 23.854, 32.075, 21.337, 35.459), Width = c(45.982, 
>>> 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 62.783, 26.417, 
>>> 35.297), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT", "FLINT", 
>>> "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), 
>>> row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), 
>>> class = "data.frame")
>>>
>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, 
>>> data = my_data2, FUN = mean, na.rm = TRUE)
>>>
>>> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
>>>
>>> group_by(my_data2, RAWMAT) %>%
>>> ?? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
>>>
>>>
>>> Thank you in advance for any hint.
>>> Best wishes,
>>> Ivan
>>>
>>>
>>>
>>>
>>> ?????*LEIBNIZ-ZENTRUM*
>>> *F?R ARCH?OLOGIE*
>>>
>>> *Dr. Ivan CALANDRA*
>>> **Head of IMPALA (IMaging Platform At LeizA)
>>>
>>> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
>>> 56567 Neuwied, Germany
>>>
>>> T: +49 2631 9772 243
>>> T: +49 6131 8885 543
>>> ivan.calandra at leiza.de
>>>
>>> leiza.de <http://www.leiza.de/>
>>> <http://www.leiza.de/>
>>> ORCID <https://orcid.org/0000-0003-3816-6359>
>>> ResearchGate
>>> <https://www.researchgate.net/profile/Ivan_Calandra>
>>>
>>> LEIZA is a foundation under public law of the State of 
>>> Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
>>> Mainz. Supervision is carried out by the Ministry of Science and 
>>> Health of the State of Rhineland-Palatinate. LEIZA is a research 
>>> museum of the Leibniz Association.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> You can define a vector of the columns of interest and subset the data 
>> with it. Then the default na.action = na.omit will no longer remove 
>> the rows with NA vals in at least one column and the results are the 
>> same.
>>
>> However, this will not give the mean values of the other numeric 
>> columns, just of those two.
>>
>>
>>
>> # define a vector of columns of interest
>> cols <- c("Length", "Width", "RAWMAT")
>>
>> # 1) Simple aggregation with 2 variables, select cols:
>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN = 
>> mean, na.rm = TRUE)
>>
>> # 2) Using the dot notation - if cols are selected, equal results:
>> aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)
>>
>> # 3) Using dplyr, the results are now the same results as #1 and #2:
>> my_data %>%
>> ? select(all_of(cols)) %>%
>> ? group_by(RAWMAT) %>%
>> ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
Hello,

Puzzling at first yes, unexpected no, it's documented behavior.

This is the result of how the aggregate works, by first applying 
na.action to the data and only then applying the function to each column 
in the formula's LHS.

dplyr works column by column, so there is no na.action involved.

Hope this helps,

Rui Barradas


From chr_bou@quet @end|ng |rom protonm@||@com  Mon Sep  4 14:05:38 2023
From: chr_bou@quet @end|ng |rom protonm@||@com (Christophe Bousquet)
Date: Mon, 04 Sep 2023 12:05:38 +0000
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <20230901175315.1cbe946c@arachnoid>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <FcRXptuQK7mSj19HnYSV_WCP7s36C1RyQ4c_sf209rfnQkw0yXP-wkhQKX0JpjKUVfEJpoYauN9cnI6sqiGYF4Xi_GvYR0M7gVnye9iA6-w=@protonmail.com>
 <20230831153428.0c697d8c@arachnoid>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
 <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
 <20230901175315.1cbe946c@arachnoid>
Message-ID: <pOwTCode1iGrff4jhNKjT2sXAH4MfKK1ikkQK4Ns4UbqADf13tplvHdmwKB4Ncos3pTF3sKomagysD6vxXO9R_eHHuQkjfq3fC3J8kS4DxM=@protonmail.com>

> If you're up to compiling R from source [] and using a symbolic
> debugger [**] to step through Rcmd.exe, we could try to do that.
> Murphy's law says that the copy of Rcmd.exe you'll build from source
> will work well and refuse to reproduce the problem for you to
> investigate. (Beyond that, there is binary-level debugging, which I'm
> not well versed in.)

Dear Ivan,

Yes, I would be up for trying, but this week I need to finish some stuff before going on holidays.
I will try compiling R from source when I am back from holidays, and ask you if I need assistance.

Many thanks again for trying to solve this issue.

Best regards,
Christophe


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Mon Sep  4 14:05:58 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Mon, 4 Sep 2023 14:05:58 +0200
Subject: [R] aggregate formula - differing results
In-Reply-To: <863ccb45-1570-e856-e2f9-e1b2ebbdaf0f@sapo.pt>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
 <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
 <863ccb45-1570-e856-e2f9-e1b2ebbdaf0f@sapo.pt>
Message-ID: <fe9f86ca-7ba2-fe97-0538-49fe5a3bb92c@leiza.de>

Haha, got it now, there is an na.action argument (which defaults to 
na.omit) to aggregate() which is applied before calling mean(na.rm = 
TRUE). Thank you Rui for pointing this out.

So running it with na.pass instead of na.omit gives the same results as 
dplyr::group_by()+summarise():
aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE, 
na.action = na.pass)

Cheers,
Ivan

On 04/09/2023 13:56, Rui Barradas wrote:
> ?s 12:51 de 04/09/2023, Ivan Calandra escreveu:
>> Thanks Rui for your help; that would be one possibility indeed.
>>
>> But am I the only one who finds that behavior of aggregate() 
>> completely unexpected and confusing? Especially considering that 
>> dplyr::summarise() and doBy::summaryBy() deal with NAs differently, 
>> even though they all use mean(na.rm = TRUE) to calculate the group 
>> stats.
>>
>> Best wishes,
>> Ivan
>>
>> On 04/09/2023 13:46, Rui Barradas wrote:
>>> ?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
>>>> Dear useRs,
>>>>
>>>> I have just stumbled across a behavior in aggregate() that I cannot 
>>>> explain. Any help would be appreciated!
>>>>
>>>> Sample data:
>>>> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", 
>>>> "FLINT-100", "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", 
>>>> "HORN-102", "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 
>>>> 142.79, 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), 
>>>> SurfaceArea = c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 
>>>> 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = c(44.384, 
>>>> 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337, 
>>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427, 
>>>> 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84, NA, 15.33, 
>>>> 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK = c(8.67, NA, 
>>>> 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78, NA, 78, 
>>>> 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4, 
>>>> 5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6, 
>>>> 14.9, 29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT", 
>>>> "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", 
>>>> "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 
>>>> 114L, 115L), class = "data.frame")
>>>>
>>>> 1) Simple aggregation with 2 variables:
>>>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = 
>>>> mean, na.rm = TRUE)
>>>>
>>>> 2) Using the dot notation - different results:
>>>> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
>>>>
>>>> 3) Using dplyr, I get the same results as #1:
>>>> group_by(my_data, RAWMAT) %>%
>>>> ?? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>>>
>>>> 4) It gets weirder: using all columns in #1 give the same results 
>>>> as in #2 but different from #1 and #3
>>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
>>>> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = 
>>>> mean, na.rm = TRUE)
>>>>
>>>> So it seems it is not only due to the notation (cbind() vs. dot). 
>>>> Is it a bug? A peculiar thing in my dataset? I tend to think this 
>>>> could be due to some variables (or their names) as all notations 
>>>> seem to agree when I remove some variables (although I haven't 
>>>> found out which variable(s) is (are) at fault), e.g.:
>>>>
>>>> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", 
>>>> "FLINT-100", "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", 
>>>> "HORN-102", "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77, 
>>>> 142.79, 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5), 
>>>> SurfaceArea = c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47, 
>>>> 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = c(44.384, 
>>>> 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337, 
>>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427, 
>>>> 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT", "FLINT", 
>>>> "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", 
>>>> "HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 
>>>> 112L, 113L, 114L, 115L), class = "data.frame")
>>>>
>>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, 
>>>> data = my_data2, FUN = mean, na.rm = TRUE)
>>>>
>>>> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
>>>>
>>>> group_by(my_data2, RAWMAT) %>%
>>>> ?? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
>>>>
>>>>
>>>> Thank you in advance for any hint.
>>>> Best wishes,
>>>> Ivan
>>>>
>>>>
>>>>
>>>>
>>>> ?????*LEIBNIZ-ZENTRUM*
>>>> *F?R ARCH?OLOGIE*
>>>>
>>>> *Dr. Ivan CALANDRA*
>>>> **Head of IMPALA (IMaging Platform At LeizA)
>>>>
>>>> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
>>>> 56567 Neuwied, Germany
>>>>
>>>> T: +49 2631 9772 243
>>>> T: +49 6131 8885 543
>>>> ivan.calandra at leiza.de
>>>>
>>>> leiza.de <http://www.leiza.de/>
>>>> <http://www.leiza.de/>
>>>> ORCID <https://orcid.org/0000-0003-3816-6359>
>>>> ResearchGate
>>>> <https://www.researchgate.net/profile/Ivan_Calandra>
>>>>
>>>> LEIZA is a foundation under public law of the State of 
>>>> Rhineland-Palatinate and the City of Mainz. Its headquarters are in 
>>>> Mainz. Supervision is carried out by the Ministry of Science and 
>>>> Health of the State of Rhineland-Palatinate. LEIZA is a research 
>>>> museum of the Leibniz Association.
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> Hello,
>>>
>>> You can define a vector of the columns of interest and subset the 
>>> data with it. Then the default na.action = na.omit will no longer 
>>> remove the rows with NA vals in at least one column and the results 
>>> are the same.
>>>
>>> However, this will not give the mean values of the other numeric 
>>> columns, just of those two.
>>>
>>>
>>>
>>> # define a vector of columns of interest
>>> cols <- c("Length", "Width", "RAWMAT")
>>>
>>> # 1) Simple aggregation with 2 variables, select cols:
>>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN = 
>>> mean, na.rm = TRUE)
>>>
>>> # 2) Using the dot notation - if cols are selected, equal results:
>>> aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)
>>>
>>> # 3) Using dplyr, the results are now the same results as #1 and #2:
>>> my_data %>%
>>> ? select(all_of(cols)) %>%
>>> ? group_by(RAWMAT) %>%
>>> ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>>
>>>
>>> Hope this helps,
>>>
>>> Rui Barradas
>>>
> Hello,
>
> Puzzling at first yes, unexpected no, it's documented behavior.
>
> This is the result of how the aggregate works, by first applying 
> na.action to the data and only then applying the function to each 
> column in the formula's LHS.
>
> dplyr works column by column, so there is no na.action involved.
>
> Hope this helps,
>
> Rui Barradas
>
>
>


From bog@@o@chr|@to|er @end|ng |rom gm@||@com  Mon Sep  4 14:41:35 2023
From: bog@@o@chr|@to|er @end|ng |rom gm@||@com (Christofer Bogaso)
Date: Mon, 4 Sep 2023 18:11:35 +0530
Subject: [R] Finding combination of states
Message-ID: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>

Let say I have 3 time points.as T0, T1, and T2.(number of such time
points can be arbitrary) In each time point, an object can be any of 5
states, A, B, C, D, E (number of such states can be arbitrary)

I need to find all possible ways, how that object starting with state
B (say) at time T0, can be on state E (example) in time T2

For example one possibility is BAE etc.

Is there any function available with R, that can give me a vector of
such possibilities for arbitrary number of states, time, and for a
given initial and final (desired) states?

ANy pointer will be very appreciated.

Thanks for your time.


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Sep  4 14:59:19 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 4 Sep 2023 14:59:19 +0200
Subject: [R] Time out error while connecting to Github repository
In-Reply-To: <CAO0h10A-DHXngWOvRDHUWZ30HjQhyKQSM2w83+ARHCJHF5P36Q@mail.gmail.com>
References: <CAO0h10A-DHXngWOvRDHUWZ30HjQhyKQSM2w83+ARHCJHF5P36Q@mail.gmail.com>
Message-ID: <25845.54439.881366.66754@stat.math.ethz.ch>

>>>>> siddharth sahasrabudhe via R-help 
>>>>>     on Sun, 3 Sep 2023 09:54:28 +0530 writes:

    > I want to access the .csv file from my github
    > repository. While connecting to the Github repository I am
    > getting the following error:

    > Error in curl::curl_fetch_memory(file) : Timeout was
    > reached: [raw.githubusercontent.com] Failed to connect to
    > raw.githubusercontent.com port 443 after 5250 ms: Timed
    > out

    > The R-code is as below:

library(tidyverse)  ## << UNNEEDED !

library(rio)

    > data <- import("
    > https://raw.githubusercontent.com/siddharth-sahasrabudhe/Youtube-video-files/main/deck.csv
    > ")

    > Can you please suggest how I can able to resolve this
    > issue?

Yes: You used the wrong "file name", because you added a
     <newline> / <linebreak> 
     on both ends by breaking the line.

This works nicely:

> require(rio)
> dd <- import("https://raw.githubusercontent.com/siddharth-sahasrabudhe/Youtube-video-files/main/deck.csv")
> str(dd)
'data.frame':	52 obs. of  3 variables:
 $ face : chr  "king" "queen" "jack" "ten" ...
 $ suit : chr  "spades" "spades" "spades" "spades" ...
 $ value: int  13 12 11 10 9 8 7 6 5 4 ...


    > -- 
    > Regards Siddharth Sahasrabudhe


From |eo@m@d@ @end|ng |rom @yon|c@eu  Mon Sep  4 15:46:21 2023
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Mon, 4 Sep 2023 16:46:21 +0300
Subject: [R] [Pkg-Collaboratos] BioShapes Almost-Package
In-Reply-To: <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
References: <47278c28-0646-3e35-4a50-3d2edf15bd9f@syonic.eu>
 <CAGxFJbQrUaYdrErcwnuyybadWF+FMoaXE=HRcJrdvKry+uw=aw@mail.gmail.com>
 <35c097ab-6c3d-a8c9-6479-baa22ce51a2c@syonic.eu>
 <F0FC3D4C-7AE5-4CC9-8B64-BB192D05D6DD@dcn.davis.ca.us>
Message-ID: <2d23a3b1-33f9-4ffe-b135-d5c1c3bca870@syonic.eu>

Thank you very much for all the responses; especially Duncan's guidance. 
I will add some further ideas on workflows below.

There were quite a few views on GitHub; but there is not much to see, as 
there is absolutely no documentation.? I have added in the meantime a 
basic example:
https://github.com/discoleo/BioShapes/blob/main/Examples.Bioshapes.png
The actual code can do a lot more.

############

Some ideas on workflows:

1. Most code is written as C/C++; the R code is a thin wrapper around 
the C/C++ functions
It is practical to embed the documentation with the R code - as there is 
no complex code anyway. The same may apply for small packages.

2. Complex R code
The comments may clutter the code. It is also difficult to maintain this 
documentation, as the comments are less easily readable. Separating the 
documentation from the code is a good idea.

Unfortunately, this is not so obvious when you start working on your 
first package.

Many thanks,

Leonard


On 9/4/2023 5:47 AM, Jeff Newmiller wrote:
> Leonard... the reason roxygen exists is to allow markup in source files to be used to automatically generate the numerous files required by standard R packages as documented in Writing R Extensions.
>
> If your goal is to not use source files this way then the solution is to not use roxygen at all. Just create those files yourself by directly editing them from scratch.
>
> On September 3, 2023 7:06:09 PM PDT, Leonard Mada via R-help <r-help at r-project.org> wrote:
>> Thank you Bert.
>>
>>
>> Clarification:
>>
>> Indeed, I am using an add-on package: it is customary for that package -
>> that is what I have seen - to have the entire documentation included as
>> comments in the R src files. (But maybe I am wrong.)
>>
>>
>> I will try to find some time over the next few days to explore in more
>> detail the R documentation. Although, I do not know how this will
>> interact with the add-on package.
>>
>>
>> Sincerely,
>>
>>
>> Leonard
>>
>>
>> On 9/4/2023 4:58 AM, Bert Gunter wrote:
>>> 1. R-package-devel is where queries about package protocols should go.
>>>
>>> 2. But...
>>> "Is there a succinct, but sufficiently informative description of
>>> documentation tools?"
>>> "Writing R Extensions" (shipped with R) is *the* reference for R
>>> documentation. Whether it's sufficiently "succinct" for you, I cannot
>>> say.
>>>
>>> "I find that including the documentation in the source files is very
>>> distracting."
>>> ?? R documentation (.Rd) files are separate from source (.R) files.
>>> Inline documentation in source files is an "add-on" capability
>>> provided by optional packages if one prefers to do this. Such packages
>>> parse the source files to extract the documentation into the .Rd
>>> files/ So not sure what you mean here. Apologies if I have misunderstood.
>>>
>>> " I would prefer to have only basic comments in the source
>>> files and an expanded documentation in a separate location."
>>> If I understand you correctly, this is exactly what the R package
>>> process specifies. Again, see the "Writing R Extensions" manual for
>>> details.
>>>
>>> Also, if you wish to have your package on CRAN, it requires that the
>>> package documents all functions in the package as specified by the
>>> "Writing ..." manual.
>>>
>>> Again, further questions and elaboration should go to the
>>> R-package-devel list, although I think the manual is really the
>>> authoritative resource to follow.
>>>
>>> Cheers,
>>> Bert
>>>
>>>
>>>
>>> On Sun, Sep 3, 2023 at 5:06?PM Leonard Mada via R-help
>>> <r-help at r-project.org> wrote:
>>>
>>>      Dear R-List Members,
>>>
>>>      I am looking for collaborators to further develop the BioShapes
>>>      almost-package. I added a brief description below.
>>>
>>>      A.) BioShapes (Almost-) Package
>>>
>>>      The aim of the BioShapes quasi-package is to facilitate the
>>>      generation
>>>      of graphical objects resembling biological and chemical entities,
>>>      enabling the construction of diagrams based on these objects. It
>>>      currently includes functions to generate diagrams depicting viral
>>>      particles, liposomes, double helix / DNA strands, various cell types
>>>      (like neurons, brush-border cells and duct cells), Ig-domains, as
>>>      well
>>>      as more basic shapes.
>>>
>>>      It should offer researchers in the field of biological and chemical
>>>      sciences a tool to easily generate diagrams depicting the studied
>>>      biological processes.
>>>
>>>      The package lacks a proper documentation and is not yet released on
>>>      CRAN. However, it is available on GitHub:
>>>      https://github.com/discoleo/BioShapes
>>>
>>>      Although there are 27 unique cloners on GitHub, I am still looking
>>>      for
>>>      contributors and collaborators. I would appreciate any
>>>      collaborations to
>>>      develop it further. I can be contacted both by email and on GitHub.
>>>
>>>
>>>      B.) Documentation Tools
>>>
>>>      Is there a succinct, but sufficiently informative description of
>>>      documentation tools?
>>>      I find that including the documentation in the source files is very
>>>      distracting. I would prefer to have only basic comments in the source
>>>      files and an expanded documentation in a separate location.
>>>
>>>      This question may be more appropriate for the R-package-devel list. I
>>>      can move the 2nd question to that list.
>>>
>>>      ###
>>>
>>>      As the biological sciences are very vast, I would be very happy for
>>>      collaborators on the development of this package. Examples with
>>>      existing
>>>      shapes are available in (but are unfortunately not documented):
>>>
>>>      Man/examples/Examples.Man.R
>>>      R/Examples.R
>>>      R/Examples.Cells.R
>>>      tests/experimental/*
>>>
>>>
>>>      Many thanks,
>>>
>>>      Leonard
>>>
>>>      ______________________________________________
>>>      R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>      https://stat.ethz.ch/mailman/listinfo/r-help
>>>      PLEASE do read the posting guide
>>>      http://www.R-project.org/posting-guide.html
>>>      <http://www.R-project.org/posting-guide.html>
>>>      and provide commented, minimal, self-contained, reproducible code.
>>>
>> 	[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From er|cjberger @end|ng |rom gm@||@com  Mon Sep  4 16:17:26 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Mon, 4 Sep 2023 17:17:26 +0300
Subject: [R] Finding combination of states
In-Reply-To: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
Message-ID: <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>

The function purrr::cross() can help you with this. For example:

f <- function(states, nsteps, first, last) {
   paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
\(x) paste(unlist(x), collapse=""))), last, sep="")
}
f(LETTERS[1:5], 3, "B", "E")
[1] "BAE" "BBE" "BCE" "BDE" "BEE"

HTH,
Eric


On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso
<bogaso.christofer at gmail.com> wrote:
>
> Let say I have 3 time points.as T0, T1, and T2.(number of such time
> points can be arbitrary) In each time point, an object can be any of 5
> states, A, B, C, D, E (number of such states can be arbitrary)
>
> I need to find all possible ways, how that object starting with state
> B (say) at time T0, can be on state E (example) in time T2
>
> For example one possibility is BAE etc.
>
> Is there any function available with R, that can give me a vector of
> such possibilities for arbitrary number of states, time, and for a
> given initial and final (desired) states?
>
> ANy pointer will be very appreciated.
>
> Thanks for your time.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Mon Sep  4 16:32:20 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 4 Sep 2023 07:32:20 -0700
Subject: [R] aggregate formula - differing results
In-Reply-To: <fe9f86ca-7ba2-fe97-0538-49fe5a3bb92c@leiza.de>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
 <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
 <863ccb45-1570-e856-e2f9-e1b2ebbdaf0f@sapo.pt>
 <fe9f86ca-7ba2-fe97-0538-49fe5a3bb92c@leiza.de>
Message-ID: <CAGxFJbSfpMk7y2WsBO-y7pFLif51CuN+jYq9cnwEe+0UuY7AOA@mail.gmail.com>

Ivan:
Just one perhaps extraneous comment.

You said that you were surprised that aggregate() and group_by() did not
have the same behavior. That is a misconception on your part. As you know,
the tidyverse recapitulates the functionality of many base R functions; but
it makes no claims to do so in exactly the same way and, indeed, often
makes deliberate changes to "improve" behavior. So if you wish to use both,
you should *expect* such differences, which, of course, are documented in
the man pages (and often elsewhere).

Cheers,
Bert

On Mon, Sep 4, 2023 at 5:21?AM Ivan Calandra <ivan.calandra at leiza.de> wrote:

> Haha, got it now, there is an na.action argument (which defaults to
> na.omit) to aggregate() which is applied before calling mean(na.rm =
> TRUE). Thank you Rui for pointing this out.
>
> So running it with na.pass instead of na.omit gives the same results as
> dplyr::group_by()+summarise():
> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE,
> na.action = na.pass)
>
> Cheers,
> Ivan
>
> On 04/09/2023 13:56, Rui Barradas wrote:
> > ?s 12:51 de 04/09/2023, Ivan Calandra escreveu:
> >> Thanks Rui for your help; that would be one possibility indeed.
> >>
> >> But am I the only one who finds that behavior of aggregate()
> >> completely unexpected and confusing? Especially considering that
> >> dplyr::summarise() and doBy::summaryBy() deal with NAs differently,
> >> even though they all use mean(na.rm = TRUE) to calculate the group
> >> stats.
> >>
> >> Best wishes,
> >> Ivan
> >>
> >> On 04/09/2023 13:46, Rui Barradas wrote:
> >>> ?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
> >>>> Dear useRs,
> >>>>
> >>>> I have just stumbled across a behavior in aggregate() that I cannot
> >>>> explain. Any help would be appreciated!
> >>>>
> >>>> Sample data:
> >>>> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10",
> >>>> "FLINT-100", "FLINT-101", "FLINT-102", "HORN-10", "HORN-100",
> >>>> "HORN-102", "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77,
> >>>> 142.79, 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5),
> >>>> SurfaceArea = c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47,
> >>>> 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = c(44.384,
> >>>> 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337,
> >>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427,
> >>>> 20.683, 62.783, 26.417, 35.297), PLATWIDTH = c(38.84, NA, 15.33,
> >>>> 30.37, 11.44, 14.88, 13.86, NA, NA, 26.71), PLATTHICK = c(8.67, NA,
> >>>> 7.99, 11.69, 3.3, 16.52, 4.58, NA, NA, 9.35), EPA = c(78, NA, 78,
> >>>> 54, 72, 49, 56, NA, NA, 56), THICKNESS = c(10.97, NA, 9.36, 6.4,
> >>>> 5.89, 11.05, 4.9, NA, NA, 10.08), WEIGHT = c(34.3, NA, 25.5, 18.6,
> >>>> 14.9, 29.5, 4.5, NA, NA, 23), RAWMAT = c("FLINT", "FLINT", "FLINT",
> >>>> "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS",
> >>>> "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L,
> >>>> 114L, 115L), class = "data.frame")
> >>>>
> >>>> 1) Simple aggregation with 2 variables:
> >>>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN =
> >>>> mean, na.rm = TRUE)
> >>>>
> >>>> 2) Using the dot notation - different results:
> >>>> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
> >>>>
> >>>> 3) Using dplyr, I get the same results as #1:
> >>>> group_by(my_data, RAWMAT) %>%
> >>>>    summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
> >>>>
> >>>> 4) It gets weirder: using all columns in #1 give the same results
> >>>> as in #2 but different from #1 and #3
> >>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH,
> >>>> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN =
> >>>> mean, na.rm = TRUE)
> >>>>
> >>>> So it seems it is not only due to the notation (cbind() vs. dot).
> >>>> Is it a bug? A peculiar thing in my dataset? I tend to think this
> >>>> could be due to some variables (or their names) as all notations
> >>>> seem to agree when I remove some variables (although I haven't
> >>>> found out which variable(s) is (are) at fault), e.g.:
> >>>>
> >>>> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10",
> >>>> "FLINT-100", "FLINT-101", "FLINT-102", "HORN-10", "HORN-100",
> >>>> "HORN-102", "HORN-103", "HORN-104"), EdgeLength = c(130.75, 168.77,
> >>>> 142.79, 130.1, 140.41, 121.37, 70.52, 122.3, 71.01, 104.5),
> >>>> SurfaceArea = c(1736.87, 1571.83, 1656.46, 1247.18, 1177.47,
> >>>> 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = c(44.384,
> >>>> 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337,
> >>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427,
> >>>> 20.683, 62.783, 26.417, 35.297), RAWMAT = c("FLINT", "FLINT",
> >>>> "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", "HORNFELS",
> >>>> "HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 111L,
> >>>> 112L, 113L, 114L, 115L), class = "data.frame")
> >>>>
> >>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT,
> >>>> data = my_data2, FUN = mean, na.rm = TRUE)
> >>>>
> >>>> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
> >>>>
> >>>> group_by(my_data2, RAWMAT) %>%
> >>>>    summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
> >>>>
> >>>>
> >>>> Thank you in advance for any hint.
> >>>> Best wishes,
> >>>> Ivan
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>      *LEIBNIZ-ZENTRUM*
> >>>> *F?R ARCH?OLOGIE*
> >>>>
> >>>> *Dr. Ivan CALANDRA*
> >>>> **Head of IMPALA (IMaging Platform At LeizA)
> >>>>
> >>>> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
> >>>> 56567 Neuwied, Germany
> >>>>
> >>>> T: +49 2631 9772 243
> >>>> T: +49 6131 8885 543
> >>>> ivan.calandra at leiza.de
> >>>>
> >>>> leiza.de <http://www.leiza.de/>
> >>>> <http://www.leiza.de/>
> >>>> ORCID <https://orcid.org/0000-0003-3816-6359>
> >>>> ResearchGate
> >>>> <https://www.researchgate.net/profile/Ivan_Calandra>
> >>>>
> >>>> LEIZA is a foundation under public law of the State of
> >>>> Rhineland-Palatinate and the City of Mainz. Its headquarters are in
> >>>> Mainz. Supervision is carried out by the Ministry of Science and
> >>>> Health of the State of Rhineland-Palatinate. LEIZA is a research
> >>>> museum of the Leibniz Association.
> >>>> ______________________________________________
> >>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>> PLEASE do read the posting guide
> >>>> http://www.R-project.org/posting-guide.html
> >>>> and provide commented, minimal, self-contained, reproducible code.
> >>> Hello,
> >>>
> >>> You can define a vector of the columns of interest and subset the
> >>> data with it. Then the default na.action = na.omit will no longer
> >>> remove the rows with NA vals in at least one column and the results
> >>> are the same.
> >>>
> >>> However, this will not give the mean values of the other numeric
> >>> columns, just of those two.
> >>>
> >>>
> >>>
> >>> # define a vector of columns of interest
> >>> cols <- c("Length", "Width", "RAWMAT")
> >>>
> >>> # 1) Simple aggregation with 2 variables, select cols:
> >>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN =
> >>> mean, na.rm = TRUE)
> >>>
> >>> # 2) Using the dot notation - if cols are selected, equal results:
> >>> aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)
> >>>
> >>> # 3) Using dplyr, the results are now the same results as #1 and #2:
> >>> my_data %>%
> >>>   select(all_of(cols)) %>%
> >>>   group_by(RAWMAT) %>%
> >>>   summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
> >>>
> >>>
> >>> Hope this helps,
> >>>
> >>> Rui Barradas
> >>>
> > Hello,
> >
> > Puzzling at first yes, unexpected no, it's documented behavior.
> >
> > This is the result of how the aggregate works, by first applying
> > na.action to the data and only then applying the function to each
> > column in the formula's LHS.
> >
> > dplyr works column by column, so there is no na.action involved.
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> >
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From rb@er @end|ng |rom @t@u@edu  Mon Sep  4 16:32:44 2023
From: rb@er @end|ng |rom @t@u@edu (Robert Baer)
Date: Mon, 4 Sep 2023 09:32:44 -0500
Subject: [R] Book Recommendation
In-Reply-To: <CAFEqCdwdNgWN+XwKW0ApAFikE9fiw639qibNbAeUj-x3VmDxxA@mail.gmail.com>
References: <d09f5757-b966-8a73-6541-f62f46c87fce@shdawson.com>
 <CAFEqCdwdNgWN+XwKW0ApAFikE9fiw639qibNbAeUj-x3VmDxxA@mail.gmail.com>
Message-ID: <8e4c7a0e-8418-15ed-7eeb-76b8a3a23c17@atsu.edu>

This is a great find for those of us lurking on this thread. Thanks for 
sharing Greg (and of course Paul).

On 8/30/2023 3:52 PM, Greg Snow wrote:
> Stephen,  I see lots of answers with packages and resources, but not
> book recommendations.  I have used Introduction to Data Technologies
> by Paul Murrell (https://www.stat.auckland.ac.nz/~paul/ItDT/) to teach
> SQL and database design and would recommend looking at it as a
> possibility.
>
> On Mon, Aug 28, 2023 at 9:47?AM Stephen H. Dawson, DSL via R-help
> <r-help at r-project.org> wrote:
>> Good Morning,
>>
>>
>> I am doing some research to develop a new course where I teach. I am
>> looking for a book to use in the course content to teach accomplishing
>> SQL in R.
>>
>> Does anyone know of a book on this topic to recommend for consideration?
>>
>>
>> Thank You,
>> --
>> *Stephen Dawson, DSL*
>> /Executive Strategy Consultant/
>> Business & Technology
>> +1 (865) 804-3454
>> http://www.shdawson.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
>


From kry|ov@r00t @end|ng |rom gm@||@com  Mon Sep  4 17:13:24 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 4 Sep 2023 16:13:24 +0100
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <pOwTCode1iGrff4jhNKjT2sXAH4MfKK1ikkQK4Ns4UbqADf13tplvHdmwKB4Ncos3pTF3sKomagysD6vxXO9R_eHHuQkjfq3fC3J8kS4DxM=@protonmail.com>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <FcRXptuQK7mSj19HnYSV_WCP7s36C1RyQ4c_sf209rfnQkw0yXP-wkhQKX0JpjKUVfEJpoYauN9cnI6sqiGYF4Xi_GvYR0M7gVnye9iA6-w=@protonmail.com>
 <20230831153428.0c697d8c@arachnoid>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
 <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
 <20230901175315.1cbe946c@arachnoid>
 <pOwTCode1iGrff4jhNKjT2sXAH4MfKK1ikkQK4Ns4UbqADf13tplvHdmwKB4Ncos3pTF3sKomagysD6vxXO9R_eHHuQkjfq3fC3J8kS4DxM=@protonmail.com>
Message-ID: <20230904161324.224733ea@parabola>

? Mon, 04 Sep 2023 12:05:38 +0000
Christophe Bousquet <chr_bousquet at protonmail.com> ?????:

> I will try compiling R from source when I am back from holidays, and
> ask you if I need assistance.

Make sure to compile with DEBUG=1 so that the compiler flags needed to
emit debugging information will be enabled. Good luck!

-- 
Best regards,
Ivan


From tebert @end|ng |rom u||@edu  Mon Sep  4 18:24:39 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Mon, 4 Sep 2023 16:24:39 +0000
Subject: [R] Finding combination of states
In-Reply-To: <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
Message-ID: <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>

Does this work for you?

t0<-t1<-t2<-LETTERS[1:5]
al2<-expand.grid(t0, t1, t2)
al3<-paste(al2$Var1, al2$Var2, al2$Var3)
al4 <- gsub(" ", "", al3)
head(al3)

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
Sent: Monday, September 4, 2023 10:17 AM
To: Christofer Bogaso <bogaso.christofer at gmail.com>
Cc: r-help <r-help at r-project.org>
Subject: Re: [R] Finding combination of states

[External Email]

The function purrr::cross() can help you with this. For example:

f <- function(states, nsteps, first, last) {
   paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
\(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5], 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"

HTH,
Eric


On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>
> Let say I have 3 time points.as T0, T1, and T2.(number of such time
> points can be arbitrary) In each time point, an object can be any of 5
> states, A, B, C, D, E (number of such states can be arbitrary)
>
> I need to find all possible ways, how that object starting with state
> B (say) at time T0, can be on state E (example) in time T2
>
> For example one possibility is BAE etc.
>
> Is there any function available with R, that can give me a vector of
> such possibilities for arbitrary number of states, time, and for a
> given initial and final (desired) states?
>
> ANy pointer will be very appreciated.
>
> Thanks for your time.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C25
> cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
> PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From bgunter@4567 @end|ng |rom gm@||@com  Mon Sep  4 21:31:07 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 4 Sep 2023 12:31:07 -0700
Subject: [R] Finding combination of states
In-Reply-To: <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>

I think there may be some uncertainty here about what the OP requested. My
interpretation is:

n different times
k different states
Any state can appear at any time in the vector of times and can be repeated
Initial and final states are given

So modifying Tim's expand.grid() solution a bit yields:

g <- function(ntimes, states, init, final){
   ## ntimes: integer, number of unique times
   ## states: vector of unique states
   ## init: initial state
   ## final: final state
do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
}

e.g.

> g(4, LETTERS[1:5], "B", "D")
 [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
 [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
[17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
[25] "BEED"

If neither this nor any of the other suggestions is not what is desired, I
think the OP will have to clarify his query.

Cheers,
Bert

On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

> Does this work for you?
>
> t0<-t1<-t2<-LETTERS[1:5]
> al2<-expand.grid(t0, t1, t2)
> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
> al4 <- gsub(" ", "", al3)
> head(al3)
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
> Sent: Monday, September 4, 2023 10:17 AM
> To: Christofer Bogaso <bogaso.christofer at gmail.com>
> Cc: r-help <r-help at r-project.org>
> Subject: Re: [R] Finding combination of states
>
> [External Email]
>
> The function purrr::cross() can help you with this. For example:
>
> f <- function(states, nsteps, first, last) {
>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5], 3,
> "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>
> HTH,
> Eric
>
>
> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
> >
> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
> > points can be arbitrary) In each time point, an object can be any of 5
> > states, A, B, C, D, E (number of such states can be arbitrary)
> >
> > I need to find all possible ways, how that object starting with state
> > B (say) at time T0, can be on state E (example) in time T2
> >
> > For example one possibility is BAE etc.
> >
> > Is there any function available with R, that can give me a vector of
> > such possibilities for arbitrary number of states, time, and for a
> > given initial and final (desired) states?
> >
> > ANy pointer will be very appreciated.
> >
> > Thanks for your time.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat/
> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
> > PLEASE do read the posting guide
> > http://www.r/
> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C25
> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Sep  4 21:33:14 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 4 Sep 2023 12:33:14 -0700
Subject: [R] Finding combination of states
In-Reply-To: <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
Message-ID: <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>

Sorry, my last line should have read:

If neither this nor any of the other suggestions is what is desired, I
think the OP will have to clarify his query.

Bert

On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> I think there may be some uncertainty here about what the OP requested. My
> interpretation is:
>
> n different times
> k different states
> Any state can appear at any time in the vector of times and can be repeated
> Initial and final states are given
>
> So modifying Tim's expand.grid() solution a bit yields:
>
> g <- function(ntimes, states, init, final){
>    ## ntimes: integer, number of unique times
>    ## states: vector of unique states
>    ## init: initial state
>    ## final: final state
> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
> }
>
> e.g.
>
> > g(4, LETTERS[1:5], "B", "D")
>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
> [25] "BEED"
>
> If neither this nor any of the other suggestions is not what is desired, I
> think the OP will have to clarify his query.
>
> Cheers,
> Bert
>
> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:
>
>> Does this work for you?
>>
>> t0<-t1<-t2<-LETTERS[1:5]
>> al2<-expand.grid(t0, t1, t2)
>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
>> al4 <- gsub(" ", "", al3)
>> head(al3)
>>
>> Tim
>>
>> -----Original Message-----
>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
>> Sent: Monday, September 4, 2023 10:17 AM
>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
>> Cc: r-help <r-help at r-project.org>
>> Subject: Re: [R] Finding combination of states
>>
>> [External Email]
>>
>> The function purrr::cross() can help you with this. For example:
>>
>> f <- function(states, nsteps, first, last) {
>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
>> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5], 3,
>> "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>>
>> HTH,
>> Eric
>>
>>
>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
>> bogaso.christofer at gmail.com> wrote:
>> >
>> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
>> > points can be arbitrary) In each time point, an object can be any of 5
>> > states, A, B, C, D, E (number of such states can be arbitrary)
>> >
>> > I need to find all possible ways, how that object starting with state
>> > B (say) at time T0, can be on state E (example) in time T2
>> >
>> > For example one possibility is BAE etc.
>> >
>> > Is there any function available with R, that can give me a vector of
>> > such possibilities for arbitrary number of states, time, and for a
>> > given initial and final (desired) states?
>> >
>> > ANy pointer will be very appreciated.
>> >
>> > Thanks for your time.
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat/
>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
>> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
>> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
>> > PLEASE do read the posting guide
>> > http://www.r/
>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C25
>> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
>> > and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.r-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Mon Sep  4 21:56:42 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Mon, 4 Sep 2023 22:56:42 +0300
Subject: [R] Finding combination of states
In-Reply-To: <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
Message-ID: <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>

My initial response was buggy and also used a deprecated function.
Also, it seems possible that one may want to rule out any strings where the
same state appears consecutively.
I say that such a string has a repeat.

myExpand <- function(v, n) {
  do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
}

no_repeat <- function(s) {
  v <- unlist(strsplit(s, NULL))
  sum(v[-1]==v[-length(v)]) == 0
}

f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
  if (nsteps < 3) stop("nsteps must be at least 3")
    out <- paste(first,
          myExpand(states, nsteps-2) |>
            apply(MAR=1, \(x) paste(x, collapse="")),
          last, sep="")
    if (rm_repeat) {
      ok <- sapply(out, no_repeat)
      out <- out[ok]
    }
    out
}

f(LETTERS[1:5],4,"B","E")

#  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
"BEAE" "BEBE" "BECE" "BEDE"

On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Sorry, my last line should have read:
>
> If neither this nor any of the other suggestions is what is desired, I
> think the OP will have to clarify his query.
>
> Bert
>
> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
>> I think there may be some uncertainty here about what the OP requested.
>> My interpretation is:
>>
>> n different times
>> k different states
>> Any state can appear at any time in the vector of times and can be
>> repeated
>> Initial and final states are given
>>
>> So modifying Tim's expand.grid() solution a bit yields:
>>
>> g <- function(ntimes, states, init, final){
>>    ## ntimes: integer, number of unique times
>>    ## states: vector of unique states
>>    ## init: initial state
>>    ## final: final state
>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
>> }
>>
>> e.g.
>>
>> > g(4, LETTERS[1:5], "B", "D")
>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
>> [25] "BEED"
>>
>> If neither this nor any of the other suggestions is not what is desired,
>> I think the OP will have to clarify his query.
>>
>> Cheers,
>> Bert
>>
>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu>
>> wrote:
>>
>>> Does this work for you?
>>>
>>> t0<-t1<-t2<-LETTERS[1:5]
>>> al2<-expand.grid(t0, t1, t2)
>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
>>> al4 <- gsub(" ", "", al3)
>>> head(al3)
>>>
>>> Tim
>>>
>>> -----Original Message-----
>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
>>> Sent: Monday, September 4, 2023 10:17 AM
>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
>>> Cc: r-help <r-help at r-project.org>
>>> Subject: Re: [R] Finding combination of states
>>>
>>> [External Email]
>>>
>>> The function purrr::cross() can help you with this. For example:
>>>
>>> f <- function(states, nsteps, first, last) {
>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
>>> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5], 3,
>>> "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>>>
>>> HTH,
>>> Eric
>>>
>>>
>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
>>> bogaso.christofer at gmail.com> wrote:
>>> >
>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
>>> > points can be arbitrary) In each time point, an object can be any of 5
>>> > states, A, B, C, D, E (number of such states can be arbitrary)
>>> >
>>> > I need to find all possible ways, how that object starting with state
>>> > B (say) at time T0, can be on state E (example) in time T2
>>> >
>>> > For example one possibility is BAE etc.
>>> >
>>> > Is there any function available with R, that can give me a vector of
>>> > such possibilities for arbitrary number of states, time, and for a
>>> > given initial and final (desired) states?
>>> >
>>> > ANy pointer will be very appreciated.
>>> >
>>> > Thanks for your time.
>>> >
>>> > ______________________________________________
>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> > https://stat/
>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
>>> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
>>> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>>> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
>>> > PLEASE do read the posting guide
>>> > http://www.r/
>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C25
>>> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>>> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>>> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
>>> > and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.r-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Sep  4 23:04:57 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 4 Sep 2023 14:04:57 -0700
Subject: [R] Finding combination of states
In-Reply-To: <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
Message-ID: <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>

Well, if strings with repeats (as you defined them) are to be excluded, I
think it's simple just to use regular expressions to remove them.

e.g.
g <- function(ntimes, states, init, final, repeats = TRUE)
   ## ntimes: integer, number of unique times
   ## states: vector of unique states
   ## init: initial state
   ## final: final state
{
out <- do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
final))
if(!repeats)
   out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
else out
}
So:

> g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
 [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
 [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"

Perhaps not the most efficient way to do this, of course.

Cheers,
Bert


On Mon, Sep 4, 2023 at 12:57?PM Eric Berger <ericjberger at gmail.com> wrote:

> My initial response was buggy and also used a deprecated function.
> Also, it seems possible that one may want to rule out any strings where
> the same state appears consecutively.
> I say that such a string has a repeat.
>
> myExpand <- function(v, n) {
>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
> }
>
> no_repeat <- function(s) {
>   v <- unlist(strsplit(s, NULL))
>   sum(v[-1]==v[-length(v)]) == 0
> }
>
> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
>   if (nsteps < 3) stop("nsteps must be at least 3")
>     out <- paste(first,
>           myExpand(states, nsteps-2) |>
>             apply(MAR=1, \(x) paste(x, collapse="")),
>           last, sep="")
>     if (rm_repeat) {
>       ok <- sapply(out, no_repeat)
>       out <- out[ok]
>     }
>     out
> }
>
> f(LETTERS[1:5],4,"B","E")
>
> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
> "BEAE" "BEBE" "BECE" "BEDE"
>
> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
>
>> Sorry, my last line should have read:
>>
>> If neither this nor any of the other suggestions is what is desired, I
>> think the OP will have to clarify his query.
>>
>> Bert
>>
>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com>
>> wrote:
>>
>>> I think there may be some uncertainty here about what the OP requested.
>>> My interpretation is:
>>>
>>> n different times
>>> k different states
>>> Any state can appear at any time in the vector of times and can be
>>> repeated
>>> Initial and final states are given
>>>
>>> So modifying Tim's expand.grid() solution a bit yields:
>>>
>>> g <- function(ntimes, states, init, final){
>>>    ## ntimes: integer, number of unique times
>>>    ## states: vector of unique states
>>>    ## init: initial state
>>>    ## final: final state
>>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
>>> }
>>>
>>> e.g.
>>>
>>> > g(4, LETTERS[1:5], "B", "D")
>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
>>> [25] "BEED"
>>>
>>> If neither this nor any of the other suggestions is not what is desired,
>>> I think the OP will have to clarify his query.
>>>
>>> Cheers,
>>> Bert
>>>
>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu>
>>> wrote:
>>>
>>>> Does this work for you?
>>>>
>>>> t0<-t1<-t2<-LETTERS[1:5]
>>>> al2<-expand.grid(t0, t1, t2)
>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
>>>> al4 <- gsub(" ", "", al3)
>>>> head(al3)
>>>>
>>>> Tim
>>>>
>>>> -----Original Message-----
>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
>>>> Sent: Monday, September 4, 2023 10:17 AM
>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
>>>> Cc: r-help <r-help at r-project.org>
>>>> Subject: Re: [R] Finding combination of states
>>>>
>>>> [External Email]
>>>>
>>>> The function purrr::cross() can help you with this. For example:
>>>>
>>>> f <- function(states, nsteps, first, last) {
>>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5],
>>>> 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>>>>
>>>> HTH,
>>>> Eric
>>>>
>>>>
>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
>>>> bogaso.christofer at gmail.com> wrote:
>>>> >
>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
>>>> > points can be arbitrary) In each time point, an object can be any of 5
>>>> > states, A, B, C, D, E (number of such states can be arbitrary)
>>>> >
>>>> > I need to find all possible ways, how that object starting with state
>>>> > B (say) at time T0, can be on state E (example) in time T2
>>>> >
>>>> > For example one possibility is BAE etc.
>>>> >
>>>> > Is there any function available with R, that can give me a vector of
>>>> > such possibilities for arbitrary number of states, time, and for a
>>>> > given initial and final (desired) states?
>>>> >
>>>> > ANy pointer will be very appreciated.
>>>> >
>>>> > Thanks for your time.
>>>> >
>>>> > ______________________________________________
>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> > https://stat/
>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%
>>>> 40ufl.edu
>>>> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
>>>> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>>>> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
>>>> > PLEASE do read the posting guide
>>>> > http://www.r/
>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu
>>>> %7C25
>>>> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>>>> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>>>> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
>>>> > and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.r-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>

	[[alternative HTML version deleted]]


From Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t  Tue Sep  5 00:27:08 2023
From: Ach|m@Ze||e|@ @end|ng |rom u|bk@@c@@t (Achim Zeileis)
Date: Tue, 5 Sep 2023 00:27:08 +0200 (CEST)
Subject: [R] aggregate formula - differing results
In-Reply-To: <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
References: <964d02eb-b292-922f-fe51-a1226aa85cd3@leiza.de>
 <6002fd75-d916-281e-3abc-79ba1d333e03@sapo.pt>
 <a4618ef2-9e34-4e80-eba3-775662c762fd@leiza.de>
Message-ID: <62f2cbac-48d0-c7b5-bfe3-d872a84d2449@uibk.ac.at>

On Mon, 4 Sep 2023, Ivan Calandra wrote:

> Thanks Rui for your help; that would be one possibility indeed.
>
> But am I the only one who finds that behavior of aggregate() completely 
> unexpected and confusing? Especially considering that dplyr::summarise() and 
> doBy::summaryBy() deal with NAs differently, even though they all use 
> mean(na.rm = TRUE) to calculate the group stats.

I agree with Rui that this behaves as documented but I also agree with 
Ivan that the behavior is potentially confusing. Not so much because other 
packages behave differently but mostly because the handling of missing 
values differs between the different aggregate() methods.

Based on my teaching experience, I feel that a default of 
na.action=na.pass would be less confusing, especially in the case with 
multivariate "response".

In the univeriate case the discrepancy can be surprising - in the default 
method you need na.rm=TRUE but in the formula method you get the same 
result without additional arguments (due to na.action=na.omit). But in the 
multivariate case the discrepancy is not obvious, especially for 
beginners, because the results in other variables without NAs are affected 
as well.

A minimal toy example is the following data with two groups (x = A vs. B) 
and two "responses" (y without NAs and z with NA):

d <- data.frame(x = c("A", "A", "B", "B"), y = 1:4, z = c(1:3, NA))
d
##   x y  z
## 1 A 1  1
## 2 A 2  2
## 3 B 3  3
## 4 B 4 NA

Except for naming of the columns, both of the following summaries for y by 
x (without NAs) yield the same result:

aggregate(d$y, list(d$x), FUN = mean)
aggregate(y ~ x, data = d, FUN = mean)
##   x   y
## 1 A 1.5
## 2 B 3.5

For a single variable _with_ NAs, the default method needs the na.rm = 
TRUE argument, the fomula method does not. Again, except for naming of the 
columns:

aggregate(d$z, list(d$x), FUN = mean, na.rm = TRUE)
aggregate(z ~ x, data = d, FUN = mean)
##   x   z
## 1 A 1.5
## 2 B 3.0

Conversely, if you do want the NAs in the groups, the following two are 
the same (except for naming):

aggregate(d$z, list(d$x), FUN = mean)
aggregate(z ~ x, data = d, FUN = mean, na.action = na.pass)
##   x   z
## 1 A 1.5
## 2 B  NA

But in the multivariate case, it is not so obvious why the following two 
commands differ in their results for y (!), the variable without NAs, in 
group B:

aggregate(d[, c("y", "z")], list(d$x), FUN = mean, na.rm = TRUE)
##   Group.1   y   z
## 1       A 1.5 1.5
## 2       B 3.5 3.0
              ^^^

aggregate(cbind(y, z) ~ x, data = d, FUN = mean)
##   x   y   z
## 1 A 1.5 1.5
## 2 B 3.0 3.0
        ^^^

Hence, in my programming courses I tell students to use na.action=na.pass 
in the formula method and to handle NAs in the FUN argument themselves.

I guess that this is not important enough to change the default in 
aggregate.formula. Or are there R core members who also find that this 
inconsistency between the different methods is worth addressing?

If not, maybe an explicit example could be added on the help page? Showing 
something like this might help:

## default: omit enitre row 4 where z=NA
aggregate(cbind(y, z) ~ x, data = d, FUN = mean)
##   x   y   z
## 1 A 1.5 1.5
## 2 B 3.0 3.0

## alternatively: omit row 4 only for z result but not for y result
aggregate(cbind(y, z) ~ x, data = d, FUN = mean, na.action = na.pass, na.rm = TRUE)
##   x   y   z
## 1 A 1.5 1.5
## 2 B 3.5 3.0

Best wishes,
Achim

> On 04/09/2023 13:46, Rui Barradas wrote:
>> ?s 10:44 de 04/09/2023, Ivan Calandra escreveu:
>>> Dear useRs,
>>> 
>>> I have just stumbled across a behavior in aggregate() that I cannot 
>>> explain. Any help would be appreciated!
>>> 
>>> Sample data:
>>> my_data <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
>>> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 121.37, 
>>> 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 1656.46, 
>>> 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = 
>>> c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337, 
>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 
>>> 62.783, 26.417, 35.297), PLATWIDTH = c(38.84, NA, 15.33, 30.37, 11.44, 
>>> 14.88, 13.86, NA, NA, 26.71), PLATTHICK = c(8.67, NA, 7.99, 11.69, 3.3, 
>>> 16.52, 4.58, NA, NA, 9.35), EPA = c(78, NA, 78, 54, 72, 49, 56, NA, NA, 
>>> 56), THICKNESS = c(10.97, NA, 9.36, 6.4, 5.89, 11.05, 4.9, NA, NA, 10.08), 
>>> WEIGHT = c(34.3, NA, 25.5, 18.6, 14.9, 29.5, 4.5, NA, NA, 23), RAWMAT = 
>>> c("FLINT", "FLINT", "FLINT", "FLINT", "FLINT", "HORNFELS", "HORNFELS", 
>>> "HORNFELS", "HORNFELS", "HORNFELS")), row.names = c(1L, 2L, 3L, 4L, 5L, 
>>> 111L, 112L, 113L, 114L, 115L), class = "data.frame")
>>> 
>>> 1) Simple aggregation with 2 variables:
>>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data, FUN = mean, na.rm 
>>> = TRUE)
>>> 
>>> 2) Using the dot notation - different results:
>>> aggregate(. ~ RAWMAT, data = my_data[-1], FUN = mean, na.rm = TRUE)
>>> 
>>> 3) Using dplyr, I get the same results as #1:
>>> group_by(my_data, RAWMAT) %>%
>>> ?? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>>> 
>>> 4) It gets weirder: using all columns in #1 give the same results as in #2 
>>> but different from #1 and #3
>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width, PLATWIDTH, 
>>> PLATTHICK, EPA, THICKNESS, WEIGHT) ~ RAWMAT, data = my_data, FUN = mean, 
>>> na.rm = TRUE)
>>> 
>>> So it seems it is not only due to the notation (cbind() vs. dot). Is it a 
>>> bug? A peculiar thing in my dataset? I tend to think this could be due to 
>>> some variables (or their names) as all notations seem to agree when I 
>>> remove some variables (although I haven't found out which variable(s) is 
>>> (are) at fault), e.g.:
>>> 
>>> my_data2 <- structure(list(ID = c("FLINT-1", "FLINT-10", "FLINT-100", 
>>> "FLINT-101", "FLINT-102", "HORN-10", "HORN-100", "HORN-102", "HORN-103", 
>>> "HORN-104"), EdgeLength = c(130.75, 168.77, 142.79, 130.1, 140.41, 121.37, 
>>> 70.52, 122.3, 71.01, 104.5), SurfaceArea = c(1736.87, 1571.83, 1656.46, 
>>> 1247.18, 1177.47, 1169.26, 444.61, 1791.48, 461.15, 1127.2), Length = 
>>> c(44.384, 29.831, 43.869, 48.011, 54.109, 41.742, 23.854, 32.075, 21.337, 
>>> 35.459), Width = c(45.982, 67.303, 52.679, 26.42, 25.149, 33.427, 20.683, 
>>> 62.783, 26.417, 35.297), RAWMAT = c("FLINT", "FLINT", "FLINT", "FLINT", 
>>> "FLINT", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS", "HORNFELS")), 
>>> row.names = c(1L, 2L, 3L, 4L, 5L, 111L, 112L, 113L, 114L, 115L), class = 
>>> "data.frame")
>>> 
>>> aggregate(cbind(EdgeLength, SurfaceArea, Length, Width) ~ RAWMAT, data = 
>>> my_data2, FUN = mean, na.rm = TRUE)
>>> 
>>> aggregate(. ~ RAWMAT, data = my_data2[-1], FUN = mean, na.rm = TRUE)
>>> 
>>> group_by(my_data2, RAWMAT) %>%
>>> ?? summarise(across(where(is.numeric), ~ mean(.x, na.rm = TRUE)))
>>> 
>>> 
>>> Thank you in advance for any hint.
>>> Best wishes,
>>> Ivan
>>> 
>>> 
>>> 
>>> 
>>> ?????*LEIBNIZ-ZENTRUM*
>>> *F?R ARCH?OLOGIE*
>>> 
>>> *Dr. Ivan CALANDRA*
>>> **Head of IMPALA (IMaging Platform At LeizA)
>>> 
>>> *MONREPOS* Archaeological Research Centre, Schloss Monrepos
>>> 56567 Neuwied, Germany
>>> 
>>> T: +49 2631 9772 243
>>> T: +49 6131 8885 543
>>> ivan.calandra at leiza.de
>>> 
>>> leiza.de <http://www.leiza.de/>
>>> <http://www.leiza.de/>
>>> ORCID <https://orcid.org/0000-0003-3816-6359>
>>> ResearchGate
>>> <https://www.researchgate.net/profile/Ivan_Calandra>
>>> 
>>> LEIZA is a foundation under public law of the State of 
>>> Rhineland-Palatinate and the City of Mainz. Its headquarters are in Mainz. 
>>> Supervision is carried out by the Ministry of Science and Health of the 
>>> State of Rhineland-Palatinate. LEIZA is a research museum of the Leibniz 
>>> Association.
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>> 
>> You can define a vector of the columns of interest and subset the data with 
>> it. Then the default na.action = na.omit will no longer remove the rows 
>> with NA vals in at least one column and the results are the same.
>> 
>> However, this will not give the mean values of the other numeric columns, 
>> just of those two.
>> 
>> 
>> 
>> # define a vector of columns of interest
>> cols <- c("Length", "Width", "RAWMAT")
>> 
>> # 1) Simple aggregation with 2 variables, select cols:
>> aggregate(cbind(Length, Width) ~ RAWMAT, data = my_data[cols], FUN = mean, 
>> na.rm = TRUE)
>> 
>> # 2) Using the dot notation - if cols are selected, equal results:
>> aggregate(. ~ RAWMAT, data = my_data[cols], FUN = mean, na.rm = TRUE)
>> 
>> # 3) Using dplyr, the results are now the same results as #1 and #2:
>> my_data %>%
>> ? select(all_of(cols)) %>%
>> ? group_by(RAWMAT) %>%
>> ? summarise(across(c("Length", "Width"), ~ mean(.x, na.rm = TRUE)))
>> 
>> 
>> Hope this helps,
>> 
>> Rui Barradas
>> 
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

From bgunter@4567 @end|ng |rom gm@||@com  Tue Sep  5 02:08:17 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 4 Sep 2023 17:08:17 -0700
Subject: [R] Finding combination of states
In-Reply-To: <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
 <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
Message-ID: <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>

... and just for fun, here is a non-string version (more appropriate for
complex state labels??):

gvec <- function(ntimes, states, init, final, repeats = TRUE)
   ## ntimes: integer, number of unique times
   ## states: vector of unique states
   ## init: initial state
   ## final: final state
{
   out <- cbind(init,
            as.matrix(expand.grid(rep(list(states),ntimes -2 ))),final)
   if(!repeats)
     out[ apply(out,1,\(x)all(x[-1] != x[-ntimes])), ]
   else out
}

yielding:


> gvec(4, letters[1:5], "b", "e", repeats = TRUE)
      init Var1 Var2 final
 [1,] "b"  "a"  "a"  "e"
 [2,] "b"  "b"  "a"  "e"
 [3,] "b"  "c"  "a"  "e"
 [4,] "b"  "d"  "a"  "e"
 [5,] "b"  "e"  "a"  "e"
 [6,] "b"  "a"  "b"  "e"
 [7,] "b"  "b"  "b"  "e"
 [8,] "b"  "c"  "b"  "e"
 [9,] "b"  "d"  "b"  "e"
[10,] "b"  "e"  "b"  "e"
[11,] "b"  "a"  "c"  "e"
[12,] "b"  "b"  "c"  "e"
[13,] "b"  "c"  "c"  "e"
[14,] "b"  "d"  "c"  "e"
[15,] "b"  "e"  "c"  "e"
[16,] "b"  "a"  "d"  "e"
[17,] "b"  "b"  "d"  "e"
[18,] "b"  "c"  "d"  "e"
[19,] "b"  "d"  "d"  "e"
[20,] "b"  "e"  "d"  "e"
[21,] "b"  "a"  "e"  "e"
[22,] "b"  "b"  "e"  "e"
[23,] "b"  "c"  "e"  "e"
[24,] "b"  "d"  "e"  "e"
[25,] "b"  "e"  "e"  "e"
>
> gvec(4, letters[1:5], "b", "e", repeats = FALSE)
      init Var1 Var2 final
 [1,] "b"  "c"  "a"  "e"
 [2,] "b"  "d"  "a"  "e"
 [3,] "b"  "e"  "a"  "e"
 [4,] "b"  "a"  "b"  "e"
 [5,] "b"  "c"  "b"  "e"
 [6,] "b"  "d"  "b"  "e"
 [7,] "b"  "e"  "b"  "e"
 [8,] "b"  "a"  "c"  "e"
 [9,] "b"  "d"  "c"  "e"
[10,] "b"  "e"  "c"  "e"
[11,] "b"  "a"  "d"  "e"
[12,] "b"  "c"  "d"  "e"
[13,] "b"  "e"  "d"  "e"

:-)

-- Bert

On Mon, Sep 4, 2023 at 2:04?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Well, if strings with repeats (as you defined them) are to be excluded, I
> think it's simple just to use regular expressions to remove them.
>
> e.g.
> g <- function(ntimes, states, init, final, repeats = TRUE)
>    ## ntimes: integer, number of unique times
>    ## states: vector of unique states
>    ## init: initial state
>    ## final: final state
> {
> out <- do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
> final))
> if(!repeats)
>    out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> else out
> }
> So:
>
> > g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
>  [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
>  [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"
>
> Perhaps not the most efficient way to do this, of course.
>
> Cheers,
> Bert
>
>
> On Mon, Sep 4, 2023 at 12:57?PM Eric Berger <ericjberger at gmail.com> wrote:
>
>> My initial response was buggy and also used a deprecated function.
>> Also, it seems possible that one may want to rule out any strings where
>> the same state appears consecutively.
>> I say that such a string has a repeat.
>>
>> myExpand <- function(v, n) {
>>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
>> }
>>
>> no_repeat <- function(s) {
>>   v <- unlist(strsplit(s, NULL))
>>   sum(v[-1]==v[-length(v)]) == 0
>> }
>>
>> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
>>   if (nsteps < 3) stop("nsteps must be at least 3")
>>     out <- paste(first,
>>           myExpand(states, nsteps-2) |>
>>             apply(MAR=1, \(x) paste(x, collapse="")),
>>           last, sep="")
>>     if (rm_repeat) {
>>       ok <- sapply(out, no_repeat)
>>       out <- out[ok]
>>     }
>>     out
>> }
>>
>> f(LETTERS[1:5],4,"B","E")
>>
>> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
>> "BEAE" "BEBE" "BECE" "BEDE"
>>
>> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com>
>> wrote:
>>
>>> Sorry, my last line should have read:
>>>
>>> If neither this nor any of the other suggestions is what is desired, I
>>> think the OP will have to clarify his query.
>>>
>>> Bert
>>>
>>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com>
>>> wrote:
>>>
>>>> I think there may be some uncertainty here about what the OP requested.
>>>> My interpretation is:
>>>>
>>>> n different times
>>>> k different states
>>>> Any state can appear at any time in the vector of times and can be
>>>> repeated
>>>> Initial and final states are given
>>>>
>>>> So modifying Tim's expand.grid() solution a bit yields:
>>>>
>>>> g <- function(ntimes, states, init, final){
>>>>    ## ntimes: integer, number of unique times
>>>>    ## states: vector of unique states
>>>>    ## init: initial state
>>>>    ## final: final state
>>>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
>>>> }
>>>>
>>>> e.g.
>>>>
>>>> > g(4, LETTERS[1:5], "B", "D")
>>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
>>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
>>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
>>>> [25] "BEED"
>>>>
>>>> If neither this nor any of the other suggestions is not what is
>>>> desired, I think the OP will have to clarify his query.
>>>>
>>>> Cheers,
>>>> Bert
>>>>
>>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu>
>>>> wrote:
>>>>
>>>>> Does this work for you?
>>>>>
>>>>> t0<-t1<-t2<-LETTERS[1:5]
>>>>> al2<-expand.grid(t0, t1, t2)
>>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
>>>>> al4 <- gsub(" ", "", al3)
>>>>> head(al3)
>>>>>
>>>>> Tim
>>>>>
>>>>> -----Original Message-----
>>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
>>>>> Sent: Monday, September 4, 2023 10:17 AM
>>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
>>>>> Cc: r-help <r-help at r-project.org>
>>>>> Subject: Re: [R] Finding combination of states
>>>>>
>>>>> [External Email]
>>>>>
>>>>> The function purrr::cross() can help you with this. For example:
>>>>>
>>>>> f <- function(states, nsteps, first, last) {
>>>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
>>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5],
>>>>> 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>>>>>
>>>>> HTH,
>>>>> Eric
>>>>>
>>>>>
>>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
>>>>> bogaso.christofer at gmail.com> wrote:
>>>>> >
>>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
>>>>> > points can be arbitrary) In each time point, an object can be any of
>>>>> 5
>>>>> > states, A, B, C, D, E (number of such states can be arbitrary)
>>>>> >
>>>>> > I need to find all possible ways, how that object starting with state
>>>>> > B (say) at time T0, can be on state E (example) in time T2
>>>>> >
>>>>> > For example one possibility is BAE etc.
>>>>> >
>>>>> > Is there any function available with R, that can give me a vector of
>>>>> > such possibilities for arbitrary number of states, time, and for a
>>>>> > given initial and final (desired) states?
>>>>> >
>>>>> > ANy pointer will be very appreciated.
>>>>> >
>>>>> > Thanks for your time.
>>>>> >
>>>>> > ______________________________________________
>>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> > https://stat/
>>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%
>>>>> 40ufl.edu
>>>>> >
>>>>> %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
>>>>> >
>>>>> %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>>>>> >
>>>>> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
>>>>> > PLEASE do read the posting guide
>>>>> > http://www.r/
>>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu
>>>>> %7C25
>>>>> >
>>>>> cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>>>>> >
>>>>> 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>>>>> >
>>>>> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
>>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
>>>>> > and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.r-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>

	[[alternative HTML version deleted]]


From nor@z||@chemu@@ @end|ng |rom gm@||@com  Tue Sep  5 08:42:35 2023
From: nor@z||@chemu@@ @end|ng |rom gm@||@com (nor azila)
Date: Mon, 4 Sep 2023 23:42:35 -0700
Subject: [R] Error in analysis of arguments of Rasch
Message-ID: <CAEU20u1KT1Ts0fvL0VEAUtnnZmxc3=1PWviiTgq8P06KLqip+w@mail.gmail.com>

Dear R users,

I am using ltm and eRm package in analysing my polytomous data for fitting
item response theory and Rasch model, respectively.

I'm having a problem with the error as below;

> library(eRm)
> library(ltm)
> HT <- read.csv("C:/Dropbox/Analysis R_2023/HT.csv")
> response_columns <- HT[, 1:ncol(HT)]
> response_matrix <- as.matrix(response_columns)
> irt_model <- grm(response_matrix)
> rasch_model <- Rasch(response_matrix)
Error in Rasch(response_matrix) : could not find function "Rasch"

Then I changed the arguments of Rasch to RM, but it also turns out an error
as below;

> rasch_model <- RM(response_matrix)
Error in datcheck(X, W, mpoints, groupvec, model) :
  Dichotomous data matrix required!

Is there any problem with the arguments or any other problem with my coding
since errors keep occurring when I want to run Rasch.

Thank you very much for any help given.

Azi.

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Tue Sep  5 10:03:38 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 5 Sep 2023 11:03:38 +0300
Subject: [R] Finding combination of states
In-Reply-To: <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
 <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
 <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>
Message-ID: <CAGgJW76zpsn4zNQCB8EGy8cfBSHHyJ9Su3uv_wurgpDPyGpeQw@mail.gmail.com>

Hi Bert,
I really liked your solution.
In the spirit of code golf, I wondered if there is a shorter way to do
the regular expression test.
Kudos to my coding buddy GPT-4 for the following:

You can replace your statement

out[-grep(paste(paste0(states,states),  collapse = "|"),out)]

by

out[-grep("(.)\\1",out)]

Best,
Eric

On Tue, Sep 5, 2023 at 3:08?AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> ... and just for fun, here is a non-string version (more appropriate for complex state labels??):
>
> gvec <- function(ntimes, states, init, final, repeats = TRUE)
>    ## ntimes: integer, number of unique times
>    ## states: vector of unique states
>    ## init: initial state
>    ## final: final state
> {
>    out <- cbind(init,
>             as.matrix(expand.grid(rep(list(states),ntimes -2 ))),final)
>    if(!repeats)
>      out[ apply(out,1,\(x)all(x[-1] != x[-ntimes])), ]
>    else out
> }
>
> yielding:
>
>
> > gvec(4, letters[1:5], "b", "e", repeats = TRUE)
>       init Var1 Var2 final
>  [1,] "b"  "a"  "a"  "e"
>  [2,] "b"  "b"  "a"  "e"
>  [3,] "b"  "c"  "a"  "e"
>  [4,] "b"  "d"  "a"  "e"
>  [5,] "b"  "e"  "a"  "e"
>  [6,] "b"  "a"  "b"  "e"
>  [7,] "b"  "b"  "b"  "e"
>  [8,] "b"  "c"  "b"  "e"
>  [9,] "b"  "d"  "b"  "e"
> [10,] "b"  "e"  "b"  "e"
> [11,] "b"  "a"  "c"  "e"
> [12,] "b"  "b"  "c"  "e"
> [13,] "b"  "c"  "c"  "e"
> [14,] "b"  "d"  "c"  "e"
> [15,] "b"  "e"  "c"  "e"
> [16,] "b"  "a"  "d"  "e"
> [17,] "b"  "b"  "d"  "e"
> [18,] "b"  "c"  "d"  "e"
> [19,] "b"  "d"  "d"  "e"
> [20,] "b"  "e"  "d"  "e"
> [21,] "b"  "a"  "e"  "e"
> [22,] "b"  "b"  "e"  "e"
> [23,] "b"  "c"  "e"  "e"
> [24,] "b"  "d"  "e"  "e"
> [25,] "b"  "e"  "e"  "e"
> >
> > gvec(4, letters[1:5], "b", "e", repeats = FALSE)
>       init Var1 Var2 final
>  [1,] "b"  "c"  "a"  "e"
>  [2,] "b"  "d"  "a"  "e"
>  [3,] "b"  "e"  "a"  "e"
>  [4,] "b"  "a"  "b"  "e"
>  [5,] "b"  "c"  "b"  "e"
>  [6,] "b"  "d"  "b"  "e"
>  [7,] "b"  "e"  "b"  "e"
>  [8,] "b"  "a"  "c"  "e"
>  [9,] "b"  "d"  "c"  "e"
> [10,] "b"  "e"  "c"  "e"
> [11,] "b"  "a"  "d"  "e"
> [12,] "b"  "c"  "d"  "e"
> [13,] "b"  "e"  "d"  "e"
>
> :-)
>
> -- Bert
>
> On Mon, Sep 4, 2023 at 2:04?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> Well, if strings with repeats (as you defined them) are to be excluded, I think it's simple just to use regular expressions to remove them.
>>
>> e.g.
>> g <- function(ntimes, states, init, final, repeats = TRUE)
>>    ## ntimes: integer, number of unique times
>>    ## states: vector of unique states
>>    ## init: initial state
>>    ## final: final state
>> {
>> out <- do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
>> if(!repeats)
>>    out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
>> else out
>> }
>> So:
>>
>> > g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
>>  [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
>>  [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"
>>
>> Perhaps not the most efficient way to do this, of course.
>>
>> Cheers,
>> Bert
>>
>>
>> On Mon, Sep 4, 2023 at 12:57?PM Eric Berger <ericjberger at gmail.com> wrote:
>>>
>>> My initial response was buggy and also used a deprecated function.
>>> Also, it seems possible that one may want to rule out any strings where the same state appears consecutively.
>>> I say that such a string has a repeat.
>>>
>>> myExpand <- function(v, n) {
>>>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
>>> }
>>>
>>> no_repeat <- function(s) {
>>>   v <- unlist(strsplit(s, NULL))
>>>   sum(v[-1]==v[-length(v)]) == 0
>>> }
>>>
>>> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
>>>   if (nsteps < 3) stop("nsteps must be at least 3")
>>>     out <- paste(first,
>>>           myExpand(states, nsteps-2) |>
>>>             apply(MAR=1, \(x) paste(x, collapse="")),
>>>           last, sep="")
>>>     if (rm_repeat) {
>>>       ok <- sapply(out, no_repeat)
>>>       out <- out[ok]
>>>     }
>>>     out
>>> }
>>>
>>> f(LETTERS[1:5],4,"B","E")
>>>
>>> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE" "BEAE" "BEBE" "BECE" "BEDE"
>>>
>>> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>
>>>> Sorry, my last line should have read:
>>>>
>>>> If neither this nor any of the other suggestions is what is desired, I think the OP will have to clarify his query.
>>>>
>>>> Bert
>>>>
>>>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>>>
>>>>> I think there may be some uncertainty here about what the OP requested. My interpretation is:
>>>>>
>>>>> n different times
>>>>> k different states
>>>>> Any state can appear at any time in the vector of times and can be repeated
>>>>> Initial and final states are given
>>>>>
>>>>> So modifying Tim's expand.grid() solution a bit yields:
>>>>>
>>>>> g <- function(ntimes, states, init, final){
>>>>>    ## ntimes: integer, number of unique times
>>>>>    ## states: vector of unique states
>>>>>    ## init: initial state
>>>>>    ## final: final state
>>>>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)), final))
>>>>> }
>>>>>
>>>>> e.g.
>>>>>
>>>>> > g(4, LETTERS[1:5], "B", "D")
>>>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
>>>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
>>>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
>>>>> [25] "BEED"
>>>>>
>>>>> If neither this nor any of the other suggestions is not what is desired, I think the OP will have to clarify his query.
>>>>>
>>>>> Cheers,
>>>>> Bert
>>>>>
>>>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu> wrote:
>>>>>>
>>>>>> Does this work for you?
>>>>>>
>>>>>> t0<-t1<-t2<-LETTERS[1:5]
>>>>>> al2<-expand.grid(t0, t1, t2)
>>>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
>>>>>> al4 <- gsub(" ", "", al3)
>>>>>> head(al3)
>>>>>>
>>>>>> Tim
>>>>>>
>>>>>> -----Original Message-----
>>>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric Berger
>>>>>> Sent: Monday, September 4, 2023 10:17 AM
>>>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
>>>>>> Cc: r-help <r-help at r-project.org>
>>>>>> Subject: Re: [R] Finding combination of states
>>>>>>
>>>>>> [External Email]
>>>>>>
>>>>>> The function purrr::cross() can help you with this. For example:
>>>>>>
>>>>>> f <- function(states, nsteps, first, last) {
>>>>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
>>>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") } f(LETTERS[1:5], 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
>>>>>>
>>>>>> HTH,
>>>>>> Eric
>>>>>>
>>>>>>
>>>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>>>>> >
>>>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such time
>>>>>> > points can be arbitrary) In each time point, an object can be any of 5
>>>>>> > states, A, B, C, D, E (number of such states can be arbitrary)
>>>>>> >
>>>>>> > I need to find all possible ways, how that object starting with state
>>>>>> > B (say) at time T0, can be on state E (example) in time T2
>>>>>> >
>>>>>> > For example one possibility is BAE etc.
>>>>>> >
>>>>>> > Is there any function available with R, that can give me a vector of
>>>>>> > such possibilities for arbitrary number of states, time, and for a
>>>>>> > given initial and final (desired) states?
>>>>>> >
>>>>>> > ANy pointer will be very appreciated.
>>>>>> >
>>>>>> > Thanks for your time.
>>>>>> >
>>>>>> > ______________________________________________
>>>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> > https://stat/
>>>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
>>>>>> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
>>>>>> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>>>>>> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>>>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
>>>>>> > PLEASE do read the posting guide
>>>>>> > http://www.r/
>>>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C25
>>>>>> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
>>>>>> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
>>>>>> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
>>>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
>>>>>> > and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.


From ro@||n@ump @end|ng |rom gm@||@com  Tue Sep  5 10:55:31 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Tue, 5 Sep 2023 16:55:31 +0800
Subject: [R] Merge and replace data
Message-ID: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>

Hi all,

I have these data

x1 <- c(116,0,115,137,127,0,0)
x2 <- c(0,159,0,0,0,159,127)

I want : xx <- c(116,115,137,127,159, 127)

I would like to merge these data into one column. Whenever the data is '0'
it will be replaced by the value in the column which is non zero..
I tried append and merge but fail to get what I want.

-- 
*Roslina Zakaria*

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Tue Sep  5 12:12:24 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 5 Sep 2023 13:12:24 +0300
Subject: [R] Merge and replace data
In-Reply-To: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
Message-ID: <CAGgJW76=DapdRBbazQRDojdJNdGnP5CuzwMb+-8QdvSRrKUxxg@mail.gmail.com>

xx <- pmax(x1,x2)

On Tue, Sep 5, 2023 at 11:56?AM roslinazairimah zakaria
<roslinaump at gmail.com> wrote:
>
> Hi all,
>
> I have these data
>
> x1 <- c(116,0,115,137,127,0,0)
> x2 <- c(0,159,0,0,0,159,127)
>
> I want : xx <- c(116,115,137,127,159, 127)
>
> I would like to merge these data into one column. Whenever the data is '0'
> it will be replaced by the value in the column which is non zero..
> I tried append and merge but fail to get what I want.
>
> --
> *Roslina Zakaria*
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Sep  5 12:39:38 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 5 Sep 2023 11:39:38 +0100
Subject: [R] Merge and replace data
In-Reply-To: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
Message-ID: <371a4508-daf7-7062-3d8b-534775d6b849@sapo.pt>

?s 09:55 de 05/09/2023, roslinazairimah zakaria escreveu:
> Hi all,
> 
> I have these data
> 
> x1 <- c(116,0,115,137,127,0,0)
> x2 <- c(0,159,0,0,0,159,127)
> 
> I want : xx <- c(116,115,137,127,159, 127)
> 
> I would like to merge these data into one column. Whenever the data is '0'
> it will be replaced by the value in the column which is non zero..
> I tried append and merge but fail to get what I want.
> 
Hello,

That's a case for ?pmax:


x1 <- c(116,0,115,137,127,0,0)
x2 <- c(0,159,0,0,0,159,127)
pmax(x1, x2)
#> [1] 116 159 115 137 127 159 127


Hope this helps,

Rui Barradas


From ro@||n@ump @end|ng |rom gm@||@com  Tue Sep  5 12:52:53 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Tue, 5 Sep 2023 18:52:53 +0800
Subject: [R] Merge and replace data
In-Reply-To: <CAGgJW76=DapdRBbazQRDojdJNdGnP5CuzwMb+-8QdvSRrKUxxg@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <CAGgJW76=DapdRBbazQRDojdJNdGnP5CuzwMb+-8QdvSRrKUxxg@mail.gmail.com>
Message-ID: <CANTvJZKWvoQDR0Ni+aDdpK7CNNEZmjOyYjhjpw5wvQkY=XdVqQ@mail.gmail.com>

Thank you very much for your help.

On Tue, Sep 5, 2023 at 6:12?PM Eric Berger <ericjberger at gmail.com> wrote:

> xx <- pmax(x1,x2)
>
> On Tue, Sep 5, 2023 at 11:56?AM roslinazairimah zakaria
> <roslinaump at gmail.com> wrote:
> >
> > Hi all,
> >
> > I have these data
> >
> > x1 <- c(116,0,115,137,127,0,0)
> > x2 <- c(0,159,0,0,0,159,127)
> >
> > I want : xx <- c(116,115,137,127,159, 127)
> >
> > I would like to merge these data into one column. Whenever the data is
> '0'
> > it will be replaced by the value in the column which is non zero..
> > I tried append and merge but fail to get what I want.
> >
> > --
> > *Roslina Zakaria*
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]


From ro@||n@ump @end|ng |rom gm@||@com  Tue Sep  5 12:53:15 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Tue, 5 Sep 2023 18:53:15 +0800
Subject: [R] Merge and replace data
In-Reply-To: <371a4508-daf7-7062-3d8b-534775d6b849@sapo.pt>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <371a4508-daf7-7062-3d8b-534775d6b849@sapo.pt>
Message-ID: <CANTvJZJBFmcNgMsPENydONE7K76RSuQH+YetNsaP15LA_qvABQ@mail.gmail.com>

Thank you very much for your help.

On Tue, Sep 5, 2023 at 6:39?PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> ?s 09:55 de 05/09/2023, roslinazairimah zakaria escreveu:
> > Hi all,
> >
> > I have these data
> >
> > x1 <- c(116,0,115,137,127,0,0)
> > x2 <- c(0,159,0,0,0,159,127)
> >
> > I want : xx <- c(116,115,137,127,159, 127)
> >
> > I would like to merge these data into one column. Whenever the data is
> '0'
> > it will be replaced by the value in the column which is non zero..
> > I tried append and merge but fail to get what I want.
> >
> Hello,
>
> That's a case for ?pmax:
>
>
> x1 <- c(116,0,115,137,127,0,0)
> x2 <- c(0,159,0,0,0,159,127)
> pmax(x1, x2)
> #> [1] 116 159 115 137 127 159 127
>
>
> Hope this helps,
>
> Rui Barradas
>


-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Sep  5 13:45:13 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 5 Sep 2023 07:45:13 -0400
Subject: [R] Merge and replace data
In-Reply-To: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
Message-ID: <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>

On 05/09/2023 4:55 a.m., roslinazairimah zakaria wrote:
> Hi all,
> 
> I have these data
> 
> x1 <- c(116,0,115,137,127,0,0)
> x2 <- c(0,159,0,0,0,159,127)
> 
> I want : xx <- c(116,115,137,127,159, 127)
> 
> I would like to merge these data into one column. Whenever the data is '0'
> it will be replaced by the value in the column which is non zero..
> I tried append and merge but fail to get what I want.
> 

Others have pointed out pmax(x1, x2).  For the sample data, even x1+x2 
would give the same answer.

The real question is what you want to do if both x1 and x2 have non-zero 
entries, or negative entries:

   pmax(x1, x2)

will pick the larger one.  It might be zero if the other is negative, 
and that doesn't match your description.

   x1+x2

will just give the sum, which doesn't match your description if both are 
non-zero.

But maybe you want the x1 value unless it is zero, even if it is smaller 
than the x2 value:  then you would use

   ifelse(x1 != 0, x1, x2)

Similarly

   ifelse(x2 != 0, x2, x1)

would prefer the x2 value.

You should think about what you would do in these other cases as well.

Duncan Murdoch


From bgunter@4567 @end|ng |rom gm@||@com  Tue Sep  5 13:52:45 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 5 Sep 2023 04:52:45 -0700
Subject: [R] Finding combination of states
In-Reply-To: <CAGgJW76zpsn4zNQCB8EGy8cfBSHHyJ9Su3uv_wurgpDPyGpeQw@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
 <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
 <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>
 <CAGgJW76zpsn4zNQCB8EGy8cfBSHHyJ9Su3uv_wurgpDPyGpeQw@mail.gmail.com>
Message-ID: <CAGxFJbSA5sPsMW+JvrEQQBPg-ceiZGrn=i0s=9TkxRd+7d8Y6w@mail.gmail.com>

Oh I liked that.

I was actually thinking about something similar, but couldn't figure it
out.  The idiom you showed is very clever imo and taught me something about
regexes that I never properly understood.

Bert

On Tue, Sep 5, 2023, 01:04 Eric Berger <ericjberger at gmail.com> wrote:

> Hi Bert,
> I really liked your solution.
> In the spirit of code golf, I wondered if there is a shorter way to do
> the regular expression test.
> Kudos to my coding buddy GPT-4 for the following:
>
> You can replace your statement
>
> out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
>
> by
>
> out[-grep("(.)\\1",out)]
>
> Best,
> Eric
>
> On Tue, Sep 5, 2023 at 3:08?AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> > ... and just for fun, here is a non-string version (more appropriate for
> complex state labels??):
> >
> > gvec <- function(ntimes, states, init, final, repeats = TRUE)
> >    ## ntimes: integer, number of unique times
> >    ## states: vector of unique states
> >    ## init: initial state
> >    ## final: final state
> > {
> >    out <- cbind(init,
> >             as.matrix(expand.grid(rep(list(states),ntimes -2 ))),final)
> >    if(!repeats)
> >      out[ apply(out,1,\(x)all(x[-1] != x[-ntimes])), ]
> >    else out
> > }
> >
> > yielding:
> >
> >
> > > gvec(4, letters[1:5], "b", "e", repeats = TRUE)
> >       init Var1 Var2 final
> >  [1,] "b"  "a"  "a"  "e"
> >  [2,] "b"  "b"  "a"  "e"
> >  [3,] "b"  "c"  "a"  "e"
> >  [4,] "b"  "d"  "a"  "e"
> >  [5,] "b"  "e"  "a"  "e"
> >  [6,] "b"  "a"  "b"  "e"
> >  [7,] "b"  "b"  "b"  "e"
> >  [8,] "b"  "c"  "b"  "e"
> >  [9,] "b"  "d"  "b"  "e"
> > [10,] "b"  "e"  "b"  "e"
> > [11,] "b"  "a"  "c"  "e"
> > [12,] "b"  "b"  "c"  "e"
> > [13,] "b"  "c"  "c"  "e"
> > [14,] "b"  "d"  "c"  "e"
> > [15,] "b"  "e"  "c"  "e"
> > [16,] "b"  "a"  "d"  "e"
> > [17,] "b"  "b"  "d"  "e"
> > [18,] "b"  "c"  "d"  "e"
> > [19,] "b"  "d"  "d"  "e"
> > [20,] "b"  "e"  "d"  "e"
> > [21,] "b"  "a"  "e"  "e"
> > [22,] "b"  "b"  "e"  "e"
> > [23,] "b"  "c"  "e"  "e"
> > [24,] "b"  "d"  "e"  "e"
> > [25,] "b"  "e"  "e"  "e"
> > >
> > > gvec(4, letters[1:5], "b", "e", repeats = FALSE)
> >       init Var1 Var2 final
> >  [1,] "b"  "c"  "a"  "e"
> >  [2,] "b"  "d"  "a"  "e"
> >  [3,] "b"  "e"  "a"  "e"
> >  [4,] "b"  "a"  "b"  "e"
> >  [5,] "b"  "c"  "b"  "e"
> >  [6,] "b"  "d"  "b"  "e"
> >  [7,] "b"  "e"  "b"  "e"
> >  [8,] "b"  "a"  "c"  "e"
> >  [9,] "b"  "d"  "c"  "e"
> > [10,] "b"  "e"  "c"  "e"
> > [11,] "b"  "a"  "d"  "e"
> > [12,] "b"  "c"  "d"  "e"
> > [13,] "b"  "e"  "d"  "e"
> >
> > :-)
> >
> > -- Bert
> >
> > On Mon, Sep 4, 2023 at 2:04?PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
> >>
> >> Well, if strings with repeats (as you defined them) are to be excluded,
> I think it's simple just to use regular expressions to remove them.
> >>
> >> e.g.
> >> g <- function(ntimes, states, init, final, repeats = TRUE)
> >>    ## ntimes: integer, number of unique times
> >>    ## states: vector of unique states
> >>    ## init: initial state
> >>    ## final: final state
> >> {
> >> out <- do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
> final))
> >> if(!repeats)
> >>    out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> >> else out
> >> }
> >> So:
> >>
> >> > g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
> >>  [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
> >>  [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"
> >>
> >> Perhaps not the most efficient way to do this, of course.
> >>
> >> Cheers,
> >> Bert
> >>
> >>
> >> On Mon, Sep 4, 2023 at 12:57?PM Eric Berger <ericjberger at gmail.com>
> wrote:
> >>>
> >>> My initial response was buggy and also used a deprecated function.
> >>> Also, it seems possible that one may want to rule out any strings
> where the same state appears consecutively.
> >>> I say that such a string has a repeat.
> >>>
> >>> myExpand <- function(v, n) {
> >>>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
> >>> }
> >>>
> >>> no_repeat <- function(s) {
> >>>   v <- unlist(strsplit(s, NULL))
> >>>   sum(v[-1]==v[-length(v)]) == 0
> >>> }
> >>>
> >>> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
> >>>   if (nsteps < 3) stop("nsteps must be at least 3")
> >>>     out <- paste(first,
> >>>           myExpand(states, nsteps-2) |>
> >>>             apply(MAR=1, \(x) paste(x, collapse="")),
> >>>           last, sep="")
> >>>     if (rm_repeat) {
> >>>       ok <- sapply(out, no_repeat)
> >>>       out <- out[ok]
> >>>     }
> >>>     out
> >>> }
> >>>
> >>> f(LETTERS[1:5],4,"B","E")
> >>>
> >>> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
> "BEAE" "BEBE" "BECE" "BEDE"
> >>>
> >>> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
> >>>>
> >>>> Sorry, my last line should have read:
> >>>>
> >>>> If neither this nor any of the other suggestions is what is desired,
> I think the OP will have to clarify his query.
> >>>>
> >>>> Bert
> >>>>
> >>>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
> >>>>>
> >>>>> I think there may be some uncertainty here about what the OP
> requested. My interpretation is:
> >>>>>
> >>>>> n different times
> >>>>> k different states
> >>>>> Any state can appear at any time in the vector of times and can be
> repeated
> >>>>> Initial and final states are given
> >>>>>
> >>>>> So modifying Tim's expand.grid() solution a bit yields:
> >>>>>
> >>>>> g <- function(ntimes, states, init, final){
> >>>>>    ## ntimes: integer, number of unique times
> >>>>>    ## states: vector of unique states
> >>>>>    ## init: initial state
> >>>>>    ## final: final state
> >>>>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
> final))
> >>>>> }
> >>>>>
> >>>>> e.g.
> >>>>>
> >>>>> > g(4, LETTERS[1:5], "B", "D")
> >>>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
> >>>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
> >>>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
> >>>>> [25] "BEED"
> >>>>>
> >>>>> If neither this nor any of the other suggestions is not what is
> desired, I think the OP will have to clarify his query.
> >>>>>
> >>>>> Cheers,
> >>>>> Bert
> >>>>>
> >>>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> >>>>>>
> >>>>>> Does this work for you?
> >>>>>>
> >>>>>> t0<-t1<-t2<-LETTERS[1:5]
> >>>>>> al2<-expand.grid(t0, t1, t2)
> >>>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
> >>>>>> al4 <- gsub(" ", "", al3)
> >>>>>> head(al3)
> >>>>>>
> >>>>>> Tim
> >>>>>>
> >>>>>> -----Original Message-----
> >>>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric
> Berger
> >>>>>> Sent: Monday, September 4, 2023 10:17 AM
> >>>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
> >>>>>> Cc: r-help <r-help at r-project.org>
> >>>>>> Subject: Re: [R] Finding combination of states
> >>>>>>
> >>>>>> [External Email]
> >>>>>>
> >>>>>> The function purrr::cross() can help you with this. For example:
> >>>>>>
> >>>>>> f <- function(states, nsteps, first, last) {
> >>>>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
> >>>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") }
> f(LETTERS[1:5], 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
> >>>>>>
> >>>>>> HTH,
> >>>>>> Eric
> >>>>>>
> >>>>>>
> >>>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
> >>>>>> >
> >>>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such
> time
> >>>>>> > points can be arbitrary) In each time point, an object can be any
> of 5
> >>>>>> > states, A, B, C, D, E (number of such states can be arbitrary)
> >>>>>> >
> >>>>>> > I need to find all possible ways, how that object starting with
> state
> >>>>>> > B (say) at time T0, can be on state E (example) in time T2
> >>>>>> >
> >>>>>> > For example one possibility is BAE etc.
> >>>>>> >
> >>>>>> > Is there any function available with R, that can give me a vector
> of
> >>>>>> > such possibilities for arbitrary number of states, time, and for a
> >>>>>> > given initial and final (desired) states?
> >>>>>> >
> >>>>>> > ANy pointer will be very appreciated.
> >>>>>> >
> >>>>>> > Thanks for your time.
> >>>>>> >
> >>>>>> > ______________________________________________
> >>>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>>>> > https://stat/
> >>>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%
> 40ufl.edu
> >>>>>> >
> %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
> >>>>>> >
> %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> >>>>>> >
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> >>>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
> >>>>>> > PLEASE do read the posting guide
> >>>>>> > http://www.r/
> >>>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu
> %7C25
> >>>>>> >
> cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> >>>>>> >
> 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> >>>>>> >
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
> >>>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
> >>>>>> > and provide commented, minimal, self-contained, reproducible code.
> >>>>>>
> >>>>>> ______________________________________________
> >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>>> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> >>>>>> and provide commented, minimal, self-contained, reproducible code.
> >>>>>> ______________________________________________
> >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>>> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> >>>>>> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Tue Sep  5 13:59:30 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 5 Sep 2023 14:59:30 +0300
Subject: [R] Merge and replace data
In-Reply-To: <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
Message-ID: <CAGgJW76QWdp9jRhQvQSdrb51Jgf=ZAhbmrKqHUGpPV-Y+8aWfw@mail.gmail.com>

As Duncan points out, ifelse() provides a more general approach than
the specific pmax().

Even more generally, you might want to consider the apply() function
(and its relatives sapply(), lapply(), ...)

For example

apply(cbind(x1,x2), MAR=1, max)

In the above statement, x1 and x2 are combined into two columns, MAR=1
says apply the following function to each row,
and max specifies the function to be applied. The summary is that this
statement applies the max to each row in the object
specified by the first argument. It's very general because you can
replace max by an arbitrary function.

Similarly, if you get more into R you might modify the above using
chained operations. The following rewrites the above
by piping cbind(x1,x2) into the apply command. Not a necessary feature
to know but eventually will assist you in writing code that does
not require a lot of intermediate variables.

cbind(x1,x2) |> apply(MAR=1,max)

On Tue, Sep 5, 2023 at 2:45?PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 05/09/2023 4:55 a.m., roslinazairimah zakaria wrote:
> > Hi all,
> >
> > I have these data
> >
> > x1 <- c(116,0,115,137,127,0,0)
> > x2 <- c(0,159,0,0,0,159,127)
> >
> > I want : xx <- c(116,115,137,127,159, 127)
> >
> > I would like to merge these data into one column. Whenever the data is '0'
> > it will be replaced by the value in the column which is non zero..
> > I tried append and merge but fail to get what I want.
> >
>
> Others have pointed out pmax(x1, x2).  For the sample data, even x1+x2
> would give the same answer.
>
> The real question is what you want to do if both x1 and x2 have non-zero
> entries, or negative entries:
>
>    pmax(x1, x2)
>
> will pick the larger one.  It might be zero if the other is negative,
> and that doesn't match your description.
>
>    x1+x2
>
> will just give the sum, which doesn't match your description if both are
> non-zero.
>
> But maybe you want the x1 value unless it is zero, even if it is smaller
> than the x2 value:  then you would use
>
>    ifelse(x1 != 0, x1, x2)
>
> Similarly
>
>    ifelse(x2 != 0, x2, x1)
>
> would prefer the x2 value.
>
> You should think about what you would do in these other cases as well.
>
> Duncan Murdoch
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ro@||n@ump @end|ng |rom gm@||@com  Tue Sep  5 15:31:28 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Tue, 5 Sep 2023 21:31:28 +0800
Subject: [R] Merge and replace data
In-Reply-To: <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
Message-ID: <CANTvJZ+YgdhfgDDr_0aSw=s-V=VjP9ChBnUYiOP2QHRJtoaynA@mail.gmail.com>

Thank you for the general code. Really appreciate it.

On Tue, Sep 5, 2023 at 7:45?PM Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> On 05/09/2023 4:55 a.m., roslinazairimah zakaria wrote:
> > Hi all,
> >
> > I have these data
> >
> > x1 <- c(116,0,115,137,127,0,0)
> > x2 <- c(0,159,0,0,0,159,127)
> >
> > I want : xx <- c(116,115,137,127,159, 127)
> >
> > I would like to merge these data into one column. Whenever the data is
> '0'
> > it will be replaced by the value in the column which is non zero..
> > I tried append and merge but fail to get what I want.
> >
>
> Others have pointed out pmax(x1, x2).  For the sample data, even x1+x2
> would give the same answer.
>
> The real question is what you want to do if both x1 and x2 have non-zero
> entries, or negative entries:
>
>    pmax(x1, x2)
>
> will pick the larger one.  It might be zero if the other is negative,
> and that doesn't match your description.
>
>    x1+x2
>
> will just give the sum, which doesn't match your description if both are
> non-zero.
>
> But maybe you want the x1 value unless it is zero, even if it is smaller
> than the x2 value:  then you would use
>
>    ifelse(x1 != 0, x1, x2)
>
> Similarly
>
>    ifelse(x2 != 0, x2, x1)
>
> would prefer the x2 value.
>
> You should think about what you would do in these other cases as well.
>
> Duncan Murdoch
>


-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]


From ro@||n@ump @end|ng |rom gm@||@com  Tue Sep  5 15:31:51 2023
From: ro@||n@ump @end|ng |rom gm@||@com (roslinazairimah zakaria)
Date: Tue, 5 Sep 2023 21:31:51 +0800
Subject: [R] Merge and replace data
In-Reply-To: <CAGgJW76QWdp9jRhQvQSdrb51Jgf=ZAhbmrKqHUGpPV-Y+8aWfw@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
 <CAGgJW76QWdp9jRhQvQSdrb51Jgf=ZAhbmrKqHUGpPV-Y+8aWfw@mail.gmail.com>
Message-ID: <CANTvJZ+JEXsb70xwfBoy-Ba0zHujYR1OQZ46nekCTije3Ddw8w@mail.gmail.com>

Thank you for the general code. Really appreciate it.


On Tue, Sep 5, 2023 at 7:59?PM Eric Berger <ericjberger at gmail.com> wrote:

> As Duncan points out, ifelse() provides a more general approach than
> the specific pmax().
>
> Even more generally, you might want to consider the apply() function
> (and its relatives sapply(), lapply(), ...)
>
> For example
>
> apply(cbind(x1,x2), MAR=1, max)
>
> In the above statement, x1 and x2 are combined into two columns, MAR=1
> says apply the following function to each row,
> and max specifies the function to be applied. The summary is that this
> statement applies the max to each row in the object
> specified by the first argument. It's very general because you can
> replace max by an arbitrary function.
>
> Similarly, if you get more into R you might modify the above using
> chained operations. The following rewrites the above
> by piping cbind(x1,x2) into the apply command. Not a necessary feature
> to know but eventually will assist you in writing code that does
> not require a lot of intermediate variables.
>
> cbind(x1,x2) |> apply(MAR=1,max)
>
> On Tue, Sep 5, 2023 at 2:45?PM Duncan Murdoch <murdoch.duncan at gmail.com>
> wrote:
> >
> > On 05/09/2023 4:55 a.m., roslinazairimah zakaria wrote:
> > > Hi all,
> > >
> > > I have these data
> > >
> > > x1 <- c(116,0,115,137,127,0,0)
> > > x2 <- c(0,159,0,0,0,159,127)
> > >
> > > I want : xx <- c(116,115,137,127,159, 127)
> > >
> > > I would like to merge these data into one column. Whenever the data is
> '0'
> > > it will be replaced by the value in the column which is non zero..
> > > I tried append and merge but fail to get what I want.
> > >
> >
> > Others have pointed out pmax(x1, x2).  For the sample data, even x1+x2
> > would give the same answer.
> >
> > The real question is what you want to do if both x1 and x2 have non-zero
> > entries, or negative entries:
> >
> >    pmax(x1, x2)
> >
> > will pick the larger one.  It might be zero if the other is negative,
> > and that doesn't match your description.
> >
> >    x1+x2
> >
> > will just give the sum, which doesn't match your description if both are
> > non-zero.
> >
> > But maybe you want the x1 value unless it is zero, even if it is smaller
> > than the x2 value:  then you would use
> >
> >    ifelse(x1 != 0, x1, x2)
> >
> > Similarly
> >
> >    ifelse(x2 != 0, x2, x1)
> >
> > would prefer the x2 value.
> >
> > You should think about what you would do in these other cases as well.
> >
> > Duncan Murdoch
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>


-- 
*Roslinazairimah Zakaria*
*Tel: +609-5492370; Fax. No.+609-5492766*

*Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
roslinaump at gmail.com <roslinaump at gmail.com>*
Faculty of Industrial Sciences & Technology
University Malaysia Pahang
Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia

	[[alternative HTML version deleted]]


From @@ood @end|ng |rom wood@tock|n@t@org  Tue Sep  5 18:59:28 2023
From: @@ood @end|ng |rom wood@tock|n@t@org (Sukriti Sood)
Date: Tue, 5 Sep 2023 16:59:28 +0000
Subject: [R] Regarding error in RStudio
Message-ID: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>

Hi,

I am Sukriti Sood, a research analyst at Woodstock Institute <https://woodstockinst.org/> . I use RStudio extensively for our analysis. I have been facing two issues for a while:


  1.  I am unable to copy from RStudio and paste into or vice versa to any other programs.
  2.  I am facing some kind of a conversion error (screenshot attached).

I tried looking up online however could not find a resolution to these issues. Could I please get some help with this urgently.

Thanks!

Best,
Sukriti Sood

Sukriti Sood | Research Analyst
Woodstock Institute
Pronouns: She/Her/Hers
67 East Madison, Suite 2108 | Chicago, Illinois 60603
O (312) 368-0310 x2029 | C (610) 604-6708
www.woodstockinst.org<http://www.woodstockinst.org/> | ssood at woodstockinst.org<mailto:ssood at woodstockinst.org>




-------------- next part --------------
A non-text attachment was scrubbed...
Name: R Issue .png
Type: image/png
Size: 39309 bytes
Desc: R Issue .png
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230905/5dba5079/attachment.png>

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Sep  5 19:49:30 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 05 Sep 2023 10:49:30 -0700
Subject: [R] Regarding error in RStudio
In-Reply-To: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
References: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
Message-ID: <B9DEEAC8-6723-41FC-AA45-FCD861FA0C23@dcn.davis.ca.us>

R is not RStudio. RStudio is not R.

RStudio helps you work with R, but to do so it "types" in some commands behind the scenes. I suspect those errors are because you have a pairing of versions of RStudio with a version of R that the RStudio team did not test.

Someone here might be able to help, but the most likely way to encounter someone who knows what bugs RStudio has is to ask in the RStudio support area [1].

[1] https://support.posit.co/hc/en-us

On September 5, 2023 9:59:28 AM PDT, Sukriti Sood <ssood at woodstockinst.org> wrote:
>Hi,
>
>I am Sukriti Sood, a research analyst at Woodstock Institute <https://woodstockinst.org/> . I use RStudio extensively for our analysis. I have been facing two issues for a while:
>
>
>  1.  I am unable to copy from RStudio and paste into or vice versa to any other programs.
>  2.  I am facing some kind of a conversion error (screenshot attached).
>
>I tried looking up online however could not find a resolution to these issues. Could I please get some help with this urgently.
>
>Thanks!
>
>Best,
>Sukriti Sood
>
>Sukriti Sood | Research Analyst
>Woodstock Institute
>Pronouns: She/Her/Hers
>67 East Madison, Suite 2108 | Chicago, Illinois 60603
>O (312) 368-0310 x2029 | C (610) 604-6708
>www.woodstockinst.org<http://www.woodstockinst.org/> | ssood at woodstockinst.org<mailto:ssood at woodstockinst.org>
>
>
>

-- 
Sent from my phone. Please excuse my brevity.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Sep  5 19:58:14 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 5 Sep 2023 18:58:14 +0100
Subject: [R] Regarding error in RStudio
In-Reply-To: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
References: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
Message-ID: <fea42478-4372-90de-4e6a-30268c7b2194@sapo.pt>

?s 17:59 de 05/09/2023, Sukriti Sood escreveu:
> Hi,
> 
> I am Sukriti Sood, a research analyst at Woodstock Institute <https://woodstockinst.org/> . I use RStudio extensively for our analysis. I have been facing two issues for a while:
> 
> 
>    1.  I am unable to copy from RStudio and paste into or vice versa to any other programs.
>    2.  I am facing some kind of a conversion error (screenshot attached).
> 
> I tried looking up online however could not find a resolution to these issues. Could I please get some help with this urgently.
> 
> Thanks!
> 
> Best,
> Sukriti Sood
> 
> Sukriti Sood | Research Analyst
> Woodstock Institute
> Pronouns: She/Her/Hers
> 67 East Madison, Suite 2108 | Chicago, Illinois 60603
> O (312) 368-0310 x2029 | C (610) 604-6708
> www.woodstockinst.org<http://www.woodstockinst.org/> | ssood at woodstockinst.org<mailto:ssood at woodstockinst.org>
> 
> 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

You should post RStudio questions to the RStudio support service, they 
answer quickly and the answers are generally good.

It's written at the bottom of the attached image that the workspace was 
loaded from file


C:/WSI/.RData


Close RStudio, remove this file and restart. See if it solved it.

Hope this helps,

Rui Barradas


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Sep  5 20:58:18 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 05 Sep 2023 18:58:18 +0000
Subject: [R] Regarding error in RStudio
In-Reply-To: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
References: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
Message-ID: <F3728E05-2B68-4ABE-B572-717F70B4D3AF@gmail.com>

Sounds like something weird happened to your installation of the knitr package. It could help to reinstall it. If you don't have anything valuable saved in %userprofile%\.RData, it may be worth moving it away, because it may be carrying a part of the broken state. (Saving state in .RData may be convenient, but it may hurt the reproducibility of your scripts and persist some of your problems.)
-- 
Best regards,
Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Sep  5 21:12:48 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 05 Sep 2023 19:12:48 +0000
Subject: [R] Regarding error in RStudio
In-Reply-To: <DM6PR14MB37906A5E1AC1FC2790E99C38B9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
References: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
 <F3728E05-2B68-4ABE-B572-717F70B4D3AF@gmail.com>
 <DM6PR14MB37906A5E1AC1FC2790E99C38B9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
Message-ID: <CFE01288-519B-4D4C-B11B-FEED8F4E23F2@gmail.com>

5 ???????? 2023 ?. 19:02:56 UTC, Sukriti Sood <ssood at woodstockinst.org> ?????:

>I uninstalled and reinstalled both R and RStudio themselves multiple times. 
Knitr lives separately from R and RStudio in a "library", most likely under your %userprofile%. Try using install.packages to install it anew.

Can you load knitr from an RGui session? If yes, the problem might be elsewhere.
-- 
Best regards,
Ivan


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Sep  5 21:56:24 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 5 Sep 2023 21:56:24 +0200
Subject: [R] How to draw plot marks without label?
Message-ID: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>

I would like to draw a graph where the y-lables are missing but the
marks still present.
In this example, I get marks from 20000 to 140 000 with increments of
20 000. I could use `plot(... yaxt="n"...)` combined with `axis(2,
at..., label="")` but this needs to know exactly the sequence of marks
provided by plot. But this sequence might change.

Thus is there a way to plot the marks without labels?
Also, is it possible to draw the marks on the right side?

Thank you.

```
y = c(42008, 19076, 150576, 48192, 26153, 37931, 36103, 17692,
      61538,41027, 71052, 94571)
df = data.frame(X = c(rep(0, 6), rep(25, 6)), Y = y)
stripchart(df$Y ~ df$X,
           method = "jitter", offset=1/3,
           vertical = TRUE, las=1,
           pch=16, cex=2,
           ylab="Y", xlab="X",
           main="Example")
```


From p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz  Tue Sep  5 22:40:26 2023
From: p@u| @end|ng |rom @t@t@@uck|@nd@@c@nz (Paul Murrell)
Date: Wed, 6 Sep 2023 08:40:26 +1200
Subject: [R] How to draw plot marks without label?
In-Reply-To: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>
References: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>
Message-ID: <083ad665-ea77-7a85-3b83-f6840e6c3c79@stat.auckland.ac.nz>

Hi

Do you mean like this ... ?


stripchart(df$Y ~ df$X,
            method = "jitter", offset=1/3,
            vertical = TRUE, las=1,
            pch=16, cex=2,
            ylab="Y", xlab="X",
            main="Example",
            axes=FALSE)
box()
axis(1)
axis(2, labels=FALSE)
axis(4, labels=FALSE)


Paul

On 6/09/23 07:56, Luigi Marongiu wrote:
> I would like to draw a graph where the y-lables are missing but the
> marks still present.
> In this example, I get marks from 20000 to 140 000 with increments of
> 20 000. I could use `plot(... yaxt="n"...)` combined with `axis(2,
> at..., label="")` but this needs to know exactly the sequence of marks
> provided by plot. But this sequence might change.
> 
> Thus is there a way to plot the marks without labels?
> Also, is it possible to draw the marks on the right side?
> 
> Thank you.
> 
> ```
> y = c(42008, 19076, 150576, 48192, 26153, 37931, 36103, 17692,
> 61538,41027, 71052, 94571)
> df = data.frame(X = c(rep(0, 6), rep(25, 6)), Y = y)
> stripchart(df$Y ~ df$X,
> method = "jitter", offset=1/3,
> vertical = TRUE, las=1,
> pch=16, cex=2,
> ylab="Y", xlab="X",
> main="Example")
> ```
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help 
> <https://stat.ethz.ch/mailman/listinfo/r-help>
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html 
> <http://www.R-project.org/posting-guide.html>
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr Paul Murrell
Te Kura Tatauranga | Department of Statistics
Waipapa Taumata Rau | The University of Auckland
Private Bag 92019, Auckland 1142, New Zealand
64 9 3737599 x85392
paul at stat.auckland.ac.nz
www.stat.auckland.ac.nz/~paul/


From bgunter@4567 @end|ng |rom gm@||@com  Tue Sep  5 23:33:34 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 5 Sep 2023 14:33:34 -0700
Subject: [R] How to draw plot marks without label?
In-Reply-To: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>
References: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>
Message-ID: <CAGxFJbQ9-X0DrSEsrcN8B-CV=Bhj+bichdwMNkjxPnOVESyFdg@mail.gmail.com>

Luigi:

For base R graphics, you should always consult ?par for optional graphical
parameters when the high level graphics function doesn't appear to provide
the control you would like. I don't use base graphics -- i.e. i"m not
particularly facile with it -- but as you provided an example, I decided to
try to help. I think this is what you may want:

stripchart(
           Y ~ X, data = df,  ## better way to specify data  instead of $
           method = "jitter", offset=1/3,
           vertical = TRUE, las=1,
           pch=16, cex=2,
           ylab="Y", xlab="X",
           yaxt= "n",  ## don't plot y axes
           main="Example")

## Now add y axis on right with default tick mark locations
axis(side = 4, labels = FALSE)

How I got this (you may find this useful to modify the above if I didn't
get what you wanted) was as follows:

stripchart() does not seem to allow the direct control over the axes you
want. The 'axes' parameter help in ?stripchart sent me to?par to see if I
could specify an axis on the right instead of on the left, but it did not
seem to provide such an option. So I decided to use what the yaxt parameter
described to omit the y axis in the high level (stripchart) call, and then
add it back with a subsequent call to axis(). I just used default tick
locations in that call, but you can specify them explicitly as ?axis
describes

Again, if this is not what you wanted, I hope you can use the above to
modify stripchart() to your desired specification.

Cheers,
Bert

On Tue, Sep 5, 2023 at 12:57?PM Luigi Marongiu <marongiu.luigi at gmail.com>
wrote:

> I would like to draw a graph where the y-lables are missing but the
> marks still present.
> In this example, I get marks from 20000 to 140 000 with increments of
> 20 000. I could use `plot(... yaxt="n"...)` combined with `axis(2,
> at..., label="")` but this needs to know exactly the sequence of marks
> provided by plot. But this sequence might change.
>
> Thus is there a way to plot the marks without labels?
> Also, is it possible to draw the marks on the right side?
>
> Thank you.
>
> ```
> y = c(42008, 19076, 150576, 48192, 26153, 37931, 36103, 17692,
>       61538,41027, 71052, 94571)
> df = data.frame(X = c(rep(0, 6), rep(25, 6)), Y = y)
> stripchart(df$Y ~ df$X,
>            method = "jitter", offset=1/3,
>            vertical = TRUE, las=1,
>            pch=16, cex=2,
>            ylab="Y", xlab="X",
>            main="Example")
> ```
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Wed Sep  6 07:38:54 2023
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Wed, 6 Sep 2023 07:38:54 +0200
Subject: [R] How to draw plot marks without label?
In-Reply-To: <CAGxFJbQ9-X0DrSEsrcN8B-CV=Bhj+bichdwMNkjxPnOVESyFdg@mail.gmail.com>
References: <CAMk+s2Q2KAuh5gtkQ54q7NiY4rdLACu1XfjdFd0iV2TVNC-XCQ@mail.gmail.com>
 <CAGxFJbQ9-X0DrSEsrcN8B-CV=Bhj+bichdwMNkjxPnOVESyFdg@mail.gmail.com>
Message-ID: <CAMk+s2T6UEhPpu_sDqrNYXEM61OiBvPj8+jLjF+gc7JwMGVzbw@mail.gmail.com>

Thank you that is exactly it.
I know these are basic questions but I can't find the solution on
either manuals or online...
Best regards
Luigi

On Tue, Sep 5, 2023 at 11:33?PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> Luigi:
>
> For base R graphics, you should always consult ?par for optional graphical parameters when the high level graphics function doesn't appear to provide the control you would like. I don't use base graphics -- i.e. i"m not particularly facile with it -- but as you provided an example, I decided to try to help. I think this is what you may want:
>
> stripchart(
>            Y ~ X, data = df,  ## better way to specify data  instead of $
>            method = "jitter", offset=1/3,
>            vertical = TRUE, las=1,
>            pch=16, cex=2,
>            ylab="Y", xlab="X",
>            yaxt= "n",  ## don't plot y axes
>            main="Example")
>
> ## Now add y axis on right with default tick mark locations
> axis(side = 4, labels = FALSE)
>
> How I got this (you may find this useful to modify the above if I didn't get what you wanted) was as follows:
>
> stripchart() does not seem to allow the direct control over the axes you want. The 'axes' parameter help in ?stripchart sent me to?par to see if I could specify an axis on the right instead of on the left, but it did not seem to provide such an option. So I decided to use what the yaxt parameter described to omit the y axis in the high level (stripchart) call, and then add it back with a subsequent call to axis(). I just used default tick locations in that call, but you can specify them explicitly as ?axis describes
>
> Again, if this is not what you wanted, I hope you can use the above to modify stripchart() to your desired specification.
>
> Cheers,
> Bert
>
> On Tue, Sep 5, 2023 at 12:57?PM Luigi Marongiu <marongiu.luigi at gmail.com> wrote:
>>
>> I would like to draw a graph where the y-lables are missing but the
>> marks still present.
>> In this example, I get marks from 20000 to 140 000 with increments of
>> 20 000. I could use `plot(... yaxt="n"...)` combined with `axis(2,
>> at..., label="")` but this needs to know exactly the sequence of marks
>> provided by plot. But this sequence might change.
>>
>> Thus is there a way to plot the marks without labels?
>> Also, is it possible to draw the marks on the right side?
>>
>> Thank you.
>>
>> ```
>> y = c(42008, 19076, 150576, 48192, 26153, 37931, 36103, 17692,
>>       61538,41027, 71052, 94571)
>> df = data.frame(X = c(rep(0, 6), rep(25, 6)), Y = y)
>> stripchart(df$Y ~ df$X,
>>            method = "jitter", offset=1/3,
>>            vertical = TRUE, las=1,
>>            pch=16, cex=2,
>>            ylab="Y", xlab="X",
>>            main="Example")
>> ```
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.



-- 
Best regards,
Luigi


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Wed Sep  6 10:08:52 2023
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Wed, 6 Sep 2023 10:08:52 +0200
Subject: [R] Regarding error in RStudio
In-Reply-To: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
References: <DM6PR14MB37905617A496190FC05E9F6CB9E8A@DM6PR14MB3790.namprd14.prod.outlook.com>
Message-ID: <25848.13204.540461.631224@stat.math.ethz.ch>

>>>>> Sukriti Sood 
>>>>>     on Tue, 5 Sep 2023 16:59:28 +0000 writes:

    > Hi, I am Sukriti Sood, a research analyst at Woodstock
    > Institute <https://woodstockinst.org/> . I use RStudio
    > extensively for our analysis. I have been facing two
    > issues for a while:


    >   1.  I am unable to copy from RStudio and paste into or
    > vice versa to any other programs.  2.  I am facing some
    > kind of a conversion error (screenshot attached).

    > I tried looking up online however could not find a
    > resolution to these issues. Could I please get some help
    > with this urgently.

    > Thanks!

    > Best, Sukriti Sood

Dear Sukriti.

Hmm, the R-help list is really about R, and *not* RStudio.
There are RStudio community places to ask for help with the IDE,
"RStudio Desktop" I think it is called now.

Also screenshots of R console output are really not intended for
this mailing list.  Please rather send *text* to here which you
cut'n'paste (and possible re-format / clean)  from the R console.

Still taking the extra effort and deciphering your screenshot,
I see that you are using R version 4.3.1 for Windows .. which is
fine... then an  iconv() conversion error and an other error
message that "knitr" was not found; finally

[Workspace loaded from C:/WSI/.RData]

Please rename this file, C:/WSI/.RData , to something else
(do this with the file browser from Windows; outside R).

If that does not help, try to start R outside of RStudio,
and report here (*not* by a screenshot) if you still get an
error.
If you get to the R prompt at all please also send the console
output from (typing in the R console)
  > sessionInfo()

If  R  works fine outside RStudio,  you definitely need to get
help from the RStudio community.
Hoping that helps some steps further.

Best regards,
Martin

--
Martin Maechler
ETH Zurich  and  R Core team


From @ndre@@@|eh@ @end|ng |rom med@un|-goett|ngen@de  Wed Sep  6 12:05:47 2023
From: @ndre@@@|eh@ @end|ng |rom med@un|-goett|ngen@de (Andreas Leha)
Date: Wed, 06 Sep 2023 12:05:47 +0200
Subject: [R] confidence interval around Aalen-Johansen if no events
Message-ID: <87il8nfwg4.fsf@med.uni-goettingen.de>

Hi all,

I'd like to calculate confidence intervals around Aalen-Johansen
estimates at given time points.  And later I'd like to be able to
compare the Aalen-Johansen estimates at given time points between
groups.
My problem is, that there are no events recorded.

So my question is:
Does anyone know how to get confidence intervals around Aalen-Johansen
estimates in the absence of (or prior to) events?
(And ideally also how to compare the Aalen-Johansen estimates at given
time points between groups in that situation.)

Note that I can do the same thing for Kaplan-Meier estimates (using
the bpcp package).

Many thanks in advance!

Best,
Andreas

PS:  Some code that illustrates my problem:

-------------------------
library("dplyr")
library("survival")

## read data
sdat <- structure(list(time = c(2, 189, 182, 2, 184, 179, 179, 159, 18, 
177, 177, 182, 184, 178, 179, 178, 179, 179, 177, 178, 175, 184, 
179, 179, 176, 176, 175, 193, 183, 182, 179, 175, 178, 90, 189, 
177, 185, 179, 184, 171, 182, 181, 179, 179, 175, 104, 185, 180, 
180, 177, 176, 184, 181, 178, 184, 178, 182, 176, 176, 180, 180, 
176, 183, 182, 175, 184, 182, 182, 177, 182, 64, 178, 179, 179, 
176, 93, 131, 184, 181), event = structure(c(2L, 1L, 1L, 2L, 
1L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 2L, 2L, 1L, 1L, 1L, 2L, 2L, 1L, 1L), .Label = c("censored", 
"competing_event", "event_of_interest"), class = "factor"), group = structure(c(2L, 
2L, 2L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 2L, 1L, 2L, 2L, 2L, 2L, 2L, 
2L, 1L, 2L, 2L, 1L, 2L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 2L, 1L, 2L, 
1L, 1L, 1L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 2L, 
2L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 2L, 2L, 2L, 
1L, 2L, 2L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 2L, 2L, 1L), .Label = c("G1", 
"G2"), class = "factor")), row.names = c(NA, -79L), class = c("tbl_df", 
"tbl", "data.frame"))
sdat
## there are no events of interest:
sdat$event %>% table(exclude = NULL)

## fit works fine
fit <- survfit(Surv(time, event) ~ group, data = sdat)
## the estimate is at 0 (as expected)
fit$pstate[,3]
## but there is no confidence estimate
fit$lower[,3]
fit$upper[,3]
## cmprsk does not event return estimates for the event of interest
library("cmprsk")
fit <- cuminc(ftime = sdat$time,
              fstatus = sdat$event,
              cencode = "censored",
              group = sdat$group)
fit



## note that I can get confidence intervals from a Kaplan-Meier
## estimator:

## censor competing events:
sdat <-
  sdat %>%
  mutate(event2 = recode(event,
                         competing_event = "censored")) %>%
  mutate(event2 = as.numeric(event2) - 1)
sdat$event2 %>% table(exclude = NULL)
## fit using the survival package
fit <- survfit(Surv(time, event2) ~ 1, data = sdat)
fit
## no (meaningful?) confidence intervals
fit$lower
fit$upper
## but through the bpcp package this is possible
library("bpcp")
sfit2 <- bpcpfit(Surv(time, event2) ~ 1, data = sdat)
sfit2
tidykmciLR(sfit2)
## can further compare between groups:
bpcp2samp(sdat$time, sdat$event2, sdat$group, testtime = 150,
          parmtype = "difference")


From @||@|@@|eem1998 @end|ng |rom gm@||@com  Wed Sep  6 05:53:46 2023
From: @||@|@@|eem1998 @end|ng |rom gm@||@com (Ali Mahdi)
Date: Wed, 6 Sep 2023 06:53:46 +0300
Subject: [R] Installing R 3.1.2
Message-ID: <28B6A4D0-E814-41AF-A307-3A49D418DEE9@gmail.com>

Hi 
I get trouble in installing R programing language as a newest version but my windows is old version (7-32) so I search in archive for old version( 3.1.2) but when I try to extract the file by peazip I found it demand a password, Can you help me in this trouble please 

Sent from my iPhone

From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Wed Sep  6 12:36:29 2023
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Wed, 6 Sep 2023 12:36:29 +0200
Subject: [R] Installing R 3.1.2
In-Reply-To: <28B6A4D0-E814-41AF-A307-3A49D418DEE9@gmail.com>
References: <28B6A4D0-E814-41AF-A307-3A49D418DEE9@gmail.com>
Message-ID: <7ff5dc7b-6840-3a9d-80a8-0c459b43ed50@statistik.tu-dortmund.de>

See

https://cran.r-project.org/bin/windows/base/old/

Version 4.1.3 is the latest that supports 32 bit WIndows, as far as I 
remember.

A passwort is not required.

Best,
Uwe Ligges





On 06.09.2023 05:53, Ali Mahdi wrote:
> Hi
> I get trouble in installing R programing language as a newest version but my windows is old version (7-32) so I search in archive for old version( 3.1.2) but when I try to extract the file by peazip I found it demand a password, Can you help me in this trouble please
> 
> Sent from my iPhone
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From chr_bou@quet @end|ng |rom protonm@||@com  Wed Sep  6 13:07:53 2023
From: chr_bou@quet @end|ng |rom protonm@||@com (Christophe Bousquet)
Date: Wed, 06 Sep 2023 11:07:53 +0000
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <20230904161324.224733ea@parabola>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
 <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
 <20230901175315.1cbe946c@arachnoid>
 <pOwTCode1iGrff4jhNKjT2sXAH4MfKK1ikkQK4Ns4UbqADf13tplvHdmwKB4Ncos3pTF3sKomagysD6vxXO9R_eHHuQkjfq3fC3J8kS4DxM=@protonmail.com>
 <20230904161324.224733ea@parabola>
Message-ID: <cIR1xuwzwyXMfq6r_gfKxjBBavgvJGH3xNfy8i9H3fdKwgy7vhBCxI2IFlggID7TNjt8gyd5N5hiU3nzzMfWLp5uNIkaPphGriZIbdZNPtU=@protonmail.com>





Sent from ProtonMail, encrypted email based in Switzerland.



------- Original Message -------
On Monday, September 4th, 2023 at 17:13, Ivan Krylov <krylov.r00t at gmail.com> wrote:


> ? Mon, 04 Sep 2023 12:05:38 +0000
> Christophe Bousquet chr_bousquet at protonmail.com ?????:
> 
> > I will try compiling R from source when I am back from holidays, and
> > ask you if I need assistance.
> 
> 
> Make sure to compile with DEBUG=1 so that the compiler flags needed to
> emit debugging information will be enabled. Good luck!
> 
> --
> Best regards,
> Ivan

Hi Ivan,

Actually, by getting an answer on another issue concerning updates of Git for Windows, I managed to solve this issue for me.
As can be seen here (https://github.com/git-for-windows/git/issues/4591), both issues were related to a mispecification of my ComSpec environment variable. Its value should be a single path to the cmd.exe file and no semi-columns neither.
With this done, I could also install again R packages from source. However, I am not sure how I ended up messing up this ComSpec variable in the first place :-/
But now it seems to be fixed.

Best regards,
Christophe


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Sep  6 23:55:23 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 6 Sep 2023 22:55:23 +0100
Subject: [R] 
 Problems with installing R packages from source and running C++
 in R, even on fresh R installation
In-Reply-To: <cIR1xuwzwyXMfq6r_gfKxjBBavgvJGH3xNfy8i9H3fdKwgy7vhBCxI2IFlggID7TNjt8gyd5N5hiU3nzzMfWLp5uNIkaPphGriZIbdZNPtU=@protonmail.com>
References: <hMOLabhKX4qUpm7377yPK4N85t3XtYvEMbfXIXytM1ODg6IdHfmOJBUyhNEAKJVJVTsWOzI_vFenQgeFYZpmnIjkR3SrzpkYa_MdtvPZiew=@protonmail.com>
 <w1C0e491FJeLuDEBQWQUdgCPx6XV_HANv25HFxiSNmJbWH4h-gI6yi9jVECVmkowP66ImHkZDSoex1NfQe7YgF4abKXTHxJQ2plNMrGYXjc=@protonmail.com>
 <20230831172105.4c230047@arachnoid>
 <kBmDs-_nfnVVJcO0ukbvE8irhfr_WmLOMMeoO7fqOcp4MmI2220XpUFlp-8pGqVKu2uzmkqvSqY5gC5rm0xaNpdbYzDyX8oxmJF5AchyUgQ=@protonmail.com>
 <20230831224352.265f0e82@Tarkus>
 <dxfxwn_FE-HscCQ-CqNuFqz3vwIwNrWkgEE4vSO_Mvz2QogNLPWQ5pttRuAUzPTd1co8koGWeUVz-sSKWraAUyEPQtk5qSy4S6kAJspfn6c=@protonmail.com>
 <20230901175315.1cbe946c@arachnoid>
 <pOwTCode1iGrff4jhNKjT2sXAH4MfKK1ikkQK4Ns4UbqADf13tplvHdmwKB4Ncos3pTF3sKomagysD6vxXO9R_eHHuQkjfq3fC3J8kS4DxM=@protonmail.com>
 <20230904161324.224733ea@parabola>
 <cIR1xuwzwyXMfq6r_gfKxjBBavgvJGH3xNfy8i9H3fdKwgy7vhBCxI2IFlggID7TNjt8gyd5N5hiU3nzzMfWLp5uNIkaPphGriZIbdZNPtU=@protonmail.com>
Message-ID: <20230906225523.2c9aa976@parabola>

? Wed, 06 Sep 2023 11:07:53 +0000
Christophe Bousquet <chr_bousquet at protonmail.com> ?????:

> As can be seen here
> (https://github.com/git-for-windows/git/issues/4591), both issues were
> related to a mispecification of my ComSpec environment variable. Its
> value should be a single path to the cmd.exe file and no semi-columns
> neither. With this done, I could also install again R packages from
> source.

Congratulations on solving this yourself! It turns out that the
system() function itself doesn't work properly when %COMSPEC% isn't set
right. It may have taken a long time to find.

-- 
Best regards,
Ivan


From r@oknz @end|ng |rom gm@||@com  Thu Sep  7 12:03:33 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 7 Sep 2023 22:03:33 +1200
Subject: [R] Merge and replace data
In-Reply-To: <CANTvJZ+JEXsb70xwfBoy-Ba0zHujYR1OQZ46nekCTije3Ddw8w@mail.gmail.com>
References: <CANTvJZ+3ni5g-P_9UG+RwSe8Jj-DzNXrpFtRAQBMmBM8wt=2cA@mail.gmail.com>
 <cccae6ee-190a-8c1a-77d8-106b60c18173@gmail.com>
 <CAGgJW76QWdp9jRhQvQSdrb51Jgf=ZAhbmrKqHUGpPV-Y+8aWfw@mail.gmail.com>
 <CANTvJZ+JEXsb70xwfBoy-Ba0zHujYR1OQZ46nekCTije3Ddw8w@mail.gmail.com>
Message-ID: <CABcYAd+Dwq1L9rvi+yUfzbH62PJe2i9Zr2C+9vXCOrmYkepaCQ@mail.gmail.com>

I'm a little confused, because the sample code does something that
none of the suggestions does.
x1 <- c(116,0,115,137,127,0,0)
x2 <- c(0,159,0,0,0,159,127)

[You] want : xx <- c(116,115,137,127,159, 127)
Assuming that there should have been two copies of 159 in xx, this is
xx <- c(x1[x1 != 0], x2[x2 != 0])
pmax or ifelse would give you
xx <- c(116,159,115,137,127,159,127)  # NOT the desired result

If there really was supposed to be one copy of 159,
you might want to call unique() somewhere.

You really need to set out clearly and unambiguously what
you actually want.


On Wed, 6 Sept 2023 at 01:42, roslinazairimah zakaria <roslinaump at gmail.com>
wrote:

> Thank you for the general code. Really appreciate it.
>
>
> On Tue, Sep 5, 2023 at 7:59?PM Eric Berger <ericjberger at gmail.com> wrote:
>
> > As Duncan points out, ifelse() provides a more general approach than
> > the specific pmax().
> >
> > Even more generally, you might want to consider the apply() function
> > (and its relatives sapply(), lapply(), ...)
> >
> > For example
> >
> > apply(cbind(x1,x2), MAR=1, max)
> >
> > In the above statement, x1 and x2 are combined into two columns, MAR=1
> > says apply the following function to each row,
> > and max specifies the function to be applied. The summary is that this
> > statement applies the max to each row in the object
> > specified by the first argument. It's very general because you can
> > replace max by an arbitrary function.
> >
> > Similarly, if you get more into R you might modify the above using
> > chained operations. The following rewrites the above
> > by piping cbind(x1,x2) into the apply command. Not a necessary feature
> > to know but eventually will assist you in writing code that does
> > not require a lot of intermediate variables.
> >
> > cbind(x1,x2) |> apply(MAR=1,max)
> >
> > On Tue, Sep 5, 2023 at 2:45?PM Duncan Murdoch <murdoch.duncan at gmail.com>
> > wrote:
> > >
> > > On 05/09/2023 4:55 a.m., roslinazairimah zakaria wrote:
> > > > Hi all,
> > > >
> > > > I have these data
> > > >
> > > > x1 <- c(116,0,115,137,127,0,0)
> > > > x2 <- c(0,159,0,0,0,159,127)
> > > >
> > > > I want : xx <- c(116,115,137,127,159, 127)
> > > >
> > > > I would like to merge these data into one column. Whenever the data
> is
> > '0'
> > > > it will be replaced by the value in the column which is non zero..
> > > > I tried append and merge but fail to get what I want.
> > > >
> > >
> > > Others have pointed out pmax(x1, x2).  For the sample data, even x1+x2
> > > would give the same answer.
> > >
> > > The real question is what you want to do if both x1 and x2 have
> non-zero
> > > entries, or negative entries:
> > >
> > >    pmax(x1, x2)
> > >
> > > will pick the larger one.  It might be zero if the other is negative,
> > > and that doesn't match your description.
> > >
> > >    x1+x2
> > >
> > > will just give the sum, which doesn't match your description if both
> are
> > > non-zero.
> > >
> > > But maybe you want the x1 value unless it is zero, even if it is
> smaller
> > > than the x2 value:  then you would use
> > >
> > >    ifelse(x1 != 0, x1, x2)
> > >
> > > Similarly
> > >
> > >    ifelse(x2 != 0, x2, x1)
> > >
> > > would prefer the x2 value.
> > >
> > > You should think about what you would do in these other cases as well.
> > >
> > > Duncan Murdoch
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> >
>
>
> --
> *Roslinazairimah Zakaria*
> *Tel: +609-5492370; Fax. No.+609-5492766*
>
> *Email: roslinazairimah at ump.edu.my <roslinazairimah at ump.edu.my>;
> roslinaump at gmail.com <roslinaump at gmail.com>*
> Faculty of Industrial Sciences & Technology
> University Malaysia Pahang
> Lebuhraya Tun Razak, 26300 Gambang, Pahang, Malaysia
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Thu Sep  7 12:51:30 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 7 Sep 2023 22:51:30 +1200
Subject: [R] Finding combination of states
In-Reply-To: <CAGxFJbSA5sPsMW+JvrEQQBPg-ceiZGrn=i0s=9TkxRd+7d8Y6w@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
 <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
 <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>
 <CAGgJW76zpsn4zNQCB8EGy8cfBSHHyJ9Su3uv_wurgpDPyGpeQw@mail.gmail.com>
 <CAGxFJbSA5sPsMW+JvrEQQBPg-ceiZGrn=i0s=9TkxRd+7d8Y6w@mail.gmail.com>
Message-ID: <CABcYAdKdgBYBz37SZaQ5jzMbeQV9kdpc-4o6_8bvHHpquMGPwQ@mail.gmail.com>

The Data Colada blog has some articles about the groundhog package.
See particular https://datacolada.org/95
and especially https://datacolada.org/100

I now have three reasons for preferring to stick with the core library
packages as much as possible.
1) It's just better style to do more with less.
2) The core packages are much better documented.  I'm favourably
   impressed by R package documentation in general, but the core
   packages are spelled out in more detail in more books.  (Only
   the tidyverse comes close, and it doesn't come close.)
3) Packages outside the core break frighteningly fast.
   From Data Colada 100,
   "A paper published ... in *Nature: Scientific Data (.htm
<https://www.nature.com/articles/s41597-022-01143-6>)* attempted to
automatically re-execute 2335 R scripts posted as supporting materials for
published papers. After cleaning the scripts (installing necessary packages
and fixing paths to local files) only  44% of scripts run without
generating errors. So, *most* scripts did not run."

Now the issue here is strikingly reminiscent of expand.grid.
In fact it's so reminiscent of expand.grid that I wonder if expand.grid
could be used to solve whatever the *original* problem was.

paste2 <- function (x, y) as.vector(outer(x, y, paste(0))
states <- list(c("X"), c("A","B","C"), c("A","B","C"), c("A","B","C"),
c("Z"))
x <- states[[length(states)]]
for (i in (length(states)-1):1) x <- paste2(states[[i]], x)
x

The output is
 [1] "XAAAZ" "XBAAZ" "XCAAZ" "XABAZ" "XBBAZ" "XCBAZ" "XACAZ" "XBCAZ"
"XCCAZ"}
[10] "XAABZ" "XBABZ" "XCABZ" "XABBZ" "XBBBZ" "XCBBZ" "XACBZ" "XBCBZ" "XCCBZ"
[19] "XAACZ" "XBACZ" "XCACZ" "XABCZ" "XBBCZ" "XCBCZ" "XACCZ" "XBCCZ" "XCCCZ"

How close this comes to what you want is for you to decide;
what I've hoped to show is that core R has simple building blocks
that you can use *simply* to do this kind of thing.

In fact we can do better by eliminating outer() and using rep() to
reshape the state lists and a single invocation of paste0() to put
them together.  But it's probably not worth while.




On Tue, 5 Sept 2023 at 23:55, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Oh I liked that.
>
> I was actually thinking about something similar, but couldn't figure it
> out.  The idiom you showed is very clever imo and taught me something about
> regexes that I never properly understood.
>
> Bert
>
> On Tue, Sep 5, 2023, 01:04 Eric Berger <ericjberger at gmail.com> wrote:
>
> > Hi Bert,
> > I really liked your solution.
> > In the spirit of code golf, I wondered if there is a shorter way to do
> > the regular expression test.
> > Kudos to my coding buddy GPT-4 for the following:
> >
> > You can replace your statement
> >
> > out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> >
> > by
> >
> > out[-grep("(.)\\1",out)]
> >
> > Best,
> > Eric
> >
> > On Tue, Sep 5, 2023 at 3:08?AM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
> > >
> > > ... and just for fun, here is a non-string version (more appropriate
> for
> > complex state labels??):
> > >
> > > gvec <- function(ntimes, states, init, final, repeats = TRUE)
> > >    ## ntimes: integer, number of unique times
> > >    ## states: vector of unique states
> > >    ## init: initial state
> > >    ## final: final state
> > > {
> > >    out <- cbind(init,
> > >             as.matrix(expand.grid(rep(list(states),ntimes -2 ))),final)
> > >    if(!repeats)
> > >      out[ apply(out,1,\(x)all(x[-1] != x[-ntimes])), ]
> > >    else out
> > > }
> > >
> > > yielding:
> > >
> > >
> > > > gvec(4, letters[1:5], "b", "e", repeats = TRUE)
> > >       init Var1 Var2 final
> > >  [1,] "b"  "a"  "a"  "e"
> > >  [2,] "b"  "b"  "a"  "e"
> > >  [3,] "b"  "c"  "a"  "e"
> > >  [4,] "b"  "d"  "a"  "e"
> > >  [5,] "b"  "e"  "a"  "e"
> > >  [6,] "b"  "a"  "b"  "e"
> > >  [7,] "b"  "b"  "b"  "e"
> > >  [8,] "b"  "c"  "b"  "e"
> > >  [9,] "b"  "d"  "b"  "e"
> > > [10,] "b"  "e"  "b"  "e"
> > > [11,] "b"  "a"  "c"  "e"
> > > [12,] "b"  "b"  "c"  "e"
> > > [13,] "b"  "c"  "c"  "e"
> > > [14,] "b"  "d"  "c"  "e"
> > > [15,] "b"  "e"  "c"  "e"
> > > [16,] "b"  "a"  "d"  "e"
> > > [17,] "b"  "b"  "d"  "e"
> > > [18,] "b"  "c"  "d"  "e"
> > > [19,] "b"  "d"  "d"  "e"
> > > [20,] "b"  "e"  "d"  "e"
> > > [21,] "b"  "a"  "e"  "e"
> > > [22,] "b"  "b"  "e"  "e"
> > > [23,] "b"  "c"  "e"  "e"
> > > [24,] "b"  "d"  "e"  "e"
> > > [25,] "b"  "e"  "e"  "e"
> > > >
> > > > gvec(4, letters[1:5], "b", "e", repeats = FALSE)
> > >       init Var1 Var2 final
> > >  [1,] "b"  "c"  "a"  "e"
> > >  [2,] "b"  "d"  "a"  "e"
> > >  [3,] "b"  "e"  "a"  "e"
> > >  [4,] "b"  "a"  "b"  "e"
> > >  [5,] "b"  "c"  "b"  "e"
> > >  [6,] "b"  "d"  "b"  "e"
> > >  [7,] "b"  "e"  "b"  "e"
> > >  [8,] "b"  "a"  "c"  "e"
> > >  [9,] "b"  "d"  "c"  "e"
> > > [10,] "b"  "e"  "c"  "e"
> > > [11,] "b"  "a"  "d"  "e"
> > > [12,] "b"  "c"  "d"  "e"
> > > [13,] "b"  "e"  "d"  "e"
> > >
> > > :-)
> > >
> > > -- Bert
> > >
> > > On Mon, Sep 4, 2023 at 2:04?PM Bert Gunter <bgunter.4567 at gmail.com>
> > wrote:
> > >>
> > >> Well, if strings with repeats (as you defined them) are to be
> excluded,
> > I think it's simple just to use regular expressions to remove them.
> > >>
> > >> e.g.
> > >> g <- function(ntimes, states, init, final, repeats = TRUE)
> > >>    ## ntimes: integer, number of unique times
> > >>    ## states: vector of unique states
> > >>    ## init: initial state
> > >>    ## final: final state
> > >> {
> > >> out <- do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
> > final))
> > >> if(!repeats)
> > >>    out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> > >> else out
> > >> }
> > >> So:
> > >>
> > >> > g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
> > >>  [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
> > >>  [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"
> > >>
> > >> Perhaps not the most efficient way to do this, of course.
> > >>
> > >> Cheers,
> > >> Bert
> > >>
> > >>
> > >> On Mon, Sep 4, 2023 at 12:57?PM Eric Berger <ericjberger at gmail.com>
> > wrote:
> > >>>
> > >>> My initial response was buggy and also used a deprecated function.
> > >>> Also, it seems possible that one may want to rule out any strings
> > where the same state appears consecutively.
> > >>> I say that such a string has a repeat.
> > >>>
> > >>> myExpand <- function(v, n) {
> > >>>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
> > >>> }
> > >>>
> > >>> no_repeat <- function(s) {
> > >>>   v <- unlist(strsplit(s, NULL))
> > >>>   sum(v[-1]==v[-length(v)]) == 0
> > >>> }
> > >>>
> > >>> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
> > >>>   if (nsteps < 3) stop("nsteps must be at least 3")
> > >>>     out <- paste(first,
> > >>>           myExpand(states, nsteps-2) |>
> > >>>             apply(MAR=1, \(x) paste(x, collapse="")),
> > >>>           last, sep="")
> > >>>     if (rm_repeat) {
> > >>>       ok <- sapply(out, no_repeat)
> > >>>       out <- out[ok]
> > >>>     }
> > >>>     out
> > >>> }
> > >>>
> > >>> f(LETTERS[1:5],4,"B","E")
> > >>>
> > >>> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
> > "BEAE" "BEBE" "BECE" "BEDE"
> > >>>
> > >>> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter <bgunter.4567 at gmail.com>
> > wrote:
> > >>>>
> > >>>> Sorry, my last line should have read:
> > >>>>
> > >>>> If neither this nor any of the other suggestions is what is desired,
> > I think the OP will have to clarify his query.
> > >>>>
> > >>>> Bert
> > >>>>
> > >>>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter <bgunter.4567 at gmail.com
> >
> > wrote:
> > >>>>>
> > >>>>> I think there may be some uncertainty here about what the OP
> > requested. My interpretation is:
> > >>>>>
> > >>>>> n different times
> > >>>>> k different states
> > >>>>> Any state can appear at any time in the vector of times and can be
> > repeated
> > >>>>> Initial and final states are given
> > >>>>>
> > >>>>> So modifying Tim's expand.grid() solution a bit yields:
> > >>>>>
> > >>>>> g <- function(ntimes, states, init, final){
> > >>>>>    ## ntimes: integer, number of unique times
> > >>>>>    ## states: vector of unique states
> > >>>>>    ## init: initial state
> > >>>>>    ## final: final state
> > >>>>> do.call(paste0,c(init,expand.grid(rep(list(states), ntimes-2)),
> > final))
> > >>>>> }
> > >>>>>
> > >>>>> e.g.
> > >>>>>
> > >>>>> > g(4, LETTERS[1:5], "B", "D")
> > >>>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
> > >>>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
> > >>>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
> > >>>>> [25] "BEED"
> > >>>>>
> > >>>>> If neither this nor any of the other suggestions is not what is
> > desired, I think the OP will have to clarify his query.
> > >>>>>
> > >>>>> Cheers,
> > >>>>> Bert
> > >>>>>
> > >>>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron <tebert at ufl.edu
> >
> > wrote:
> > >>>>>>
> > >>>>>> Does this work for you?
> > >>>>>>
> > >>>>>> t0<-t1<-t2<-LETTERS[1:5]
> > >>>>>> al2<-expand.grid(t0, t1, t2)
> > >>>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
> > >>>>>> al4 <- gsub(" ", "", al3)
> > >>>>>> head(al3)
> > >>>>>>
> > >>>>>> Tim
> > >>>>>>
> > >>>>>> -----Original Message-----
> > >>>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric
> > Berger
> > >>>>>> Sent: Monday, September 4, 2023 10:17 AM
> > >>>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
> > >>>>>> Cc: r-help <r-help at r-project.org>
> > >>>>>> Subject: Re: [R] Finding combination of states
> > >>>>>>
> > >>>>>> [External Email]
> > >>>>>>
> > >>>>>> The function purrr::cross() can help you with this. For example:
> > >>>>>>
> > >>>>>> f <- function(states, nsteps, first, last) {
> > >>>>>>    paste(first, unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
> > >>>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") }
> > f(LETTERS[1:5], 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
> > >>>>>>
> > >>>>>> HTH,
> > >>>>>> Eric
> > >>>>>>
> > >>>>>>
> > >>>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
> > bogaso.christofer at gmail.com> wrote:
> > >>>>>> >
> > >>>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of such
> > time
> > >>>>>> > points can be arbitrary) In each time point, an object can be
> any
> > of 5
> > >>>>>> > states, A, B, C, D, E (number of such states can be arbitrary)
> > >>>>>> >
> > >>>>>> > I need to find all possible ways, how that object starting with
> > state
> > >>>>>> > B (say) at time T0, can be on state E (example) in time T2
> > >>>>>> >
> > >>>>>> > For example one possibility is BAE etc.
> > >>>>>> >
> > >>>>>> > Is there any function available with R, that can give me a
> vector
> > of
> > >>>>>> > such possibilities for arbitrary number of states, time, and
> for a
> > >>>>>> > given initial and final (desired) states?
> > >>>>>> >
> > >>>>>> > ANy pointer will be very appreciated.
> > >>>>>> >
> > >>>>>> > Thanks for your time.
> > >>>>>> >
> > >>>>>> > ______________________________________________
> > >>>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> see
> > >>>>>> > https://stat/
> > >>>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%
> > 40ufl.edu
> > >>>>>> >
> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84
> > >>>>>> >
> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > >>>>>> >
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > >>>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reserved=0
> > >>>>>> > PLEASE do read the posting guide
> > >>>>>> > http://www.r/
> > >>>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%
> 40ufl.edu
> > %7C25
> > >>>>>> >
> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> > >>>>>> >
> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> > >>>>>> >
> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=5n
> > >>>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
> > >>>>>> > and provide commented, minimal, self-contained, reproducible
> code.
> > >>>>>>
> > >>>>>> ______________________________________________
> > >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>>>> PLEASE do read the posting guide
> > http://www.r-project.org/posting-guide.html
> > >>>>>> and provide commented, minimal, self-contained, reproducible code.
> > >>>>>> ______________________________________________
> > >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> > >>>>>> PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > >>>>>> and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From nor@z||@chemu@@ @end|ng |rom gm@||@com  Fri Sep  8 01:09:47 2023
From: nor@z||@chemu@@ @end|ng |rom gm@||@com (nor azila)
Date: Thu, 7 Sep 2023 16:09:47 -0700
Subject: [R] Error in finding factor scores/ person ability in item response
 theory
Message-ID: <CAEU20u0tNZDnucPE9TJwcMoNR1LQ=D6La91-Aq8UiTvO=oazxA@mail.gmail.com>

Dear R users,

I have encountered some error in finding factor scores/ person ability in
item response theory.
I tried a few times using ltm and mirt package but it still gave me error.

#TRY #1 - Fit GPCM model using ltm



> irt_model <- gpcm(response_matrix)

> irt_person_abilities <- fscores(irt_model)

*Error in object at Model : *

*  no applicable method for `@` applied to an object of class "gpcm"*





#TRY #2 - Fit  GPCM model using ltm



> irt_model <- gpcm(data = HT, constraint = "1PL")

> irt_person_abilities <- factor.scores(irt_model)

*Error in factor.scores(irt_model) : *

*  argument "f" is missing, with no default*





#TRY #3 - Fit GPCM model using mirt



> irt_model <- mirt(data = HT, model = "gpcm", itemtype = "graded")

*Error in model$x[i, "Type"] : subscript out of bounds*

*In addition: Warning message:*

*In cbind(model$x, OptionalGroups = "") :*

*  number of rows of result is not a multiple of vector length (arg 2)*

> irt_person_abilities_dim1 <- fscores(gpcm_model, method = "EAP", dims = 1)

*Error in object at Model : *

*  no applicable method for `@` applied to an object of class "gpcm"*


I am not sure which package is suitable with my data (Polytomous - Partial
Credit Model) and why it always turns out to be an error.

Thank you very much for any help given.

Azila.

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Thu Sep  7 15:17:35 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 7 Sep 2023 13:17:35 +0000
Subject: [R] Finding combination of states
In-Reply-To: <CABcYAdKdgBYBz37SZaQ5jzMbeQV9kdpc-4o6_8bvHHpquMGPwQ@mail.gmail.com>
References: <CA+dpOJk6kzWbPa7zba_51yMFLpeyXYzWWkYY-63-r5Y50C1mzw@mail.gmail.com>
 <CAGgJW774b-JQyubY0oaAzACCJr55g-X=2-LB53x9GXkgSCSWag@mail.gmail.com>
 <CH3PR22MB451443A173503A7CFF22BE08CFE9A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CAGxFJbSJ8HPiLdrcc_diF3wvovvR4UQ+8mn3dW13Uc8DFAypmw@mail.gmail.com>
 <CAGxFJbT4LG+XaiNzMTCbhC5s6inEdaiP=u9VSt_QpUZSzVOjAA@mail.gmail.com>
 <CAGgJW74VmYaxNxD3LKf7JtGJc7yya8AVuBe_UFKxb-GPd6w8Tw@mail.gmail.com>
 <CAGxFJbRKUPDR7XCRiRBAWMuQOjTH-6CSVJsnt1WGCWAEn6GhcQ@mail.gmail.com>
 <CAGxFJbTLpScf1kyH1iUBKMcLpUkOAd=YVtgEtG_AJ=bC45uOfg@mail.gmail.com>
 <CAGgJW76zpsn4zNQCB8EGy8cfBSHHyJ9Su3uv_wurgpDPyGpeQw@mail.gmail.com>
 <CAGxFJbSA5sPsMW+JvrEQQBPg-ceiZGrn=i0s=9TkxRd+7d8Y6w@mail.gmail.com>
 <CABcYAdKdgBYBz37SZaQ5jzMbeQV9kdpc-4o6_8bvHHpquMGPwQ@mail.gmail.com>
Message-ID: <CH3PR22MB45141BB20460DC93E1D1EB5DCFEEA@CH3PR22MB4514.namprd22.prod.outlook.com>

I like many packages. They give me working code that it would take a long time for me to write (and debug). In some cases I am fairly sure that the effort would be a full time job on top of my regular workload. The packages use less of my time.

I hate packages because of Richard's point #3. I have SAS code written in 1986 that still works without any modification or updating. R code may not work as of the next update unless all of the packages are also updated. The more packages I use, the more often I must fight with one or more of them to keep my code running. If the code is something I want to keep for a long time, then it pays in the long run to use the fewest packages possible.
Tim


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Thursday, September 7, 2023 6:52 AM
To: Bert Gunter <bgunter.4567 at gmail.com>
Cc: r-help <r-help at r-project.org>
Subject: Re: [R] Finding combination of states

[External Email]

The Data Colada blog has some articles about the groundhog package.
See particular https://datacolada.org/95
and especially https://datacolada.org/100

I now have three reasons for preferring to stick with the core library packages as much as possible.
1) It's just better style to do more with less.
2) The core packages are much better documented.  I'm favourably
   impressed by R package documentation in general, but the core
   packages are spelled out in more detail in more books.  (Only
   the tidyverse comes close, and it doesn't come close.)
3) Packages outside the core break frighteningly fast.
   From Data Colada 100,
   "A paper published ... in *Nature: Scientific Data (.htm
<https://www.nature.com/articles/s41597-022-01143-6>)* attempted to automatically re-execute 2335 R scripts posted as supporting materials for published papers. After cleaning the scripts (installing necessary packages and fixing paths to local files) only  44% of scripts run without generating errors. So, *most* scripts did not run."

Now the issue here is strikingly reminiscent of expand.grid.
In fact it's so reminiscent of expand.grid that I wonder if expand.grid could be used to solve whatever the *original* problem was.

paste2 <- function (x, y) as.vector(outer(x, y, paste(0)) states <- list(c("X"), c("A","B","C"), c("A","B","C"), c("A","B","C"),
c("Z"))
x <- states[[length(states)]]
for (i in (length(states)-1):1) x <- paste2(states[[i]], x) x

The output is
 [1] "XAAAZ" "XBAAZ" "XCAAZ" "XABAZ" "XBBAZ" "XCBAZ" "XACAZ" "XBCAZ"
"XCCAZ"}
[10] "XAABZ" "XBABZ" "XCABZ" "XABBZ" "XBBBZ" "XCBBZ" "XACBZ" "XBCBZ" "XCCBZ"
[19] "XAACZ" "XBACZ" "XCACZ" "XABCZ" "XBBCZ" "XCBCZ" "XACCZ" "XBCCZ" "XCCCZ"

How close this comes to what you want is for you to decide; what I've hoped to show is that core R has simple building blocks that you can use *simply* to do this kind of thing.

In fact we can do better by eliminating outer() and using rep() to reshape the state lists and a single invocation of paste0() to put them together.  But it's probably not worth while.




On Tue, 5 Sept 2023 at 23:55, Bert Gunter <bgunter.4567 at gmail.com> wrote:

> Oh I liked that.
>
> I was actually thinking about something similar, but couldn't figure
> it out.  The idiom you showed is very clever imo and taught me
> something about regexes that I never properly understood.
>
> Bert
>
> On Tue, Sep 5, 2023, 01:04 Eric Berger <ericjberger at gmail.com> wrote:
>
> > Hi Bert,
> > I really liked your solution.
> > In the spirit of code golf, I wondered if there is a shorter way to
> > do the regular expression test.
> > Kudos to my coding buddy GPT-4 for the following:
> >
> > You can replace your statement
> >
> > out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> >
> > by
> >
> > out[-grep("(.)\\1",out)]
> >
> > Best,
> > Eric
> >
> > On Tue, Sep 5, 2023 at 3:08?AM Bert Gunter <bgunter.4567 at gmail.com>
> wrote:
> > >
> > > ... and just for fun, here is a non-string version (more
> > > appropriate
> for
> > complex state labels??):
> > >
> > > gvec <- function(ntimes, states, init, final, repeats = TRUE)
> > >    ## ntimes: integer, number of unique times
> > >    ## states: vector of unique states
> > >    ## init: initial state
> > >    ## final: final state
> > > {
> > >    out <- cbind(init,
> > >             as.matrix(expand.grid(rep(list(states),ntimes -2 ))),final)
> > >    if(!repeats)
> > >      out[ apply(out,1,\(x)all(x[-1] != x[-ntimes])), ]
> > >    else out
> > > }
> > >
> > > yielding:
> > >
> > >
> > > > gvec(4, letters[1:5], "b", "e", repeats = TRUE)
> > >       init Var1 Var2 final
> > >  [1,] "b"  "a"  "a"  "e"
> > >  [2,] "b"  "b"  "a"  "e"
> > >  [3,] "b"  "c"  "a"  "e"
> > >  [4,] "b"  "d"  "a"  "e"
> > >  [5,] "b"  "e"  "a"  "e"
> > >  [6,] "b"  "a"  "b"  "e"
> > >  [7,] "b"  "b"  "b"  "e"
> > >  [8,] "b"  "c"  "b"  "e"
> > >  [9,] "b"  "d"  "b"  "e"
> > > [10,] "b"  "e"  "b"  "e"
> > > [11,] "b"  "a"  "c"  "e"
> > > [12,] "b"  "b"  "c"  "e"
> > > [13,] "b"  "c"  "c"  "e"
> > > [14,] "b"  "d"  "c"  "e"
> > > [15,] "b"  "e"  "c"  "e"
> > > [16,] "b"  "a"  "d"  "e"
> > > [17,] "b"  "b"  "d"  "e"
> > > [18,] "b"  "c"  "d"  "e"
> > > [19,] "b"  "d"  "d"  "e"
> > > [20,] "b"  "e"  "d"  "e"
> > > [21,] "b"  "a"  "e"  "e"
> > > [22,] "b"  "b"  "e"  "e"
> > > [23,] "b"  "c"  "e"  "e"
> > > [24,] "b"  "d"  "e"  "e"
> > > [25,] "b"  "e"  "e"  "e"
> > > >
> > > > gvec(4, letters[1:5], "b", "e", repeats = FALSE)
> > >       init Var1 Var2 final
> > >  [1,] "b"  "c"  "a"  "e"
> > >  [2,] "b"  "d"  "a"  "e"
> > >  [3,] "b"  "e"  "a"  "e"
> > >  [4,] "b"  "a"  "b"  "e"
> > >  [5,] "b"  "c"  "b"  "e"
> > >  [6,] "b"  "d"  "b"  "e"
> > >  [7,] "b"  "e"  "b"  "e"
> > >  [8,] "b"  "a"  "c"  "e"
> > >  [9,] "b"  "d"  "c"  "e"
> > > [10,] "b"  "e"  "c"  "e"
> > > [11,] "b"  "a"  "d"  "e"
> > > [12,] "b"  "c"  "d"  "e"
> > > [13,] "b"  "e"  "d"  "e"
> > >
> > > :-)
> > >
> > > -- Bert
> > >
> > > On Mon, Sep 4, 2023 at 2:04?PM Bert Gunter
> > > <bgunter.4567 at gmail.com>
> > wrote:
> > >>
> > >> Well, if strings with repeats (as you defined them) are to be
> excluded,
> > I think it's simple just to use regular expressions to remove them.
> > >>
> > >> e.g.
> > >> g <- function(ntimes, states, init, final, repeats = TRUE)
> > >>    ## ntimes: integer, number of unique times
> > >>    ## states: vector of unique states
> > >>    ## init: initial state
> > >>    ## final: final state
> > >> {
> > >> out <- do.call(paste0,c(init,expand.grid(rep(list(states),
> > >> ntimes-2)),
> > final))
> > >> if(!repeats)
> > >>    out[-grep(paste(paste0(states,states),  collapse = "|"),out)]
> > >> else out }
> > >> So:
> > >>
> > >> > g(4, LETTERS[1:5], "B", "E", repeats = FALSE)
> > >>  [1] "BCAE" "BDAE" "BEAE" "BABE" "BCBE" "BDBE" "BEBE" "BACE"
> > >>  [9] "BDCE" "BECE" "BADE" "BCDE" "BEDE"
> > >>
> > >> Perhaps not the most efficient way to do this, of course.
> > >>
> > >> Cheers,
> > >> Bert
> > >>
> > >>
> > >> On Mon, Sep 4, 2023 at 12:57?PM Eric Berger
> > >> <ericjberger at gmail.com>
> > wrote:
> > >>>
> > >>> My initial response was buggy and also used a deprecated function.
> > >>> Also, it seems possible that one may want to rule out any
> > >>> strings
> > where the same state appears consecutively.
> > >>> I say that such a string has a repeat.
> > >>>
> > >>> myExpand <- function(v, n) {
> > >>>   do.call(tidyr::expand_grid, replicate(n, v, simplify = FALSE))
> > >>> }
> > >>>
> > >>> no_repeat <- function(s) {
> > >>>   v <- unlist(strsplit(s, NULL))
> > >>>   sum(v[-1]==v[-length(v)]) == 0 }
> > >>>
> > >>> f <- function(states, nsteps, first, last, rm_repeat=TRUE) {
> > >>>   if (nsteps < 3) stop("nsteps must be at least 3")
> > >>>     out <- paste(first,
> > >>>           myExpand(states, nsteps-2) |>
> > >>>             apply(MAR=1, \(x) paste(x, collapse="")),
> > >>>           last, sep="")
> > >>>     if (rm_repeat) {
> > >>>       ok <- sapply(out, no_repeat)
> > >>>       out <- out[ok]
> > >>>     }
> > >>>     out
> > >>> }
> > >>>
> > >>> f(LETTERS[1:5],4,"B","E")
> > >>>
> > >>> #  [1] "BABE" "BACE" "BADE" "BCAE" "BCBE" "BCDE" "BDAE" "BDBE" "BDCE"
> > "BEAE" "BEBE" "BECE" "BEDE"
> > >>>
> > >>> On Mon, Sep 4, 2023 at 10:33?PM Bert Gunter
> > >>> <bgunter.4567 at gmail.com>
> > wrote:
> > >>>>
> > >>>> Sorry, my last line should have read:
> > >>>>
> > >>>> If neither this nor any of the other suggestions is what is
> > >>>> desired,
> > I think the OP will have to clarify his query.
> > >>>>
> > >>>> Bert
> > >>>>
> > >>>> On Mon, Sep 4, 2023 at 12:31?PM Bert Gunter
> > >>>> <bgunter.4567 at gmail.com
> >
> > wrote:
> > >>>>>
> > >>>>> I think there may be some uncertainty here about what the OP
> > requested. My interpretation is:
> > >>>>>
> > >>>>> n different times
> > >>>>> k different states
> > >>>>> Any state can appear at any time in the vector of times and
> > >>>>> can be
> > repeated
> > >>>>> Initial and final states are given
> > >>>>>
> > >>>>> So modifying Tim's expand.grid() solution a bit yields:
> > >>>>>
> > >>>>> g <- function(ntimes, states, init, final){
> > >>>>>    ## ntimes: integer, number of unique times
> > >>>>>    ## states: vector of unique states
> > >>>>>    ## init: initial state
> > >>>>>    ## final: final state
> > >>>>> do.call(paste0,c(init,expand.grid(rep(list(states),
> > >>>>> ntimes-2)),
> > final))
> > >>>>> }
> > >>>>>
> > >>>>> e.g.
> > >>>>>
> > >>>>> > g(4, LETTERS[1:5], "B", "D")
> > >>>>>  [1] "BAAD" "BBAD" "BCAD" "BDAD" "BEAD" "BABD" "BBBD" "BCBD"
> > >>>>>  [9] "BDBD" "BEBD" "BACD" "BBCD" "BCCD" "BDCD" "BECD" "BADD"
> > >>>>> [17] "BBDD" "BCDD" "BDDD" "BEDD" "BAED" "BBED" "BCED" "BDED"
> > >>>>> [25] "BEED"
> > >>>>>
> > >>>>> If neither this nor any of the other suggestions is not what
> > >>>>> is
> > desired, I think the OP will have to clarify his query.
> > >>>>>
> > >>>>> Cheers,
> > >>>>> Bert
> > >>>>>
> > >>>>> On Mon, Sep 4, 2023 at 9:25?AM Ebert,Timothy Aaron
> > >>>>> <tebert at ufl.edu
> >
> > wrote:
> > >>>>>>
> > >>>>>> Does this work for you?
> > >>>>>>
> > >>>>>> t0<-t1<-t2<-LETTERS[1:5]
> > >>>>>> al2<-expand.grid(t0, t1, t2)
> > >>>>>> al3<-paste(al2$Var1, al2$Var2, al2$Var3)
> > >>>>>> al4 <- gsub(" ", "", al3)
> > >>>>>> head(al3)
> > >>>>>>
> > >>>>>> Tim
> > >>>>>>
> > >>>>>> -----Original Message-----
> > >>>>>> From: R-help <r-help-bounces at r-project.org> On Behalf Of Eric
> > Berger
> > >>>>>> Sent: Monday, September 4, 2023 10:17 AM
> > >>>>>> To: Christofer Bogaso <bogaso.christofer at gmail.com>
> > >>>>>> Cc: r-help <r-help at r-project.org>
> > >>>>>> Subject: Re: [R] Finding combination of states
> > >>>>>>
> > >>>>>> [External Email]
> > >>>>>>
> > >>>>>> The function purrr::cross() can help you with this. For example:
> > >>>>>>
> > >>>>>> f <- function(states, nsteps, first, last) {
> > >>>>>>    paste(first,
> > >>>>>> unlist(lapply(purrr::cross(rep(list(v),nsteps-2)),
> > >>>>>> \(x) paste(unlist(x), collapse=""))), last, sep="") }
> > f(LETTERS[1:5], 3, "B", "E") [1] "BAE" "BBE" "BCE" "BDE" "BEE"
> > >>>>>>
> > >>>>>> HTH,
> > >>>>>> Eric
> > >>>>>>
> > >>>>>>
> > >>>>>> On Mon, Sep 4, 2023 at 3:42?PM Christofer Bogaso <
> > bogaso.christofer at gmail.com> wrote:
> > >>>>>> >
> > >>>>>> > Let say I have 3 time points.as T0, T1, and T2.(number of
> > >>>>>> > such
> > time
> > >>>>>> > points can be arbitrary) In each time point, an object can
> > >>>>>> > be
> any
> > of 5
> > >>>>>> > states, A, B, C, D, E (number of such states can be
> > >>>>>> > arbitrary)
> > >>>>>> >
> > >>>>>> > I need to find all possible ways, how that object starting
> > >>>>>> > with
> > state
> > >>>>>> > B (say) at time T0, can be on state E (example) in time T2
> > >>>>>> >
> > >>>>>> > For example one possibility is BAE etc.
> > >>>>>> >
> > >>>>>> > Is there any function available with R, that can give me a
> vector
> > of
> > >>>>>> > such possibilities for arbitrary number of states, time,
> > >>>>>> > and
> for a
> > >>>>>> > given initial and final (desired) states?
> > >>>>>> >
> > >>>>>> > ANy pointer will be very appreciated.
> > >>>>>> >
> > >>>>>> > Thanks for your time.
> > >>>>>> >
> > >>>>>> > ______________________________________________
> > >>>>>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> > >>>>>> > more,
> see
> > >>>>>> > https://stat/
> > >>>>>> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Cteber
> > >>>>>> > t%
> > 40ufl.edu
> > >>>>>> >
> > %7C25cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b
> > 84
> > >>>>>> >
> > %7C0%7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLj
> > Aw
> > >>>>>> >
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&s
> > da
> > >>>>>> > ta=TM4jGF39Gy3PH0T3nnQpT%2BLogkVxifv%2Fudv9hWPwbss%3D&reser
> > >>>>>> > ved=0 PLEASE do read the posting guide
> > >>>>>> > https://nam10.safelinks.protection.outlook.com/?url=http%3A
> > >>>>>> > %2F%2Fwww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7Cb525e189d1
> > >>>>>> > 8b4222c4bc08dbaf907920%7C0d4da0f84a314d76ace60a62331e1b84%7
> > >>>>>> > C0%7C0%7C638296807279447139%7CUnknown%7CTWFpbGZsb3d8eyJWIjo
> > >>>>>> > iMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D
> > >>>>>> > %7C3000%7C%7C%7C&sdata=kx35qboj5UcArmF70eHsapv4YR3oRLmDitHD
> > >>>>>> > wTz%2B%2BHk%3D&reserved=0
> > >>>>>> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%
> 40ufl.edu
> > %7C25
> > >>>>>> >
> > cee5ce26a8423daaa508dbad51c402%7C0d4da0f84a314d76ace60a62331e1b84%7C
> > 0%
> > >>>>>> >
> > 7C0%7C638294338934034595%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDA
> > iL
> > >>>>>> >
> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=
> > 5n
> > >>>>>> > PTLmsz0lOz47t41u578t9oI0i7BOgIX53yx8CesLs%3D&reserved=0
> > >>>>>> > and provide commented, minimal, self-contained,
> > >>>>>> > reproducible
> code.
> > >>>>>>
> > >>>>>> ______________________________________________
> > >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > >>>>>> see
> > >>>>>> https://nam10.safelinks.protection.outlook.com/?url=https%3A%25
> > >>>>>> 2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%
> > >>>>>> 7Ctebert%40ufl.edu%7Cb525e189d18b4222c4bc08dbaf907920%7C0d4da
> > >>>>>> 0f84a314d76ace60a62331e1b84%7C0%7C0%7C638296807279447139%7CUn
> > >>>>>> known%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBT
> > >>>>>> iI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=3Jy6G3fM1OHPk
> > >>>>>> cyRrM9%2FJD2%2B%2BME5hLRUpZbLcsfnrjo%3D&reserved=0
> > >>>>>> PLEASE do read the posting guide
> > http://www/
> > .r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > 7Cb525e189d18b4222c4bc08dbaf907920%7C0d4da0f84a314d76ace60a62331e1b8
> > 4%7C0%7C0%7C638296807279447139%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wL
> > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > C&sdata=Vv4SsrYNhL8YFuckZXfZK2gJMxm5PetrGInbS8Rgjzs%3D&reserved=0
> > >>>>>> and provide commented, minimal, self-contained, reproducible code.
> > >>>>>> ______________________________________________
> > >>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > >>>>>> see
> > >>>>>> https://nam10.safelinks.protection.outlook.com/?url=https%3A%25
> > >>>>>> 2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%
> > >>>>>> 7Ctebert%40ufl.edu%7Cb525e189d18b4222c4bc08dbaf907920%7C0d4da
> > >>>>>> 0f84a314d76ace60a62331e1b84%7C0%7C0%7C638296807279603404%7CUn
> > >>>>>> known%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBT
> > >>>>>> iI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=%2FvBLxyUW%2B
> > >>>>>> GctuPsHflb0TInwlEjWjO4cBNd8GVoHd%2FI%3D&reserved=0
> > >>>>>> PLEASE do read the posting guide
> > http://www/
> > .r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > 7Cb525e189d18b4222c4bc08dbaf907920%7C0d4da0f84a314d76ace60a62331e1b8
> > 4%7C0%7C0%7C638296807279603404%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wL
> > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > C&sdata=UuSPZwNpsFagKtq26LaNqt%2F6KWGuyeQ1TD%2FOI%2B%2BCZ7U%3D&reser
> > ved=0
> > >>>>>> and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7Cb525e189d18b4222c4bc08dbaf907920%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638296807279603404%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=%2FvBLxyUW%2BGctuPsHflb0TInwlEjWjO4cBNd8GVoHd%2FI%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7Cb5
> 25e189d18b4222c4bc08dbaf907920%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638296807279603404%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Uu
> SPZwNpsFagKtq26LaNqt%2F6KWGuyeQ1TD%2FOI%2B%2BCZ7U%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From tg@77m @end|ng |rom y@hoo@com  Thu Sep  7 15:23:32 2023
From: tg@77m @end|ng |rom y@hoo@com (Thomas Subia)
Date: Thu, 7 Sep 2023 13:23:32 +0000 (UTC)
Subject: [R] prop.trend.test
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
Message-ID: <1884818502.6266978.1694093012313@mail.yahoo.com>


Colleagues

?Consider
smokers? <- c( 83, 90, 129, 70 )
patients <- c( 86, 93, 136, 82 )

?prop.trend.test(smokers, patients)

?Output:

???? Chi-squared Test for Trend inProportions

?data:??smokers out of patients ,

using scores: 1 2 3 4

X-squared = 8.2249, df = 1, p-value = 0.004132

?# trend test for proportions indicates proportions aretrending.

?How does one identify the direction of trending?
?# prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
All the best,
Thomas Subia


	[[alternative HTML version deleted]]


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Thu Sep  7 17:51:50 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Thu, 7 Sep 2023 16:51:50 +0100
Subject: [R] prop.trend.test
In-Reply-To: <1884818502.6266978.1694093012313@mail.yahoo.com>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
Message-ID: <9e8ac04e-ea18-545d-9a44-734c9f195eb7@dewey.myzen.co.uk>

Dear Thomas

Are you looking for more than

smokers / patients

Michael

On 07/09/2023 14:23, Thomas Subia via R-help wrote:
> 
> Colleagues
> 
>  ?Consider
> smokers? <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
> 
>  ?prop.trend.test(smokers, patients)
> 
>  ?Output:
> 
>  ???? Chi-squared Test for Trend inProportions
> 
>  ?data:??smokers out of patients ,
> 
> using scores: 1 2 3 4
> 
> X-squared = 8.2249, df = 1, p-value = 0.004132
> 
>  ?# trend test for proportions indicates proportions aretrending.
> 
>  ?How does one identify the direction of trending?
>  ?# prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
> All the best,
> Thomas Subia
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael
http://www.dewey.myzen.co.uk/home.html


From tebert @end|ng |rom u||@edu  Thu Sep  7 18:03:12 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 7 Sep 2023 16:03:12 +0000
Subject: [R] prop.trend.test
In-Reply-To: <9e8ac04e-ea18-545d-9a44-734c9f195eb7@dewey.myzen.co.uk>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <9e8ac04e-ea18-545d-9a44-734c9f195eb7@dewey.myzen.co.uk>
Message-ID: <CH3PR22MB45149D638F745C7F6CC2505FCFEEA@CH3PR22MB4514.namprd22.prod.outlook.com>

The example is the example in the documentation for the method. There were no details. https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/prop.trend.test
More documentation would be useful. Answering questions like what are these numbers?

As shown, I see a cluster of three values in the 70-90 and an outlier at 129. The pattern repeats for patients, with very slightly different numbers. Is the outlier real or a data error? Are these values real or just some values stuffed into an example to show that I can get numbers back out?


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Michael Dewey
Sent: Thursday, September 7, 2023 11:52 AM
To: Thomas Subia <tgs77m at yahoo.com>; R. Mailing List <r-help at r-project.org>
Subject: Re: [R] prop.trend.test

[External Email]

Dear Thomas

Are you looking for more than

smokers / patients

Michael

On 07/09/2023 14:23, Thomas Subia via R-help wrote:
>
> Colleagues
>
>   Consider
> smokers  <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
>
>   prop.trend.test(smokers, patients)
>
>   Output:
>
>       Chi-squared Test for Trend inProportions
>
>   data:  smokers out of patients ,
>
> using scores: 1 2 3 4
>
> X-squared = 8.2249, df = 1, p-value = 0.004132
>
>   # trend test for proportions indicates proportions aretrending.
>
>   How does one identify the direction of trending?
>   # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
> All the best,
> Thomas Subia
>
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

--
Michael
http://www.dewey.myzen.co.uk/home.html

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Sep  7 19:31:19 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 7 Sep 2023 18:31:19 +0100
Subject: [R] prop.trend.test
In-Reply-To: <1884818502.6266978.1694093012313@mail.yahoo.com>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
Message-ID: <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>

?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
> 
> Colleagues
> 
>  ?Consider
> smokers? <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
> 
>  ?prop.trend.test(smokers, patients)
> 
>  ?Output:
> 
>  ???? Chi-squared Test for Trend inProportions
> 
>  ?data:??smokers out of patients ,
> 
> using scores: 1 2 3 4
> 
> X-squared = 8.2249, df = 1, p-value = 0.004132
> 
>  ?# trend test for proportions indicates proportions aretrending.
> 
>  ?How does one identify the direction of trending?
>  ?# prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
> All the best,
> Thomas Subia
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

By visual inspection it seems that there is a decreasing trend.
Note that the sample estimates of prop.test and smokers/patients are equal.


smokers  <- c( 83, 90, 129, 70 )
patients <- c( 86, 93, 136, 82 )

prop.test(smokers, patients)$estimate
#>    prop 1    prop 2    prop 3    prop 4
#> 0.9651163 0.9677419 0.9485294 0.8536585
smokers/patients
#> [1] 0.9651163 0.9677419 0.9485294 0.8536585

plot(smokers/patients, type = "b")



Hope this helps,

Rui Barradas


From tg@77m @end|ng |rom y@hoo@com  Fri Sep  8 07:22:38 2023
From: tg@77m @end|ng |rom y@hoo@com (Thomas Subia)
Date: Fri, 8 Sep 2023 05:22:38 +0000 (UTC)
Subject: [R] prop.trend.test
In-Reply-To: <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
Message-ID: <1389791463.6717152.1694150558314@mail.yahoo.com>

Colleagues,

Thanks all for the responses. 

I am monitoring the daily total number of defects per sample unit. 
I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).

My first thought was to use either a u or a u' control chart for this.
As far as I know, u or u' charts are poor to detect drifts. 

This is why I chose to use prop.trend.test to detect trends in proportions.

While prop.trend.test can confirm the existence of a trend, as far as I know, it is left to the user
to determine what direction that trend is. 

One way to illustrate trending is of course to plot the data and use geom_smooth and method lm
For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.

If there are any other ways to do this, please let me know.

Thomas Subia












On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote: 





?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
> 
> Colleagues
> 
>? ?Consider
> smokers? <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
> 
>? ?prop.trend.test(smokers, patients)
> 
>? ?Output:
> 
>? ???? Chi-squared Test for Trend inProportions
> 
>? ?data:??smokers out of patients ,
> 
> using scores: 1 2 3 4
> 
> X-squared = 8.2249, df = 1, p-value = 0.004132
> 
>? ?# trend test for proportions indicates proportions aretrending.
> 
>? ?How does one identify the direction of trending?
>? ?# prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
> All the best,
> Thomas Subia
> 
> 
> ??? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

By visual inspection it seems that there is a decreasing trend.
Note that the sample estimates of prop.test and smokers/patients are equal.


smokers? <- c( 83, 90, 129, 70 )
patients <- c( 86, 93, 136, 82 )

prop.test(smokers, patients)$estimate
#>? ? prop 1? ? prop 2? ? prop 3? ? prop 4
#> 0.9651163 0.9677419 0.9485294 0.8536585

smokers/patients

#> [1] 0.9651163 0.9677419 0.9485294 0.8536585

plot(smokers/patients, type = "b")



Hope this helps,

Rui Barradas


From er|cjberger @end|ng |rom gm@||@com  Fri Sep  8 07:40:47 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Fri, 8 Sep 2023 08:40:47 +0300
Subject: [R] prop.trend.test
In-Reply-To: <1389791463.6717152.1694150558314@mail.yahoo.com>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
 <1389791463.6717152.1694150558314@mail.yahoo.com>
Message-ID: <CAGgJW776wxffhyRhWYQXsYLfDtcjGH7p8Hfvoibr8LUu6V+OkQ@mail.gmail.com>

You might want to consider exponential smoothing models such as Holt's
(Double Exponential Smoothing).
This method continually updates the trend parameter, and you can
monitor the most recent value (for sign, or magnitude, or both).

In R, some choices to fit the Holt model:

1. stats::HoltWinters() and set the gamma argument to FALSE for a
non-seasonal model
2. forecast::holt()

HTH,
Eric


On Fri, Sep 8, 2023 at 8:23?AM Thomas Subia via R-help
<r-help at r-project.org> wrote:
>
> Colleagues,
>
> Thanks all for the responses.
>
> I am monitoring the daily total number of defects per sample unit.
> I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).
>
> My first thought was to use either a u or a u' control chart for this.
> As far as I know, u or u' charts are poor to detect drifts.
>
> This is why I chose to use prop.trend.test to detect trends in proportions.
>
> While prop.trend.test can confirm the existence of a trend, as far as I know, it is left to the user
> to determine what direction that trend is.
>
> One way to illustrate trending is of course to plot the data and use geom_smooth and method lm
> For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.
>
> If there are any other ways to do this, please let me know.
>
> Thomas Subia
>
>
>
>
>
>
>
>
>
>
>
>
> On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
>
>
>
>
> ?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
> >
> > Colleagues
> >
> >   Consider
> > smokers  <- c( 83, 90, 129, 70 )
> > patients <- c( 86, 93, 136, 82 )
> >
> >   prop.trend.test(smokers, patients)
> >
> >   Output:
> >
> >       Chi-squared Test for Trend inProportions
> >
> >   data:  smokers out of patients ,
> >
> > using scores: 1 2 3 4
> >
> > X-squared = 8.2249, df = 1, p-value = 0.004132
> >
> >   # trend test for proportions indicates proportions aretrending.
> >
> >   How does one identify the direction of trending?
> >   # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
> > All the best,
> > Thomas Subia
> >
> >
> >     [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> By visual inspection it seems that there is a decreasing trend.
> Note that the sample estimates of prop.test and smokers/patients are equal.
>
>
> smokers  <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
>
> prop.test(smokers, patients)$estimate
> #>    prop 1    prop 2    prop 3    prop 4
> #> 0.9651163 0.9677419 0.9485294 0.8536585
>
> smokers/patients
>
> #> [1] 0.9651163 0.9677419 0.9485294 0.8536585
>
> plot(smokers/patients, type = "b")
>
>
>
> Hope this helps,
>
> Rui Barradas
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From pd@|gd @end|ng |rom gm@||@com  Fri Sep  8 11:06:32 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Fri, 8 Sep 2023 11:06:32 +0200
Subject: [R] prop.trend.test
In-Reply-To: <1389791463.6717152.1694150558314@mail.yahoo.com>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
 <1389791463.6717152.1694150558314@mail.yahoo.com>
Message-ID: <EFFC6A67-67BD-4730-B954-86684765C19D@gmail.com>

Yes, this was written a bit bone-headed (as I am allowed to say...)

If you look at the code, you will see inside:

    a <- anova(lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)), 
        weights = w))

and the lm() inside should give you the direction via the sign of the regression coefficient on "score".
 
So, at least for now, you could just doctor a copy of the code for your own purposes, as in

 fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)), 
        weights = w)
 a <- anova(fit)
 
and arrange to return coef(fit)["score"] at the end. Something like structure(... estimate=c(lpm.slope=coef(fit)["score"]) ....)

(I expect that you might also extract the t-statistic from coef(summary(fit)) and find that it is the signed square root of the Chi-square, but I won't have time to test that just now.)

-pd

> On 8 Sep 2023, at 07:22 , Thomas Subia via R-help <r-help at r-project.org> wrote:
> 
> Colleagues,
> 
> Thanks all for the responses. 
> 
> I am monitoring the daily total number of defects per sample unit. 
> I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).
> 
> My first thought was to use either a u or a u' control chart for this.
> As far as I know, u or u' charts are poor to detect drifts. 
> 
> This is why I chose to use prop.trend.test to detect trends in proportions.
> 
> While prop.trend.test can confirm the existence of a trend, as far as I know, it is left to the user
> to determine what direction that trend is. 
> 
> One way to illustrate trending is of course to plot the data and use geom_smooth and method lm
> For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.
> 
> If there are any other ways to do this, please let me know.
> 
> Thomas Subia
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote: 
> 
> 
> 
> 
> 
> ?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
>> 
>> Colleagues
>> 
>>    Consider
>> smokers  <- c( 83, 90, 129, 70 )
>> patients <- c( 86, 93, 136, 82 )
>> 
>>    prop.trend.test(smokers, patients)
>> 
>>    Output:
>> 
>>        Chi-squared Test for Trend inProportions
>> 
>>    data:  smokers out of patients ,
>> 
>> using scores: 1 2 3 4
>> 
>> X-squared = 8.2249, df = 1, p-value = 0.004132
>> 
>>    # trend test for proportions indicates proportions aretrending.
>> 
>>    How does one identify the direction of trending?
>>    # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
>> All the best,
>> Thomas Subia
>> 
>> 
>>     [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> By visual inspection it seems that there is a decreasing trend.
> Note that the sample estimates of prop.test and smokers/patients are equal.
> 
> 
> smokers  <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
> 
> prop.test(smokers, patients)$estimate
> #>    prop 1    prop 2    prop 3    prop 4
> #> 0.9651163 0.9677419 0.9485294 0.8536585
> 
> smokers/patients
> 
> #> [1] 0.9651163 0.9677419 0.9485294 0.8536585
> 
> plot(smokers/patients, type = "b")
> 
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Fri Sep  8 12:53:28 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Fri, 8 Sep 2023 11:53:28 +0100
Subject: [R] prop.trend.test
In-Reply-To: <EFFC6A67-67BD-4730-B954-86684765C19D@gmail.com>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
 <1389791463.6717152.1694150558314@mail.yahoo.com>
 <EFFC6A67-67BD-4730-B954-86684765C19D@gmail.com>
Message-ID: <102fa2f9-7f44-f8cd-fb4b-4740313c32b6@sapo.pt>

?s 10:06 de 08/09/2023, peter dalgaard escreveu:
> Yes, this was written a bit bone-headed (as I am allowed to say...)
> 
> If you look at the code, you will see inside:
> 
>      a <- anova(lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>          weights = w))
> 
> and the lm() inside should give you the direction via the sign of the regression coefficient on "score".
>   
> So, at least for now, you could just doctor a copy of the code for your own purposes, as in
> 
>   fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>          weights = w)
>   a <- anova(fit)
>   
> and arrange to return coef(fit)["score"] at the end. Something like structure(... estimate=c(lpm.slope=coef(fit)["score"]) ....)
> 
> (I expect that you might also extract the t-statistic from coef(summary(fit)) and find that it is the signed square root of the Chi-square, but I won't have time to test that just now.)
> 
> -pd
> 
>> On 8 Sep 2023, at 07:22 , Thomas Subia via R-help <r-help at r-project.org> wrote:
>>
>> Colleagues,
>>
>> Thanks all for the responses.
>>
>> I am monitoring the daily total number of defects per sample unit.
>> I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).
>>
>> My first thought was to use either a u or a u' control chart for this.
>> As far as I know, u or u' charts are poor to detect drifts.
>>
>> This is why I chose to use prop.trend.test to detect trends in proportions.
>>
>> While prop.trend.test can confirm the existence of a trend, as far as I know, it is left to the user
>> to determine what direction that trend is.
>>
>> One way to illustrate trending is of course to plot the data and use geom_smooth and method lm
>> For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.
>>
>> If there are any other ways to do this, please let me know.
>>
>> Thomas Subia
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>
>>
>>
>>
>>
>> ?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
>>>
>>> Colleagues
>>>
>>>     Consider
>>> smokers  <- c( 83, 90, 129, 70 )
>>> patients <- c( 86, 93, 136, 82 )
>>>
>>>     prop.trend.test(smokers, patients)
>>>
>>>     Output:
>>>
>>>         Chi-squared Test for Trend inProportions
>>>
>>>     data:  smokers out of patients ,
>>>
>>> using scores: 1 2 3 4
>>>
>>> X-squared = 8.2249, df = 1, p-value = 0.004132
>>>
>>>     # trend test for proportions indicates proportions aretrending.
>>>
>>>     How does one identify the direction of trending?
>>>     # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
>>> All the best,
>>> Thomas Subia
>>>
>>>
>>>      [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> By visual inspection it seems that there is a decreasing trend.
>> Note that the sample estimates of prop.test and smokers/patients are equal.
>>
>>
>> smokers  <- c( 83, 90, 129, 70 )
>> patients <- c( 86, 93, 136, 82 )
>>
>> prop.test(smokers, patients)$estimate
>> #>    prop 1    prop 2    prop 3    prop 4
>> #> 0.9651163 0.9677419 0.9485294 0.8536585
>>
>> smokers/patients
>>
>> #> [1] 0.9651163 0.9677419 0.9485294 0.8536585
>>
>> plot(smokers/patients, type = "b")
>>
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
Hello,

Actually, the t-statistic is not the signed square root of the X-squared 
test statistic. I have edited the function, assigned the lm fit and 
returned it as is. (print.htest won't print this new list member so the 
output is not cluttered with irrelevant noise.)


smokers  <- c( 83, 90, 129, 70 )
patients <- c( 86, 93, 136, 82 )

edit(prop.trend.test, file = "ptt.R")
source("ptt.R")

# stats::prop.trend.test edited to include the results
# of the lm fit and saved under a new name
ptt <- function (x, n, score = seq_along(x))
{
   method <- "Chi-squared Test for Trend in Proportions"
   dname <- paste(deparse1(substitute(x)), "out of", 
deparse1(substitute(n)),
                  ",\n using scores:", paste(score, collapse = " "))
   x <- as.vector(x)
   n <- as.vector(n)
   p <- sum(x)/sum(n)
   w <- n/p/(1 - p)
   a <- anova(fit <- lm(freq ~ score, data = list(freq = x/n, score = 
as.vector(score)),
                        weights = w))
   chisq <- c(`X-squared` = a["score", "Sum Sq"])
   structure(list(statistic = chisq, parameter = c(df = 1),
                  p.value = pchisq(as.numeric(chisq), 1, lower.tail = 
FALSE),
                  method = method, data.name = dname
                  , lmfit = fit
                  ), class = "htest")
}


ht <- ptt(smokers, patients)
ht$statistic |> sqrt()
#> X-squared
#>  2.867913
ht$lmfit |> summary() |> coef()
#>                Estimate Std. Error   t value   Pr(>|t|)
#> (Intercept)  1.02187141 0.04732740 21.591539 0.00213815
#> score       -0.03341563 0.01723384 -1.938954 0.19207036


Hope this helps,

Rui Barradas


From tebert @end|ng |rom u||@edu  Fri Sep  8 14:47:43 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Fri, 8 Sep 2023 12:47:43 +0000
Subject: [R] prop.trend.test
In-Reply-To: <102fa2f9-7f44-f8cd-fb4b-4740313c32b6@sapo.pt>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
 <1389791463.6717152.1694150558314@mail.yahoo.com>
 <EFFC6A67-67BD-4730-B954-86684765C19D@gmail.com>
 <102fa2f9-7f44-f8cd-fb4b-4740313c32b6@sapo.pt>
Message-ID: <CH3PR22MB4514F2A9583397E1D29BA1ABCFEDA@CH3PR22MB4514.namprd22.prod.outlook.com>

Say I have one machine that produces 15 million widgets per day. Every day a few widgets are defective. Is the proportion increasing?
The data analyst needs to know what time span is of interest. I assume that there is some day-to-day variability. Is today's defect rate greater or less than yesterday's rate is not a trend. However, there might also be other trends. 4th shift might have a higher rate than 2nd shift, or within a shift the rate may change as workers tire or get breaks.

I might try the PooledInfRate package. It calculates a proportion defective and a 95% confidence interval. Do the intervals overlap?
I might  try being selective. If the rate changes over the week, then the weekly cycle may obscure an underlying trend. For the last year, has the rate increased using only data from Monday?
The question gets more complicated if there are multiple production lines and locations. High worker turnover may also be an issue.


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Rui Barradas
Sent: Friday, September 8, 2023 6:53 AM
To: peter dalgaard <pdalgd at gmail.com>; Thomas Subia <tgs77m at yahoo.com>
Cc: R. Mailing List <r-help at r-project.org>
Subject: Re: [R] prop.trend.test

[External Email]

?s 10:06 de 08/09/2023, peter dalgaard escreveu:
> Yes, this was written a bit bone-headed (as I am allowed to say...)
>
> If you look at the code, you will see inside:
>
>      a <- anova(lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>          weights = w))
>
> and the lm() inside should give you the direction via the sign of the regression coefficient on "score".
>
> So, at least for now, you could just doctor a copy of the code for
> your own purposes, as in
>
>   fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>          weights = w)
>   a <- anova(fit)
>
> and arrange to return coef(fit)["score"] at the end. Something like
> structure(... estimate=c(lpm.slope=coef(fit)["score"]) ....)
>
> (I expect that you might also extract the t-statistic from
> coef(summary(fit)) and find that it is the signed square root of the
> Chi-square, but I won't have time to test that just now.)
>
> -pd
>
>> On 8 Sep 2023, at 07:22 , Thomas Subia via R-help <r-help at r-project.org> wrote:
>>
>> Colleagues,
>>
>> Thanks all for the responses.
>>
>> I am monitoring the daily total number of defects per sample unit.
>> I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).
>>
>> My first thought was to use either a u or a u' control chart for this.
>> As far as I know, u or u' charts are poor to detect drifts.
>>
>> This is why I chose to use prop.trend.test to detect trends in proportions.
>>
>> While prop.trend.test can confirm the existence of a trend, as far as
>> I know, it is left to the user to determine what direction that trend is.
>>
>> One way to illustrate trending is of course to plot the data and use
>> geom_smooth and method lm For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.
>>
>> If there are any other ways to do this, please let me know.
>>
>> Thomas Subia
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>
>>
>>
>>
>>
>> ?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
>>>
>>> Colleagues
>>>
>>>     Consider
>>> smokers  <- c( 83, 90, 129, 70 )
>>> patients <- c( 86, 93, 136, 82 )
>>>
>>>     prop.trend.test(smokers, patients)
>>>
>>>     Output:
>>>
>>>         Chi-squared Test for Trend inProportions
>>>
>>>     data:  smokers out of patients ,
>>>
>>> using scores: 1 2 3 4
>>>
>>> X-squared = 8.2249, df = 1, p-value = 0.004132
>>>
>>>     # trend test for proportions indicates proportions aretrending.
>>>
>>>     How does one identify the direction of trending?
>>>     # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
>>> All the best,
>>> Thomas Subia
>>>
>>>
>>>      [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://st/
>>> at.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl
>>> .edu%7Cc652dfff973549a790db08dbb059e5da%7C0d4da0f84a314d76ace60a6233
>>> 1e1b84%7C0%7C0%7C638297672399811965%7CUnknown%7CTWFpbGZsb3d8eyJWIjoi
>>> MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
>>> %7C%7C&sdata=RLmEonNbUSLwfvHjWylq75aNjrfQ5nNlRocDb98HQa4%3D&reserved
>>> =0 PLEASE do read the posting guide
>>> http://www/
>>> .r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%
>>> 7Cc652dfff973549a790db08dbb059e5da%7C0d4da0f84a314d76ace60a62331e1b8
>>> 4%7C0%7C0%7C638297672399811965%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wL
>>> jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
>>> C&sdata=9jMsAjDR2Zusf2Fp0idn9baEaa6euE7Hw6xngd21BPU%3D&reserved=0
>>> and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> By visual inspection it seems that there is a decreasing trend.
>> Note that the sample estimates of prop.test and smokers/patients are equal.
>>
>>
>> smokers  <- c( 83, 90, 129, 70 )
>> patients <- c( 86, 93, 136, 82 )
>>
>> prop.test(smokers, patients)$estimate
>> #>    prop 1    prop 2    prop 3    prop 4
>> #> 0.9651163 0.9677419 0.9485294 0.8536585
>>
>> smokers/patients
>>
>> #> [1] 0.9651163 0.9677419 0.9485294 0.8536585
>>
>> plot(smokers/patients, type = "b")
>>
>>
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://sta/
>> t.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.e
>> du%7Cc652dfff973549a790db08dbb059e5da%7C0d4da0f84a314d76ace60a62331e1
>> b84%7C0%7C0%7C638297672399811965%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4w
>> LjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
>> C&sdata=RLmEonNbUSLwfvHjWylq75aNjrfQ5nNlRocDb98HQa4%3D&reserved=0
>> PLEASE do read the posting guide
>> http://www/.
>> r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C
>> c652dfff973549a790db08dbb059e5da%7C0d4da0f84a314d76ace60a62331e1b84%7
>> C0%7C0%7C638297672399811965%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwM
>> DAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>> ta=9jMsAjDR2Zusf2Fp0idn9baEaa6euE7Hw6xngd21BPU%3D&reserved=0
>> and provide commented, minimal, self-contained, reproducible code.
>
Hello,

Actually, the t-statistic is not the signed square root of the X-squared test statistic. I have edited the function, assigned the lm fit and returned it as is. (print.htest won't print this new list member so the output is not cluttered with irrelevant noise.)


smokers  <- c( 83, 90, 129, 70 )
patients <- c( 86, 93, 136, 82 )

edit(prop.trend.test, file = "ptt.R")
source("ptt.R")

# stats::prop.trend.test edited to include the results # of the lm fit and saved under a new name ptt <- function (x, n, score = seq_along(x)) {
   method <- "Chi-squared Test for Trend in Proportions"
   dname <- paste(deparse1(substitute(x)), "out of", deparse1(substitute(n)),
                  ",\n using scores:", paste(score, collapse = " "))
   x <- as.vector(x)
   n <- as.vector(n)
   p <- sum(x)/sum(n)
   w <- n/p/(1 - p)
   a <- anova(fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
                        weights = w))
   chisq <- c(`X-squared` = a["score", "Sum Sq"])
   structure(list(statistic = chisq, parameter = c(df = 1),
                  p.value = pchisq(as.numeric(chisq), 1, lower.tail = FALSE),
                  method = method, data.name = dname
                  , lmfit = fit
                  ), class = "htest")
}


ht <- ptt(smokers, patients)
ht$statistic |> sqrt()
#> X-squared
#>  2.867913
ht$lmfit |> summary() |> coef()
#>                Estimate Std. Error   t value   Pr(>|t|)
#> (Intercept)  1.02187141 0.04732740 21.591539 0.00213815
#> score       -0.03341563 0.01723384 -1.938954 0.19207036


Hope this helps,

Rui Barradas

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From cry@n @end|ng |rom b|ngh@mton@edu  Fri Sep  8 16:23:08 2023
From: cry@n @end|ng |rom b|ngh@mton@edu (Christopher Ryan)
Date: Fri, 8 Sep 2023 10:23:08 -0400
Subject: [R] how to get paste() to output \% so LaTeX will interpret it as a
 percent sign rather than a comment symbol
Message-ID: <CAM+rpYnF_66Cs9t5AKRJ-6DzTY8BsM3ytVuAsJrzfLJm6UFsWQ@mail.gmail.com>

I'm using a .Rnw --> Sweave --> pdflatex workflow on Windows 10, with emacs
26.3 and ESS (not sure which version.)

I have this code:

n.tests.7 <- 3 ## for example
trailing.7.pos.percent <- 12  ## for example
trailing.7.message <-
    ifelse( n.tests.7 > 0,
            paste("In the past seven days,", n.tests.7, "test results have
been reported, of which", trailing.7.pos.percent, "\\% were positive"),
            paste("No test results have been reported from these labs in
the past seven days.") )

Desired outcome in the resulting .tex file is "In the past seven days, 3
test results have been reported, of which 12\% were positive."

But I get "In the past seven days, 3 test results have been reported, of
which 12\\% were positive." Which, when compiled in pdflatex,
unsurprisingly cuts off the sentence at 12

Replacing, in the .Rnw code, the \\% with \% , yields an R error message:

Error: '\%' is an unrecognized escape in character string starting ""\%"

Grateful for any help.

--Chris Ryan

	[[alternative HTML version deleted]]


From norh@603 @end|ng |rom u|tm@edu@my  Fri Sep  8 04:22:35 2023
From: norh@603 @end|ng |rom u|tm@edu@my (PROFESOR MADYA DR NORHAYATI BAHARUN)
Date: Fri, 8 Sep 2023 10:22:35 +0800
Subject: [R] R coding errors
Message-ID: <CAMh1Zu6aY7fHKdUr-geGj_JkVeSynnfpYG+=qjuhObAMaEgSHw@mail.gmail.com>

Hi Sir,

Could you please help me on the following errors:

STEPS TO MIX IRT_RMT APPROACH IN R

?#1- Load required libraries
library(eRm)
library(ltm)
library(mirt)
library(psych)

HT <- read.csv("C:/Users/User/Dropbox/Analysis R_2023/HT2.csv")
str(HT)

?#2- Load or create your data matrix
response_columns <- HT[, 1:ncol(HT)]
response_matrix <- as.matrix(response_columns)

?#3- Fit IRT model
irt_model <- gpcm(response_matrix)
irt_model
summary(irt_model)

?#4- Fit Rasch model
rasch_model <- PCM(response_matrix)
rasch_model
summary(rasch_model)

?#5- Compare item parameter estimates between IRT and Rasch models
irt_item_parameters <- coef(irt_model)
rasch_item_parameters <- coef(rasch_model)

#6- Compare person ability estimates between IRT and Rasch models
#TRY1
irt_person_abilities <- fscores(irt_model)                    ###ERROR###
#TRY2
#a(IRT)- Fit your GPCM model using ltm
irt_model <- gpcm(data = HT, constraint = "1PL")

#a(IRT)- Calculate factor scores (IRT person abilities)
irt_person_abilities <- factor.scores(irt_model)             ###ERROR###
irt_person_abilities_dim1 <- factor.scores(gpcm_model, f = 1)

#TRY3
# Fit your GPCM model using mirt
irt_model <- mirt(data = HT, model = "gpcm", itemtype = "graded")
 ###ERROR###

# Calculate factor scores for dimension 1 (adjust the dimension as needed)
irt_person_abilities_dim1 <- fscores(gpcm_model, method = "EAP", dims = 1)


?#b(RMT)
rasch_person_abilities <- person.parameter(rasch_model)$theta


#7- Perform model comparison using fit statistics (e.g., AIC, BIC)
irt_aic <- AIC(irt_model)
rasch_aic <- AIC(rasch_model)

irt_bic <- BIC(irt_model)
rasch_bic <- BIC(rasch_model)

#8- Print or visualize the results for comparison
print("Item Parameter Estimates:")
print(irt_item_parameters)
print(rasch_item_parameters)

print("Person Ability Estimates:")
print(irt_person_abilities)                                  ###ERROR###
print(rasch_person_abilities)

print("Model Fit Statistics:")
print(paste("IRT AIC:", irt_aic))
print(paste("Rasch AIC:", rasch_aic))

print(paste("IRT BIC:", irt_bic))
print(paste("Rasch BIC:", rasch_bic))

Hope to get your response.

Many thanks.

Regards,

Norhayati

-- 




*PENAFIAN: *E-mel ini dan apa-apa fail yang dihantar
bersama-samanya 
("Mesej") adalah dihasratkan hanya untuk kegunaan
penerima yang dinyatakan 
di atas dan mungkin mengandungi maklumat yang tidak
umum, bermilik, 
istimewa, sulit dan dikecualikan dari penzahiran di bawah
undang-undang 
yang terpakai termasuklah Akta Rahsia Rasmi 1972. *BACA SELANJUTNYA...* 
<https://mail.uitm.edu.my/index.php?option=com_content&view=article&id=83>*DISCLAIMER 
:** This e-mail and any files transmitted with it
("Message") is intended 
only for the use of the recipient(s) named
above and may contain 
information that is non-public,? proprietary,?
privileged,? confidential? 
and?
exempt? from? disclosure under applicable law including the
Official 
Secrets Act 1972. **READ MORE...* 
<https://mail.uitm.edu.my/index.php?option=com_content&view=article&id=83>

	[[alternative HTML version deleted]]


From h@w|ckh@m @end|ng |rom gm@||@com  Fri Sep  8 18:03:03 2023
From: h@w|ckh@m @end|ng |rom gm@||@com (Hadley Wickham)
Date: Fri, 8 Sep 2023 09:03:03 -0700
Subject: [R] 
 how to get paste() to output \% so LaTeX will interpret it as a
 percent sign rather than a comment symbol
In-Reply-To: <CAM+rpYnF_66Cs9t5AKRJ-6DzTY8BsM3ytVuAsJrzfLJm6UFsWQ@mail.gmail.com>
References: <CAM+rpYnF_66Cs9t5AKRJ-6DzTY8BsM3ytVuAsJrzfLJm6UFsWQ@mail.gmail.com>
Message-ID: <CABdHhvHH_JTPSFVo5F91HYrJ66EfjHszK56_KWeng+Ac8D=2sg@mail.gmail.com>

You're getting confused between the contents of the string and the
printed representation of the string. There's a little bit about this
in R4DS: https://r4ds.hadley.nz/strings#escapes

(or in brief, do writeLines(trailing.7.message))

Hadley

On Fri, Sep 8, 2023 at 7:23?AM Christopher Ryan via R-help
<r-help at r-project.org> wrote:
>
> I'm using a .Rnw --> Sweave --> pdflatex workflow on Windows 10, with emacs
> 26.3 and ESS (not sure which version.)
>
> I have this code:
>
> n.tests.7 <- 3 ## for example
> trailing.7.pos.percent <- 12  ## for example
> trailing.7.message <-
>     ifelse( n.tests.7 > 0,
>             paste("In the past seven days,", n.tests.7, "test results have
> been reported, of which", trailing.7.pos.percent, "\\% were positive"),
>             paste("No test results have been reported from these labs in
> the past seven days.") )
>
> Desired outcome in the resulting .tex file is "In the past seven days, 3
> test results have been reported, of which 12\% were positive."
>
> But I get "In the past seven days, 3 test results have been reported, of
> which 12\\% were positive." Which, when compiled in pdflatex,
> unsurprisingly cuts off the sentence at 12
>
> Replacing, in the .Rnw code, the \\% with \% , yields an R error message:
>
> Error: '\%' is an unrecognized escape in character string starting ""\%"
>
> Grateful for any help.
>
> --Chris Ryan
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
http://hadley.nz


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sat Sep  9 00:25:10 2023
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Fri, 8 Sep 2023 22:25:10 +0000
Subject: [R] unable to load latticeExtra in AWS R
In-Reply-To: <BY3PR09MB8260B623E78B5FFB64FBF4D1BFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
References: <BY3PR09MB8260F8031C6795AE812D6A1CBFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
 <BY3PR09MB8260B623E78B5FFB64FBF4D1BFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
Message-ID: <IA1P223MB0499E5E6D915A09C20EC29A6FAEDA@IA1P223MB0499.NAMP223.PROD.OUTLOOK.COM>

In my AWS Sagemaker account latticeExtra does not load.  It has worked in the past.

How can this problem be fixed?

Thanks,
Naresh

Sent from my iPhone

Begin forwarded message:

Lattice package is preinstalled.  I installed latticeExtra.
> .libPaths()
 [1] "/home/ec2-user/SageMaker/R-library"
 [2] "/home/ec2-user/anaconda3/envs/R/lib/R/library"
> find.package("lattice")
 [1] "/home/ec2-user/anaconda3/envs/R/lib/R/library/lattice"
> find.package("latticeExtra")
 [1] "/home/ec2-user/SageMaker/R-library/latticeExtra"
> library(latticeExtra)
 Error: package or namespace load failed for ?latticeExtra? in dyn.load(file, DLLpath = DLLpath, ...):
  unable to load shared object '/home/ec2-user/SageMaker/R-library/jpeg/libs/jpeg.so':
   libjpeg.so.8: cannot open shared object file: No such file or directory
 > find.package("jpeg")
 [1] "/home/ec2-user/SageMaker/R-library/jpeg"
 > dir("/home/ec2-user/SageMaker/R-library/jpeg/libs/jpeg.so")
 character(0)
 > file.exists("/home/ec2-user/SageMaker/R-library/jpeg/libs/jpeg.so")
 [1] TRUE
!> sessionInfo()
 R version 4.2.3 (2023-03-15)
 Platform: x86_64-conda-linux-gnu (64-bit)
 Running under: Amazon Linux 2

 Matrix products: default
 BLAS/LAPACK: /home/ec2-user/anaconda3/envs/R/lib/libopenblasp-r0.3.23.so

 locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
 [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

 attached base packages:
 [1] stats     graphics  grDevices utils     datasets  methods   base

 other attached packages:
 [1] lattice_0.21-8

 loaded via a namespace (and not attached):
 [1] compiler_4.2.3     tools_4.2.3        RColorBrewer_1.1-3 grid_4.2.3
 [5] png_0.1-8

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Sep  9 00:34:29 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 08 Sep 2023 22:34:29 +0000
Subject: [R] unable to load latticeExtra in AWS R
In-Reply-To: <IA1P223MB0499E5E6D915A09C20EC29A6FAEDA@IA1P223MB0499.NAMP223.PROD.OUTLOOK.COM>
References: <BY3PR09MB8260F8031C6795AE812D6A1CBFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
 <BY3PR09MB8260B623E78B5FFB64FBF4D1BFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
 <IA1P223MB0499E5E6D915A09C20EC29A6FAEDA@IA1P223MB0499.NAMP223.PROD.OUTLOOK.COM>
Message-ID: <3492F6DE-1982-4BD3-95D9-A80764EDEDAF@gmail.com>

8 ???????? 2023 ?. 22:25:10 UTC, Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> ?????:
>> library(latticeExtra)
> Error: package or namespace load failed for ?latticeExtra? in dyn.load(file, DLLpath = DLLpath, ...):
>  unable to load shared object '/home/ec2-user/SageMaker/R-library/jpeg/libs/jpeg.so':
>   libjpeg.so.8: cannot open shared object file: No such file or directory

>!> sessionInfo()
> R version 4.2.3 (2023-03-15)
> Platform: x86_64-conda-linux-gnu (64-bit)
> Running under: Amazon Linux 2
Sounds like an LD_LIBRARY_PATH problem. How did you install the jpeg package? Try reinstalling it.
-- 
Best regards,
Ivan


From jrkr|de@u @end|ng |rom gm@||@com  Sat Sep  9 01:22:07 2023
From: jrkr|de@u @end|ng |rom gm@||@com (John Kane)
Date: Fri, 8 Sep 2023 19:22:07 -0400
Subject: [R] R coding errors
In-Reply-To: <CAMh1Zu6aY7fHKdUr-geGj_JkVeSynnfpYG+=qjuhObAMaEgSHw@mail.gmail.com>
References: <CAMh1Zu6aY7fHKdUr-geGj_JkVeSynnfpYG+=qjuhObAMaEgSHw@mail.gmail.com>
Message-ID: <CAKZQJMAv4R_ri=5Sdu1C_tkXHABAuOOz-2O_hVmP0M-THYg6tA@mail.gmail.com>

Can you supply us with some sample data?

 A handy way to supply some sample data is the dput() function.  In the
case of a large dataset something like dput(head(mydata, 100)) should
supply the data we need. Just do dput(mydata) where *mydata* is your data.
Copy the output and paste it here.

On Fri, 8 Sept 2023 at 10:42, PROFESOR MADYA DR NORHAYATI BAHARUN <
norha603 at uitm.edu.my> wrote:

> Hi Sir,
>
> Could you please help me on the following errors:
>
> STEPS TO MIX IRT_RMT APPROACH IN R
>
> ?#1- Load required libraries
> library(eRm)
> library(ltm)
> library(mirt)
> library(psych)
>
> HT <- read.csv("C:/Users/User/Dropbox/Analysis R_2023/HT2.csv")
> str(HT)
>
> ?#2- Load or create your data matrix
> response_columns <- HT[, 1:ncol(HT)]
> response_matrix <- as.matrix(response_columns)
>
> ?#3- Fit IRT model
> irt_model <- gpcm(response_matrix)
> irt_model
> summary(irt_model)
>
> ?#4- Fit Rasch model
> rasch_model <- PCM(response_matrix)
> rasch_model
> summary(rasch_model)
>
> ?#5- Compare item parameter estimates between IRT and Rasch models
> irt_item_parameters <- coef(irt_model)
> rasch_item_parameters <- coef(rasch_model)
>
> #6- Compare person ability estimates between IRT and Rasch models
> #TRY1
> irt_person_abilities <- fscores(irt_model)                    ###ERROR###
> #TRY2
> #a(IRT)- Fit your GPCM model using ltm
> irt_model <- gpcm(data = HT, constraint = "1PL")
>
> #a(IRT)- Calculate factor scores (IRT person abilities)
> irt_person_abilities <- factor.scores(irt_model)             ###ERROR###
> irt_person_abilities_dim1 <- factor.scores(gpcm_model, f = 1)
>
> #TRY3
> # Fit your GPCM model using mirt
> irt_model <- mirt(data = HT, model = "gpcm", itemtype = "graded")
>  ###ERROR###
>
> # Calculate factor scores for dimension 1 (adjust the dimension as needed)
> irt_person_abilities_dim1 <- fscores(gpcm_model, method = "EAP", dims = 1)
>
>
> ?#b(RMT)
> rasch_person_abilities <- person.parameter(rasch_model)$theta
>
>
> #7- Perform model comparison using fit statistics (e.g., AIC, BIC)
> irt_aic <- AIC(irt_model)
> rasch_aic <- AIC(rasch_model)
>
> irt_bic <- BIC(irt_model)
> rasch_bic <- BIC(rasch_model)
>
> #8- Print or visualize the results for comparison
> print("Item Parameter Estimates:")
> print(irt_item_parameters)
> print(rasch_item_parameters)
>
> print("Person Ability Estimates:")
> print(irt_person_abilities)                                  ###ERROR###
> print(rasch_person_abilities)
>
> print("Model Fit Statistics:")
> print(paste("IRT AIC:", irt_aic))
> print(paste("Rasch AIC:", rasch_aic))
>
> print(paste("IRT BIC:", irt_bic))
> print(paste("Rasch BIC:", rasch_bic))
>
> Hope to get your response.
>
> Many thanks.
>
> Regards,
>
> Norhayati
>
> --
>
>
>
>
> *PENAFIAN: *E-mel ini dan apa-apa fail yang dihantar
> bersama-samanya
> ("Mesej") adalah dihasratkan hanya untuk kegunaan
> penerima yang dinyatakan
> di atas dan mungkin mengandungi maklumat yang tidak
> umum, bermilik,
> istimewa, sulit dan dikecualikan dari penzahiran di bawah
> undang-undang
> yang terpakai termasuklah Akta Rahsia Rasmi 1972. *BACA SELANJUTNYA...*
> <https://mail.uitm.edu.my/index.php?option=com_content&view=article&id=83>*DISCLAIMER
>
> :** This e-mail and any files transmitted with it
> ("Message") is intended
> only for the use of the recipient(s) named
> above and may contain
> information that is non-public,  proprietary,
> privileged,  confidential
> and
> exempt  from  disclosure under applicable law including the
> Official
> Secrets Act 1972. **READ MORE...*
> <https://mail.uitm.edu.my/index.php?option=com_content&view=article&id=83>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


-- 
John Kane
Kingston ON Canada

	[[alternative HTML version deleted]]


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Mon Sep 11 22:40:24 2023
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Mon, 11 Sep 2023 20:40:24 +0000
Subject: [R] unable to load latticeExtra in AWS R
In-Reply-To: <3492F6DE-1982-4BD3-95D9-A80764EDEDAF@gmail.com>
References: <BY3PR09MB8260F8031C6795AE812D6A1CBFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
 <BY3PR09MB8260B623E78B5FFB64FBF4D1BFEDA@BY3PR09MB8260.namprd09.prod.outlook.com>
 <IA1P223MB0499E5E6D915A09C20EC29A6FAEDA@IA1P223MB0499.NAMP223.PROD.OUTLOOK.COM>
 <3492F6DE-1982-4BD3-95D9-A80764EDEDAF@gmail.com>
Message-ID: <IA1P223MB04991D0BEFBA8B124EBA0224FAF2A@IA1P223MB0499.NAMP223.PROD.OUTLOOK.COM>

Reinstall of jpeg followed by reinstall of latticeExtra solved this problem.

Thanks

Sent from my iPhone

> On Sep 8, 2023, at 6:34 PM, Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
> ?8 ???????? 2023 ?. 22:25:10 UTC, Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> ?????:
>>> library(latticeExtra)
>> Error: package or namespace load failed for ?latticeExtra? in dyn.load(file, DLLpath = DLLpath, ...):
>> unable to load shared object '/home/ec2-user/SageMaker/R-library/jpeg/libs/jpeg.so':
>>  libjpeg.so.8: cannot open shared object file: No such file or directory
> 
>> !> sessionInfo()
>> R version 4.2.3 (2023-03-15)
>> Platform: x86_64-conda-linux-gnu (64-bit)
>> Running under: Amazon Linux 2
> Sounds like an LD_LIBRARY_PATH problem. How did you install the jpeg package? Try reinstalling it.
> -- 
> Best regards,
> Ivan

From pd@|gd @end|ng |rom gm@||@com  Tue Sep 12 14:21:24 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 12 Sep 2023 14:21:24 +0200
Subject: [R] prop.trend.test
In-Reply-To: <102fa2f9-7f44-f8cd-fb4b-4740313c32b6@sapo.pt>
References: <1884818502.6266978.1694093012313.ref@mail.yahoo.com>
 <1884818502.6266978.1694093012313@mail.yahoo.com>
 <283374f8-00ff-20ec-44e2-8ed0470a614e@sapo.pt>
 <1389791463.6717152.1694150558314@mail.yahoo.com>
 <EFFC6A67-67BD-4730-B954-86684765C19D@gmail.com>
 <102fa2f9-7f44-f8cd-fb4b-4740313c32b6@sapo.pt>
Message-ID: <307C1800-CC14-4EB0-A377-151F607800CE@gmail.com>

Argh, yes, drats, thanks. 

There will be a matter of an estimated residual error.

So

> coef(summary(ht$lmfit))["score","t value"]*sigma(ht$lmfit)
[1] -2.867913

matches the signes square root of the Chi-square.

Or, likely better (avoid 0 df cases), switch to a Gaussian glm fit and use the z stat

> coef(summary(ht$glmfit, dispersion = 1))
               Estimate Std. Error   z value      Pr(>|z|)
(Intercept)  1.02187141 0.03199737 31.936102 8.425506e-224
score       -0.03341563 0.01165155 -2.867913  4.131897e-03

The Estimate (-0.0334) should still make sense as the LPM estimate of the regression slope.

- Peter D.


> On 8 Sep 2023, at 12:53 , Rui Barradas <ruipbarradas at sapo.pt> wrote:
> 
> ?s 10:06 de 08/09/2023, peter dalgaard escreveu:
>> Yes, this was written a bit bone-headed (as I am allowed to say...)
>> If you look at the code, you will see inside:
>>     a <- anova(lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>>         weights = w))
>> and the lm() inside should give you the direction via the sign of the regression coefficient on "score".
>>  So, at least for now, you could just doctor a copy of the code for your own purposes, as in
>>  fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>>         weights = w)
>>  a <- anova(fit)
>>  and arrange to return coef(fit)["score"] at the end. Something like structure(... estimate=c(lpm.slope=coef(fit)["score"]) ....)
>> (I expect that you might also extract the t-statistic from coef(summary(fit)) and find that it is the signed square root of the Chi-square, but I won't have time to test that just now.)
>> -pd
>>> On 8 Sep 2023, at 07:22 , Thomas Subia via R-help <r-help at r-project.org> wrote:
>>> 
>>> Colleagues,
>>> 
>>> Thanks all for the responses.
>>> 
>>> I am monitoring the daily total number of defects per sample unit.
>>> I need to know whether this daily defect proportion is trending upward (a bad thing for a manufacturing process).
>>> 
>>> My first thought was to use either a u or a u' control chart for this.
>>> As far as I know, u or u' charts are poor to detect drifts.
>>> 
>>> This is why I chose to use prop.trend.test to detect trends in proportions.
>>> 
>>> While prop.trend.test can confirm the existence of a trend, as far as I know, it is left to the user
>>> to determine what direction that trend is.
>>> 
>>> One way to illustrate trending is of course to plot the data and use geom_smooth and method lm
>>> For the non-statisticians in my group, I've found that using this method along with the p-value of prop.trend.test, makes it easier for the users to determine the existence of trending and its direction.
>>> 
>>> If there are any other ways to do this, please let me know.
>>> 
>>> Thomas Subia
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> On Thursday, September 7, 2023 at 10:31:27 AM PDT, Rui Barradas <ruipbarradas at sapo.pt> wrote:
>>> 
>>> 
>>> 
>>> 
>>> 
>>> ?s 14:23 de 07/09/2023, Thomas Subia via R-help escreveu:
>>>> 
>>>> Colleagues
>>>> 
>>>>    Consider
>>>> smokers  <- c( 83, 90, 129, 70 )
>>>> patients <- c( 86, 93, 136, 82 )
>>>> 
>>>>    prop.trend.test(smokers, patients)
>>>> 
>>>>    Output:
>>>> 
>>>>        Chi-squared Test for Trend inProportions
>>>> 
>>>>    data:  smokers out of patients ,
>>>> 
>>>> using scores: 1 2 3 4
>>>> 
>>>> X-squared = 8.2249, df = 1, p-value = 0.004132
>>>> 
>>>>    # trend test for proportions indicates proportions aretrending.
>>>> 
>>>>    How does one identify the direction of trending?
>>>>    # prop.test indicates that the proportions are unequal but doeslittle to indicate trend direction.
>>>> All the best,
>>>> Thomas Subia
>>>> 
>>>> 
>>>>     [[alternative HTML version deleted]]
>>>> 
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> Hello,
>>> 
>>> By visual inspection it seems that there is a decreasing trend.
>>> Note that the sample estimates of prop.test and smokers/patients are equal.
>>> 
>>> 
>>> smokers  <- c( 83, 90, 129, 70 )
>>> patients <- c( 86, 93, 136, 82 )
>>> 
>>> prop.test(smokers, patients)$estimate
>>> #>    prop 1    prop 2    prop 3    prop 4
>>> #> 0.9651163 0.9677419 0.9485294 0.8536585
>>> 
>>> smokers/patients
>>> 
>>> #> [1] 0.9651163 0.9677419 0.9485294 0.8536585
>>> 
>>> plot(smokers/patients, type = "b")
>>> 
>>> 
>>> 
>>> Hope this helps,
>>> 
>>> Rui Barradas
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> Actually, the t-statistic is not the signed square root of the X-squared test statistic. I have edited the function, assigned the lm fit and returned it as is. (print.htest won't print this new list member so the output is not cluttered with irrelevant noise.)
> 
> 
> smokers  <- c( 83, 90, 129, 70 )
> patients <- c( 86, 93, 136, 82 )
> 
> edit(prop.trend.test, file = "ptt.R")
> source("ptt.R")
> 
> # stats::prop.trend.test edited to include the results
> # of the lm fit and saved under a new name
> ptt <- function (x, n, score = seq_along(x))
> {
>  method <- "Chi-squared Test for Trend in Proportions"
>  dname <- paste(deparse1(substitute(x)), "out of", deparse1(substitute(n)),
>                 ",\n using scores:", paste(score, collapse = " "))
>  x <- as.vector(x)
>  n <- as.vector(n)
>  p <- sum(x)/sum(n)
>  w <- n/p/(1 - p)
>  a <- anova(fit <- lm(freq ~ score, data = list(freq = x/n, score = as.vector(score)),
>                       weights = w))
>  chisq <- c(`X-squared` = a["score", "Sum Sq"])
>  structure(list(statistic = chisq, parameter = c(df = 1),
>                 p.value = pchisq(as.numeric(chisq), 1, lower.tail = FALSE),
>                 method = method, data.name = dname
>                 , lmfit = fit
>                 ), class = "htest")
> }
> 
> 
> ht <- ptt(smokers, patients)
> ht$statistic |> sqrt()
> #> X-squared
> #>  2.867913
> ht$lmfit |> summary() |> coef()
> #>                Estimate Std. Error   t value   Pr(>|t|)
> #> (Intercept)  1.02187141 0.04732740 21.591539 0.00213815
> #> score       -0.03341563 0.01723384 -1.938954 0.19207036
> 
> 
> Hope this helps,
> 
> Rui Barradas

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From |oopv|ny| @end|ng |rom gm@||@com  Tue Sep 12 17:24:26 2023
From: |oopv|ny| @end|ng |rom gm@||@com (Loop Vinyl)
Date: Tue, 12 Sep 2023 12:24:26 -0300
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
Message-ID: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>

I would like to produce the attached graph (graph1) with the R package
agricolae, could someone give me an example with the attached data (data)?

I expect an adapted graph (graph2) with the data (data)

Best regards

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: data.txt
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230912/03d584e9/attachment.txt>

From kev|n @end|ng |rom zembower@org  Tue Sep 12 22:50:25 2023
From: kev|n @end|ng |rom zembower@org (=?UTF-8?Q?Kevin_Zembower?=)
Date: Tue, 12 Sep 2023 20:50:25 +0000
Subject: [R] Help with plotting and date-times for climate data
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
Message-ID: <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>

Hello,

I'm trying to calculate the mean temperature max from a file of climate
date, and plot it over a range of days in the year. I've downloaded the
data, and cleaned it up the way I think it should be. However, when I
plot it, the geom_smooth line doesn't show up. I think that's because
my x axis is characters or factors. Here's what I have so far:
========================================
library(tidyverse)

data <- read_csv("Ely_MN_Weather.csv")

start_day = yday(as_date("2023-09-22"))
end_day = yday(as_date("2023-10-15"))
               
d <- as_tibble(data) %>%
    select(DATE,TMAX,TMIN) %>%
    mutate(DATE = as_date(DATE),
           yday = yday(DATE),
           md = sprintf("%02d-%02d", month(DATE), mday(DATE))
           ) %>%
    filter(yday >= start_day & yday <= end_day) %>%
    mutate(md = as.factor(md))

d_sum <- d %>%
    group_by(md) %>%
    summarize(tmax_mean = mean(TMAX, na.rm=TRUE))

## Here's the filtered data:
dput(d_sum)

> structure(list(md = structure(1:25, levels = c("09-21", "09-22", 
"09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29", 
"09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06", 
"10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13", 
"10-14", "10-15"), class = "factor"), tmax_mean = c(65,
62.2222222222222, 
61.3, 63.8888888888889, 64.3, 60.1111111111111, 62.3, 60.5, 61.9, 
61.2, 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556, 
59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125, 
58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778, 
48.75, 43.6666666666667)), class = c("tbl_df", "tbl", "data.frame"
), row.names = c(NA, -25L))
> 
ggplot(data = d_sum, aes(x = md)) +
    geom_point(aes(y = tmax_mean, color = "blue")) +
    geom_smooth(aes(y = tmax_mean, color = "blue"))
=====================================
My questions are:
1. Why isn't my geom_smooth plotting? How can I fix it?
2. I don't think I'm handling the month and day combination correctly.
Is there a way to encode month and day (but not year) as a date?
3. (Minor point) Why does my graph of tmax_mean come out red when I
specify "blue"?

Thanks for any advice or guidance you can offer. I really appreciate
the expertise of this group.

-Kevin


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Tue Sep 12 23:54:50 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 12 Sep 2023 22:54:50 +0100
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
Message-ID: <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>

?s 16:24 de 12/09/2023, Loop Vinyl escreveu:
> I would like to produce the attached graph (graph1) with the R package
> agricolae, could someone give me an example with the attached data (data)?
> 
> I expect an adapted graph (graph2) with the data (data)
> 
> Best regards
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

There are no attached graphs, only data.
Can you post the code have you tried?

Hope this helps,

Rui Barradas


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Sep 13 00:06:43 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Tue, 12 Sep 2023 23:06:43 +0100
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
Message-ID: <611847a8-88a7-59a2-8f79-65c2293145df@sapo.pt>

?s 21:50 de 12/09/2023, Kevin Zembower via R-help escreveu:
> Hello,
> 
> I'm trying to calculate the mean temperature max from a file of climate
> date, and plot it over a range of days in the year. I've downloaded the
> data, and cleaned it up the way I think it should be. However, when I
> plot it, the geom_smooth line doesn't show up. I think that's because
> my x axis is characters or factors. Here's what I have so far:
> ========================================
> library(tidyverse)
> 
> data <- read_csv("Ely_MN_Weather.csv")
> 
> start_day = yday(as_date("2023-09-22"))
> end_day = yday(as_date("2023-10-15"))
>                 
> d <- as_tibble(data) %>%
>      select(DATE,TMAX,TMIN) %>%
>      mutate(DATE = as_date(DATE),
>             yday = yday(DATE),
>             md = sprintf("%02d-%02d", month(DATE), mday(DATE))
>             ) %>%
>      filter(yday >= start_day & yday <= end_day) %>%
>      mutate(md = as.factor(md))
> 
> d_sum <- d %>%
>      group_by(md) %>%
>      summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> 
> ## Here's the filtered data:
> dput(d_sum)
> 
>> structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> 62.2222222222222,
> 61.3, 63.8888888888889, 64.3, 60.1111111111111, 62.3, 60.5, 61.9,
> 61.2, 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556,
> 59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125,
> 58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778,
> 48.75, 43.6666666666667)), class = c("tbl_df", "tbl", "data.frame"
> ), row.names = c(NA, -25L))
>>
> ggplot(data = d_sum, aes(x = md)) +
>      geom_point(aes(y = tmax_mean, color = "blue")) +
>      geom_smooth(aes(y = tmax_mean, color = "blue"))
> =====================================
> My questions are:
> 1. Why isn't my geom_smooth plotting? How can I fix it?
> 2. I don't think I'm handling the month and day combination correctly.
> Is there a way to encode month and day (but not year) as a date?
> 3. (Minor point) Why does my graph of tmax_mean come out red when I
> specify "blue"?
> 
> Thanks for any advice or guidance you can offer. I really appreciate
> the expertise of this group.
> 
> -Kevin
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

The problem is that the dates are factors, not real dates. And 
geom_smooth is not interpolating along a discrete axis (the x axis).

Paste a fake year with md, coerce to date and plot.
I have simplified the aes() calls and added a date scale in order to 
make the x axis more readable.

Without the formula and method arguments, geom_smooth will print a 
message, they are now made explicit.



suppressPackageStartupMessages({
   library(dplyr)
   library(ggplot2)
})

d_sum %>%
   mutate(md = paste("2023", md, sep = "-"),
          md = as.Date(md)) %>%
   ggplot(aes(x = md, y = tmax_mean)) +
   geom_point(color = "blue") +
   geom_smooth(
     formula = y ~ x,
     method = loess,
     color = "blue"
   ) +
   scale_x_date(date_breaks = "7 days", date_labels = "%m-%d")



Hope this helps,

Rui Barradas


From r@oknz @end|ng |rom gm@||@com  Wed Sep 13 15:58:00 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 14 Sep 2023 01:58:00 +1200
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
Message-ID: <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>

Off-topic, but what is a "mean temperature max"
and what good would it do you to know you if you did?
I've been looking at a lot of weather station data
and for no question I've ever had (except "would the
newspapers get excited about this") was "max" (or min)
the answer.  Considering the way that temperature can
change by several degrees in a few minutes, or a few
metres -- I meant horizontally when I wrote that, but
as you know your head and feet don't experience the
same temperature, again by more than one degree -- I am
at something of a loss to ascribe much practical
significance to TMAX.  Are you sure this is the analysis
you want to do?  Is this the most informative data you
can get?

On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
r-help at r-project.org> wrote:

> Hello,
>
> I'm trying to calculate the mean temperature max from a file of climate
> date, and plot it over a range of days in the year. I've downloaded the
> data, and cleaned it up the way I think it should be. However, when I
> plot it, the geom_smooth line doesn't show up. I think that's because
> my x axis is characters or factors. Here's what I have so far:
> ========================================
> library(tidyverse)
>
> data <- read_csv("Ely_MN_Weather.csv")
>
> start_day = yday(as_date("2023-09-22"))
> end_day = yday(as_date("2023-10-15"))
>
> d <- as_tibble(data) %>%
>     select(DATE,TMAX,TMIN) %>%
>     mutate(DATE = as_date(DATE),
>            yday = yday(DATE),
>            md = sprintf("%02d-%02d", month(DATE), mday(DATE))
>            ) %>%
>     filter(yday >= start_day & yday <= end_day) %>%
>     mutate(md = as.factor(md))
>
> d_sum <- d %>%
>     group_by(md) %>%
>     summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
>
> ## Here's the filtered data:
> dput(d_sum)
>
> > structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> 62.2222222222222,
> 61.3, 63.8888888888889, 64.3, 60.1111111111111, 62.3, 60.5, 61.9,
> 61.2, 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556,
> 59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125,
> 58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778,
> 48.75, 43.6666666666667)), class = c("tbl_df", "tbl", "data.frame"
> ), row.names = c(NA, -25L))
> >
> ggplot(data = d_sum, aes(x = md)) +
>     geom_point(aes(y = tmax_mean, color = "blue")) +
>     geom_smooth(aes(y = tmax_mean, color = "blue"))
> =====================================
> My questions are:
> 1. Why isn't my geom_smooth plotting? How can I fix it?
> 2. I don't think I'm handling the month and day combination correctly.
> Is there a way to encode month and day (but not year) as a date?
> 3. (Minor point) Why does my graph of tmax_mean come out red when I
> specify "blue"?
>
> Thanks for any advice or guidance you can offer. I really appreciate
> the expertise of this group.
>
> -Kevin
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Wed Sep 13 16:02:36 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 14 Sep 2023 02:02:36 +1200
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
Message-ID: <CABcYAdKPoWZsTQ1amzkGriooOFC62=3mvBcRAZGnqK=Yk4FM9w@mail.gmail.com>

> d <- read.table("data.txt", TRUE)
> cor(d[, 3:6])
     VAR1 VAR2 VAR3 VAR4
VAR1    1    1    1    1
VAR2    1    1    1    1
VAR3    1    1    1    1
VAR4    1    1    1    1

VAR1 to VAR4 are, up to linear scaling,
exactly the same variable.  Why is that?


On Wed, 13 Sept 2023 at 07:38, Loop Vinyl <loopvinyl at gmail.com> wrote:

> I would like to produce the attached graph (graph1) with the R package
> agricolae, could someone give me an example with the attached data (data)?
>
> I expect an adapted graph (graph2) with the data (data)
>
> Best regards
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed Sep 13 16:18:55 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 13 Sep 2023 14:18:55 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
Message-ID: <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>

I had the same question.
However, I can partly answer the off-topic question. Min and max can be important as lower and upper development thresholds. Below the min no growth or development occur because reaction rates are too slow to enable such. Above max, temperatures are too hot. Protein function is impaired, and systems stop functioning. There is a considerable range between where systems shut down (but recover) and tissue death.
In a simple form the growth and physiological stage of plants, insects, and many others, can be modeled as a function of temperature. These are often called growing degree day models (or some version of that). This is number of thermal units needed for the organism to develop to the next stage (e.g. instar for an insect, or fruit/flower formation for a plant). However, better accuracy is obtained if the model includes both min and max thresholds.

All I have done is provide an example where min and max could have a real world use. I use max(temp) over some interval and then update an accumulated thermal units variable based on the outcome. That detail is not evident in the original request.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
Sent: Wednesday, September 13, 2023 9:58 AM
To: Kevin Zembower <kevin at zembower.org>
Cc: r-help at r-project.org
Subject: Re: [R] Help with plotting and date-times for climate data

[External Email]

Off-topic, but what is a "mean temperature max"
and what good would it do you to know you if you did?
I've been looking at a lot of weather station data and for no question I've ever had (except "would the newspapers get excited about this") was "max" (or min) the answer.  Considering the way that temperature can change by several degrees in a few minutes, or a few metres -- I meant horizontally when I wrote that, but as you know your head and feet don't experience the same temperature, again by more than one degree -- I am at something of a loss to ascribe much practical significance to TMAX.  Are you sure this is the analysis you want to do?  Is this the most informative data you can get?

On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help < r-help at r-project.org> wrote:

> Hello,
>
> I'm trying to calculate the mean temperature max from a file of
> climate date, and plot it over a range of days in the year. I've
> downloaded the data, and cleaned it up the way I think it should be.
> However, when I plot it, the geom_smooth line doesn't show up. I think
> that's because my x axis is characters or factors. Here's what I have so far:
> ========================================
> library(tidyverse)
>
> data <- read_csv("Ely_MN_Weather.csv")
>
> start_day = yday(as_date("2023-09-22")) end_day =
> yday(as_date("2023-10-15"))
>
> d <- as_tibble(data) %>%
>     select(DATE,TMAX,TMIN) %>%
>     mutate(DATE = as_date(DATE),
>            yday = yday(DATE),
>            md = sprintf("%02d-%02d", month(DATE), mday(DATE))
>            ) %>%
>     filter(yday >= start_day & yday <= end_day) %>%
>     mutate(md = as.factor(md))
>
> d_sum <- d %>%
>     group_by(md) %>%
>     summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
>
> ## Here's the filtered data:
> dput(d_sum)
>
> > structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> 62.2222222222222, 61.3, 63.8888888888889, 64.3, 60.1111111111111,
> 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5, 59.5555555555556,
> 61.5555555555556, 59.4444444444444, 58.7777777777778,
> 55.8888888888889, 58.125, 58, 55.6666666666667, 57, 55.4444444444444,
> 49.7777777777778, 48.75, 43.6666666666667)), class = c("tbl_df",
> "tbl", "data.frame"
> ), row.names = c(NA, -25L))
> >
> ggplot(data = d_sum, aes(x = md)) +
>     geom_point(aes(y = tmax_mean, color = "blue")) +
>     geom_smooth(aes(y = tmax_mean, color = "blue"))
> =====================================
> My questions are:
> 1. Why isn't my geom_smooth plotting? How can I fix it?
> 2. I don't think I'm handling the month and day combination correctly.
> Is there a way to encode month and day (but not year) as a date?
> 3. (Minor point) Why does my graph of tmax_mean come out red when I
> specify "blue"?
>
> Thanks for any advice or guidance you can offer. I really appreciate
> the expertise of this group.
>
> -Kevin
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=zR
> IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bbo|ker @end|ng |rom gm@||@com  Wed Sep 13 16:20:20 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Wed, 13 Sep 2023 10:20:20 -0400
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CABcYAdKPoWZsTQ1amzkGriooOFC62=3mvBcRAZGnqK=Yk4FM9w@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <CABcYAdKPoWZsTQ1amzkGriooOFC62=3mvBcRAZGnqK=Yk4FM9w@mail.gmail.com>
Message-ID: <212669f7-7d3d-0886-c063-9698d55c9f8b@gmail.com>

   As a side note, I'm curious how often "Tukey test" is misspelled as 
"Turkey test".


Googling '"turkey test" mean comparison' gives 36.1K results (vs 14.3M 
for '"tukey test" mean comparison" ...



On 2023-09-13 10:02 a.m., Richard O'Keefe wrote:
>> d <- read.table("data.txt", TRUE)
>> cor(d[, 3:6])
>       VAR1 VAR2 VAR3 VAR4
> VAR1    1    1    1    1
> VAR2    1    1    1    1
> VAR3    1    1    1    1
> VAR4    1    1    1    1
> 
> VAR1 to VAR4 are, up to linear scaling,
> exactly the same variable.  Why is that?
> 
> 
> On Wed, 13 Sept 2023 at 07:38, Loop Vinyl <loopvinyl at gmail.com> wrote:
> 
>> I would like to produce the attached graph (graph1) with the R package
>> agricolae, could someone give me an example with the attached data (data)?
>>
>> I expect an adapted graph (graph2) with the data (data)
>>
>> Best regards
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Dr. Benjamin Bolker
Professor, Mathematics & Statistics and Biology, McMaster University
Director, School of Computational Science and Engineering
(Acting) Graduate chair, Mathematics & Statistics
 > E-mail is sent at my convenience; I don't expect replies outside of 
working hours.


From r@oknz @end|ng |rom gm@||@com  Wed Sep 13 17:07:46 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 14 Sep 2023 03:07:46 +1200
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>

I am well aware of the physiological implications
of temperature, and that is *why* I view recorded
TMIN and TMAX at a single point with an extremely
jaundiced eye.  TMAX at shoulder height has very
little relevance to an insect living in grass, for
example.  And if TMAX is sustained for one second,
that has very different consequences from if TMAX
is sustained for five minutes.  I can see the usefulness
of "proportion of day above Thi/below Tlo", but that
is quite different.

OK, so my interest in weather data was mainly based
around water management: precipitation, evaporation,
herd and crop water needs, that kind of thing.  And
the first thing you learn from that experience is
that ANY kind of single-point summary is seriously
misleading.

Let's end this digression.


On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

> I had the same question.
> However, I can partly answer the off-topic question. Min and max can be
> important as lower and upper development thresholds. Below the min no
> growth or development occur because reaction rates are too slow to enable
> such. Above max, temperatures are too hot. Protein function is impaired,
> and systems stop functioning. There is a considerable range between where
> systems shut down (but recover) and tissue death.
> In a simple form the growth and physiological stage of plants, insects,
> and many others, can be modeled as a function of temperature. These are
> often called growing degree day models (or some version of that). This is
> number of thermal units needed for the organism to develop to the next
> stage (e.g. instar for an insect, or fruit/flower formation for a plant).
> However, better accuracy is obtained if the model includes both min and max
> thresholds.
>
> All I have done is provide an example where min and max could have a real
> world use. I use max(temp) over some interval and then update an
> accumulated thermal units variable based on the outcome. That detail is not
> evident in the original request.
>
> Tim
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard O'Keefe
> Sent: Wednesday, September 13, 2023 9:58 AM
> To: Kevin Zembower <kevin at zembower.org>
> Cc: r-help at r-project.org
> Subject: Re: [R] Help with plotting and date-times for climate data
>
> [External Email]
>
> Off-topic, but what is a "mean temperature max"
> and what good would it do you to know you if you did?
> I've been looking at a lot of weather station data and for no question
> I've ever had (except "would the newspapers get excited about this") was
> "max" (or min) the answer.  Considering the way that temperature can change
> by several degrees in a few minutes, or a few metres -- I meant
> horizontally when I wrote that, but as you know your head and feet don't
> experience the same temperature, again by more than one degree -- I am at
> something of a loss to ascribe much practical significance to TMAX.  Are
> you sure this is the analysis you want to do?  Is this the most informative
> data you can get?
>
> On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
> r-help at r-project.org> wrote:
>
> > Hello,
> >
> > I'm trying to calculate the mean temperature max from a file of
> > climate date, and plot it over a range of days in the year. I've
> > downloaded the data, and cleaned it up the way I think it should be.
> > However, when I plot it, the geom_smooth line doesn't show up. I think
> > that's because my x axis is characters or factors. Here's what I have so
> far:
> > ========================================
> > library(tidyverse)
> >
> > data <- read_csv("Ely_MN_Weather.csv")
> >
> > start_day = yday(as_date("2023-09-22")) end_day =
> > yday(as_date("2023-10-15"))
> >
> > d <- as_tibble(data) %>%
> >     select(DATE,TMAX,TMIN) %>%
> >     mutate(DATE = as_date(DATE),
> >            yday = yday(DATE),
> >            md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> >            ) %>%
> >     filter(yday >= start_day & yday <= end_day) %>%
> >     mutate(md = as.factor(md))
> >
> > d_sum <- d %>%
> >     group_by(md) %>%
> >     summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> >
> > ## Here's the filtered data:
> > dput(d_sum)
> >
> > > structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > 62.2222222222222, 61.3, 63.8888888888889, 64.3, 60.1111111111111,
> > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5, 59.5555555555556,
> > 61.5555555555556, 59.4444444444444, 58.7777777777778,
> > 55.8888888888889, 58.125, 58, 55.6666666666667, 57, 55.4444444444444,
> > 49.7777777777778, 48.75, 43.6666666666667)), class = c("tbl_df",
> > "tbl", "data.frame"
> > ), row.names = c(NA, -25L))
> > >
> > ggplot(data = d_sum, aes(x = md)) +
> >     geom_point(aes(y = tmax_mean, color = "blue")) +
> >     geom_smooth(aes(y = tmax_mean, color = "blue"))
> > =====================================
> > My questions are:
> > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > 2. I don't think I'm handling the month and day combination correctly.
> > Is there a way to encode month and day (but not year) as a date?
> > 3. (Minor point) Why does my graph of tmax_mean come out red when I
> > specify "blue"?
> >
> > Thanks for any advice or guidance you can offer. I really appreciate
> > the expertise of this group.
> >
> > -Kevin
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat/
> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84
> > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserved=0
> > PLEASE do read the posting guide
> > http://www.r/
> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=zR
> > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed Sep 13 18:44:21 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 13 Sep 2023 16:44:21 +0000
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <212669f7-7d3d-0886-c063-9698d55c9f8b@gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <CABcYAdKPoWZsTQ1amzkGriooOFC62=3mvBcRAZGnqK=Yk4FM9w@mail.gmail.com>
 <212669f7-7d3d-0886-c063-9698d55c9f8b@gmail.com>
Message-ID: <CH3PR22MB4514C9E633ED1CBBD9A45ABACFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>

+"turkey test +"mean comparison" 84 hits in google scholar.

There is an aphid "Aphis gossypii." Some people have changed this to "Apis gossypii." "Apis" is a genus for bees, and there is no critter named "Apis gossypii." However there are 45 papers in google scholar suffering from this malady. Some of them the error is in the way the paper was entered into the search engine. If I look at the published paper there is no mistake. It is most fun when Apis mellifera and Apis gossypii exist in the same paper.


In the USA, thanksgiving is a holiday that often includes a meal with turkey. Sometimes the holiday is called turkey day. I wrote in the stats lab "Happy Tukey Day". While most things were erased after a day or so, this stayed for several months.


Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Ben Bolker
Sent: Wednesday, September 13, 2023 10:20 AM
To: r-help at r-project.org
Subject: Re: [R] graph in R with grouping letters from the turkey test with agricolae package

[External Email]

   As a side note, I'm curious how often "Tukey test" is misspelled as "Turkey test".


Googling '"turkey test" mean comparison' gives 36.1K results (vs 14.3M for '"tukey test" mean comparison" ...



On 2023-09-13 10:02 a.m., Richard O'Keefe wrote:
>> d <- read.table("data.txt", TRUE)
>> cor(d[, 3:6])
>       VAR1 VAR2 VAR3 VAR4
> VAR1    1    1    1    1
> VAR2    1    1    1    1
> VAR3    1    1    1    1
> VAR4    1    1    1    1
>
> VAR1 to VAR4 are, up to linear scaling, exactly the same variable.
> Why is that?
>
>
> On Wed, 13 Sept 2023 at 07:38, Loop Vinyl <loopvinyl at gmail.com> wrote:
>
>> I would like to produce the attached graph (graph1) with the R
>> package agricolae, could someone give me an example with the attached data (data)?
>>
>> I expect an adapted graph (graph2) with the data (data)
>>
>> Best regards
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://sta/
>> t.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.e
>> du%7C3610c6d64e8f4d139df408dbb465daba%7C0d4da0f84a314d76ace60a62331e1
>> b84%7C0%7C0%7C638302121786328675%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4w
>> LjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
>> C&sdata=7quLdbmh83%2BJqwfZHISjo4KeH3tNT6h%2BlotUj2cr5hs%3D&reserved=0
>> PLEASE do read the posting guide
>> http://www/.
>> r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C
>> 3610c6d64e8f4d139df408dbb465daba%7C0d4da0f84a314d76ace60a62331e1b84%7
>> C0%7C0%7C638302121786328675%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwM
>> DAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
>> ta=s8cw488pbXCFKqt2M2f%2ByvJ0w6OaIwW1beDEcBF%2B%2FbE%3D&reserved=0
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7C3610c6d64e8f4d139df408dbb465daba%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638302121786328675%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=7quLdbmh83%2BJqwfZHISjo4KeH3tNT6h%2BlotUj2cr5hs%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C36
> 10c6d64e8f4d139df408dbb465daba%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638302121786328675%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=s8
> cw488pbXCFKqt2M2f%2ByvJ0w6OaIwW1beDEcBF%2B%2FbE%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.

--
Dr. Benjamin Bolker
Professor, Mathematics & Statistics and Biology, McMaster University Director, School of Computational Science and Engineering
(Acting) Graduate chair, Mathematics & Statistics  > E-mail is sent at my convenience; I don't expect replies outside of working hours.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From kev|n @end|ng |rom zembower@org  Wed Sep 13 19:22:08 2023
From: kev|n @end|ng |rom zembower@org (=?UTF-8?Q?Kevin_Zembower?=)
Date: Wed, 13 Sep 2023 17:22:08 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org> 
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com> 
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com> 
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org>
Message-ID: <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>

Tim, Richard, y'all are reading too much into this. I believe that TMAX
is the high temperature of the day, and TMIN is the low. I'm trying to
compute the average or median high and low temperatures for the data I
have (2011 to present). I'm going on a trip to this area, and want to
know how to pack.

Thanks for your interest.

-Kevin

On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> I am well aware of the physiological implications
> of temperature, and that is *why* I view recorded
> TMIN and TMAX at a single point with an extremely
> jaundiced eye.? TMAX at shoulder height has very
> little relevance to an insect living in grass, for
> example.? And if TMAX is sustained for one second,
> that has very different consequences from if TMAX
> is sustained for five minutes.? I can see the usefulness
> of "proportion of day above Thi/below Tlo", but that
> is quite different.
> 
> OK, so my interest in weather data was mainly based
> around water management: precipitation, evaporation,
> herd and crop water needs, that kind of thing.? And
> the first thing you learn from that experience is
> that ANY kind of single-point summary is seriously
> misleading.
> 
> Let's end this digression.
> 
> 
> On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> > I had the same question.
> > However, I can partly answer the off-topic question. Min and max
> > can be important as lower and upper development thresholds. Below
> > the min no growth or development occur because reaction rates are
> > too slow to enable such. Above max, temperatures are too hot.
> > Protein function is impaired, and systems stop functioning. There
> > is a considerable range between where systems shut down (but
> > recover) and tissue death.
> > In a simple form the growth and physiological stage of plants,
> > insects, and many others, can be modeled as a function of
> > temperature. These are often called growing degree day models (or
> > some version of that). This is number of thermal units needed for
> > the organism to develop to the next stage (e.g. instar for an
> > insect, or fruit/flower formation for a plant). However, better
> > accuracy is obtained if the model includes both min and max
> > thresholds.
> > 
> > All I have done is provide an example where min and max could have
> > a real world use. I use max(temp) over some interval and then
> > update an accumulated thermal units variable based on the outcome.
> > That detail is not evident in the original request.
> > 
> > Tim
> > 
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard
> > O'Keefe
> > Sent: Wednesday, September 13, 2023 9:58 AM
> > To: Kevin Zembower <kevin at zembower.org>
> > Cc: r-help at r-project.org
> > Subject: Re: [R] Help with plotting and date-times for climate data
> > 
> > [External Email]
> > 
> > Off-topic, but what is a "mean temperature max"
> > and what good would it do you to know you if you did?
> > I've been looking at a lot of weather station data and for no
> > question I've ever had (except "would the newspapers get excited
> > about this") was "max" (or min) the answer.? Considering the way
> > that temperature can change by several degrees in a few minutes, or
> > a few metres -- I meant horizontally when I wrote that, but as you
> > know your head and feet don't experience the same temperature,
> > again by more than one degree -- I am at something of a loss to
> > ascribe much practical significance to TMAX.? Are you sure this is
> > the analysis you want to do?? Is this the most informative data you
> > can get?
> > 
> > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
> > r-help at r-project.org> wrote:
> > 
> > > Hello,
> > > 
> > > I'm trying to calculate the mean temperature max from a file of
> > > climate date, and plot it over a range of days in the year. I've
> > > downloaded the data, and cleaned it up the way I think it should
> > > be.
> > > However, when I plot it, the geom_smooth line doesn't show up. I
> > > think
> > > that's because my x axis is characters or factors. Here's what I
> > > have so far:
> > > ========================================
> > > library(tidyverse)
> > > 
> > > data <- read_csv("Ely_MN_Weather.csv")
> > > 
> > > start_day = yday(as_date("2023-09-22")) end_day =
> > > yday(as_date("2023-10-15"))
> > > 
> > > d <- as_tibble(data) %>%
> > > ? ? ?select(DATE,TMAX,TMIN) %>%
> > > ? ? ?mutate(DATE = as_date(DATE),
> > > ? ? ? ? ? ? yday = yday(DATE),
> > > ? ? ? ? ? ? md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > > ? ? ? ? ? ? ) %>%
> > > ? ? ?filter(yday >= start_day & yday <= end_day) %>%
> > > ? ? ?mutate(md = as.factor(md))
> > > 
> > > d_sum <- d %>%
> > > ? ? ?group_by(md) %>%
> > > ? ? ?summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > 
> > > ## Here's the filtered data:
> > > dput(d_sum)
> > > 
> > > > structure(list(md = structure(1:25, levels = c("09-21", "09-
> > > > 22",
> > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > > 62.2222222222222, 61.3, 63.8888888888889, 64.3, 60.1111111111111,
> > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5, 59.5555555555556,
> > > 61.5555555555556, 59.4444444444444, 58.7777777777778,
> > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57,
> > > 55.4444444444444,
> > > 49.7777777777778, 48.75, 43.6666666666667)), class = c("tbl_df",
> > > "tbl", "data.frame"
> > > ), row.names = c(NA, -25L))
> > > > 
> > > ggplot(data = d_sum, aes(x = md)) +
> > > ? ? ?geom_point(aes(y = tmax_mean, color = "blue")) +
> > > ? ? ?geom_smooth(aes(y = tmax_mean, color = "blue"))
> > > =====================================
> > > My questions are:
> > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > 2. I don't think I'm handling the month and day combination
> > > correctly.
> > > Is there a way to encode month and day (but not year) as a date?
> > > 3. (Minor point) Why does my graph of tmax_mean come out red when
> > > I
> > > specify "blue"?
> > > 
> > > Thanks for any advice or guidance you can offer. I really
> > > appreciate
> > > the expertise of this group.
> > > 
> > > -Kevin
> > > 
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat/
> > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331
> > > e1b84
> > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4
> > > wLjAw
> > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > > C&sda
> > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserved=
> > > 0
> > > PLEASE do read the posting guide
> > > http://www.r/
> > > -project.org%2Fposting-
> > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84
> > > %7C0%
> > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > > MDAiL
> > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > > ta=zR
> > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > and provide commented, minimal, self-contained, reproducible
> > > code.
> > > 
> > 
> > ? ? ? ? [[alternative HTML version deleted]]
> > 
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.r-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.




From kev|n @end|ng |rom zembower@org  Wed Sep 13 19:25:19 2023
From: kev|n @end|ng |rom zembower@org (=?UTF-8?Q?Kevin_Zembower?=)
Date: Wed, 13 Sep 2023 17:25:19 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <611847a8-88a7-59a2-8f79-65c2293145df@sapo.pt>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org> 
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <611847a8-88a7-59a2-8f79-65c2293145df@sapo.pt> 
 <d671006939ea88638b0098c836ed2af412ee8233.camel@zembower.org>
Message-ID: <0100018a8f9371a8-6150c2aa-55fa-42da-83f6-3caec1c4a841-000000@email.amazonses.com>

Rui, thanks so much for your clear explanation, solution to my problem,
and additional help with making the graph come out exactly as I was
hoping. I learned a lot from your solution. Thanks, again, for your
help.

-Kevin

On Tue, 2023-09-12 at 23:06 +0100, Rui Barradas wrote:
> ?s 21:50 de 12/09/2023, Kevin Zembower via R-help escreveu:
> > Hello,
> > 
> > I'm trying to calculate the mean temperature max from a file of
> > climate
> > date, and plot it over a range of days in the year. I've downloaded
> > the
> > data, and cleaned it up the way I think it should be. However, when
> > I
> > plot it, the geom_smooth line doesn't show up. I think that's
> > because
> > my x axis is characters or factors. Here's what I have so far:
> > ========================================
> > library(tidyverse)
> > 
> > data <- read_csv("Ely_MN_Weather.csv")
> > 
> > start_day = yday(as_date("2023-09-22"))
> > end_day = yday(as_date("2023-10-15"))
> > ??????????????? 
> > d <- as_tibble(data) %>%
> > ???? select(DATE,TMAX,TMIN) %>%
> > ???? mutate(DATE = as_date(DATE),
> > ??????????? yday = yday(DATE),
> > ??????????? md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > ??????????? ) %>%
> > ???? filter(yday >= start_day & yday <= end_day) %>%
> > ???? mutate(md = as.factor(md))
> > 
> > d_sum <- d %>%
> > ???? group_by(md) %>%
> > ???? summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > 
> > ## Here's the filtered data:
> > dput(d_sum)
> > 
> > > structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > 62.2222222222222,
> > 61.3, 63.8888888888889, 64.3, 60.1111111111111, 62.3, 60.5, 61.9,
> > 61.2, 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556,
> > 59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125,
> > 58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778,
> > 48.75, 43.6666666666667)), class = c("tbl_df", "tbl", "data.frame"
> > ), row.names = c(NA, -25L))
> > > 
> > ggplot(data = d_sum, aes(x = md)) +
> > ???? geom_point(aes(y = tmax_mean, color = "blue")) +
> > ???? geom_smooth(aes(y = tmax_mean, color = "blue"))
> > =====================================
> > My questions are:
> > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > 2. I don't think I'm handling the month and day combination
> > correctly.
> > Is there a way to encode month and day (but not year) as a date?
> > 3. (Minor point) Why does my graph of tmax_mean come out red when I
> > specify "blue"?
> > 
> > Thanks for any advice or guidance you can offer. I really
> > appreciate
> > the expertise of this group.
> > 
> > -Kevin
> > 
> > ______________________________________________
> > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
> 
> The problem is that the dates are factors, not real dates. And 
> geom_smooth is not interpolating along a discrete axis (the x axis).
> 
> Paste a fake year with md, coerce to date and plot.
> I have simplified the aes() calls and added a date scale in order to 
> make the x axis more readable.
> 
> Without the formula and method arguments, geom_smooth will print a 
> message, they are now made explicit.
> 
> 
> 
> suppressPackageStartupMessages({
> ?? library(dplyr)
> ?? library(ggplot2)
> })
> 
> d_sum %>%
> ?? mutate(md = paste("2023", md, sep = "-"),
> ????????? md = as.Date(md)) %>%
> ?? ggplot(aes(x = md, y = tmax_mean)) +
> ?? geom_point(color = "blue") +
> ?? geom_smooth(
> ???? formula = y ~ x,
> ???? method = loess,
> ???? color = "blue"
> ?? ) +
> ?? scale_x_date(date_breaks = "7 days", date_labels = "%m-%d")
> 
> 
> 
> Hope this helps,
> 
> Rui Barradas
> 




From tebert @end|ng |rom u||@edu  Wed Sep 13 19:39:14 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 13 Sep 2023 17:39:14 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org>
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
Message-ID: <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>

I admire the dedication to R and data science, but the Weather Channel might be a simpler approach. Weather.com. I can search for (city name) and either weather (current values) or climate. It depends on how far away the trip will be.

-----Original Message-----
From: Kevin Zembower <kevin at zembower.org> 
Sent: Wednesday, September 13, 2023 1:22 PM
To: Richard O'Keefe <raoknz at gmail.com>; Ebert,Timothy Aaron <tebert at ufl.edu>
Cc: r-help at r-project.org
Subject: Re: [R] Help with plotting and date-times for climate data

[External Email]

Tim, Richard, y'all are reading too much into this. I believe that TMAX is the high temperature of the day, and TMIN is the low. I'm trying to compute the average or median high and low temperatures for the data I have (2011 to present). I'm going on a trip to this area, and want to know how to pack.

Thanks for your interest.

-Kevin

On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> I am well aware of the physiological implications of temperature, and 
> that is *why* I view recorded TMIN and TMAX at a single point with an 
> extremely jaundiced eye.  TMAX at shoulder height has very little 
> relevance to an insect living in grass, for example.  And if TMAX is 
> sustained for one second, that has very different consequences from if 
> TMAX is sustained for five minutes.  I can see the usefulness of 
> "proportion of day above Thi/below Tlo", but that is quite different.
>
> OK, so my interest in weather data was mainly based around water 
> management: precipitation, evaporation, herd and crop water needs, 
> that kind of thing.  And the first thing you learn from that 
> experience is that ANY kind of single-point summary is seriously 
> misleading.
>
> Let's end this digression.
>
>
> On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu>
> wrote:
> > I had the same question.
> > However, I can partly answer the off-topic question. Min and max can 
> > be important as lower and upper development thresholds. Below the 
> > min no growth or development occur because reaction rates are too 
> > slow to enable such. Above max, temperatures are too hot.
> > Protein function is impaired, and systems stop functioning. There is 
> > a considerable range between where systems shut down (but
> > recover) and tissue death.
> > In a simple form the growth and physiological stage of plants, 
> > insects, and many others, can be modeled as a function of 
> > temperature. These are often called growing degree day models (or 
> > some version of that). This is number of thermal units needed for 
> > the organism to develop to the next stage (e.g. instar for an 
> > insect, or fruit/flower formation for a plant). However, better 
> > accuracy is obtained if the model includes both min and max 
> > thresholds.
> >
> > All I have done is provide an example where min and max could have a 
> > real world use. I use max(temp) over some interval and then update 
> > an accumulated thermal units variable based on the outcome.
> > That detail is not evident in the original request.
> >
> > Tim
> >
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard 
> > O'Keefe
> > Sent: Wednesday, September 13, 2023 9:58 AM
> > To: Kevin Zembower <kevin at zembower.org>
> > Cc: r-help at r-project.org
> > Subject: Re: [R] Help with plotting and date-times for climate data
> >
> > [External Email]
> >
> > Off-topic, but what is a "mean temperature max"
> > and what good would it do you to know you if you did?
> > I've been looking at a lot of weather station data and for no 
> > question I've ever had (except "would the newspapers get excited 
> > about this") was "max" (or min) the answer.  Considering the way 
> > that temperature can change by several degrees in a few minutes, or 
> > a few metres -- I meant horizontally when I wrote that, but as you 
> > know your head and feet don't experience the same temperature, again 
> > by more than one degree -- I am at something of a loss to ascribe 
> > much practical significance to TMAX.  Are you sure this is the 
> > analysis you want to do?  Is this the most informative data you can 
> > get?
> >
> > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help < 
> > r-help at r-project.org> wrote:
> >
> > > Hello,
> > >
> > > I'm trying to calculate the mean temperature max from a file of 
> > > climate date, and plot it over a range of days in the year. I've 
> > > downloaded the data, and cleaned it up the way I think it should 
> > > be.
> > > However, when I plot it, the geom_smooth line doesn't show up. I 
> > > think that's because my x axis is characters or factors. Here's 
> > > what I have so far:
> > > ========================================
> > > library(tidyverse)
> > >
> > > data <- read_csv("Ely_MN_Weather.csv")
> > >
> > > start_day = yday(as_date("2023-09-22")) end_day =
> > > yday(as_date("2023-10-15"))
> > >
> > > d <- as_tibble(data) %>%
> > >      select(DATE,TMAX,TMIN) %>%
> > >      mutate(DATE = as_date(DATE),
> > >             yday = yday(DATE),
> > >             md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > >             ) %>%
> > >      filter(yday >= start_day & yday <= end_day) %>%
> > >      mutate(md = as.factor(md))
> > >
> > > d_sum <- d %>%
> > >      group_by(md) %>%
> > >      summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > >
> > > ## Here's the filtered data:
> > > dput(d_sum)
> > >
> > > > structure(list(md = structure(1:25, levels = c("09-21", "09- 
> > > > 22",
> > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29", 
> > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06", 
> > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13", 
> > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65, 
> > > 62.2222222222222, 61.3, 63.8888888888889, 64.3, 60.1111111111111, 
> > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5, 59.5555555555556, 
> > > 61.5555555555556, 59.4444444444444, 58.7777777777778, 
> > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57, 
> > > 55.4444444444444, 49.7777777777778, 48.75, 43.6666666666667)), 
> > > class = c("tbl_df", "tbl", "data.frame"
> > > ), row.names = c(NA, -25L))
> > > >
> > > ggplot(data = d_sum, aes(x = md)) +
> > >      geom_point(aes(y = tmax_mean, color = "blue")) +
> > >      geom_smooth(aes(y = tmax_mean, color = "blue")) 
> > > =====================================
> > > My questions are:
> > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > 2. I don't think I'm handling the month and day combination 
> > > correctly.
> > > Is there a way to encode month and day (but not year) as a date?
> > > 3. (Minor point) Why does my graph of tmax_mean come out red when 
> > > I specify "blue"?
> > >
> > > Thanks for any advice or guidance you can offer. I really 
> > > appreciate the expertise of this group.
> > >
> > > -Kevin
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> > > https://stat/
> > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331
> > > e1b84
> > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4
> > > wLjAw
> > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > > C&sda
> > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserved=
> > > 0
> > > PLEASE do read the posting guide
> > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fw
> > > ww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7C7379ecec6a1e42280d1608db
> > > b47df5e7%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302225313
> > > 579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzI
> > > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=9U5h9tWTimMo
> > > TGLnHvHCufVzw%2Bptd5m4prhLGwPYzx8%3D&reserved=0
> > > -project.org%2Fposting-
> > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84
> > > %7C0%
> > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > > MDAiL
> > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > > ta=zR
> > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > and provide commented, minimal, self-contained, reproducible code.
> > >
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst
> > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl
> > .edu%7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a6233
> > 1e1b84%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoi
> > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
> > %7C%7C&sdata=2Chr1XJ6IqitN92naJMKy%2FTl4QUfxM4hstlQBtr1JUs%3D&reserv
> > ed=0
> > PLEASE do read the posting guide
> > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww
> > .r-project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > 7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a62331e1b8
> > 4%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wL
> > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > C&sdata=e3eVmipjkORF5tGjzkla9AcvQ7c6VJR1nrSJYxFJaAM%3D&reserved=0
> > and provide commented, minimal, self-contained, reproducible code.


From pd@|gd @end|ng |rom gm@||@com  Wed Sep 13 20:01:36 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 13 Sep 2023 20:01:36 +0200
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <212669f7-7d3d-0886-c063-9698d55c9f8b@gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <CABcYAdKPoWZsTQ1amzkGriooOFC62=3mvBcRAZGnqK=Yk4FM9w@mail.gmail.com>
 <212669f7-7d3d-0886-c063-9698d55c9f8b@gmail.com>
Message-ID: <F1819462-2E47-45C2-BDF1-EB0D0E8D761B@gmail.com>

Yes. Old John T. must be turning on his skewer...er, in his grave, I mean.

(I gather he was actually more amicable than that, though.)

- pd

> On 13 Sep 2023, at 16:20 , Ben Bolker <bbolker at gmail.com> wrote:
> 
>  As a side note, I'm curious how often "Tukey test" is misspelled as "Turkey test".
> 
> 
> Googling '"turkey test" mean comparison' gives 36.1K results (vs 14.3M for '"tukey test" mean comparison" ...
> 
> 
> 
> On 2023-09-13 10:02 a.m., Richard O'Keefe wrote:
>>> d <- read.table("data.txt", TRUE)
>>> cor(d[, 3:6])
>>      VAR1 VAR2 VAR3 VAR4
>> VAR1    1    1    1    1
>> VAR2    1    1    1    1
>> VAR3    1    1    1    1
>> VAR4    1    1    1    1
>> VAR1 to VAR4 are, up to linear scaling,
>> exactly the same variable.  Why is that?
>> On Wed, 13 Sept 2023 at 07:38, Loop Vinyl <loopvinyl at gmail.com> wrote:
>>> I would like to produce the attached graph (graph1) with the R package
>>> agricolae, could someone give me an example with the attached data (data)?
>>> 
>>> I expect an adapted graph (graph2) with the data (data)
>>> 
>>> Best regards
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>> 
>> 	[[alternative HTML version deleted]]
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Dr. Benjamin Bolker
> Professor, Mathematics & Statistics and Biology, McMaster University
> Director, School of Computational Science and Engineering
> (Acting) Graduate chair, Mathematics & Statistics
> > E-mail is sent at my convenience; I don't expect replies outside of working hours.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From kev|n @end|ng |rom zembower@org  Wed Sep 13 20:04:48 2023
From: kev|n @end|ng |rom zembower@org (=?UTF-8?Q?Kevin_Zembower?=)
Date: Wed, 13 Sep 2023 18:04:48 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org> 
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com> 
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com> 
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org> 
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
 <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <064c9bd2ae0b5d255828817a71118a0edf26a846.camel@zembower.org>
Message-ID: <0100018a8fb797a6-d37a6794-c181-4981-b451-1ceafff9a574-000000@email.amazonses.com>

Well, I looked for this, on both the NWS and WeatherUnderground, but
couldn't find what I was looking for. Didn't check Weather.com, but if
you can find a chart of the average high and low temperatures in Ely,
MN between about the middle of September to the middle of October, I'll
buy you a beer.

-Kevin

On Wed, 2023-09-13 at 17:39 +0000, Ebert,Timothy Aaron wrote:
> I admire the dedication to R and data science, but the Weather
> Channel might be a simpler approach. Weather.com. I can search for
> (city name) and either weather (current values) or climate. It
> depends on how far away the trip will be.
> 
> -----Original Message-----
> From: Kevin Zembower <kevin at zembower.org> 
> Sent: Wednesday, September 13, 2023 1:22 PM
> To: Richard O'Keefe <raoknz at gmail.com>; Ebert,Timothy Aaron
> <tebert at ufl.edu>
> Cc: r-help at r-project.org
> Subject: Re: [R] Help with plotting and date-times for climate data
> 
> [External Email]
> 
> Tim, Richard, y'all are reading too much into this. I believe that
> TMAX is the high temperature of the day, and TMIN is the low. I'm
> trying to compute the average or median high and low temperatures for
> the data I have (2011 to present). I'm going on a trip to this area,
> and want to know how to pack.
> 
> Thanks for your interest.
> 
> -Kevin
> 
> On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> > I am well aware of the physiological implications of temperature,
> > and 
> > that is *why* I view recorded TMIN and TMAX at a single point with
> > an 
> > extremely jaundiced eye.? TMAX at shoulder height has very little 
> > relevance to an insect living in grass, for example.? And if TMAX
> > is 
> > sustained for one second, that has very different consequences from
> > if 
> > TMAX is sustained for five minutes.? I can see the usefulness of 
> > "proportion of day above Thi/below Tlo", but that is quite
> > different.
> > 
> > OK, so my interest in weather data was mainly based around water 
> > management: precipitation, evaporation, herd and crop water needs, 
> > that kind of thing.? And the first thing you learn from that 
> > experience is that ANY kind of single-point summary is seriously 
> > misleading.
> > 
> > Let's end this digression.
> > 
> > 
> > On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu>
> > wrote:
> > > I had the same question.
> > > However, I can partly answer the off-topic question. Min and max
> > > can 
> > > be important as lower and upper development thresholds. Below the
> > > min no growth or development occur because reaction rates are too
> > > slow to enable such. Above max, temperatures are too hot.
> > > Protein function is impaired, and systems stop functioning. There
> > > is 
> > > a considerable range between where systems shut down (but
> > > recover) and tissue death.
> > > In a simple form the growth and physiological stage of plants, 
> > > insects, and many others, can be modeled as a function of 
> > > temperature. These are often called growing degree day models (or
> > > some version of that). This is number of thermal units needed for
> > > the organism to develop to the next stage (e.g. instar for an 
> > > insect, or fruit/flower formation for a plant). However, better 
> > > accuracy is obtained if the model includes both min and max 
> > > thresholds.
> > > 
> > > All I have done is provide an example where min and max could
> > > have a 
> > > real world use. I use max(temp) over some interval and then
> > > update 
> > > an accumulated thermal units variable based on the outcome.
> > > That detail is not evident in the original request.
> > > 
> > > Tim
> > > 
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard 
> > > O'Keefe
> > > Sent: Wednesday, September 13, 2023 9:58 AM
> > > To: Kevin Zembower <kevin at zembower.org>
> > > Cc: r-help at r-project.org
> > > Subject: Re: [R] Help with plotting and date-times for climate
> > > data
> > > 
> > > [External Email]
> > > 
> > > Off-topic, but what is a "mean temperature max"
> > > and what good would it do you to know you if you did?
> > > I've been looking at a lot of weather station data and for no 
> > > question I've ever had (except "would the newspapers get excited 
> > > about this") was "max" (or min) the answer.? Considering the way 
> > > that temperature can change by several degrees in a few minutes,
> > > or 
> > > a few metres -- I meant horizontally when I wrote that, but as
> > > you 
> > > know your head and feet don't experience the same temperature,
> > > again 
> > > by more than one degree -- I am at something of a loss to ascribe
> > > much practical significance to TMAX.? Are you sure this is the 
> > > analysis you want to do?? Is this the most informative data you
> > > can 
> > > get?
> > > 
> > > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help < 
> > > r-help at r-project.org> wrote:
> > > 
> > > > Hello,
> > > > 
> > > > I'm trying to calculate the mean temperature max from a file of
> > > > climate date, and plot it over a range of days in the year.
> > > > I've 
> > > > downloaded the data, and cleaned it up the way I think it
> > > > should 
> > > > be.
> > > > However, when I plot it, the geom_smooth line doesn't show up.
> > > > I 
> > > > think that's because my x axis is characters or factors. Here's
> > > > what I have so far:
> > > > ========================================
> > > > library(tidyverse)
> > > > 
> > > > data <- read_csv("Ely_MN_Weather.csv")
> > > > 
> > > > start_day = yday(as_date("2023-09-22")) end_day =
> > > > yday(as_date("2023-10-15"))
> > > > 
> > > > d <- as_tibble(data) %>%
> > > > ???? select(DATE,TMAX,TMIN) %>%
> > > > ???? mutate(DATE = as_date(DATE),
> > > > ??????????? yday = yday(DATE),
> > > > ??????????? md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > > > ??????????? ) %>%
> > > > ???? filter(yday >= start_day & yday <= end_day) %>%
> > > > ???? mutate(md = as.factor(md))
> > > > 
> > > > d_sum <- d %>%
> > > > ???? group_by(md) %>%
> > > > ???? summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > > 
> > > > ## Here's the filtered data:
> > > > dput(d_sum)
> > > > 
> > > > > structure(list(md = structure(1:25, levels = c("09-21", "09- 
> > > > > 22",
> > > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29", 
> > > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06", 
> > > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13", 
> > > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65, 
> > > > 62.2222222222222, 61.3, 63.8888888888889, 64.3,
> > > > 60.1111111111111, 
> > > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5,
> > > > 59.5555555555556, 
> > > > 61.5555555555556, 59.4444444444444, 58.7777777777778, 
> > > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57, 
> > > > 55.4444444444444, 49.7777777777778, 48.75, 43.6666666666667)), 
> > > > class = c("tbl_df", "tbl", "data.frame"
> > > > ), row.names = c(NA, -25L))
> > > > > 
> > > > ggplot(data = d_sum, aes(x = md)) +
> > > > ???? geom_point(aes(y = tmax_mean, color = "blue")) +
> > > > ???? geom_smooth(aes(y = tmax_mean, color = "blue")) 
> > > > =====================================
> > > > My questions are:
> > > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > > 2. I don't think I'm handling the month and day combination 
> > > > correctly.
> > > > Is there a way to encode month and day (but not year) as a
> > > > date?
> > > > 3. (Minor point) Why does my graph of tmax_mean come out red
> > > > when 
> > > > I specify "blue"?
> > > > 
> > > > Thanks for any advice or guidance you can offer. I really 
> > > > appreciate the expertise of this group.
> > > > 
> > > > -Kevin
> > > > 
> > > > ______________________________________________
> > > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more,
> > > > see 
> > > > https://stat/
> > > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a623
> > > > 31
> > > > e1b84
> > > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiM
> > > > C4
> > > > wLjAw
> > > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C
> > > > %7
> > > > C&sda
> > > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserve
> > > > d=
> > > > 0
> > > > PLEASE do read the posting guide
> > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fw
> > > > ww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7C7379ecec6a1e42280d160
> > > > 8db
> > > > b47df5e7%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302225
> > > > 313
> > > > 579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2lu
> > > > MzI
> > > > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=9U5h9tWTi
> > > > mMo
> > > > TGLnHvHCufVzw%2Bptd5m4prhLGwPYzx8%3D&reserved=0
> > > > -project.org%2Fposting-
> > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b
> > > > 84
> > > > %7C0%
> > > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLj
> > > > Aw
> > > > MDAiL
> > > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&s
> > > > da
> > > > ta=zR
> > > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > > 
> > > 
> > > ??????? [[alternative HTML version deleted]]
> > > 
> > > ______________________________________________
> > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more, see
> > > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst
> > > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > help&data=05%7C01%7Ctebert%40ufl
> > > .edu%7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a6
> > > 233
> > > 1e1b84%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWI
> > > joi
> > > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000
> > > %7C
> > > %7C%7C&sdata=2Chr1XJ6IqitN92naJMKy%2FTl4QUfxM4hstlQBtr1JUs%3D&res
> > > erv
> > > ed=0
> > > PLEASE do read the posting guide
> > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww
> > > .r-project.org%2Fposting-
> > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > > 7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a62331e
> > > 1b8
> > > 4%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC
> > > 4wL
> > > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7
> > > C%7
> > > C&sdata=e3eVmipjkORF5tGjzkla9AcvQ7c6VJR1nrSJYxFJaAM%3D&reserved=0
> > > and provide commented, minimal, self-contained, reproducible
> > > code.
> 
> 




From tebert @end|ng |rom u||@edu  Wed Sep 13 20:21:26 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 13 Sep 2023 18:21:26 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8fb797a6-d37a6794-c181-4981-b451-1ceafff9a574-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org>
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
 <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <064c9bd2ae0b5d255828817a71118a0edf26a846.camel@zembower.org>
 <0100018a8fb797a6-d37a6794-c181-4981-b451-1ceafff9a574-000000@email.amazonses.com>
Message-ID: <CH3PR22MB4514B086315C3C392B807BBCCFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>

Hi Kevin,

https://weatherspark.com/y/11610/Average-Weather-in-Ely-Minnesota-United-States-Year-Round
Just scroll down. I think what you are looking for is the first graph, but there are about a dozen other graphs on various meteorological metrics. 
       
       Another option would be to use larger cities (Duluth, International Falls, Thunder Bay) and take a metal average. There is a lake effect for two of these more than the other. 
       
       All good?
Tim

-----Original Message-----
From: Kevin Zembower <kevin at zembower.org> 
Sent: Wednesday, September 13, 2023 2:05 PM
To: Ebert,Timothy Aaron <tebert at ufl.edu>; Richard O'Keefe <raoknz at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] Help with plotting and date-times for climate data

[External Email]

Well, I looked for this, on both the NWS and WeatherUnderground, but couldn't find what I was looking for. Didn't check Weather.com, but if you can find a chart of the average high and low temperatures in Ely, MN between about the middle of September to the middle of October, I'll buy you a beer.

-Kevin

On Wed, 2023-09-13 at 17:39 +0000, Ebert,Timothy Aaron wrote:
> I admire the dedication to R and data science, but the Weather Channel 
> might be a simpler approach. Weather.com. I can search for (city name) 
> and either weather (current values) or climate. It depends on how far 
> away the trip will be.
>
> -----Original Message-----
> From: Kevin Zembower <kevin at zembower.org>
> Sent: Wednesday, September 13, 2023 1:22 PM
> To: Richard O'Keefe <raoknz at gmail.com>; Ebert,Timothy Aaron 
> <tebert at ufl.edu>
> Cc: r-help at r-project.org
> Subject: Re: [R] Help with plotting and date-times for climate data
>
> [External Email]
>
> Tim, Richard, y'all are reading too much into this. I believe that 
> TMAX is the high temperature of the day, and TMIN is the low. I'm 
> trying to compute the average or median high and low temperatures for 
> the data I have (2011 to present). I'm going on a trip to this area, 
> and want to know how to pack.
>
> Thanks for your interest.
>
> -Kevin
>
> On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> > I am well aware of the physiological implications of temperature, 
> > and that is *why* I view recorded TMIN and TMAX at a single point 
> > with an extremely jaundiced eye.  TMAX at shoulder height has very 
> > little relevance to an insect living in grass, for example.  And if 
> > TMAX is sustained for one second, that has very different 
> > consequences from if TMAX is sustained for five minutes.  I can see 
> > the usefulness of "proportion of day above Thi/below Tlo", but that 
> > is quite different.
> >
> > OK, so my interest in weather data was mainly based around water
> > management: precipitation, evaporation, herd and crop water needs, 
> > that kind of thing.  And the first thing you learn from that 
> > experience is that ANY kind of single-point summary is seriously 
> > misleading.
> >
> > Let's end this digression.
> >
> >
> > On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu>
> > wrote:
> > > I had the same question.
> > > However, I can partly answer the off-topic question. Min and max 
> > > can be important as lower and upper development thresholds. Below 
> > > the min no growth or development occur because reaction rates are 
> > > too slow to enable such. Above max, temperatures are too hot.
> > > Protein function is impaired, and systems stop functioning. There 
> > > is a considerable range between where systems shut down (but
> > > recover) and tissue death.
> > > In a simple form the growth and physiological stage of plants, 
> > > insects, and many others, can be modeled as a function of 
> > > temperature. These are often called growing degree day models (or 
> > > some version of that). This is number of thermal units needed for 
> > > the organism to develop to the next stage (e.g. instar for an 
> > > insect, or fruit/flower formation for a plant). However, better 
> > > accuracy is obtained if the model includes both min and max 
> > > thresholds.
> > >
> > > All I have done is provide an example where min and max could have 
> > > a real world use. I use max(temp) over some interval and then 
> > > update an accumulated thermal units variable based on the outcome.
> > > That detail is not evident in the original request.
> > >
> > > Tim
> > >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard
> > > O'Keefe
> > > Sent: Wednesday, September 13, 2023 9:58 AM
> > > To: Kevin Zembower <kevin at zembower.org>
> > > Cc: r-help at r-project.org
> > > Subject: Re: [R] Help with plotting and date-times for climate
> > > data
> > >
> > > [External Email]
> > >
> > > Off-topic, but what is a "mean temperature max"
> > > and what good would it do you to know you if you did?
> > > I've been looking at a lot of weather station data and for no
> > > question I've ever had (except "would the newspapers get excited
> > > about this") was "max" (or min) the answer.  Considering the way
> > > that temperature can change by several degrees in a few minutes,
> > > or
> > > a few metres -- I meant horizontally when I wrote that, but as
> > > you
> > > know your head and feet don't experience the same temperature,
> > > again
> > > by more than one degree -- I am at something of a loss to ascribe
> > > much practical significance to TMAX.  Are you sure this is the
> > > analysis you want to do?  Is this the most informative data you
> > > can
> > > get?
> > >
> > > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
> > > r-help at r-project.org> wrote:
> > >
> > > > Hello,
> > > >
> > > > I'm trying to calculate the mean temperature max from a file of
> > > > climate date, and plot it over a range of days in the year.
> > > > I've
> > > > downloaded the data, and cleaned it up the way I think it
> > > > should
> > > > be.
> > > > However, when I plot it, the geom_smooth line doesn't show up.
> > > > I
> > > > think that's because my x axis is characters or factors. Here's
> > > > what I have so far:
> > > > ========================================
> > > > library(tidyverse)
> > > >
> > > > data <- read_csv("Ely_MN_Weather.csv")
> > > >
> > > > start_day = yday(as_date("2023-09-22")) end_day =
> > > > yday(as_date("2023-10-15"))
> > > >
> > > > d <- as_tibble(data) %>%
> > > >      select(DATE,TMAX,TMIN) %>%
> > > >      mutate(DATE = as_date(DATE),
> > > >             yday = yday(DATE),
> > > >             md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > > >             ) %>%
> > > >      filter(yday >= start_day & yday <= end_day) %>%
> > > >      mutate(md = as.factor(md))
> > > >
> > > > d_sum <- d %>%
> > > >      group_by(md) %>%
> > > >      summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > >
> > > > ## Here's the filtered data:
> > > > dput(d_sum)
> > > >
> > > > > structure(list(md = structure(1:25, levels = c("09-21", "09-
> > > > > 22",
> > > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> > > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> > > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> > > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > > > 62.2222222222222, 61.3, 63.8888888888889, 64.3,
> > > > 60.1111111111111,
> > > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5,
> > > > 59.5555555555556,
> > > > 61.5555555555556, 59.4444444444444, 58.7777777777778,
> > > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57,
> > > > 55.4444444444444, 49.7777777777778, 48.75, 43.6666666666667)),
> > > > class = c("tbl_df", "tbl", "data.frame"
> > > > ), row.names = c(NA, -25L))
> > > > >
> > > > ggplot(data = d_sum, aes(x = md)) +
> > > >      geom_point(aes(y = tmax_mean, color = "blue")) +
> > > >      geom_smooth(aes(y = tmax_mean, color = "blue"))
> > > > =====================================
> > > > My questions are:
> > > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > > 2. I don't think I'm handling the month and day combination
> > > > correctly.
> > > > Is there a way to encode month and day (but not year) as a
> > > > date?
> > > > 3. (Minor point) Why does my graph of tmax_mean come out red
> > > > when
> > > > I specify "blue"?
> > > >
> > > > Thanks for any advice or guidance you can offer. I really
> > > > appreciate the expertise of this group.
> > > >
> > > > -Kevin
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> > > > see
> > > > https://stat/
> > > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a623
> > > > 31
> > > > e1b84
> > > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiM
> > > > C4
> > > > wLjAw
> > > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C
> > > > %7
> > > > C&sda
> > > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserve
> > > > d=
> > > > 0
> > > > PLEASE do read the posting guide
> > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fw%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250923845973%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=XWPxxPOcjINJT48scUUSPmrnIir9fkFC0CR9DDOhNxg%3D&reserved=0
> > > > ww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7C7379ecec6a1e42280d160
> > > > 8db
> > > > b47df5e7%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302225
> > > > 313
> > > > 579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2lu
> > > > MzI
> > > > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=9U5h9tWTi
> > > > mMo
> > > > TGLnHvHCufVzw%2Bptd5m4prhLGwPYzx8%3D&reserved=0
> > > > -project.org%2Fposting-
> > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b
> > > > 84
> > > > %7C0%
> > > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLj
> > > > Aw
> > > > MDAiL
> > > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&s
> > > > da
> > > > ta=zR
> > > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > >
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250923845973%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=DXwI7zyC7Q2h1XOy3O6S5j1XLOrfITRXp04zmndRLP4%3D&reserved=0
> > > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > help&data=05%7C01%7Ctebert%40ufl
> > > .edu%7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a6
> > > 233
> > > 1e1b84%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWI
> > > joi
> > > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000
> > > %7C
> > > %7C%7C&sdata=2Chr1XJ6IqitN92naJMKy%2FTl4QUfxM4hstlQBtr1JUs%3D&res
> > > erv
> > > ed=0
> > > PLEASE do read the posting guide
> > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250924002238%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=1ptyKs14CpDG7AfSRXTTTPMhKB%2BwxNAIuxDAjbHXreg%3D&reserved=0
> > > .r-project.org%2Fposting-
> > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > > 7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a62331e
> > > 1b8
> > > 4%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC
> > > 4wL
> > > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7
> > > C%7
> > > C&sdata=e3eVmipjkORF5tGjzkla9AcvQ7c6VJR1nrSJYxFJaAM%3D&reserved=0
> > > and provide commented, minimal, self-contained, reproducible
> > > code.
>
>


From kev|n @end|ng |rom zembower@org  Wed Sep 13 21:25:40 2023
From: kev|n @end|ng |rom zembower@org (=?UTF-8?Q?Kevin_Zembower?=)
Date: Wed, 13 Sep 2023 19:25:40 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <CH3PR22MB4514B086315C3C392B807BBCCFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org> 
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com> 
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com> 
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org> 
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
 <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <064c9bd2ae0b5d255828817a71118a0edf26a846.camel@zembower.org> 
 <0100018a8fb797a6-d37a6794-c181-4981-b451-1ceafff9a574-000000@email.amazonses.com>
 <CH3PR22MB4514B086315C3C392B807BBCCFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <dcaf76940ecd2f70e6d6a67cb7445492bd7e4e40.camel@zembower.org>
Message-ID: <0100018a9001a0fd-52773e2f-6c1b-47e1-a482-c12a54a4e30a-000000@email.amazonses.com>

Hi, Tim,

I actually did see this chart when I was doing some research, but
rejected it because it was difficult to interpolate the graph for the
three week period I was interested it. I didn't discover until just now
that I could click on the labels on the x-axis to expand the graph.
Unfortunately, downloading the data from this site costs $95/month.?

Also, I found the raw data (from the NWS, for free) and decided to
exercise my R skills to see if I could produce the exact graph I
wanted.

Thanks for taking the time to research this.

-Kevin

On Wed, 2023-09-13 at 18:21 +0000, Ebert,Timothy Aaron wrote:
> Hi Kevin,
> 
> https://weatherspark.com/y/11610/Average-Weather-in-Ely-Minnesota-United-States-Year-Round
> Just scroll down. I think what you are looking for is the first
> graph, but there are about a dozen other graphs on various
> meteorological metrics. 
> ?????? 
> ?????? Another option would be to use larger cities (Duluth,
> International Falls, Thunder Bay) and take a metal average. There is
> a lake effect for two of these more than the other. 
> ?????? 
> ?????? All good?
> Tim
> 
> -----Original Message-----
> From: Kevin Zembower <kevin at zembower.org> 
> Sent: Wednesday, September 13, 2023 2:05 PM
> To: Ebert,Timothy Aaron <tebert at ufl.edu>; Richard O'Keefe
> <raoknz at gmail.com>
> Cc: r-help at r-project.org
> Subject: Re: [R] Help with plotting and date-times for climate data
> 
> [External Email]
> 
> Well, I looked for this, on both the NWS and WeatherUnderground, but
> couldn't find what I was looking for. Didn't check Weather.com, but
> if you can find a chart of the average high and low temperatures in
> Ely, MN between about the middle of September to the middle of
> October, I'll buy you a beer.
> 
> -Kevin
> 
> On Wed, 2023-09-13 at 17:39 +0000, Ebert,Timothy Aaron wrote:
> > I admire the dedication to R and data science, but the Weather
> > Channel 
> > might be a simpler approach. Weather.com. I can search for (city
> > name) 
> > and either weather (current values) or climate. It depends on how
> > far 
> > away the trip will be.
> > 
> > -----Original Message-----
> > From: Kevin Zembower <kevin at zembower.org>
> > Sent: Wednesday, September 13, 2023 1:22 PM
> > To: Richard O'Keefe <raoknz at gmail.com>; Ebert,Timothy Aaron 
> > <tebert at ufl.edu>
> > Cc: r-help at r-project.org
> > Subject: Re: [R] Help with plotting and date-times for climate data
> > 
> > [External Email]
> > 
> > Tim, Richard, y'all are reading too much into this. I believe that 
> > TMAX is the high temperature of the day, and TMIN is the low. I'm 
> > trying to compute the average or median high and low temperatures
> > for 
> > the data I have (2011 to present). I'm going on a trip to this
> > area, 
> > and want to know how to pack.
> > 
> > Thanks for your interest.
> > 
> > -Kevin
> > 
> > On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> > > I am well aware of the physiological implications of temperature,
> > > and that is *why* I view recorded TMIN and TMAX at a single point
> > > with an extremely jaundiced eye.? TMAX at shoulder height has
> > > very 
> > > little relevance to an insect living in grass, for example.? And
> > > if 
> > > TMAX is sustained for one second, that has very different 
> > > consequences from if TMAX is sustained for five minutes.? I can
> > > see 
> > > the usefulness of "proportion of day above Thi/below Tlo", but
> > > that 
> > > is quite different.
> > > 
> > > OK, so my interest in weather data was mainly based around water
> > > management: precipitation, evaporation, herd and crop water
> > > needs, 
> > > that kind of thing.? And the first thing you learn from that 
> > > experience is that ANY kind of single-point summary is seriously 
> > > misleading.
> > > 
> > > Let's end this digression.
> > > 
> > > 
> > > On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron
> > > <tebert at ufl.edu>
> > > wrote:
> > > > I had the same question.
> > > > However, I can partly answer the off-topic question. Min and
> > > > max 
> > > > can be important as lower and upper development thresholds.
> > > > Below 
> > > > the min no growth or development occur because reaction rates
> > > > are 
> > > > too slow to enable such. Above max, temperatures are too hot.
> > > > Protein function is impaired, and systems stop functioning.
> > > > There 
> > > > is a considerable range between where systems shut down (but
> > > > recover) and tissue death.
> > > > In a simple form the growth and physiological stage of plants, 
> > > > insects, and many others, can be modeled as a function of 
> > > > temperature. These are often called growing degree day models
> > > > (or 
> > > > some version of that). This is number of thermal units needed
> > > > for 
> > > > the organism to develop to the next stage (e.g. instar for an 
> > > > insect, or fruit/flower formation for a plant). However, better
> > > > accuracy is obtained if the model includes both min and max 
> > > > thresholds.
> > > > 
> > > > All I have done is provide an example where min and max could
> > > > have 
> > > > a real world use. I use max(temp) over some interval and then 
> > > > update an accumulated thermal units variable based on the
> > > > outcome.
> > > > That detail is not evident in the original request.
> > > > 
> > > > Tim
> > > > 
> > > > -----Original Message-----
> > > > From: R-help <r-help-bounces at r-project.org> On Behalf Of
> > > > Richard
> > > > O'Keefe
> > > > Sent: Wednesday, September 13, 2023 9:58 AM
> > > > To: Kevin Zembower <kevin at zembower.org>
> > > > Cc: r-help at r-project.org
> > > > Subject: Re: [R] Help with plotting and date-times for climate
> > > > data
> > > > 
> > > > [External Email]
> > > > 
> > > > Off-topic, but what is a "mean temperature max"
> > > > and what good would it do you to know you if you did?
> > > > I've been looking at a lot of weather station data and for no
> > > > question I've ever had (except "would the newspapers get
> > > > excited
> > > > about this") was "max" (or min) the answer.? Considering the
> > > > way
> > > > that temperature can change by several degrees in a few
> > > > minutes,
> > > > or
> > > > a few metres -- I meant horizontally when I wrote that, but as
> > > > you
> > > > know your head and feet don't experience the same temperature,
> > > > again
> > > > by more than one degree -- I am at something of a loss to
> > > > ascribe
> > > > much practical significance to TMAX.? Are you sure this is the
> > > > analysis you want to do?? Is this the most informative data you
> > > > can
> > > > get?
> > > > 
> > > > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
> > > > r-help at r-project.org> wrote:
> > > > 
> > > > > Hello,
> > > > > 
> > > > > I'm trying to calculate the mean temperature max from a file
> > > > > of
> > > > > climate date, and plot it over a range of days in the year.
> > > > > I've
> > > > > downloaded the data, and cleaned it up the way I think it
> > > > > should
> > > > > be.
> > > > > However, when I plot it, the geom_smooth line doesn't show
> > > > > up.
> > > > > I
> > > > > think that's because my x axis is characters or factors.
> > > > > Here's
> > > > > what I have so far:
> > > > > ========================================
> > > > > library(tidyverse)
> > > > > 
> > > > > data <- read_csv("Ely_MN_Weather.csv")
> > > > > 
> > > > > start_day = yday(as_date("2023-09-22")) end_day =
> > > > > yday(as_date("2023-10-15"))
> > > > > 
> > > > > d <- as_tibble(data) %>%
> > > > > ???? select(DATE,TMAX,TMIN) %>%
> > > > > ???? mutate(DATE = as_date(DATE),
> > > > > ??????????? yday = yday(DATE),
> > > > > ??????????? md = sprintf("%02d-%02d", month(DATE),
> > > > > mday(DATE))
> > > > > ??????????? ) %>%
> > > > > ???? filter(yday >= start_day & yday <= end_day) %>%
> > > > > ???? mutate(md = as.factor(md))
> > > > > 
> > > > > d_sum <- d %>%
> > > > > ???? group_by(md) %>%
> > > > > ???? summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > > > 
> > > > > ## Here's the filtered data:
> > > > > dput(d_sum)
> > > > > 
> > > > > > structure(list(md = structure(1:25, levels = c("09-21",
> > > > > > "09-
> > > > > > 22",
> > > > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-
> > > > > 29",
> > > > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-
> > > > > 06",
> > > > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-
> > > > > 13",
> > > > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > > > > 62.2222222222222, 61.3, 63.8888888888889, 64.3,
> > > > > 60.1111111111111,
> > > > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5,
> > > > > 59.5555555555556,
> > > > > 61.5555555555556, 59.4444444444444, 58.7777777777778,
> > > > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57,
> > > > > 55.4444444444444, 49.7777777777778, 48.75,
> > > > > 43.6666666666667)),
> > > > > class = c("tbl_df", "tbl", "data.frame"
> > > > > ), row.names = c(NA, -25L))
> > > > > > 
> > > > > ggplot(data = d_sum, aes(x = md)) +
> > > > > ???? geom_point(aes(y = tmax_mean, color = "blue")) +
> > > > > ???? geom_smooth(aes(y = tmax_mean, color = "blue"))
> > > > > =====================================
> > > > > My questions are:
> > > > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > > > 2. I don't think I'm handling the month and day combination
> > > > > correctly.
> > > > > Is there a way to encode month and day (but not year) as a
> > > > > date?
> > > > > 3. (Minor point) Why does my graph of tmax_mean come out red
> > > > > when
> > > > > I specify "blue"?
> > > > > 
> > > > > Thanks for any advice or guidance you can offer. I really
> > > > > appreciate the expertise of this group.
> > > > > 
> > > > > -Kevin
> > > > > 
> > > > > ______________________________________________
> > > > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more,
> > > > > see
> > > > > https://stat/
> > > > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a6
> > > > > 23
> > > > > 31
> > > > > e1b84
> > > > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjo
> > > > > iM
> > > > > C4
> > > > > wLjAw
> > > > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%
> > > > > 7C
> > > > > %7
> > > > > C&sda
> > > > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reser
> > > > > ve
> > > > > d=
> > > > > 0
> > > > > PLEASE do read the posting guide
> > > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fw%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250923845973%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=XWPxxPOcjINJT48scUUSPmrnIir9fkFC0CR9DDOhNxg%3D&reserved=0
> > > > > ww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7C7379ecec6a1e42280d1
> > > > > 60
> > > > > 8db
> > > > > b47df5e7%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6383022
> > > > > 25
> > > > > 313
> > > > > 579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2
> > > > > lu
> > > > > MzI
> > > > > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=9U5h9tW
> > > > > Ti
> > > > > mMo
> > > > > TGLnHvHCufVzw%2Bptd5m4prhLGwPYzx8%3D&reserved=0
> > > > > -project.org%2Fposting-
> > > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e
> > > > > 1b
> > > > > 84
> > > > > %7C0%
> > > > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4w
> > > > > Lj
> > > > > Aw
> > > > > MDAiL
> > > > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C
> > > > > &s
> > > > > da
> > > > > ta=zR
> > > > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > > > and provide commented, minimal, self-contained, reproducible
> > > > > code.
> > > > > 
> > > > 
> > > > ??????? [[alternative HTML version deleted]]
> > > > 
> > > > ______________________________________________
> > > > R-help at r-project.org?mailing list -- To UNSUBSCRIBE and more,
> > > > see
> > > > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fst%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250923845973%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=DXwI7zyC7Q2h1XOy3O6S5j1XLOrfITRXp04zmndRLP4%3D&reserved=0
> > > > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > help&data=05%7C01%7Ctebert%40ufl
> > > > .edu%7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60
> > > > a6
> > > > 233
> > > > 1e1b84%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJ
> > > > WI
> > > > joi
> > > > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C30
> > > > 00
> > > > %7C
> > > > %7C%7C&sdata=2Chr1XJ6IqitN92naJMKy%2FTl4QUfxM4hstlQBtr1JUs%3D&r
> > > > es
> > > > erv
> > > > ed=0
> > > > PLEASE do read the posting guide
> > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww%2F&data=05%7C01%7Ctebert%40ufl.edu%7Ceb3203dbe3604b493e8508dbb483ec04%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C638302250924002238%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=1ptyKs14CpDG7AfSRXTTTPMhKB%2BwxNAIuxDAjbHXreg%3D&reserved=0
> > > > .r-project.org%2Fposting-
> > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > > > 7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a6233
> > > > 1e
> > > > 1b8
> > > > 4%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoi
> > > > MC
> > > > 4wL
> > > > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
> > > > %7
> > > > C%7
> > > > C&sdata=e3eVmipjkORF5tGjzkla9AcvQ7c6VJR1nrSJYxFJaAM%3D&reserved
> > > > =0
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > 
> > 
> 
> 




From tebert @end|ng |rom u||@edu  Wed Sep 13 21:49:14 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 13 Sep 2023 19:49:14 +0000
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a9001a0fd-52773e2f-6c1b-47e1-a482-c12a54a4e30a-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org>
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
 <CH3PR22MB45141F81544FB7752F7A1304CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <064c9bd2ae0b5d255828817a71118a0edf26a846.camel@zembower.org>
 <0100018a8fb797a6-d37a6794-c181-4981-b451-1ceafff9a574-000000@email.amazonses.com>
 <CH3PR22MB4514B086315C3C392B807BBCCFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <dcaf76940ecd2f70e6d6a67cb7445492bd7e4e40.camel@zembower.org>
 <0100018a9001a0fd-52773e2f-6c1b-47e1-a482-c12a54a4e30a-000000@email.amazonses.com>
Message-ID: <CH3PR22MB451459415CD9ACDBED1E25F7CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>

Dear Kevin,

You could try the National Weather Service. I can get "International Falls" and other locations, though Ely is not specifically listed. 

h**ps://www.weather.gov/wrh/climate?wfo=dlh
Replace the ** with tt and it should give the right link.

There is a menu.
Select your location,
Select a product (I selected temperature)
Select a year, and period of interest.
Select go.

If you scroll over the figure a popup with numbers appears.

The weather data in R is possible as well.
I would start by filtering the data to remove dates outside my range of interest. Then extract the date (say Day). Group_by the day and apply a max function to the grouped data. Then plot the result.

Tim

-----Original Message-----
From: Kevin Zembower <kevin at zembower.org> 
Sent: Wednesday, September 13, 2023 3:26 PM
To: Ebert,Timothy Aaron <tebert at ufl.edu>; Richard O'Keefe <raoknz at gmail.com>
Cc: r-help at r-project.org
Subject: Re: [R] Help with plotting and date-times for climate data

[External Email]

Hi, Tim,

I actually did see this chart when I was doing some research, but rejected it because it was difficult to interpolate the graph for the three week period I was interested it. I didn't discover until just now that I could click on the labels on the x-axis to expand the graph.
Unfortunately, downloading the data from this site costs $95/month.

Also, I found the raw data (from the NWS, for free) and decided to exercise my R skills to see if I could produce the exact graph I wanted.

Thanks for taking the time to research this.

-Kevin

On Wed, 2023-09-13 at 18:21 +0000, Ebert,Timothy Aaron wrote:
> Hi Kevin,
>
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fweat
> herspark.com%2Fy%2F11610%2FAverage-Weather-in-Ely-Minnesota-United-Sta
> tes-Year-Round&data=05%7C01%7Ctebert%40ufl.edu%7C3c23bc8b4af14d747e2f0
> 8dbb48f37af%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6383022994410
> 38779%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJB
> TiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=CE%2FYdcJbtKhZZ6VeRlI
> 55gEfwy8m2i1yhO9iUgB%2BkUc%3D&reserved=0
> Just scroll down. I think what you are looking for is the first graph, 
> but there are about a dozen other graphs on various meteorological 
> metrics.
>
>        Another option would be to use larger cities (Duluth, 
> International Falls, Thunder Bay) and take a metal average. There is a 
> lake effect for two of these more than the other.
>
>        All good?
> Tim
>
> -----Original Message-----
> From: Kevin Zembower <kevin at zembower.org>
> Sent: Wednesday, September 13, 2023 2:05 PM
> To: Ebert,Timothy Aaron <tebert at ufl.edu>; Richard O'Keefe 
> <raoknz at gmail.com>
> Cc: r-help at r-project.org
> Subject: Re: [R] Help with plotting and date-times for climate data
>
> [External Email]
>
> Well, I looked for this, on both the NWS and WeatherUnderground, but 
> couldn't find what I was looking for. Didn't check Weather.com, but if 
> you can find a chart of the average high and low temperatures in Ely, 
> MN between about the middle of September to the middle of October, 
> I'll buy you a beer.
>
> -Kevin
>
> On Wed, 2023-09-13 at 17:39 +0000, Ebert,Timothy Aaron wrote:
> > I admire the dedication to R and data science, but the Weather 
> > Channel might be a simpler approach. Weather.com. I can search for 
> > (city
> > name)
> > and either weather (current values) or climate. It depends on how 
> > far away the trip will be.
> >
> > -----Original Message-----
> > From: Kevin Zembower <kevin at zembower.org>
> > Sent: Wednesday, September 13, 2023 1:22 PM
> > To: Richard O'Keefe <raoknz at gmail.com>; Ebert,Timothy Aaron 
> > <tebert at ufl.edu>
> > Cc: r-help at r-project.org
> > Subject: Re: [R] Help with plotting and date-times for climate data
> >
> > [External Email]
> >
> > Tim, Richard, y'all are reading too much into this. I believe that 
> > TMAX is the high temperature of the day, and TMIN is the low. I'm 
> > trying to compute the average or median high and low temperatures 
> > for the data I have (2011 to present). I'm going on a trip to this 
> > area, and want to know how to pack.
> >
> > Thanks for your interest.
> >
> > -Kevin
> >
> > On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> > > I am well aware of the physiological implications of temperature, 
> > > and that is *why* I view recorded TMIN and TMAX at a single point 
> > > with an extremely jaundiced eye.  TMAX at shoulder height has very 
> > > little relevance to an insect living in grass, for example.  And 
> > > if TMAX is sustained for one second, that has very different 
> > > consequences from if TMAX is sustained for five minutes.  I can 
> > > see the usefulness of "proportion of day above Thi/below Tlo", but 
> > > that is quite different.
> > >
> > > OK, so my interest in weather data was mainly based around water
> > > management: precipitation, evaporation, herd and crop water needs, 
> > > that kind of thing.  And the first thing you learn from that 
> > > experience is that ANY kind of single-point summary is seriously 
> > > misleading.
> > >
> > > Let's end this digression.
> > >
> > >
> > > On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron 
> > > <tebert at ufl.edu>
> > > wrote:
> > > > I had the same question.
> > > > However, I can partly answer the off-topic question. Min and max 
> > > > can be important as lower and upper development thresholds.
> > > > Below
> > > > the min no growth or development occur because reaction rates 
> > > > are too slow to enable such. Above max, temperatures are too 
> > > > hot.
> > > > Protein function is impaired, and systems stop functioning.
> > > > There
> > > > is a considerable range between where systems shut down (but
> > > > recover) and tissue death.
> > > > In a simple form the growth and physiological stage of plants, 
> > > > insects, and many others, can be modeled as a function of 
> > > > temperature. These are often called growing degree day models 
> > > > (or some version of that). This is number of thermal units 
> > > > needed for the organism to develop to the next stage (e.g. 
> > > > instar for an insect, or fruit/flower formation for a plant). 
> > > > However, better accuracy is obtained if the model includes both 
> > > > min and max thresholds.
> > > >
> > > > All I have done is provide an example where min and max could 
> > > > have a real world use. I use max(temp) over some interval and 
> > > > then update an accumulated thermal units variable based on the 
> > > > outcome.
> > > > That detail is not evident in the original request.
> > > >
> > > > Tim
> > > >
> > > > -----Original Message-----
> > > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard 
> > > > O'Keefe
> > > > Sent: Wednesday, September 13, 2023 9:58 AM
> > > > To: Kevin Zembower <kevin at zembower.org>
> > > > Cc: r-help at r-project.org
> > > > Subject: Re: [R] Help with plotting and date-times for climate 
> > > > data
> > > >
> > > > [External Email]
> > > >
> > > > Off-topic, but what is a "mean temperature max"
> > > > and what good would it do you to know you if you did?
> > > > I've been looking at a lot of weather station data and for no 
> > > > question I've ever had (except "would the newspapers get excited 
> > > > about this") was "max" (or min) the answer.  Considering the way 
> > > > that temperature can change by several degrees in a few minutes, 
> > > > or a few metres -- I meant horizontally when I wrote that, but 
> > > > as you know your head and feet don't experience the same 
> > > > temperature, again by more than one degree -- I am at something 
> > > > of a loss to ascribe much practical significance to TMAX.  Are 
> > > > you sure this is the analysis you want to do?  Is this the most 
> > > > informative data you can get?
> > > >
> > > > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help < 
> > > > r-help at r-project.org> wrote:
> > > >
> > > > > Hello,
> > > > >
> > > > > I'm trying to calculate the mean temperature max from a file 
> > > > > of climate date, and plot it over a range of days in the year.
> > > > > I've
> > > > > downloaded the data, and cleaned it up the way I think it 
> > > > > should be.
> > > > > However, when I plot it, the geom_smooth line doesn't show up.
> > > > > I
> > > > > think that's because my x axis is characters or factors.
> > > > > Here's
> > > > > what I have so far:
> > > > > ========================================
> > > > > library(tidyverse)
> > > > >
> > > > > data <- read_csv("Ely_MN_Weather.csv")
> > > > >
> > > > > start_day = yday(as_date("2023-09-22")) end_day =
> > > > > yday(as_date("2023-10-15"))
> > > > >
> > > > > d <- as_tibble(data) %>%
> > > > >      select(DATE,TMAX,TMIN) %>%
> > > > >      mutate(DATE = as_date(DATE),
> > > > >             yday = yday(DATE),
> > > > >             md = sprintf("%02d-%02d", month(DATE),
> > > > > mday(DATE))
> > > > >             ) %>%
> > > > >      filter(yday >= start_day & yday <= end_day) %>%
> > > > >      mutate(md = as.factor(md))
> > > > >
> > > > > d_sum <- d %>%
> > > > >      group_by(md) %>%
> > > > >      summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > > >
> > > > > ## Here's the filtered data:
> > > > > dput(d_sum)
> > > > >
> > > > > > structure(list(md = structure(1:25, levels = c("09-21",
> > > > > > "09-
> > > > > > 22",
> > > > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09- 
> > > > > 29", "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", 
> > > > > "10- 06", "10-07", "10-08", "10-09", "10-10", "10-11", 
> > > > > "10-12", "10- 13", "10-14", "10-15"), class = "factor"), 
> > > > > tmax_mean = c(65, 62.2222222222222, 61.3, 63.8888888888889, 
> > > > > 64.3, 60.1111111111111, 62.3, 60.5, 61.9, 61.2, 
> > > > > 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556, 
> > > > > 59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125, 
> > > > > 58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778, 
> > > > > 48.75, 43.6666666666667)), class = c("tbl_df", "tbl", 
> > > > > "data.frame"
> > > > > ), row.names = c(NA, -25L))
> > > > > >
> > > > > ggplot(data = d_sum, aes(x = md)) +
> > > > >      geom_point(aes(y = tmax_mean, color = "blue")) +
> > > > >      geom_smooth(aes(y = tmax_mean, color = "blue")) 
> > > > > =====================================
> > > > > My questions are:
> > > > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > > > 2. I don't think I'm handling the month and day combination 
> > > > > correctly.
> > > > > Is there a way to encode month and day (but not year) as a 
> > > > > date?
> > > > > 3. (Minor point) Why does my graph of tmax_mean come out red 
> > > > > when I specify "blue"?
> > > > >
> > > > > Thanks for any advice or guidance you can offer. I really 
> > > > > appreciate the expertise of this group.
> > > > >
> > > > > -Kevin
> > > > >
> > > > > ______________________________________________
> > > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, 
> > > > > see https://stat/
> > > > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a6
> > > > > 23
> > > > > 31
> > > > > e1b84
> > > > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjo
> > > > > iM
> > > > > C4
> > > > > wLjAw
> > > > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%
> > > > > 7C
> > > > > %7
> > > > > C&sda
> > > > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reser
> > > > > ve
> > > > > d=
> > > > > 0
> > > > > PLEASE do read the posting guide
> > > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F
> > > > > %2Fw%2F&data=05%7C01%7Ctebert%40ufl.edu%7C3c23bc8b4af14d747e2f
> > > > > 08dbb48f37af%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6383
> > > > > 02299441038779%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJ
> > > > > QIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sd
> > > > > ata=ur57aoM0d%2BqyehWf3LSGy9CZGhR4z8fFIuNIUO5n%2FVI%3D&reserve
> > > > > d=0
> > > > > ww.r%2F&data=05%7C01%7Ctebert%40ufl.edu%7C7379ecec6a1e42280d1
> > > > > 60
> > > > > 8db
> > > > > b47df5e7%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C6383022
> > > > > 25
> > > > > 313
> > > > > 579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2
> > > > > lu
> > > > > MzI
> > > > > iLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=9U5h9tW
> > > > > Ti
> > > > > mMo
> > > > > TGLnHvHCufVzw%2Bptd5m4prhLGwPYzx8%3D&reserved=0
> > > > > -project.org%2Fposting-
> > > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e
> > > > > 1b
> > > > > 84
> > > > > %7C0%
> > > > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4w
> > > > > Lj
> > > > > Aw
> > > > > MDAiL
> > > > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C
> > > > > &s
> > > > > da
> > > > > ta=zR
> > > > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > > > and provide commented, minimal, self-contained, reproducible 
> > > > > code.
> > > > >
> > > >
> > > >         [[alternative HTML version deleted]]
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, 
> > > > see
> > > > https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%
> > > > 2Fst%2F&data=05%7C01%7Ctebert%40ufl.edu%7C3c23bc8b4af14d747e2f08
> > > > dbb48f37af%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C63830229
> > > > 9441038779%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV
> > > > 2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Oi95
> > > > xTkSZFL3eYXXQMtbUu1I%2B81w1TqY6%2FCu%2FOu3EUI%3D&reserved=0
> > > > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > help&data=05%7C01%7Ctebert%40ufl
> > > > .edu%7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60
> > > > a6
> > > > 233
> > > > 1e1b84%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJ
> > > > WI
> > > > joi
> > > > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C30
> > > > 00
> > > > %7C
> > > > %7C%7C&sdata=2Chr1XJ6IqitN92naJMKy%2FTl4QUfxM4hstlQBtr1JUs%3D&r
> > > > es
> > > > erv
> > > > ed=0
> > > > PLEASE do read the posting guide
> > > > https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2
> > > > Fwww%2F&data=05%7C01%7Ctebert%40ufl.edu%7C3c23bc8b4af14d747e2f08
> > > > dbb48f37af%7C0d4da0f84a314d76ace60a62331e1b84%7C0%7C0%7C63830229
> > > > 9441038779%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV
> > > > 2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=qefX
> > > > goESXAqxRJO5Hg1iH9uk7PMD3ZMYflhn%2FxCJKkU%3D&reserved=0
> > > > .r-project.org%2Fposting-
> > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%
> > > > 7C7379ecec6a1e42280d1608dbb47df5e7%7C0d4da0f84a314d76ace60a6233
> > > > 1e
> > > > 1b8
> > > > 4%7C0%7C0%7C638302225313579978%7CUnknown%7CTWFpbGZsb3d8eyJWIjoi
> > > > MC
> > > > 4wL
> > > > jAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
> > > > %7
> > > > C%7
> > > > C&sdata=e3eVmipjkORF5tGjzkla9AcvQ7c6VJR1nrSJYxFJaAM%3D&reserved
> > > > =0
> > > > and provide commented, minimal, self-contained, reproducible 
> > > > code.
> >
> >
>
>


From r@oknz @end|ng |rom gm@||@com  Thu Sep 14 08:25:13 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Thu, 14 Sep 2023 18:25:13 +1200
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
 <CABcYAdJ7=bimfYmxg3wkiTJ37Patp2Bp_oMwqN0vn4mQu1XUWA@mail.gmail.com>
 <CH3PR22MB451401B48151FC104867F615CFF0A@CH3PR22MB4514.namprd22.prod.outlook.com>
 <cb8194a9f3d9a60b4291b94892d57ca766e49b80.camel@zembower.org>
 <CABcYAdL-5tpEQxTqLd=hYvFCX2bkQUA6yG7dJhG_BVNXJcPqpw@mail.gmail.com>
 <0100018a8f908717-f9249f56-d24a-43e4-a95d-2f8aa9782982-000000@email.amazonses.com>
Message-ID: <CABcYAdK=0_GvUYpOAKtRQyJMrJhqYmzoOSVGnqjE+Z27TU8MUQ@mail.gmail.com>

I think we all figured out what TMIN and TMAX were.
That's *precisely* why there is a problem.
The "average or median" daily maxima mean practically
nothing.
Let's take where I live, for example.
I'm looking at an official map.  I see temperatures
7.3C, 9.8C, 14C, 14.2C, 14.7C, and 15C.  According to what
is supposed to be the same source on my phone, it's 12C.
All for the same time, and all within a few kilometres.
The temperature that is recorded in the national data set
is taken at the local airport, about 30km away, and generally
about 2 or 3C hotter than other measurements.  (Airport
weather stations notoriously run hot.)  The local weather
station I trust most, run by the Physics department at the
University, says that today's maximum was 20C, but if it
went any higher than 17C where I live (10 minutes away by
car) I shall be very much surprised.

What explains all this?
(1) Altitude.  We're not unusually hilly, but the variation
with altitude is much more than you'd expect from the usual
adiabatic lapse rate.
(2) Proximity to the coast and sea breezes.
(3) Which side of a hill/valley you're on.
(4) Variation in solar irradiance, which is *astonishingly*
patchy (even after averaging out clouds).
Weather is just unspfxably variable.
Don't look at extremes if you can look at distributions.

And all this means that unless you fit some kind of predictive model
that takes into account things like expected cloud cover for the
duration of your stay, the data you have are going to be a much
cruder guide than you can expect.  Your best guide is probably
"how do the people who live there dress at this time of year"?

Oh, for what it's worth, here are daily TMAX values for this
time of year a couple of years ago.
 10.9 14.2 14.3 19.4 21.3 18.1 18.4 16.0 13.1 13.3 15.4 17.6 20.3 18.2 14.8
17.0 17.2 11.7  6.0 10.6
What does that tell you?  "Welcome to changeable SPRING!"
If you take the average, which happens to be 15.4, you'll miss the
fact that you need to be prepared for anything between 6C and 21C.
So you need winter wear and summer wear.  To cope with TMAX.

The big mistakes in statistics are generally not in programming but
in formulating the problem.  In your case, you're overthinking the
problem.  Just plot the raw (or in your case, pre-cooked) data.
Plot TMAX and TMIN and look at their range and how much they vary.
Taking means or medians will destroy information you need for your
purposes.  Take the mean of 15.4 and you'll completely fail to notice
the day that got above 21 and the day that never got above 6 and you'll
be wrongly dressed for both of them.



On Thu, 14 Sept 2023 at 05:22, Kevin Zembower <kevin at zembower.org> wrote:

> Tim, Richard, y'all are reading too much into this. I believe that TMAX
> is the high temperature of the day, and TMIN is the low. I'm trying to
> compute the average or median high and low temperatures for the data I
> have (2011 to present). I'm going on a trip to this area, and want to
> know how to pack.
>
> Thanks for your interest.
>
> -Kevin
>
> On Thu, 2023-09-14 at 03:07 +1200, Richard O'Keefe wrote:
> > I am well aware of the physiological implications
> > of temperature, and that is *why* I view recorded
> > TMIN and TMAX at a single point with an extremely
> > jaundiced eye.  TMAX at shoulder height has very
> > little relevance to an insect living in grass, for
> > example.  And if TMAX is sustained for one second,
> > that has very different consequences from if TMAX
> > is sustained for five minutes.  I can see the usefulness
> > of "proportion of day above Thi/below Tlo", but that
> > is quite different.
> >
> > OK, so my interest in weather data was mainly based
> > around water management: precipitation, evaporation,
> > herd and crop water needs, that kind of thing.  And
> > the first thing you learn from that experience is
> > that ANY kind of single-point summary is seriously
> > misleading.
> >
> > Let's end this digression.
> >
> >
> > On Thu, 14 Sept 2023 at 02:18, Ebert,Timothy Aaron <tebert at ufl.edu>
> > wrote:
> > > I had the same question.
> > > However, I can partly answer the off-topic question. Min and max
> > > can be important as lower and upper development thresholds. Below
> > > the min no growth or development occur because reaction rates are
> > > too slow to enable such. Above max, temperatures are too hot.
> > > Protein function is impaired, and systems stop functioning. There
> > > is a considerable range between where systems shut down (but
> > > recover) and tissue death.
> > > In a simple form the growth and physiological stage of plants,
> > > insects, and many others, can be modeled as a function of
> > > temperature. These are often called growing degree day models (or
> > > some version of that). This is number of thermal units needed for
> > > the organism to develop to the next stage (e.g. instar for an
> > > insect, or fruit/flower formation for a plant). However, better
> > > accuracy is obtained if the model includes both min and max
> > > thresholds.
> > >
> > > All I have done is provide an example where min and max could have
> > > a real world use. I use max(temp) over some interval and then
> > > update an accumulated thermal units variable based on the outcome.
> > > That detail is not evident in the original request.
> > >
> > > Tim
> > >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of Richard
> > > O'Keefe
> > > Sent: Wednesday, September 13, 2023 9:58 AM
> > > To: Kevin Zembower <kevin at zembower.org>
> > > Cc: r-help at r-project.org
> > > Subject: Re: [R] Help with plotting and date-times for climate data
> > >
> > > [External Email]
> > >
> > > Off-topic, but what is a "mean temperature max"
> > > and what good would it do you to know you if you did?
> > > I've been looking at a lot of weather station data and for no
> > > question I've ever had (except "would the newspapers get excited
> > > about this") was "max" (or min) the answer.  Considering the way
> > > that temperature can change by several degrees in a few minutes, or
> > > a few metres -- I meant horizontally when I wrote that, but as you
> > > know your head and feet don't experience the same temperature,
> > > again by more than one degree -- I am at something of a loss to
> > > ascribe much practical significance to TMAX.  Are you sure this is
> > > the analysis you want to do?  Is this the most informative data you
> > > can get?
> > >
> > > On Wed, 13 Sept 2023 at 08:51, Kevin Zembower via R-help <
> > > r-help at r-project.org> wrote:
> > >
> > > > Hello,
> > > >
> > > > I'm trying to calculate the mean temperature max from a file of
> > > > climate date, and plot it over a range of days in the year. I've
> > > > downloaded the data, and cleaned it up the way I think it should
> > > > be.
> > > > However, when I plot it, the geom_smooth line doesn't show up. I
> > > > think
> > > > that's because my x axis is characters or factors. Here's what I
> > > > have so far:
> > > > ========================================
> > > > library(tidyverse)
> > > >
> > > > data <- read_csv("Ely_MN_Weather.csv")
> > > >
> > > > start_day = yday(as_date("2023-09-22")) end_day =
> > > > yday(as_date("2023-10-15"))
> > > >
> > > > d <- as_tibble(data) %>%
> > > >      select(DATE,TMAX,TMIN) %>%
> > > >      mutate(DATE = as_date(DATE),
> > > >             yday = yday(DATE),
> > > >             md = sprintf("%02d-%02d", month(DATE), mday(DATE))
> > > >             ) %>%
> > > >      filter(yday >= start_day & yday <= end_day) %>%
> > > >      mutate(md = as.factor(md))
> > > >
> > > > d_sum <- d %>%
> > > >      group_by(md) %>%
> > > >      summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
> > > >
> > > > ## Here's the filtered data:
> > > > dput(d_sum)
> > > >
> > > > > structure(list(md = structure(1:25, levels = c("09-21", "09-
> > > > > 22",
> > > > "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> > > > "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> > > > "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> > > > "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> > > > 62.2222222222222, 61.3, 63.8888888888889, 64.3, 60.1111111111111,
> > > > 62.3, 60.5, 61.9, 61.2, 63.6666666666667, 59.5, 59.5555555555556,
> > > > 61.5555555555556, 59.4444444444444, 58.7777777777778,
> > > > 55.8888888888889, 58.125, 58, 55.6666666666667, 57,
> > > > 55.4444444444444,
> > > > 49.7777777777778, 48.75, 43.6666666666667)), class = c("tbl_df",
> > > > "tbl", "data.frame"
> > > > ), row.names = c(NA, -25L))
> > > > >
> > > > ggplot(data = d_sum, aes(x = md)) +
> > > >      geom_point(aes(y = tmax_mean, color = "blue")) +
> > > >      geom_smooth(aes(y = tmax_mean, color = "blue"))
> > > > =====================================
> > > > My questions are:
> > > > 1. Why isn't my geom_smooth plotting? How can I fix it?
> > > > 2. I don't think I'm handling the month and day combination
> > > > correctly.
> > > > Is there a way to encode month and day (but not year) as a date?
> > > > 3. (Minor point) Why does my graph of tmax_mean come out red when
> > > > I
> > > > specify "blue"?
> > > >
> > > > Thanks for any advice or guidance you can offer. I really
> > > > appreciate
> > > > the expertise of this group.
> > > >
> > > > -Kevin
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat/
> > > > .ethz.ch%2Fmailman%2Flistinfo%2Fr-
> > > > help&data=05%7C01%7Ctebert%40ufl.edu
> > > > %7C41f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331
> > > > e1b84
> > > > %7C0%7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4
> > > > wLjAw
> > > > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7
> > > > C&sda
> > > > ta=dfC3W%2F%2BBsZI0EaAx%2FocRgw81PSJH8sVZHPFB4rMyiaM%3D&reserved=
> > > > 0
> > > > PLEASE do read the posting guide
> > > > http://www.r/
> > > > -project.org%2Fposting-
> > > > guide.html&data=05%7C01%7Ctebert%40ufl.edu%7C41
> > > > f002949dac426196de08dbb4619001%7C0d4da0f84a314d76ace60a62331e1b84
> > > > %7C0%
> > > > 7C0%7C638302103358987487%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > > > MDAiL
> > > > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > > > ta=zR
> > > > IyH2os0w%2Bi1M26YCGqRFZyXNN6KnS2ddNrEZ9BvVo%3D&reserved=0
> > > > and provide commented, minimal, self-contained, reproducible
> > > > code.
> > > >
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > > http://www.r-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
>
>
>

	[[alternative HTML version deleted]]


From m@rc_grt @end|ng |rom y@hoo@|r  Thu Sep 14 16:55:46 2023
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Thu, 14 Sep 2023 16:55:46 +0200
Subject: [R] only install.packages with type="source" will install packages
References: <a2562bce-978c-02e6-c174-17178913dde2.ref@yahoo.fr>
Message-ID: <a2562bce-978c-02e6-c174-17178913dde2@yahoo.fr>

Dear members,

Since #2 weeks I have a problem with install.packages() or 
update.packages():

It seems to work, I have no error, but when I run again 
update.packages(), the same package is proposed again.

Example:

 > update.packages()
insight :
 ?Version 0.19.3 installed in 
/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
 ?Version 0.19.5 available at https://cran.irsn.fr
Update? (Oui/non/annuler) a
cancelled by user
 > install.packages("insight")
essai de l'URL 
'https://cran.irsn.fr/bin/macosx/big-sur-arm64/contrib/4.3/insight_0.19.3.tgz'
Content type 'application/x-gzip' length 2092645 bytes (2.0 MB)
==================================================
downloaded 2.0 MB
Les packages binaires t?l?charg?s sont dans
 ?? ?/tmp/RtmpDC1kqM/downloaded_packages
 > update.packages()
insight :
 ?Version 0.19.3 installed in 
/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
 ?Version 0.19.5 available at https://cran.irsn.fr
Update? (Oui/non/annuler) a
cancelled by user

If I restart R, it gives the same result.

My .libPaths() is "normal":
[1] "/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library"

The solution is to install with type = "source"

 > install.packages("insight", type="source")
essai de l'URL 
'https://pbil.univ-lyon1.fr/CRAN/src/contrib/insight_0.19.5.tar.gz'
Content type 'application/x-gzip' length 935072 bytes (913 KB)
==================================================
downloaded 913 KB

* installing *source* package ?insight? ...
** package ?insight? correctement d?compress? et sommes MD5 v?rifi?es
** using staged installation
** R
** data
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
*** copying figures
** building package indices
** installing vignettes
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation 
path
* DONE (insight)

Les packages source t?l?charg?s sont dans
 ?? ??/private/tmp/RtmpA4I8sr/downloaded_packages?

Then update.packages() does not return insight package.

Have you an idea of what's happened ?

Thanks

Marc


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Sep 14 17:17:11 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 14 Sep 2023 18:17:11 +0300
Subject: [R] 
 only install.packages with type="source" will install packages
In-Reply-To: <a2562bce-978c-02e6-c174-17178913dde2@yahoo.fr>
References: <a2562bce-978c-02e6-c174-17178913dde2.ref@yahoo.fr>
 <a2562bce-978c-02e6-c174-17178913dde2@yahoo.fr>
Message-ID: <20230914181711.5a04f035@arachnoid>

? Thu, 14 Sep 2023 16:55:46 +0200
Marc Girondot via R-help <r-help at r-project.org> ?????:

> insight :
>  ?Version 0.19.3 installed in 
> /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
>  ?Version 0.19.5 available at https://cran.irsn.fr

> The solution is to install with type = "source"
> 
>  > install.packages("insight", type="source")  

> Then update.packages() does not return insight package.
> 
> Have you an idea of what's happened ?

The binary packages are currently a bit behind on updates. The problem
that prevented them from being built has been solved, but now the
builds need to catch up with a large backlog:
https://stat.ethz.ch/pipermail/r-package-devel/2023q3/009562.html

You will stop getting this message when the macOS binary package
version 0.19.5 appears instead of the current 0.19.3 at
<https://cran.r-project.org/package=insight>.

-- 
Best regards,
Ivan


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Sep 14 17:25:23 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 14 Sep 2023 08:25:23 -0700
Subject: [R] 
 only install.packages with type="source" will install packages
In-Reply-To: <a2562bce-978c-02e6-c174-17178913dde2@yahoo.fr>
References: <a2562bce-978c-02e6-c174-17178913dde2.ref@yahoo.fr>
 <a2562bce-978c-02e6-c174-17178913dde2@yahoo.fr>
Message-ID: <F39A42A6-E768-4A50-8B8C-E0EB38DC582F@dcn.davis.ca.us>

There is/was a discrepancy between versions in source form and in binary form for that package on the CRAN server. (The server that compiles binaries for MacOS has been stuck recently.) You declined (automatically or explicitly) to upgrade from source. This meant you kept an out-of-date binary version in your library when you declined. Updating from source brought you fully up-to-date.

This is normal. If you are not dying to stay on the bleeding edge, ignore the source-binary discrepancy that leaves you a bit behind... the binary on CRAN will eventually get updated.

On September 14, 2023 7:55:46 AM PDT, Marc Girondot via R-help <r-help at r-project.org> wrote:
>Dear members,
>
>Since #2 weeks I have a problem with install.packages() or update.packages():
>
>It seems to work, I have no error, but when I run again update.packages(), the same package is proposed again.
>
>Example:
>
>> update.packages()
>insight :
>?Version 0.19.3 installed in /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
>?Version 0.19.5 available at https://cran.irsn.fr
>Update? (Oui/non/annuler) a
>cancelled by user
>> install.packages("insight")
>essai de l'URL 'https://cran.irsn.fr/bin/macosx/big-sur-arm64/contrib/4.3/insight_0.19.3.tgz'
>Content type 'application/x-gzip' length 2092645 bytes (2.0 MB)
>==================================================
>downloaded 2.0 MB
>Les packages binaires t?l?charg?s sont dans
>?? ?/tmp/RtmpDC1kqM/downloaded_packages
>> update.packages()
>insight :
>?Version 0.19.3 installed in /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
>?Version 0.19.5 available at https://cran.irsn.fr
>Update? (Oui/non/annuler) a
>cancelled by user
>
>If I restart R, it gives the same result.
>
>My .libPaths() is "normal":
>[1] "/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library"
>
>The solution is to install with type = "source"
>
>> install.packages("insight", type="source")
>essai de l'URL 'https://pbil.univ-lyon1.fr/CRAN/src/contrib/insight_0.19.5.tar.gz'
>Content type 'application/x-gzip' length 935072 bytes (913 KB)
>==================================================
>downloaded 913 KB
>
>* installing *source* package ?insight? ...
>** package ?insight? correctement d?compress? et sommes MD5 v?rifi?es
>** using staged installation
>** R
>** data
>** inst
>** byte-compile and prepare package for lazy loading
>** help
>*** installing help indices
>*** copying figures
>** building package indices
>** installing vignettes
>** testing if installed package can be loaded from temporary location
>** testing if installed package can be loaded from final location
>** testing if installed package keeps a record of temporary installation path
>* DONE (insight)
>
>Les packages source t?l?charg?s sont dans
>?? ??/private/tmp/RtmpA4I8sr/downloaded_packages?
>
>Then update.packages() does not return insight package.
>
>Have you an idea of what's happened ?
>
>Thanks
>
>Marc
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From |oopv|ny| @end|ng |rom gm@||@com  Tue Sep 12 22:49:32 2023
From: |oopv|ny| @end|ng |rom gm@||@com (Loop Vinyl)
Date: Tue, 12 Sep 2023 17:49:32 -0300
Subject: [R] agricolae package,
 graph in R with grouping letters from the Tukey, LSD, Duncan test
Message-ID: <CAF_u4OniVaj3t-6Zomc0410N4-5nr+26WHPHsAx1uNi41VPbAQ@mail.gmail.com>

I would like to produce the attached graph (graph1) with the R package
agricolae, could someone give me an example with the attached data
(dataDoubleFactor)?

I expect an adapted graph (graphDoubleFactor) with the data (data)

Best regards

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dataDoubleFactor.txt
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230912/463de4c4/attachment.txt>

From |oopv|ny| @end|ng |rom gm@||@com  Wed Sep 13 00:15:17 2023
From: |oopv|ny| @end|ng |rom gm@||@com (Loop Vinyl)
Date: Tue, 12 Sep 2023 19:15:17 -0300
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>
Message-ID: <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>

Yes, the data and the R code used are attached.

I would like to produce the attached graph (graph1) with the R package
agricolae, could someone give me an example with the attached data
(vermiwash and Rcode_vermiwash)?

Fig. 7, https://doi.org/10.1007/s42729-023-01295-3

I expect an adapted graph (graphDoubleFactor) with the data (vermiwash and
Rcode_vermiwash)


Best regards

Em ter., 12 de set. de 2023 ?s 18:54, Rui Barradas <ruipbarradas at sapo.pt>
escreveu:

> ?s 16:24 de 12/09/2023, Loop Vinyl escreveu:
> > I would like to produce the attached graph (graph1) with the R package
> > agricolae, could someone give me an example with the attached data
> (data)?
> >
> > I expect an adapted graph (graph2) with the data (data)
> >
> > Best regards
> >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> There are no attached graphs, only data.
> Can you post the code have you tried?
>
> Hope this helps,
>
> Rui Barradas
>
>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Rcode_vermiwash.txt
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230912/6c0d82db/attachment.txt>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: vermiwash.txt
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20230912/6c0d82db/attachment-0001.txt>

From bgunter@4567 @end|ng |rom gm@||@com  Thu Sep 14 20:02:51 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 14 Sep 2023 11:02:51 -0700
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>
 <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
Message-ID: <CAGxFJbSLkdisgReg0RoFk4HS9twPy5gzRHb_n4K4k2mQ=Y465g@mail.gmail.com>

No graphs. The link is paywalled.

Bert Gunter

On Thu, Sep 14, 2023 at 10:55?AM Loop Vinyl <loopvinyl at gmail.com> wrote:

> Yes, the data and the R code used are attached.
>
> I would like to produce the attached graph (graph1) with the R package
> agricolae, could someone give me an example with the attached data
> (vermiwash and Rcode_vermiwash)?
>
> Fig. 7, https://doi.org/10.1007/s42729-023-01295-3
>
> I expect an adapted graph (graphDoubleFactor) with the data (vermiwash and
> Rcode_vermiwash)
>
>
> Best regards
>
> Em ter., 12 de set. de 2023 ?s 18:54, Rui Barradas <ruipbarradas at sapo.pt>
> escreveu:
>
> > ?s 16:24 de 12/09/2023, Loop Vinyl escreveu:
> > > I would like to produce the attached graph (graph1) with the R package
> > > agricolae, could someone give me an example with the attached data
> > (data)?
> > >
> > > I expect an adapted graph (graph2) with the data (data)
> > >
> > > Best regards
> > >
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.
> > Hello,
> >
> > There are no attached graphs, only data.
> > Can you post the code have you tried?
> >
> > Hope this helps,
> >
> > Rui Barradas
> >
> >
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Sep 14 21:58:46 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 14 Sep 2023 12:58:46 -0700
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>
 <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
Message-ID: <2368424B-8080-4D7C-9440-04D92B8499AD@dcn.davis.ca.us>

This request sounds a lot like "do my work for me"... even like it might be homework... both scenarios are disallowed here.

Also, you need to read the Posting Guide... not all attachments are allowed on this mailing list, so even if you attached an image we did not get it. Go look at the mailing list archive to see what we got instead of what you sent.

On September 12, 2023 3:15:17 PM PDT, Loop Vinyl <loopvinyl at gmail.com> wrote:
>Yes, the data and the R code used are attached.
>
>I would like to produce the attached graph (graph1) with the R package
>agricolae, could someone give me an example with the attached data
>(vermiwash and Rcode_vermiwash)?
>
>Fig. 7, https://doi.org/10.1007/s42729-023-01295-3
>
>I expect an adapted graph (graphDoubleFactor) with the data (vermiwash and
>Rcode_vermiwash)
>
>
>Best regards
>
>Em ter., 12 de set. de 2023 ?s 18:54, Rui Barradas <ruipbarradas at sapo.pt>
>escreveu:
>
>> ?s 16:24 de 12/09/2023, Loop Vinyl escreveu:
>> > I would like to produce the attached graph (graph1) with the R package
>> > agricolae, could someone give me an example with the attached data
>> (data)?
>> >
>> > I expect an adapted graph (graph2) with the data (data)
>> >
>> > Best regards
>> >
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> Hello,
>>
>> There are no attached graphs, only data.
>> Can you post the code have you tried?
>>
>> Hope this helps,
>>
>> Rui Barradas
>>
>>

-- 
Sent from my phone. Please excuse my brevity.


From tebert @end|ng |rom u||@edu  Thu Sep 14 22:52:12 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Thu, 14 Sep 2023 20:52:12 +0000
Subject: [R] graph in R with grouping letters from the turkey test with
 agricolae package
In-Reply-To: <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
References: <CAF_u4OngSZOt2M=a3wTu6y1kg9DR56t9g_ma9rWK9nZZZJtDzw@mail.gmail.com>
 <16913bc2-872c-c5e3-00a9-179d25dd1406@sapo.pt>
 <CAF_u4OmujBEd3eVysNiKXD6PAn0fO-3+upEfZwz3o1PxW8ycAA@mail.gmail.com>
Message-ID: <CH3PR22MB4514A885163FA551568275B6CFF7A@CH3PR22MB4514.namprd22.prod.outlook.com>

Why insist on agricolae?
Here is an example using multcompiew
https://r-graph-gallery.com/84-tukey-test.html

You have the same question posted to stackoverflow.
https://stackoverflow.com/questions/77090467/graph-in-r-with-grouping-letters-from-the-tukey-lsd-duncan-test-with-agricolae

I searched in Google for these key words
Tukey letters r graph agricolae

There are some youtube videos that could help.

Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Loop Vinyl
Sent: Tuesday, September 12, 2023 6:15 PM
To: Rui Barradas <ruipbarradas at sapo.pt>
Cc: r-help at r-project.org
Subject: Re: [R] graph in R with grouping letters from the turkey test with agricolae package

[External Email]

Yes, the data and the R code used are attached.

I would like to produce the attached graph (graph1) with the R package agricolae, could someone give me an example with the attached data (vermiwash and Rcode_vermiwash)?

Fig. 7, https://doi.org/10.1007/s42729-023-01295-3

I expect an adapted graph (graphDoubleFactor) with the data (vermiwash and
Rcode_vermiwash)


Best regards

Em ter., 12 de set. de 2023 ?s 18:54, Rui Barradas <ruipbarradas at sapo.pt>
escreveu:

> ?s 16:24 de 12/09/2023, Loop Vinyl escreveu:
> > I would like to produce the attached graph (graph1) with the R
> > package agricolae, could someone give me an example with the
> > attached data
> (data)?
> >
> > I expect an adapted graph (graph2) with the data (data)
> >
> > Best regards
> >
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://st/
> > at.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl
> > .edu%7Cd1f6a3f22b2342539d2208dbb54bc3cf%7C0d4da0f84a314d76ace60a6233
> > 1e1b84%7C0%7C0%7C638303109249629455%7CUnknown%7CTWFpbGZsb3d8eyJWIjoi
> > MC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C
> > %7C%7C&sdata=wENmYQXTgTRuI2efqtiQdOs3hRvP8RGWAVWdowI0ozM%3D&reserved
> > =0
> > PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7Cd1
> f6a3f22b2342539d2208dbb54bc3cf%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638303109249629455%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=hz
> C51PsGAZD3X8vpS%2BR3MKosY6wKt91KPkQ8r4mAf7c%3D&reserved=0
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> There are no attached graphs, only data.
> Can you post the code have you tried?
>
> Hope this helps,
>
> Rui Barradas
>
>


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Fri Sep 15 03:51:27 2023
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Fri, 15 Sep 2023 01:51:27 +0000
Subject: [R] Theta from negative binomial regression and
 power_NegativeBinomiial from PASSED
Message-ID: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>

Colleagues,

I want to use the power_NetativeBinomial function from the PASSED library. The function requires a value for a parameter theta. The meaning of theta is not given in the documentation (at least I can?t find it) of the function. Further the descriptions of the negative binomial distribution that I am familiar with do not mention theta as being a parameter of the distribution. I noticed that when one runs the glm.nb function to perform a negative binomial regression one obtains a value for theta. This leads to two questions

  1.  Is the theta required by the power_NetativeBinomial function the theta that is produced by the glm.nb function
  2.  What is theta, and how does it relate to the parameters of the negative binomial distribution?

Thank you,
John

	[[alternative HTML version deleted]]


From @pro @end|ng |rom un|me|b@edu@@u  Fri Sep 15 04:05:33 2023
From: @pro @end|ng |rom un|me|b@edu@@u (Andrew Robinson)
Date: Fri, 15 Sep 2023 02:05:33 +0000
Subject: [R] [EXT] Theta from negative binomial regression and
 power_NegativeBinomiial from PASSED
In-Reply-To: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <01222945-3943-497c-b055-6fa1e92905a6@Spark>

Hi John,

the negative binomial is a tricky one - there are several different parameterisations and therefore different interpretations of the parameters.  Joseph Hilbe wrote a whole book on it that might be wroth checking.

Cheers,

Andrew


--
Andrew Robinson
Chief Executive Officer, CEBRA and Professor of Biosecurity,
School/s of BioSciences and Mathematics & Statistics
University of Melbourne, VIC 3010 Australia
Tel: (+61) 0403 138 955
Email: apro at unimelb.edu.au
Website: https://researchers.ms.unimelb.edu.au/~apro at unimelb/

I acknowledge the Traditional Owners of the land I inhabit, and pay my respects to their Elders.
On 15 Sep 2023 at 11:52 AM +1000, Sorkin, John <jsorkin at som.umaryland.edu>, wrote:
External email: Please exercise caution

Colleagues,

I want to use the power_NetativeBinomial function from the PASSED library. The function requires a value for a parameter theta. The meaning of theta is not given in the documentation (at least I can?t find it) of the function. Further the descriptions of the negative binomial distribution that I am familiar with do not mention theta as being a parameter of the distribution. I noticed that when one runs the glm.nb function to perform a negative binomial regression one obtains a value for theta. This leads to two questions

1. Is the theta required by the power_NetativeBinomial function the theta that is produced by the glm.nb function
2. What is theta, and how does it relate to the parameters of the negative binomial distribution?

Thank you,
John

[[alternative HTML version deleted]]


	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Fri Sep 15 07:37:25 2023
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Fri, 15 Sep 2023 08:37:25 +0300
Subject: [R] [EXT] Theta from negative binomial regression and
 power_NegativeBinomiial from PASSED
In-Reply-To: <01222945-3943-497c-b055-6fa1e92905a6@Spark>
References: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <01222945-3943-497c-b055-6fa1e92905a6@Spark>
Message-ID: <CAGgJW75yEidJJTiRW0mK1LaWyBAO-DPE=bOt5f9Vrm0gYF3KOw@mail.gmail.com>

I asked your question to ChatGPT4

In statistics, what is the theta parameter of the negative binomial
distribution?

The response contained some math symbols but I am sending in plain
text mode so there may be some loss, hopefully not serious.

The negative binomial distribution is used to model the number of
successes before observing a fixed number of failures in a Bernoulli
process. It has two parameters, typically denoted r and p:

r - This is the number of failures until the experiment is stopped.
p - This is the probability of success on any given trial.

In some contexts, the negative binomial distribution is described in
terms of the number of failures before a fixed number of successes. In
this case:

r would be the number of successes.
p would still be the probability of success on any given trial.

In some literature and software implementations, the negative binomial
distribution's parameterization is provided in terms of r (or k) and ?
instead of r and p. Here:

r (or k) is the number of successes.
? represents a "success-to-failure" ratio.

The relationship between p and ? is:  p = ? / (?+1)

[i.e. p = theta / (theta + 1) ]

Conversely, ? = p / (1?p)

[i.e. theta = p / (1-p) ]

In summary, ? is a parameter that captures the success-to-failure
ratio in some parameterizations of the negative binomial distribution,
and it can be related back to the success probability p.


On Fri, Sep 15, 2023 at 5:06?AM Andrew Robinson via R-help
<r-help at r-project.org> wrote:
>
> Hi John,
>
> the negative binomial is a tricky one - there are several different parameterisations and therefore different interpretations of the parameters.  Joseph Hilbe wrote a whole book on it that might be wroth checking.
>
> Cheers,
>
> Andrew
>
>
> --
> Andrew Robinson
> Chief Executive Officer, CEBRA and Professor of Biosecurity,
> School/s of BioSciences and Mathematics & Statistics
> University of Melbourne, VIC 3010 Australia
> Tel: (+61) 0403 138 955
> Email: apro at unimelb.edu.au
> Website: https://researchers.ms.unimelb.edu.au/~apro at unimelb/
>
> I acknowledge the Traditional Owners of the land I inhabit, and pay my respects to their Elders.
> On 15 Sep 2023 at 11:52 AM +1000, Sorkin, John <jsorkin at som.umaryland.edu>, wrote:
> External email: Please exercise caution
>
> Colleagues,
>
> I want to use the power_NetativeBinomial function from the PASSED library. The function requires a value for a parameter theta. The meaning of theta is not given in the documentation (at least I can?t find it) of the function. Further the descriptions of the negative binomial distribution that I am familiar with do not mention theta as being a parameter of the distribution. I noticed that when one runs the glm.nb function to perform a negative binomial regression one obtains a value for theta. This leads to two questions
>
> 1. Is the theta required by the power_NetativeBinomial function the theta that is produced by the glm.nb function
> 2. What is theta, and how does it relate to the parameters of the negative binomial distribution?
>
> Thank you,
> John
>
> [[alternative HTML version deleted]]
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Fri Sep 15 08:27:36 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 15 Sep 2023 09:27:36 +0300
Subject: [R] Theta from negative binomial regression and
 power_NegativeBinomiial from PASSED
In-Reply-To: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
References: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
Message-ID: <20230915092736.605b1ad6@Tarkus>

On Fri, 15 Sep 2023 01:51:27 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> What is theta, and how does it relate to the parameters of the
> negative binomial distribution?

Plugging the p (the success probability) and the r (the number of
successes until the experiment is stopped) from the Wikipedia article
(where they are defined in terms of mean mu and variance sigma^2)
together with the variance from ?MASS::rnegbin (where it's defined as
mu + mu^2/theta) into Maxima and then solving for theta, I get:

solve(
 [
  p = mu / sigma^2,
  r = mu^2/(sigma^2-mu),
  sigma^2 = mu + mu^2/theta
 ],
 [mu, sigma, theta]
);
[
 mu = ((1-p)*r)/p,
 sigma = sqrt(r-p*r)/p,
 theta = r
]

That is, the theta from MASS seems to be equivalent to the number of
successes from the formulation in the Wikipedia article.

-- 
Best regards,
Ivan


From bbo|ker @end|ng |rom gm@||@com  Fri Sep 15 16:02:39 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Fri, 15 Sep 2023 10:02:39 -0400
Subject: [R] Theta from negative binomial regression and
 power_NegativeBinomiial from PASSED
In-Reply-To: <20230915092736.605b1ad6@Tarkus>
References: <MW4PR03MB6363ED3A6951CADEF27A4B39E2F6A@MW4PR03MB6363.namprd03.prod.outlook.com>
 <20230915092736.605b1ad6@Tarkus>
Message-ID: <afa96ee4-66ca-0c24-16ab-ab20abeaaf91@gmail.com>

    Yes, theta is the 'size' or overdispersion parameter.  Sometimes 
also denoted as k. Wikipedia discusses this parameterization in the 
paragraph starting "In negative binomial regression ..." (but they call 
this parameter r rather than theta or k).

   You can also see this in MASS on google books:

https://www.google.ca/books/edition/Modern_Applied_Statistics_with_S/CzwmBQAAQBAJ?hl=en&gbpv=1&dq=venables+ripley+negative+binomial&pg=PA206&printsec=frontcover

   This parameterization was added to R in version 1.3.0 ...



On 2023-09-15 2:27 a.m., Ivan Krylov wrote:
> On Fri, 15 Sep 2023 01:51:27 +0000
> "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
> 
>> What is theta, and how does it relate to the parameters of the
>> negative binomial distribution?
> 
> Plugging the p (the success probability) and the r (the number of
> successes until the experiment is stopped) from the Wikipedia article
> (where they are defined in terms of mean mu and variance sigma^2)
> together with the variance from ?MASS::rnegbin (where it's defined as
> mu + mu^2/theta) into Maxima and then solving for theta, I get:
> 
> solve(
>   [
>    p = mu / sigma^2,
>    r = mu^2/(sigma^2-mu),
>    sigma^2 = mu + mu^2/theta
>   ],
>   [mu, sigma, theta]
> );
> [
>   mu = ((1-p)*r)/p,
>   sigma = sqrt(r-p*r)/p,
>   theta = r
> ]
> 
> That is, the theta from MASS seems to be equivalent to the number of
> successes from the formulation in the Wikipedia article.
> 

-- 
Dr. Benjamin Bolker
Professor, Mathematics & Statistics and Biology, McMaster University
Director, School of Computational Science and Engineering
(Acting) Graduate chair, Mathematics & Statistics
 > E-mail is sent at my convenience; I don't expect replies outside of 
working hours.


From tr@xp|@yer @end|ng |rom gm@||@com  Fri Sep 15 22:09:26 2023
From: tr@xp|@yer @end|ng |rom gm@||@com (=?UTF-8?Q?Martin_M=C3=B8ller_Skarbiniks_Pedersen?=)
Date: Fri, 15 Sep 2023 22:09:26 +0200
Subject: [R] Help with plotting and date-times for climate data
In-Reply-To: <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
References: <9f944cd464ada0c7d05750670e9b3e7f935a7350.camel@zembower.org>
 <0100018a8b28dd03-b1012577-a8c4-432f-a04c-36368ee90e7b-000000@email.amazonses.com>
Message-ID: <CAGAA5bejjrB=hC+wiSS593PJL2LnrBnhwadt3C7K33mzGJrwWQ@mail.gmail.com>

Change

 geom_point(aes(y = tmax_mean, color = "blue"))
to
 geom_point(aes(y = tmax_mean), color = "blue")
if you want blue points.

aes(color = ) does not set the color of the points.

aes(color = ) takes a column (best if it is a factor) and uses that for
different colors.


/Martin

On Tue, Sep 12, 2023, 22:50 Kevin Zembower via R-help <r-help at r-project.org>
wrote:

> Hello,
>
> I'm trying to calculate the mean temperature max from a file of climate
> date, and plot it over a range of days in the year. I've downloaded the
> data, and cleaned it up the way I think it should be. However, when I
> plot it, the geom_smooth line doesn't show up. I think that's because
> my x axis is characters or factors. Here's what I have so far:
> ========================================
> library(tidyverse)
>
> data <- read_csv("Ely_MN_Weather.csv")
>
> start_day = yday(as_date("2023-09-22"))
> end_day = yday(as_date("2023-10-15"))
>
> d <- as_tibble(data) %>%
>     select(DATE,TMAX,TMIN) %>%
>     mutate(DATE = as_date(DATE),
>            yday = yday(DATE),
>            md = sprintf("%02d-%02d", month(DATE), mday(DATE))
>            ) %>%
>     filter(yday >= start_day & yday <= end_day) %>%
>     mutate(md = as.factor(md))
>
> d_sum <- d %>%
>     group_by(md) %>%
>     summarize(tmax_mean = mean(TMAX, na.rm=TRUE))
>
> ## Here's the filtered data:
> dput(d_sum)
>
> > structure(list(md = structure(1:25, levels = c("09-21", "09-22",
> "09-23", "09-24", "09-25", "09-26", "09-27", "09-28", "09-29",
> "09-30", "10-01", "10-02", "10-03", "10-04", "10-05", "10-06",
> "10-07", "10-08", "10-09", "10-10", "10-11", "10-12", "10-13",
> "10-14", "10-15"), class = "factor"), tmax_mean = c(65,
> 62.2222222222222,
> 61.3, 63.8888888888889, 64.3, 60.1111111111111, 62.3, 60.5, 61.9,
> 61.2, 63.6666666666667, 59.5, 59.5555555555556, 61.5555555555556,
> 59.4444444444444, 58.7777777777778, 55.8888888888889, 58.125,
> 58, 55.6666666666667, 57, 55.4444444444444, 49.7777777777778,
> 48.75, 43.6666666666667)), class = c("tbl_df", "tbl", "data.frame"
> ), row.names = c(NA, -25L))
> >
> ggplot(data = d_sum, aes(x = md)) +
>     geom_point(aes(y = tmax_mean, color = "blue")) +
>     geom_smooth(aes(y = tmax_mean, color = "blue"))
> =====================================
> My questions are:
> 1. Why isn't my geom_smooth plotting? How can I fix it?
> 2. I don't think I'm handling the month and day combination correctly.
> Is there a way to encode month and day (but not year) as a date?
> 3. (Minor point) Why does my graph of tmax_mean come out red when I
> specify "blue"?
>
> Thanks for any advice or guidance you can offer. I really appreciate
> the expertise of this group.
>
> -Kevin
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From rb@er @end|ng |rom @t@u@edu  Sat Sep 16 22:39:49 2023
From: rb@er @end|ng |rom @t@u@edu (Robert Baer)
Date: Sat, 16 Sep 2023 15:39:49 -0500
Subject: [R] Print hypothesis warning- Car package
Message-ID: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>

When doing Anova using the car package,? I get a print warning that is 
unexpected.? It seemingly involves have my flow cytometry factor levels 
named CD271+ and CD171-.? But I am not sure this warning should be 
intended behavior.? Any explanation about whether I'm doing something 
wrong? Why can't I have CD271+ and CD271- as factor levels?? Its legal 
text isn't it?

library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1) 
Anova(mod, type =2) Anova Table (Type II tests) Response: Viability Sum 
Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 *** Expression 
2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3 1.0640 
0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***? 0.001 ?**? 
0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In printHypothesis(L, 
rhs, names(b)) : one or more coefficients in the hypothesis include 
arithmetic operators in their names; the printed representation of the 
hypothesis will be omitted 2: In printHypothesis(L, rhs, names(b)) : one 
or more coefficients in the hypothesis include arithmetic operators in 
their names; the printed representation of the hypothesis will be 
omitted 3: In printHypothesis(L, rhs, names(b)) : one or more 
coefficients in the hypothesis include arithmetic operators in their 
names; the printed representation of the hypothesis will be omitted


The code to reproduce:

```


dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
 ????????????????????????????????????????????? 1L, 1L, 1L, 2L, 2L, 2L, 
2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
 ????????????????????????????????????????????? 3L, 3L, 4L, 4L, 4L, 4L, 
4L, 4L, 4L, 4L), levels = c("Control",
"Dabrafenib", "Trametinib", "Combination"), class = "factor"),
 ????????????????????? Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L, 
1L, 1L,
 ?????????????????????????????????????????????? 1L, 2L, 2L, 2L, 2L, 1L, 
1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
 ?????????????????????????????????????????????? 1L, 2L, 2L, 2L, 2L, 1L, 
1L, 1L, 1L), levels = c("CD271-",
"CD271+"), class = "factor"),
 ????????????????????? Viability = c(128.329809725159, 24.2360176821065, 
76.3597924274457, 11.0128771862387, 21.4683836248318,
 ??????????????????????????????????? 140.784162982894, 87.4303286565443, 
118.181818181818, 53.603690178743,
 ??????????????????????????????????? 51.2973284643475, 5.47760907168941, 
27.1574091870075, 50.8360561214684,
 ??????????????????????????????????? 56.5250816836441, 28.6949836632712, 
93.2731116663463, 71.900826446281,
 ??????????????????????????????????? 32.2314049586777, 24.2360176821065, 
27.4649240822602, 24.0822602344801,
 ??????????????????????????????????? 26.542379396502, 30.693830482414, 
27.772438977513, 13.4729963482606,
 ??????????????????????????????????? 8.24524312896406, 18.5469921199308, 
13.9342686911397, 13.3192389006342,
 ??????????????????????????????????? 19.9308091485681, 17.6244474341726, 
16.2406304055353)),
 ???????????????? row.names = c(NA,
 ?????????????????????????????? -32L),
 ???????????????? class = c("tbl_df", "tbl", "data.frame"))

mod = aov(Viability ~ Treatment*Expression, data = dat1)
summary(mod)
library(car)
Anova(mod, type =2)

```


> sessionInfo() R version 4.3.1 (2023-06-16 ucrt) Platform: 
x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 11 x64 (build 
25951) Matrix products: default locale: [1] LC_COLLATE=English_United 
States.utf8 LC_CTYPE=English_United States.utf8 
LC_MONETARY=English_United States.utf8 [4] LC_NUMERIC=C 
LC_TIME=English_United States.utf8 time zone: America/Chicago tzcode 
source: internal attached base packages: [1] stats graphics grDevices 
utils datasets methods base other attached packages: [1] car_3.1-2 
carData_3.0-5 tidyr_1.3.0 readr_2.1.4 readxl_1.4.3 ggplot2_3.4.3 
dplyr_1.1.3 loaded via a namespace (and not attached): [1] crayon_1.5.2 
vctrs_0.6.3 cli_3.6.1 rlang_1.1.1 purrr_1.0.2 generics_0.1.3 
labeling_0.4.3 [8] bit_4.0.5 glue_1.6.2 colorspace_2.1-0 hms_1.1.3 
scales_1.2.1 fansi_1.0.4 grid_4.3.1 [15] cellranger_1.1.0 abind_1.4-5 
munsell_0.5.0 tibble_3.2.1 tzdb_0.4.0 lifecycle_1.0.3 compiler_4.3.1 
[22] pkgconfig_2.0.3 rstudioapi_0.15.0 farver_2.1.1 R6_2.5.1 
tidyselect_1.2.0 utf8_1.2.3 parallel_4.3.1 [29] vroom_1.6.3 pillar_1.9.0 
magrittr_2.0.3 bit64_4.0.5 tools_4.3.1 withr_2.5.0 gtable_0.3.4


	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Sun Sep 17 02:23:22 2023
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 16 Sep 2023 17:23:22 -0700
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
Message-ID: <CAGxFJbRURJMUQ-A2CgaSgNBDqFGVQu8rVZJUVTZh93vJCcY+eA@mail.gmail.com>

The factor names are legal but the Warnings tell you pretty clearly that
Car doesn't like such things. So why don't you just use something else that
is more conventional.

-- Bert

On Sat, Sep 16, 2023 at 1:40?PM Robert Baer <rbaer at atsu.edu> wrote:

> When doing Anova using the car package,  I get a print warning that is
> unexpected.  It seemingly involves have my flow cytometry factor levels
> named CD271+ and CD171-.  But I am not sure this warning should be
> intended behavior.  Any explanation about whether I'm doing something
> wrong? Why can't I have CD271+ and CD271- as factor levels?  Its legal
> text isn't it?
>
> library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1)
> Anova(mod, type =2) Anova Table (Type II tests) Response: Viability Sum
> Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 *** Expression
> 2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3 1.0640
> 0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***? 0.001 ?**?
> 0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In printHypothesis(L,
> rhs, names(b)) : one or more coefficients in the hypothesis include
> arithmetic operators in their names; the printed representation of the
> hypothesis will be omitted 2: In printHypothesis(L, rhs, names(b)) : one
> or more coefficients in the hypothesis include arithmetic operators in
> their names; the printed representation of the hypothesis will be
> omitted 3: In printHypothesis(L, rhs, names(b)) : one or more
> coefficients in the hypothesis include arithmetic operators in their
> names; the printed representation of the hypothesis will be omitted
>
>
> The code to reproduce:
>
> ```
>
>
> dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>                                                1L, 1L, 1L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
>                                                3L, 3L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L), levels = c("Control",
> "Dabrafenib", "Trametinib", "Combination"), class = "factor"),
>                        Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L,
>                                                 1L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
>                                                 1L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L, 1L), levels = c("CD271-",
> "CD271+"), class = "factor"),
>                        Viability = c(128.329809725159, 24.2360176821065,
> 76.3597924274457, 11.0128771862387, 21.4683836248318,
>                                      140.784162982894, 87.4303286565443,
> 118.181818181818, 53.603690178743,
>                                      51.2973284643475, 5.47760907168941,
> 27.1574091870075, 50.8360561214684,
>                                      56.5250816836441, 28.6949836632712,
> 93.2731116663463, 71.900826446281,
>                                      32.2314049586777, 24.2360176821065,
> 27.4649240822602, 24.0822602344801,
>                                      26.542379396502, 30.693830482414,
> 27.772438977513, 13.4729963482606,
>                                      8.24524312896406, 18.5469921199308,
> 13.9342686911397, 13.3192389006342,
>                                      19.9308091485681, 17.6244474341726,
> 16.2406304055353)),
>                   row.names = c(NA,
>                                 -32L),
>                   class = c("tbl_df", "tbl", "data.frame"))
>
> mod = aov(Viability ~ Treatment*Expression, data = dat1)
> summary(mod)
> library(car)
> Anova(mod, type =2)
>
> ```
>
>
> > sessionInfo() R version 4.3.1 (2023-06-16 ucrt) Platform:
> x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 11 x64 (build
> 25951) Matrix products: default locale: [1] LC_COLLATE=English_United
> States.utf8 LC_CTYPE=English_United States.utf8
> LC_MONETARY=English_United States.utf8 [4] LC_NUMERIC=C
> LC_TIME=English_United States.utf8 time zone: America/Chicago tzcode
> source: internal attached base packages: [1] stats graphics grDevices
> utils datasets methods base other attached packages: [1] car_3.1-2
> carData_3.0-5 tidyr_1.3.0 readr_2.1.4 readxl_1.4.3 ggplot2_3.4.3
> dplyr_1.1.3 loaded via a namespace (and not attached): [1] crayon_1.5.2
> vctrs_0.6.3 cli_3.6.1 rlang_1.1.1 purrr_1.0.2 generics_0.1.3
> labeling_0.4.3 [8] bit_4.0.5 glue_1.6.2 colorspace_2.1-0 hms_1.1.3
> scales_1.2.1 fansi_1.0.4 grid_4.3.1 [15] cellranger_1.1.0 abind_1.4-5
> munsell_0.5.0 tibble_3.2.1 tzdb_0.4.0 lifecycle_1.0.3 compiler_4.3.1
> [22] pkgconfig_2.0.3 rstudioapi_0.15.0 farver_2.1.1 R6_2.5.1
> tidyselect_1.2.0 utf8_1.2.3 parallel_4.3.1 [29] vroom_1.6.3 pillar_1.9.0
> magrittr_2.0.3 bit64_4.0.5 tools_4.3.1 withr_2.5.0 gtable_0.3.4
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ro||turner @end|ng |rom po@teo@net  Sun Sep 17 02:27:57 2023
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Sun, 17 Sep 2023 00:27:57 +0000
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
Message-ID: <20230917122757.6b572253@rolf-Latitude-E7470>


On Sat, 16 Sep 2023 15:39:49 -0500
Robert Baer <rbaer at atsu.edu> wrote:

> When doing Anova using the car package,? I get a print warning that
> is unexpected.? It seemingly involves have my flow cytometry factor
> levels named CD271+ and CD171-.? But I am not sure this warning
> should be intended behavior.? Any explanation about whether I'm doing
> something wrong? Why can't I have CD271+ and CD271- as factor levels?
>  Its legal text isn't it?
> 
> library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1) 
> Anova(mod, type =2) Anova Table (Type II tests) Response: Viability
> Sum Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 ***
> Expression 2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3
> 1.0640 0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***?
> 0.001 ?**? 0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In
> printHypothesis(L, rhs, names(b)) : one or more coefficients in the
> hypothesis include arithmetic operators in their names; the printed
> representation of the hypothesis will be omitted 2: In
> printHypothesis(L, rhs, names(b)) : one or more coefficients in the
> hypothesis include arithmetic operators in their names; the printed
> representation of the hypothesis will be omitted 3: In
> printHypothesis(L, rhs, names(b)) : one or more coefficients in the
> hypothesis include arithmetic operators in their names; the printed
> representation of the hypothesis will be omitted
> 
> 
> The code to reproduce:
> 
> ```
> 
> 
> dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>  ????????????????????????????????????????????? 1L, 1L, 1L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
>  ????????????????????????????????????????????? 3L, 3L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L, 4L), levels = c("Control",
> "Dabrafenib", "Trametinib", "Combination"), class = "factor"),
>  ????????????????????? Expression = structure(c(2L, 2L, 2L, 2L, 2L,
> 1L, 1L, 1L,
>  ?????????????????????????????????????????????? 1L, 2L, 2L, 2L, 2L,
> 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
>  ?????????????????????????????????????????????? 1L, 2L, 2L, 2L, 2L,
> 1L, 1L, 1L, 1L), levels = c("CD271-",
> "CD271+"), class = "factor"),
>  ????????????????????? Viability = c(128.329809725159,
> 24.2360176821065, 76.3597924274457, 11.0128771862387,
> 21.4683836248318, 140.784162982894, 87.4303286565443, 
> 118.181818181818, 53.603690178743,
>  ??????????????????????????????????? 51.2973284643475,
> 5.47760907168941, 27.1574091870075, 50.8360561214684,
>  ??????????????????????????????????? 56.5250816836441,
> 28.6949836632712, 93.2731116663463, 71.900826446281,
>  ??????????????????????????????????? 32.2314049586777,
> 24.2360176821065, 27.4649240822602, 24.0822602344801,
>  ??????????????????????????????????? 26.542379396502,
> 30.693830482414, 27.772438977513, 13.4729963482606,
>  ??????????????????????????????????? 8.24524312896406,
> 18.5469921199308, 13.9342686911397, 13.3192389006342,
>  ??????????????????????????????????? 19.9308091485681,
> 17.6244474341726, 16.2406304055353)),
>  ???????????????? row.names = c(NA,
>  ?????????????????????????????? -32L),
>  ???????????????? class = c("tbl_df", "tbl", "data.frame"))
> 
> mod = aov(Viability ~ Treatment*Expression, data = dat1)
> summary(mod)
> library(car)
> Anova(mod, type =2)
> 
> ```

There seems to be something wrong in your presentation of the data.
When I copied and pasted the code I got an error:

> Error: unexpected input in:
> "dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>  ?"

I don't really understand the provenance of the error, but after some
fiddling around I managed to create a structure "dat1":


> dput(dat1)
> structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L, 
> 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 
> 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L), levels = c("Control", 
> "Dabrafenib", "Trametinib", "Combination"), class = "factor"), 
>     Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 
>     1L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 
>     1L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L), levels = c("CD271-", 
>     "CD271+"), class = "factor"), Viability = c(128.329809725159, 
>     24.2360176821065, 76.3597924274457, 11.0128771862387,
> 21.4683836248318, 140.784162982894, 87.4303286565443,
> 118.181818181818, 53.603690178743, 51.2973284643475,
> 5.47760907168941, 27.1574091870075, 50.8360561214684,
> 56.5250816836441, 28.6949836632712, 93.2731116663463,
> 71.900826446281, 32.2314049586777, 24.2360176821065,> mod = aov(Viability ~ Treatment*Expression, data = dat1)
> summary(mod)
> library(car)
> Anova(mod, type =2)
> 27.4649240822602, 24.0822602344801, 26.542379396502, 30.693830482414,
> 27.772438977513, 13.4729963482606, 8.24524312896406,
> 18.5469921199308, 13.9342686911397, 13.3192389006342,
> 9.9308091485681, 17.6244474341726, 16.2406304055353)), row.names =
> c(NA, -32L), class = c("tbl_df", "tbl", "data.frame"))

Then doing 

> mod = aov(Viability ~ Treatment*Expression, data = dat1)
> summary(mod)
> library(car)
> Anova(mod, type =2)

produced

>                      Df Sum Sq Mean Sq F value   Pr(>F)    
> Treatment             3  20004    6668   9.553 0.000246 ***
> Expression            1   2490    2490   3.568 0.071050 .  
> Treatment:Expression  3   2386     795   1.140 0.353142    
> Residuals            24  16751     698                     
> ---
> Signif. codes:  0 ?***? 0.001 ?**? 0.01 ?*? 0.05 ?.? 0.1 ? ? 1

> Anova Table (Type II tests)
> 
> Response: Viability
>                       Sum Sq Df F value    Pr(>F)    
> Treatment            20003.9  3  9.5534 0.0002462 ***
> Expression            2490.3  1  3.5679 0.0710500 .  
> Treatment:Expression  2386.1  3  1.1395 0.3531420    
> Residuals            16751.3 24                      
> ---
> Signif. codes:  0 ?***? 0.001 ?**? 0.01 ?*? 0.05 ?.? 0.1 ? ? 1

No apparent problems that I can discern.  No warnings.

cheers,

Rolf Turner

P.S.

> sessionInfo()
> R version 4.3.1 (2023-06-16)
> Platform: x86_64-pc-linux-gnu (64-bit)
> Running under: Ubuntu 22.04.3 LTS
> 
> Matrix products: default
> BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
> LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK
> version 3.10.0
> 
> locale:
>  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
>  [3] LC_TIME=en_NZ.UTF-8        LC_COLLATE=en_GB.UTF-8    
>  [5] LC_MONETARY=en_NZ.UTF-8    LC_MESSAGES=en_GB.UTF-8   
>  [7] LC_PAPER=en_NZ.UTF-8       LC_NAME=C                 
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
> [11] LC_MEASUREMENT=en_NZ.UTF-8 LC_IDENTIFICATION=C       
> 
> time zone: Pacific/Auckland
> tzcode source: system (glibc)
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>    
> 
> other attached packages:
> [1] car_3.0-7     carData_3.0-3 brev_0.0-8   
> 
> loaded via a namespace (and not attached):
>  [1] compiler_4.3.1    crayon_1.5.2      brio_1.1.3        zip_2.1.1
> [5] Rcpp_1.0.8.3      callr_3.7.3       readxl_1.3.1
> fastmap_1.1.1 [9] R6_2.5.1          openxlsx_4.1.4    curl_5.0.0
>   forcats_0.5.0 [13] tibble_3.2.1      desc_1.4.2
> rprojroot_2.0.3   nnet_7.3-19 [17] pillar_1.9.0      rlang_1.1.1
>  utf8_1.2.3        testthat_3.1.3 [21] stringi_1.7.8     cachem_1.0.8
>      fs_1.6.2          pkgload_1.2.4 [25] eglhmm_0.0-15
> memoise_2.0.1     cli_3.6.1         withr_2.5.0 [29] magrittr_2.0.3
>  ps_1.7.5          rio_0.5.29        processx_3.8.1 [33] haven_2.2.0
>      hms_1.1.3         remotes_2.4.2     devtools_2.4.2 [37]
> lifecycle_1.0.3   vctrs_0.6.2       prettyunits_1.1.1 glue_1.6.2 [41]
> data.table_1.12.8 cellranger_1.1.0  sessioninfo_1.2.2 abind_1.4-5
> [45] pkgbuild_1.4.0    fansi_1.0.4       colorspace_1.4-1
> foreign_0.8-79 [49] purrr_0.3.4       pkgconfig_2.0.3   tools_4.3.1
>     usethis_2.0.1 [53] ellipsis_0.3.2

R.T.

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From j|ox @end|ng |rom mcm@@ter@c@  Sun Sep 17 16:43:52 2023
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Sun, 17 Sep 2023 10:43:52 -0400
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
Message-ID: <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>

Dear Robert,

Anova() calls linearHypothesis(), also in the car package, to compute 
sums of squares and df, supplying appropriate hypothesis matrices. 
linearHypothesis() usually tries to express the hypothesis matrix in 
symbolic equation form for printing, but won't do this if coefficient 
names include arithmetic operators, in your case - and +, which can 
confuse it.

The symbolic form of the hypothesis isn't really relevant for Anova(), 
which doesn't use the printed representation of each hypothesis, and so, 
despite the warnings, you get the correct ANOVA table. In your case, 
where the data are balanced, with 4 cases per cell, Anova(mod) and 
summary(mod) are equivalent, which makes me wonder why you would use 
Anova() in the first place.

To elaborate a bit, linearHypothesis() does tolerate arithmetic 
operators in coefficient names if you specify the hypothesis 
symbolically rather than as a hypothesis matrix. For example, to test, 
the interaction:

------- snip --------

 > linearHypothesis(mod,
+                  c("TreatmentDabrafenib:ExpressionCD271+ = 0",
+                    "TreatmentTrametinib:ExpressionCD271+ = 0",
+                    "TreatmentCombination:ExpressionCD271+ = 0"))
Linear hypothesis test

Hypothesis:
TreatmentDabrafenib:ExpressionCD271+ = 0
TreatmentTrametinib:ExpressionCD271+ = 0
TreatmentCombination:ExpressionCD271+ = 0

Model 1: restricted model
Model 2: Viability ~ Treatment * Expression

   Res.Df   RSS Df Sum of Sq     F Pr(>F)
1     27 18966
2     24 16739  3    2226.3 1.064 0.3828

------- snip --------

Alternatively:

------- snip --------

 > H <- matrix(0, 3, 8)
 > H[1, 6] <- H[2, 7] <- H[3, 8] <- 1
 > H
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
[1,]    0    0    0    0    0    1    0    0
[2,]    0    0    0    0    0    0    1    0
[3,]    0    0    0    0    0    0    0    1

 > linearHypothesis(mod, H)
Linear hypothesis test

Hypothesis:


Model 1: restricted model
Model 2: Viability ~ Treatment * Expression

   Res.Df   RSS Df Sum of Sq     F Pr(>F)
1     27 18966
2     24 16739  3    2226.3 1.064 0.3828
Warning message:
In printHypothesis(L, rhs, names(b)) :
   one or more coefficients in the hypothesis include
      arithmetic operators in their names;
   the printed representation of the hypothesis will be omitted

------- snip --------

There's no good reason that linearHypothesis() should try to express 
each hypothesis symbolically for Anova(), since Anova() doesn't use that 
information. When I have some time, I'll arrange to avoid the warning.

Best,
  John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://www.john-fox.ca/
On 2023-09-16 4:39 p.m., Robert Baer wrote:
> Caution: External email.
> 
> 
> When doing Anova using the car package,  I get a print warning that is
> unexpected.  It seemingly involves have my flow cytometry factor levels
> named CD271+ and CD171-.  But I am not sure this warning should be
> intended behavior.  Any explanation about whether I'm doing something
> wrong? Why can't I have CD271+ and CD271- as factor levels?  Its legal
> text isn't it?
> 
> library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1)
> Anova(mod, type =2) Anova Table (Type II tests) Response: Viability Sum
> Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 *** Expression
> 2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3 1.0640
> 0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***? 0.001 ?**?
> 0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In printHypothesis(L,
> rhs, names(b)) : one or more coefficients in the hypothesis include
> arithmetic operators in their names; the printed representation of the
> hypothesis will be omitted 2: In printHypothesis(L, rhs, names(b)) : one
> or more coefficients in the hypothesis include arithmetic operators in
> their names; the printed representation of the hypothesis will be
> omitted 3: In printHypothesis(L, rhs, names(b)) : one or more
> coefficients in the hypothesis include arithmetic operators in their
> names; the printed representation of the hypothesis will be omitted
> 
> 
> The code to reproduce:
> 
> ```
> 
> 
> dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>                                                 1L, 1L, 1L, 2L, 2L, 2L,
> 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
>                                                 3L, 3L, 4L, 4L, 4L, 4L,
> 4L, 4L, 4L, 4L), levels = c("Control",
> "Dabrafenib", "Trametinib", "Combination"), class = "factor"),
>                         Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L,
>                                                  1L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
>                                                  1L, 2L, 2L, 2L, 2L, 1L,
> 1L, 1L, 1L), levels = c("CD271-",
> "CD271+"), class = "factor"),
>                         Viability = c(128.329809725159, 24.2360176821065,
> 76.3597924274457, 11.0128771862387, 21.4683836248318,
>                                       140.784162982894, 87.4303286565443,
> 118.181818181818, 53.603690178743,
>                                       51.2973284643475, 5.47760907168941,
> 27.1574091870075, 50.8360561214684,
>                                       56.5250816836441, 28.6949836632712,
> 93.2731116663463, 71.900826446281,
>                                       32.2314049586777, 24.2360176821065,
> 27.4649240822602, 24.0822602344801,
>                                       26.542379396502, 30.693830482414,
> 27.772438977513, 13.4729963482606,
>                                       8.24524312896406, 18.5469921199308,
> 13.9342686911397, 13.3192389006342,
>                                       19.9308091485681, 17.6244474341726,
> 16.2406304055353)),
>                    row.names = c(NA,
>                                  -32L),
>                    class = c("tbl_df", "tbl", "data.frame"))
> 
> mod = aov(Viability ~ Treatment*Expression, data = dat1)
> summary(mod)
> library(car)
> Anova(mod, type =2)
> 
> ```
> 
> 
>> sessionInfo() R version 4.3.1 (2023-06-16 ucrt) Platform:
> x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 11 x64 (build
> 25951) Matrix products: default locale: [1] LC_COLLATE=English_United
> States.utf8 LC_CTYPE=English_United States.utf8
> LC_MONETARY=English_United States.utf8 [4] LC_NUMERIC=C
> LC_TIME=English_United States.utf8 time zone: America/Chicago tzcode
> source: internal attached base packages: [1] stats graphics grDevices
> utils datasets methods base other attached packages: [1] car_3.1-2
> carData_3.0-5 tidyr_1.3.0 readr_2.1.4 readxl_1.4.3 ggplot2_3.4.3
> dplyr_1.1.3 loaded via a namespace (and not attached): [1] crayon_1.5.2
> vctrs_0.6.3 cli_3.6.1 rlang_1.1.1 purrr_1.0.2 generics_0.1.3
> labeling_0.4.3 [8] bit_4.0.5 glue_1.6.2 colorspace_2.1-0 hms_1.1.3
> scales_1.2.1 fansi_1.0.4 grid_4.3.1 [15] cellranger_1.1.0 abind_1.4-5
> munsell_0.5.0 tibble_3.2.1 tzdb_0.4.0 lifecycle_1.0.3 compiler_4.3.1
> [22] pkgconfig_2.0.3 rstudioapi_0.15.0 farver_2.1.1 R6_2.5.1
> tidyselect_1.2.0 utf8_1.2.3 parallel_4.3.1 [29] vroom_1.6.3 pillar_1.9.0
> magrittr_2.0.3 bit64_4.0.5 tools_4.3.1 withr_2.5.0 gtable_0.3.4
> 
> 
>          [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From rb@er @end|ng |rom @t@u@edu  Mon Sep 18 03:33:00 2023
From: rb@er @end|ng |rom @t@u@edu (Robert Baer)
Date: Sun, 17 Sep 2023 20:33:00 -0500
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
 <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>
Message-ID: <30f97286-6bab-53be-0b36-e93cd698792c@atsu.edu>

Thanks John. Appreciate the insights.

On 9/17/2023 9:43 AM, John Fox wrote:
> Dear Robert,
>
> Anova() calls linearHypothesis(), also in the car package, to compute 
> sums of squares and df, supplying appropriate hypothesis matrices. 
> linearHypothesis() usually tries to express the hypothesis matrix in 
> symbolic equation form for printing, but won't do this if coefficient 
> names include arithmetic operators, in your case - and +, which can 
> confuse it.
>
> The symbolic form of the hypothesis isn't really relevant for Anova(), 
> which doesn't use the printed representation of each hypothesis, and 
> so, despite the warnings, you get the correct ANOVA table. In your 
> case, where the data are balanced, with 4 cases per cell, Anova(mod) 
> and summary(mod) are equivalent, which makes me wonder why you would 
> use Anova() in the first place.
>
> To elaborate a bit, linearHypothesis() does tolerate arithmetic 
> operators in coefficient names if you specify the hypothesis 
> symbolically rather than as a hypothesis matrix. For example, to test, 
> the interaction:
>
> ------- snip --------
>
> > linearHypothesis(mod,
> +????????????????? c("TreatmentDabrafenib:ExpressionCD271+ = 0",
> +??????????????????? "TreatmentTrametinib:ExpressionCD271+ = 0",
> +??????????????????? "TreatmentCombination:ExpressionCD271+ = 0"))
> Linear hypothesis test
>
> Hypothesis:
> TreatmentDabrafenib:ExpressionCD271+ = 0
> TreatmentTrametinib:ExpressionCD271+ = 0
> TreatmentCombination:ExpressionCD271+ = 0
>
> Model 1: restricted model
> Model 2: Viability ~ Treatment * Expression
>
> ? Res.Df?? RSS Df Sum of Sq???? F Pr(>F)
> 1???? 27 18966
> 2???? 24 16739? 3??? 2226.3 1.064 0.3828
>
> ------- snip --------
>
> Alternatively:
>
> ------- snip --------
>
> > H <- matrix(0, 3, 8)
> > H[1, 6] <- H[2, 7] <- H[3, 8] <- 1
> > H
> ???? [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
> [1,]??? 0??? 0??? 0??? 0??? 0??? 1??? 0??? 0
> [2,]??? 0??? 0??? 0??? 0??? 0??? 0??? 1??? 0
> [3,]??? 0??? 0??? 0??? 0??? 0??? 0??? 0??? 1
>
> > linearHypothesis(mod, H)
> Linear hypothesis test
>
> Hypothesis:
>
>
> Model 1: restricted model
> Model 2: Viability ~ Treatment * Expression
>
> ? Res.Df?? RSS Df Sum of Sq???? F Pr(>F)
> 1???? 27 18966
> 2???? 24 16739? 3??? 2226.3 1.064 0.3828
> Warning message:
> In printHypothesis(L, rhs, names(b)) :
> ? one or more coefficients in the hypothesis include
> ???? arithmetic operators in their names;
> ? the printed representation of the hypothesis will be omitted
>
> ------- snip --------
>
> There's no good reason that linearHypothesis() should try to express 
> each hypothesis symbolically for Anova(), since Anova() doesn't use 
> that information. When I have some time, I'll arrange to avoid the 
> warning.
>
> Best,
> ?John
>


From pd@|gd @end|ng |rom gm@||@com  Mon Sep 18 16:08:57 2023
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 18 Sep 2023 16:08:57 +0200
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
 <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>
Message-ID: <A5DEAE2A-C991-45EE-A966-079527335716@gmail.com>

Also, I would guess that the code precedes the use of backticks in non-syntactic names. Could they be deployed here?

- Peter

> On 17 Sep 2023, at 16:43 , John Fox <jfox at mcmaster.ca> wrote:
> 
> Dear Robert,
> 
> Anova() calls linearHypothesis(), also in the car package, to compute sums of squares and df, supplying appropriate hypothesis matrices. linearHypothesis() usually tries to express the hypothesis matrix in symbolic equation form for printing, but won't do this if coefficient names include arithmetic operators, in your case - and +, which can confuse it.
> 
> The symbolic form of the hypothesis isn't really relevant for Anova(), which doesn't use the printed representation of each hypothesis, and so, despite the warnings, you get the correct ANOVA table. In your case, where the data are balanced, with 4 cases per cell, Anova(mod) and summary(mod) are equivalent, which makes me wonder why you would use Anova() in the first place.
> 
> To elaborate a bit, linearHypothesis() does tolerate arithmetic operators in coefficient names if you specify the hypothesis symbolically rather than as a hypothesis matrix. For example, to test, the interaction:
> 
> ------- snip --------
> 
> > linearHypothesis(mod,
> +                  c("TreatmentDabrafenib:ExpressionCD271+ = 0",
> +                    "TreatmentTrametinib:ExpressionCD271+ = 0",
> +                    "TreatmentCombination:ExpressionCD271+ = 0"))
> Linear hypothesis test
> 
> Hypothesis:
> TreatmentDabrafenib:ExpressionCD271+ = 0
> TreatmentTrametinib:ExpressionCD271+ = 0
> TreatmentCombination:ExpressionCD271+ = 0
> 
> Model 1: restricted model
> Model 2: Viability ~ Treatment * Expression
> 
>  Res.Df   RSS Df Sum of Sq     F Pr(>F)
> 1     27 18966
> 2     24 16739  3    2226.3 1.064 0.3828
> 
> ------- snip --------
> 
> Alternatively:
> 
> ------- snip --------
> 
> > H <- matrix(0, 3, 8)
> > H[1, 6] <- H[2, 7] <- H[3, 8] <- 1
> > H
>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
> [1,]    0    0    0    0    0    1    0    0
> [2,]    0    0    0    0    0    0    1    0
> [3,]    0    0    0    0    0    0    0    1
> 
> > linearHypothesis(mod, H)
> Linear hypothesis test
> 
> Hypothesis:
> 
> 
> Model 1: restricted model
> Model 2: Viability ~ Treatment * Expression
> 
>  Res.Df   RSS Df Sum of Sq     F Pr(>F)
> 1     27 18966
> 2     24 16739  3    2226.3 1.064 0.3828
> Warning message:
> In printHypothesis(L, rhs, names(b)) :
>  one or more coefficients in the hypothesis include
>     arithmetic operators in their names;
>  the printed representation of the hypothesis will be omitted
> 
> ------- snip --------
> 
> There's no good reason that linearHypothesis() should try to express each hypothesis symbolically for Anova(), since Anova() doesn't use that information. When I have some time, I'll arrange to avoid the warning.
> 
> Best,
> John
> 
> -- 
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web: https://www.john-fox.ca/
> On 2023-09-16 4:39 p.m., Robert Baer wrote:
>> Caution: External email.
>> When doing Anova using the car package,  I get a print warning that is
>> unexpected.  It seemingly involves have my flow cytometry factor levels
>> named CD271+ and CD171-.  But I am not sure this warning should be
>> intended behavior.  Any explanation about whether I'm doing something
>> wrong? Why can't I have CD271+ and CD271- as factor levels?  Its legal
>> text isn't it?
>> library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1)
>> Anova(mod, type =2) Anova Table (Type II tests) Response: Viability Sum
>> Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 *** Expression
>> 2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3 1.0640
>> 0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***? 0.001 ?**?
>> 0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In printHypothesis(L,
>> rhs, names(b)) : one or more coefficients in the hypothesis include
>> arithmetic operators in their names; the printed representation of the
>> hypothesis will be omitted 2: In printHypothesis(L, rhs, names(b)) : one
>> or more coefficients in the hypothesis include arithmetic operators in
>> their names; the printed representation of the hypothesis will be
>> omitted 3: In printHypothesis(L, rhs, names(b)) : one or more
>> coefficients in the hypothesis include arithmetic operators in their
>> names; the printed representation of the hypothesis will be omitted
>> The code to reproduce:
>> ```
>> dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>>                                                1L, 1L, 1L, 2L, 2L, 2L,
>> 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
>>                                                3L, 3L, 4L, 4L, 4L, 4L,
>> 4L, 4L, 4L, 4L), levels = c("Control",
>> "Dabrafenib", "Trametinib", "Combination"), class = "factor"),
>>                        Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L,
>> 1L, 1L,
>>                                                 1L, 2L, 2L, 2L, 2L, 1L,
>> 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
>>                                                 1L, 2L, 2L, 2L, 2L, 1L,
>> 1L, 1L, 1L), levels = c("CD271-",
>> "CD271+"), class = "factor"),
>>                        Viability = c(128.329809725159, 24.2360176821065,
>> 76.3597924274457, 11.0128771862387, 21.4683836248318,
>>                                      140.784162982894, 87.4303286565443,
>> 118.181818181818, 53.603690178743,
>>                                      51.2973284643475, 5.47760907168941,
>> 27.1574091870075, 50.8360561214684,
>>                                      56.5250816836441, 28.6949836632712,
>> 93.2731116663463, 71.900826446281,
>>                                      32.2314049586777, 24.2360176821065,
>> 27.4649240822602, 24.0822602344801,
>>                                      26.542379396502, 30.693830482414,
>> 27.772438977513, 13.4729963482606,
>>                                      8.24524312896406, 18.5469921199308,
>> 13.9342686911397, 13.3192389006342,
>>                                      19.9308091485681, 17.6244474341726,
>> 16.2406304055353)),
>>                   row.names = c(NA,
>>                                 -32L),
>>                   class = c("tbl_df", "tbl", "data.frame"))
>> mod = aov(Viability ~ Treatment*Expression, data = dat1)
>> summary(mod)
>> library(car)
>> Anova(mod, type =2)
>> ```
>>> sessionInfo() R version 4.3.1 (2023-06-16 ucrt) Platform:
>> x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 11 x64 (build
>> 25951) Matrix products: default locale: [1] LC_COLLATE=English_United
>> States.utf8 LC_CTYPE=English_United States.utf8
>> LC_MONETARY=English_United States.utf8 [4] LC_NUMERIC=C
>> LC_TIME=English_United States.utf8 time zone: America/Chicago tzcode
>> source: internal attached base packages: [1] stats graphics grDevices
>> utils datasets methods base other attached packages: [1] car_3.1-2
>> carData_3.0-5 tidyr_1.3.0 readr_2.1.4 readxl_1.4.3 ggplot2_3.4.3
>> dplyr_1.1.3 loaded via a namespace (and not attached): [1] crayon_1.5.2
>> vctrs_0.6.3 cli_3.6.1 rlang_1.1.1 purrr_1.0.2 generics_0.1.3
>> labeling_0.4.3 [8] bit_4.0.5 glue_1.6.2 colorspace_2.1-0 hms_1.1.3
>> scales_1.2.1 fansi_1.0.4 grid_4.3.1 [15] cellranger_1.1.0 abind_1.4-5
>> munsell_0.5.0 tibble_3.2.1 tzdb_0.4.0 lifecycle_1.0.3 compiler_4.3.1
>> [22] pkgconfig_2.0.3 rstudioapi_0.15.0 farver_2.1.1 R6_2.5.1
>> tidyselect_1.2.0 utf8_1.2.3 parallel_4.3.1 [29] vroom_1.6.3 pillar_1.9.0
>> magrittr_2.0.3 bit64_4.0.5 tools_4.3.1 withr_2.5.0 gtable_0.3.4
>>         [[alternative HTML version deleted]]
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From j|ox @end|ng |rom mcm@@ter@c@  Mon Sep 18 17:50:32 2023
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Mon, 18 Sep 2023 11:50:32 -0400
Subject: [R] Print hypothesis warning- Car package
In-Reply-To: <A5DEAE2A-C991-45EE-A966-079527335716@gmail.com>
References: <e4260eec-9e96-f90f-d698-9bc135b61d30@atsu.edu>
 <b655a6b1-5f1f-45fb-96c1-b25b29d6809b@mcmaster.ca>
 <A5DEAE2A-C991-45EE-A966-079527335716@gmail.com>
Message-ID: <e8775f00-c775-4060-9113-90aa7632e3b7@mcmaster.ca>

Hi Peter,

On 2023-09-18 10:08 a.m., peter dalgaard wrote:
> Caution: External email.
> 
> 
> Also, I would guess that the code precedes the use of backticks in non-syntactic names. 

Indeed, by more than a decade (though modified in the interim).

> Could they be deployed here?

I don't think so, at least not without changing how the function works.

The problem doesn't occur when the hypothesis is specified symbolically 
as a character vector, including in equation form, only when the 
hypothesis matrix is given directly, in which case linearHypothesis() 
tries to construct the equation-form representation, again as character 
vectors. Its inability to do so when the coefficient names include 
arithmetic operators doesn't, I think, require a warning or even a 
message: the symbolic representation of the hypothesis can simply be 
omitted. The numeric results reported are entirely unaffected.

I've made this change and will commit it to the next version of the car 
package.

Thank you for the suggestion,
  John


> 
> - Peter
> 
>> On 17 Sep 2023, at 16:43 , John Fox <jfox at mcmaster.ca> wrote:
>>
>> Dear Robert,
>>
>> Anova() calls linearHypothesis(), also in the car package, to compute sums of squares and df, supplying appropriate hypothesis matrices. linearHypothesis() usually tries to express the hypothesis matrix in symbolic equation form for printing, but won't do this if coefficient names include arithmetic operators, in your case - and +, which can confuse it.
>>
>> The symbolic form of the hypothesis isn't really relevant for Anova(), which doesn't use the printed representation of each hypothesis, and so, despite the warnings, you get the correct ANOVA table. In your case, where the data are balanced, with 4 cases per cell, Anova(mod) and summary(mod) are equivalent, which makes me wonder why you would use Anova() in the first place.
>>
>> To elaborate a bit, linearHypothesis() does tolerate arithmetic operators in coefficient names if you specify the hypothesis symbolically rather than as a hypothesis matrix. For example, to test, the interaction:
>>
>> ------- snip --------
>>
>>> linearHypothesis(mod,
>> +                  c("TreatmentDabrafenib:ExpressionCD271+ = 0",
>> +                    "TreatmentTrametinib:ExpressionCD271+ = 0",
>> +                    "TreatmentCombination:ExpressionCD271+ = 0"))
>> Linear hypothesis test
>>
>> Hypothesis:
>> TreatmentDabrafenib:ExpressionCD271+ = 0
>> TreatmentTrametinib:ExpressionCD271+ = 0
>> TreatmentCombination:ExpressionCD271+ = 0
>>
>> Model 1: restricted model
>> Model 2: Viability ~ Treatment * Expression
>>
>>   Res.Df   RSS Df Sum of Sq     F Pr(>F)
>> 1     27 18966
>> 2     24 16739  3    2226.3 1.064 0.3828
>>
>> ------- snip --------
>>
>> Alternatively:
>>
>> ------- snip --------
>>
>>> H <- matrix(0, 3, 8)
>>> H[1, 6] <- H[2, 7] <- H[3, 8] <- 1
>>> H
>>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
>> [1,]    0    0    0    0    0    1    0    0
>> [2,]    0    0    0    0    0    0    1    0
>> [3,]    0    0    0    0    0    0    0    1
>>
>>> linearHypothesis(mod, H)
>> Linear hypothesis test
>>
>> Hypothesis:
>>
>>
>> Model 1: restricted model
>> Model 2: Viability ~ Treatment * Expression
>>
>>   Res.Df   RSS Df Sum of Sq     F Pr(>F)
>> 1     27 18966
>> 2     24 16739  3    2226.3 1.064 0.3828
>> Warning message:
>> In printHypothesis(L, rhs, names(b)) :
>>   one or more coefficients in the hypothesis include
>>      arithmetic operators in their names;
>>   the printed representation of the hypothesis will be omitted
>>
>> ------- snip --------
>>
>> There's no good reason that linearHypothesis() should try to express each hypothesis symbolically for Anova(), since Anova() doesn't use that information. When I have some time, I'll arrange to avoid the warning.
>>
>> Best,
>> John
>>
>> --
>> John Fox, Professor Emeritus
>> McMaster University
>> Hamilton, Ontario, Canada
>> web: https://www.john-fox.ca/
>> On 2023-09-16 4:39 p.m., Robert Baer wrote:
>>> Caution: External email.
>>> When doing Anova using the car package,  I get a print warning that is
>>> unexpected.  It seemingly involves have my flow cytometry factor levels
>>> named CD271+ and CD171-.  But I am not sure this warning should be
>>> intended behavior.  Any explanation about whether I'm doing something
>>> wrong? Why can't I have CD271+ and CD271- as factor levels?  Its legal
>>> text isn't it?
>>> library(car) mod = aov(Viability ~ Treatment*Expression, data = dat1)
>>> Anova(mod, type =2) Anova Table (Type II tests) Response: Viability Sum
>>> Sq Df F value Pr(>F) Treatment 19447.3 3 9.2942 0.0002927 *** Expression
>>> 2669.8 1 3.8279 0.0621394 . Treatment:Expression 2226.3 3 1.0640
>>> 0.3828336 Residuals 16739.3 24 --- Signif. codes: 0 ?***? 0.001 ?**?
>>> 0.01 ?*? 0.05 ?.? 0.1 ? ? 1 Warning messages: 1: In printHypothesis(L,
>>> rhs, names(b)) : one or more coefficients in the hypothesis include
>>> arithmetic operators in their names; the printed representation of the
>>> hypothesis will be omitted 2: In printHypothesis(L, rhs, names(b)) : one
>>> or more coefficients in the hypothesis include arithmetic operators in
>>> their names; the printed representation of the hypothesis will be
>>> omitted 3: In printHypothesis(L, rhs, names(b)) : one or more
>>> coefficients in the hypothesis include arithmetic operators in their
>>> names; the printed representation of the hypothesis will be omitted
>>> The code to reproduce:
>>> ```
>>> dat1 <-structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 3L, 1L,
>>>                                                 1L, 1L, 1L, 2L, 2L, 2L,
>>> 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L,
>>>                                                 3L, 3L, 4L, 4L, 4L, 4L,
>>> 4L, 4L, 4L, 4L), levels = c("Control",
>>> "Dabrafenib", "Trametinib", "Combination"), class = "factor"),
>>>                         Expression = structure(c(2L, 2L, 2L, 2L, 2L, 1L,
>>> 1L, 1L,
>>>                                                  1L, 2L, 2L, 2L, 2L, 1L,
>>> 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L,
>>>                                                  1L, 2L, 2L, 2L, 2L, 1L,
>>> 1L, 1L, 1L), levels = c("CD271-",
>>> "CD271+"), class = "factor"),
>>>                         Viability = c(128.329809725159, 24.2360176821065,
>>> 76.3597924274457, 11.0128771862387, 21.4683836248318,
>>>                                       140.784162982894, 87.4303286565443,
>>> 118.181818181818, 53.603690178743,
>>>                                       51.2973284643475, 5.47760907168941,
>>> 27.1574091870075, 50.8360561214684,
>>>                                       56.5250816836441, 28.6949836632712,
>>> 93.2731116663463, 71.900826446281,
>>>                                       32.2314049586777, 24.2360176821065,
>>> 27.4649240822602, 24.0822602344801,
>>>                                       26.542379396502, 30.693830482414,
>>> 27.772438977513, 13.4729963482606,
>>>                                       8.24524312896406, 18.5469921199308,
>>> 13.9342686911397, 13.3192389006342,
>>>                                       19.9308091485681, 17.6244474341726,
>>> 16.2406304055353)),
>>>                    row.names = c(NA,
>>>                                  -32L),
>>>                    class = c("tbl_df", "tbl", "data.frame"))
>>> mod = aov(Viability ~ Treatment*Expression, data = dat1)
>>> summary(mod)
>>> library(car)
>>> Anova(mod, type =2)
>>> ```
>>>> sessionInfo() R version 4.3.1 (2023-06-16 ucrt) Platform:
>>> x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 11 x64 (build
>>> 25951) Matrix products: default locale: [1] LC_COLLATE=English_United
>>> States.utf8 LC_CTYPE=English_United States.utf8
>>> LC_MONETARY=English_United States.utf8 [4] LC_NUMERIC=C
>>> LC_TIME=English_United States.utf8 time zone: America/Chicago tzcode
>>> source: internal attached base packages: [1] stats graphics grDevices
>>> utils datasets methods base other attached packages: [1] car_3.1-2
>>> carData_3.0-5 tidyr_1.3.0 readr_2.1.4 readxl_1.4.3 ggplot2_3.4.3
>>> dplyr_1.1.3 loaded via a namespace (and not attached): [1] crayon_1.5.2
>>> vctrs_0.6.3 cli_3.6.1 rlang_1.1.1 purrr_1.0.2 generics_0.1.3
>>> labeling_0.4.3 [8] bit_4.0.5 glue_1.6.2 colorspace_2.1-0 hms_1.1.3
>>> scales_1.2.1 fansi_1.0.4 grid_4.3.1 [15] cellranger_1.1.0 abind_1.4-5
>>> munsell_0.5.0 tibble_3.2.1 tzdb_0.4.0 lifecycle_1.0.3 compiler_4.3.1
>>> [22] pkgconfig_2.0.3 rstudioapi_0.15.0 farver_2.1.1 R6_2.5.1
>>> tidyselect_1.2.0 utf8_1.2.3 parallel_4.3.1 [29] vroom_1.6.3 pillar_1.9.0
>>> magrittr_2.0.3 bit64_4.0.5 tools_4.3.1 withr_2.5.0 gtable_0.3.4
>>>          [[alternative HTML version deleted]]
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>


From n|ckmwr@y @end|ng |rom gm@||@com  Mon Sep 18 18:54:02 2023
From: n|ckmwr@y @end|ng |rom gm@||@com (Nick Wray)
Date: Mon, 18 Sep 2023 17:54:02 +0100
Subject: [R] halting with errors
Message-ID: <CABxY9BOqnok-6+WxKnu-Ppk69O_uDnehzOvoTZ5uDkwz40nGZQ@mail.gmail.com>

Hello  I am downloading flow data from the UK national river flow archive
(NRFA).  I have code which works (thanks to previous help on r-help) but
the problem is that before I make a call for the data for that particular
year I don?t know whether the data exists for that particular year and
catchment

This is a typical url  and it works if you paste it into the top line on a
web page.  15007 is the code for the Pitnacree catchment in Scotland

https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15007/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code

It works in R as well with

page<-read_html("
https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15007/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
")

    yiq<-page |>

      html_element("table") |>

      html_table(header = TRUE) |>

      (\(x) {

        hdr <- unlist(x[3, ])

        y <- x[-(1:3), ]

        names(y) <- hdr

        y

      })()

        print(nrow(yiq))

    yiq



But if I try to move onto another catchment Kenmore 15006

eg



https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15016/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code

So in R

read_html(?
https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15016/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
?)

This doesn?t work because there?s no data for this catchment for this year

I am pasting in different years (from say 1961 to 2017) in a loop (and this
works if the data sets exist) but the problem is that if the data is not
there (and there doesn?t seem to be a way of determining this elsewhere)
and so there?s nothing to read, an error message comes up and halts the
program loop, so that manually I have to reset the url to try to find out
whether there is data for the next year.

What I?d like to know is whether there?s any way in R of seeing whether the
data set exists, and if doesn?t, moving on the next possibility without
halting?

Any thoughts appreciated

Thanks Nick Wray

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Sep 18 18:58:41 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 18 Sep 2023 12:58:41 -0400
Subject: [R] halting with errors
In-Reply-To: <CABxY9BOqnok-6+WxKnu-Ppk69O_uDnehzOvoTZ5uDkwz40nGZQ@mail.gmail.com>
References: <CABxY9BOqnok-6+WxKnu-Ppk69O_uDnehzOvoTZ5uDkwz40nGZQ@mail.gmail.com>
Message-ID: <5999b4ae-df38-4ca6-a583-7772b97808a7@gmail.com>

You can use try() or tryCatch().  The former is simpler, the latter is 
more flexible.

For example:

   result <- 
try(read_html(?https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15016/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code?))
   if (inherits(result, "try-error"))
     message("year 2015 doesn't have data")
   else {
      ... do the usual stuff ...
   }



On 18/09/2023 12:54 p.m., Nick Wray wrote:
> Hello  I am downloading flow data from the UK national river flow archive
> (NRFA).  I have code which works (thanks to previous help on r-help) but
> the problem is that before I make a call for the data for that particular
> year I don?t know whether the data exists for that particular year and
> catchment
> 
> This is a typical url  and it works if you paste it into the top line on a
> web page.  15007 is the code for the Pitnacree catchment in Scotland
> 
> https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15007/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
> 
> It works in R as well with
> 
> page<-read_html("
> https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15007/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
> ")
> 
>      yiq<-page |>
> 
>        html_element("table") |>
> 
>        html_table(header = TRUE) |>
> 
>        (\(x) {
> 
>          hdr <- unlist(x[3, ])
> 
>          y <- x[-(1:3), ]
> 
>          names(y) <- hdr
> 
>          y
> 
>        })()
> 
>          print(nrow(yiq))
> 
>      yiq
> 
> 
> 
> But if I try to move onto another catchment Kenmore 15006
> 
> eg
> 
> 
> 
> https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15016/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
> 
> So in R
> 
> read_html(?
> https://timeseries.sepa.org.uk/KiWIS/KiWIS?service=kisters&type=queryServices&datasource=0&request=getTimeseriesValues&ts_path=1/15016/Q/15m.Cmd&from=2015-01-01&to=2015-01-31&returnfields=Timestamp,Value,Quality%20Code
> ?)
> 
> This doesn?t work because there?s no data for this catchment for this year
> 
> I am pasting in different years (from say 1961 to 2017) in a loop (and this
> works if the data sets exist) but the problem is that if the data is not
> there (and there doesn?t seem to be a way of determining this elsewhere)
> and so there?s nothing to read, an error message comes up and halts the
> program loop, so that manually I have to reset the url to try to find out
> whether there is data for the next year.
> 
> What I?d like to know is whether there?s any way in R of seeing whether the
> data set exists, and if doesn?t, moving on the next possibility without
> halting?
> 
> Any thoughts appreciated
> 
> Thanks Nick Wray
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From r@dh@kr|@hn@n@moh@n @end|ng |rom gm@||@com  Mon Sep 18 19:45:10 2023
From: r@dh@kr|@hn@n@moh@n @end|ng |rom gm@||@com (mohan radhakrishnan)
Date: Mon, 18 Sep 2023 23:15:10 +0530
Subject: [R] Hadamard transformation
Message-ID: <CAOoXFP_9kFVscY0qoLt20vBNnaD-JyDU_xhAmT7fQRGmxE7pmg@mail.gmail.com>

Hello,

I am attempting to port the R code which is an answer to
https://codegolf.stackexchange.com/questions/194229/implement-the-2d-hadamard-transform


function(M){for(i in 1:log2(nrow(M)))T=T%x%matrix(1-2*!3:0,2)/2; print(T);
T%*%M%*%T}

The code, 3 inputs and the corresponding outputs are shown in
https://tio.run/##PYyxCsIwFEX3fkUcAu at VV7WvcSl2dOwi8QNqNSXQJhAqrYjfHoOIwz3D4XBDNOJYiGgerp@td9Diy/gAVlgnynr0A4MLfkkeUTdarnLq5mBXKAvON1W9J8YdZ1rmsk3T72jgV/TAVBHTAROYrs/00 at jz5YSY/aOSFKmvGP1yD9sk4Wa7ARSSRowf

These are the inputs.

f(matrix(c(2,3,2,5),2,2,byrow=TRUE))
f(matrix(1,4,4))
f(lower.tri(diag(4),T))

My attempt to port this R code to another framework(Tensorflow) was only
partially successful
because I didn't fully understand the cryptic R code. The second input
shown above works after
hacking Tensorflow for a long time.

My question is this. Can anyone code this in a clear way so that I can
understand ? I understand
Kronecker Product and matrix multiplication and can port that code but I am
missing something as the same ported code does not work for all inputs.

Thanks,
Mohan

	[[alternative HTML version deleted]]


From ph|||p@w@ggoner @end|ng |rom gm@||@com  Mon Sep 18 16:28:40 2023
From: ph|||p@w@ggoner @end|ng |rom gm@||@com (P. D. Waggoner)
Date: Mon, 18 Sep 2023 08:28:40 -0600
Subject: [R] Post Details for Two ASA Awards
Message-ID: <690FA503-9801-4256-A115-F6FF7ED26481@gmail.com>

Please post to R-help:


Hi all -

I wanted to share a message putting TWO upcoming awards on your radar. These are jointly sponsored by the Graphics and Computing sections of the American Statistical Association (ASA): 

The student Paper Award. Full details here: https://community.amstat.org/jointscsg-section/awards/student-paper-competition 
All application materials MUST BE RECEIVED by 5:00 PM EST, Thursday, December 15, 2023. The submission window will be open on December 1, 2023. They will be reviewed by the Student Paper Competition Award committee of the Statistical Computing and Graphics Sections. The selection criteria used by the committee will include innovation and significance of the contribution as well as the professional quality of the manuscript. Award announcements will be made by January 15, 2024. 

John M. Chambers Statistical Software Award. Full details here: https://community.amstat.org/jointscsg-section/awards/john-m-chambers
All application materials MUST BE RECEIVED by 5:00 PM EST, Thursday, December 15, 2023. The submission window will be open at http://asa.stat.uconn.edu <http://asa.stat.uconn.edu/> on December 1, 2023. The entries will be judged on a variety of dimensions, including the importance and relevance for statistical practice of the tasks performed by the software, ease of use, clarity of description, elegance and availability for use by the statistical community. Preference will be given to those entries that are grounded in software design rather than calculation. Award announcements will be made by January 15, 2024.

I am chairing the awards process (and one of the committees) this term and would be happy to answer any questions. Thanks!

Philip Waggoner

https://pdwaggoner.github.io/
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Mon Sep 18 20:16:13 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Mon, 18 Sep 2023 19:16:13 +0100
Subject: [R] Hadamard transformation
In-Reply-To: <CAOoXFP_9kFVscY0qoLt20vBNnaD-JyDU_xhAmT7fQRGmxE7pmg@mail.gmail.com>
References: <CAOoXFP_9kFVscY0qoLt20vBNnaD-JyDU_xhAmT7fQRGmxE7pmg@mail.gmail.com>
Message-ID: <2e3ec62d-9347-4985-a5f7-3a4d6329cca5@sapo.pt>

?s 18:45 de 18/09/2023, mohan radhakrishnan escreveu:
> Hello,
> 
> I am attempting to port the R code which is an answer to
> https://codegolf.stackexchange.com/questions/194229/implement-the-2d-hadamard-transform
> 
> 
> function(M){for(i in 1:log2(nrow(M)))T=T%x%matrix(1-2*!3:0,2)/2; print(T);
> T%*%M%*%T}
> 
> The code, 3 inputs and the corresponding outputs are shown in
> https://tio.run/##PYyxCsIwFEX3fkUcAu at VV7WvcSl2dOwi8QNqNSXQJhAqrYjfHoOIwz3D4XBDNOJYiGgerp@td9Diy/gAVlgnynr0A4MLfkkeUTdarnLq5mBXKAvON1W9J8YdZ1rmsk3T72jgV/TAVBHTAROYrs/00 at jz5YSY/aOSFKmvGP1yD9sk4Wa7ARSSRowf
> 
> These are the inputs.
> 
> f(matrix(c(2,3,2,5),2,2,byrow=TRUE))
> f(matrix(1,4,4))
> f(lower.tri(diag(4),T))
> 
> My attempt to port this R code to another framework(Tensorflow) was only
> partially successful
> because I didn't fully understand the cryptic R code. The second input
> shown above works after
> hacking Tensorflow for a long time.
> 
> My question is this. Can anyone code this in a clear way so that I can
> understand ? I understand
> Kronecker Product and matrix multiplication and can port that code but I am
> missing something as the same ported code does not work for all inputs.
> 
> Thanks,
> Mohan
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

Is this what you want?
(I have changed the notation a bit.)


H <- function(M){
   H0 <- 1
   Transf <- matrix(c(1, 1, 1, -1), 2L)
   for(i in 1:log2(nrow(M))) {
     H0 <- H0 %x% Transf/2
   }
   H0 %*% M %*% H0
}

x <- matrix(c(2, 3, 2, 5), 2, 2, byrow = TRUE)
y <- matrix(1, 4, 4)
z <- lower.tri(diag(4), TRUE)
z[] <- apply(z, 2, as.integer)
H(x)
H(y)
H(z)



Hope this helps,

Rui Barradas


From g@@@uu| @end|ng |rom gm@||@com  Tue Sep 19 06:21:08 2023
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Tue, 19 Sep 2023 13:21:08 +0900
Subject: [R] overlay shaded area in base r plot
Message-ID: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>

Dear R-Help,

I try to overlay two standard deviations from two means. How to change
the overlaid area between two shaded areas into a specific color or
maybe a soft color in a plot?

> dput(mean1[1:20])
c(122.194495954369, 118.955256282505, 115.540991140893, 113.116216840647,
111.24053267553, 109.827890459103, 108.523652505026, 107.033183023752,
105.259229707182, 103.124055471975, 100.877524901322, 98.6376579858244,
96.5156796979913, 94.6968535964952, 93.0502858942909, 91.5977750931902,
90.2651576455091, 89.0734094965085, 87.9562971122031, 86.9443758094494
)

> dput(mean2[1:20])
c(85.9733226064336, 85.1790888261485, 84.4436873347186, 83.8339820163413,
83.2527178882373, 82.7270110163027, 82.2807280513966, 81.9025314782845,
81.4641947900397, 81.0208948190769, 80.5647455355762, 80.0587583244909,
78.9354501839752, 78.4263183538841, 78.3688690670842, 77.9632850076303,
77.6888937972956, 77.5689173832678, 77.5860621564674, 77.6375257226031

> dput(sd1[1:20])
c(17.0473968859792, 19.7055838512895, 20.0280169279762, 19.5651973323109,
19.4292448372276, 19.0540881390057, 18.9295826565011, 18.7039744205801,
18.688319090752, 18.6946307822843, 18.7427879417687, 18.8069804986113,
18.8794754969972, 18.9830959093513, 19.0754455885966, 19.1360320444124,
19.0546404913351, 19.1280788210156, 19.2014747953522, 19.2456454651155
)

> dput(sd2[1:20])
c(19.2537538439847, 19.2462114145511, 19.2253213677253, 19.2476344684752,
19.2494964552016, 19.2871242318276, 19.2695982918065, 19.261879086708,
19.3410606442566, 19.3257171172684, 19.5029937941038, 19.5286520380856,
19.472587329424, 19.4815048434245, 19.3056947381611, 19.2193415347369,
19.1367354761276, 19.062832883228, 19.0123017669597, 18.9504334825052
)

what i've done:

plot(mean1[1:20],type="l", ylim=c(170,60),las=1,
     xlab="Data",ylab=expression(bold("Val")),cex.axis=1.2,font=2,
cex.lab=1.2,lwd=4)
polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
lines(mean1,lty=1,lwd=2,col="blue")
lines(mean2,lty=1,lwd=2,col="yellow")

what i want is like in this source, but using base r plot if possible:

https://datascience.stackexchange.com/questions/30913/plots-with-shaded-standard-deviation

Any help and suggestion is very welcome!

Best,
Ani


From r@dh@kr|@hn@n@moh@n @end|ng |rom gm@||@com  Tue Sep 19 06:53:38 2023
From: r@dh@kr|@hn@n@moh@n @end|ng |rom gm@||@com (mohan radhakrishnan)
Date: Tue, 19 Sep 2023 10:23:38 +0530
Subject: [R] Hadamard transformation
In-Reply-To: <2e3ec62d-9347-4985-a5f7-3a4d6329cca5@sapo.pt>
References: <CAOoXFP_9kFVscY0qoLt20vBNnaD-JyDU_xhAmT7fQRGmxE7pmg@mail.gmail.com>
 <2e3ec62d-9347-4985-a5f7-3a4d6329cca5@sapo.pt>
Message-ID: <CAOoXFP_ENEUUyju-yGqfvwzx3mA=J4qKSM3d0013MotLBwzBRw@mail.gmail.com>

Hello,
          It really helped.

Thanks.

On Mon, Sep 18, 2023 at 11:46?PM Rui Barradas <ruipbarradas at sapo.pt> wrote:

> ?s 18:45 de 18/09/2023, mohan radhakrishnan escreveu:
> > Hello,
> >
> > I am attempting to port the R code which is an answer to
> >
> https://codegolf.stackexchange.com/questions/194229/implement-the-2d-hadamard-transform
> >
> >
> > function(M){for(i in 1:log2(nrow(M)))T=T%x%matrix(1-2*!3:0,2)/2;
> print(T);
> > T%*%M%*%T}
> >
> > The code, 3 inputs and the corresponding outputs are shown in
> >
> https://tio.run/##PYyxCsIwFEX3fkUcAu at VV7WvcSl2dOwi8QNqNSXQJhAqrYjfHoOIwz3D4XBDNOJYiGgerp@td9Diy/gAVlgnynr0A4MLfkkeUTdarnLq5mBXKAvON1W9J8YdZ1rmsk3T72jgV/TAVBHTAROYrs/00 at jz5YSY/aOSFKmvGP1yD9sk4Wa7ARSSRowf
> >
> > These are the inputs.
> >
> > f(matrix(c(2,3,2,5),2,2,byrow=TRUE))
> > f(matrix(1,4,4))
> > f(lower.tri(diag(4),T))
> >
> > My attempt to port this R code to another framework(Tensorflow) was only
> > partially successful
> > because I didn't fully understand the cryptic R code. The second input
> > shown above works after
> > hacking Tensorflow for a long time.
> >
> > My question is this. Can anyone code this in a clear way so that I can
> > understand ? I understand
> > Kronecker Product and matrix multiplication and can port that code but I
> am
> > missing something as the same ported code does not work for all inputs.
> >
> > Thanks,
> > Mohan
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> Is this what you want?
> (I have changed the notation a bit.)
>
>
> H <- function(M){
>    H0 <- 1
>    Transf <- matrix(c(1, 1, 1, -1), 2L)
>    for(i in 1:log2(nrow(M))) {
>      H0 <- H0 %x% Transf/2
>    }
>    H0 %*% M %*% H0
> }
>
> x <- matrix(c(2, 3, 2, 5), 2, 2, byrow = TRUE)
> y <- matrix(1, 4, 4)
> z <- lower.tri(diag(4), TRUE)
> z[] <- apply(z, 2, as.integer)
> H(x)
> H(y)
> H(z)
>
>
>
> Hope this helps,
>
> Rui Barradas
>
>

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Tue Sep 19 09:16:54 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Tue, 19 Sep 2023 10:16:54 +0300
Subject: [R] overlay shaded area in base r plot
In-Reply-To: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
References: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
Message-ID: <20230919101654.57be3a70@Tarkus>

? Tue, 19 Sep 2023 13:21:08 +0900
ani jaya <gaaauul at gmail.com> ?????:

> polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
> polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
> polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
> polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")

If you want the areas to overlap, try using a transparent colour. For
example, "lightblue" is rgb(t(col2rgb("lightblue")), max = 255) ?
"#ADD8E6", so try setting the alpha (opacity) channel to something less
than FF, e.g., "#ADD8E688".

You can also use rgb(t(col2rgb("lightblue")), alpha = 128, max = 255)
to generate hexadecimal colour strings for a given colour name and
opacity value.

-- 
Best regards,
Ivan


From g@@@uu| @end|ng |rom gm@||@com  Tue Sep 19 10:21:38 2023
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Tue, 19 Sep 2023 17:21:38 +0900
Subject: [R] overlay shaded area in base r plot
In-Reply-To: <20230919101654.57be3a70@Tarkus>
References: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
 <20230919101654.57be3a70@Tarkus>
Message-ID: <CAHXS41x_RHKks3gYL3M+2n74F-u9nuQCE7HUeGQW3nDa+O5Lvg@mail.gmail.com>

Thank you very much for the help. Turn out I can use 'density' to
differentiate the overlaid area.

On Tue, Sep 19, 2023, 16:16 Ivan Krylov <krylov.r00t at gmail.com> wrote:

> ? Tue, 19 Sep 2023 13:21:08 +0900
> ani jaya <gaaauul at gmail.com> ?????:
>
> >
> polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
> >
> polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
> >
> polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
> >
> polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
>
> If you want the areas to overlap, try using a transparent colour. For
> example, "lightblue" is rgb(t(col2rgb("lightblue")), max = 255) ?
> "#ADD8E6", so try setting the alpha (opacity) channel to something less
> than FF, e.g., "#ADD8E688".
>
> You can also use rgb(t(col2rgb("lightblue")), alpha = 128, max = 255)
> to generate hexadecimal colour strings for a given colour name and
> opacity value.
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From rhe|p @end|ng |rom eoo@@dd@@n|  Tue Sep 19 11:16:56 2023
From: rhe|p @end|ng |rom eoo@@dd@@n| (Jan van der Laan)
Date: Tue, 19 Sep 2023 11:16:56 +0200
Subject: [R] overlay shaded area in base r plot
In-Reply-To: <20230919101654.57be3a70@Tarkus>
References: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
 <20230919101654.57be3a70@Tarkus>
Message-ID: <88120bcd-4ccc-eb27-9efc-ed8492c16de3@eoos.dds.nl>

Shorter/simpler alternative for adding a alpha channel

adjustcolor("lightblue", alpha = 0.5)


So I would use something like:


# Open new plot; make sure limits are ok; but don't plot
plot(0, 0, xlim=c(1,20),
   ylim = range(c(mean1+sd1, mean2+sd2, mean1-sd1, mean2-sd2)),
   type="n", las=1,
   xlab="Data",
   ylab=expression(bold("Val")),
   cex.axis=1.2,font=2,
   cex.lab=1.2)
polygon(c(1:20,20:1),
   c(mean1[1:20]+sd1[1:20],mean1[20:1]-sd1[20:1]),
   col=adjustcolor("blue", 0.5),
   border = NA)
polygon(c(1:20,20:1),
   c(mean2[1:20]+sd2[1:20],mean2[20:1]-sd2[20:1]),
   col=adjustcolor("yellow", 0.5),
   border = NA)
lines(1:20, mean1,lty=1,lwd=2,col="blue")
lines(1:20, mean2,lty=1,lwd=2,col="yellow")


On 19-09-2023 09:16, Ivan Krylov wrote:
> ? Tue, 19 Sep 2023 13:21:08 +0900
> ani jaya <gaaauul at gmail.com> ?????:
> 
>> polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
>> polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
>> polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
>> polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
> 
> If you want the areas to overlap, try using a transparent colour. For
> example, "lightblue" is rgb(t(col2rgb("lightblue")), max = 255) ?
> "#ADD8E6", so try setting the alpha (opacity) channel to something less
> than FF, e.g., "#ADD8E688".
> 
> You can also use rgb(t(col2rgb("lightblue")), alpha = 128, max = 255)
> to generate hexadecimal colour strings for a given colour name and
> opacity value.
>


From g@@@uu| @end|ng |rom gm@||@com  Tue Sep 19 11:21:07 2023
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Tue, 19 Sep 2023 18:21:07 +0900
Subject: [R] overlay shaded area in base r plot
In-Reply-To: <88120bcd-4ccc-eb27-9efc-ed8492c16de3@eoos.dds.nl>
References: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
 <20230919101654.57be3a70@Tarkus>
 <88120bcd-4ccc-eb27-9efc-ed8492c16de3@eoos.dds.nl>
Message-ID: <CAHXS41zXbksboyk+=NqbSSMtFBkzq9Z1Hz8Yv4LzSEGv0GxTJw@mail.gmail.com>

Thank you very much for the solution. Absolutely will try this to see which
one produces better plot.

On Tue, Sep 19, 2023, 18:17 Jan van der Laan <rhelp at eoos.dds.nl> wrote:

> Shorter/simpler alternative for adding a alpha channel
>
> adjustcolor("lightblue", alpha = 0.5)
>
>
> So I would use something like:
>
>
> # Open new plot; make sure limits are ok; but don't plot
> plot(0, 0, xlim=c(1,20),
>    ylim = range(c(mean1+sd1, mean2+sd2, mean1-sd1, mean2-sd2)),
>    type="n", las=1,
>    xlab="Data",
>    ylab=expression(bold("Val")),
>    cex.axis=1.2,font=2,
>    cex.lab=1.2)
> polygon(c(1:20,20:1),
>    c(mean1[1:20]+sd1[1:20],mean1[20:1]-sd1[20:1]),
>    col=adjustcolor("blue", 0.5),
>    border = NA)
> polygon(c(1:20,20:1),
>    c(mean2[1:20]+sd2[1:20],mean2[20:1]-sd2[20:1]),
>    col=adjustcolor("yellow", 0.5),
>    border = NA)
> lines(1:20, mean1,lty=1,lwd=2,col="blue")
> lines(1:20, mean2,lty=1,lwd=2,col="yellow")
>
>
> On 19-09-2023 09:16, Ivan Krylov wrote:
> > ? Tue, 19 Sep 2023 13:21:08 +0900
> > ani jaya <gaaauul at gmail.com> ?????:
> >
> >>
> polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
> >>
> polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
> >>
> polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
> >>
> polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
> >
> > If you want the areas to overlap, try using a transparent colour. For
> > example, "lightblue" is rgb(t(col2rgb("lightblue")), max = 255) ?
> > "#ADD8E6", so try setting the alpha (opacity) channel to something less
> > than FF, e.g., "#ADD8E688".
> >
> > You can also use rgb(t(col2rgb("lightblue")), alpha = 128, max = 255)
> > to generate hexadecimal colour strings for a given colour name and
> > opacity value.
> >
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@rc_grt @end|ng |rom y@hoo@|r  Tue Sep 19 11:45:31 2023
From: m@rc_grt @end|ng |rom y@hoo@|r (Marc Girondot)
Date: Tue, 19 Sep 2023 11:45:31 +0200
Subject: [R] overlay shaded area in base r plot
In-Reply-To: <CAHXS41x_RHKks3gYL3M+2n74F-u9nuQCE7HUeGQW3nDa+O5Lvg@mail.gmail.com>
References: <CAHXS41xq6cS=iV1dSHdie_YDiT-uxj8bNtsOLAxCA+sGhG0bDw@mail.gmail.com>
 <20230919101654.57be3a70@Tarkus>
 <CAHXS41x_RHKks3gYL3M+2n74F-u9nuQCE7HUeGQW3nDa+O5Lvg@mail.gmail.com>
Message-ID: <c5bc0ca6-ef53-4225-ae20-97bd94292d80@yahoo.fr>

Dear Ani,

A solution using my CRAN package HelpersMG; note that yellow is a 
difficult color to manage correct overlay. It is easier to use red.

mean1 <-
c(122.194495954369, 118.955256282505, 115.540991140893, 113.116216840647,
 ? 111.24053267553, 109.827890459103, 108.523652505026, 107.033183023752,
 ? 105.259229707182, 103.124055471975, 100.877524901322, 98.6376579858244,
 ? 96.5156796979913, 94.6968535964952, 93.0502858942909, 91.5977750931902,
 ? 90.2651576455091, 89.0734094965085, 87.9562971122031, 86.9443758094494
)

mean2 <-
c(85.9733226064336, 85.1790888261485, 84.4436873347186, 83.8339820163413,
 ? 83.2527178882373, 82.7270110163027, 82.2807280513966, 81.9025314782845,
 ? 81.4641947900397, 81.0208948190769, 80.5647455355762, 80.0587583244909,
 ? 78.9354501839752, 78.4263183538841, 78.3688690670842, 77.9632850076303,
 ? 77.6888937972956, 77.5689173832678, 77.5860621564674, 77.6375257226031
)

sd1 <-
 ? c(17.0473968859792, 19.7055838512895, 20.0280169279762, 19.5651973323109,
 ??? 19.4292448372276, 19.0540881390057, 18.9295826565011, 18.7039744205801,
 ??? 18.688319090752, 18.6946307822843, 18.7427879417687, 18.8069804986113,
 ??? 18.8794754969972, 18.9830959093513, 19.0754455885966, 19.1360320444124,
 ??? 19.0546404913351, 19.1280788210156, 19.2014747953522, 19.2456454651155
 ? )

sd2 <-
 ? c(19.2537538439847, 19.2462114145511, 19.2253213677253, 19.2476344684752,
 ??? 19.2494964552016, 19.2871242318276, 19.2695982918065, 19.261879086708,
 ??? 19.3410606442566, 19.3257171172684, 19.5029937941038, 19.5286520380856,
 ??? 19.472587329424, 19.4815048434245, 19.3056947381611, 19.2193415347369,
 ??? 19.1367354761276, 19.062832883228, 19.0123017669597, 18.9504334825052
 ? )

# Original solution
plot(mean1[1:20],type="l", ylim=c(170,60),las=1,
 ???? xlab="Data",ylab=expression(bold("Val")),cex.axis=1.2,font=2,
cex.lab=1.2,lwd=4)
polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
lines(mean1,lty=1,lwd=2,col="blue")
lines(mean2,lty=1,lwd=2,col="yellow")

# "my" solution
library(HelpersMG)

plot_errbar(x=1:20, y=mean1, errbar.y = sd1, las = 1, ylim=c(0, 150),
 ??????????? col="red",
 ??????????? xlab="Data",ylab=expression(bold("Val")), lwd=4,
 ??????????? errbar.y.polygon = TRUE, type="l",
 ??????????? errbar.y.polygon.list = list(border=NA, 
col=adjustcolor("red", alpha = 0.3)))
plot_errbar(x=1:20, y=mean2, errbar.y = sd2, axes=FALSE,
 ??????????? col="blue",
 ??????????? xlab="",ylab="", lwd=4,
 ??????????? errbar.y.polygon = TRUE, type="l",
 ??????????? errbar.y.polygon.list = list(border=NA,
 ???????????????????????????????????????? col=adjustcolor("blue", alpha 
= 0.3)),
 ??????????? add=TRUE)

Le 19/09/2023 ? 10:21, ani jaya a ?crit?:
> Thank you very much for the help. Turn out I can use 'density' to
> differentiate the overlaid area.
>
> On Tue, Sep 19, 2023, 16:16 Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
>> ? Tue, 19 Sep 2023 13:21:08 +0900
>> ani jaya <gaaauul at gmail.com> ?????:
>>
>> polygon(c(1:20,20:1),c(mean1[1:20]+sd1[1:20],mean1[20:1]),col="lightblue")
>> polygon(c(1:20,20:1),c(mean1[1:20]-sd1[1:20],mean1[20:1]),col="lightblue")
>> polygon(c(1:20,20:1),c(mean2[1:20]+sd2[1:20],mean2[20:1]),col="lightyellow")
>> polygon(c(1:20,20:1),c(mean2[1:20]-sd2[1:20],mean2[20:1]),col="lightyellow")
>>
>> If you want the areas to overlap, try using a transparent colour. For
>> example, "lightblue" is rgb(t(col2rgb("lightblue")), max = 255) ?
>> "#ADD8E6", so try setting the alpha (opacity) channel to something less
>> than FF, e.g., "#ADD8E688".
>>
>> You can also use rgb(t(col2rgb("lightblue")), alpha = 128, max = 255)
>> to generate hexadecimal colour strings for a given colour name and
>> opacity value.
>>
>> --
>> Best regards,
>> Ivan
>>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From br|@n@m|th199312 @end|ng |rom gm@||@com  Tue Sep 19 19:39:18 2023
From: br|@n@m|th199312 @end|ng |rom gm@||@com (Brian Smith)
Date: Tue, 19 Sep 2023 23:09:18 +0530
Subject: [R] Could you manually replicate execution of a R function
Message-ID: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>

Hi,

I have trying to replicate a function from rugarch package manually.
Below is the calculation based on the function,

library(rugarch)
data(dji30ret)
spec = ugarchspec(mean.model = list(armaOrder = c(1,1), include.mean = TRUE),
variance.model = list(model = "gjrGARCH"), distribution.model = "sstd")
fit = ugarchfit(spec, data = dji30ret[1:1000, 1, drop = FALSE])
spec2 = spec
setfixed(spec2)<-as.list(coef(fit))
filt = ugarchfilter(spec2, dji30ret[1001:2500, 1, drop = FALSE], n.old = 1000)
actual = dji30ret[1001:2500,1]
# location+scale invariance allows to use [mu + sigma*q(p,0,1,skew,shape)]
VaR = fitted(filt) + sigma(filt)*qdist("sstd", p=0.05, mu = 0, sigma = 1,
skew = coef(fit)["skew"], shape=coef(fit)["shape"])
alpha = 0.05
conf.level = 0.95

VaRDurTest(0.05, actual, VaR)$b ## 1.019356


Now I want to replicate the calculation manually as below,


VaR.ind = ifelse(actual < VaR, 1, 0)
N = sum(VaR.ind)
TN = length(VaR.ind)
D = diff(which(VaR.ind == 1))
C = rep(0, length(D))
N = length(D)

pweibull = function (D, a, b, survival = FALSE)
{
cdf = 1 - exp(-(a * D)^b)
if (survival)
cdf = 1 - cdf
return(cdf)
}
dweibull = function (D, a, b, log = FALSE)
{
pdf = (b * log(a) + log(b) + (b - 1) * log(D) - (a * D)^b)
if (!log)
pdf = exp(pdf)
return(pdf)
}
likDurationW = function (pars, D, C, N)
{
b = pars[1]
a = ((N - C[1] - C[N])/(sum(D^b)))^(1/b)
lik = C[1] * log(pweibull(D[1], a, b, survival = TRUE)) +
(1 - C[1]) * dweibull(D[1], a, b, log = TRUE) + sum(dweibull(D[2:(N -
1)], a, b, log = TRUE)) + C[N] * log(pweibull(D[N],
a, b, survival = TRUE)) + (1 - C[N]) * dweibull(D[N],
a, b, log = TRUE)
if (!is.finite(lik) || is.nan(lik))
lik = 10000000000
else lik = -lik
return(lik)
}
optim(par = 2, fn = likDurationW, gr = NULL, D = D, C = C, N = N,
method = "L-BFGS-B", lower = 0.001, upper = 10, control = list(trace =
0))$par  ## 1.029628

I fail to understand why there has to be a difference. Could you
please help to find the reason?

> sessionInfo()

R version 4.2.2 (2022-10-31)

Platform: x86_64-apple-darwin17.0 (64-bit)

Running under: macOS Big Sur ... 10.16


Matrix products: default

BLAS:   /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib

LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib


locale:

[1] C/UTF-8/C/C/C/C


attached base packages:

[1] parallel  stats     graphics  grDevices utils     datasets  methods

[8] base


other attached packages:

[1] rugarch_1.4-9


loaded via a namespace (and not attached):

 [1] Rcpp_1.0.9                  mclust_6.0.0

 [3] lattice_0.20-45             mvtnorm_1.1-3

 [5] zoo_1.8-12                  MASS_7.3-58.1

 [7] GeneralizedHyperbolic_0.8-4 truncnorm_1.0-9

 [9] grid_4.2.2                  pracma_2.4.2

[11] KernSmooth_2.23-20          SkewHyperbolic_0.4-0

[13] Matrix_1.5-1                xts_0.12.1

[15] spd_2.0-1                   tools_4.2.2

[17] ks_1.14.1                   numDeriv_2016.8-1.1

[19] compiler_4.2.2              DistributionUtils_0.6-1

[21] Rsolnp_1.16


From @rn@ud@g@boury @end|ng |rom gm@||@com  Tue Sep 19 17:14:58 2023
From: @rn@ud@g@boury @end|ng |rom gm@||@com (arnaud gaboury)
Date: Tue, 19 Sep 2023 17:14:58 +0200
Subject: [R] apply a function to a list of lists
Message-ID: <CAK1hC9uGNb4cxUrVhOw-LqRdYC9ZCQB3fJ4p5f0+EwB-PyJ_8g@mail.gmail.com>

I have a list of 9 lists called my.list. Each one of these 9 lists is
itself a list of 6 data.frames. Most of these data.frames have 0 rows and 0
columns.
I want to return all data.frames from the list with row numbers different
from 0.
I first created the following function:

non_empty_df <- function(l) {
    lapply(l, function(df) df[sapply(df, function(df) nrow(df) !=0)])
}

If I test this way: non_empty_df(my.list[1]) it does the job. It will
return the data.frame from the first list of my_list with rows.
Now I can't find a way to iterate the above function to all the 9 nested
lists.

Thank you for help

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Sep 20 09:48:34 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 20 Sep 2023 10:48:34 +0300
Subject: [R] apply a function to a list of lists
In-Reply-To: <CAK1hC9uGNb4cxUrVhOw-LqRdYC9ZCQB3fJ4p5f0+EwB-PyJ_8g@mail.gmail.com>
References: <CAK1hC9uGNb4cxUrVhOw-LqRdYC9ZCQB3fJ4p5f0+EwB-PyJ_8g@mail.gmail.com>
Message-ID: <20230920104834.4485cdcf@Tarkus>

On Tue, 19 Sep 2023 17:14:58 +0200
arnaud gaboury <arnaud.gaboury at gmail.com> wrote:

> non_empty_df <- function(l) {
>     lapply(l, function(df) df[sapply(df, function(df) nrow(df) !=0)])
> }

> If I test this way: non_empty_df(my.list[1]) it does the job. It will
> return the data.frame from the first list of my_list with rows.
> Now I can't find a way to iterate the above function to all the 9
> nested lists.

I think it should already work on the whole my.list. Note that
my.list[1] is a list containing one list of data.frames, not just a
list of data.frames (the latter would be my.list[[1]]).

The outer `l` argument is the list of lists of data.frames. Inside the
first anonymous function, `df` is a list of data.frames. Inside the
second anonymous function, `df` is finally a data frame which you test
for being non-empty. The lapply() call iterates over the lists of lists
and the sapply() iterates over the data.frames inside a list.

-- 
Best regards,
Ivan


From br|@n@m|th199312 @end|ng |rom gm@||@com  Wed Sep 20 13:42:08 2023
From: br|@n@m|th199312 @end|ng |rom gm@||@com (Brian Smith)
Date: Wed, 20 Sep 2023 17:12:08 +0530
Subject: [R] Unable to manually replicate execution of a R function
In-Reply-To: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>
References: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>
Message-ID: <CAHUBDY--gxSU+bDNwdjXvN61U7pfVa_0x_Fta12kqY3Cnc+1kQ@mail.gmail.com>

Hi,

** In may earlier post there were some typo, so reposting the same
after correction**

I am trying to replicate a function from rugarch package manually.
Below is the calculation based on the function,

library(rugarch)
data(dji30ret)
spec = ugarchspec(mean.model = list(armaOrder = c(1,1), include.mean = TRUE),
variance.model = list(model = "gjrGARCH"), distribution.model = "sstd")
fit = ugarchfit(spec, data = dji30ret[1:1000, 1, drop = FALSE])
spec2 = spec
setfixed(spec2)<-as.list(coef(fit))
filt = ugarchfilter(spec2, dji30ret[1001:2500, 1, drop = FALSE], n.old = 1000)
actual = dji30ret[1001:2500,1]
# location+scale invariance allows to use [mu + sigma*q(p,0,1,skew,shape)]
VaR = fitted(filt) + sigma(filt)*qdist("sstd", p=0.05, mu = 0, sigma = 1,
skew = coef(fit)["skew"], shape=coef(fit)["shape"])
alpha = 0.05
conf.level = 0.95

VaRDurTest(0.05, actual, VaR)$b ## 1.019356


Now I want to replicate the calculation manually as below,


VaR.ind = ifelse(actual < VaR, 1, 0)
N = sum(VaR.ind)
TN = length(VaR.ind)
D = diff(which(VaR.ind == 1))
C = rep(0, length(D))
N = length(D)

pweibull = function (D, a, b, survival = FALSE)
{
cdf = 1 - exp(-(a * D)^b)
if (survival)
cdf = 1 - cdf
return(cdf)
}
dweibull = function (D, a, b, log = FALSE)
{
pdf = (b * log(a) + log(b) + (b - 1) * log(D) - (a * D)^b)
if (!log)
pdf = exp(pdf)
return(pdf)
}
likDurationW = function (pars, D, C, N)
{
b = pars[1]
a = ((N - C[1] - C[N])/(sum(D^b)))^(1/b)
lik = C[1] * log(pweibull(D[1], a, b, survival = TRUE)) +
(1 - C[1]) * dweibull(D[1], a, b, log = TRUE) + sum(dweibull(D[2:(N -
1)], a, b, log = TRUE)) + C[N] * log(pweibull(D[N],
a, b, survival = TRUE)) + (1 - C[N]) * dweibull(D[N],
a, b, log = TRUE)
if (!is.finite(lik) || is.nan(lik))
lik = 10000000000
else lik = -lik
return(lik)
}
optim(par = 2, fn = likDurationW, gr = NULL, D = D, C = C, N = N,
method = "L-BFGS-B", lower = 0.001, upper = 10, control = list(trace =
0))$par  ## 1.029628

I fail to understand why there has to be a difference. Could you
please help to find the reason?

> sessionInfo()

R version 4.2.2 (2022-10-31)

Platform: x86_64-apple-darwin17.0 (64-bit)

Running under: macOS Big Sur ... 10.16


Matrix products: default

BLAS:   /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib

LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib


locale:

[1] C/UTF-8/C/C/C/C


attached base packages:

[1] parallel  stats     graphics  grDevices utils     datasets  methods

[8] base


other attached packages:

[1] rugarch_1.4-9


loaded via a namespace (and not attached):

 [1] Rcpp_1.0.9                  mclust_6.0.0

 [3] lattice_0.20-45             mvtnorm_1.1-3

 [5] zoo_1.8-12                  MASS_7.3-58.1

 [7] GeneralizedHyperbolic_0.8-4 truncnorm_1.0-9

 [9] grid_4.2.2                  pracma_2.4.2

[11] KernSmooth_2.23-20          SkewHyperbolic_0.4-0

[13] Matrix_1.5-1                xts_0.12.1

[15] spd_2.0-1                   tools_4.2.2

[17] ks_1.14.1                   numDeriv_2016.8-1.1

[19] compiler_4.2.2              DistributionUtils_0.6-1

[21] Rsolnp_1.16


From JH@rm@e @end|ng |rom roku@com  Wed Sep 20 16:13:02 2023
From: JH@rm@e @end|ng |rom roku@com (Jorgen Harmse)
Date: Wed, 20 Sep 2023 14:13:02 +0000
Subject: [R] Could you manually replicate execution of a R function
In-Reply-To: <mailman.370160.1.1695204002.63671.r-help@r-project.org>
References: <mailman.370160.1.1695204002.63671.r-help@r-project.org>
Message-ID: <LV3PR01MB8673512A8DD24DDA27830F3EDCF9A@LV3PR01MB8673.prod.exchangelabs.com>

There may be collisions between variables in .GlobalEnv and variables in the function-call environment, and the parent of the function-call environment probably includes functions & other variables not available in .GlobalEnv. (If the function calls substitute or anything like that then the problem becomes even harder.) I would probably use the debugger to step into the function. If you want more control then create an environment that resembles what would be created in a function call:

env.func <- new.env(parent=environment(f))
delayedAssign(assign.env=env.func, ?.) for everything you pass in
delayedAssign(assign.env=env.func, eval.env=env.func, ?.) for anything that will take a default value
eval(envir=env.func, ?.) or evalq(envir=env.func, ?.) to execute parts of the function body or anything else

You can even coerce body(f) to a character, strip the leading ?{?, and parse(text=?.) to break the function into expressions. That might be easier than copy-pasting function code.

Regards,
Jorgen Harmse.


Message: 1
Date: Tue, 19 Sep 2023 23:09:18 +0530
From: Brian Smith <briansmith199312 at gmail.com>
To: r-help at r-project.org
Subject: [R] Could you manually replicate execution of a R function
Message-ID:
        <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hi,

I have trying to replicate a function from rugarch package manually.
Below is the calculation based on the function,

?

	[[alternative HTML version deleted]]


From @|eep|ngwe|| @end|ng |rom gm@||@com  Thu Sep 21 02:09:56 2023
From: @|eep|ngwe|| @end|ng |rom gm@||@com (Simon Knapp)
Date: Thu, 21 Sep 2023 10:09:56 +1000
Subject: [R] Option "-shared" not being passed to gcc when installing
 packages
Message-ID: <CAA+5f=3hh=rxsAa6XVDJ=f3Q4vU_tp40yg6uhuiOB4+bSBOuhQ@mail.gmail.com>

When installing packages, the option "-shared" is not being passed to gcc
which hence fails, complaining that it cannot find main. When installing
"mgcv", for example, I get the output listed below, in which the last call
to gcc should contain the option "-shared".

This problem occurs for all of several other packages I have just tried to
install.

It has been a while since I've used R, and I'm not positive if I've ever
tried to install a package on this computer before, though I think I have.

I am using R version 4.3.1 (2023-06-16) -- "Beagle Scouts" on ubuntu 20.04

How might I fix this?

> install.packages("mgcv")
Installing package into ?/home/<me>/R/x86_64-pc-linux-gnu-library/4.3?
(as ?lib? is unspecified)
trying URL 'https://cloud.r-project.org/src/contrib/mgcv_1.9-0.tar.gz'
Content type 'application/x-gzip' length 1112050 bytes (1.1 MB)
==================================================
downloaded 1.1 MB

* installing *source* package ?mgcv? ...
** package ?mgcv? successfully unpacked and MD5 sums checked
** using staged installation
** libs
using C compiler: ?gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0?
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c coxph.c -o coxph.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c davies.c -o davies.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c discrete.c -o discrete.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c gdi.c -o gdi.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c init.c -o init.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c magic.c -o magic.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c mat.c -o mat.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c matrix.c -o matrix.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c mgcv.c -o mgcv.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c misc.c -o misc.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c mvn.c -o mvn.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c ncv.c -o ncv.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c qp.c -o qp.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c soap.c -o soap.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c sparse-smooth.c -o sparse-smooth.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c sparse.c -o sparse.o
gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic  -g -O2
-fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
-fstack-protector-strong -Wformat -Werror=format-security -Wdate-time
-D_FORTIFY_SOURCE=2 -g  -c tprs.c -o tprs.o
gcc -std=gnu99 -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o
mgcv.so coxph.o davies.o discrete.o gdi.o init.o magic.o mat.o matrix.o
mgcv.o misc.o mvn.o ncv.o qp.o soap.o sparse-smooth.o sparse.o tprs.o
-llapack -lblas -lgfortran -lm -lquadmath -fopenmp -L/usr/lib/R/lib -lR
/usr/bin/ld:
/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o: in
function `_start':
(.text+0x24): undefined reference to `main'
collect2: error: ld returned 1 exit status
make: *** [/usr/share/R/share/make/shlib.mk:10: mgcv.so] Error 1
ERROR: compilation failed for package ?mgcv?
* removing ?/home/<me>/R/x86_64-pc-linux-gnu-library/4.3/mgcv?

The downloaded source packages are in
        ?/tmp/RtmpI7uMoa/downloaded_packages?
Warning message:
In install.packages("mgcv") :
  installation of package ?mgcv? had non-zero exit status
>

Kind regards,
Simon Knapp

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Sep 21 09:09:46 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 21 Sep 2023 10:09:46 +0300
Subject: [R] Option "-shared" not being passed to gcc when installing
 packages
In-Reply-To: <CAA+5f=3hh=rxsAa6XVDJ=f3Q4vU_tp40yg6uhuiOB4+bSBOuhQ@mail.gmail.com>
References: <CAA+5f=3hh=rxsAa6XVDJ=f3Q4vU_tp40yg6uhuiOB4+bSBOuhQ@mail.gmail.com>
Message-ID: <20230921100946.346dbb40@Tarkus>

On Thu, 21 Sep 2023 10:09:56 +1000
Simon Knapp <sleepingwell at gmail.com> wrote:

> I am using R version 4.3.1 (2023-06-16) -- "Beagle Scouts" on ubuntu
> 20.04

> gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic
> -g -O2 -fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.

It seems to be picking up compiler flags from a much older version of
R. Do you have anything in ~/.R/Makevars*? What about /etc/R/Make*?
https://cran.r-project.org/doc/manuals/R-admin.html#Customizing-package-compilation

-- 
Best regards,
Ivan


From kry|ov@r00t @end|ng |rom gm@||@com  Thu Sep 21 09:34:43 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Thu, 21 Sep 2023 10:34:43 +0300
Subject: [R] Could you manually replicate execution of a R function
In-Reply-To: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>
References: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>
Message-ID: <20230921103443.5c6dc865@Tarkus>

On Tue, 19 Sep 2023 23:09:18 +0530
Brian Smith <briansmith199312 at gmail.com> wrote:

> C = rep(0, length(D))
> N = length(D)

In the VaRDurTest function, there's additional code between these two
expressions that deals with censoring if head(VaR.ind, 1) == 0 or
tail(VaR.ind, 1) == 0. Both of these are true for your input data.

-- 
Best regards,
Ivan


From @|eep|ngwe|| @end|ng |rom gm@||@com  Fri Sep 22 00:41:34 2023
From: @|eep|ngwe|| @end|ng |rom gm@||@com (Simon Knapp)
Date: Fri, 22 Sep 2023 08:41:34 +1000
Subject: [R] Option "-shared" not being passed to gcc when installing
 packages
In-Reply-To: <20230921100946.346dbb40@Tarkus>
References: <CAA+5f=3hh=rxsAa6XVDJ=f3Q4vU_tp40yg6uhuiOB4+bSBOuhQ@mail.gmail.com>
 <20230921100946.346dbb40@Tarkus>
Message-ID: <CAA+5f=3xx14AhjW3Aa4gecpGmnfiME0tW1i37hkp8t9g8xwB7g@mail.gmail.com>

Thanks Ivan.

I do have things in /etc/R. I have copied all files in /etc/R them out of a
freshly pulled r-base:latest docker container. This seems to have worked.
Thank you!

How would I generally replace those or get them updated when installing a
new version of version of R (which I do using R apt package repo)?

Thanks again,
Simon



On Thu, 21 Sept 2023 at 17:09, Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Thu, 21 Sep 2023 10:09:56 +1000
> Simon Knapp <sleepingwell at gmail.com> wrote:
>
> > I am using R version 4.3.1 (2023-06-16) -- "Beagle Scouts" on ubuntu
> > 20.04
>
> > gcc -std=gnu99 -I"/usr/share/R/include" -DNDEBUG    -fopenmp -fpic
> > -g -O2 -fdebug-prefix-map=/build/r-base-jbaK_j/r-base-3.6.3=.
>
> It seems to be picking up compiler flags from a much older version of
> R. Do you have anything in ~/.R/Makevars*? What about /etc/R/Make*?
>
> https://cran.r-project.org/doc/manuals/R-admin.html#Customizing-package-compilation
>
> --
> Best regards,
> Ivan
>

	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Fri Sep 22 09:21:41 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Fri, 22 Sep 2023 10:21:41 +0300
Subject: [R] Option "-shared" not being passed to gcc when installing
 packages
In-Reply-To: <CAA+5f=3xx14AhjW3Aa4gecpGmnfiME0tW1i37hkp8t9g8xwB7g@mail.gmail.com>
References: <CAA+5f=3hh=rxsAa6XVDJ=f3Q4vU_tp40yg6uhuiOB4+bSBOuhQ@mail.gmail.com>
 <20230921100946.346dbb40@Tarkus>
 <CAA+5f=3xx14AhjW3Aa4gecpGmnfiME0tW1i37hkp8t9g8xwB7g@mail.gmail.com>
Message-ID: <20230922102141.6304557a@Tarkus>

On Fri, 22 Sep 2023 08:41:34 +1000
Simon Knapp <sleepingwell at gmail.com> wrote:

> How would I generally replace those or get them updated when
> installing a new version of version of R (which I do using R apt
> package repo)?

Normally, the configuration files belonging to a package get an option
to be updated when the package itself is updated. If you need to
restore a package to its default settings, reinstalling it with
--force-confask,confnew,confmiss should work:
https://askubuntu.com/a/67028

(One way that has to work is apt remove --purge followed by installing
the package anew. This is less convenient because all packages that
depend on the package you are removing will have to be removed too.)

-- 
Best regards,
Ivan


From br|@n@m|th199312 @end|ng |rom gm@||@com  Fri Sep 22 21:42:12 2023
From: br|@n@m|th199312 @end|ng |rom gm@||@com (Brian Smith)
Date: Sat, 23 Sep 2023 01:12:12 +0530
Subject: [R] Could you manually replicate execution of a R function
In-Reply-To: <20230921103443.5c6dc865@Tarkus>
References: <CAHUBDY_wr_uWTK3t2bU+EmVGvKRNHw4DdvmqMq+F0rq6R3OxGw@mail.gmail.com>
 <20230921103443.5c6dc865@Tarkus>
Message-ID: <CAHUBDY8bvPyCAMhtJTdhT8FsKFbQ=3y2xCjaR+Lft+Ax-rDr_Q@mail.gmail.com>

Hi Ivan,

Thanks for pointing this out. It now matches.

Thanks and regards,

On Thu, 21 Sept 2023 at 13:04, Ivan Krylov <krylov.r00t at gmail.com> wrote:
>
> On Tue, 19 Sep 2023 23:09:18 +0530
> Brian Smith <briansmith199312 at gmail.com> wrote:
>
> > C = rep(0, length(D))
> > N = length(D)
>
> In the VaRDurTest function, there's additional code between these two
> expressions that deals with censoring if head(VaR.ind, 1) == 0 or
> tail(VaR.ind, 1) == 0. Both of these are true for your input data.
>
> --
> Best regards,
> Ivan


From S@b|ne@M||bert @end|ng |rom |g|@b@yern@de  Fri Sep 22 12:12:51 2023
From: S@b|ne@M||bert @end|ng |rom |g|@b@yern@de (Milbert, Sabine (LGL))
Date: Fri, 22 Sep 2023 10:12:51 +0000
Subject: [R] predict function type class vs. prob
Message-ID: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>

Dear R Help Team,

My research group and I use R scripts for our multivariate data screening routines. During routine use, we encountered some inconsistencies within the predict() function of the R Stats Package. Through internal research, we were unable to find the reason for this and have decided to contact your help team with the following issue:

The predict() function is used once to predict the class membership of a new sample (type = "class") on a trained linear SVM model for distinguishing two classes (using the caret package). It is then used to also examine the probability of class membership (type = "prob"). Both are then presented in an R shiny output. Within the routine, we noticed two samples (out of 100+) where the class prediction and probability prediction did not match. The prediction probabilities of one class (52%) did not match the class membership within the predict function. We use the same seed and the discrepancy is reproducible in this sample. The same problem did not occur in other trained models (lda, random forest, radial SVM...).

Is there a weighing of classes within the prediction function or is the classification limit not at 50%/a majority vote? Or do you have another explanation for this discrepancy, please let us know.

PS: If this is an issue based on the model training function of the caret package and therefore not your responsibility, please let us know.

Thank you in advance for your support!

Yours sincerely,
Sabine Milbert

	[[alternative HTML version deleted]]


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Sat Sep 23 01:10:58 2023
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David)
Date: Fri, 22 Sep 2023 23:10:58 +0000
Subject: [R] How to import an excel data file
Message-ID: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>

I know I should save it as a .csv file, which I have done.
I?m told I should use the read_excel() function from the readxl package.
My question is, how do I express the location of the file.  The file is named KurtzData.csv.
Its location in my Mac files is DFPfiles/ae/FriendsMonroe/KurtzData.csv
How exactly---What ?, etc.---do I type with its name in the read_excel() function?
It?s been a long time since I?ve used R.
Thanks for any help.






	[[alternative HTML version deleted]]


From m|@thour| @end|ng |rom y@hoo@gr  Sat Sep 23 10:32:31 2023
From: m|@thour| @end|ng |rom y@hoo@gr (Maria Lathouri)
Date: Sat, 23 Sep 2023 08:32:31 +0000 (UTC)
Subject: [R] How to import an excel data file
In-Reply-To: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <1493174054.8339492.1695457951913@mail.yahoo.com>

Dear David,?

I also use excel files for R. This is what I do
install.packages("readxl")

library(readxl)
mydata=read_excel('mydata.xlsx')

Hope this helps.?

Best,
Maria




???? ??????? 23 ??????????? 2023 ???? 09:23:43 ?.?. GMT+1, ? ??????? Parkhurst, David <parkhurs at indiana.edu> ??????: 





I know I should save it as a .csv file, which I have done.
I?m told I should use the read_excel() function from the readxl package.
My question is, how do I express the location of the file.? The file is named KurtzData.csv.
Its location in my Mac files is DFPfiles/ae/FriendsMonroe/KurtzData.csv
How exactly---What ?, etc.---do I type with its name in the read_excel() function?
It?s been a long time since I?ve used R.
Thanks for any help.






??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From r@oknz @end|ng |rom gm@||@com  Sat Sep 23 12:07:17 2023
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Sat, 23 Sep 2023 22:07:17 +1200
Subject: [R] How to import an excel data file
In-Reply-To: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <CABcYAdLFMegWsZtgad-Ku1H3j_zxyUoEh2OGQSYKkqLjgvC9tA@mail.gmail.com>

Are you sure that read.csv() can't read your data?
[If you depend on extra packages you might want to consider using
 the 'groundhog' package so that you can be more confident of
 reproducing your work in a year or two.]

You said that your question is how you should write the name of
the file in your call to read.<whatever>.

> ?read.csv
...
file      the name of the file which the data are to be read from.
          ... If it
          does not contain an _absolute_ path, the file name is
          _relative_ to the current working directory, 'getwd()'.
          Tilde-expansion is performed where supported.

"Tilde-expansion" refers to a common UNIX convention of replacing
~/ at the beginning of a file name by $HOME/ where $HOME is your
home directory, and ~bongiwe/ by $HERS/ where $HERS holds the
absolute name of user bongiwe's home directory.  This is actually
a shell convention, not an operating system kernel convention, but
R is telling us "I can do that too".  So for example to refer to
one of my data files I might do
   jan17 <- read.csv("~/Data/Weather/2017-Jan.dat")
"DFPfiles/ae/FriendsMonroe/KurtzData.csv" is NOT the location of
the file on your system.  It is PART of the location.  We can be
sure of that because it does not begin with a slash.  So it is not
an absolute file name.  There is some value $DIR such that
$DIR is an absolute file name and it names a directory and
"$DIR/DFPfiles/ae/FriendsMonroe/KurtzData.csv" really IS the location of
the file on your system.

If the current working directory is
(1) $DIR/DFPfiles/ae/FriendsMonroe/   use "KurtzData.csv"
(2) $DIR/DFPfiles/ae/     use "FriendsMonroe/KurtzData.csv"
(3) $DIR/DFPfiles    use "ae/FriendsMonroe/KurtzData.csv"
(4) $DIR   use "DFPfiles/ae/FriendsMonroe/KurtzData.csv"
(5) $DIR/DFPfiles/ae/FriendsMonroe/SubDir use "../KurtzData.csv"
I suspect that $DIR may be your home directory, in which case
you can substitute ~ for $DIR.

Of course the file argument can be anything that *evaluates* to
a character string containing a file name (or it can be a URL or
it can be a 'text connection').

Following the advice in read.csv, you might want to
read the 'R Data Import/Export' manual.


On Sat, 23 Sept 2023 at 20:23, Parkhurst, David <parkhurs at indiana.edu>
wrote:

> I know I should save it as a .csv file, which I have done.
> I?m told I should use the read_excel() function from the readxl package.
> My question is, how do I express the location of the file.  The file is
> named KurtzData.csv.
> Its location in my Mac files is DFPfiles/ae/FriendsMonroe/KurtzData.csv
> How exactly---What ?, etc.---do I type with its name in the read_excel()
> function?
> It?s been a long time since I?ve used R.
> Thanks for any help.
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @tephen@peder@on@@u @end|ng |rom gm@||@com  Sat Sep 23 13:28:17 2023
From: @tephen@peder@on@@u @end|ng |rom gm@||@com (Stevie Pederson)
Date: Sat, 23 Sep 2023 20:58:17 +0930
Subject: [R] How to import an excel data file
In-Reply-To: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <CAGCDhaU_1=L2R3mUngmmsOExJW3mXW+RzmY8p2cLnd5tY45rrg@mail.gmail.com>

Hi David,

If you're using RStudio, I'd encourage the use of R Projects, with a new
project for each analysis, even if you only do one every few years. That
would also correspond to a new directory for each analysis, which many also
find helpful. The package 'here' [install.packages("here")] then uses the
.Rproj file to set file paths within each project. You can place your data
somewhere within the parent directory of the project and use
here::here("relative/path/to/my_file.csv") to tell R where the file is. It
sounds like a trivial step, but it really can make referring to files on
disk like this much easier.

I'm not sure what the best parent folder would be for your analysis, but
assuming it's FriendsMonroe, you would start a new R Project in that
directory, keep all of your scripts in that directory, and refer to the
file using here::here("KurtzData.csv")

I do hope that helps,

Stevie

On Sat, 23 Sept 2023 at 17:53, Parkhurst, David <parkhurs at indiana.edu>
wrote:

> I know I should save it as a .csv file, which I have done.
> I?m told I should use the read_excel() function from the readxl package.
> My question is, how do I express the location of the file.  The file is
> named KurtzData.csv.
> Its location in my Mac files is DFPfiles/ae/FriendsMonroe/KurtzData.csv
> How exactly---What ?, etc.---do I type with its name in the read_excel()
> function?
> It?s been a long time since I?ve used R.
> Thanks for any help.
>
>
>
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Sep 23 14:30:22 2023
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 23 Sep 2023 13:30:22 +0100
Subject: [R] predict function type class vs. prob
In-Reply-To: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
References: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
Message-ID: <9c5fe5ed-a83d-40cc-a9ac-b95ba22835cf@sapo.pt>

?s 11:12 de 22/09/2023, Milbert, Sabine (LGL) escreveu:
> Dear R Help Team,
> 
> My research group and I use R scripts for our multivariate data screening routines. During routine use, we encountered some inconsistencies within the predict() function of the R Stats Package. Through internal research, we were unable to find the reason for this and have decided to contact your help team with the following issue:
> 
> The predict() function is used once to predict the class membership of a new sample (type = "class") on a trained linear SVM model for distinguishing two classes (using the caret package). It is then used to also examine the probability of class membership (type = "prob"). Both are then presented in an R shiny output. Within the routine, we noticed two samples (out of 100+) where the class prediction and probability prediction did not match. The prediction probabilities of one class (52%) did not match the class membership within the predict function. We use the same seed and the discrepancy is reproducible in this sample. The same problem did not occur in other trained models (lda, random forest, radial SVM...).
> 
> Is there a weighing of classes within the prediction function or is the classification limit not at 50%/a majority vote? Or do you have another explanation for this discrepancy, please let us know.
> 
> PS: If this is an issue based on the model training function of the caret package and therefore not your responsibility, please let us know.
> 
> Thank you in advance for your support!
> 
> Yours sincerely,
> Sabine Milbert
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
Hello,

I cannot tell what is going on but I would like to make a correction to 
your post.

predict() is a generic function with methods for objects of several 
classes in many packages. In base package stats you will find methods 
for objects (fits) of class lm, glm and others, see ?predict.

The method you are asking about is predict.train, defined in package 
caret, not in package stats.
to see what predict method is being called, check


class(your_fit)


Hope this helps,

Rui Barradas


From tgs77m m@iii@g oii y@hoo@com  Sat Sep 23 16:56:29 2023
From: tgs77m m@iii@g oii y@hoo@com (tgs77m m@iii@g oii y@hoo@com)
Date: Sat, 23 Sep 2023 07:56:29 -0700
Subject: [R] Mantel Haenszel test
References: <000301d9ee2e$234374f0$69ca5ed0$.ref@yahoo.com>
Message-ID: <000301d9ee2e$234374f0$69ca5ed0$@yahoo.com>

Colleagues,

I am trying to write a script for the Mantel Haenszel test.

For the MH test, the test statistic is chi-square (MH) = (W-1) * r^2 
Where W = sum of the case weights. This is straight forward.

I'm having difficulty with r^2. The r^2 is the squared Pearson correlation
between row and column variables.

Can anyone give me an example of the code which calculates the squared
Pearson correlation
between row and column variables? 

I am at a loss on how to do this.

All the best,

Thomas Subia


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sat Sep 23 18:38:41 2023
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sat, 23 Sep 2023 09:38:41 -0700
Subject: [R] Mantel Haenszel test
In-Reply-To: <000301d9ee2e$234374f0$69ca5ed0$@yahoo.com>
References: <000301d9ee2e$234374f0$69ca5ed0$.ref@yahoo.com>
 <000301d9ee2e$234374f0$69ca5ed0$@yahoo.com>
Message-ID: <A7A82C6A-9575-498A-A40C-A0BC62587BC0@dcn.davis.ca.us>

?cor

cor( M, t( M ) )


On September 23, 2023 7:56:29 AM PDT, tgs77m--- via R-help <r-help at r-project.org> wrote:
>Colleagues,
>
>I am trying to write a script for the Mantel Haenszel test.
>
>For the MH test, the test statistic is chi-square (MH) = (W-1) * r^2 
>Where W = sum of the case weights. This is straight forward.
>
>I'm having difficulty with r^2. The r^2 is the squared Pearson correlation
>between row and column variables.
>
>Can anyone give me an example of the code which calculates the squared
>Pearson correlation
>between row and column variables? 
>
>I am at a loss on how to do this.
>
>All the best,
>
>Thomas Subia
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Sep 23 21:10:57 2023
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sat, 23 Sep 2023 12:10:57 -0700
Subject: [R] predict function type class vs. prob
In-Reply-To: <9c5fe5ed-a83d-40cc-a9ac-b95ba22835cf@sapo.pt>
References: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
 <9c5fe5ed-a83d-40cc-a9ac-b95ba22835cf@sapo.pt>
Message-ID: <6f01fdbd-6c0c-88bd-dc4a-56a83b3da8df@comcast.net>


On 9/23/23 05:30, Rui Barradas wrote:
> ?s 11:12 de 22/09/2023, Milbert, Sabine (LGL) escreveu:
>> Dear R Help Team,
>>
>> My research group and I use R scripts for our multivariate data 
>> screening routines. During routine use, we encountered some 
>> inconsistencies within the predict() function of the R Stats Package.

In addition to Rui's correction to this misstatement, the caret package 
is really a meta package that attempts to implement an umbrella 
framework for a vast array of tools from a wide variety of sources. It 
is an immense effort but not really a part of the core R project. The 
correct place to file issues is found in the DESCRIPTION file:


URL: https://github.com/topepo/caret/ BugReports: 
https://github.com/topepo/caret/issues

 ?If you use `str` on an object constructed with caret, you discover 
that the `predict` function is actually not in the main workspace but 
rather embedded in the fit-object itself. I think this is a rather 
general statement regarding the caret universe, and so I expect that 
your fit -objects can be examined for the code that predict.train will 
use with this approach. Your description of your analysis methods was 
rather incompletely specified, and I will put an appendix of "svm" 
methods that might be specified after my demonstration using code. (Note 
that I do not see a caret "weights" hyper-parameter for the "svmLinear" 
method which is actually using code from pkg:kernlab.)


library(caret) svmFit <- train(Species ~ ., data = iris, method = 
"svmLinear", trControl = trainControl(method = "cv")) class(svmFit) #[1] 
"train" "train.formula" str(predict(svmFit)) Factor w/ 3 levels 
"setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ... str(svmFit) #---screen 
output------------- List of 24 $ method : chr "svmLinear" $ modelInfo 
:List of 13 ..$ label : chr "Support Vector Machines with Linear Kernel" 
..$ library : chr "kernlab" ..$ type : chr [1:2] "Regression" 
"Classification" ..$ parameters:'data.frame': 1 obs. of 3 variables: .. 
..$ parameter: chr "C" .. ..$ class : chr "numeric" .. ..$ label : chr 
"Cost" ..$ grid :function (x, y, len = NULL, search = "grid") ..$ loop : 
NULL ..$ fit :function (x, y, wts, param, lev, last, classProbs, ...) 
..$ predict :function (modelFit, newdata, submodels = NULL) ..$ prob 
:function (modelFit, newdata, submodels = NULL) ..$ predictors:function 
(x, ...) ..$ tags : chr [1:5] "Kernel Method" "Support Vector Machines" 
"Linear Regression" "Linear Classifier" ... ..$ levels :function (x) ..$ 
sort :function (x) $ modelType : chr "Classification" # ---- large 
amount of screen output omitted------ # note that the class of 
svmFit$modelInfo$predict is 'function' # and its code at least to this 
particular svm method of which there are about 10!
svmFit$modelInfo$predict #---- screen output ------ function (modelFit, 
newdata, submodels = NULL) { svmPred <- function(obj, x) { hasPM <- 
!is.null(unlist(obj at prob.model)) if (hasPM) { pred <- 
kernlab::lev(obj)[apply(kernlab::predict(obj, x, type = 
"probabilities"), 1, which.max)] } else pred <- kernlab::predict(obj, x) 
pred } out <- try(svmPred(modelFit, newdata), silent = TRUE) if 
(is.character(kernlab::lev(modelFit))) { if (class(out)[1] == 
"try-error") { warning("kernlab class prediction calculations failed; 
returning NAs") out <- rep("", nrow(newdata)) out[seq(along = out)] <- 
NA } } else { if (class(out)[1] == "try-error") { warning("kernlab 
prediction calculations failed; returning NAs") out <- rep(NA, 
nrow(newdata)) } } if (is.matrix(out)) out <- out[, 1] out } <bytecode: 
0x561277d4ec50> -- David


>> Through internal research, we were unable to find the reason for this 
>> and have decided to contact your help team with the following issue:
>>
>> The predict() function is used once to predict the class membership 
>> of a new sample (type = "class") on a trained linear SVM model for 
>> distinguishing two classes (using the caret package). It is then used 
>> to also examine the probability of class membership (type = "prob"). 
>> Both are then presented in an R shiny output. Within the routine, we 
>> noticed two samples (out of 100+) where the class prediction and 
>> probability prediction did not match. The prediction probabilities of 
>> one class (52%) did not match the class membership within the predict 
>> function. We use the same seed and the discrepancy is reproducible in 
>> this sample. The same problem did not occur in other trained models 
>> (lda, random forest, radial SVM...).

*Support Vector Machines with Boundrange String Kernel*(|method = 
'svmBoundrangeString'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    length (|length|, numeric)

  *

    Cost (|C|, numeric)

*Support Vector Machines with Class Weights*(|method = 'svmRadialWeights'|)

For classification using packagekernlabwith tuning parameters:

  *

    Sigma (|sigma|, numeric)

  *

    Cost (|C|, numeric)

  *

    Weight (|Weight|, numeric)

*Support Vector Machines with Exponential String Kernel*(|method = 
'svmExpoString'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    lambda (|lambda|, numeric)

  *

    Cost (|C|, numeric)

*Support Vector Machines with Linear Kernel*(|method = 'svmLinear'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    Cost (|C|, numeric)

*Support Vector Machines with Linear Kernel*(|method = 'svmLinear2'|)

For classification and regression using packagee1071with tuning parameters:

  *

    Cost (|cost|, numeric)

*Support Vector Machines with Polynomial Kernel*(|method = 'svmPoly'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    Polynomial Degree (|degree|, numeric)

  *

    Scale (|scale|, numeric)

  *

    Cost (|C|, numeric)

*Support Vector Machines with Radial Basis Function Kernel*(|method = 
'svmRadial'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    Sigma (|sigma|, numeric)

  *

    Cost (|C|, numeric)

*Support Vector Machines with Radial Basis Function Kernel*(|method = 
'svmRadialCost'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    Cost (|C|, numeric)

*Support Vector Machines with Radial Basis Function Kernel*(|method = 
'svmRadialSigma'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    Sigma (|sigma|, numeric)

  *

    Cost (|C|, numeric)

Note: This SVM model tunes over the cost parameter and the RBF kernel 
parameter sigma. In the latter case, using|tuneLength|will, at most, 
evaluate six values of the kernel parameter. This enables a broad search 
over the cost parameter and a relatively narrow search over|sigma|

*Support Vector Machines with Spectrum String Kernel*(|method = 
'svmSpectrumString'|)

For classification and regression using packagekernlabwith tuning 
parameters:

  *

    length (|length|, numeric)

  *

    Cost (|C|, numeric)

>>
>> Is there a weighing of classes within the prediction function or is 
>> the classification limit not at 50%/a majority vote? Or do you have 
>> another explanation for this discrepancy, please let us know.
>>
>> PS: If this is an issue based on the model training function of the 
>> caret package and therefore not your responsibility, please let us know.
>>
>> Thank you in advance for your support!
>>
>> Yours sincerely,
>> Sabine Milbert
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> I cannot tell what is going on but I would like to make a correction 
> to your post.
>
> predict() is a generic function with methods for objects of several 
> classes in many packages. In base package stats you will find methods 
> for objects (fits) of class lm, glm and others, see ?predict.
>
> The method you are asking about is predict.train, defined in package 
> caret, not in package stats.
> to see what predict method is being called, check
>
>
> class(your_fit)
>
>
> Hope this helps,
>
> Rui Barradas
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
	[[alternative HTML version deleted]]


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Sep 23 21:21:54 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 23 Sep 2023 22:21:54 +0300
Subject: [R] predict function type class vs. prob
In-Reply-To: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
References: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
Message-ID: <20230923222154.77b39e6a@parabola>

? Fri, 22 Sep 2023 10:12:51 +0000
"Milbert, Sabine (LGL)" <Sabine.Milbert at lgl.bayern.de> ?????:

> PS: If this is an issue based on the model training function of the
> caret package and therefore not your responsibility, please let us
> know.

Indeed, as Rui Barradas said, predict() is a generic function. Calling
it with your model as an argument resolves to a function in the caret
package.

It's hard to say without looking at your code and data (the R-help
posting guide has some hints on how to prepare a reproducible example),
but I think that the caret package fits your linear SVM models using
kernlab::ksvm, and then predict() resolves to a combination of
kernlab::predict (potentially with the argument type = "probabilities")
and kernlab::lev.

Try replicating your results using just the kernlab package.

-- 
Best regards,
Ivan


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Sep 23 21:24:18 2023
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sat, 23 Sep 2023 12:24:18 -0700
Subject: [R] predict function type class vs. prob
In-Reply-To: <9c5fe5ed-a83d-40cc-a9ac-b95ba22835cf@sapo.pt>
References: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
 <9c5fe5ed-a83d-40cc-a9ac-b95ba22835cf@sapo.pt>
Message-ID: <ea5cc1cf-656d-8e9d-40e1-dff0250dad89@comcast.net>

That's embarrassing. Apologies for the garbles HTML posting. I'll see if 
this is more readable:

On 9/23/23 05:30, Rui Barradas wrote:
> ?s 11:12 de 22/09/2023, Milbert, Sabine (LGL) escreveu:
>> Dear R Help Team,
>>
>> My research group and I use R scripts for our multivariate data 
>> screening routines. During routine use, we encountered some 
>> inconsistencies within the predict() function of the R Stats Package. 




On 9/23/23 05:30, Rui Barradas wrote:
 > ?s 11:12 de 22/09/2023, Milbert, Sabine (LGL) escreveu:
 >> Dear R Help Team,
 >>
 >> My research group and I use R scripts for our multivariate data 
screening routines. During routine use, we encountered some 
inconsistencies within the predict() function of the R Stats Package.

In addition to Rui's correction to this misstatement, the caret package 
is really a meta package that attempts to implement an umbrella 
framework for a vast array of tools from a wide variety of sources. It 
is an immense effort but not really a part of the core R project. The 
correct place to file issues is found in the DESCRIPTION file:


URL: https://github.com/topepo/caret/
BugReports: https://github.com/topepo/caret/issues

 ?If you use `str` on an object constructed with caret, you discover 
that the `predict` function is actually not in the main workspace but 
rather embedded in the fit-object itself. I think this is a rather 
general statement regarding the caret universe, and so I expect that 
your fit -objects can be examined for the code that predict.train will 
use with this approach. Your description of your analysis methods was 
rather incompletely specified, and I will put an appendix of "svm" 
methods that might be specified after my demonstration using code. (Note 
that I do not see a caret "weights" hyper-parameter for the "svmLinear" 
method which is actually using code from pkg:kernlab.)


library(caret)
svmFit <- train(Species ~ ., data = iris, method = "svmLinear",
 ???????????????? trControl = trainControl(method = "cv"))

 ?class(svmFit)
#[1] "train"???????? "train.formula"
str(predict(svmFit))
 ?Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...
str(svmFit)
#---screen output-------------
List of 24
 ?$ method????? : chr "svmLinear"
 ?$ modelInfo?? :List of 13
 ? ..$ label???? : chr "Support Vector Machines with Linear Kernel"
 ? ..$ library?? : chr "kernlab"
 ? ..$ type????? : chr [1:2] "Regression" "Classification"
 ? ..$ parameters:'data.frame':??? 1 obs. of? 3 variables:
 ? .. ..$ parameter: chr "C"
 ? .. ..$ class??? : chr "numeric"
 ? .. ..$ label??? : chr "Cost"
 ? ..$ grid????? :function (x, y, len = NULL, search = "grid")
 ? ..$ loop????? : NULL
 ? ..$ fit?????? :function (x, y, wts, param, lev, last, classProbs, ...)
 ? ..$ predict?? :function (modelFit, newdata, submodels = NULL)
 ? ..$ prob????? :function (modelFit, newdata, submodels = NULL)
 ? ..$ predictors:function (x, ...)
 ? ..$ tags????? : chr [1:5] "Kernel Method" "Support Vector Machines" 
"Linear Regression" "Linear Classifier" ...
 ? ..$ levels??? :function (x)
 ? ..$ sort????? :function (x)
 ?$ modelType?? : chr "Classification"
#? ---- large amount of screen output omitted------

# note that the class of svmFit$modelInfo$predict is 'function'
# and its code at least to this particular svm method of which there are 
about 10!


svmFit$modelInfo$predict

#---- screen output ------
function (modelFit, newdata, submodels = NULL)
{
 ??? svmPred <- function(obj, x) {
 ??????? hasPM <- !is.null(unlist(obj at prob.model))
 ??????? if (hasPM) {
 ??????????? pred <- kernlab::lev(obj)[apply(kernlab::predict(obj,
 ??????????????? x, type = "probabilities"), 1, which.max)]
 ??????? }
 ??????? else pred <- kernlab::predict(obj, x)
 ??????? pred
 ??? }
 ??? out <- try(svmPred(modelFit, newdata), silent = TRUE)
 ??? if (is.character(kernlab::lev(modelFit))) {
 ??????? if (class(out)[1] == "try-error") {
 ??????????? warning("kernlab class prediction calculations failed; 
returning NAs")
 ??????????? out <- rep("", nrow(newdata))
 ??????????? out[seq(along = out)] <- NA
 ??????? }
 ??? }
 ??? else {
 ??????? if (class(out)[1] == "try-error") {
 ??????????? warning("kernlab prediction calculations failed; returning 
NAs")
 ??????????? out <- rep(NA, nrow(newdata))
 ??????? }
 ??? }
 ??? if (is.matrix(out))
 ??????? out <- out[, 1]
 ??? out
}
<bytecode: 0x561277d4ec50>

-- 
David


 >> Through internal research, we were unable to find the reason for 
this and have decided to contact your help team with the following issue:
 >>
 >> The predict() function is used once to predict the class membership 
of a new sample (type = "class") on a trained linear SVM model for 
distinguishing two classes (using the caret package). It is then used to 
also examine the probability of class membership (type = "prob"). Both 
are then presented in an R shiny output. Within the routine, we noticed 
two samples (out of 100+) where the class prediction and probability 
prediction did not match. The prediction probabilities of one class 
(52%) did not match the class membership within the predict function. We 
use the same seed and the discrepancy is reproducible in this sample. 
The same problem did not occur in other trained models (lda, random 
forest, radial SVM...).

Support Vector Machines with Boundrange String Kernel (method = 
'svmBoundrangeString')

For classification and regression using package kernlab with tuning 
parameters:

 ??? length (length, numeric)

 ??? Cost (C, numeric)

Support Vector Machines with Class Weights (method = 'svmRadialWeights')

For classification using package kernlab with tuning parameters:

 ??? Sigma (sigma, numeric)

 ??? Cost (C, numeric)

 ??? Weight (Weight, numeric)

Support Vector Machines with Exponential String Kernel (method = 
'svmExpoString')

For classification and regression using package kernlab with tuning 
parameters:

 ??? lambda (lambda, numeric)

 ??? Cost (C, numeric)

Support Vector Machines with Linear Kernel (method = 'svmLinear')

For classification and regression using package kernlab with tuning 
parameters:

 ??? Cost (C, numeric)

Support Vector Machines with Linear Kernel (method = 'svmLinear2')

For classification and regression using package e1071 with tuning 
parameters:

 ??? Cost (cost, numeric)

Support Vector Machines with Polynomial Kernel (method = 'svmPoly')

For classification and regression using package kernlab with tuning 
parameters:

 ??? Polynomial Degree (degree, numeric)

 ??? Scale (scale, numeric)

 ??? Cost (C, numeric)

Support Vector Machines with Radial Basis Function Kernel (method = 
'svmRadial')

For classification and regression using package kernlab with tuning 
parameters:

 ??? Sigma (sigma, numeric)

 ??? Cost (C, numeric)

Support Vector Machines with Radial Basis Function Kernel (method = 
'svmRadialCost')

For classification and regression using package kernlab with tuning 
parameters:

 ??? Cost (C, numeric)

Support Vector Machines with Radial Basis Function Kernel (method = 
'svmRadialSigma')

For classification and regression using package kernlab with tuning 
parameters:

 ??? Sigma (sigma, numeric)

 ??? Cost (C, numeric)

Note: This SVM model tunes over the cost parameter and the RBF kernel 
parameter sigma. In the latter case, using tuneLength will, at most, 
evaluate six values of the kernel parameter. This enables a broad search 
over the cost parameter and a relatively narrow search over sigma

Support Vector Machines with Spectrum String Kernel (method = 
'svmSpectrumString')

For classification and regression using package kernlab with tuning 
parameters:

 ??? length (length, numeric)

 ??? Cost (C, numeric)

 >>
 >> Is there a weighing of classes within the prediction function or is 
the classification limit not at 50%/a majority vote? Or do you have 
another explanation for this discrepancy, please let us know.
 >>
 >> PS: If this is an issue based on the model training function of the 
caret package and therefore not your responsibility, please let us know.
 >>
 >> Thank you in advance for your support!
 >>
 >> Yours sincerely,
 >> Sabine Milbert
 >>
 >>???? [[alternative HTML version deleted]]
 >>
 >> ______________________________________________
 >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
 >> https://stat.ethz.ch/mailman/listinfo/r-help
 >> PLEASE do read the posting guide 
http://www.R-project.org/posting-guide.html
 >> and provide commented, minimal, self-contained, reproducible code.
 > Hello,
 >
 > I cannot tell what is going on but I would like to make a correction 
to your post.
 >
 > predict() is a generic function with methods for objects of several 
classes in many packages. In base package stats you will find methods 
for objects (fits) of class lm, glm and others, see ?predict.
 >
 > The method you are asking about is predict.train, defined in package 
caret, not in package stats.
 > to see what predict method is being called, check
 >
 >
 > class(your_fit)
 >
 >
 > Hope this helps,
 >
 > Rui Barradas
 >
 > ______________________________________________
 > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
 > https://stat.ethz.ch/mailman/listinfo/r-help
 > PLEASE do read the posting guide 
http://www.R-project.org/posting-guide.html
 > and provide commented, minimal, self-contained, reproducible code.



>> Through internal research, we were unable to find the reason for this 
>> and have decided to contact your help team with the following issue:
>>
>> The predict() function is used once to predict the class membership 
>> of a new sample (type = "class") on a trained linear SVM model for 
>> distinguishing two classes (using the caret package). It is then used 
>> to also examine the probability of class membership (type = "prob"). 
>> Both are then presented in an R shiny output. Within the routine, we 
>> noticed two samples (out of 100+) where the class prediction and 
>> probability prediction did not match. The prediction probabilities of 
>> one class (52%) did not match the class membership within the predict 
>> function. We use the same seed and the discrepancy is reproducible in 
>> this sample. The same problem did not occur in other trained models 
>> (lda, random forest, radial SVM...).
>>
>> Is there a weighing of classes within the prediction function or is 
>> the classification limit not at 50%/a majority vote? Or do you have 
>> another explanation for this discrepancy, please let us know.
>>
>> PS: If this is an issue based on the model training function of the 
>> caret package and therefore not your responsibility, please let us know.
>>
>> Thank you in advance for your support!
>>
>> Yours sincerely,
>> Sabine Milbert
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> Hello,
>
> I cannot tell what is going on but I would like to make a correction 
> to your post.
>
> predict() is a generic function with methods for objects of several 
> classes in many packages. In base package stats you will find methods 
> for objects (fits) of class lm, glm and others, see ?predict.
>
> The method you are asking about is predict.train, defined in package 
> caret, not in package stats.
> to see what predict method is being called, check
>
>
> class(your_fit)
>
>
> Hope this helps,
>
> Rui Barradas
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Sat Sep 23 21:35:30 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sat, 23 Sep 2023 22:35:30 +0300
Subject: [R] How to import an excel data file
In-Reply-To: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <20230923223530.03e1ed5e@parabola>

? Fri, 22 Sep 2023 23:10:58 +0000
"Parkhurst, David" <parkhurs at indiana.edu> ?????:

> Its location in my Mac files is
> DFPfiles/ae/FriendsMonroe/KurtzData.csv How exactly---What _,
> etc.---do I type with its name in the read_excel() function?

In RGui on Windows, file.choose() opens a dialog window letting the
user choose a file interactively. Do you get a similar prompt if you run
file.choose() in R.app? Choose the file, and it will return a string
that would be most certainly suitable for read.csv(), read_excel(), and
other functions that accept file paths.

-- 
Best regards,
Ivan


From murdoch@dunc@n @end|ng |rom gm@||@com  Sat Sep 23 23:47:55 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sat, 23 Sep 2023 17:47:55 -0400
Subject: [R] How to import an excel data file
In-Reply-To: <20230923223530.03e1ed5e@parabola>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <20230923223530.03e1ed5e@parabola>
Message-ID: <a4e6be6a-b95d-408f-ab72-4a47353741db@gmail.com>

On 23/09/2023 3:35 p.m., Ivan Krylov wrote:
> ? Fri, 22 Sep 2023 23:10:58 +0000
> "Parkhurst, David" <parkhurs at indiana.edu> ?????:
> 
>> Its location in my Mac files is
>> DFPfiles/ae/FriendsMonroe/KurtzData.csv How exactly---What _,
>> etc.---do I type with its name in the read_excel() function?
> 
> In RGui on Windows, file.choose() opens a dialog window letting the
> user choose a file interactively. Do you get a similar prompt if you run
> file.choose() in R.app? Choose the file, and it will return a string
> that would be most certainly suitable for read.csv(), read_excel(), and
> other functions that accept file paths.


file.choose() exists on all platforms.  choose.files() only exists on 
Windows.

Duncan Murdoch


From ro||turner @end|ng |rom po@teo@net  Sun Sep 24 02:09:26 2023
From: ro||turner @end|ng |rom po@teo@net (Rolf Turner)
Date: Sun, 24 Sep 2023 13:09:26 +1300
Subject: [R] predict function type class vs. prob
In-Reply-To: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
References: <5fc6637e7b7549daad613f9a53c678f4@lgl.bayern.de>
Message-ID: <20230924130926.4ce48370@rolf-Latitude-E7470>


On Fri, 22 Sep 2023 10:12:51 +0000
"Milbert, Sabine (LGL)" <Sabine.Milbert at lgl.bayern.de> wrote:

> Dear R Help Team,

<SNIP>

In addition to other misapprehensions that others have pointed out, you
seem to have a fundamental misunderstanding of R-help (and perhaps of
R).  There is no such thing as the "R Help Team".  This is a *mailing
list*, to which some R users subscribe, and from time to time
contribute.

All advice given is the personal opinion of the contributor.  It has no
official status, and may or may not be sound advice, depending on the
contributor.  (Those contributors who have responded to your enquiry so
far may be relied upon to give sound advice.)

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Stats. Dep't. (secretaries) phone:
         +64-9-373-7599 ext. 89622
Home phone: +64-9-480-4619


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Sun Sep 24 04:19:20 2023
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 24 Sep 2023 02:19:20 +0000
Subject: [R] RQuantLib installation problem
Message-ID: <F97114D8-3697-4B34-8688-71EABC6CB936@hotmail.com>


In my mac, using brew, I installed boost and quantlib packages.  But
installation of RQuantLib errored out because R could not find
libgfortran.5.dylib

My mac does have this file, but in a different location.  Is there a
simple fix to install RQuantLib?

Thanks,
Naresh

~ $ ls /usr/local/gfortran/lib/libgfortran.5.dylib 
/usr/local/gfortran/lib/libgfortran.5.dylib

> install.packages("RQuantLib", repos = "https://cran.r-project.org")
Installing package into ?/usr/local/lib/R/4.1/site-library?
(as ?lib? is unspecified)
trying URL 'https://cran.r-project.org/src/contrib/RQuantLib_0.4.17.tar.gz'
Content type 'application/x-gzip' length 193331 bytes (188 KB)
==================================================
downloaded 188 KB

dyld[29996]: Library not loaded: /usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib
  Referenced from: <383F3774-06DE-3792-AA2C-C9D6B37A2D89> /usr/local/Cellar/r/4.1.2/lib/R/lib/libR.dylib
  Reason: tried: '/usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib' (no such file), '/usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib' (no such file), '/usr/local/Cellar/r/4.1.2/lib/R/lib/libgfortran.5.dylib' (no such file), '/usr/local/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib/server/libgfortran.5.dylib' (no such file)
/usr/local/Cellar/r/4.1.2/lib/R/bin/INSTALL: line 34: 29995 Done                    echo 'tools:::.install_packages()'
     29996 Abort trap: 6           | R_DEFAULT_PACKAGES= LC_COLLATE=C "${R_HOME}/bin/R" $myArgs --no-echo --args ${args}

The downloaded source packages are in
	?/private/var/folders/97/5377j5_d207fshvjz_pz7szw0000gn/T/Rtmp9gBaE0/downloaded_packages?
Warning message:
In install.packages("RQuantLib", repos = "https://cran.r-project.org") :
  installation of package ?RQuantLib? had non-zero exit status

From p@rkhur@ @end|ng |rom |nd|@n@@edu  Sun Sep 24 00:55:10 2023
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David)
Date: Sat, 23 Sep 2023 22:55:10 +0000
Subject: [R] Odd result
Message-ID: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>

With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
44  10/26/22              0.086      237        NA     NA 0.1550  45.00
45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
47                                              NA     NA     NA     NA
48                                              NA     NA     NA     NA
49                                              NA     NA     NA     NA

Then the NA?s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?

David

	[[alternative HTML version deleted]]


From rhur||n @end|ng |rom gwdg@de  Sun Sep 24 11:25:30 2023
From: rhur||n @end|ng |rom gwdg@de (Rainer Hurling)
Date: Sun, 24 Sep 2023 11:25:30 +0200
Subject: [R] How to import an excel data file
In-Reply-To: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB411469E3334B3F7746072592D0FFA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <d977c382-38f9-2995-6546-9b58639e47be@gwdg.de>

Dear David,

Am 23.09.23 um 01:10 schrieb Parkhurst, David:
> I know I should save it as a .csv file, which I have done.
> I?m told I should use the read_excel() function from the readxl package.
> My question is, how do I express the location of the file.  The file is named KurtzData.csv.
> Its location in my Mac files is DFPfiles/ae/FriendsMonroe/KurtzData.csv
> How exactly---What ?, etc.---do I type with its name in the read_excel() function?
> It?s been a long time since I?ve used R.
> Thanks for any help.
> 
> 
> 	[[alternative HTML version deleted]]

Even though there are already some answers, I would like to comment on 
the question.

The advice to export the excel data to a csv file to import it 
afterwards from the readxl package into R using read_excel() is a bit 
around the corner. Instead, the readxl package can better read the Excel 
format directly, both the one as .xls format and the new .xlsx format.

I am basically a proponent for reading original data (here Excel) 
directly and not via an intermediate format like csv. This avoids, among 
other things, that subsequently supplemented or corrected original Excel 
data are not converted to csv by mistake and are thus not available the 
next time they are imported into R.

In order to take the path to the data into account when reading it with 
read_excel(), you can proceed as follows (analogous if your path is 
relativ to your R working directory), for example:

Kurtz <- readxl::read_excel(path = 
'/DFPfiles/ae/FriendsMonroe/KurtzData.xlsx', sheet = 
'name-or-number-of-the-sheet')


Additional parameters may be necessary, e.g. to specify whether to skip 
headers when reading the Excel data. The help page for the function 
gives valuable hints here:

?readxl::read_excel


Besides the R package readxl I have also had very good experiences 
reading and writing Excel files with the package openxlsx ;)

HTH,
Rainer Hurling


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Sun Sep 24 11:58:57 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Sun, 24 Sep 2023 10:58:57 +0100
Subject: [R] Odd result
In-Reply-To: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <2d1ee62a-6b76-867e-04f4-9dd40e8ec1b6@dewey.myzen.co.uk>

Dear David

To get the first 46 rows just do KurtzData[1:43,]

However really you want to find out why it happened. It looks as though 
the .csv file you read has lots of blank lines at the end. I would open 
it in an editor to check that.

Michael

On 23/09/2023 23:55, Parkhurst, David wrote:
> With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
> 39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
> 40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
> 41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
> 42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
> 43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
> 44  10/26/22              0.086      237        NA     NA 0.1550  45.00
> 45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
> 46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
> 47                                              NA     NA     NA     NA
> 48                                              NA     NA     NA     NA
> 49                                              NA     NA     NA     NA
> 
> Then the NA?s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?
> 
> David
> 
> 	[[alternative HTML version deleted]]
> 
> 
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Michael


From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Sep 24 12:16:34 2023
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sun, 24 Sep 2023 06:16:34 -0400
Subject: [R] Odd result
In-Reply-To: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <213425f3-b37c-4157-928d-5b8bf0d8dac5@gmail.com>

On 23/09/2023 6:55 p.m., Parkhurst, David wrote:
> With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
> 39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
> 40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
> 41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
> 42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
> 43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
> 44  10/26/22              0.086      237        NA     NA 0.1550  45.00
> 45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
> 46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
> 47                                              NA     NA     NA     NA
> 48                                              NA     NA     NA     NA
> 49                                              NA     NA     NA     NA
> 
> Then the NA?s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?

Many Excel spreadsheets have a lot of garbage outside the range of the 
data.  Sometimes it is visible if you know where to look, sometimes it 
is blank cells.  Perhaps at some point you (or the file creator) 
accidentally entered a number in line 973.  Then Excel will think the 
sheet has 973 lines.  I don't know the best way to tell Excel that those 
lines are pure garbage.

That's why old fogies like me recommend that you do as little as 
possible in Excel.  Get the data into a reliable form as soon as possible.

Once it is an R dataframe, you can delete lines using negative indices. 
In this case use

     fixed <- KurtzData[-(47:nrow(KurtzData)), ]

which will create a new dataframe with only rows 1 to 46.

Duncan Murdoch


From tebert @end|ng |rom u||@edu  Sun Sep 24 14:11:01 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Sun, 24 Sep 2023 12:11:01 +0000
Subject: [R] Odd result
In-Reply-To: <213425f3-b37c-4157-928d-5b8bf0d8dac5@gmail.com>
References: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <213425f3-b37c-4157-928d-5b8bf0d8dac5@gmail.com>
Message-ID: <CH3PR22MB4514729D5E0E0EE8EB9999DBCFFDA@CH3PR22MB4514.namprd22.prod.outlook.com>

I tend to keep data in Excel. The reason is that I can keep data and analysis output in one file. A part of this is that I tend to use SAS where I get abundant output.
One way that this type of result happens is with junk in the file. Someone might put a space in a cell or a period. Such characters are hard to find. I select entire columns and rows and delete everything for several dozen rows past were the data are in the worksheet. For all I know someone made a few calculations and then tried to "clean up the data" but did not remove everything, or maybe the cat walked across the keyboard and left presents. Another issue is when someone is not consistent with how they enter missing data. Sometimes you get a blend of "na" and "." and "  "  along with empty cells. Global replace can be your friend. One indication of these sorts of problems is a numeric column of data reads as character. If there is just one non-numeric value then the variable is character rather than numeric.

Hope that helps.

Regards,
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Duncan Murdoch
Sent: Sunday, September 24, 2023 6:17 AM
To: Parkhurst, David <parkhurs at indiana.edu>; r-help at r-project.org
Subject: Re: [R] Odd result

[External Email]

On 23/09/2023 6:55 p.m., Parkhurst, David wrote:
> With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
> 39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
> 40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
> 41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
> 42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
> 43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
> 44  10/26/22              0.086      237        NA     NA 0.1550  45.00
> 45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
> 46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
> 47                                              NA     NA     NA     NA
> 48                                              NA     NA     NA     NA
> 49                                              NA     NA     NA     NA
>
> Then the NA s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?

Many Excel spreadsheets have a lot of garbage outside the range of the data.  Sometimes it is visible if you know where to look, sometimes it is blank cells.  Perhaps at some point you (or the file creator) accidentally entered a number in line 973.  Then Excel will think the sheet has 973 lines.  I don't know the best way to tell Excel that those lines are pure garbage.

That's why old fogies like me recommend that you do as little as possible in Excel.  Get the data into a reliable form as soon as possible.

Once it is an R dataframe, you can delete lines using negative indices.
In this case use

     fixed <- KurtzData[-(47:nrow(KurtzData)), ]

which will create a new dataframe with only rows 1 to 46.

Duncan Murdoch

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From bbo|ker @end|ng |rom gm@||@com  Sun Sep 24 17:13:40 2023
From: bbo|ker @end|ng |rom gm@||@com (Ben Bolker)
Date: Sun, 24 Sep 2023 11:13:40 -0400
Subject: [R] Odd result
In-Reply-To: <2d1ee62a-6b76-867e-04f4-9dd40e8ec1b6@dewey.myzen.co.uk>
References: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <2d1ee62a-6b76-867e-04f4-9dd40e8ec1b6@dewey.myzen.co.uk>
Message-ID: <c3a9e7a5-e0ec-5bc9-0b24-904ddb3272e5@gmail.com>

   For what it's worth the janitor::remove_empty() (which removes all-NA 
rows by default, can be set to remove columns instead) can be useful for 
this kind of cleanup.

On 2023-09-24 5:58 a.m., Michael Dewey wrote:
> Dear David
> 
> To get the first 46 rows just do KurtzData[1:43,]
> 
> However really you want to find out why it happened. It looks as though 
> the .csv file you read has lots of blank lines at the end. I would open 
> it in an editor to check that.
> 
> Michael
> 
> On 23/09/2023 23:55, Parkhurst, David wrote:
>> With help from several people, I used file.choose() to get my file 
>> name, and read.csv() to read in the file as KurtzData.? Then when I 
>> print KurtzData, the last several lines look like this:
>> 39?? 5/31/22????????????? 16.0????? 341??? 1.75525 0.0201 0.0214?? 7.00
>> 40?? 6/28/22? 2:00 PM????? 0.0????? 215??? 0.67950 0.0156 0.0294???? NA
>> 41?? 7/25/22 11:00 AM????? 11.9?? 1943.5??????? NA???? NA 0.0500?? 7.80
>> 42?? 8/31/22????????????????? 0??? 220.5??????? NA???? NA 0.0700? 30.50
>> 43?? 9/28/22????????????? 0.067???? 10.9??????? NA???? NA 0.0700? 10.20
>> 44? 10/26/22????????????? 0.086????? 237??????? NA???? NA 0.1550? 45.00
>> 45?? 1/12/23? 1:00 PM???? 36.26??? 24196??????? NA???? NA 0.7500 283.50
>> 46?? 2/14/23? 1:00 PM???? 20.71?????? 55??????? NA???? NA 0.0500?? 2.40
>> 47????????????????????????????????????????????? NA???? NA???? NA???? NA
>> 48????????????????????????????????????????????? NA???? NA???? NA???? NA
>> 49????????????????????????????????????????????? NA???? NA???? NA???? NA
>>
>> Then the NA?s go down to one numbered 973.? Where did those extras 
>> likely come from, and how do I get rid of them?? I assume I need to 
>> get rid of all the lines after #46,? to do calculations and graphics, no?
>>
>> David
>>
>> ????[[alternative HTML version deleted]]
>>
>>
>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From kry|ov@r00t @end|ng |rom gm@||@com  Sun Sep 24 17:23:34 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Sun, 24 Sep 2023 18:23:34 +0300
Subject: [R] RQuantLib installation problem
In-Reply-To: <F97114D8-3697-4B34-8688-71EABC6CB936@hotmail.com>
References: <F97114D8-3697-4B34-8688-71EABC6CB936@hotmail.com>
Message-ID: <20230924182334.7f532f05@Tarkus>

On Sun, 24 Sep 2023 02:19:20 +0000
Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> wrote:

> > install.packages("RQuantLib", repos = "https://cran.r-project.org")

> Installing package into ?/usr/local/lib/R/4.1/site-library?
> (as ?lib? is unspecified)
> trying URL
> 'https://cran.r-project.org/src/contrib/RQuantLib_0.4.17.tar.gz'
 
> dyld[29996]: Library not loaded:
> /usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib
> Referenced from: <383F3774-06DE-3792-AA2C-C9D6B37A2D89>
> /usr/local/Cellar/r/4.1.2/lib/R/lib/libR.dylib

So you're installing source packages into a Homebrew-built R, and they
fail to load after being compiled?

If you don't get an answer here, try R-SIG-Mac at r-project.org or
<https://github.com/orgs/Homebrew/discussions>.

-- 
Best regards,
Ivan


From @vi@e@gross m@iii@g oii gm@ii@com  Sun Sep 24 17:30:10 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Sun, 24 Sep 2023 11:30:10 -0400
Subject: [R] Odd result
In-Reply-To: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114C9314A5872B287E8F7B5D0FEA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <003101d9eefc$0196ce50$04c46af0$@gmail.com>

David,

You have choices depending on your situation and plans.

Obviously the ideal solution is to make any CSV you save your EXCEL data in to have exactly what you want. So if your original EXCEL file contains things like a blank character down around row 973, get rid of it or else all lines to there may be picked up and made into an NA. I suggest deleting all extra lines as a first try.

The other method to try is simply to read in the file and only keep complete cases. But your data shows you can have an NA in some columns, such as for 7/25 so using complete.cases() is not a good choice.

So since your first column  (or maybe second) seems to be a date and I think that is not optional, simply filter your data.frame to remove all rows where is.na(DF$COL) is TRUE or some similar stratagem such as checking if all columns are NA.

My guess is you may have re-used an EXCEL file and put new shorter data in it, or that the file has been edited and something was left where it should not be, perhaps something non-numeric. 

Another idea is to NOT use the CSV route and use one of many packages carefully to read the data from a native EXCEL format such as an XSLX file where you can specify which tab you want and where on the page you want to read from. You can point it at the precise rectangular area you want.

And, of course, there are an assortment of cut/paste ways to get the data into tour R program, albeit if the data can change and you need to run the analysis again, these are less useful. Here is an example making use of the fact that on Windows, the copied text is tab separated.

text="A	B
1	0
2	1
3	2
4	3
5	4
6	5
7	6
8	7
9	8
10	9
"
df=read.csv(text=text, sep="\t")
df

    A B
1   1 0
2   2 1
3   3 2
4   4 3
5   5 4
6   6 5
7   7 6
8   8 7
9   9 8

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst, David
Sent: Saturday, September 23, 2023 6:55 PM
To: r-help at r-project.org
Subject: [R] Odd result

With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
44  10/26/22              0.086      237        NA     NA 0.1550  45.00
45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
47                                              NA     NA     NA     NA
48                                              NA     NA     NA     NA
49                                              NA     NA     NA     NA

Then the NA?s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?

David

	[[alternative HTML version deleted]]


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst, David
Sent: Saturday, September 23, 2023 6:55 PM
To: r-help at r-project.org
Subject: [R] Odd result

With help from several people, I used file.choose() to get my file name, and read.csv() to read in the file as KurtzData.  Then when I print KurtzData, the last several lines look like this:
39   5/31/22              16.0      341    1.75525 0.0201 0.0214   7.00
40   6/28/22  2:00 PM      0.0      215    0.67950 0.0156 0.0294     NA
41   7/25/22 11:00 AM      11.9   1943.5        NA     NA 0.0500   7.80
42   8/31/22                  0    220.5        NA     NA 0.0700  30.50
43   9/28/22              0.067     10.9        NA     NA 0.0700  10.20
44  10/26/22              0.086      237        NA     NA 0.1550  45.00
45   1/12/23  1:00 PM     36.26    24196        NA     NA 0.7500 283.50
46   2/14/23  1:00 PM     20.71       55        NA     NA 0.0500   2.40
47                                              NA     NA     NA     NA
48                                              NA     NA     NA     NA
49                                              NA     NA     NA     NA

Then the NA?s go down to one numbered 973.  Where did those extras likely come from, and how do I get rid of them?  I assume I need to get rid of all the lines after #46,  to do calculations and graphics, no?

David

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sun Sep 24 23:29:43 2023
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sun, 24 Sep 2023 14:29:43 -0700
Subject: [R] RQuantLib installation problem
In-Reply-To: <20230924182334.7f532f05@Tarkus>
References: <F97114D8-3697-4B34-8688-71EABC6CB936@hotmail.com>
 <20230924182334.7f532f05@Tarkus>
Message-ID: <8f0850e6-bd47-739e-678f-376c36aa1319@comcast.net>


On 9/24/23 08:23, Ivan Krylov wrote:
> On Sun, 24 Sep 2023 02:19:20 +0000
> Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> wrote:
>
>>> install.packages("RQuantLib", repos = "https://cran.r-project.org")
>> Installing package into ?/usr/local/lib/R/4.1/site-library?
>> (as ?lib? is unspecified)
>> trying URL
>> 'https://cran.r-project.org/src/contrib/RQuantLib_0.4.17.tar.gz'


Ivan is undoubtedly more knowledgeable on these matters than I, but I 
noticed that you are trying to install the current version of RQuantLib 
into a library that appears associated with a significantly older 
version of R than is current the current version. (And I second the 
advice that this is a question properly addressed to the R_SIG-mac 
mailing list but only with a much better description of version of your 
setup and how R was installed. You might want to install RQuantLib for a 
time frame that matched R 4.1.x. The archive is here:

https://cran.r-project.org/src/contrib/00Archive/RQuantLib/

You may also want to set the compile flags so that R can find your 
version of gfortran. That can be done within install.packages but most 
experts would prefer that you do it from a system terminal session with 
$ R CMD INSTALL. You can find details at the r help page `

?INSTALL -- David

>   
>> dyld[29996]: Library not loaded:
>> /usr/local/opt/gcc/lib/gcc/11/libgfortran.5.dylib
>> Referenced from: <383F3774-06DE-3792-AA2C-C9D6B37A2D89>
>> /usr/local/Cellar/r/4.1.2/lib/R/lib/libR.dylib
> So you're installing source packages into a Homebrew-built R, and they
> fail to load after being compiled?
>
> If you don't get an answer here, try R-SIG-Mac at r-project.org or
> <https://github.com/orgs/Homebrew/discussions>.
>


From n@re@h_gurbux@n| @end|ng |rom hotm@||@com  Mon Sep 25 01:42:14 2023
From: n@re@h_gurbux@n| @end|ng |rom hotm@||@com (Naresh Gurbuxani)
Date: Sun, 24 Sep 2023 23:42:14 +0000
Subject: [R] data.table installation on intel macOS Ventura 13.6
Message-ID: <C6000596-7A24-4BCE-AC8B-EFA1AC7C8BB6@hotmail.com>


My data.table installation uses single thread only.

Instruction on this site do not apply to Ventura 13.6
https://github.com/Rdatatable/data.table/wiki/Installation

Has anyone got data.table working with multi-thread?

Thanks,
Naresh


From tgs77m m@iii@g oii y@hoo@com  Mon Sep 25 04:10:37 2023
From: tgs77m m@iii@g oii y@hoo@com (tgs77m m@iii@g oii y@hoo@com)
Date: Sun, 24 Sep 2023 19:10:37 -0700
Subject: [R] prop.trend.test question
References: <000d01d9ef55$7a1ab6d0$6e502470$.ref@yahoo.com>
Message-ID: <000d01d9ef55$7a1ab6d0$6e502470$@yahoo.com>

Colleagues,

The code for prop.trend.test is given by:

function (x, n, score = seq_along(x)) 
{
    method <- "Chi-squared Test for Trend in Proportions"
    dname <- paste(deparse1(substitute(x)), "out of",
deparse1(substitute(n)), 
        ",\n using scores:", paste(score, collapse = " "))
    x <- as.vector(x)
    n <- as.vector(n)
    p <- sum(x)/sum(n)
    w <- n/p/(1 - p)
    a <- anova(lm(freq ~ score, data = list(freq = x/n, score =
as.vector(score)), 
        weights = w))
    chisq <- c(`X-squared` = a["score", "Sum Sq"])
    structure(list(statistic = chisq, parameter = c(df = 1), 
        p.value = pchisq(as.numeric(chisq), 1, lower.tail = FALSE), 
        method = method, data.name = dname), class = "htest")
}

It seems to me that the direction of the trend is found using the weighted
regression lm(freq ~ score, data = list(freq = x/n, score =
as.vector(score)), 
        weights = w))

Am I on the right track here?

Thomas Subia


From kry|ov@r00t @end|ng |rom gm@||@com  Mon Sep 25 09:41:01 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 25 Sep 2023 10:41:01 +0300
Subject: [R] data.table installation on intel macOS Ventura 13.6
In-Reply-To: <C6000596-7A24-4BCE-AC8B-EFA1AC7C8BB6@hotmail.com>
References: <C6000596-7A24-4BCE-AC8B-EFA1AC7C8BB6@hotmail.com>
Message-ID: <20230925104101.644bff8f@Tarkus>

On Sun, 24 Sep 2023 23:42:14 +0000
Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> wrote:

> Instruction on this site do not apply to Ventura 13.6

What happens whey you try to follow them?

The data.table maintainers have prepared the following guide:
<https://github.com/Rdatatable/data.table/wiki/Support>. In particular,
in order to help us help you, you need to include your actions, their
expected and actual results. Without that, you're effectively asking
someone to write a personal tutorial for you, which is not a good use
of anyone's time.

If you don't get an answer here and don't find anything useful on
StackOverflow when searching for [data.table], try
R-SIG-Mac at r-project.org.

-- 
Best regards,
Ivan


From co|or|e @end|ng |rom gm@||@com  Mon Sep 25 10:06:19 2023
From: co|or|e @end|ng |rom gm@||@com (Carlos Ortega)
Date: Mon, 25 Sep 2023 10:06:19 +0200
Subject: [R] data.table installation on intel macOS Ventura 13.6
In-Reply-To: <20230925104101.644bff8f@Tarkus>
References: <C6000596-7A24-4BCE-AC8B-EFA1AC7C8BB6@hotmail.com>
 <20230925104101.644bff8f@Tarkus>
Message-ID: <CAFKNbk+w_kP2xeBOstRn=82eD=Jube637T9-FJbgyPCZukipcQ@mail.gmail.com>

Hi,

Yes, on Mac, it takes a while to even get the build to allow data.table to
be used on multithread.

See this installation guide which has sections specially dedicated for Mac.

   - https://github.com/Rdatatable/data.table/wiki/Installation

You will see that you will most likely have to modify the "Makevars" file
to include the paths of different compilers.

Thank you,
Carlos.

On Mon, Sep 25, 2023 at 9:41?AM Ivan Krylov <krylov.r00t at gmail.com> wrote:

> On Sun, 24 Sep 2023 23:42:14 +0000
> Naresh Gurbuxani <naresh_gurbuxani at hotmail.com> wrote:
>
> > Instruction on this site do not apply to Ventura 13.6
>
> What happens whey you try to follow them?
>
> The data.table maintainers have prepared the following guide:
> <https://github.com/Rdatatable/data.table/wiki/Support>. In particular,
> in order to help us help you, you need to include your actions, their
> expected and actual results. Without that, you're effectively asking
> someone to write a personal tutorial for you, which is not a good use
> of anyone's time.
>
> If you don't get an answer here and don't find anything useful on
> StackOverflow when searching for [data.table], try
> R-SIG-Mac at r-project.org.
>
> --
> Best regards,
> Ivan
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From p@rkhur@ @end|ng |rom |nd|@n@@edu  Sun Sep 24 20:05:43 2023
From: p@rkhur@ @end|ng |rom |nd|@n@@edu (Parkhurst, David)
Date: Sun, 24 Sep 2023 18:05:43 +0000
Subject: [R] How to fix this problem
Message-ID: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>

I have a matrix, KD6, and I?m trying to get a correlation matrix from it.  When I enter cor(KD6), I get the message ?Error in cor(KD6) : 'x' must be numeric?.
Here are some early lines from KD6:
        Flow  E..coli        TN    SRP     TP    TSS
1      38.8    2,420    1.65300 0.0270 0.0630  66.80
2     133.0    2,420    1.39400 0.0670 0.1360   6.80
3      86.2       10    1.73400 0.0700 0.1720  97.30
4       4.8    5,390    0.40400 0.0060 0.0280   8.50
5       0.3    2,490    0.45800 0.0050 0.0430  19.75
6       0.0      186    0.51200 0.0040 0.0470  12.00
7      11.1    9,835    1.25500 0.0660 0.1450  12.20

Why are these not numeric?
There are some NAs later in the matrix, but I get this same error if I ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a problem anyway?

	[[alternative HTML version deleted]]


From |v@n@c@|@ndr@ @end|ng |rom |e|z@@de  Mon Sep 25 10:26:09 2023
From: |v@n@c@|@ndr@ @end|ng |rom |e|z@@de (Ivan Calandra)
Date: Mon, 25 Sep 2023 10:26:09 +0200
Subject: [R] How to fix this problem
In-Reply-To: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <d9c76904-e5e2-7103-e505-544f0ba1cb51@leiza.de>

Dear David,

simply check str(KD6). My guess (because we don't have your dataset, 
only a print of it) is that KD6 is not a matrix but a data.frame. The 
problem seems to come from the column "E..coli" which contains commas 
instead of periods (so text and not number). There might be other issues 
of course.

HTH,
Ivan

On 24/09/2023 20:05, Parkhurst, David wrote:
> I have a matrix, KD6, and I?m trying to get a correlation matrix from it.  When I enter cor(KD6), I get the message ?Error in cor(KD6) : 'x' must be numeric?.
> Here are some early lines from KD6:
>          Flow  E..coli        TN    SRP     TP    TSS
> 1      38.8    2,420    1.65300 0.0270 0.0630  66.80
> 2     133.0    2,420    1.39400 0.0670 0.1360   6.80
> 3      86.2       10    1.73400 0.0700 0.1720  97.30
> 4       4.8    5,390    0.40400 0.0060 0.0280   8.50
> 5       0.3    2,490    0.45800 0.0050 0.0430  19.75
> 6       0.0      186    0.51200 0.0040 0.0470  12.00
> 7      11.1    9,835    1.25500 0.0660 0.1450  12.20
>
> Why are these not numeric?
> There are some NAs later in the matrix, but I get this same error if I ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a problem anyway?
>
> 	[[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Mon Sep 25 10:38:30 2023
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Mon, 25 Sep 2023 11:38:30 +0300
Subject: [R] How to fix this problem
In-Reply-To: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <20230925113830.44855320@Tarkus>

On Sun, 24 Sep 2023 18:05:43 +0000
"Parkhurst, David" <parkhurs at indiana.edu> wrote:

> I have a matrix, KD6, and I_m trying to get a correlation matrix from
> it.  When I enter cor(KD6), I get the message _Error in cor(KD6) :
> 'x' must be numeric_.
> Here are some early lines from KD6:
>        Flow   E..coli        TN    SRP     TP    TSS
> 1      38.8    2,420    1.65300 0.0270 0.0630  66.80
> 2     133.0    2,420    1.39400 0.0670 0.1360   6.80

Use str(KD6) to find out the types of every column of the KD6 data
frame. There may be some non-numeric strings later in the document
preventing R from converting them to numeric automatically. A brute
force solution is as.numeric(), perhaps preceded by some string
manipulation, but it's better to find out why the strings were
considered non-numeric in the first place.

-- 
Best regards,
Ivan


From @vi@e@gross m@iii@g oii gm@ii@com  Mon Sep 25 16:45:07 2023
From: @vi@e@gross m@iii@g oii gm@ii@com (@vi@e@gross m@iii@g oii gm@ii@com)
Date: Mon, 25 Sep 2023 10:45:07 -0400
Subject: [R] How to fix this problem
In-Reply-To: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
Message-ID: <003001d9efbe$e0b05ee0$a2111ca0$@gmail.com>

David,

This may just be the same as your earlier problem. When the type of a column is guessed by looking at the early entries, any non-numeric entry forces the entire column to be character.

Suggestion: fix your original EXCEL FILE or edit your CSV to remove the last entries that look just lie commas.


-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst, David
Sent: Sunday, September 24, 2023 2:06 PM
To: r-help at r-project.org
Subject: [R] How to fix this problem

I have a matrix, KD6, and I?m trying to get a correlation matrix from it.  When I enter cor(KD6), I get the message ?Error in cor(KD6) : 'x' must be numeric?.
Here are some early lines from KD6:
        Flow  E..coli        TN    SRP     TP    TSS
1      38.8    2,420    1.65300 0.0270 0.0630  66.80
2     133.0    2,420    1.39400 0.0670 0.1360   6.80
3      86.2       10    1.73400 0.0700 0.1720  97.30
4       4.8    5,390    0.40400 0.0060 0.0280   8.50
5       0.3    2,490    0.45800 0.0050 0.0430  19.75
6       0.0      186    0.51200 0.0040 0.0470  12.00
7      11.1    9,835    1.25500 0.0660 0.1450  12.20

Why are these not numeric?
There are some NAs later in the matrix, but I get this same error if I ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a problem anyway?

	[[alternative HTML version deleted]]


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Mon Sep 25 17:08:37 2023
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Mon, 25 Sep 2023 16:08:37 +0100
Subject: [R] How to fix this problem
In-Reply-To: <003001d9efbe$e0b05ee0$a2111ca0$@gmail.com>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <003001d9efbe$e0b05ee0$a2111ca0$@gmail.com>
Message-ID: <a5b45dd2-7abd-307d-21eb-81e0562dcb69@dewey.myzen.co.uk>

It looks here as though the E coli column has commas in it so will be 
treated as character.

Michael

On 25/09/2023 15:45, avi.e.gross at gmail.com wrote:
> David,
> 
> This may just be the same as your earlier problem. When the type of a column is guessed by looking at the early entries, any non-numeric entry forces the entire column to be character.
> 
> Suggestion: fix your original EXCEL FILE or edit your CSV to remove the last entries that look just lie commas.
> 
> 
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst, David
> Sent: Sunday, September 24, 2023 2:06 PM
> To: r-help at r-project.org
> Subject: [R] How to fix this problem
> 
> I have a matrix, KD6, and I?m trying to get a correlation matrix from it.  When I enter cor(KD6), I get the message ?Error in cor(KD6) : 'x' must be numeric?.
> Here are some early lines from KD6:
>          Flow  E..coli        TN    SRP     TP    TSS
> 1      38.8    2,420    1.65300 0.0270 0.0630  66.80
> 2     133.0    2,420    1.39400 0.0670 0.1360   6.80
> 3      86.2       10    1.73400 0.0700 0.1720  97.30
> 4       4.8    5,390    0.40400 0.0060 0.0280   8.50
> 5       0.3    2,490    0.45800 0.0050 0.0430  19.75
> 6       0.0      186    0.51200 0.0040 0.0470  12.00
> 7      11.1    9,835    1.25500 0.0660 0.1450  12.20
> 
> Why are these not numeric?
> There are some NAs later in the matrix, but I get this same error if I ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a problem anyway?
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 

-- 
Michael


From tebert @end|ng |rom u||@edu  Mon Sep 25 17:54:02 2023
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Mon, 25 Sep 2023 15:54:02 +0000
Subject: [R] How to fix this problem
In-Reply-To: <a5b45dd2-7abd-307d-21eb-81e0562dcb69@dewey.myzen.co.uk>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <003001d9efbe$e0b05ee0$a2111ca0$@gmail.com>
 <a5b45dd2-7abd-307d-21eb-81e0562dcb69@dewey.myzen.co.uk>
Message-ID: <CH3PR22MB45140B492F5A12ABC0D463DFCFFCA@CH3PR22MB4514.namprd22.prod.outlook.com>

An update please:
Collectively we have suggested removing commas from the "E..coli" column, checking for different forms of "NA", and looking outside the dataset for e-trash (spaces, text, or other content). For removing commas, I would use global replace to ensure that all commas were removed from all columns.


Did this solve the problem?

If not can you share some early lines and end lines from the data, and how R is reading your data? Something simple like head(KD6), tail(KD6), and str(KD6).



-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Michael Dewey
Sent: Monday, September 25, 2023 11:09 AM
To: avi.e.gross at gmail.com; 'Parkhurst, David' <parkhurs at indiana.edu>; r-help at r-project.org
Subject: Re: [R] How to fix this problem

[External Email]

It looks here as though the E coli column has commas in it so will be treated as character.

Michael

On 25/09/2023 15:45, avi.e.gross at gmail.com wrote:
> David,
>
> This may just be the same as your earlier problem. When the type of a column is guessed by looking at the early entries, any non-numeric entry forces the entire column to be character.
>
> Suggestion: fix your original EXCEL FILE or edit your CSV to remove the last entries that look just lie commas.
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst,
> David
> Sent: Sunday, September 24, 2023 2:06 PM
> To: r-help at r-project.org
> Subject: [R] How to fix this problem
>
> I have a matrix, KD6, and I m trying to get a correlation matrix from it.  When I enter cor(KD6), I get the message  Error in cor(KD6) : 'x' must be numeric .
> Here are some early lines from KD6:
>          Flow  E..coli        TN    SRP     TP    TSS
> 1      38.8    2,420    1.65300 0.0270 0.0630  66.80
> 2     133.0    2,420    1.39400 0.0670 0.1360   6.80
> 3      86.2       10    1.73400 0.0700 0.1720  97.30
> 4       4.8    5,390    0.40400 0.0060 0.0280   8.50
> 5       0.3    2,490    0.45800 0.0050 0.0430  19.75
> 6       0.0      186    0.51200 0.0040 0.0470  12.00
> 7      11.1    9,835    1.25500 0.0660 0.1450  12.20
>
> Why are these not numeric?
> There are some NAs later in the matrix, but I get this same error if I ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a problem anyway?
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat/
> .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> %7Cab9f2511a43e4f0cc0f308dbbdd95e2f%7C0d4da0f84a314d76ace60a62331e1b84
> %7C0%7C0%7C638312513538190955%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> ta=kbguZQ1HLECz6FFh%2FEZI5A1mI3GweE1q7WgUGLxpjOI%3D&reserved=0
> PLEASE do read the posting guide
> http://www.r/
> -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7Cab
> 9f2511a43e4f0cc0f308dbbdd95e2f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> 7C0%7C638312513538190955%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=By
> 82TIbEPatOL9qRBoDbZ1tojvTd1%2B2Wo3UaBkIlt70%3D&reserved=0
> and provide commented, minimal, self-contained, reproducible code.
>

--
Michael

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.r-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

From po|c1410 @end|ng |rom gm@||@com  Tue Sep 26 00:36:38 2023
From: po|c1410 @end|ng |rom gm@||@com (CALUM POLWART)
Date: Mon, 25 Sep 2023 23:36:38 +0100
Subject: [R] How to fix this problem
In-Reply-To: <CH3PR22MB45140B492F5A12ABC0D463DFCFFCA@CH3PR22MB4514.namprd22.prod.outlook.com>
References: <BN7PR08MB4114BA2A217B2D3654C0D51DD0FDA@BN7PR08MB4114.namprd08.prod.outlook.com>
 <003001d9efbe$e0b05ee0$a2111ca0$@gmail.com>
 <a5b45dd2-7abd-307d-21eb-81e0562dcb69@dewey.myzen.co.uk>
 <CH3PR22MB45140B492F5A12ABC0D463DFCFFCA@CH3PR22MB4514.namprd22.prod.outlook.com>
Message-ID: <CA+etgPntxBEx0yd27LF3nWHYXhaUdkqJVqZSF4w5Rd7sN9Q52A@mail.gmail.com>

Using readr to read the data might let you clean it on the way in...

readr::read_csv("filename.csv", col_types = list(rep(col_numeric(),6))

On Mon, 25 Sep 2023, 16:54 Ebert,Timothy Aaron, <tebert at ufl.edu> wrote:

> An update please:
> Collectively we have suggested removing commas from the "E..coli" column,
> checking for different forms of "NA", and looking outside the dataset for
> e-trash (spaces, text, or other content). For removing commas, I would use
> global replace to ensure that all commas were removed from all columns.
>
>
> Did this solve the problem?
>
> If not can you share some early lines and end lines from the data, and how
> R is reading your data? Something simple like head(KD6), tail(KD6), and
> str(KD6).
>
>
>
> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Michael Dewey
> Sent: Monday, September 25, 2023 11:09 AM
> To: avi.e.gross at gmail.com; 'Parkhurst, David' <parkhurs at indiana.edu>;
> r-help at r-project.org
> Subject: Re: [R] How to fix this problem
>
> [External Email]
>
> It looks here as though the E coli column has commas in it so will be
> treated as character.
>
> Michael
>
> On 25/09/2023 15:45, avi.e.gross at gmail.com wrote:
> > David,
> >
> > This may just be the same as your earlier problem. When the type of a
> column is guessed by looking at the early entries, any non-numeric entry
> forces the entire column to be character.
> >
> > Suggestion: fix your original EXCEL FILE or edit your CSV to remove the
> last entries that look just lie commas.
> >
> >
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Parkhurst,
> > David
> > Sent: Sunday, September 24, 2023 2:06 PM
> > To: r-help at r-project.org
> > Subject: [R] How to fix this problem
> >
> > I have a matrix, KD6, and I m trying to get a correlation matrix from
> it.  When I enter cor(KD6), I get the message  Error in cor(KD6) : 'x' must
> be numeric .
> > Here are some early lines from KD6:
> >          Flow  E..coli        TN    SRP     TP    TSS
> > 1      38.8    2,420    1.65300 0.0270 0.0630  66.80
> > 2     133.0    2,420    1.39400 0.0670 0.1360   6.80
> > 3      86.2       10    1.73400 0.0700 0.1720  97.30
> > 4       4.8    5,390    0.40400 0.0060 0.0280   8.50
> > 5       0.3    2,490    0.45800 0.0050 0.0430  19.75
> > 6       0.0      186    0.51200 0.0040 0.0470  12.00
> > 7      11.1    9,835    1.25500 0.0660 0.1450  12.20
> >
> > Why are these not numeric?
> > There are some NAs later in the matrix, but I get this same error if I
> ask for cor(KD6[1:39,]) to leave out the lines with NAs.  Are they a
> problem anyway?
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat/
> > .ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=05%7C01%7Ctebert%40ufl.edu
> > %7Cab9f2511a43e4f0cc0f308dbbdd95e2f%7C0d4da0f84a314d76ace60a62331e1b84
> > %7C0%7C0%7C638312513538190955%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> > MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sda
> > ta=kbguZQ1HLECz6FFh%2FEZI5A1mI3GweE1q7WgUGLxpjOI%3D&reserved=0
> > PLEASE do read the posting guide
> > http://www.r/
> > -project.org%2Fposting-guide.html&data=05%7C01%7Ctebert%40ufl.edu%7Cab
> > 9f2511a43e4f0cc0f308dbbdd95e2f%7C0d4da0f84a314d76ace60a62331e1b84%7C0%
> > 7C0%7C638312513538190955%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiL
> > CJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=By
> > 82TIbEPatOL9qRBoDbZ1tojvTd1%2B2Wo3UaBkIlt70%3D&reserved=0
> > and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Michael
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.r-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


