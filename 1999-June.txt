From sylvano at hotmail.com  Tue Jun  1 07:29:53 1999
From: sylvano at hotmail.com (sylvano lucchetti)
Date: Mon, 31 May 1999 22:29:53 PDT
Subject: [R] [R-Help] read.fwf - Perl Not Found error
Message-ID: <19990601052953.49048.qmail@hotmail.com>

Hello

I am trying to use read.fwf, but receive an error:

Warning: perl not found
Error: "scan" can't open file

I guess I need to obtain a perl for windows95 program. Where can I find a 
suitable port?

R-Version: 0.64.1
OS : Win95

Thanks
Sylvano
sylvano at hotmail.com.au

--------------------------------
Sylvano Lucchetti
sylvano at gnomon.com.au
http://www.gnomon.com.au/
--------------------------------



______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  1 08:10:58 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 Jun 1999 07:10:58 +0100 (BST)
Subject: [R] [R-Help] read.fwf - Perl Not Found error
In-Reply-To: <19990601052953.49048.qmail@hotmail.com>
Message-ID: <Pine.GSO.4.05.9906010706180.21214-100000@auk.stats>

On Mon, 31 May 1999, sylvano lucchetti wrote:

[Using R-0.64.1 on Windows 95]

> I am trying to use read.fwf, but receive an error:
> 
> Warning: perl not found
> Error: "scan" can't open file
> 
> I guess I need to obtain a perl for windows95 program. Where can I find a 
> suitable port?

The CHANGES files says

  read.fwf works if you have Perl installed.

See the Readme file:

  perl5, available via http://www.perl.com/CPAN/ports

or the rw-FAQ or ask any Internet search engine or ....


It always helps to read the documentation!


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mim78 at cict.fr  Wed Jun  2 00:02:33 1999
From: mim78 at cict.fr (ROS Mathieu)
Date: Wed, 2 Jun 1999 00:02:33 +0200 (MET)
Subject: [R] can't (re-)install R due to fort77*
In-Reply-To: <199906011354.PAA21865@sophie.ethz.ch>
Message-ID: <Pine.SGI.3.95.990601234839.2678A-100000@ondine.cict.fr>

I was running R undr redhat 5.0 and I recently update to 5.2. I now try
to reinstall R but I got the following error :

/usr/bin/fort77: Illegal option: -export-dynamic

did anyone can help me?
thanks.

 *---------------------------------------*------------------------------*
 ¦ Mathieu Ros                            email : mathieuros at bigfoot.com¦ 
 ¦ Maitrise d'ingenierie mathematique        			        ¦ 
 ¦ adresse : 93 rue st roch 31400 TOULOUSE  tel : +33(0)5-62260481      ¦ 
 *---------------------------------------*------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun  2 00:46:43 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 1 Jun 1999 15:46:43 -0700 (PDT)
Subject: [R] can't (re-)install R due to fort77*
In-Reply-To: <Pine.SGI.3.95.990601234839.2678A-100000@ondine.cict.fr>
Message-ID: <Pine.GSO.4.10.9906011545230.28698-100000@wompom.biostat.washington.edu>

On Wed, 2 Jun 1999, ROS Mathieu wrote:

> I was running R undr redhat 5.0 and I recently update to 5.2. I now try
> to reinstall R but I got the following error :
> 
> /usr/bin/fort77: Illegal option: -export-dynamic
> 
> did anyone can help me?

You need to either install the egcs compiler or use f2c directly (not via
fort77), ie

	./configure --with-f2c
	make


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Wed Jun  2 17:31:53 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Wed, 2 Jun 1999 15:31:53 +0000 (GMT)
Subject: [R] persp() and grey level
Message-ID: <Pine.LNX.3.96.990602152026.4602A-100000@cbe207.gcal.ac.uk>

The new version of persp() has the argument shade that changes the grey
levels of the facets of the persp plot. I was wondering if it was
possible, maybe a trick using shade, to make the grey level of each facet
proportional to its height (z).

Thanks for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris at uni-wh.de  Wed Jun  2 17:07:15 1999
From: chris at uni-wh.de (Christoph M. Friedrich)
Date: Wed, 02 Jun 1999 17:07:15 +0200
Subject: [R] Import Possibilities for Excel or lotus 1 2 3 table
Message-ID: <375548A3.E0574863@uni-wh.de>

Hi,
is there any possibility to import excel or lotus 123 (.wk1) files to R
without
using Excel to export as ASCII itself? Any external converter for unix
will also do the job, but i do not know about one.

Thanks
  chris
-- 
Christoph M. Friedrich        | mailto:friedrich at computer.org 
University of Witten/Herdecke | http://www.tussy.uni-wh.de/~chris
Institut fuer Angewandte Biotechnik und Systemanalyse
Alfred-Herrhausen Str. 50 ; D-58448 Witten, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgass at bach.math.csbsju.edu  Wed Jun  2 17:43:24 1999
From: mgass at bach.math.csbsju.edu (Michael Gass)
Date: Wed, 2 Jun 1999 10:43:24 -0500
Subject: [R] Devices question
Message-ID: <199906021543.KAA04112@bach.math.csbsju.edu>


Are the old "Devices" printer() and crc() still available?  I am
running R 0.63.3 on an SGI O2 with irix6.2 remotely from a dumb terminal
at home.  It would be nice to have some graphics.  The dumb terminal
(an old 8086 I think PC) does have a Tek graphics card if I need to
use it.

Any help/advice would be appreciated.

-- 
Michael Gass				Department of Mathematics
phone: 320 363-3090                     St. John's University
email: mgass at csbsju.edu                 Collegeville, MN  56321-3000




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ananke at hotbot.com  Wed Jun  2 19:23:40 1999
From: ananke at hotbot.com (Ananke)
Date: Wed, 02 Jun 1999 10:23:40 -0700
Subject: [R] How to fill the aerea under a plot?
Message-ID: <FBJFNGBEJKGHEAAA@hotbot.com>

Dear R users,

I hope that this question is not too dumb,
but I can't figure out how to do it.

I plot a function, e.g.
plot(sin, -pi, 2*pi).


Then I would like to have the aerea
from the x-axis up to the graph
from x ranging from -3 to 0, shaded
red and the other part (x from 0 to 6) under 
the graph e.g. green or sth. like that..

Any hints on how to do that?
I could draw lines (different line-styles),
but can't I simply fill these two aereas
in e.g. different colors?

thanks a lot for the help,
	Ananke


HotBot - Search smarter.
http://www.hotbot.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Jun  2 21:56:19 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 2 Jun 1999 21:56:19 +0200
Subject: [R] lme problem ?
Message-ID: <005101bead31$fdf13a00$2c4fa8c0@tring.stofanet.dk>

Dear friends. I tried the session below with 10 MB in both vsize and nsize but didn't get the
example work. Is this a problem in LME or in me or both or somewhere else or undefined ?

R : Copyright 1999, The R Development Core Team
Version 0.64.0 Patched (May 3, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> library(lme)
> data(Orthodont)
> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
Error: Singularity in backsolve at level 2, block 1> 
> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
Error: singular matrix in chol
> 
Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jun  2 22:38:46 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 02 Jun 1999 15:38:46 -0500
Subject: [R] lme problem ?
In-Reply-To: "Troels Ring"'s message of "Wed, 2 Jun 1999 21:56:19 +0200"
References: <005101bead31$fdf13a00$2c4fa8c0@tring.stofanet.dk>
Message-ID: <6riu96e3s9.fsf@verdi.stat.wisc.edu>

"Troels Ring" <tring at mail1.stofanet.dk> writes:

> Dear friends. I tried the session below with 10 MB in both vsize and
> nsize but didn't get the example work. Is this a problem in LME or
> in me or both or somewhere else or undefined ?

> > library(lme)
> > data(Orthodont)
> > fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
> Error: Singularity in backsolve at level 2, block 1> 
> > fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
> Error: singular matrix in chol

That looks to me like a relatively old version of lme.  I would
suggest installing a new version.  Your example works fine with the
"lme du jour" which is version 3.0b8-1, available at the CRAN sites in
the src/contrib directory.

 R> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
 R> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
 R> gc()           # check amounts of storage in use
	   free   total
 Ncells  575483  800000
 Vcells 2015987 2097152

I'm currently working on the 3.0b8a version that corrects some minor
gliches in 3.0b8 and enhances the nls capabilities.  I hope to upload
that tomorrow.

This is as good a time as any to announce that we uploaded an nls
(nonlinear least squares) package for R last weekend.  For historical
reasons the nls package requires that you have the lme package
installed.  Many of the enhancements to nls for S were written as part
of the NLME library and the R version of NLME is the lme package.
(Now that I write this all out it doesn't make as much sense as it
seemed to earlier but ...)

There is also a package for R called NISTnls.  This package includes
the data and models for the nonlinear least squares examples at the
U.S. National Institute for Standards and Technology (NIST).  By
running the examples in that package you can check the nls function
itself.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mim78 at cict.fr  Wed Jun  2 22:40:45 1999
From: mim78 at cict.fr (ROS Mathieu)
Date: Wed, 2 Jun 1999 22:40:45 +0200 (MET)
Subject: [R] __setfpucw
Message-ID: <Pine.SGI.3.95.990602223608.11822D-100000@ondine.cict.fr>

I'm trying to install R on a linux RedHat5.2.
when I 'make', here is what's happens :

../lib/libunix.a(system.o): In function `main':
/home/mathieu/R-0.62.4/src/unix/system.c:489: undefined reference to
`__setfpucw

does anyone know the solution ?
thanks.

 *-----------------------------------------*
 ¦ mathieuros at bigfoot.com                  ¦ 
 ¦ Maitrise d'ingenierie mathematique      ¦
 ¦ adresse : 93 rue st roch 31400 TOULOUSE ¦
 ¦ tel : +33(0)5-62260481                  ¦ 
 *-----------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Jun  2 23:14:47 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 2 Jun 1999 23:14:47 +0200
Subject: Sv: [R] lme problem ?
Message-ID: <000801bead3c$f3700380$2c4fa8c0@tring.stofanet.dk>

Dear Douglas Bates. I just downloaded the compiled version (I'm a poor Windows devil, not yet having found the time to move to a more advanced platform...) from NT- the files are dated 30.5-1999 so they are not old - and the problem persisted....wonder what I did wrong ?

R : Copyright 1999, The R Development Core Team
Version 0.64.0 Patched (May 3, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> library(lme)
> data(Orthodont)
> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
Error: Singular precision matrix in level 1, block 1> 
> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
warning: NA/Inf replaced by maximum positive value
Error: Singularity in backsolve at level 2, block 1> 
Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark

-----Oprindelig meddelelse-----
Fra: Douglas Bates <bates at stat.wisc.edu>
Til: Troels Ring <tring at mail1.stofanet.dk>
Cc: Jose Pinheiro <jcp at research.bell-labs.com>; Saikat DebRoy <saikat at stat.wisc.edu>
Dato: 2. juni 1999 22:38
Emne: Re: [R] lme problem ?


>"Troels Ring" <tring at mail1.stofanet.dk> writes:
>
>> Dear friends. I tried the session below with 10 MB in both vsize and
>> nsize but didn't get the example work. Is this a problem in LME or
>> in me or both or somewhere else or undefined ?
>
>> > library(lme)
>> > data(Orthodont)
>> > fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
>> Error: Singularity in backsolve at level 2, block 1> 
>> > fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
>> Error: singular matrix in chol
>
>That looks to me like a relatively old version of lme.  I would
>suggest installing a new version.  Your example works fine with the
>"lme du jour" which is version 3.0b8-1, available at the CRAN sites in
>the src/contrib directory.
>
> R> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
> R> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
> R> gc()           # check amounts of storage in use
>    free   total
> Ncells  575483  800000
> Vcells 2015987 2097152
>
>I'm currently working on the 3.0b8a version that corrects some minor
>gliches in 3.0b8 and enhances the nls capabilities.  I hope to upload
>that tomorrow.
>
>This is as good a time as any to announce that we uploaded an nls
>(nonlinear least squares) package for R last weekend.  For historical
>reasons the nls package requires that you have the lme package
>installed.  Many of the enhancements to nls for S were written as part
>of the NLME library and the R version of NLME is the lme package.
>(Now that I write this all out it doesn't make as much sense as it
>seemed to earlier but ...)
>
>There is also a package for R called NISTnls.  This package includes
>the data and models for the nonlinear least squares examples at the
>U.S. National Institute for Standards and Technology (NIST).  By
>running the examples in that package you can check the nls function
>itself.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Thu Jun  3 09:58:00 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Thu, 3 Jun 1999 08:58:00 +0100
Subject: [R] How to fill the aerea under a plot?
Message-ID: <003c01bead96$cd55bb40$54566f83@capc03t.medlan.cam.ac.uk>

hi

>I plot a function, e.g.
>plot(sin, -pi, 2*pi).
>
>
>Then I would like to have the aerea
>from the x-axis up to the graph
>from x ranging from -3 to 0, shaded
>red and the other part (x from 0 to 6) under
>the graph e.g. green or sth. like that..

plot(sin, -pi, 2*pi) just draws a series of straight lines to approximate
the sine curve (but enough lines so that it looks like a smooth curve).  one
way to do what you want is to draw the lines yourself using polygon(), which
can then be filled.  the code below gives an example for your case (there
are two examples because i'm not sure what you mean by "from the x-axis up
to the graph") ...

plot(c(-pi, 2*pi), c(-1,1), type="n", ylab="sin(x)", xlab="x")
x1 <- seq(-pi, 0, length=101)
x2 <- seq(0, 2*pi, length=101)
polygon(c(0, -pi, x1), c(0, 0, sin(x1)), col="red")
polygon(c(0, 2*pi, x2), c(0, 0, sin(x2)), col="green")

plot(c(-pi, 2*pi), c(-1,1), type="n", ylab="sin(x)", xlab="x")
x1 <- seq(-pi, 0, length=101)
x2 <- seq(0, 2*pi, length=101)
polygon(c(0, -pi, x1), c(-1, -1, sin(x1)), col="red")
polygon(c(2*pi, 0, x2), c(-1, -1, sin(x2)), col="green")

unfortunately, i don't think there's an easier way.   hope this helps :)

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Thu Jun  3 14:35:53 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Thu, 03 Jun 1999 12:35:53 GMT
Subject: Sv: [R] lme problem ?
Message-ID: <OF7D7305E8.98CA598D-ON85256785.0044DA49@hgsi.com>


I just downloaded and installed R 0.64.1 and all the packages from the NT
distribution. Here is what I get:

R : Copyright 1999, The R Development Core Team
Version 0.64.1  (May 8, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> library(lme)
> data(Orthodont)
> fm1 <- lme(distance ~ age, data = Orthodont)
> fm1
Linear mixed-effects model fit by REML
  Data: Orthodont
  Log-restricted-likelihood: -221.3184
  Fixed: distance ~ age
(Intercept)         age
 16.7611111   0.6601852

Random effects:
 Formula: ~age | Subject
 Structure: General positive-definite
            StdDev    Corr
(Intercept) 2.3226364 (Intr)
age         0.2259862 -0.607
Residual    1.3100079
> version
           _
platform   Windows
arch       x86
os         Win32
system     x86, Win32
status
status.rev 0
major      0
minor      64.1
year       1999
month      May
day        8
language   R
>

My lme package is dated May 30, 1999.



                                                                                                              
                    "Troels Ring"                                                                             
                    <tring at mail1.stofane        To:     "Douglas Bates" <bates at stat.wisc.edu>, "R-help"       
                    t.dk>                       <r-help at stat.math.ethz.ch>                                    
                    Sent by:                    cc:                                                           
                    owner-r-help at stat.ma        Subject:     Sv: [R] lme problem ?                            
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    06/02/99 05:14 PM                                                                         
                                                                                                              
                                                                                                              



Dear Douglas Bates. I just downloaded the compiled version (I'm a poor
Windows devil, not yet having found the time to move to a more advanced
platform...) from NT- the files are dated 30.5-1999 so they are not old -
and the problem persisted....wonder what I did wrong ?

R : Copyright 1999, The R Development Core Team
Version 0.64.0 Patched (May 3, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> library(lme)
> data(Orthodont)
> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
Error: Singular precision matrix in level 1, block 1>
> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
warning: NA/Inf replaced by maximum positive value
Error: Singularity in backsolve at level 2, block 1>
Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark

-----Oprindelig meddelelse-----
Fra: Douglas Bates <bates at stat.wisc.edu>
Til: Troels Ring <tring at mail1.stofanet.dk>
Cc: Jose Pinheiro <jcp at research.bell-labs.com>; Saikat DebRoy
<saikat at stat.wisc.edu>
Dato: 2. juni 1999 22:38
Emne: Re: [R] lme problem ?


>"Troels Ring" <tring at mail1.stofanet.dk> writes:
>
>> Dear friends. I tried the session below with 10 MB in both vsize and
>> nsize but didn't get the example work. Is this a problem in LME or
>> in me or both or somewhere else or undefined ?
>
>> > library(lme)
>> > data(Orthodont)
>> > fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
>> Error: Singularity in backsolve at level 2, block 1>
>> > fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
>> Error: singular matrix in chol
>
>That looks to me like a relatively old version of lme.  I would
>suggest installing a new version.  Your example works fine with the
>"lme du jour" which is version 3.0b8-1, available at the CRAN sites in
>the src/contrib directory.
>
> R> fm1 <- lme(distance ~ age, data = Orthodont) # random is ~ age
> R> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1)
> R> gc()           # check amounts of storage in use
>    free   total
> Ncells  575483  800000
> Vcells 2015987 2097152
>
>I'm currently working on the 3.0b8a version that corrects some minor
>gliches in 3.0b8 and enhances the nls capabilities.  I hope to upload
>that tomorrow.
>
>This is as good a time as any to announce that we uploaded an nls
>(nonlinear least squares) package for R last weekend.  For historical
>reasons the nls package requires that you have the lme package
>installed.  Many of the enhancements to nls for S were written as part
>of the NLME library and the R version of NLME is the lme package.
>(Now that I write this all out it doesn't make as much sense as it
>seemed to earlier but ...)
>
>There is also a package for R called NISTnls.  This package includes
>the data and models for the nonlinear least squares examples at the
>U.S. National Institute for Standards and Technology (NIST).  By
>running the examples in that package you can check the nls function
>itself.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun  3 14:46:07 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 3 Jun 1999 14:46:07 +0200
Subject: [R] How to fill the aerea under a plot?
In-Reply-To: <003c01bead96$cd55bb40$54566f83@capc03t.medlan.cam.ac.uk>
	(pm254@medschl.cam.ac.uk)
References: <003c01bead96$cd55bb40$54566f83@capc03t.medlan.cam.ac.uk>
Message-ID: <199906031246.OAA07117@sophie.ethz.ch>

>>>>> "Paul" == Paul Murrell <pm254 at medschl.cam.ac.uk> writes:

    Paul> hi
    >> I plot a function, e.g.
    >> plot(sin, -pi, 2*pi).
    >> 
    >> 
    >> Then I would like to have the aerea
    >> from the x-axis up to the graph
    >> from x ranging from -3 to 0, shaded
    >> red and the other part (x from 0 to 6) under
    >> the graph e.g. green or sth. like that..

    Paul> plot(sin, -pi, 2*pi) just draws a series of straight lines to
    Paul> approximate the sine curve (but enough lines so that it looks
    Paul> like a smooth curve).  one way to do what you want is to draw the
    Paul> lines yourself using polygon(), which can then be filled.  the
    Paul> code below gives an example for your case (there are two examples
    Paul> because i'm not sure what you mean by "from the x-axis up to the
    Paul> graph") ...

    Paul> plot(c(-pi, 2*pi), c(-1,1), type="n", ylab="sin(x)", xlab="x")
    Paul> x1 <- seq(-pi, 0, length=101)
    Paul> x2 <- seq(0, 2*pi, length=101)
    Paul> polygon(c(0, -pi, x1), c(0, 0, sin(x1)), col="red")
    Paul> polygon(c(0, 2*pi, x2), c(0, 0, sin(x2)), col="green")

    Paul> plot(c(-pi, 2*pi), c(-1,1), type="n", ylab="sin(x)", xlab="x")
    Paul> x1 <- seq(-pi, 0, length=101)
    Paul> x2 <- seq(0, 2*pi, length=101)
    Paul> polygon(c(0, -pi, x1), c(-1, -1, sin(x1)), col="red")
    Paul> polygon(c(2*pi, 0, x2), c(-1, -1, sin(x2)), col="green")

    Paul> unfortunately, i don't think there's an easier way.  

however, there *is*  --- using the much underused  `` type = "h" '' :

Either -- with "overplotting":

   plot(sin, -pi, 2*pi, type="h", col="green", n=801)
   plot(sin, 0,   2*pi, type="h", col="red"  , n=401, add=TRUE)

Or  (without "overplotting")

  plot(sin, -pi, 0,  type="h", col="green", n=401, 
	           xlim = c(-pi, 2*pi), ylim = c(-1,1))
  plot(sin, 0, 2*pi, type="h", col="red"  , n=401, add=TRUE)

{Even   xlab & ylab  are ok!}

Note however, that this is less efficient from a device-driver point of
view.  E.g. with postscript(),  The file sizes are
      7.1, 48.0 and 33.2 1000Bytes
for Paul's (first) example, my "overplotting" and "non-overplotting"
example, respectively.


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Thu Jun  3 18:02:36 1999
From: posse at talariainc.com (Christian Posse)
Date: Thu, 03 Jun 1999 09:02:36 -0700
Subject: [R] bug in R BATCH with Linux?
Message-ID: <3756A71C.45029264@talariainc.com>

dear R fans,

Has anyone encountered problems when using
R BATCH  under Linux (I have Red Hat 5.2 if
that matters) ?

I have a file that works fine if I copy-paste it
interactively in a R session. However R
complains right away when I try to run the file in
batch  mode. This problem is not inherent to  R 0.64.1 I
am using now. I had the same problem with previous
releases. Also I am not using an RPM version.
R was compiled with gcc 2.7.2.3.

It is not  systematic. For example, the following
trivial example works fine:

file example:
x <- rnorm(10)
y <- 2*x + 1 + rnorm(x,0,0.1)
thefit <- lsfit(x,y)

%  R BATCH example example.out
% more example.out


R : Copyright 1999, The R Development Core Team
Version 0.64.1  (May 8, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> invisible(options(echo = TRUE))
> x <- rnorm(10)
> y <- 2*x + 1 + rnorm(x,0,0.1)
> thefit <- lsfit(x,y)
> proc.time()
[1] 0.98 0.03 0.00 0.00 0.01
>


The cases I remember having problems with include
a read.table. This might be the source of the problem.
I dunno.


Thanks for any help.

Christian


%  R BATCH collab2.R collab2.R.out

collab2.R.out:

R : Copyright 1999, The R Development Core Team
Version 0.64.1  (May 8, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> invisible(options(echo = TRUE))
> # read in the raw data
> complete.user.data <- read.table("userdata.txt",header=T)
Error: syntax error
Execution halted




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu Jun  3 19:46:21 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 3 Jun 1999 19:46:21 +0200
Subject: [R] lme:problem solved after proper updating
Message-ID: <000b01beade9$005358c0$2c4fa8c0@tring.stofanet.dk>

Dear friends. I just want to assure you that after downloading the newest  0.64.1 R the LME problem vanished. Thank you very much for your efforts and help.



Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tettiri at gin.or.jp  Thu Jun  3 10:51:21 1999
From: tettiri at gin.or.jp (tettiri@gin.or.jp)
Date: Thu, 03 Jun 1999 17:51:21 +0900
Subject: [R] Import Possibilities for Excel or lotus 1 2 3 table
In-Reply-To: Your message of "Wed, 02 Jun 1999 17:07:15 +0200"
	<375548A3.E0574863@uni-wh.de>
References: <375548A3.E0574863@uni-wh.de>
Message-ID: <19990603175121D.kazu@gin.or.jp>

Sorry for my poor English,,,

> Hi,
Hi.

> is there any possibility to import excel or lotus 123 (.wk1) files to R
> without
> using Excel to export as ASCII itself? Any external converter for unix
> will also do the job, but i do not know about one.
> 
"dos2unix" command exists on Unix. If you don't have it, you can find 
it on the Web.

 I had difficulty in doing, too. For me, the Data was the quotations 
for finance.

---------------------------------------------------------------------
Yamamoto Kazuhiko            *******   E-mail: tettiri at gin.or.jp    *
            **  URL: http://www.gin.or.jp/users/tettiri/index.htm   *
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
'Un' officail Japanese R's page
            **   http://www.gin.or.jp/users/tettiri/R/rindex.htm   **
---------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Fri Jun  4 07:42:28 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Fri, 4 Jun 1999 06:42:28 +0100 (BST)
Subject: [R] Global speed ...
Message-ID: <Pine.LNX.3.95.990604062857.9665A-100000@mercury.quantex>

Un bon mot s'il vous plait.

I have coded an R routine to decompose messy data following Murray Aitkin
and Brian Francis's NPMLE GLIM macros for the normal distribution only but
extended to incorporate censoring and variance heterogeneity.  Essentially
it is a wrapper for nlm() in the M-part while the E-part re-estimates the
weights in the same way as the GLIM macros.

The big problem is that it is slow to run - even with homogeneous variance
and no censoring it is substantially slow than the GLIM equivalent and
when I incorporate censoring, variance heterogeneity, a few factors in the
random part etc, the number of coefficients being estimated climbs very
quickly and it becomes an overnight job.  No SG Origin to hand, I am
afraid, just good old Linux on an AMD 350 box.
 
Being a simple chap, and not wanting to get my hands dirty with C, I have
coded it using global variables (OK - back of the class) so that I can
restart it if it hasn't converged within 500 iterations and I can see all
the variables.  Obviously the important part is the function call, which I
will speed up, but other than that, do global variables slow things up?

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Jun  4 10:53:15 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 4 Jun 1999 10:53:15 +0200 (MET DST)
Subject: [R] fortran90
Message-ID: <199906040853.KAA29431@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 758 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990604/062b1af8/attachment.pl

From fears at roycastle.liv.ac.uk  Fri Jun  4 11:07:43 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Fri, 4 Jun 1999 10:07:43 +0100 
Subject: [R] FW: very minor Rgui problem in rw0641 (PR#204)
Message-ID: <B7F24F2B48ACD11196F600805FC7F43020A518@pdc.rc.liv.ac.uk>

Dear all,

in using bug.report() on NT, I noticed what I find is an unusual default
behaviour; namely that R stays frozen until the report is completed.
Here's how to change it, and below, a question as to how others feel.

> -----Original Message-----
> From: Guido Masarotto [mailto:guido at hal.stat.unipd.it]

[snip]
 
>   In the actual Windows implementation of bug.report, R waits 
> for the editor
>   to complete. This is also the Unix behaviour.
>   If you don't like it, you should edit the function changing the
>   the 'system' call towards the end from
>   system(paste(.Options$editor, file))    
>   to
>   system(paste(.Options$editor, file), wait=FALSE)
>   
[snip]
> 
>   Any opinion on making this the default behaviour for next releases ?
>   

Yes, to be honest I would expect/prefer the editor to be open in a
`background mode' window whether I was on NT or X11. Certainly to my
mind I would expect that email or editor window to wait while I went
back to R, reproduced error messages etc and pasted them into it.

With the near system independence the developers have worked so hard on,
the simple change to wait=F would be just as simple on unix?

Still, perhaps others feel equally strongly the other way?

Simon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  4 11:27:06 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jun 1999 11:27:06 +0200
Subject: [R] FW: very minor Rgui problem in rw0641 (PR#204)
In-Reply-To: Simon Fear's message of "Fri, 4 Jun 1999 10:07:43 +0100"
References: <B7F24F2B48ACD11196F600805FC7F43020A518@pdc.rc.liv.ac.uk>
Message-ID: <x2hfooqpsl.fsf@blueberry.kubism.ku.dk>

Simon Fear <fears at roycastle.liv.ac.uk> writes:

> With the near system independence the developers have worked so hard on,
> the simple change to wait=F would be just as simple on unix?
> 
> Still, perhaps others feel equally strongly the other way?

I don't think it is a problem to start the editor in the background.
However, *sending* the report is done by the bug.report function after
editing. If you background the editor, you'd be sending the report
before writing it... On crippled OS's we cannot figure out how to send
mail, so this doesn't happen.

What one really needs is a threaded version of R, but that is somewhat
into the future...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Jun  4 13:14:14 1999
From: gb at stat.umu.se (Goran Brostrom)
Date: Fri, 4 Jun 1999 13:14:14 +0200 (CEST)
Subject: [R] fortran90 (fwd)
In-Reply-To: <Pine.LNX.4.10.9906041306300.20929-100000@garozzo.te.mah.se>
Message-ID: <Pine.LNX.4.10.9906041308360.6520-100000@capa.stat.umu.se>

Jim Lindsey wrote:

> I am getting more and more useful and interesting code in Fortran90
> that I would like to incorporate into my R libraries. I am currently
> working on one that does two levels of nesting for binary data (3
> level hierarchical model). This is a great deal of work. Does anyone
> know of a public domain Fortran90 compiler. I am doubtful, given the
> number of years it took for g77 to reach a minimal standard.
>   Jim

I found a free f90 compiler for "x86 Linux systems" at
http://www.psrv.com/
Haven't tried it myself, though.

G?ran
--------------------------------------------------------------
 G?ran Brostr?m
 Department of Statistics              tel: +46 90 786-5223
 Ume? University                       fax: +46 90 786-6614
 S-90187 Ume?, Sweden               e-mail:  gb at stat.umu.se

 http://www.stat.umu.se/~gb          ftp://capa.stat.umu.se
--------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kurien at niksun.com  Fri Jun  4 15:33:42 1999
From: kurien at niksun.com (T. V. Kurien)
Date: Fri, 04 Jun 1999 09:33:42 -0400
Subject: [R] fortran compilers
Message-ID: <3.0.5.32.19990604093342.0427c7e0@arjun.niksun.com>

This page contains plenty of info: 
http://studbolt.physast.uga.edu/templon/fortran.html
I have used egcs and found it to
be pretty good and stable. 
cheers
verghese kurien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jun  4 18:23:17 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 4 Jun 1999 09:23:17 -0700 (PDT)
Subject: [R] fortran90 (fwd)
In-Reply-To: <Pine.LNX.4.10.9906041308360.6520-100000@capa.stat.umu.se>
Message-ID: <Pine.GSO.4.10.9906040920340.11187-100000@wompom.biostat.washington.edu>

On Fri, 4 Jun 1999, Goran Brostrom wrote:

> Jim Lindsey wrote:
> 
> > I am getting more and more useful and interesting code in Fortran90
> > that I would like to incorporate into my R libraries. I am currently
> > working on one that does two levels of nesting for binary data (3
> > level hierarchical model). This is a great deal of work. Does anyone
> > know of a public domain Fortran90 compiler. I am doubtful, given the
> > number of years it took for g77 to reach a minimal standard.
> >   Jim
> 
> I found a free f90 compiler for "x86 Linux systems" at
> http://www.psrv.com/
> Haven't tried it myself, though.
> 

The free version of this compiler cannot be used to develop applications
that will be used by someone else, which is a fairly major restriction.  
It also isn't complete Fortran 90.

The NAG compiler is fairly cheap, but I don't know of a free one.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolters at ikp.uni-bonn.de  Sat Jun  5 16:14:11 1999
From: wolters at ikp.uni-bonn.de (Maria Wolters)
Date: Sat, 05 Jun 1999 16:14:11 +0200
Subject: [R] R: question about vectors + for loop
Message-ID: <375930B3.9440C9B@ikp.uni-bonn.de>

Hi,

first of all: I'm not only new to R, but also to S.
I hope this is the right forum for asking the  following
very stupid questions:
a) is there a straightforward way of saying
  for all factors f in a data frame {
      any old function, e.g. max(f)
  }
b) how can you construct a new data frame d' from 
   a given data frame d which contains only rows
   with [X=="A"] (x is a factor of d)?
   I know there's an obvious way, but with 50+ columns,
   that's a wee bit tedious :) 
c) could it be possible that there's a bug in the implementation of 
    the Kolmogorov-Smirnov test? 

Thanks in advance for your help,

Maria Wolters
wolters at ikp.uni-bonn.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Jun  5 17:45:16 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 05 Jun 1999 10:45:16 -0500
Subject: [R] R: question about vectors + for loop
In-Reply-To: Maria Wolters's message of "Sat, 05 Jun 1999 16:14:11 +0200"
References: <375930B3.9440C9B@ikp.uni-bonn.de>
Message-ID: <6rn1ye1wj7.fsf@verdi.stat.wisc.edu>

Maria Wolters <wolters at ikp.uni-bonn.de> writes:

> first of all: I'm not only new to R, but also to S.

Welcome.

> I hope this is the right forum for asking the  following
> very stupid questions:

This is the right forum and no question is considered stupid here
unless you already know the answer.

> a) is there a straightforward way of saying
>   for all factors f in a data frame {
>       any old function, e.g. max(f)
>   }

It is a little obscure but you can use lapply for that.  A data.frame
can take on the behavior of a list or of a matrix, depending on the
context.  A simple way of doing what you want is
 lapply( mydataframe, max )
That will return the result as a list.  You may find a vector to be
more appealing, in which case you can use
 unlist( lapply( mydataframe, max ) )

This assumes that max will be meaningful for all the columns of your
data frame.  It is best to check that first using, for example,
 unlist( lapply( mydataframe, data.class ) )
The max function would not make sense for a factor, for example.

You could also look at the output for
 summary( mydataframe )
which produces some brief summary statistics for numeric columns.
These include a "five-number summary" with the min, max, quartiles,
and median.

> b) how can you construct a new data frame d' from 
>    a given data frame d which contains only rows
>    with [X=="A"] (x is a factor of d)?
>    I know there's an obvious way, but with 50+ columns,
>    that's a wee bit tedious :) 

The indexing in the S family of languages is very flexible.  You can
use logical expressions for a "column" index with the matrix-like view
of a data.frame.  The expression would look like

 d.new <- d[ d$X == "A", ]      # that comma is important

> c) could it be possible that there's a bug in the implementation of 
>     the Kolmogorov-Smirnov test? 

Bugs?  R could have bugs?  You must be joking!  :-)

The bug list for R is available at http://r-bugs.biostat.ku.dk/R

You could check that to see if anything has been reported.  If not,
you could use the bug.report() function to submit a bug report.

Hope this helps.

--Doug Bates
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Sat Jun  5 20:51:57 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Sat, 5 Jun 1999 19:51:57 +0100
Subject: [R] R: question about vectors + for loop
In-Reply-To: <375930B3.9440C9B@ikp.uni-bonn.de>; from Maria Wolters on Sat, Jun 05, 1999 at 04:14:11PM +0200
References: <375930B3.9440C9B@ikp.uni-bonn.de>
Message-ID: <19990605195157.11358@hal.stat.unipd.it>

On Sat, Jun 05, 1999 at 04:14:11PM +0200, Maria Wolters wrote:
> a) is there a straightforward way of saying
>   for all factors f in a data frame {
>       any old function, e.g. max(f)
>   }

  I am not sure to understand completly the question. Anyway, if
  d is a data.frame, you can extract the factors in d using something
  like
  > d.only.factor <- d[,unlist(lapply(d,is.factor))]
  Then, you can use lapply again to apply a 'old function' to the
  columns of d.only.factor. However, keep in mind that max, sum and
  like are considered not meaningful for factor. So, if you really
  insist in computing the max of the d.only.factor columns 
  (assuming that this make sense) you should use something like
  > lapply(d.only.factor, function(x) max(as.numeric(x)))

  If this sounds cryptic, look to the manual pages (e.g., ?lapply,
  ?unlist,...) and perhaps to some of the  suggested reading 
  listed in the FAQ (the recommended one is
  W. N. Venables and B. D. Ripley (1997), 
  "Modern Applied Statistics with S-PLUS. Second Edition".
  Springer, ISBN 0-387-98214-0
  Third edition is forthcoming (Brian Ripley can be more precise)
  so my suggestion is to get a copy from a library, not from a book
  shop) 

> b) how can you construct a new data frame d' from 
>    a given data frame d which contains only rows
>    with [X=="A"] (x is a factor of d)?
>    I know there's an obvious way, but with 50+ columns,
>    that's a wee bit tedious :)

   d.XequaltoA <- d[d$X=="A",]
   should do the work. Easy, isn't it?

 
> c) could it be possible that there's a bug in the implementation of 
>     the Kolmogorov-Smirnov test? 

  I suspect that you must try to be more specific (and maybe,
  fill a bug report (?bug.report))

  Hoping this can help.

  guido

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.CSIRO.AU  Sat Jun  5 22:48:33 1999
From: Bill.Venables at cmis.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Sun, 6 Jun 1999 06:48:33 +1000 
Subject: [R] R: question about vectors + for loop
Message-ID: <D16979FB73F3D11195510000F8030FB90D0A89@roper.qld.cmis.csiro.au>

(This is actually about something that arose in Guido's
reply.)
 

-----Original Message-----
  ...and perhaps to some of the  suggested reading 
  listed in the FAQ (the recommended one is
  W. N. Venables and B. D. Ripley (1997), 
  "Modern Applied Statistics with S-PLUS. 
  Second Edition".  Springer, ISBN 0-387-98214-0
  Third edition is forthcoming (Brian Ripley can be 
  more precise) so my suggestion is to get a copy 
  from a library, not from a book shop) 

That's a very kind recommendation and thanks.  

Actually I doubt Brian Ripley, Bill Venables or even 
Julius Springer himself can be more precise at this 
stage.  There was a very minor late change (at 
Springer's request, so it had nothing to do with
content, only form) which has probably set back the
production process by a short time.  If it comes out
in June it will be in late June and I think July is
now more likely.  Amazon.com still has June 1999 as
the date, though, and are accepting orders.

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Jun  6 01:29:21 1999
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 05 Jun 1999 16:29:21 -0700
Subject: [R] R: question about vectors + for loop
In-Reply-To: <D16979FB73F3D11195510000F8030FB90D0A89@roper.qld.cmis.csir
 o.au>
Message-ID: <4.1.19990605162748.009d0080@pop4.ibm.net>

FWIW.  Amazon.com is accepting orders, but after having placed an order
last week, I received a note from Amazon.com (today, 6/5/99) telling me
that the order was cancelled because they have no estimated delivery date
from the publisher.

At 06:48 AM 6/6/1999 +1000, Venables, Bill (CMIS, Cleveland) wrote:
>(This is actually about something that arose in Guido's
>reply.)
> 
>
>-----Original Message-----
>  ...and perhaps to some of the  suggested reading 
>  listed in the FAQ (the recommended one is
>  W. N. Venables and B. D. Ripley (1997), 
>  "Modern Applied Statistics with S-PLUS. 
>  Second Edition".  Springer, ISBN 0-387-98214-0
>  Third edition is forthcoming (Brian Ripley can be 
>  more precise) so my suggestion is to get a copy 
>  from a library, not from a book shop) 
>
>That's a very kind recommendation and thanks.  
>
>Actually I doubt Brian Ripley, Bill Venables or even 
>Julius Springer himself can be more precise at this 
>stage.  There was a very minor late change (at 
>Springer's request, so it had nothing to do with
>content, only form) which has probably set back the
>production process by a short time.  If it comes out
>in June it will be in late June and I think July is
>now more likely.  Amazon.com still has June 1999 as
>the date, though, and are accepting orders.
>
>Bill Venables.
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Math is hard.  Let's go to the mall"  Barbie

Powered by:  Monstrochoerus - the 300 MHz Pentium II
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sun Jun  6 12:32:33 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sun, 6 Jun 1999 12:32:33 +0200
Subject: No subject
Message-ID: <001101beb007$e57bad60$2c4fa8c0@tring.stofanet.dk>

Dear friends. I downloaded the most recent of everything. Now the directory structure when installing 
VR5_3pl037.zip in library seem to have been disturbed - at least on my old machine.

.......
R : Copyright 1999, The R Development Core Team
Version 0.64.1  (May 8, 1999)
.........

> library(VR)
Warning: Package `VR' contains no R code
> data(petrol)
Warning: Data set `petrol' not found
> library(VR,MASS)
(is that "legal" ?)
> data(petrol)
Warning: Data set `petrol' not found
> library(MASS)
Error: There is no package called `MASS'
> library(,MASS)
Error: No documentation for package `MASS'
> 
Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Mon Jun  7 10:52:50 1999
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Mon, 7 Jun 1999 09:52:50 +0100 (BST)
Subject: [R] R/C programming and documentation---thanks and summary
Message-ID: <199906070852.JAA03417@genin.mrc-bsu.cam.ac.uk>


Thanks to everyone who helped with my query---Professors
Riply, Bates, Lumley, and Tim Keitt.



I said 

<snip>


> My worries are
> 
> a) That I've used calloc rather than S_alloc throughout.


Professors Bates and Ripley both pointed out that calloc
should be replaced by Calloc and free by Free, 
which, I'll do.
----

I said:



> b) That I've used the following technique: I've
>    calls to different C programs held together in a single
>    file which looks like:
> 
>       GLM g;  /* information about the model */
>       OUTPUT o; /* information about the output *
> 
>       f1(g){ ....... }
>       f2(g,o) { ......}
> 
> 

Professor Ripley pointed out that the g and o arguments are 
unneccesary. (I don't have them in my code, but put them in
my incompetent attempt to provide an illustrative example.

The consensus was that this way of programming 
seems to be not ideal, but acceptable. A better long-term
alternative would be to use the .External statement which is 
similar to the .Call in S-plus v5 (NOT S v5, as I said), for which
Professor Bates kindly offered an early peek at some documentation.


I propose to make the version of my library which uses the above 
technique available (soon!) and to later replace it with a new version using
the .Call function. 

------

I said:



> On another note, where in the library structure would be a good     
> place to put a LaTeX document describing the function and showing
> some examples?

I didn't make it clear that this was in addition to the .Rd files
in my /man subdirectory.  I shall put the document as a .ps file 
in a /doc subdirectory at the same level as /man, /src etc.

---------

Thanks again to everyone who helped,

Jonathan 



-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330371
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Mon Jun  7 12:09:46 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Mon, 7 Jun 1999 10:09:46 +0000 (GMT)
Subject: [R] R equiv of #ifdef?
Message-ID: <Pine.LNX.3.96.990607093346.3096A-100000@cbe207.gcal.ac.uk>

I was wondering if R has an equivalent of #ifdef.
I want the code to check if a function has been sourced in yet, and if
not, then source it in. (I know of replace(), which works for
packages/libraries)

Here is what I have come up with.

my.objects<-objects()
if(my.objects[my.objects=="thingy2"]!="thingy2")
	source("~/papers/speed/junk.r")

junk.r contains the code for function thingy2().
This doesn't work: "missing value where logical needed"
The error message puzzles me.

>my.objects[my.objects=="thingy2"]!="thingy2"
logical(0)

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zaccarel at dada.it  Mon Jun  7 11:22:07 1999
From: zaccarel at dada.it (zaccarel@dada.it)
Date: Mon, 07 Jun 1999 11:22:07 +0200
Subject: [R] Problem with cluster analysis
Message-ID: <375B8F3F.44C7@dada.it>

I'm sorry if this is a trivial question.

My system is R 6.33 on Win98 with basic libraries plus the "cluster"
library. 
I'm using "agnes" and "hclust" functions to perform cluster analysis on
big data sets.
Looking at the documentation for libraries "mva" and "cluster" I can't
find out a function like S-Plus "cutree" to get back a vector that tells
which clusters own each element in the data set.

I have tried to change S-Plus code in R-code for "cutree" function but
with no success.

Is there such a function in R that I miss?

Thanks for any help.

Zaccarelli Nicola
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun  7 11:38:29 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 1999 11:38:29 +0200
Subject: [R] R equiv of #ifdef?
In-Reply-To: Bill Simpson's message of "Mon, 7 Jun 1999 10:09:46 +0000 (GMT)"
References: <Pine.LNX.3.96.990607093346.3096A-100000@cbe207.gcal.ac.uk>
Message-ID: <x21zfo1hbe.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson at gcal.ac.uk> writes:

> I was wondering if R has an equivalent of #ifdef.
> I want the code to check if a function has been sourced in yet, and if
> not, then source it in. (I know of replace(), which works for
> packages/libraries)
> 
> Here is what I have come up with.
> 
> my.objects<-objects()
> if(my.objects[my.objects=="thingy2"]!="thingy2")
> 	source("~/papers/speed/junk.r")
> 
> junk.r contains the code for function thingy2().
> This doesn't work: "missing value where logical needed"
> The error message puzzles me.
> 
> >my.objects[my.objects=="thingy2"]!="thingy2"
> logical(0)

How about exists("thingy2")?

The error message is perhaps not perfectly clear, you need not only a
logical but a non-missing logical of positive length:

> if(logical(0))2
Error in if (logical(0)) 2 : missing value where logical needed
> if(NULL)2
Error in if (NULL) 2 : missing value where logical needed
> if(as.logical(NA))2
Error in if (as.logical(NA)) 2 : missing value where logical needed

You're getting a zero-length vector from the
my.objects[my.objects=="thingy2"] construction, which is compared
elementwise with "thingy2".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Jun  7 11:39:43 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 7 Jun 1999 11:39:43 +0200 (CEST)
Subject: [R] Problem with cluster analysis
In-Reply-To: <375B8F3F.44C7@dada.it>
References: <375B8F3F.44C7@dada.it>
Message-ID: <14171.37727.902275.709433@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 07 Jun 1999 11:22:07 +0200,
>>>>> zaccarel  (z) wrote:

z> I'm sorry if this is a trivial question.
z> My system is R 6.33 on Win98 with basic libraries plus the "cluster"
z> library. 
z> I'm using "agnes" and "hclust" functions to perform cluster analysis on
z> big data sets.
z> Looking at the documentation for libraries "mva" and "cluster" I can't
z> find out a function like S-Plus "cutree" to get back a vector that tells
z> which clusters own each element in the data set.

z> I have tried to change S-Plus code in R-code for "cutree" function but
z> with no success.

z> Is there such a function in R that I miss?

there is a function called members in th multiv package which should
do what you want.

hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Jun  7 11:44:58 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 7 Jun 1999 11:44:58 +0200 (CEST)
Subject: [R] R equiv of #ifdef?
In-Reply-To: <Pine.LNX.3.96.990607093346.3096A-100000@cbe207.gcal.ac.uk>
References: <Pine.LNX.3.96.990607093346.3096A-100000@cbe207.gcal.ac.uk>
Message-ID: <14171.38042.701888.56180@pc87.maho.magnaeu.com>

>>>>> Bill Simpson writes:

> I was wondering if R has an equivalent of #ifdef.
> I want the code to check if a function has been sourced in yet, and if
> not, then source it in. (I know of replace(), which works for
> packages/libraries)

> Here is what I have come up with.

> my.objects<-objects()
> if(my.objects[my.objects=="thingy2"]!="thingy2")
> 	source("~/papers/speed/junk.r")

> junk.r contains the code for function thingy2().
> This doesn't work: "missing value where logical needed"
> The error message puzzles me.

>> my.objects[my.objects=="thingy2"]!="thingy2"
> logical(0)

> Thanks very much for any help.

Try exists().

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Mon Jun  7 12:59:27 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Mon, 7 Jun 1999 10:59:27 +0000 (GMT)
Subject: [R] R equiv of #ifdef?
In-Reply-To: <14171.38042.701888.56180@pc87.maho.magnaeu.com>
Message-ID: <Pine.LNX.3.96.990607105902.3220A-100000@cbe207.gcal.ac.uk>

Thanks very much.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Mon Jun  7 13:59:29 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Mon, 07 Jun 1999 11:59:29 GMT
Subject: [R] Re: 
Message-ID: <OFC09FE8A7.E1646C38-ON85256789.0041A411@hgsi.com>


move or copy the directories mass, nnet and class to the library directory
- then execute link.html.help()
Now execute library(MASS) and data(petrol)
Should work.



                                                                                                              
                    "Troels Ring"                                                                             
                    <tring at mail1.stofane        To:     "R-help" <r-help at stat.math.ethz.ch>                   
                    t.dk>                       cc:                                                           
                    Sent by:                    Subject:                                                      
                    owner-r-help at stat.ma                                                                      
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    06/06/1999 06:32 AM                                                                       
                                                                                                              
                                                                                                              



Dear friends. I downloaded the most recent of everything. Now the directory
structure when installing
VR5_3pl037.zip in library seem to have been disturbed - at least on my old
machine.

.......
R : Copyright 1999, The R Development Core Team
Version 0.64.1  (May 8, 1999)
.........

> library(VR)
Warning: Package `VR' contains no R code
> data(petrol)
Warning: Data set `petrol' not found
> library(VR,MASS)
(is that "legal" ?)
> data(petrol)
Warning: Data set `petrol' not found
> library(MASS)
Error: There is no package called `MASS'
> library(,MASS)
Error: No documentation for package `MASS'
>
Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbb at nebiometrics.com  Mon Jun  7 14:38:15 1999
From: rbb at nebiometrics.com (Robert Burrows)
Date: Mon, 7 Jun 1999 08:38:15 -0400 (EDT)
Subject: [R] R and glibc-2.1.1
Message-ID: <Pine.LNX.4.02.9906070824060.25703-100000@localhost.localdomain>

Hello,

I recently upgraded my glibc from 2.0.7 to 2.1.1 and now I cannot get R to
start. I get

	R : Copyright 1999, The R Development Core Team
	Version 0.64.1  (May 8, 1999)

	R is free software and comes with ABSOLUTELY NO WARRANTY.
	You are welcome to redistribute it under certain conditions.
	Type	"?license" or "?licence" for distribution details.

	R is a collaborative project with many contributors.
	Type	"?contributors" for a list.

	Type	"demo()" for some demos, "help()" for on-line help, or
    		"help.start()" for a HTML browser interface to help.
	Type	"q()" to quit R.
	
	Segmentation fault (core dumped)

>From core:

  GNU gdb 4.18
  Copyright 1998 Free Software Foundation, Inc.
  		<snip>
  This GDB was configured as "i686-pc-linux-gnu"...

  "/usr/local/bin/R": not in executable format: File format not recognized

  Core was generated by `/usr/local/lib/R/bin/R.binary'.
  Program terminated with signal 11, Segmentation fault.
  #0  0x40188ab3 in ?? ()
	
This is with RedHat 5.1, kernel 2.2.1. I got glibc-2.1.1 from the GNU web
site and compiled it myself, then recompiled and installed R.

Any suggestions will be much appreciated.

TIA,

Robert Burrows
rbb at nebiometrics.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Jun  7 15:07:44 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 7 Jun 1999 15:07:44 +0200
Subject: [R] Sv: 
References: <OFC09FE8A7.E1646C38-ON85256789.0041A411@hgsi.com>
Message-ID: <000701beb0e6$bd90c260$2c4fa8c0@stofanet.dk>

Thank you very much. It works alright !

Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark

----- Oprindelig meddelelse ----- 
Fra: <partha_bagchi at hgsi.com>
Til: Troels Ring <tring at mail1.stofanet.dk>
Cc: R-help <r-help at stat.math.ethz.ch>
Sendt: 7. juni 1999 13:59
Emne: Re: 


> 
> move or copy the directories mass, nnet and class to the library directory
> - then execute link.html.help()
> Now execute library(MASS) and data(petrol)
> Should work.
> 
> 
> 
>                                                                                                               
>                     "Troels Ring"                                                                             
>                     <tring at mail1.stofane        To:     "R-help" <r-help at stat.math.ethz.ch>                   
>                     t.dk>                       cc:                                                           
>                     Sent by:                    Subject:                                                      
>                     owner-r-help at stat.ma                                                                      
>                     th.ethz.ch                                                                                
>                                                                                                               
>                                                                                                               
>                     06/06/1999 06:32 AM                                                                       
>                                                                                                               
>                                                                                                               
> 
> 
> 
> Dear friends. I downloaded the most recent of everything. Now the directory
> structure when installing
> VR5_3pl037.zip in library seem to have been disturbed - at least on my old
> machine.
> 
> .......
> R : Copyright 1999, The R Development Core Team
> Version 0.64.1  (May 8, 1999)
> .........
> 
> > library(VR)
> Warning: Package `VR' contains no R code
> > data(petrol)
> Warning: Data set `petrol' not found
> > library(VR,MASS)
> (is that "legal" ?)
> > data(petrol)
> Warning: Data set `petrol' not found
> > library(MASS)
> Error: There is no package called `MASS'
> > library(,MASS)
> Error: No documentation for package `MASS'
> >
> Troels Ring, MD
> Department of Nephrology
> Aalborg Hospital
> Aalborg Denmark
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun  7 15:18:57 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 1999 15:18:57 +0200
Subject: [R] R and glibc-2.1.1
In-Reply-To: Robert Burrows's message of "Mon, 7 Jun 1999 08:38:15 -0400 (EDT)"
References: <Pine.LNX.4.02.9906070824060.25703-100000@localhost.localdomain>
Message-ID: <x2wvxgywqm.fsf@blueberry.kubism.ku.dk>

Robert Burrows <rbb at nebiometrics.com> writes:


> I recently upgraded my glibc from 2.0.7 to 2.1.1 and now I cannot get R to
> start. I get
...
>   		<snip>
>   This GDB was configured as "i686-pc-linux-gnu"...
> 
>   "/usr/local/bin/R": not in executable format: File format not recognized
> 
>   Core was generated by `/usr/local/lib/R/bin/R.binary'.
>   Program terminated with signal 11, Segmentation fault.
>   #0  0x40188ab3 in ?? ()
> 	
> This is with RedHat 5.1, kernel 2.2.1. I got glibc-2.1.1 from the GNU web
> site and compiled it myself, then recompiled and installed R.
> 
> Any suggestions will be much appreciated.

Hmm. If you want to live on the bleeding edge... 

There are many things that can have gone wrong, various binutils not
quite compatible with glibc-2.1.x, etc. RedHat6.0 is known to be a
workable platform for R, so I doubt that it is glibc-2.1 alone that is
causing you pain.

One thing that might point you at the source of the problem is to try
running R under gdb (start it with "bin/R -d gdb", then type run).
That might at least give you an indication of which routine is blowing
up. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Mon Jun  7 11:24:22 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Mon, 07 Jun 1999 11:24:22
Subject: [R] How to superimpose a histogram and density plot
Message-ID: <3.0.5.16.19990607112422.21a7831a@deimos.tc.uaslp.mx>

NCSS has a nice plot of the histogram and density plot superimposed. The
S-PLUS 4 Guide to Statistics on page 45 suggests the following code for a
general purpose density plot for a vector named data

iqd <- summary(data)[5]-summary(data)[2]
plot(density(data,width=2*iqd),xlab="x",ylab="",type="l")

Is it possible to superimpose the density plot on a histogram produced with
hist()? I tried lines(density(data,width=2*iqd),type="l") but the results
weren't satisfactory.

Thank you,

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.CSIRO.AU  Mon Jun  7 22:22:36 1999
From: Bill.Venables at cmis.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Tue, 8 Jun 1999 06:22:36 +1000 
Subject: [R] How to superimpose a histogram and density plot
Message-ID: <D16979FB73F3D11195510000F8030FB90D0A9C@roper.qld.cmis.csiro.au>

Peter,

1. Why would R users have the S-PLUS 4 Guide to Statistics handy?  :-)

2. The problem with hist() is that it does not do a real histogram.  The
vertical scale is, by default, a *frequency* axis, not a *relative
frequency density* axis which would put it on the same scale as a density
estimate.  Brian Ripley and I got so annoyed about this we wrote our own
function for the MASS library called "truehist" - to make a true histogram!
The fact that every elementary book on statistics does it this way does not
make it correct.  To be helpful, a histogram really has to be a
non-parametric
density estimator, period.

Enough already of polemics.  If you want a density estimate and a histogram 
on the same scale, I suggest you try something like this:

> IQR <- diff(summary(data)[c(5,2)])
> dest <- density(data, width = 2*IQR)  # or some smaller width, maybe,
> hist(data, xlim = range(dest$x), xlab = "x", ylab = "density",
+      probability = TRUE)    # <<<--- this is the vital argument
> lines(dest, lty=2)

Best of luck,
Bill Venables.


-----Original Message-----
From: Peter B. Mandeville
To: r-help at stat.math.ethz.ch
Sent: 6/7/99 9:24 PM
Subject: [R] How to superimpose a histogram and density plot

NCSS has a nice plot of the histogram and density plot superimposed. The
S-PLUS 4 Guide to Statistics on page 45 suggests the following code for
a general purpose density plot for a vector named data

iqd <- summary(data)[5]-summary(data)[2]
plot(density(data,width=2*iqd),xlab="x",ylab="",type="l")

Is it possible to superimpose the density plot on a histogram produced
with hist()? I tried lines(density(data,width=2*iqd),type="l") but the
results weren't satisfactory.

Thank you,

Peter B.

--
Peter B. Mandeville
mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica
rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext.
232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun  7 23:08:34 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 1999 23:08:34 +0200
Subject: [R] How to superimpose a histogram and density plot
In-Reply-To: "Venables, Bill's message of "Tue, 8 Jun 1999 06:22:36 +1000"
References: <D16979FB73F3D11195510000F8030FB90D0A9C@roper.qld.cmis.csiro.au>
Message-ID: <x2n1ybyazx.fsf@blueberry.kubism.ku.dk>

"Venables, Bill (CMIS, Cleveland)" <Bill.Venables at cmis.CSIRO.AU> writes:

> The fact that every elementary book on statistics does it this way does not
> make it correct.  To be helpful, a histogram really has to be a
> non-parametric
> density estimator, period.
> 
> Enough already of polemics.  

Not quite! There is a reason for doing it the other way, namely that
the concept of a histogram generally comes before the concept of a
probability density, pedagogically. It is very easy to explain that
you chop up the axis into bins and count the number of data points
that fall in each of them. I bet that half of the MDs that I teach
never quite understand the density (hell, the author of the textbook I
use managed to plot three identical gaussian curves with identical y
axis but different x axes... and he's a statistician). So for the
basic uses of the histogram, one would be replacing a perfectly
intuitive simple unit with a substantially more complex one.

>If you want a density estimate and a histogram 
> on the same scale, I suggest you try something like this:
> 
> > IQR <- diff(summary(data)[c(5,2)])
> > dest <- density(data, width = 2*IQR)  # or some smaller width, maybe,
> > hist(data, xlim = range(dest$x), xlab = "x", ylab = "density",
> +      probability = TRUE)    # <<<--- this is the vital argument
> > lines(dest, lty=2)

Yep. frequency=FALSE has the same effect and might be more logical,
since the y-axis is not really probability but "probability per x
unit".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Jun  7 23:48:14 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Mon, 7 Jun 1999 17:48:14 -0400
Subject: [R] GIF graphics device
Message-ID: <NABBLIOAJNIMENKGLDDGMENCCMAA.twestley@buffalo.veridian.com>

Is there a GIF graphics device or some other way to generate
a GIF from an R plot instead of postscript?

Then, I could paste a plot right into PowerPoint or Word.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon Jun  7 23:55:15 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 7 Jun 1999 16:55:15 -0500
Subject: [R] data.frame
Message-ID: <199906072155.QAA49948@mean.stat.purdue.edu>


I am not sure if I should call this a bug or just a design
imperfection.

I have noticed that the data.frame function does not preserve the
integrity of multivariate components.  Here is a simple illustration:

> x <- matrix(1:6,3,2)
> y <- 1:3
> z <- data.frame(x=x,y=y)
> z$x 
# NULL
> z$y 
# [1] 1 2 3

One can however get by that by using model.frame:

> zz <- model.frame(~x+y)
> zz$x
#      [,1] [,2]
# [1,]    1    4
# [2,]    2    5
# [3,]    3    6

I was expecting data.frame to behave like this.

I am developing some multivariate nonparametric modeling tools using
smoothing splines, with syntax similar to lm and glm.  In a formula
say y~x1*x2, x1 or x2 or both can be multivariate.  The corresponding
predict function also has syntax similar to that of lm.  To prepare
newdata to be used in predict(object,newdata,...), I can use

> newdata <- data.frame(x1=newx1,x2=newx2)

only for univariate x1 and x2.  For multivariate predictors, I have to
fake it by using

> newdata <- model.frame(~x1+x2,list(x1=newx1,x2=newx2))

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun  8 00:11:30 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jun 1999 00:11:30 +0200
Subject: [R] data.frame
In-Reply-To: Chong Gu's message of "Mon, 7 Jun 1999 16:55:15 -0500"
References: <199906072155.QAA49948@mean.stat.purdue.edu>
Message-ID: <x2yahvslt9.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> I am not sure if I should call this a bug or just a design
> imperfection.
> 
> I have noticed that the data.frame function does not preserve the
> integrity of multivariate components.  Here is a simple illustration:
> 
> > x <- matrix(1:6,3,2)
> > y <- 1:3
> > z <- data.frame(x=x,y=y)
> > z$x 
> # NULL
> > z$y 
> # [1] 1 2 3
> 
> One can however get by that by using model.frame:
> 
> > zz <- model.frame(~x+y)
> > zz$x
> #      [,1] [,2]
> # [1,]    1    4
> # [2,]    2    5
> # [3,]    3    6
> 
> I was expecting data.frame to behave like this.

You're not the first... This apparently goes back to a design decision
that data.frame be used to coerce matrices to data frames. You can get
the desired behaviour with the I() function:

> z <- data.frame(x=I(x),y=y)
> z$x
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
attr(,"class")
[1] "AsIs"


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Tue Jun  8 01:39:03 1999
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Tue, 8 Jun 1999 09:39:03 +1000 (EST)
Subject: [R] R and glibc-2.1.1
In-Reply-To: <x2wvxgywqm.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.9906080936040.19264-100000@solzhenitsyn.ens.gu.edu.au>

 Robert Burrows <rbb at nebiometrics.com> writes:
 
 
> I recently upgraded my glibc from 2.0.7 to 2.1.1 and now I cannot get R to
> start. I get
>   		<snip>
>   This GDB was configured as "i686-pc-linux-gnu"...
> 
>   "/usr/local/bin/R": not in executable format: File format not recognized

This is because /usr/local/bin/R is a script.  Try stepping through the
commands in the script at the command line and gdb and/or ldd on the binary.

>   Core was generated by `/usr/local/lib/R/bin/R.binary'.
>   Program terminated with signal 11, Segmentation fault.
>   #0  0x40188ab3 in ?? ()
> 	
> This is with RedHat 5.1, kernel 2.2.1. I got glibc-2.1.1 from the GNU web
> site and compiled it myself, then recompiled and installed R.
> 
> Any suggestions will be much appreciated.
----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/

"This library is open one hour each fortnight.  No book shall leave these 
 premises. We have sworn it with an oath!"
 -- Library of King Ashurbanipal, Babylon, ca. 3000 BC.                           

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Jun  8 02:38:01 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 8 Jun 1999 01:38:01 +0100
Subject: [R] GIF graphics device
In-Reply-To: <NABBLIOAJNIMENKGLDDGMENCCMAA.twestley@buffalo.veridian.com>; from Terry J. Westley on Mon, Jun 07, 1999 at 05:48:14PM -0400
References: <NABBLIOAJNIMENKGLDDGMENCCMAA.twestley@buffalo.veridian.com>
Message-ID: <19990608013801.15237@hal.stat.unipd.it>

On Mon, Jun 07, 1999 at 05:48:14PM -0400, Terry J. Westley wrote:
> Is there a GIF graphics device or some other way to generate
> a GIF from an R plot instead of postscript?
> 
> Then, I could paste a plot right into PowerPoint or Word.


  The Windows graphics device can save plots as GIF or metafile
  (which should give better resolution). Plots can also be copied
  to the clipboard as bitmap or metafile.
  Just use the menu.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jun  8 01:41:13 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 7 Jun 1999 18:41:13 -0500
Subject: [R] GIF graphics device
In-Reply-To: <NABBLIOAJNIMENKGLDDGMENCCMAA.twestley@buffalo.veridian.com>
Message-ID: <199906072341.SAA20636@mean.stat.purdue.edu>


   X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to owner-r-help at stat.math.ethz.ch using -f
   Reply-To: <twestley at buffalo.veridian.com>
   From: "Terry J. Westley" <twestley at buffalo.veridian.com>
   Date: Mon, 7 Jun 1999 17:48:14 -0400
   MIME-Version: 1.0
   Content-Type: text/plain;
	   charset="iso-8859-1"
   Content-Transfer-Encoding: 7bit
   X-Priority: 3 (Normal)
   X-MSMail-Priority: Normal
   X-Mailer: Microsoft Outlook IMO, Build 9.0.2212 (4.71.2419.0)
   X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211
   Importance: Normal
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   Is there a GIF graphics device or some other way to generate
   a GIF from an R plot instead of postscript?

   Then, I could paste a plot right into PowerPoint or Word.

   --
   Terry J. Westley, Principal Engineer
   Veridian Engineering, Calspan Operations
   P.O. Box 400, Buffalo, NY 14225
   twestley at buffalo.veridian.com    http://www.veridian.com

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


If you use X-windows, you may use XV (not part of R) to do the format
conversion.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jordan.howarth at tag.csiro.au  Tue Jun  8 02:21:24 1999
From: jordan.howarth at tag.csiro.au (Jordan Howarth)
Date: Tue, 8 Jun 1999 10:21:24 +1000 (EST)
Subject: [R] Newbie with lme
Message-ID: <14172.25092.277840.777025@fishhead.tag.csiro.au>


Using Version 0.64.1 (May 8, 1999) 


Hi,

Last time I used a stats package it was SAS so I have been struggling with the
paradigm shift to R in particular the syntax for using lme (linear mixed effects
model). My data relates to growth data and is set up with vectors for ID, several
explanatory variables and the response variable. In contrast, the data object used
in the lme examples, ie. Orthodont.R, consists of structure statements. My
previous experience with SAS is obviously causing me problems. At the risk of
asking somebody hold my hand could that somebody walk me through lme. Like I
said "Newbie" ...

TIA

Jord

-- 
Jordan Howarth
mailto:jordan.howarth at tag.csiro.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Tue Jun  8 02:21:48 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Mon, 7 Jun 1999 20:21:48 -0400
Subject: [R] GIF graphics device
In-Reply-To: <199906072341.SAA20636@mean.stat.purdue.edu>
Message-ID: <NABBLIOAJNIMENKGLDDGGENFCMAA.twestley@buffalo.veridian.com>

In response to my question:
>    Is there a GIF graphics device or some other way to generate
>    a GIF from an R plot instead of postscript?

Chong Gu [mailto:chong at stat.purdue.edu] writes:
> If you use X-windows, you may use XV (not part of R) to do the format
> conversion.

Guido Masarotto [guido at hal.stat.unipd.it] writes:
> The Windows graphics device can save plots as GIF or metafile
> (which should give better resolution). Plots can also be copied
> to the clipboard as bitmap or metafile.
> Just use the menu.

I should have said that I want to support both Unix (Sparc/Solaris)
and Windows, so I was looking for a generic solution within R
rather than using a Unix utility (xv) or something only available
in Windows.  I'd like to do this automatically so the user does not
have to invoke an image capture program.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drepasky at bio.indiana.edu  Tue Jun  8 04:05:00 1999
From: drepasky at bio.indiana.edu (Dick Repasky)
Date: Mon, 7 Jun 1999 21:05:00 -0500 (EST)
Subject: [R] 0.64.1 alpha floating point exception in make check
Message-ID: <199906080205.VAA23373@sunflower.bio.indiana.edu>


I received a floating point exception from "make check" on a Linux
alpha (Red Hat 6.0) using egcs-1.1.2 compiler, and compiling from
R-base-0.64.1-5.src.rpm packaged by Red Hat Contrib|Net.  make check
fails with return code 136 from modreg-Ex.Rout.  The final output is:

   > plot(update(rock.ppr, sm.method="gcv", gcvpen=2),
   +      main = "update(..., sm.method=\"gcv\", gcvpen=2)")
   Floating point exception

Is this error known?  

Is it associated with floating point exception handling by Linux kernel 
(2.2.5-16 of Red Hat distribution) on alpha hardware?

Or, is it .... ?

Thanks,

Dick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jun  8 07:52:32 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 8 Jun 1999 00:52:32 -0500
Subject: [R] inverse.gaussian, nbinom
Message-ID: <199906080552.AAA45480@mean.stat.purdue.edu>


Two questions:

1. inverse.gaussian is up there as one of the glm families, but do
people ever use it?  There is no inverse.gaussian in the R
distribution family, and when I checked McCullagh & Nelder, it only
appeared twice in the book (according to subject index), once in the
table on p. 30 and once on p. 38 in a passing sentence.  Is there a
good reference on this distribution?

2. When I looked at the negative binomial documentation, I couldn't
quite get things match for the composite Poisson case.  It seems to me
that prob=1/(1+scale) instead of prob=scale/(1+scale), but I don't
trust myself on the algebra.  Can someone else please double check it?

Thanks.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun  8 10:10:22 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jun 1999 10:10:22 +0200
Subject: [R] 0.64.1 alpha floating point exception in make check
In-Reply-To: Dick Repasky's message of "Mon, 7 Jun 1999 21:05:00 -0500 (EST)"
References: <199906080205.VAA23373@sunflower.bio.indiana.edu>
Message-ID: <x2n1ybi041.fsf@blueberry.kubism.ku.dk>

Dick Repasky <drepasky at bio.indiana.edu> writes:

>    > plot(update(rock.ppr, sm.method="gcv", gcvpen=2),
>    +      main = "update(..., sm.method=\"gcv\", gcvpen=2)")
>    Floating point exception
> 
> Is this error known?  

No...

> Is it associated with floating point exception handling by Linux kernel 
> (2.2.5-16 of Red Hat distribution) on alpha hardware?

I suspect so, or hardware FPU configuration. Normally, we rely on
having default IEEE handling (set flag and continue with NaN/Inf
result) which should *never* produce SIGFPE. There is one exception
though: integer division by zero, which is not maskable and produces
an FP (sic!) error.

Perhaps it would be a good idea if you tried running R under gdb and
see where the exception comes from. ("R -d gdb" and then "run
--vanilla < tests/Examples/modreg-Ex.R")  

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu.ros at eudoramail.com  Tue Jun  8 10:12:33 1999
From: mathieu.ros at eudoramail.com (mathieu ros)
Date: Tue, 08 Jun 1999 09:12:33 +0100
Subject: [R] equiv of inspect ?
Message-ID: <MDBFHCANLANBEAAA@shared1-mail.whowhere.com>

Is there an equivalent under R (I got the 0.64.1 version) of the inspect() function ?
thanks.

------------------------------------------------------
              mathieuros at bigfoot.com
          Universiti Paul Sabatier Toulouse
                   
                    




Join 18 million Eudora users by signing up for a free Eudora Web-Mail account at http://www.eudoramail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun  8 10:24:49 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Jun 1999 10:24:49 +0200
Subject: [R] How to superimpose a histogram and density plot
In-Reply-To: <x2n1ybyazx.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 07 Jun 1999 23:08:34 +0200)
References: <D16979FB73F3D11195510000F8030FB90D0A9C@roper.qld.cmis.csiro.au> <x2n1ybyazx.fsf@blueberry.kubism.ku.dk>
Message-ID: <199906080824.KAA17809@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> "Venables, Bill (CMIS, Cleveland)" <Bill.Venables at cmis.CSIRO.AU>
    PD> writes:
    >> The fact that every elementary book on statistics does it this way
    >> does not make it correct.  To be helpful, a histogram really has to
    >> be a non-parametric density estimator, period.
    >> 
    >> Enough already of polemics.

    PD> Not quite! There is a reason for doing it the other way, namely
    PD> that the concept of a histogram generally comes before the concept
    PD> of a probability density, pedagogically. It is very easy to explain
    PD> that you chop up the axis into bins and count the number of data
    PD> points that fall in each of them. I bet that half of the MDs that I
    PD> teach never quite understand the density (hell, the author of the
    PD> textbook I use managed to plot three identical gaussian curves with
    PD> identical y axis but different x axes... and he's a
    PD> statistician). So for the basic uses of the histogram, one would be
    PD> replacing a perfectly intuitive simple unit with a substantially
    PD> more complex one.

I agree 100% with Peter.  
Being a mathematician I agree with Bill that for us, a histogram is a
(very suboptimal) density estimate;  but average statistics software users
*do* learn histograms differently..  
-- quite a few ``learn'' histograms even before high-school...

    >> If you want a density estimate and a histogram 
    >> on the same scale, I suggest you try something like this:
    >> 
    >> > IQR <- diff(summary(data)[c(5,2)])

with R, the above line is superfluous:  

     1) IQR(.) is already an R function!
     2) density(.) in R *has* a reasonable default bandwidth (contrary to S),
        namely Silverman's rule of thumb

    >> > dest <- density(data, width = 2*IQR)  # or some smaller width, maybe,
    >> > hist(data, xlim = range(dest$x), xlab = "x", ylab = "density",
    >> +      probability = TRUE)    # <<<--- this is the vital argument
    >> > lines(dest, lty=2)

    PD> Yep. frequency=FALSE has the same effect and might be more logical,
    PD> since the y-axis is not really probability but "probability per x
    PD> unit".

which in sum leads to

    dest <- density(data)
    hist(data, xlim = range(dest$x), xlab = "x", ylab = "density", freq = FALSE)
    lines(dest, lty=2)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.A.Wooff at durham.ac.uk  Tue Jun  8 12:14:44 1999
From: D.A.Wooff at durham.ac.uk (D.A.Wooff@durham.ac.uk)
Date: Tue, 8 Jun 1999 11:14:44 +0100 (BST)
Subject: [R] histograms
Message-ID: <4836.199906081014@bayes>

> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
>     PD> "Venables, Bill (CMIS, Cleveland)" <Bill.Venables at cmis.CSIRO.AU>
>     PD> writes:
>     >> The fact that every elementary book on statistics does it this way
>     >> does not make it correct.  To be helpful, a histogram really has to
>     >> be a non-parametric density estimator, period.
>     >> 
>     >> Enough already of polemics.
> 
>     PD> Not quite! There is a reason for doing it the other way, namely
>     PD> that the concept of a histogram generally comes before the concept
>     PD> of a probability density, pedagogically. It is very easy to explain
>     PD> that you chop up the axis into bins and count the number of data
>     PD> points that fall in each of them. I bet that half of the MDs that I
>     PD> teach never quite understand the density (hell, the author of the
>     PD> textbook I use managed to plot three identical gaussian curves with
>     PD> identical y axis but different x axes... and he's a
>     PD> statistician). So for the basic uses of the histogram, one would be
>     PD> replacing a perfectly intuitive simple unit with a substantially
>     PD> more complex one.
> 
> I agree 100% with Peter.  
> Being a mathematician I agree with Bill that for us, a histogram is a
> (very suboptimal) density estimate;  but average statistics software users
> *do* learn histograms differently..  

I hope there are many of us that agree 100% with Bill. Bad practice,
as enshrined in the default behaviour of histogram, should be
discouraged.  We should aim to introduce density-based histograms from
the outset, and the default behaviour of histograms in many packages
acts against this principle. The current default behaviour conveys a
misleading and arguably useless summary, and I don't go with the
argument that we should persist with it because it is simple to
understand where the numbers come from.

Cheers,

David.

---------------------------------------------------------------------
  David Wooff, Director, Statistics and Mathematics Consultancy Unit,
  Department of Mathematical Sciences, University of Durham.
  Science Laboratories, South Road, Durham, DH1 3LE, UK.
  Tel. 0191 374 4531, Fax 0191 374 7388.
---------------------------------------------------------------------
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Jun  8 12:38:23 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 8 Jun 1999 12:38:23 +0200 (CEST)
Subject: [R] histograms
In-Reply-To: <4836.199906081014@bayes>
References: <4836.199906081014@bayes>
Message-ID: <14172.62111.282630.641124@pc87.maho.magnaeu.com>

>>>>> D A Wooff writes:

>> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>> 
PD> "Venables, Bill (CMIS, Cleveland)" <Bill.Venables at cmis.CSIRO.AU>
PD> writes:
>> >> The fact that every elementary book on statistics does it this way
>> >> does not make it correct.  To be helpful, a histogram really has to
>> >> be a non-parametric density estimator, period.
>> >> 
>> >> Enough already of polemics.
>> 
PD> Not quite! There is a reason for doing it the other way, namely
PD> that the concept of a histogram generally comes before the concept
PD> of a probability density, pedagogically. It is very easy to explain
PD> that you chop up the axis into bins and count the number of data
PD> points that fall in each of them. I bet that half of the MDs that I
PD> teach never quite understand the density (hell, the author of the
PD> textbook I use managed to plot three identical gaussian curves with
PD> identical y axis but different x axes... and he's a
PD> statistician). So for the basic uses of the histogram, one would be
PD> replacing a perfectly intuitive simple unit with a substantially
PD> more complex one.
>> 
>> I agree 100% with Peter.  
>> Being a mathematician I agree with Bill that for us, a histogram is a
>> (very suboptimal) density estimate;  but average statistics software users
>> *do* learn histograms differently..  

> I hope there are many of us that agree 100% with Bill. Bad practice,
> as enshrined in the default behaviour of histogram, should be
> discouraged.  We should aim to introduce density-based histograms from
> the outset, and the default behaviour of histograms in many packages
> acts against this principle. The current default behaviour conveys a
> misleading and arguably useless summary, and I don't go with the
> argument that we should persist with it because it is simple to
> understand where the numbers come from.

I side with Peter.  In an elementary stats course ...

Maybe have densityplot(..., method = "histogram") for the real thing?

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Tue Jun  8 13:43:04 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Tue, 8 Jun 1999 11:43:04 +0000 (GMT)
Subject: [R] How to superimpose a histogram and density plot
In-Reply-To: <199906080824.KAA17809@sophie.ethz.ch>
Message-ID: <Pine.LNX.3.96.990608113824.4485A-100000@cbe207.gcal.ac.uk>

>     PD> "Venables, Bill (CMIS, Cleveland)" <Bill.Venables at cmis.CSIRO.AU>
>     PD> writes:
>     >> The fact that every elementary book on statistics does it this way
>     >> does not make it correct.  To be helpful, a histogram really has to
>     >> be a non-parametric density estimator, period.
Not EVERY elem stats book.  The best (IMHO) intro stats book (Freedman 
et al) does it right--it ONLY uses histograms with a density y axis. I
used this book to teach stats to psych majors for several yrs.

Freedman, Pisani, Purves, Adhikari (1991) Statistics. Norton ISBN
0-393-96043-9

I think there is a newer 3rd ed.

Bill S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Tue Jun  8 12:49:31 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Tue, 8 Jun 1999 07:49:31 -0300
Subject: [R] inverse.gaussian, nbinom
References: <199906080552.AAA45480@mean.stat.purdue.edu>
Message-ID: <99060808090204.06689@edgeworth.de.ufpe.br>

On Tue, 08 Jun 1999, Chong Gu wrote:

> 1. inverse.gaussian is up there as one of the glm families, but do
> people ever use it?  There is no inverse.gaussian in the R
> distribution family, and when I checked McCullagh & Nelder, it only
> appeared twice in the book (according to subject index), once in the
> table on p. 30 and once on p. 38 in a passing sentence.  Is there a
> good reference on this distribution?

See 

Chhikara, R.S. & Folks, J.L. (1989). The Inverse Gaussian Distribution: 
   Theory, Methodology and Applications. New York: Marcel Dekker. 

See also

Desmond, A.F. & Chapman, G.R. (1993). Modelling task completion data 
   with inverse Gaussian mixtures. Applied Statistics, 42, 603-613. 

Whitmore, G.A. (1986). Inverse Gaussian ratio estimation. Applied 
   Statistics, 35, 8-15. 

For an example where the fit of an inverse Gaussian model is better 
than that of a normal or gamma model, see pp.98-101 in 

Lindsey, J.K. (1997). Applying Generalized Linear Models. New York: 
   Springer-Verlag. 

Finally, for a good and detailed discussion of the IG distribution, 
see chapter 15 (pp.259-297) in

Johnson, N.L., Kotz, S. & Balakrishnan, N. (1994). Continuous Univariate 
   Distributions, Vol.1, 2nd ed. New York: Wiley. 

Best, FC. 
--
Francisco Cribari-Neto			voice: +55-81-2718420
Departamento de Estatistica		fax:   +55-81-2718422
Universidade Federal de Pernambuco	e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil		web: www.de.ufpe.br/~cribari/

     I would like to get an education, but it may be too late: 
     I already have my doctorate. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Tue Jun  8 13:43:54 1999
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Tue, 08 Jun 1999 12:43:54 +0100 (BST)
Subject: [R] histograms
In-Reply-To: <4836.199906081014@bayes>
Message-ID: <XFMail.990608124354.Ted.Harding@nessie.mcc.ac.uk>

On 08-Jun-99 D.A.Wooff at durham.ac.uk wrote:
> 
> I hope there are many of us that agree 100% with Bill. Bad practice,
> as enshrined in the default behaviour of histogram, should be
> discouraged.  We should aim to introduce density-based histograms from
> the outset, and the default behaviour of histograms in many packages
> acts against this principle. The current default behaviour conveys a
> misleading and arguably useless summary and I don't go with the
> argument that we should persist with it because it is simple to
> understand where the numbers come from.

What's going on? There's NOTHING wrong with a histogram as such.
"Bad practice, as enshrined in the default behaviour of histogram";
"The current default behaviour conveys a misleading and arguably useless
summary"; -- I respectfully disagree. Aka b****cks.

If the histogram bin size matches the discretization of the data,
then the histogram is equivalent to the data but simply represents
it differently. What's wrong with that?

If the bin size is coarser, then some information is lost of course.
But the nature of the loss (no discrimination within bins) is well
defined and unambiguous, and there is no interference between
different bins. What (apart from the loss of this specific info)
is wrong with that?

I recently had some data of which I did histos with bin-size equal to
data resolution. The following leapt to the eye (summarised in tabular
form):

X: 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 3.0 3.1 3.2 3.3 3.4 3.5 etc

N: 856   0 730   0   0 723   0 584   0   0 425   1 319   0   0 220 etc

Misleading and useless? Highly informative, according to me; and
I probably would not have noticed it so readily without looking at the
histogram. A density estimate would have made a real mush of it.
A histogram binned to width 0.2 would have completely (but cleanly)
concealed 90 per cent of it: the 10 per cent being the zero count
for 2.8-2.9, 3.8-3.9, ... so in the end I would have done a raw histo
anyway!

Density estimates also lose information. Of course the nature of the
loss is, theoretically, described in the definition of the smoothing
procedure. But in practice it's far more difficult to hypothesise
what may underlie a quirk in a density estimate, because of the
interference between neighbouring data values.

Density estimates have the merit of producing pictures which are much
more suggestive of a continuously varying probability density curve. In
some cases this may be usefully informative; in particular the desnity
estimate is sensitive to any variation in data value. In other cases it
may be merely cosmetic. In the worst cases it may give a seriously
misleading impression (as of course histograms also could).

Both methods have their uses, their (somewhat complementary) merits,
and their (somewhat complementary) demerits. As usual, it's horses
for courses.

But, specifically (as I said to start with): There's NOTHING wrong with
histograms as such.

I don't understand why people suggest that there is. There may, however,
be something seriously wrong with the way many people interpret them, or
with the uses that software packages make of them. But those are
different -- and possibly much more appropriate -- targets.

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 08-Jun-99                                       Time: 12:43:54
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jun  8 16:32:36 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 Jun 1999 09:32:36 -0500
Subject: [R] Newbie with lme
In-Reply-To: Jordan Howarth's message of "Tue, 8 Jun 1999 10:21:24 +1000 (EST)"
References: <14172.25092.277840.777025@fishhead.tag.csiro.au>
Message-ID: <6rogiqlq4b.fsf@verdi.stat.wisc.edu>

Jordan Howarth <jordan.howarth at tag.csiro.au> writes:

> Using Version 0.64.1 (May 8, 1999) 

> Last time I used a stats package it was SAS so I have been
> struggling with the paradigm shift to R in particular the syntax for
> using lme (linear mixed effects model). My data relates to growth
> data and is set up with vectors for ID, several explanatory
> variables and the response variable. In contrast, the data object
> used in the lme examples, ie. Orthodont.R, consists of structure
> statements. My previous experience with SAS is obviously causing me
> problems. At the risk of asking somebody hold my hand could that
> somebody walk me through lme. Like I said "Newbie" ...

The Orthodont.R file is the result of creating a data frame,
converting it to a groupedData object, and then using "dump" to get a
portable version of the result.  In most cases people would bring
their data into R using read.table or some other function like that,
then use the groupedData function to create a groupedData object.
Alternatively, you can use a data frame as the data argument to lme.
In that case you have to specify the grouping in the "random"
argument.

I would volunteer to walk you through an lme analysis but I am leaving
this afternoon for a conference.  If you can wait until next week, I
can correspond with you then.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun  8 18:32:59 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 8 Jun 1999 09:32:59 -0700 (PDT)
Subject: [R] equiv of inspect ?
In-Reply-To: <MDBFHCANLANBEAAA@shared1-mail.whowhere.com>
Message-ID: <Pine.GSO.4.10.9906080930340.290-100000@wompom.biostat.washington.edu>

On Tue, 8 Jun 1999, mathieu ros wrote:

> Is there an equivalent under R (I got the 0.64.1 version) of the
> inspect() function ? thanks.

Not really. There is debug(some.function), which calls the browser when
some.function() is entered.

Coming very soon will be some more error handling, which is the most
useful part of the S-PLUS debugging system that we are currently missing


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Jun  8 20:08:07 1999
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 08 Jun 1999 11:08:07 -0700
Subject: [R] histograms
In-Reply-To: <XFMail.990608124354.Ted.Harding@nessie.mcc.ac.uk>
References: <4836.199906081014@bayes>
Message-ID: <4.1.19990608110442.009cff10@pop4.ibm.net>

PMFJI.  Isn't this a correct definition?  I am not a professional statistician,
but this is the definition given in 3 different dictionaries and pretty well
compares with the descriptions in the 6 or so statistics books I have sitting
on my shelf.  It seems to describe what I learned to call a "frequency
histogram", as opposed to a "density histogram".


histogram n : a bar chart representing a frequency distribution; heights of the
bars represent observed frequencies 




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Math is hard.  Let's go to the mall"  Barbie

Powered by:  Monstrochoerus - the 300 MHz Pentium II 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19990608/df4761b4/attachment.html

From feldesmanm at pdx.edu  Tue Jun  8 21:56:09 1999
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 08 Jun 1999 12:56:09 -0700
Subject: [R] histograms
Message-ID: <4.1.19990608125521.00991400@pop4.ibm.net>

PMFJI.  Isn't this a correct definition?  I am not a professional
statistician, but this is the definition given in 3 different dictionaries
and pretty well compares with the descriptions in the 6 or so statistics
books I have sitting on my shelf.  It seems to describe what I learned to
call a "frequency histogram", as opposed to a "density histogram".


histogram n : a bar chart representing a frequency distribution; heights of
the bars represent observed frequencies 




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Math is hard.  Let's go to the mall"  Barbie

Powered by:  Monstrochoerus - the 300 MHz Pentium II
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernst.molitor at uni-bonn.de  Mon Jun  7 22:26:27 1999
From: ernst.molitor at uni-bonn.de (ernst.molitor@uni-bonn.de)
Date: Mon, 7 Jun 1999 20:26:27 GMT
Subject: [R] R and glibc-2.1.1
In-Reply-To: <Pine.LNX.4.02.9906070824060.25703-100000@localhost.localdomain>
	(message from Robert Burrows on Mon, 7 Jun 1999 08:38:15 -0400 (EDT))
References: <Pine.LNX.4.02.9906070824060.25703-100000@localhost.localdomain>
Message-ID: <199906072026.UAA23344@ernst.molitor>

Hi, 

I'm using R (currently, the development version dated May 25th, 1999)
under Linux, with glibc-2.1.1 (compiled by a recent snapshot of the
egcs compiler, and a similarly recent version of the binary utilities
package). Both the standalone and the GNOME version work fine.

As to the gdb output, please note that /usr/local/bin/R is a shell
script used to start the "real" binary, which usually lives in
/usr/local/lib/R/bin/R.binary.  It is the latter file that should be
handed to gdb (together with the core dump, if you so desired).

On my transitions to glibc-2.0, glibc-2.1 and, lately, glibc-2.1.1
(with kind help of Ulrich Drepper - many thanks to him), I have come
across some surprising core dumps. In many cases, a mix of shared
libraries linked into a program were the cause, so the suggestion I'd
have to offer is to do a ldd on the binary and check the resulting
list of shared libraries. After all, to allow for continued use of old
binaries, most systems keep old libraries around at one place or
another...  

On my box,

 ldd /usr/local/lib/R/bin/R.binary
 
returns

	libSM.so.6 => /usr/X11R6/lib/libSM.so.6 (0x4001e000)
	libICE.so.6 => /usr/X11R6/lib/libICE.so.6 (0x40026000)
	libX11.so.6 => /usr/X11R6/lib/libX11.so.6 (0x4003a000)
	libdl.so.2 => /usr/local/lib/libdl.so.2 (0x400d2000)
	libncurses.so.4 => /usr/local/lib/libncurses.so.4 (0x400d5000)
	libm.so.6 => /usr/local/lib/libm.so.6 (0x40115000)
	libc.so.6 => /usr/local/lib/libc.so.6 (0x40132000)

Regards,

Ernst
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris at gfm-mbh.de  Wed Jun  9 23:02:04 1999
From: chris at gfm-mbh.de (Christoph M. Friedrich)
Date: Wed, 09 Jun 1999 23:02:04 +0200
Subject: [R] summary gives inaccurate data
Message-ID: <375ED64C.F34A2A50@gfm-mbh.de>

Hi,
using R64.1 the summary function for simple statistics of a vector gives
inaccurate
results for the maximum. 
Example:
summary(c(123456,1,2,3))

gives :

     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
     1.00      1.75      2.50  30870.00  30870.00 123500.00 

The Max value ist wrong in a mathematical sense. I've tried with S-Plus,
it gives the same result,
but this seems to be inaccurate. 

Any suggestions for this problem

   Chris

-- 
Christoph M. Friedrich        | mailto:friedrich at computer.org 
Gesellschaft f?r Modulfermenterbau mbH (GfM mbH) |
http://www.tussy.uni-wh.de/~chris
Alfred-Herrhausen Str. 44 ; D-58455 Witten, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at hsph.harvard.edu  Wed Jun  9 23:13:04 1999
From: rgentlem at hsph.harvard.edu (Robert Gentleman)
Date: Wed, 9 Jun 1999 17:13:04 -0400 (EDT)
Subject: [R] summary gives inaccurate data
In-Reply-To: <375ED64C.F34A2A50@gfm-mbh.de>
Message-ID: <Pine.SV4.4.05.9906091711010.12736-100000@hsph.harvard.edu>

Chris,
 Looking at the man page for summary,
> ?summary
 
Object Summaries
 
     summary(object, ...)
 
     summary.default   (object, ..., digits = max(3, .Options$digits -3))
     summary.data.frame(object, maxsum = 7, ...)
     summary.factor    (object, maxsum = 100, ...)
     summary.matrix    (object, ...)
 
Arguments:
 
Shows that the "problem" is the digits option. It is 4 in your case, so
you only see 4 significant digits.
Change it to:
> summary(c(123456,1,2,3), digits=7)
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
     1.00      1.75      2.50  30865.50  30866.25 123456.00 

and you get what you want. In most cases the number of "significant
digits" printed out by summary methods in R is truncated to 3 or 4.

robert

On Wed, 9 Jun 1999, Christoph M. Friedrich wrote:

> Hi,
> using R64.1 the summary function for simple statistics of a vector gives
> inaccurate
> results for the maximum. 
> Example:
> summary(c(123456,1,2,3))
> 
> gives :
> 
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
>      1.00      1.75      2.50  30870.00  30870.00 123500.00 
> 
> The Max value ist wrong in a mathematical sense. I've tried with S-Plus,
> it gives the same result,
> but this seems to be inaccurate. 
> 
> Any suggestions for this problem
> 
>    Chris
> 
> -- 
> Christoph M. Friedrich        | mailto:friedrich at computer.org 
> Gesellschaft für Modulfermenterbau mbH (GfM mbH) |
> http://www.tussy.uni-wh.de/~chris
> Alfred-Herrhausen Str. 44 ; D-58455 Witten, Germany
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun  9 23:18:25 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 9 Jun 1999 14:18:25 -0700 (PDT)
Subject: [R] summary gives inaccurate data
In-Reply-To: <375ED64C.F34A2A50@gfm-mbh.de>
Message-ID: <Pine.GSO.4.10.9906091416330.286-100000@wompom.biostat.washington.edu>

On Wed, 9 Jun 1999, Christoph M. Friedrich wrote:

> Hi,
> using R64.1 the summary function for simple statistics of a vector gives
> inaccurate
> results for the maximum. 
> Example:
> summary(c(123456,1,2,3))
> 
> gives :
> 
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
>      1.00      1.75      2.50  30870.00  30870.00 123500.00 
> 
> The Max value ist wrong in a mathematical sense. I've tried with S-Plus,
> it gives the same result,
> but this seems to be inaccurate. 
> 
> Any suggestions for this problem

This is due to rounding to 4 significant figures.  You can do eg
R> summary(c(123456,1,2,3),digits=8)
    Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
     1.00      1.75      2.50  30865.50  30866.25 123456.00 

to get more accuracy


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at infiniti.ece.cmu.edu  Wed Jun  9 23:55:11 1999
From: tov at infiniti.ece.cmu.edu (Thomas Vogels)
Date: Wed, 09 Jun 1999 17:55:11 -0400
Subject: [R] R on AIX (>4.2)
Message-ID: <199906092155.RAA29434@infiniti.ece.cmu.edu>


Hi,

  I'm determined to get R compiling & running on a machine running AIX
4.2.  I've seen previous emails in the archive about this topic.  The
main obstacle is getting dynamic loading to work, but it works for Tcl
and hence is feasable.

  Questions:
  - is anybody _currently_ working with R on AIX?
  - why have previous fixes to the sources not been introduced into
    the released versions?


Thanks,
  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 10 08:47:55 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 10 Jun 1999 08:47:55 +0200
Subject: [R] R on AIX (>4.2)
In-Reply-To: <199906092155.RAA29434@infiniti.ece.cmu.edu> (message from Thomas
	Vogels on Wed, 09 Jun 1999 17:55:11 -0400)
References: <199906092155.RAA29434@infiniti.ece.cmu.edu>
Message-ID: <199906100647.IAA00865@sophie.ethz.ch>

[Subject above:  You probably mean, ">= 4.2" right ?]

>>>>> "TomV" == Thomas Vogels <tov at infiniti.ece.cmu.edu> writes:

    TomV>   I'm determined to get R compiling & running on a machine
    TomV> running AIX 4.2.
Great!   
Thank you in advance.

    TomV> I've seen previous emails in the archive about
    TomV> this topic.  The main obstacle is getting dynamic loading to
    TomV> work, but it works for Tcl and hence is feasable.

yes and yes.

    TomV> Questions:
    TomV>   - is anybody _currently_ working with R on AIX?  
don't know
    TomV>   - why have previous fixes to the sources not been introduced into
    TomV>     the released versions?
I think we have never seen fixes patchable into the main sources.
The only place I've heard that got it working was  uni-essen.de
and they seem to have used an almost completely different version of
src/unix/dynload.c  from Heiner Schwarte
(and I think I've never seen their version..).

Yes, it would really be great if this problem could finally be solved!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Thu Jun 10 11:54:59 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 10 Jun 1999 09:54:59 +0000 (GMT)
Subject: [R] limit digits in text()?
Message-ID: <Pine.LNX.3.96.990610095032.7179A-100000@cbe207.gcal.ac.uk>

I am labelling the axes of a persp() plot manually using text(). For
one spot in the plot I use:
text(-.62,.37,max(dprime))
The problem is that the label is printed as 1.6456330961.
I would like 1.6.

I tried options(digits=2) and str(digits.d=2)--no effect. (I don't like
these methods anyway since I just want to modify how the label in the plot
is printed; I want to print all the digits otherwise.)

How should I do it?  Is the only way to first set options(digits=2), then
compute dprime, then do text(), then when done reset options(digits=10)?

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Thu Jun 10 12:01:53 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 10 Jun 1999 10:01:53 +0000 (GMT)
Subject: [R] Re: limit digits in text()?
In-Reply-To: <Pine.LNX.3.96.990610095032.7179A-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.LNX.3.96.990610100110.7179C-100000@cbe207.gcal.ac.uk>

Sorry, I found the answer:
text(-.62,.37,round(max(dprime), digits=1))

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 10 11:33:36 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 10 Jun 1999 11:33:36 +0200
Subject: [R] limit digits in text()? --> use formatC()
In-Reply-To: <Pine.LNX.3.96.990610095032.7179A-100000@cbe207.gcal.ac.uk>
	(message from Bill Simpson on Thu, 10 Jun 1999 09:54:59 +0000 (GMT))
References: <Pine.LNX.3.96.990610095032.7179A-100000@cbe207.gcal.ac.uk>
Message-ID: <199906100933.LAA01060@sophie.ethz.ch>

>>>>> On Thu, 10 Jun 1999, Bill Simpson <wsimpson at gcal.ac.uk> said:

    Bill> I am labelling the axes of a persp() plot manually using
    Bill> text(). For one spot in the plot I use:
    Bill> text(-.62,.37,max(dprime)) The problem is that the label is
    Bill> printed as 1.6456330961.  I would like 1.6.

    Bill> I tried options(digits=2) and str(digits.d=2)--no effect. (I
    Bill> don't like these methods anyway since I just want to modify how
    Bill> the label in the plot is printed; I want to print all the digits
    Bill> otherwise.)

    Bill> How should I do it?  Is the only way to first set
    Bill> options(digits=2), then compute dprime, then do text(), then when
    Bill> done reset options(digits=10)?

    Bill> Thanks very much for any help.

And then Bill posted

    Bill> Sorry, I found the answer: 
    Bill> 	text(-.62,.37,round(max(dprime), digits=1))

which can still be improved especially when you write functions to be
re-used with different numbers..

My answer is:  Instead of round(.), use  

    formatC(...  ,  digits = ..., width = ... )

It is flexible (via optional arguments),
it is *not* influenced by  options()$digits
*AND* it does the right thing very often, without any extra arguments.

The width argument might be particularly useful both for plotting,
and for cat(.)ing  results out of for/while/... loops
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Thu Jun 10 12:50:28 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 10 Jun 1999 10:50:28 +0000 (GMT)
Subject: [R] limit digits in text()? --> use formatC()
In-Reply-To: <199906100933.LAA01060@sophie.ethz.ch>
Message-ID: <Pine.LNX.3.96.990610105003.7282C-100000@cbe207.gcal.ac.uk>

> My answer is:  Instead of round(.), use  
> 
>     formatC(...  ,  digits = ..., width = ... )
OK, thanks very much.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gonzalez at mppmu.mpg.de  Thu Jun 10 17:12:28 1999
From: gonzalez at mppmu.mpg.de (Jose Carlos Gonzalez)
Date: Thu, 10 Jun 1999 17:12:28 +0200 (MET DST)
Subject: [R] Hi
Message-ID: <Pine.OSF.4.10.9906101659230.26510-100000@hegra9.mppmu.mpg.de>


Hello to everybody,

I just subscribed to this list. I find R a really nice
environment for statistical analysis.

I started to use it some days ago. I use it at home in my Linux
box, but I would like to use it in my institute in my Digital
Alpha (my machine runs OSF1 V4.0). I tried to compile the
distributed source code, without success due to some errors. And
the binary available is in RPM format, which I really cannot
read. Does anybody have a binary distribution in tarred+gzipped
format?

Another question: I'm looking for some R/S routine for
calculating the Lomb-Scargle periodogram of a signal. If this
does not exist I will do it myself, of course, but I wonder if
this is already done.

Thanks a lot,

  J C 
--
027-"Can I eat this green slime?"
	("FAMOUS LAST WORDS", collected by O.Rosenkranz)
====================================================================
   *    J. C. Gonzalez                   
  .     ------------------------------------------------------------  
  .     Max-Planck-Institut fuer Physik        Tel.: +49 89 32354445
   .    (Werner-Heisenberg-Institut)           Fax : +49 89 3226704   
     *  Foehringer Ring, 6          ... . .... . ..... ......... .. 
 .      D-80805 Muenchen  E-mail: gonzalez at mppmu.mpg.de
   .    Deutschland          WWW: hegra1.mppmu.mpg.de:8000/~gonzalez
====================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mim78 at cict.fr  Thu Jun 10 19:12:29 1999
From: mim78 at cict.fr (ROS Mathieu)
Date: Thu, 10 Jun 1999 19:12:29 +0200 (MET)
Subject: [R] Hi
In-Reply-To: <Pine.OSF.4.10.9906101659230.26510-100000@hegra9.mppmu.mpg.de>
Message-ID: <Pine.SGI.3.95.990610190435.17177A-100000@ondine.cict.fr>

carlos,
you can find latest .tgz R distributions at
ftp://ftp.u-aizu.ac.jp/pub/lang/R/CRAN/src/base/
for example -maybe japan is a bit far-(searching "R*.tgz" with filewatcher
at http://filewatcher.org/ will give you an exhaustive list...).

bye,
	Mathieu

 *-----------------------------------------*
 ¦ mathieuros at bigfoot.com                  ¦ 
 ¦ Maitrise d'ingenierie mathematique      ¦
 ¦ UNIVERSITE PAUL SABATIER  TOULOUSE      ¦
 ¦ tel : +33(0)5-62260481                  ¦ 
 *-----------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Fri Jun 11 06:55:10 1999
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Fri, 11 Jun 1999 14:55:10 +1000 (EST)
Subject: [R] Segmentation fault (Debian slink+libc6 2.1)
Message-ID: <Pine.LNX.4.10.9906111446200.4213-100000@solzhenitsyn.ens.gu.edu.au>

Hi,
   I've just upgraded my debian machine to the 2.1 libc6 libraries, and I
started getting segmentation faults with R.  I tried re-compiling and got
the same problem.  I checked with the dependencies for the binary package,
and I have all the required libraries.

Any ideas?

Thanks,
Robert.
----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/

		

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 11 16:18:56 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 1999 16:18:56 +0200
Subject: [R] Segmentation fault (Debian slink+libc6 2.1)
In-Reply-To: Robert.King@mailbox.gu.edu.au's message of "Fri, 11 Jun 1999 14:55:10 +1000 (EST)"
References: <Pine.LNX.4.10.9906111446200.4213-100000@solzhenitsyn.ens.gu.edu.au>
Message-ID: <x2so7yakhb.fsf@blueberry.kubism.ku.dk>

Robert.King at mailbox.gu.edu.au writes:

> Hi,
>    I've just upgraded my debian machine to the 2.1 libc6 libraries, and I
> started getting segmentation faults with R.  I tried re-compiling and got
> the same problem.  I checked with the dependencies for the binary package,
> and I have all the required libraries.
> 
> Any ideas?

We had a similar report just a few days ago re. an upgrade of RedHat
5.1. What I'd suspect is that you're missing an upgrade of some tools
that go with libc2.1. (Compiler? binutils?)

If you're in an investigative mood, try running under the debugger
(bin/R -d gdb  from your build directory) and see exactly where it is
crashing. 

Systems that are designed with libc2.1 (RH6.0, Debian toy-of-the-day)
don't seem to have this problem.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Fri Jun 11 06:16:19 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Fri, 11 Jun 1999 06:16:19
Subject: [R] References
Message-ID: <3.0.5.16.19990611061619.2677de66@deimos.tc.uaslp.mx>

I am rewriting my laboratory guide for introductory biostatistics en R en
Spanish. How should I cite

1. the FAQ
2. the diferent help pages
3. Notes on R : A Programming Environment for Data Analysis and Graphics

Thank you very much.

Peter B.  

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From masao at nf.enveng.titech.ac.jp  Sat Jun 12 09:03:08 1999
From: masao at nf.enveng.titech.ac.jp (UEBAYASHI Masao)
Date: Sat, 12 Jun 1999 16:03:08 +0900
Subject: [R] Re: ``R Links'' Collection on CRAN
In-Reply-To: Your message of "Sat, 12 Jun 1999 01:33:29 +0200 (CEST)"
	<14177.40137.381644.928820@galadriel.ci.tuwien.ac.at>
References: <14177.40137.381644.928820@galadriel.ci.tuwien.ac.at>
Message-ID: <19990612160308H.masao@nf.enveng.titech.ac.jp>

> on suggestion by Robert Gentleman we want to add a
> 
> 	``Other R-related sites''
> 
> collection of links to CRAN, where we give pointers to non-CRAN sites
> that might be of interest to R users. E.g., this could be pages in
> some language other than English supporting the respective user
> community or ...

R is terribly unsearchable in the WWW.

Masao
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Jun 12 20:01:45 1999
From: rdiazuri at students.wisc.edu (ramon diaz-uriarte)
Date: Sat, 12 Jun 1999 13:01:45 -0500
Subject: [R] Random numbers
Message-ID: <3.0.2.32.19990612130145.00709ef4@students.wisc.edu>

Hi,

I have a few questions about the RNG in R; apologies if these are dumb
questions:

1. It is my understanding that, among the three types of random number
generators available in R now, the best one is the Marsaglia Multicarry. Is
this correct?  

2. How does the best RNG in R compare (in terms of quality) to the RNG in
SPlus? (based on Marsaglia's Super Duper)?  Does the Super-Duper in SPlus
pass the MTUPLE test?

3. When running simulations in R, why would I want to use any RNG that is
not the Marsaglia-Multicarry? 

Thanks,

Ramon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris at gfm-mbh.de  Sat Jun 12 20:18:23 1999
From: chris at gfm-mbh.de (Christoph M. Friedrich)
Date: Sat, 12 Jun 1999 20:18:23 +0200
Subject: [R] R does not compile if make is not gmake
Message-ID: <3762A46F.32730930@gfm-mbh.de>

Hi,
if make and gmake are different on any machine (for example Solaris with
gnu make as gmake), then compiling fails with gmake. 

A small transcript follows. If i make a link from gmake to make as under
linux, then it works.
This problem exists in all versions of R.

g77 -O2 -fPIC -c sslvrg.f -o sslvrg.o
g77 -O2 -fPIC -c stxwx.f -o stxwx.o
../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o
ksmooth.o loessc.o loessf.o ppr.o qsbart.o sbart.o sgram.o sinerp.o
sslvrg.o stxwx.o
Usage : make [ -f makefile ][ -K statefile ]... [ -d ][ -dd ][ -D ][ -DD
]
             [ -e ][ -i ][ -k ][ -n ][ -p ][ -P ][ -q ][ -r ][ -s ][ -S
][ -t ]
             [ -V ][ target... ][ macro=value... ]
make: Fatal error: Unknown option `-w'
gmake[4]: *** [modreg.so] Error 1
gmake[4]: Leaving directory
`/home/aal/chris/software/R-devel/src/library/modreg/src'


Thanks
  Chris
-- 
Christoph M. Friedrich        | mailto:friedrich at computer.org 
Gesellschaft f?r Modulfermenterbau mbH (GfM mbH) |
http://www.tussy.uni-wh.de/~chris
Alfred-Herrhausen Str. 44 ; D-58455 Witten, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Jun 13 17:09:56 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 13 Jun 1999 17:09:56 +0200 (CEST)
Subject: [R] R does not compile if make is not gmake
In-Reply-To: <3762A46F.32730930@gfm-mbh.de>
References: <3762A46F.32730930@gfm-mbh.de>
Message-ID: <14179.51652.955498.317677@aragorn.ci.tuwien.ac.at>

>>>>> Christoph M Friedrich writes:

> Hi,
> if make and gmake are different on any machine (for example Solaris with
> gnu make as gmake), then compiling fails with gmake. 

> A small transcript follows. If i make a link from gmake to make as under
> linux, then it works.
> This problem exists in all versions of R.

> g77 -O2 -fPIC -c sslvrg.f -o sslvrg.o
> g77 -O2 -fPIC -c stxwx.f -o stxwx.o
> ../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o
> ksmooth.o loessc.o loessf.o ppr.o qsbart.o sbart.o sgram.o sinerp.o
> sslvrg.o stxwx.o
> Usage : make [ -f makefile ][ -K statefile ]... [ -d ][ -dd ][ -D ][ -DD
> ]
>              [ -e ][ -i ][ -k ][ -n ][ -p ][ -P ][ -q ][ -r ][ -s ][ -S
> ][ -t ]
>              [ -V ][ target... ][ macro=value... ]
> make: Fatal error: Unknown option `-w'
> gmake[4]: *** [modreg.so] Error 1
> gmake[4]: Leaving directory
> `/home/aal/chris/software/R-devel/src/library/modreg/src'

Where does the `-w' come from?  Maybe from `etc/Makeconf'?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Mon Jun 14 08:20:32 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Mon, 14 Jun 1999 08:20:32 +0200 (MET DST)
Subject: [R] Re: ``R Links'' Collection on CRAN
In-Reply-To: <14177.40137.381644.928820@galadriel.ci.tuwien.ac.at> from "Friedrich Leisch" at Jun 12, 99 01:33:29 am
Message-ID: <199906140620.IAA28653@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1124 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990614/271b26a2/attachment.pl

From hothorn at amadeus.statistik.uni-dortmund.de  Mon Jun 14 17:37:14 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Mon, 14 Jun 1999 17:37:14 +0200 (MET DST)
Subject: [R] Hotellings T^2
Message-ID: <Pine.GSO.4.05.9906141734240.25985-100000@atlas>


Sorry if this is a stupid question, but:

Is there a routine in R which calculates the Hotellings-Lawley statistic?
I searched aov, summary.mlm, CRAN etc. but could not find it.

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Tue Jun 15 13:24:49 1999
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Tue, 15 Jun 1999 12:24:49 +0100 (BST)
Subject: [R] r help archives
Message-ID: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>


Where are the archives of r-help kept, please?

Jonathan


-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330371
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jun 15 13:43:56 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 15 Jun 1999 13:43:56 +0200 (CEST)
Subject: [R] r help archives
In-Reply-To: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>
References: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>
Message-ID: <14182.15484.112526.339612@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 15 Jun 1999 12:24:49 +0100 (BST),
>>>>> Jonathan Myles (JM) wrote:

JM> Where are the archives of r-help kept, please?

plain text archives can be found at every CRAN mirror (under the
mailing lists link in the Miscellaenous section).

	http://www.ci.tuwien.ac.at/R

the searchable archives are linked from there.

hope
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Jun 15 15:41:01 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 15 Jun 1999 14:41:01 +0100
Subject: [R] r help archives
In-Reply-To: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>; from Jonathan Myles on Tue, Jun 15, 1999 at 12:24:49PM +0100
References: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>
Message-ID: <19990615144101.11214@hal.stat.unipd.it>

On Tue, Jun 15, 1999 at 12:24:49PM +0100, Jonathan Myles wrote:
> 
> Where are the archives of r-help kept, please?
> 
> Jonathan
> 

  Try http://www.ens.gu.edu.au/robertk/R/
  or from a CRAN mirror (master at http://www.ci.tuwien.ac.at/R)
  follows the link Miscellaneous | R mailing lists | Searchable archives.

  Maybe, you would also like to check the R bugs archive at
  http://r-bugs.biostat.ku.dk/R.

  g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Tue Jun 15 15:00:58 1999
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Tue, 15 Jun 1999 15:00:58 +0200
Subject: [R] r help archives
References: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk>
Message-ID: <37664E8A.763D6B0B@epfl.ch>

Jonathan Myles wrote:

> Where are the archives of r-help kept, please?

The R mailing lists archive can be found at:

   http://www.ens.gu.edu.au/robertk/R/

:-)

  Diego Kuonen


--
------------------------------------------------------
Diego Kuonen
DMA - Ecublens, EPFL, 1015 Lausanne, Switzerland
Phone    :  + 41 (0)21 693 5508
Fax      :  + 41 (0)21 693 4250
E-mail   :  mailto:Diego.Kuonen at epfl.ch
Homepage :  http://statwww.epfl.ch/people/kuonen
------------------------------------------------------
  _                                                 _
 -o)     "Linux - Ready For 2000 By Nature !"      -o)
 /\\                                               /\\
_\_v             "Penguins DO fly !"              _\_v

------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jordan.howarth at cmis.csiro.au  Wed Jun 16 00:31:48 1999
From: jordan.howarth at cmis.csiro.au (Jordan Howarth)
Date: Wed, 16 Jun 1999 08:31:48 +1000 (EST)
Subject: [R] ESS and R
Message-ID: <14182.54356.121432.711621@fishhead.tag.csiro.au>

For anybody who uses ESS with R, how do you invoke the vsize and nsize options
when you call R. I can't find any appropriate variables from an apropos.

Thanks,

Jord  

-- 
Jordan Howarth    CSIRO Mathematical and Information Sciences 
mailto:jordan.howarth at cmis.csiro.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rabil at home.com  Wed Jun 16 01:57:39 1999
From: rabil at home.com (Richard A. Bilonick)
Date: Tue, 15 Jun 1999 19:57:39 -0400
Subject: [R] dates
References: <199906151124.MAA00584@genin.mrc-bsu.cam.ac.uk> <19990615144101.11214@hal.stat.unipd.it>
Message-ID: <3766E873.2C767B2D@home.com>

In S-Plus, there is a dates function, for example:

dates("12/31/99")

Is there a similar function in R?

--
Rick Bilonick -  mailto:rab at nauticom.net mailto:rabil at home.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 16 02:42:57 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 15 Jun 1999 17:42:57 -0700 (PDT)
Subject: [R] dates
In-Reply-To: <3766E873.2C767B2D@home.com>
Message-ID: <Pine.GSO.4.10.9906151738350.5897-100000@wompom.biostat.washington.edu>

On Tue, 15 Jun 1999, Richard A. Bilonick wrote:

> In S-Plus, there is a dates function, for example:
> 
> dates("12/31/99")
> 
> Is there a similar function in R?

Try the chron or date packages.
eg

R> library(date)
R> as.date("12/31/99")
[1] 31Dec99
R> as.numeric(.Last.value) 
[1] 14609  #days since 1/1/1960
R> as.date("1/1/2000") -as.date("12/31/99")
[1] 1



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Wed Jun 16 04:03:02 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 15 Jun 1999 19:03:02 -0700
Subject: [R] ESS and R
In-Reply-To: Jordan Howarth's message of "Wed, 16 Jun 1999 08:31:48 +1000 (EST)"
References: <14182.54356.121432.711621@fishhead.tag.csiro.au>
Message-ID: <87r9nclx61.fsf@alpha.cfas.washington.edu>


>>>>> "JH" == Jordan Howarth <jordan.howarth at cmis.csiro.au> writes:

    JH> For anybody who uses ESS with R, how do you invoke the vsize
    JH> and nsize options when you call R. I can't find any
    JH> appropriate variables from an apropos.

You might consider asking on the ESS news group,
ess-help at stat.math.ethz.ch, but it would be:
	C-u M-x R
and you'll get a prompt for the commands :-).

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research	UW Biostatistics     
206-720-4282 (4209=fax)		206-543-1044 (xxxx=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bond at graylab.ac.uk  Wed Jun 16 10:47:28 1999
From: bond at graylab.ac.uk (Simon  Bond)
Date: Wed, 16 Jun 1999 09:47:28 +0100
Subject: [R] creating help files
Message-ID: <3.0.6.32.19990616094728.007bea20@graylab.ac.uk>

Dear R-help,

I'm trying to create a help file for a data set. The existing help files
tell me I should use the prompt(data.set) command which creates an editable
file, and then move the file to the appropriate directory. This is the output


> prompt(charac)
created file named  charac.Rd  in the current directory.
  Edit the file and move it to the appropriate directory,
 D:\rw0640/src/library/<pkg>/man/
>


The problem is that D:\rw0640 doesn't have a subdirectory named src. Am I
missing something implied by the forward instead of back slashes? I am
using R 64.0 on windows NT, which I set up using binaries as opposed to
building from source.

On a completely different matter, I have a colleague who is new to R/S/S+
but would like to use R. He would like to attend an introductory course,
preferably in the UK. Where should he look to find such courses?

Any help is gratefully received.

Simon Bond.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 16 12:13:18 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jun 1999 11:13:18 +0100 (BST)
Subject: [R] creating help files
Message-ID: <199906161013.LAA24588@toucan.stats.ox.ac.uk>

> Date: Wed, 16 Jun 1999 09:47:28 +0100
> From: "Simon  Bond" <bond at graylab.ac.uk>
> 
> I'm trying to create a help file for a data set. The existing help files
> tell me I should use the prompt(data.set) command which creates an editable
> file, and then move the file to the appropriate directory. This is the output
> 
> 
> > prompt(charac)
> created file named  charac.Rd  in the current directory.
>   Edit the file and move it to the appropriate directory,
>  D:\rw0640/src/library/<pkg>/man/
> >
> 
> 
> The problem is that D:\rw0640 doesn't have a subdirectory named src. Am I
> missing something implied by the forward instead of back slashes? I am
> using R 64.0 on windows NT, which I set up using binaries as opposed to
> building from source.

You do have to do this from source (under Windows, the rw06xxsp.zip
suffices).  The only (simple) way you can add help for your own 
function/datasets in R is to add them as a library, and a library is
intended to be installed from source.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Jun 16 15:11:08 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 16 Jun 1999 15:11:08 +0200 (MET DST)
Subject: [R] models and formulae
Message-ID: <199906161311.PAA06371@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 695 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990616/9c3756f8/attachment.pl

From ripley at stats.ox.ac.uk  Wed Jun 16 15:59:47 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jun 1999 14:59:47 +0100 (BST)
Subject: [R] R: question about vectors + for loop
Message-ID: <199906161359.OAA25142@toucan.stats.ox.ac.uk>


> X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to 
owner-r-help at stat.math.ethz.ch using -f
> Date: Sat, 5 Jun 1999 19:51:57 +0100
> From: Guido Masarotto <guido at hal.stat.unipd.it>
> To: Maria Wolters <wolters at ikp.uni-bonn.de>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] R: question about vectors + for loop
> 
> On Sat, Jun 05, 1999 at 04:14:11PM +0200, Maria Wolters wrote:
> > a) is there a straightforward way of saying
> >   for all factors f in a data frame {
> >       any old function, e.g. max(f)
> >   }
> 
>   I am not sure to understand completly the question. Anyway, if
>   d is a data.frame, you can extract the factors in d using something
>   like
>   > d.only.factor <- d[,unlist(lapply(d,is.factor))]
>   Then, you can use lapply again to apply a 'old function' to the
>   columns of d.only.factor. However, keep in mind that max, sum and
>   like are considered not meaningful for factor. So, if you really
>   insist in computing the max of the d.only.factor columns 
>   (assuming that this make sense) you should use something like
>   > lapply(d.only.factor, function(x) max(as.numeric(x)))
> 
>   If this sounds cryptic, look to the manual pages (e.g., ?lapply,
>   ?unlist,...) and perhaps to some of the  suggested reading 
>   listed in the FAQ (the recommended one is
>   W. N. Venables and B. D. Ripley (1997), 
>   "Modern Applied Statistics with S-PLUS. Second Edition".
>   Springer, ISBN 0-387-98214-0
>   Third edition is forthcoming (Brian Ripley can be more precise)
>   so my suggestion is to get a copy from a library, not from a book
>   shop) 
>
Due in early August, but the main differences relate to new versions of
S-PLUS. See

http://www.stats.ox.ac.uk/pub/MASS3

for details


> > b) how can you construct a new data frame d' from 
> >    a given data frame d which contains only rows
> >    with [X=="A"] (x is a factor of d)?
> >    I know there's an obvious way, but with 50+ columns,
> >    that's a wee bit tedious :)
> 
>    d.XequaltoA <- d[d$X=="A",]
>    should do the work. Easy, isn't it?
> 
>  
> > c) could it be possible that there's a bug in the implementation of 
> >     the Kolmogorov-Smirnov test? 
> 
>   I suspect that you must try to be more specific (and maybe,
>   fill a bug report (?bug.report))
> 
>   Hoping this can help.
> 
>   guido
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 16 16:04:16 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jun 1999 15:04:16 +0100 (BST)
Subject: [R] RE: Venables & Ripley 3rd edition
Message-ID: <199906161404.PAA25175@toucan.stats.ox.ac.uk>

I have in my inbox a note saying books are expected in early August.
However, for R users there is relatively little advantage in the third
edition, except that almost everything works unchanged. The real advantages
of the third edition are for users of S-PLUS 5.x and 4.5/2000.

> From: Marc R. Feldesman
> To: guido at hal.stat.unipd.it; 'Guido Masarotto '; 'Maria Wolters '
> Cc: 'r-help at stat.math.ethz.ch '
> Sent: 6/6/99 9:29 AM
> Subject: RE: [R] R: question about vectors + for loop
> 
> FWIW.  Amazon.com is accepting orders, but after having placed an order
> last week, I received a note from Amazon.com (today, 6/5/99) telling me
> that the order was cancelled because they have no estimated delivery
> date
> from the publisher.
> 
> At 06:48 AM 6/6/1999 +1000, Venables, Bill (CMIS, Cleveland) wrote:
> >(This is actually about something that arose in Guido's
> >reply.)
> > 
> >
> >-----Original Message-----
> >  ...and perhaps to some of the  suggested reading 
> >  listed in the FAQ (the recommended one is
> >  W. N. Venables and B. D. Ripley (1997), 
> >  "Modern Applied Statistics with S-PLUS. 
> >  Second Edition".  Springer, ISBN 0-387-98214-0
> >  Third edition is forthcoming (Brian Ripley can be 
> >  more precise) so my suggestion is to get a copy 
> >  from a library, not from a book shop) 
> >
> >That's a very kind recommendation and thanks.  
> >
> >Actually I doubt Brian Ripley, Bill Venables or even 
> >Julius Springer himself can be more precise at this 
> >stage.  There was a very minor late change (at 
> >Springer's request, so it had nothing to do with
> >content, only form) which has probably set back the
> >production process by a short time.  If it comes out
> >in June it will be in late June and I think July is
> >now more likely.  Amazon.com still has June 1999 as
> >the date, though, and are accepting orders.
> >
> >Bill Venables.
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> .-.-
> >r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> ._._
> 
> 
> Dr. Marc R. Feldesman
> email:  feldesmanm at pdx.edu
> email:  feldesman at ibm.net
> fax:    503-725-3905
> 
> "Math is hard.  Let's go to the mall"  Barbie
> 
> Powered by:  Monstrochoerus - the 300 MHz Pentium II
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wagman at enteract.com  Wed Jun 16 22:30:29 1999
From: wagman at enteract.com (Barnet Wagman)
Date: Wed, 16 Jun 1999 20:30:29 +0000
Subject: [R] ESS and R
References: <14182.54356.121432.711621@fishhead.tag.csiro.au>
Message-ID: <37680965.D4DCABAA@enteract.com>

With a pair of lines in your .emacs file such as

     (defalias 'essr (read-kbd-macro

     "C-u M-x R RET - - vsize SPC 100M SPC - - nsize SPC 600000 2*RET"))

you can invoke ESS/R from emacs by typing

     C-u M-x essr

with vsize set to (for example) 100M, and nsize set to 600000.

Jordan Howarth wrote:

> For anybody who uses ESS with R, how do you invoke the vsize and nsize options
> when you call R. I can't find any appropriate variables from an apropos.
>
> Thanks,
>
> Jord
>
> --
> Jordan Howarth    CSIRO Mathematical and Information Sciences
> mailto:jordan.howarth at cmis.csiro.au
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-------------------
Barnet Wagman

wagman at enteract.com
773-645-8369

1361 N. Hoyne
Chicago, IL 60622
--------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Fri Jun 18 13:03:05 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 18 Jun 1999 12:03:05 +0100
Subject: [R] R INSTALL -l
Message-ID: <dgkiu8lu5xy.fsf@scs2.ncl.ac.uk>

The FAQ says in 

[5.2 How can add-on packages be installed?]

to install a package to a private tree, use

[$ R INSTALL -l lib pkgdir_1 ... pkgdir_n]

where lib gives the path to the library tree to install to. 

which, for me, returns

Package '-l' does not exist. Has there been a change?

Thank you
Ross
-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~.
|Ross Darnell                      | Phone: +44 (0) 191 222 5374     |
|Statistical Consultancy Service   | Fax:   +44 (0) 191 222 8020     |
|Dept of Statistics                |                                 |
|University of Newcastle upon Tyne | Email: r.e.darnell at ncl.ac.uk    |
|Newcastle upon Tyne               | WWW:   www.mas.ncl.ac.uk/~nred/ |
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Fri Jun 18 15:49:08 1999
From: rdiazuri at students.wisc.edu (ramon diaz-uriarte)
Date: Fri, 18 Jun 1999 08:49:08 -0500
Subject: [R] "clock skew" when building libraries
Message-ID: <99061809022304.00666@ligarto.serpiente>

Hi,

I am new to Linux. I recently installed R (0.64.1 using rpm for Red Hat 6.0);
then I installed several libraries.  When following the steps in VR complements
to R, everything worked fine but I got the following messages (this happened
for every single one of the libraries installed):

make: *** Warning: File /usr/lib/R/etc/Makeconf' has modification time in the
future (938981789>929390309)

make: *** Warning: Clock skew detected. Your build may be incomplete

Files in the etc, bin, afm, and doc directories have date of 3-Oct-1999.
However, the directories themselves have the right date (7-June-1999). What
have I done wrong? Should I worry or do something?  Note that the libraries
(lme, survival5, MASS,integrate) seem to be working OK.

Thanks,

Ramon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 18 16:52:28 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 1999 16:52:28 +0200
Subject: [R] "clock skew" when building libraries
In-Reply-To: ramon diaz-uriarte's message of "Fri, 18 Jun 1999 08:49:08 -0500"
References: <99061809022304.00666@ligarto.serpiente>
Message-ID: <x27lp15zo3.fsf@blueberry.kubism.ku.dk>

ramon diaz-uriarte <rdiazuri at students.wisc.edu> writes:

> make: *** Warning: File /usr/lib/R/etc/Makeconf' has modification time in the
> future (938981789>929390309)
> 
> make: *** Warning: Clock skew detected. Your build may be incomplete
> 
> Files in the etc, bin, afm, and doc directories have date of 3-Oct-1999.
> However, the directories themselves have the right date (7-June-1999). What
> have I done wrong? Should I worry or do something?  Note that the libraries
> (lme, survival5, MASS,integrate) seem to be working OK.

Just wait until Oct 4 and everything will clear up....

No, seriously:

I don't think there's reason to worry, and Martyn Plummer can probably
explain how this has happened. (I think it originates in the .rpm
file. Quite possibly, he forgot to set the clock on his new RedHat6.0
machine...)

To fix (as root) it should suffice to do 

touch /usr/lib/R/etc/Makeconf

- or maybe

find /usr/lib/R -type f | xargs touch

(The former changes the date of a specific file to "now", the later
does it to all files under /usr/lib/R)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Fri Jun 18 18:24:22 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Fri, 18 Jun 1999 17:24:22 +0100 (BST)
Subject: [R] Threat to open source software users ... 
Message-ID: <Pine.LNX.3.95.990618171239.23542C-100000@mercury.quantex>

Dear R users etc

As a substantial contribution to the OSS movement, R authors, developers
and users will be keenly aware of the benefits R brings to the statistical
community - and indeed the original S language itself.

It is therefore very worrying to see the EU is thinking of /being
pressurised into following the anti-competitive US patents type law.  This
would affect R (particularly as a number of R contributors are EU-based). 
It could also affect all other OSS unless software algorithms were
specifically excluded. 

It is clearly not enough to exclude algorithms already published, in
theses or books etc.  It is entirely possible for many people to come up
with essentially the same algorithm but the one with the sharpest lawyers
could demand a licence fee from all the others.  What is the difference
between this and mathematical theorems?  No one patents theorems - they
are expected to acknowledge the authors by citation to avoid charges of
plagiariasm.  But what are many software algorithms if not implementations
of mathematical theorems?

This will stop software development in the EU - people in the US are
already saying it has affected development and concentrated the software
in the hands of a few already powerful companies with the aforesaid sharp
lawyers. 

There is a meeting this next week in Paris. 

Please read and, assuming you agree, sign the petition
http://swpat.ffii.org/miert.  There are various language versions
available. 

It looks serious.

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celiag at sfsu.edu  Fri Jun 18 22:11:41 1999
From: celiag at sfsu.edu (Celia Graterol)
Date: Fri, 18 Jun 1999 12:11:41 -0800
Subject: [R] using R
Message-ID: <376AA7FA.44EA@sfsu.edu>

I installed R in my macintosh.  Working fine.  However it does not
recognize the command for set c(1,2,5)  and it does not recognize the
function mean.

How can I do set operations and the mean?

Thanks!

Celia Graterol
San Francisco State University
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jun 18 21:30:53 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 19 Jun 1999 07:30:53 +1200 (NZST)
Subject: [R] using R
In-Reply-To: <376AA7FA.44EA@sfsu.edu>
Message-ID: <Pine.GSO.4.10.9906190722290.6652-100000@stat1.stat.auckland.ac.nz>


On Fri, 18 Jun 1999, Celia Graterol wrote:

> I installed R in my macintosh.  Working fine.  However it does not
> recognize the command for set c(1,2,5)  and it does not recognize the
> function mean.
> 
> How can I do set operations and the mean?

It sounds like this is the old neglected 68k mac verion of R. You need to
start it by clicking on the document, rather than the application (I.e.
the square icon, rather than the diamond one).

There is a somewhat newer PowerPC version (which is not very tested).
Fetch on of the files:
	ftp://stat.auckland.ac.nz/pub/ihaka/MacR-0.64a-BigDist.sea.Hqx
or
	ftp://stat.auckland.ac.nz/pub/ihaka/MacR-0.64a-SmallDist.sea.Hqx
If you have limited disk space (say < 100Mb) use the "small version"
which has the help files stripped out).

These are by no means as actively supported as the other R versions.

	Ross


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjthaden at flash.net  Fri Jun 18 23:21:05 1999
From: jjthaden at flash.net (John Thaden)
Date: Fri, 18 Jun 1999 16:21:05 -0500
Subject: [R] Stepwise model selection question
Message-ID: <3.0.3.32.19990618162105.006e59f0@pop.flash.net>

     I use the step() function occasionally, and I think I understand its
objective, proper use, and limitations.  Now I see stepwise model selection
being used in what seems to be an unusual way, and I wonder if it is right
or wrong.  May I describe?

     Genetic mapping tries to find where in an animal's genome are genetic
elements that influence a particular physical trait.  Say there are 100
individuals derived from a cross between two parental strains, and for each
individual, we know which parent contributed each of 40 different locations
on the genome (mapping markers), and we have measured the trait.  The
markers are then binary predictors, the trait is the outcome.
     First, we could do 'single-marker analysis'.  We'd make simple F-tests
for the trait and each marker, separately, and rank markers by F-values.  A
high value suggests the mapping marker lies near a genetic element
affecting the trait. 
     As a second analysis, we could use a method called interval mapping.
It uses the same data to  "scan" the genome, including regions between
mapping markers, and produces plots with likelihood ratios or LOD scores on
the y-axis, and position along the genome on the x.  (It relies on mixture
regression models, since the parental contribution is unknown between
markers).
     As a third analysis, we could use a refinement called composite
interval mapping.  It includes a few of the 40 mapping markers as
additional cofactors in mixture regression formulae as one scans.  The idea
is to have cofactors to handle genetic elements with large effects while
scanning elsewhere in the genome.  Which markers to include as cofactors is
selected prior to the scanning phase, by stepwise multiple-regression model
selection (occasionally, I'm able to exhaustively compare all possible
models, but usually it is done by forward-backward algorithm).
     I'm OK with this so far.  The use of step() seems fairly standard.
But now here's where I think it gets weird:  There is a compulsion among
geneticists to then treat the results of the stepwise model selection as
yet a fourth analytical tool by which to rank all the mapping markers,
i.e., as further evidence that a marker must be near a genetic element
affecting the trait.  "If it's included in the model, it must be close to a
genetic effector of the trait".  How does this sound to you?  If a stepwise
algorithm ranks possible cofactors--perhaps even assigns them an F
value--can you use that ranking to make any comparisons among possible
cofactors?  What do the F values mean?
************************************************************
John J. Thaden, Ph.D., Instructor        jjthaden at life.uams.edu
Department of Geriatrics                     (501) 257-5583
University of Arkansas for Medical Sciences  FAX: (501) 257-4822
      mail & ship to:	J. L. McClellan V.A. Medical Center
		Research-151 (Room GB103 or GC124)
		4300 West 7th Street
		Little Rock AR 72205 USA
***********************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 20 09:46:55 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 20 Jun 1999 08:46:55 +0100 (BST)
Subject: [R] Stepwise model selection question
In-Reply-To: <3.0.3.32.19990618162105.006e59f0@pop.flash.net>
Message-ID: <Pine.GSO.4.05.9906200839510.28760-100000@auk.stats>

On Fri, 18 Jun 1999, John Thaden wrote:

>      I use the step() function occasionally, and I think I understand its
> objective, proper use, and limitations.  Now I see stepwise model selection
> being used in what seems to be an unusual way, and I wonder if it is right
> or wrong.  May I describe?

[Description snipped.]

step() does not do `stepwise model selection' by F-tests as you describe.
The title of its help page is

Choose a model by AIC in a Stepwise Algorithm

>      I'm OK with this so far.  The use of step() seems fairly standard.
> But now here's where I think it gets weird:  There is a compulsion among
> geneticists to then treat the results of the stepwise model selection as
> yet a fourth analytical tool by which to rank all the mapping markers,
> i.e., as further evidence that a marker must be near a genetic element
> affecting the trait.  "If it's included in the model, it must be close to a
> genetic effector of the trait".  How does this sound to you?  If a stepwise
> algorithm ranks possible cofactors--perhaps even assigns them an F
> value--can you use that ranking to make any comparisons among possible
> cofactors?  What do the F values mean?

Being in the model is never an indication of causality, but it is an 
indication of association. The step from association to `close' is a 
genetic hypothesis.  As step() does not give F-values, I will not
comment on the rest.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Jun 20 16:00:00 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 20 Jun 1999 16:00:00 +0200 (CEST)
Subject: [R] R INSTALL -l
In-Reply-To: <dgkiu8lu5xy.fsf@scs2.ncl.ac.uk>
References: <dgkiu8lu5xy.fsf@scs2.ncl.ac.uk>
Message-ID: <14188.62432.713273.302078@aragorn.ci.tuwien.ac.at>

>>>>> R E Darnell writes:

> The FAQ says in 
> [5.2 How can add-on packages be installed?]

> to install a package to a private tree, use

> [$ R INSTALL -l lib pkgdir_1 ... pkgdir_n]

> where lib gives the path to the library tree to install to. 

> which, for me, returns

> Package '-l' does not exist. Has there been a change?

Seems to work fine for me.  Can you give more details?  Which version is
this?  Which platform?  What exactly did you type at the shell prompt?

-kh
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Tue Jun 22 01:37:49 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Mon, 21 Jun 1999 19:37:49 -0400
Subject: [R] measure displayed size of a character string
Message-ID: <NABBLIOAJNIMENKGLDDGAEAICNAA.twestley@buffalo.veridian.com>

Is there a way to measure the length of a character string as
text() or mtext() would display it?  Not in characters, but in
inches or user coordinates.

I'm displaying a hierarchical list in the left margin.  I'd like
to determine the length of the labels so that I can resize the
plot so the labels don't spill over into the plot area.

Like this:
                    +------------------
   Earth            |
    |               |
    +-Africa        |
    |   |           |
    |   +-Nigeria   |
    |               |
    +-Europe        |
        |           |
        +-France    |
                    +------------------
--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
twestley at buffalo.veridian.com   http://www.veridian.com/
-------------------------------------------------------
Author of TASH, an Ada binding to Tcl/Tk.
Visit the TASH web site at http://tash.calspan.com.
-------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Tue Jun 22 09:52:11 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Tue, 22 Jun 1999 08:52:11 +0100
Subject: [R] measure displayed size of a character string
Message-ID: <002c01bebc84$235db000$54566f83@capc03t.medlan.cam.ac.uk>

hi

>Is there a way to measure the length of a character string as
>text() or mtext() would display it?  Not in characters, but in
>inches or user coordinates.


hopefully strwidth() and strheight() will do what you want

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Tue Jun 22 12:18:49 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Tue, 22 Jun 1999 10:18:49 +0000 (GMT)
Subject: [R] vector math problem
Message-ID: <Pine.LNX.3.96.990622101525.8266A-100000@cbe207.gcal.ac.uk>

I am trying to get a persp plot of a surface that is a function of v0 and
v1.

The surface height at (v0,v1) is
sqrt(sum((s1[i][j]-s0[i][j])^2))
where
s1[i][j] = a*sin(2*pi*freq*x[i]+v1*y[j])
s0[i][j] = a*sin(2*pi*freq*x[i]+v0*y[j])

I am having a hard time with the vector multiplication. This is what I
have so far:

v0 <- seq(-7,7,1)*.1
v1 <- v0
x <- seq(0,2*pi,.1)
y <- x
f <- function(v0,v1)
	{
	a<-2
	freq<-1
	s1<-a*sin(2*pi*freq*x+v1*y) ##wrong
	s0<-a*sin(2*pi*freq*x+v0*y) ##wrong
	sqrt(sum((s1-s0)^2))
	}
z <- outer(v0,v1,f)
z[is.na(z)] <- 1
persp(v0, v1, z, theta=30, phi=30)

The lines marked ##wrong are wrong because the dimensions of x[] and y[]
are not necessarily the same. In C one would do

for(v0=v0min;v0<v0max;v0+=v0inc)
for(v1=v1min;v1<v1max;v1+=v1inc)
{
sumsq=0;
for(i=0;i<nx;i++)
	for(j=0;j<ny;j++)
		{
		s1[i][j]=a*sin(2*pi*freq*x[i]+v1*y[j]);
	        s0[i][j]=a*sin(2*pi*freq*x[i]+v0*y[j]);
		sumsq+=(s1[i][j]-s0[i][j])*(s1[i][j]-s0[i][j]);
		}
m++; n++;
output[m][n]=sqrt(sumsq);
}

How to do this in R?
Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celiag at sfsu.edu  Tue Jun 22 19:37:08 1999
From: celiag at sfsu.edu (Celia Graterol)
Date: Tue, 22 Jun 1999 10:37:08 -0700 (PDT)
Subject: [R] using R
In-Reply-To: <Pine.GSO.4.10.9906190722290.6652-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.3.96.990622103432.20370B-100000@apollo.sfsu.edu>

Thank you so much Ross!  I downloaded the new R version and is working
fine including mean and removing variables.  I am taking a biostatistic
course so we will be using several features of R and also S-Plus.  I will
let you know if we encounter other problems.

Thanks again!

Celia Graterol

On Sat, 19 Jun 1999, Ross Ihaka wrote:

> 
> On Fri, 18 Jun 1999, Celia Graterol wrote:
> 
> > I installed R in my macintosh.  Working fine.  However it does not
> > recognize the command for set c(1,2,5)  and it does not recognize the
> > function mean.
> > 
> > How can I do set operations and the mean?
> 
> It sounds like this is the old neglected 68k mac verion of R. You need to
> start it by clicking on the document, rather than the application (I.e.
> the square icon, rather than the diamond one).
> 
> There is a somewhat newer PowerPC version (which is not very tested).
> Fetch on of the files:
> 	ftp://stat.auckland.ac.nz/pub/ihaka/MacR-0.64a-BigDist.sea.Hqx
> or
> 	ftp://stat.auckland.ac.nz/pub/ihaka/MacR-0.64a-SmallDist.sea.Hqx
> If you have limited disk space (say < 100Mb) use the "small version"
> which has the help files stripped out).
> 
> These are by no means as actively supported as the other R versions.
> 
> 	Ross
> 
> 
> 

_________________________________________________________

Celia Graterol 
Education Director Bay Area Homelessness Program
Associate Director Community Collaborators Project
BAHP/CHHS
San Francisco State University
1600 Holloway Avenue
San Francisco, CA 94132	
Tel 415-338-1949 Fax 415-338-0561 Email:celiag at sfsu.edu
Website: http://thecity.sfsu.edu/~bahp/	
_________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 23 10:02:07 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 23 Jun 1999 10:02:07 +0200
Subject: [R] coercing factors to matrix() --> num/char ? -- inconsistencies|?
Message-ID: <199906230802.KAA19137@sophie.ethz.ch>

The old factor() wars......
    {{maybe don't just report that factor()s are broken by design..}}

If ff is a factor, e.g.,
    ff <- as.factor(rep(1:2,3))
    f2 <- ff; levels(f2) <- c("Lo","Hi")

1) we don't allow {in R as in S-plus 3.x} arithmetic on factors, i.e.
     1 + ff
  gives an error, and I think most of us believe this is as desired.
  {{if one really wants the factor codes, use   codes(ff) ...}}.
  [BTW: S-plus 5.0r3 doesn't give an error anymore but silently returns NA,
	i.e.,  rep(NA,6) for the above example
  ]

2) On the other hand, it seems that implicit coercion to character()
   is rather ok, such as

   > paste("A", f2)

   [1] "A Lo" "A Hi" "A Lo" "A Hi" "A Lo" "A Hi"

--------

>From this logic, coercing to a matrix should coerce to character rather
than integer/numeric codes.
However, 

A: both R and S-plus 3.4  give an INTEGER matrix (with codes(.)) for

	rbind(ff)
	cbind(f2)

B: R gives an integer matrix  but S-plus a character one for

     matrix(ff)
or
     matrix(f2)

-------
So far the current behavior which I don't like.
I believe all matrix coercions should return mode "character" objects
for consistency with other coercion behavior of factors.

S(-plus) seems particularly inconsistent in doing different coercions
for cbind() and matrix().

Opinions ?   Proposals ?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 23 12:17:02 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 1999 12:17:02 +0200
Subject: [R] coercing factors to matrix() --> num/char ? -- inconsistencies|?
In-Reply-To: Martin Maechler's message of "Wed, 23 Jun 1999 10:02:07 +0200"
References: <199906230802.KAA19137@sophie.ethz.ch>
Message-ID: <x2wvwvgr1d.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

[On R-help, not -devel??]

> The old factor() wars......
>     {{maybe don't just report that factor()s are broken by design..}}
...
> 1) we don't allow {in R as in S-plus 3.x} arithmetic on factors, i.e.
>      1 + ff
>   gives an error, and I think most of us believe this is as desired.
>   {{if one really wants the factor codes, use   codes(ff) ...}}.

As.integer(), you mean. Codes() has some "portable brain damage"
associated with it.

We do however have indexing with implicit integer coercion, e.g.

> ff<-factor(1:3,labels=3:1)  
> letters[ff]
[1] "a" "b" "c"

> >From this logic, coercing to a matrix should coerce to character rather
> than integer/numeric codes.

Hm. I'm not sure there really is much logic in this... Factors are
sometimes character-like, sometimes integer-like.

> A: both R and S-plus 3.4  give an INTEGER matrix (with codes(.)) for
> 
> 	rbind(ff)
> 	cbind(f2)
> 
> B: R gives an integer matrix  but S-plus a character one for
> 
>      matrix(ff)
...
> So far the current behavior which I don't like.
> I believe all matrix coercions should return mode "character" objects
> for consistency with other coercion behavior of factors.
> 
> S(-plus) seems particularly inconsistent in doing different coercions
> for cbind() and matrix().
> 
> Opinions ?   Proposals ?

Not really sure whether the problem is that R is consistent with
itself or inconsistent with S. If we change as you suggest, we'll
have two incompatibilities instead of one...

In what kinds of code would this become relevant? 

BTW, we also have this little item:

> matrix(ff)
     [,1]
[1,]    1
[2,]    2
[3,]    3
> array(ff,c(3,1))
     [,1]
[1,] "3" 
[2,] "2" 
[3,] "1" 

(In Splus, matrix() *calls* array() so this won't happen)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Wed Jun 23 17:04:32 1999
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Wed, 23 Jun 1999 08:04:32 -0700 (PDT)
Subject: [R] coercing factors to matrix() --> num/char ? --
Message-ID: <199906231504.IAA11193@aggie.pnl.gov>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:

> Martin Maechler <maechler at stat.math.ethz.ch> writes:

[ snip... ]

> > >From this logic, coercing to a matrix should coerce to character rather
> > than integer/numeric codes.
> 
> Hm. I'm not sure there really is much logic in this... Factors are
> sometimes character-like, sometimes integer-like.

I'd be interested to hear a discussion of when they need to
behave like integers.  In my work I can't ever remember needing
anything other than the character representation in my "user
level" coding.  I can see the need to access the integers for
"lower level" programming, for example, but when else?

(My thought has always been that factors should *always* coerce
to character unless the user explicitly requests otherwise.)

[ snip... ]

> Not really sure whether the problem is that R is consistent with
> itself or inconsistent with S. If we change as you suggest, we'll
> have two incompatibilities instead of one...

Factors are one area where I deem inconsistency with S a distinct
advantage.  :-)

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why do you say there's one left, when it didn't leave?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 23 17:44:30 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 1999 17:44:30 +0200
Subject: [R] coercing factors to matrix() --> num/char ? --
In-Reply-To: "Z. Todd Taylor"'s message of "Wed, 23 Jun 1999 08:04:32 -0700 (PDT)"
References: <199906231504.IAA11193@aggie.pnl.gov>
Message-ID: <x2n1xqhqg1.fsf@blueberry.kubism.ku.dk>

"Z. Todd Taylor" <Todd.Taylor at pnl.gov> writes:

> I'd be interested to hear a discussion of when they need to
> behave like integers.  In my work I can't ever remember needing
> anything other than the character representation in my "user
> level" coding.  I can see the need to access the integers for
> "lower level" programming, for example, but when else?
> 
> (My thought has always been that factors should *always* coerce
> to character unless the user explicitly requests otherwise.)

The main one is probably indexing:

> ff<-factor(rbinom(20,1,.5),levels=0:1)
> x<-rnorm(20)
> y<-rnorm(20)
> plot(x,y,pch=c("f","m")[ff])

.which BTW also applies to the cbind issue since you can do things like:

> ff<-factor(rbinom(10,1,.5),levels=0:1)
> gg<-factor(rbinom(10,1,.5),levels=0:1)

> data.frame(ff,gg,comb.code=matrix(1:4,2)[cbind(ff,gg)])
   ff gg comb.code
1   0  1         3
2   1  0         2
3   1  0         2
4   0  1         3
5   0  1         3
6   0  0         1
7   1  1         4
8   0  0         1
9   1  0         2
10  1  1         4

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbuerkle at bio.indiana.edu  Wed Jun 23 18:35:11 1999
From: cbuerkle at bio.indiana.edu (Alex Buerkle)
Date: Wed, 23 Jun 1999 11:35:11 -0500 (EST)
Subject: [R] does a factorial function exist
Message-ID: <Pine.LNX.4.10.9906231128390.4276-100000@tortoise.bio.indiana.edu>


I've looked through the documentation with R-0.64.1 and have been unable
to find a high-level function for evaluation of factorials (i.e., n!, not
factorial designs).  Is there such a function?

It is trivial to code, so everyone could write their own, but it also
would be worthwhile as a standard tool.  I'm guessing I am just
overlooking it.

~^^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^
C. Alex Buerkle                 Ph:  812-855-9018
Jordan Hall 142                 Fax: 812-855-6705
Department of Biology
Indiana University
Bloomington, IN 47405    cbuerkle at bio.indiana.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Jun 23 18:46:28 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 24 Jun 1999 04:46:28 +1200 (NZST)
Subject: [R] does a factorial function exist
In-Reply-To: <Pine.LNX.4.10.9906231128390.4276-100000@tortoise.bio.indiana.edu>
Message-ID: <Pine.GSO.4.10.9906240444350.26835-100000@stat1.stat.auckland.ac.nz>



It used to be in there at one point.  You can define your own as follows

	factorial <- function(x) gamma(x+1)

It is an important omission.

	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 23 18:53:56 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 1999 18:53:56 +0200
Subject: [R] does a factorial function exist
In-Reply-To: Alex Buerkle's message of "Wed, 23 Jun 1999 11:35:11 -0500 (EST)"
References: <Pine.LNX.4.10.9906231128390.4276-100000@tortoise.bio.indiana.edu>
Message-ID: <x2k8suhn8b.fsf@blueberry.kubism.ku.dk>

Alex Buerkle <cbuerkle at bio.indiana.edu> writes:

> I've looked through the documentation with R-0.64.1 and have been unable
> to find a high-level function for evaluation of factorials (i.e., n!, not
> factorial designs).  Is there such a function?
> 
> It is trivial to code, so everyone could write their own, but it also
> would be worthwhile as a standard tool.  I'm guessing I am just
> overlooking it.

gamma(n+1) not good enough? (or prod(1:n) for that matter).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jun 23 19:43:33 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 23 Jun 1999 12:43:33 -0500
Subject: [R] mathematics in R graphics
Message-ID: <199906231743.MAA10528@mean.stat.purdue.edu>


I was reading Chapter 2 of the R manual that came with 64.1, but
couldn't get the behavior out of expressions as described in the
manual.  Is there any example on the subject?  For example, "x sub i"
is supposed to be produced by "x[i]", but where to put it?  I tried
mtext(text=x[i]) and R simply interprets that as a regular expression.

Thanks in advance for any clue that may help.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 23 19:54:36 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 23 Jun 1999 10:54:36 -0700 (PDT)
Subject: [R] mathematics in R graphics
In-Reply-To: <199906231743.MAA10528@mean.stat.purdue.edu>
Message-ID: <Pine.GSO.4.10.9906231054001.27254-100000@wompom.biostat.washington.edu>

On Wed, 23 Jun 1999, Chong Gu wrote:

> 
> I was reading Chapter 2 of the R manual that came with 64.1, but
> couldn't get the behavior out of expressions as described in the
> manual.  Is there any example on the subject?  For example, "x sub i"
> is supposed to be produced by "x[i]", but where to put it?  I tried
> mtext(text=x[i]) and R simply interprets that as a regular expression.

You need
	mtext(text=expression(x[i]))


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jun 23 20:05:15 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 23 Jun 1999 13:05:15 -0500
Subject: [R] mathematics in R graphics
In-Reply-To: 
	<Pine.GSO.4.10.9906231054001.27254-100000@wompom.biostat.washington.edu>
	(message from Thomas Lumley on Wed, 23 Jun 1999 10:54:36 -0700 (PDT))
Message-ID: <199906231805.NAA24374@mean.stat.purdue.edu>


   Date: Wed, 23 Jun 1999 10:54:36 -0700 (PDT)
   From: Thomas Lumley <thomas at biostat.washington.edu>
   cc: r-help at stat.math.ethz.ch
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII

   On Wed, 23 Jun 1999, Chong Gu wrote:

   > 
   > I was reading Chapter 2 of the R manual that came with 64.1, but
   > couldn't get the behavior out of expressions as described in the
   > manual.  Is there any example on the subject?  For example, "x sub i"
   > is supposed to be produced by "x[i]", but where to put it?  I tried
   > mtext(text=x[i]) and R simply interprets that as a regular expression.

   You need
	   mtext(text=expression(x[i]))


   Thomas Lumley
   Assistant Professor, Biostatistics
   University of Washington, Seattle


Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From N.J.Lee at statslab.cam.ac.uk  Wed Jun 23 20:38:15 1999
From: N.J.Lee at statslab.cam.ac.uk (Nicholas Lee)
Date: Wed, 23 Jun 1999 19:38:15 +0100 (GMT)
Subject: [R] does a factorial function exist
In-Reply-To: <Pine.LNX.4.10.9906231128390.4276-100000@tortoise.bio.indiana.edu>
Message-ID: <Pine.LNX.3.96.990623193719.9849A-100000@hearts.statslab.cam.ac.uk>


On Wed, 23 Jun 1999, Alex Buerkle wrote:

> 
> I've looked through the documentation with R-0.64.1 and have been unable
> to find a high-level function for evaluation of factorials (i.e., n!, not
> factorial designs).  Is there such a function?

Try 
function(n) {prod(1:n)}

Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbuerkle at bio.indiana.edu  Wed Jun 23 20:52:57 1999
From: cbuerkle at bio.indiana.edu (Alex Buerkle)
Date: Wed, 23 Jun 1999 13:52:57 -0500 (EST)
Subject: [R] does a factorial function exist
In-Reply-To: <x2k8suhn8b.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.9906231337200.4276-100000@tortoise.bio.indiana.edu>


gamma(n+1) and prod(1:n) serve the purpose of calculating n!, as did the
lower-level code I wrote out of ignorance.

Nevertheless, I submit that many users will/need not know the relation of
gamma() to n!, nor will they necessarily have come upon prod() by the time
they want to calculate a factorial.

As a result, wouldn't it be worthwhile to include a factorial(), so that
everyone has ready access to standard arithmetic?

Thanks for the help, Alex


On 23 Jun 1999, Peter Dalgaard BSA wrote:

> Alex Buerkle <cbuerkle at bio.indiana.edu> writes:
> 
> > I've looked through the documentation with R-0.64.1 and have been unable
> > to find a high-level function for evaluation of factorials (i.e., n!, not
> > factorial designs).  Is there such a function?
> 
> gamma(n+1) not good enough? (or prod(1:n) for that matter).

~^^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^
C. Alex Buerkle                 Ph:  812-855-9018
Jordan Hall 142                 Fax: 812-855-6705
Department of Biology
Indiana University
Bloomington, IN 47405    cbuerkle at bio.indiana.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Wed Jun 23 11:00:19 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Wed, 23 Jun 1999 11:00:19
Subject: [R] Influence.measures
Message-ID: <3.0.5.16.19990623110019.37d7a712@deimos.tc.uaslp.mx>

I am using rw0641 with Windows 98. To list just the influential
repetitiones that result from "influence.measures", I am using the input
 
result <- lm(y~x) 
 
and the code from the example in the help for "influence.measures"
 
INFLM <- function(result){
    inflm <- influence.measures(result)
    which(apply(inflm$is.inf,1,any))
}
 
It works fine up to now with the exception of Huber's data published in
Atkinson 1985:8 (Plots, Transformations and Regression)
 
 Observation	x	y
 1		-4	2.48
 2		-3	0.73
 3		-2	-0.04
 4		-1	-1.44
 5		0	-1.32
 6		10	0.00
 
which is not very well excepted. The command 

> inflm <- influence.measures(result)

reports

Warning: NaNs produced in function "qf"

and

> which(apply(inflm$is.inf,1,any))

reports

Error: names attribute must be the same length as the vector

What should I do?

Thank you very much.

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 24 01:15:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 1999 01:15:53 +0200
Subject: [R] Influence.measures
In-Reply-To: "Peter B. Mandeville"'s message of "Wed, 23 Jun 1999 11:00:19"
References: <3.0.5.16.19990623110019.37d7a712@deimos.tc.uaslp.mx>
Message-ID: <x2k8sufqza.fsf@blueberry.kubism.ku.dk>

"Peter B. Mandeville" <mandevip at uaslp.mx> writes:

> It works fine up to now with the exception of Huber's data published in
> Atkinson 1985:8 (Plots, Transformations and Regression)
>  
>  Observation	x	y
>  1		-4	2.48
>  2		-3	0.73
>  3		-2	-0.04
>  4		-1	-1.44
>  5		0	-1.32
>  6		10	0.00
>  
> which is not very well excepted. The command 
> 
> > inflm <- influence.measures(result)
> 
> reports
> 
> Warning: NaNs produced in function "qf"

Erm. If you trace influence.measures, the trouble spot is in
calculating qf(infmat[, k + 3], k, n - k) > 0.9 where infmat is

      dfb.1_         dfb.x       dffit     cov.r       cook.d       hat
1  1.1124006 -9.559280e-01  1.46670838 0.3291085  0.520037540 0.2897436
2  0.1260689 -8.125181e-02  0.14998404 2.2175907  0.014641199 0.2358974
3 -0.0774641  3.328392e-02 -0.08431195 2.1730596  0.004693794 0.1974359
4 -0.5320433  1.143012e-01 -0.54418271 0.9999362  0.134536856 0.1743590
5 -0.4360945  5.048678e-18 -0.43609451 1.2300164  0.096271128 0.1666667
6  8.5733290  1.841847e+01 20.31604872 0.2552637 26.398591892 0.9358974

and infmat[, k + 3] is the cook.d column. So the last item is
qf(26.39,...) which obviously won't do. I strongly suspect that you
want pf rather than qf there!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.CSIRO.AU  Thu Jun 24 02:14:08 1999
From: Bill.Venables at cmis.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Thu, 24 Jun 1999 10:14:08 +1000
Subject: [R] does a factorial function exist
Message-ID: <D16979FB73F3D11195510000F8030FB90D0AEB@roper.qld.cmis.csiro.au>

Two people now have essentially suggested 

	factorial <- function(n) prod(1:n)

as a possible factorial function.  (One is included below.)  I think it is
important to realise why this is NOT a good suggestion.  In a nutshell: it
is not a vectorized solution.  You may have only scalar arguments in mind
for the factorial function, but other users may not, (and the consensus view
is on their side.)  Also, it doesn't work for n=0 but that's a lesser
issue..

Consider, for example

*	n <- 0:5
*	gamma(n+1)
	[1]    1    1    2    6   24  120
*	prod(1:n)
[1]    0

In writing functions for R or in using the system generally it is important
to make as much use as possible of vectorization for efficiency.  This is
one aspect of what John Chambers calls "taking the `whole object' view" and
is the key to using systems like R effectively.

(Here endeth the sermon).

Bill Venables.

On Wed, 23 Jun 1999, Alex Buerkle wrote:

> 
> I've looked through the documentation with R-0.64.1 and have been unable
> to find a high-level function for evaluation of factorials (i.e., n!, not
> factorial designs).  Is there such a function?

Try 
function(n) {prod(1:n)}

Nicholas

Bill Venables, Statistician, CMIS Environmetrics Project.
Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA
Telephone: +61 7 3826 7251
      Fax: +61 7 3826 7304     Email: Bill.Venables at cmis.csiro.au
_______________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lyndon at stat.auckland.ac.nz  Thu Jun 24 02:36:59 1999
From: lyndon at stat.auckland.ac.nz (Lyndon Drake)
Date: Thu, 24 Jun 1999 12:36:59 +1200
Subject: [R] RedHat 6.0 RPM of R
Message-ID: <19990624123658.A1654@r.stat.auckland.ac.nz>

Hi,

One of my lecturers is putting together an applications CD to go with RedHat 6.0
with stuff he thinks would be useful for his students.  He wants to put R on it,
but he's having trouble compiling R and using an RPM on RH 6.0.  It appears to
be either kernel or glibc related, but I don't have the time right now to figure
out what the problem is (exams...).

Does anyone have an RPM of R for RedHat 6.0?

Thanks,
Lyndon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmacy at cs.berkeley.edu  Thu Jun 24 03:40:03 1999
From: kmacy at cs.berkeley.edu (Kip Macy)
Date: Wed, 23 Jun 1999 18:40:03 -0700 (PDT)
Subject: [R] RedHat 6.0 RPM of R
In-Reply-To: <19990624123658.A1654@r.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.3.96.990623183930.24039A-100000@hiss.CS.Berkeley.EDU>

I specifically remember seeing one on the applications CD that came with
Redhat 6.0.

				-Kip 
------------------------------------------------------------------------
Kip Macy                               kmacy at cs.berkeley.edu
University of California, Berkeley     
------------------------------------------------------------------------


On Thu, 24 Jun 1999, Lyndon Drake wrote:

> Hi,
> 
> One of my lecturers is putting together an applications CD to go with RedHat 6.0
> with stuff he thinks would be useful for his students.  He wants to put R on it,
> but he's having trouble compiling R and using an RPM on RH 6.0.  It appears to
> be either kernel or glibc related, but I don't have the time right now to figure
> out what the problem is (exams...).
> 
> Does anyone have an RPM of R for RedHat 6.0?
> 
> Thanks,
> Lyndon
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Jun 24 08:34:25 1999
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 24 Jun 1999 08:34:25 +0200
Subject: [R] does a factorial function exist
References: <Pine.LNX.4.10.9906231128390.4276-100000@tortoise.bio.indiana.edu>
Message-ID: <3771D170.326BFF8C@epfl.ch>

Alex Buerkle wrote:

> I've looked through the documentation with R-0.64.1 and have been unable
> to find a high-level function for evaluation of factorials (i.e., n!, not
> factorial designs).  Is there such a function?

This should do the trick:


fact<-function(numb)
  {
  if (numb==0) out<- 1
  if (numb<0) out<- 1
  if (numb>0) out<- prod(seq(numb))
  out
  }

:-)

  Diego Kuonen

--
------------------------------------------------------
Diego Kuonen
DMA - Ecublens, EPFL, 1015 Lausanne, Switzerland
Phone    :  + 41 (0)21 693 5508
Fax      :  + 41 (0)21 693 4250
E-mail   :  mailto:Diego.Kuonen at epfl.ch
Homepage :  http://statwww.epfl.ch/people/kuonen
------------------------------------------------------
  _                                                 _
 -o)     "Linux - Ready For 2000 By Nature !"      -o)
 /\\                                               /\\
_\_v             "Penguins DO fly !"              _\_v

------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jun 24 09:47:54 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 24 Jun 1999 09:47:54 +0200
Subject: [R] RedHat 6.0 RPM of R
References: <19990624123658.A1654@r.stat.auckland.ac.nz>
Message-ID: <3771E2AA.E7FA7FF3@iarc.fr>

RPMS for Red Hat 6.0/Intel are available from CRAN (see
http://www.ci.tuwien.ac.at/R/mirrors.html for the nearest
mirror) in the directory bin/linux/redhat/6.0/i386/ 

Martyn

Lyndon Drake wrote:
> 
> Hi,
> 
> One of my lecturers is putting together an applications CD to go with RedHat 6.0
> with stuff he thinks would be useful for his students.  He wants to put R on it,
> but he's having trouble compiling R and using an RPM on RH 6.0.  It appears to
> be either kernel or glibc related, but I don't have the time right now to figure
> out what the problem is (exams...).
> 
> Does anyone have an RPM of R for RedHat 6.0?
> 
> Thanks,
> Lyndon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 24 11:04:39 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 24 Jun 1999 11:04:39 +0200
Subject: [R] Influence.measures
In-Reply-To: <x2k8sufqza.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 24 Jun 1999 01:15:53 +0200)
References: <3.0.5.16.19990623110019.37d7a712@deimos.tc.uaslp.mx> <x2k8sufqza.fsf@blueberry.kubism.ku.dk>
Message-ID: <199906240904.LAA24887@sophie.ethz.ch>


Peter's diagnosis is completely correct.

influence.measures() $ is.infl  
wasn't correct because it used qf() instead of pf()

--> Fix committed for "R-release-patches"...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lyndon at stat.auckland.ac.nz  Thu Jun 24 12:07:15 1999
From: lyndon at stat.auckland.ac.nz (Lyndon Drake)
Date: Thu, 24 Jun 1999 22:07:15 +1200
Subject: [R] RedHat 6.0 RPM of R
In-Reply-To: <19990624123658.A1654@r.stat.auckland.ac.nz>; from Lyndon Drake on Thu, Jun 24, 1999 at 12:36:59PM +1200
References: <19990624123658.A1654@r.stat.auckland.ac.nz>
Message-ID: <19990624220714.C2077@r.stat.auckland.ac.nz>

Hi,

Thanks for the responses.  Hopefully he can get something going.  I thought
that RH6.0 included R, but he says he couldn't find it.

Lyndon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jun 24 22:55:57 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 24 Jun 1999 15:55:57 -0500
Subject: [R] Re: [Venables-course] Downloading R
In-Reply-To: "Hodgess, Erin"'s message of "Thu, 24 Jun 1999 15:17:09 -0500"
References: <D0A4FF8B2703D311AC8B00805FFEAC9808D16A@Zeus.DT.UH.EDU>
Message-ID: <6raetpiahu.fsf@verdi.stat.wisc.edu>

"Hodgess, Erin" <HodgessE at zeus.dt.uh.edu> writes:

> Hello all!

Good to hear from you again, Erin.

> I would like to download R to the UNIX machine here.
> 
> I will be downloading it to my own account.
> 
> Could anyone please tell me how much space it requires once it is
> "unzipped"?

The original tree is about 8.5 MB.  After compilation you can expect it
to take up about twice that.  If you install the compiled version and
get rid of all the object files and sources it takes about 7-10 MB
again.  If you also install all the available contributed packages,
like the MASS package from V&R, the total goes up to about 34 MB.

If you happen to have rsync installed on your system a simple way to
check out a version is

$ rsync cran.stat.wisc.edu::   # find out what is available
r-release      	R sources (feature-frozen version) CVS tree (approx 8.5 MB)
r-devel        	R sources (development version) CVS tree (approx 8.5 MB)
xlispstat      	xlispstat sources (development version) CVS tree (approx 12 MB)
ess            	ess (Emacs Speaks Statistics) CVS tree (approx 8.5 MB)
$ cd $wherever; mkdir R; cd R
$ rsync -vCaz cran.stat.wisc.edu::r-release .
receiving file list ... done
./
afm/
debian/
demos/
demos/dynload/
demos/graphics/
demos/language/
demos/models/
demos/nlm/
...  # lots and lots of other files reported here
$ du -s .   # check the size of the raw sources (in Kb)
8460	.
$ du -s /usr/lib/R  # check the size of the full installation
34189	/usr/lib/R

Erin: I cc:'d this to the r-help mailing list as I think the answer
may be of general interest.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjthaden at flash.net  Fri Jun 25 15:56:50 1999
From: jjthaden at flash.net (John Thaden)
Date: Fri, 25 Jun 1999 08:56:50 -0500
Subject: [R] coercing factors to matrix() --> num/char ? --
In-Reply-To: <199906231504.IAA11193@aggie.pnl.gov>
Message-ID: <3.0.3.32.19990625085650.0074b10c@pop.flash.net>

Peter Dalgaard:
>> Hm. I'm not sure there really is much logic in this... Factors are
>> sometimes character-like, sometimes integer-like.

Z. Todd Taylor:
>I'd be interested to hear a discussion of when they need to
>behave like integers.

Yesterday, using S+ 4.5 (Win), for instance:

#Exp is factor containing experiment numbers
>levels(mydata$Exp)
 [1] "0"  "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"
 [14] "13" "14" "15" "16" "17" "18" "19"

>lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
+  weights = 5.5 - Exp)
Error in Ops.factor(5.5, Exp): "-" not meaningful for factors
Dumped

>lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
+  weights = 5.5 - as.integer(Exp) )
Error in lm.wfit(X, Y, weights, method): negative weights not allowed
Dumped
# . . . because as.integer(Exp) gives the codes as integers, not the
values, and
# the code for Exp 5 is 6.

> lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
+   weights = 5.5 - as.integer(as.character(Exp)))

Call: 
lm(formula = y ~ x1 * x2, data = mydata,
#. . . Remainder of regression report truncated.

Z.T.T.:
>I can see the need to access the integers for
>"lower level" programming, for example, but when else?

ALL of my programming is "lower level"!  ;-)
************************************************************
John J. Thaden, Ph.D., Instructor        jjthaden at life.uams.edu
Department of Geriatrics                     (501) 257-5583
University of Arkansas for Medical Sciences  FAX: (501) 257-4822
      mail & ship to:	J. L. McClellan V.A. Medical Center
		Research-151 (Room GB103 or GC124)
		4300 West 7th Street
		Little Rock AR 72205 USA
***********************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 25 16:59:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Jun 1999 15:59:39 +0100 (BST)
Subject: [R] coercing factors to matrix() --> num/char ? --
Message-ID: <199906251459.PAA26450@toucan.stats.ox.ac.uk>

> Date: Fri, 25 Jun 1999 08:56:50 -0500
> To: "Z. Todd Taylor" <Todd.Taylor at pnl.gov>

I think here you wanted as.numeric, not as.integer, as you wanted a 
number, not an S object of storage mode "integer". A small point, of
course.

Some people think as.numeric(factor) should coerce "1" to 1, and it
once did in R. But this broke far too much. If this is what you want,
you need as.numeric(as.character(factor)), as in

> tt <- factor(c(as.character(0:3), "extra"))
> as.numeric(tt)
[1] 1 2 3 4 5
> as.numeric(as.character(tt))
Warning: NAs introduced by coercion
[1]  0  1  2  3 NA

Your problem is that that you are not using the  number' in 5.5 - Exp,
but some other attribute of the experiment, and you need to set it up
explicitly.  If you remember that as.numeric(factor) gives what one
would naively expect codes(factor) to give, you should not get _too_
confused.  (I think codes() must be seen as a mistake in the carry-over
from categories to factors in ca 1991.)

> Date: Fri, 25 Jun 1999 08:56:50 -0500
> To: "Z. Todd Taylor" <Todd.Taylor at pnl.gov>
> 
> Peter Dalgaard:
> >> Hm. I'm not sure there really is much logic in this... Factors are
> >> sometimes character-like, sometimes integer-like.
> 
> Z. Todd Taylor:
> >I'd be interested to hear a discussion of when they need to
> >behave like integers.
> 
> Yesterday, using S+ 4.5 (Win), for instance:
> 
> #Exp is factor containing experiment numbers
> >levels(mydata$Exp)
>  [1] "0"  "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"
>  [14] "13" "14" "15" "16" "17" "18" "19"
> 
> >lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +  weights = 5.5 - Exp)
> Error in Ops.factor(5.5, Exp): "-" not meaningful for factors
> Dumped
> 
> >lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +  weights = 5.5 - as.integer(Exp) )
> Error in lm.wfit(X, Y, weights, method): negative weights not allowed
> Dumped
> # . . . because as.integer(Exp) gives the codes as integers, not the
> values, and
> # the code for Exp 5 is 6.
> 
> > lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +   weights = 5.5 - as.integer(as.character(Exp)))
> 
> Call: 
> lm(formula = y ~ x1 * x2, data = mydata,
> #. . . Remainder of regression report truncated.
> 
> Z.T.T.:
> >I can see the need to access the integers for
> >"lower level" programming, for example, but when else?
> 
> ALL of my programming is "lower level"!  ;-)
> ************************************************************
> John J. Thaden, Ph.D., Instructor        jjthaden at life.uams.edu
> Department of Geriatrics                     (501) 257-5583
> University of Arkansas for Medical Sciences  FAX: (501) 257-4822
>       mail & ship to:	J. L. McClellan V.A. Medical Center
> 		Research-151 (Room GB103 or GC124)
> 		4300 West 7th Street
> 		Little Rock AR 72205 USA
> ***********************************************************

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Fri Jun 25 17:28:42 1999
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Fri, 25 Jun 1999 08:28:42 -0700 (PDT)
Subject: [R] coercing factors to matrix() --> num/char ? --
Message-ID: <199906251528.IAA26114@aggie.pnl.gov>

John Thaden <jjthaden at flash.net> wrote regarding factors:

> Z. Todd Taylor:
> >I'd be interested to hear a discussion of when they need to
> >behave like integers.
> 
> Yesterday, using S+ 4.5 (Win), for instance:
> 
> #Exp is factor containing experiment numbers
> >levels(mydata$Exp)
>  [1] "0"  "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"
>  [14] "13" "14" "15" "16" "17" "18" "19"
> 
> >lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +  weights = 5.5 - Exp)
> Error in Ops.factor(5.5, Exp): "-" not meaningful for factors
> Dumped
> 
> >lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +  weights = 5.5 - as.integer(Exp) )
> Error in lm.wfit(X, Y, weights, method): negative weights not allowed
> Dumped
> # . . . because as.integer(Exp) gives the codes as integers, not the
> values, and
> # the code for Exp 5 is 6.

I think this is a clear example of when you *don't* want your
factors acting like integers.  The underlying integer codes are
almost never meaningful.  (Indexing into another object is one
exception recently cited by several people here.  But I say even
that use violates the encapsulation of factor objects, placing
external reliance on an internal implementation that,
theoretically, could be subject to change.)

> > lm(y ~ x1 * x2, data=mydata, subset = Exp == 3 | Exp == 5,
> +   weights = 5.5 - as.integer(as.character(Exp)))

If factors acted like characters instead of integers, you'd only
have to say "5.5 - as.integer(Exp)".  And in other situations
you might need as.numeric(Exp) instead (e.g., your levels are "0",
"1", "1.5", "2.8", ...)

I get so tired of typing as.numeric(as.character(a.factor)).
And if I'm not typing that, I'm typing the plain
as.character(a.factor).  It's frustrating that you almost always
have to coerce factors to character before you can do anything
with them.

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why are they called 'long shorts'?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gbarreto at sel.eesc.sc.usp.br  Fri Jun 25 19:02:55 1999
From: gbarreto at sel.eesc.sc.usp.br (gbarreto)
Date: Fri, 25 Jun 1999 13:02:55 -0400
Subject: [R] About R and BOA
Message-ID: <3773B63F.638AFC04@sel.eesc.sc.usp.br>


    Hi, everybody

    I am a novice in R. I have downloaded a package called BOA (Bayesian
Output analysis), and tried to run it from R prompt withut success. I
would like to know how to enable BOA to be recognized (loaded) by R.

    I thank you advance.

    Sincerely,

            Guilherme de Alencar Barreto

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fears at roycastle.liv.ac.uk  Sun Jun 27 18:43:44 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Sun, 27 Jun 1999 17:43:44 +0100
Subject: [R] About R and BOA
Message-ID: <B7F24F2B48ACD11196F600805FC7F43020A54C@pdc.rc.liv.ac.uk>

You have to first load it using

> source('boa.r')

I've assumed file boa.r is in current directory; otherwise give the full
pathname.

One day soon the author or I will (as I once promised) get around to
wrapping it up into a proper package so that it can be attach()ed like
those on CRAN (indeed it probably should be on CRAN).

Incidentally, note there is a recent improved version of CODA for R
which has much more sophisticated help facilities (such as,
documentation, even a manual), available on CRAN sites. Checkout CODA
for S-Plus for the original implementation and documentation.

Simon

> -----Original Message-----
> From: gbarreto [mailto:gbarreto at sel.eesc.sc.usp.br]
> Sent: 25 June 1999 18:03
> To: 
> Cc: gbarreto at lasi03.sel.eesc.sc.usp.br
> Subject: [R] About R and BOA
> 
> 
> 
>     Hi, everybody
> 
>     I am a novice in R. I have downloaded a package called 
> BOA (Bayesian
> Output analysis), and tried to run it from R prompt withut success. I
> would like to know how to enable BOA to be recognized (loaded) by R.
> 
>     I thank you advance.
> 
>     Sincerely,
> 
>             Guilherme de Alencar Barreto
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sun Jun 27 20:56:51 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sun, 27 Jun 1999 20:56:51 +0200
Subject: [R] paste and path ?
Message-ID: <000701bec0ce$d2f1a3c0$2c4fa8c0@stofanet.dk>

Dear friends. I have trobpe with path.
Below I have tried to paste a path and file name but it will not work

> path <- "D:/rw0641/own/own/procedures/GFR_TIME"
> path
[1] "D:/rw0641/own/own/procedures/GFR_TIME"
> path1 <- paste(path,"gfr.txt",sep="/")
> path1
[1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
-- this is good enough 
> data <- read.table("D:/rw0641/own/own/procedures/GFR_TIME/grf.txt",h=T)
> dat1 <- read.table(path1,h=T)
Error: "scan" can't open file
but doesn't work
> path1
[1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt" although the path is OK
- the unpasted variant is of course ok. What happened ?

> data
  day month year crea
1  12     3   94  140
2  25     9   95  144
3   3     7   96  167
4   5    12   96  174
5  12     3   97  187
6  14     6   97  188
7  23     9   97  201

Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 28 00:20:43 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 1999 00:20:43 +0200
Subject: [R] paste and path ?
In-Reply-To: "Troels Ring"'s message of "Sun, 27 Jun 1999 20:56:51 +0200"
References: <000701bec0ce$d2f1a3c0$2c4fa8c0@stofanet.dk>
Message-ID: <x2lnd52slg.fsf@blueberry.kubism.ku.dk>

"Troels Ring" <tring at mail1.stofanet.dk> writes:

> > path <- "D:/rw0641/own/own/procedures/GFR_TIME"
> > path
> [1] "D:/rw0641/own/own/procedures/GFR_TIME"
> > path1 <- paste(path,"gfr.txt",sep="/")
> > path1
> [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
> -- this is good enough 
> > data <- read.table("D:/rw0641/own/own/procedures/GFR_TIME/grf.txt",h=T)
> > dat1 <- read.table(path1,h=T)
> Error: "scan" can't open file
> but doesn't work
> > path1
> [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt" although the path is OK
> - the unpasted variant is of course ok. What happened ?

Strange. Just for completeness, does it work like this?

path1<-"D:/rw0641/own/own/procedures/GFR_TIME/grf.txt"
dat1 <- read.table(path1,h=T)

If it does, the trouble is in paste, otherwise in read.table...
And, what happens if you replace every / with \\ ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Jun 28 00:43:23 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 28 Jun 1999 00:43:23 +0200
Subject: Sv: [R] paste and path ?
References: <000701bec0ce$d2f1a3c0$2c4fa8c0@stofanet.dk> <x2lnd52slg.fsf@blueberry.kubism.ku.dk>
Message-ID: <000901bec0ee$785469a0$2c4fa8c0@stofanet.dk>

The first thing did help -suggesting something in paste even though the assignment made by the paste command below seems to be identical to the direct assignment of path1 - apart from the latter being indexed ? 
-  and the / thing didn't change anything -

> path1<-"D:/rw0641/own/own/procedures/GFR_TIME/grf.txt"
> dat1 <- read.table(path1,h=T)
> 
> dat1
  day month year crea
1  12     3   94  140
2  25     9   95  144
3   3     7   96  167
4   5    12   96  174
5  12     3   97  187
6  14     6   97  188
7  23     9   97  201
> path <- "D:\\rw0641\\own\\own\\procedures\\GFR_TIME"
> path1 <- paste(path,"gfr.txt",sep="\\")
> gfr_dat <- read.table(path1,h=T)
Error: "scan" can't open file
> path1
[1] "D:\\rw0641\\own\\own\\procedures\\GFR_TIME\\gfr.txt"
> np <- "D:/rw0641/own/own/procedures/GFR_TIME"
> npp <- paste(np,"gfr.txt",sep="/")
> npp
[1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
> dat2 <- read.table(npp,h=T)
Error: "scan" can't open file


Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark

----- Oprindelig meddelelse ----- 
Fra: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
Til: Troels Ring <tring at mail1.stofanet.dk>
Cc: R-help <r-help at stat.math.ethz.ch>
Sendt: 28. juni 1999 00:20
Emne: Re: [R] paste and path ?


> "Troels Ring" <tring at mail1.stofanet.dk> writes:
> 
> > > path <- "D:/rw0641/own/own/procedures/GFR_TIME"
> > > path
> > [1] "D:/rw0641/own/own/procedures/GFR_TIME"
> > > path1 <- paste(path,"gfr.txt",sep="/")
> > > path1
> > [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
> > -- this is good enough 
> > > data <- read.table("D:/rw0641/own/own/procedures/GFR_TIME/grf.txt",h=T)
> > > dat1 <- read.table(path1,h=T)
> > Error: "scan" can't open file
> > but doesn't work
> > > path1
> > [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt" although the path is OK
> > - the unpasted variant is of course ok. What happened ?
> 
> Strange. Just for completeness, does it work like this?
> 
> path1<-"D:/rw0641/own/own/procedures/GFR_TIME/grf.txt"
> dat1 <- read.table(path1,h=T)
> 
> If it does, the trouble is in paste, otherwise in read.table...
> And, what happens if you replace every / with \\ ?
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 28 00:58:41 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 1999 00:58:41 +0200
Subject: Sv: [R] paste and path ?
In-Reply-To: "Troels Ring"'s message of "Mon, 28 Jun 1999 00:43:23 +0200"
References: <000701bec0ce$d2f1a3c0$2c4fa8c0@stofanet.dk> <x2lnd52slg.fsf@blueberry.kubism.ku.dk> <000901bec0ee$785469a0$2c4fa8c0@stofanet.dk>
Message-ID: <x2hfnt2qu6.fsf@blueberry.kubism.ku.dk>

"Troels Ring" <tring at mail1.stofanet.dk> writes:
> 
> > path1<-"D:/rw0641/own/own/procedures/GFR_TIME/grf.txt"
> > dat1 <- read.table(path1,h=T)
...
> > npp
> [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
> > dat2 <- read.table(npp,h=T)
> Error: "scan" can't open file

Oh dear.

I suggest you may want to take a closer look at the filename for
those Glomerular Riltration Fate data....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurphy at fisher01.stats.umanitoba.ca  Mon Jun 28 04:28:21 1999
From: dmurphy at fisher01.stats.umanitoba.ca (Dennis Murphy)
Date: Sun, 27 Jun 1999 21:28:21 -0500 (CDT)
Subject: [R] R-0.64.1 make problem:  Solaris 2.4
Message-ID: <199906280228.VAA28725@neyman01.stats.umanitoba.ca>

Greetings,

I'm attempting to install R-0.64.1 on a Sun Sparc 20 running Solaris 2.4 with
gcc-2.7.2.2, g77-0.5.20 and Gnu make 3.76-1.

On several occasions, the make process aborted when trying to build the shared object
file for the modreg package (its first attempt at such a beast).  In all attempts, the error
message is as follows:

../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o ksmooth.o loessc.o 
loessf.o ppr.o qsbart.o sbart.o sgram.o sinerp.o sslvrg.o stxwx.o
make: Fatal error: Unknown option `-w'
gmake[4]: *** [modreg.so] Error 1
gmake[4]: Leaving directory `/tmp/R-0.64.1/src/library/modreg/src'

In addition, I got the following error messages in this directory on the latest attempt:

g77 -O2 -PIC -c loessf.f -o loessf.o
gcc: unrecognized option `-PIC'
g77 -O2 -PIC -c ppr.f -o ppr.o
gcc: unrecognized option `-PIC'
...

In config.site, I specifically requested the option FPICFLAGS=-fPIC, consistent with
CPICFLAGS.  I also set SHLIBLDFLAGS=-G in config.site. Furthermore, no errors
or warnings about setting these flags in ./configure were encountered, since it
(finally) found xmkmf.

>From the man page,  -w is a legitimate option for Gnu make (gmake on this system),
so I'm at a loss how to proceed at this point.  I don't understand why g77 is using the
option -PIC  when it was set to -fPIC in config.site.

It seems clear that the problem is not with the modreg code, but rather something with
the make process on this platform. Suggestions gratefully accepted...

Thanks in advance,
Dennis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Jun 28 06:56:14 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 28 Jun 1999 16:56:14 +1200
Subject: [R] Resources for teaching R
Message-ID: <3.0.5.32.19990628165614.00a043e0@pop.stats.waikato.ac.nz>

Greetings!

Soon I will begin teaching 2 courses two students who have never met R or
SPLUS before. I'm just wondering if list members are aware of any on-line
lecture notes about R or using R to teach statistics apart from the
Venables & Smith notes?

One drawback to R is its name, which is not very useful as a search string
in internet search engines!


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.cs.waikato.ac.nz/stats/Staff/maj.html       - Henri Poincare'
    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Jun 28 08:30:27 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 28 Jun 1999 08:30:27 +0200
Subject: Sv: [R] paste and path ?
References: <000701bec0ce$d2f1a3c0$2c4fa8c0@stofanet.dk>
Message-ID: <001301bec12f$b7f40980$2c4fa8c0@stofanet.dk>


I'm sorry I made a mistake with the file name, mixing gfr and grf. Thanks to P Dalgaard. Now it's OK

Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark

----- Oprindelig meddelelse ----- 
Fra: Troels Ring <tring at mail1.stofanet.dk>
Til: R-help <r-help at stat.math.ethz.ch>
Sendt: 27. juni 1999 20:56
Emne: [R] paste and path ?


> Dear friends. I have trobpe with path.
> Below I have tried to paste a path and file name but it will not work
> 
> > path <- "D:/rw0641/own/own/procedures/GFR_TIME"
> > path
> [1] "D:/rw0641/own/own/procedures/GFR_TIME"
> > path1 <- paste(path,"gfr.txt",sep="/")
> > path1
> [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt"
> -- this is good enough 
> > data <- read.table("D:/rw0641/own/own/procedures/GFR_TIME/grf.txt",h=T)
> > dat1 <- read.table(path1,h=T)
> Error: "scan" can't open file
> but doesn't work
> > path1
> [1] "D:/rw0641/own/own/procedures/GFR_TIME/gfr.txt" although the path is OK
> - the unpasted variant is of course ok. What happened ?
> 
> > data
>   day month year crea
> 1  12     3   94  140
> 2  25     9   95  144
> 3   3     7   96  167
> 4   5    12   96  174
> 5  12     3   97  187
> 6  14     6   97  188
> 7  23     9   97  201
> 
> Troels Ring, MD
> Department of Nephrology
> Aalborg Hospital
> Aalborg Denmark
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 28 08:54:50 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 28 Jun 1999 07:54:50 +0100 (BST)
Subject: [R] R-0.64.1 make problem:  Solaris 2.4
In-Reply-To: <199906280228.VAA28725@neyman01.stats.umanitoba.ca>
Message-ID: <Pine.GSO.4.05.9906280724240.12101-100000@auk.stats>

On Sun, 27 Jun 1999, Dennis Murphy wrote:

> Greetings,
> 
> I'm attempting to install R-0.64.1 on a Sun Sparc 20 running Solaris 2.4 with
> gcc-2.7.2.2, g77-0.5.20 and Gnu make 3.76-1.
> 
> On several occasions, the make process aborted when trying to build the shared object
> file for the modreg package (its first attempt at such a beast).  In all attempts, the error
> message is as follows:
> 
> ../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o ksmooth.o loessc.o 
> loessf.o ppr.o qsbart.o sbart.o sgram.o sinerp.o sslvrg.o stxwx.o
> make: Fatal error: Unknown option `-w'
> gmake[4]: *** [modreg.so] Error 1
> gmake[4]: Leaving directory `/tmp/R-0.64.1/src/library/modreg/src'

This is calling make not gmake, so you have not told the configure
process you will be using gmake. Try (under csh)

env MAKE=gmake ./configure

Alternatively, add

MAKE=gmake

to config.site.

Final alternative: use Sun's make.

> In addition, I got the following error messages in this directory on the latest attempt:
> 
> g77 -O2 -PIC -c loessf.f -o loessf.o
> gcc: unrecognized option `-PIC'
> g77 -O2 -PIC -c ppr.f -o ppr.o
> gcc: unrecognized option `-PIC'
> ...
> 
> In config.site, I specifically requested the option FPICFLAGS=-fPIC, consistent with
> CPICFLAGS.  I also set SHLIBLDFLAGS=-G in config.site. Furthermore, no errors
> or warnings about setting these flags in ./configure were encountered, since it
> (finally) found xmkmf.
> 
> >From the man page,  -w is a legitimate option for Gnu make (gmake on this system),

but not for Sun's make.

> so I'm at a loss how to proceed at this point.  I don't understand why g77 is using the
> option -PIC  when it was set to -fPIC in config.site.

It looks to me as if the configure script will override those settings, as
it has


CPICFLAGS=${CPICFLAGS-${cpicflags}}
FPICFLAGS=${FPICFLAGS-${CPICFLAGS}}
SHLIBLDFLAGS=${SHLIBLDFLAGS-${shlibldflags}}
...
  *solaris*)
    SHLIBLDFLAGS="-G"
    if ${cc_is_gcc}; then
      CPICFLAGS=-fPIC
    else
      CPICFLAGS=-KPIC
    fi
    if ${f77_is_g77}; then
      FPICFLAGS=-fPIC
    else
      FPICFLAGS=-PIC
    fi

It seems likely that it is failing to detect that your g77 (which is
rather old) is actually g77. 

The solution is to run

rm config.cache
env MAKE=gmake ./configure
edit Makeconf to set FPICFLAGS
gmake

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurphy at fisher01.stats.umanitoba.ca  Mon Jun 28 13:07:57 1999
From: dmurphy at fisher01.stats.umanitoba.ca (Dennis Murphy)
Date: Mon, 28 Jun 1999 06:07:57 -0500
Subject: [R] R-0.64.1 make problem, Solaris 2.4:  Solution
Message-ID: <199906281107.GAA13480@stats.umanitoba.ca>

Hello again!

Thanks to Dr. Brian Ripley, the make problem I reported earlier has been
solved, and R-0.64.1 is now successfully installed and tested.

There were two essential problems with the stock configuration:

  (i) the Fortran option -fPIC was not being propagated to certain Makefiles
      further down the tree;
  (ii) gmake was not being recognized when the library files were being
       compiled (it was using Sun make instead).

The solution to this problem is to do the following:
  
  (a) insert a line MAKE = gmake in config.site; alternatively, set
        # env MAKE=gmake ./configure 
      at the shell prompt (or setenv ... from the C shell).
  (b) in Makeconf.in, change FPICFLAGS = @FPICFLAGS@ to FPICFLAGS = @CPICFLAGS@,
      so that both FPICFLAGS and CPICFLAGS are the same
  (c) make the same change in etc/Makeconf.in

If installing as su, you also need to make sure that /usr/openwin/bin is on
the SUPATH; if not, you need to edit /etc/default/su as superuser. Otherwise,
the configure script will not be able to find xmkmf on Solaris.

------------------------------------------------------------------------------
Original message:

I'm attempting to install R-0.64.1 on a Sun Sparc 20 running Solaris 2.4 with
gcc-2.7.2.2, g77-0.5.20 and Gnu make 3.76-1.

On several occasions, the make process aborted when trying to build the shared
object
file for the modreg package (its first attempt at such a beast).  In all
attempts, the error
message is as follows:

../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o ksmooth.o
loessc.o 
loessf.o ppr.o qsbart.o sbart.o sgram.o sinerp.o sslvrg.o stxwx.o
make: Fatal error: Unknown option `-w'
gmake[4]: *** [modreg.so] Error 1
gmake[4]: Leaving directory `/tmp/R-0.64.1/src/library/modreg/src'

In addition, I got the following error messages in this directory on the latest
attempt:

g77 -O2 -PIC -c loessf.f -o loessf.o
gcc: unrecognized option `-PIC'
g77 -O2 -PIC -c ppr.f -o ppr.o 
gcc: unrecognized option `-PIC'
g77 -O2 -PIC -c ppr.f -o ppr.o
gcc: unrecognized option `-PIC'
...

In config.site, I specifically requested the option FPICFLAGS=-fPIC, consistent
with
CPICFLAGS.  I also set SHLIBLDFLAGS=-G in config.site. Furthermore, no errors
or warnings about setting these flags in ./configure were encountered, since it
(finally) found xmkmf.

>From the man page, -w is a legitimate option for Gnu make (gmake on this
system),
so I'm at a loss how to proceed at this point.  I don't understand why g77 is
using the option -PIC  when it was set to -fPIC in config.site.

It seems clear that the problem is not with the modreg code, but rather
something with the make process on this platform. 

Suggestions gratefully accepted...
----------------------------------------------------------------------------

I would also like to acknowledge the response from Christoph Friedrich, and
hope that he finds this workaround useful. 
 
Dennis Murphy
U. of Manitoba
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at amadeus.statistik.uni-dortmund.de  Mon Jun 28 13:46:09 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Mon, 28 Jun 1999 13:46:09 +0200 (MET DST)
Subject: [R] multiv. lm
In-Reply-To: <3.0.3.32.19990625085650.0074b10c@pop.flash.net>
Message-ID: <Pine.GSO.4.05.9906281344380.181-100000@amadeus.statistik.uni-dortmund.de>


Greetings, 

is there a basic function for multivariate linear models  (as basic as 
"lm" is for the univariate case) and can one derive MANOVA and other methods 
from it?  I found "mlm.R" but there is only a summary method defined. 
If not, is somebody working on this problem, otherwise I would refresh some
older code and include multivariate testing (Roy, tests based on
linear scores etc.pp.),

Torsten 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 28 14:34:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jun 1999 13:34:59 +0100 (BST)
Subject: [R] multiv. lm
Message-ID: <199906281234.NAA19549@toucan.stats.ox.ac.uk>

> Date: Mon, 28 Jun 1999 13:46:09 +0200 (MET DST)
> From: Torsten Hothorn <hothorn at amadeus.statistik.uni-dortmund.de>

> is there a basic function for multivariate linear models  (as basic as 
> "lm" is for the univariate case) and can one derive MANOVA and other methods 
> from it?  I found "mlm.R" but there is only a summary method defined. 
> If not, is somebody working on this problem, otherwise I would refresh some
> older code and include multivariate testing (Roy, tests based on
> linear scores etc.pp.),

Well, mlm and aov are the basic methods, and one can derive MANOVA etc
from them, as the manova() function in S-PLUS (but not S nor R) does just
that (calls aov, makes the class of the result "manova").  The real
work is done in summary.manova to produce the tests, which are really
the only difference between multiple and multivariate linear models.
(Summary.manova cheats by using approximate distribution theory.)

As far as I know no one is working on this, and we would welcome 
contributions.  One reason it is not there is that I (who contributed the 
mlm and aov code) have never seen a problem needing multivariate testing
(which is not to say that they do not exist, just are low priority for me).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Mon Jun 28 15:42:00 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 28 Jun 1999 14:42:00 +0100
Subject: [R] The glm object and the QR method
Message-ID: <dgk9094a1cn.fsf@scs2.ncl.ac.uk>

Having tried (with some success) to use an alternative to the QR
decomposition method for fitting generalised linear models by adapting
the glm and glm.fit functions, I have noticed (to be honest, become
frustrated with) how glm function and its dependents keep referencing
qr lists. For example the glm.summary has the surprising line

 covmat.unscaled <- chol2inv(object$qr$qr[p1, p1, drop = FALSE])

which seems to be an odd way of delivering the parameter
(co)variance matrix. 
Within the glm.fit function  itself, much of the code is "QR specific".

Call me pedantic, but does anyone else consider that the glm function
should be more omnibus?.

Cheers
Ross Darnell
Newcastle
-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 28 17:01:49 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jun 1999 16:01:49 +0100 (BST)
Subject: [R] The glm object and the QR method
Message-ID: <199906281501.QAA21513@toucan.stats.ox.ac.uk>


> X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to 
owner-r-help at stat.math.ethz.ch using -f
> To: r-help at stat.math.ethz.ch
> Subject: [R] The glm object and the QR method
> From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
> Date: 28 Jun 1999 14:42:00 +0100
> 
> Having tried (with some success) to use an alternative to the QR
> decomposition method for fitting generalised linear models by adapting
> the glm and glm.fit functions, I have noticed (to be honest, become
> frustrated with) how glm function and its dependents keep referencing
> qr lists. For example the glm.summary has the surprising line
> 
>  covmat.unscaled <- chol2inv(object$qr$qr[p1, p1, drop = FALSE])
> 
> which seems to be an odd way of delivering the parameter
> (co)variance matrix.

You need for efficiency/stability to use a decomposition of the working
matrix, and the working matrix is not itself kept.  

> Within the glm.fit function  itself, much of the code is "QR specific".
> 
> Call me pedantic, but does anyone else consider that the glm function
> should be more omnibus?.

You will need to start with lm, that is also method-specific (and
its QR is much `rawer' than in S).

Yes, it would be a good idea to rewrite glm for many such reasons, but
is that a high priority for R?
 
-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Jun 28 20:18:41 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Mon, 28 Jun 1999 14:18:41 -0400
Subject: [R] using R interactively
Message-ID: <NABBLIOAJNIMENKGLDDGCEBMCNAA.twestley@buffalo.veridian.com>

1) Is it possible to erase data points, legends, and/or text
   from an R plot?

2) What's the best way to find the closest data point to
   what locator() returns?

For more background and some context on these questions, read on...

In using R interactively, I am displaying further details
about a specific data point when the user clicks on the
plot point.

Here's a simple example:

# begin example
n <- runif(10)
plot(n)

while (1) {
   # get index of data point user clicks on
   l <- locator(1)
   index <- order(abs(n-l$y))[1]

   # show which one user clicked on
   points (x=index, y=n[index], pch="X")

   # show details about that data point
   legend (x=1, y=max(n),
      legend=paste("n(", index, ") = ", n[index], sep=""))
}
# end example

1) Is there a way to remove or erase the data point used
   to identify which data point was selected and the legend
   when the user clicks on the next data point?

2) Is there a better way to find the closest data point
   than what I used: order(abs(n-l$y))[1]?  I'm pretty new
   to R so I'm sure there are better ways than this.

   In my actual code, the X axis is time so I searched in
   the time vector rather than in y as in the example above.
   I'm sure there must be an easy way to find the closest point
   in both X and Y space.

3) Also, has anyone implemented anything like buttons or pull-down
   menus so that I could implement other functions?  I'm using
   Tcl/Tk to control this application but I would prefer that, once
   the plot is displayed, the user doesn't have to go back to another
   window to invoke other functions (such as Quit).

I'm using R version 0.64.0 on sparc-sun-solaris2.5.1.  The
sample code above also works as expected on Windows 95 with
R version 0.63.3.

Thanks.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 28 20:57:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 1999 20:57:46 +0200
Subject: [R] using R interactively
In-Reply-To: "Terry J. Westley"'s message of "Mon, 28 Jun 1999 14:18:41 -0400"
References: <NABBLIOAJNIMENKGLDDGCEBMCNAA.twestley@buffalo.veridian.com>
Message-ID: <x26748p2z9.fsf@blueberry.kubism.ku.dk>

"Terry J. Westley" <twestley at buffalo.veridian.com> writes:

> 1) Is it possible to erase data points, legends, and/or text
>    from an R plot?

Unfortunately no. R is still pretty much stuck in the old hardcopy
device model. Not that we wouldn't want something smarter, but the
changes would be pretty pervasive.

> 2) What's the best way to find the closest data point to
>    what locator() returns?

identify()

> 3) Also, has anyone implemented anything like buttons or pull-down
>    menus so that I could implement other functions?  I'm using
>    Tcl/Tk to control this application but I would prefer that, once
>    the plot is displayed, the user doesn't have to go back to another
>    window to invoke other functions (such as Quit).

Guido Masarotto did a sketchy, but rather neat Tcl/Tk <-> R glue
package at some point. Doesn't work with some linuxen if one uses
international charset, but you probably couldn't care less about
that... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Mon Jun 28 23:06:09 1999
From: ben at eno.princeton.edu (Ben Bolker)
Date: Mon, 28 Jun 1999 17:06:09 -0400 (EDT)
Subject: [R] using R interactively
In-Reply-To: <NABBLIOAJNIMENKGLDDGCEBMCNAA.twestley@buffalo.veridian.com>
Message-ID: <Pine.SUN.3.95.990628170520.5867F-100000@paca>

On Mon, 28 Jun 1999, Terry J. Westley wrote:

> 1) Is it possible to erase data points, legends, and/or text
>    from an R plot?

  The tacky but possibly workable method is to re-plot the
data/legends/etc. in the background color ... 

   Ben

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Tue Jun 29 10:50:04 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Tue, 29 Jun 1999 10:50:04 CET (+0100)
Subject: [R] Text in Plots
Message-ID: <919E29560C@fgr.wu-wien.ac.at>

Dear R-users,
I have two problems:
1) In producing mathematical notation in plots I can not produce the 
italic version of greek symbols. That is
    mtext(text=expression(mu[i]))
gives the same as
    mtext(text=expression(italic(mu[i])))
Is this a bug or a specifity of my machine (R 0.63.2, Linux 2.0.36, 
i686)?

2) I would like to add x and ylabels in boxplots. Is there a way to 
do this? I tried:
    bxp(bpdata, xlab="Size Classes", ylab="Cash Flow")

Thanks for any advice!
Wolfgang Koller








-----------------------------------------
Wolfgang Koller
Research Assistant
Research Institute for European Affairs
Vienna University of Economics and Business Administration
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Tue Jun 29 12:51:21 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Tue, 29 Jun 1999 11:51:21 +0100
Subject: [R] Text in Plots
Message-ID: <006601bec21d$53f72ae0$54566f83@capc03t.medlan.cam.ac.uk>

hi

---snip---

Dear R-users,
I have two problems:
1) In producing mathematical notation in plots I can not produce the
italic version of greek symbols. That is
    mtext(text=expression(mu[i]))
gives the same as
    mtext(text=expression(italic(mu[i])))
Is this a bug or a specifity of my machine (R 0.63.2, Linux 2.0.36,
i686)?

2) I would like to add x and ylabels in boxplots. Is there a way to
do this? I tried:
    bxp(bpdata, xlab="Size Classes", ylab="Cash Flow")
---snip---

1)  this is a "feature";  the only available fonts at present are plain,
bold, italic, bolditalic, and symbol.

2) mtext() should do what you want.

hope this helps ...

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Tue Jun 29 03:46:58 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Tue, 29 Jun 1999 03:46:58
Subject: [R] manova
Message-ID: <3.0.5.16.19990629034658.224f1cc0@deimos.tc.uaslp.mx>

I am using rw0641 with Windows 98. In the help for aov it states that the
formula can sepecify multiple responses for a "maov". The help doesn't give
an example, Venables and Ripley 1997:381 doesn't either. It isn't mentioned
in the scripts nor in the section R Complements nor in Rnotes. I tried 

aov(c(y1,y2,y3)~x) 

which seemed reasonable to me but doesn't work. How does it function?

Thank you very much.

Peter B.


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun 29 14:58:10 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 Jun 1999 14:58:10 +0200
Subject: [R] text-plotting  math & regular mixed ?
Message-ID: <199906291258.OAA10869@sophie.ethz.ch>

Maybe embarassing, but I can't quickly find out how to do this:

Mix expression() text and regular text __in a variable__ for plotting:

I can easily do

plot(1,type="n",main=expression(paste("Plot of ", x ^ alpha, "; ", alpha==2.3)

However, if alpha is really just in a variable, I don't know what to do

  alpha <- 2.3
  ch.a <- format(alpha)

and now do the above but only use  `ch.a' ?

i.e., can you ``fix'' the following function ?

p.ex <- function(alpha = .05) {

     x <- seq(0,1, len=101)
     ch.a <- formatC(alpha,wid=1)
     plot(x, x^alpha, main= 
	  expression(paste("Power plot of ", x ^ alpha, " for ", alpha == {})))
     ## Where can I pass  ch.a ??			  
     invisible()			  
}

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 29 16:50:34 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 29 Jun 1999 07:50:34 -0700 (PDT)
Subject: [R] manova
In-Reply-To: <3.0.5.16.19990629034658.224f1cc0@deimos.tc.uaslp.mx>
Message-ID: <Pine.GSO.4.10.9906290748230.5925-100000@wompom.biostat.washington.edu>

On Tue, 29 Jun 1999, Peter B. Mandeville wrote:

> I am using rw0641 with Windows 98. In the help for aov it states that the
> formula can sepecify multiple responses for a "maov". The help doesn't give
> an example, Venables and Ripley 1997:381 doesn't either. It isn't mentioned
> in the scripts nor in the section R Complements nor in Rnotes. I tried 
> 
> aov(c(y1,y2,y3)~x) 

You need cbind(y1,y2,y3).  c() pastes vectors into one long vector,
cbind() pastes them into columns of a matrix.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 29 16:55:06 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jun 1999 16:55:06 +0200
Subject: [R] text-plotting  math & regular mixed ?
References: <199906291258.OAA10869@sophie.ethz.ch>
Message-ID: <x290932h11.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> i.e., can you ``fix'' the following function ?
> 
> p.ex <- function(alpha = .05) {
> 
>      x <- seq(0,1, len=101)
>      ch.a <- formatC(alpha,wid=1)
>      plot(x, x^alpha, main= 
> 	  expression(paste("Power plot of ", x ^ alpha, " for ", alpha == {})))
>      ## Where can I pass  ch.a ??			  
>      invisible()			  
> }

Use substitute(). Something like 

e<-substitute(expression(paste("Power plot of ", x ^ alpha, " for ",
alpha == ch.a)), list(ch.a=formatC(alpha,wid=1)))

plot(x, x^alpha, main=e)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjthaden at flash.net  Tue Jun 29 20:34:26 1999
From: jjthaden at flash.net (John Thaden)
Date: Tue, 29 Jun 1999 13:34:26 -0500
Subject: [R] S v. 5
Message-ID: <3.0.3.32.19990629133426.006e6944@pop.flash.net>

Does R, or will R, be integrating the changes to the Chambers/Lucent S
language under their version 5.0?  If not already, then when?

John Thaden
Little Rock, Arkansas, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Tue Jun 29 21:26:48 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Tue, 29 Jun 1999 15:26:48 -0400
Subject: [R] dev.print() doesn't copy graphics in left margin
Message-ID: <NABBLIOAJNIMENKGLDDGEECBCNAA.twestley@buffalo.veridian.com>

I've a plot which puts some text and lines in a wider than
normal left margin (using xpd=T).  When I use dev.print() to
capture the plot to postscript, it faithfully duplicates the
plot except for the graphics in the left margin.

I can't duplicate this effect in a simple plot such as
plot(runif(10)), so I can't give you sample code.

Any idea what I'm doing wrong?

R version 0.64.0 on sparc-sun-solaris2.5.1

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 29 21:43:04 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 29 Jun 1999 12:43:04 -0700 (PDT)
Subject: [R] S v. 5
In-Reply-To: <3.0.3.32.19990629133426.006e6944@pop.flash.net>
Message-ID: <Pine.GSO.4.10.9906291241350.5997-100000@wompom.biostat.washington.edu>

On Tue, 29 Jun 1999, John Thaden wrote:

> Does R, or will R, be integrating the changes to the Chambers/Lucent S
> language under their version 5.0?  If not already, then when?

Perhaps, but Probably not. (Neither the Chambers et al changes to their
version 4 or the Mathsoft changes to _their_ version 5).

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbuerkle at bio.indiana.edu  Tue Jun 29 22:05:22 1999
From: cbuerkle at bio.indiana.edu (Alex Buerkle)
Date: Tue, 29 Jun 1999 15:05:22 -0500 (EST)
Subject: [R] question regarding names() value assignment 
Message-ID: <Pine.LNX.4.10.9906291458110.12468-100000@tortoise.bio.indiana.edu>


I am having trouble assigning a name to single columns in a dataframe.
The following is an example using 0.64.1 and linux.

tmp is a dataframe.

> names(tmp)
[1] "some"  "thing"

> names(tmp)<-c("else","again")

> names(tmp)
[1] "else"  "again"

> names(tmp[2])
[1] "again"

> names(tmp[2])<-"altogether"

> names(tmp[2])
[1] "again"

Can anyone explain this behavior to me?

Thanks, Alex


~^^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^
C. Alex Buerkle                 Ph:  812-855-9018
Jordan Hall 142                 Fax: 812-855-6705
Department of Biology
Indiana University
Bloomington, IN 47405    cbuerkle at bio.indiana.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 29 22:14:32 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 29 Jun 1999 13:14:32 -0700 (PDT)
Subject: [R] question regarding names() value assignment 
In-Reply-To: <Pine.LNX.4.10.9906291458110.12468-100000@tortoise.bio.indiana.edu>
Message-ID: <Pine.GSO.4.10.9906291312430.5997-100000@wompom.biostat.washington.edu>

On Tue, 29 Jun 1999, Alex Buerkle wrote:

> 
> I am having trouble assigning a name to single columns in a dataframe.
> The following is an example using 0.64.1 and linux.
> 
> tmp is a dataframe.
> 
> > names(tmp)
> [1] "some"  "thing"
> 
> > names(tmp)<-c("else","again")
> 
> > names(tmp)
> [1] "else"  "again"
> 
> > names(tmp[2])
> [1] "again"
> 
> > names(tmp[2])<-"altogether"
> 
> > names(tmp[2])
> [1] "again"
> 
> Can anyone explain this behavior to me?

tmp[2] is a copy of the second column of tmp. You change the name on this
copy, which is then discarded. 

You mean 

	names(tmp)[2]<-"again"


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 29 22:16:48 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Jun 1999 21:16:48 +0100 (GMT Daylight Time)
Subject: [R] S v. 5
In-Reply-To: <3.0.3.32.19990629133426.006e6944@pop.flash.net>
Message-ID: <Pine.WNT.4.05.9906292105100.4787-100000@tern.stats>

On Tue, 29 Jun 1999, John Thaden wrote:

> Does R, or will R, be integrating the changes to the Chambers/Lucent S
> language under their version 5.0?  If not already, then when?

Wait a minute: S is only at version 4, and I doubt if there will be an S
version 5 (mutter omega quietly, or look at www.omegahat.org). One issue
here is what one is talking about, as Sv4 and S-PLUS 5.x (now 5.1) are none
too similar.

As far as I know a reasonable aim is to get to R1.0 early next year as `not
unlike the prototype' (Sv3 as exemplified in S-PLUS 3.4). After that, it
depends how enthusiastic people still are about R (as distinct from, say,
omega).

Do be aware how long Sv4/S-PLUS 5.x was in gestation and how much time was
spent on backwards compatibility and is still being spent on efficiency
and bug-fixes. My guess is that those changes took more effort than the
whole of current R. After using various versions for 18 months I still do
not fully grasp S-PLUS 5.x (and know not to believe the documentation).
[Funny, R does not have that problem ... so perhaps we should document aht
we have first.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbuerkle at bio.indiana.edu  Tue Jun 29 22:43:42 1999
From: cbuerkle at bio.indiana.edu (Alex Buerkle)
Date: Tue, 29 Jun 1999 15:43:42 -0500 (EST)
Subject: [R] question regarding names() value assignment 
In-Reply-To: <Pine.GSO.4.10.9906291312430.5997-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.LNX.4.10.9906291541100.12468-100000@tortoise.bio.indiana.edu>


Many thanks, that did it.

Alex

On Tue, 29 Jun 1999, Thomas Lumley wrote:

> > > names(tmp[2])
> > [1] "again"
> > 
> > Can anyone explain this behavior to me?
> 
> tmp[2] is a copy of the second column of tmp. You change the name on this
> copy, which is then discarded. 
> 
> You mean 
> 
> 	names(tmp)[2]<-"again"
> 
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjthaden at flash.net  Wed Jun 30 08:35:28 1999
From: jjthaden at flash.net (John Thaden)
Date: Wed, 30 Jun 1999 01:35:28 -0500
Subject: [R] S v. 5
In-Reply-To: <Pine.WNT.4.05.9906292105100.4787-100000@tern.stats>
References: <3.0.3.32.19990629133426.006e6944@pop.flash.net>
Message-ID: <3.0.3.32.19990630013528.00760d44@pop.flash.net>

I asked
>> Does R, or will R, be integrating the changes to the Chambers/Lucent S
>> language under their version 5.0?  If not already, then when?
>
and Brian Ripley answered,
>Wait a minute: S is only at version 4, and I doubt if there will be an S
>version 5 (mutter omega quietly, or look at www.omegahat.org). One issue
>here is what one is talking about, as Sv4 and S-PLUS 5.x (now 5.1) are none
>too similar.

I was asking only about Chambers' et al. S, and I meant to say version 4.
I really don't give two shakes about S-Plus version 5.x nor S-Plus 2000,
since MathSoft appears less interested in S language than in their GUI
commands, which too often have little or no resemblance to S.
>
>As far as I know a reasonable aim is to get to R1.0 early next year as `not
>unlike the prototype' (Sv3 as exemplified in S-PLUS 3.4).  After that, it
>depends how enthusiastic people still are about R (as distinct from, say,
>omega).

OK, sounds reasonable.  I've certainly gotten lots of mileage from Sv3.
The omega webpage makes an interesting read.  I hope the advantages of Java
warrant the efforts required to create this new structure, rather than
refine existing ones.
************************************************************
John J. Thaden, Ph.D., Instructor        jjthaden at life.uams.edu
Department of Geriatrics                     (501) 257-5583
University of Arkansas for Medical Sciences  FAX: (501) 257-4822
      mail & ship to:	J. L. McClellan V.A. Medical Center
		Research-151 (Room GB103 or GC124)
		4300 West 7th Street
		Little Rock AR 72205 USA
***********************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 30 09:02:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 Jun 1999 08:02:56 +0100 (BST)
Subject: [R] S v. 5
In-Reply-To: <3.0.3.32.19990630013528.00760d44@pop.flash.net>
Message-ID: <Pine.GSO.4.05.9906300738070.5595-100000@auk.stats>

On Wed, 30 Jun 1999, John Thaden wrote:

> I asked
> >> Does R, or will R, be integrating the changes to the Chambers/Lucent S
> >> language under their version 5.0?  If not already, then when?
> >
> and Brian Ripley answered,
> >Wait a minute: S is only at version 4, and I doubt if there will be an S
> >version 5 (mutter omega quietly, or look at www.omegahat.org). One issue
> >here is what one is talking about, as Sv4 and S-PLUS 5.x (now 5.1) are none
> >too similar.
> 
> I was asking only about Chambers' et al. S, and I meant to say version 4.

But you did not say so, and gave a version number for a particular
implementation, so those readers without extra-sensory perception did not
know what you meant.  And that `et al' includes MathSoft.

> I really don't give two shakes about S-Plus version 5.x nor S-Plus 2000,
> since MathSoft appears less interested in S language than in their GUI
> commands, which too often have little or no resemblance to S.

You have missed a crucial point: MathSoft have an exclusive licence to S,
so the only version of Lucent's Sv4 available to you (and me) is S-PLUS
5.x. You are saying you have no interest in the only public implementation
of Sv4!

Personally, I think S-PLUS/Mathsoft knocking has no place on R-help. Could
we confine this list to help about R, not opinions on another product about
which you have expressed a lack of interest, let alone opinions about
commercial organizations?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From magni at omega.ien.it  Wed Jun 30 10:21:49 1999
From: magni at omega.ien.it (Alessandro Magni)
Date: Wed, 30 Jun 1999 10:21:49 +0200
Subject: [R] grid command
Message-ID: <3779D39D.21D053AE@omega.ien.it>


I'd like to know if there is a way to plot your stuff and have a grid on
the plot, in which
the grid falls exactly where it should, i.e. on the axis labels.
E.g., if on x axis I have the labels -4,-2,0,2,4 and on y
-1,-0.5,0,0.5,1
the command grid(5,5) puts the grid out of place, just on 0 it falls
right.
Any hint?

Thanks

    Alessandro Magni

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\ Alessandro Magni
/                               IEN Galileo Ferraris
\                               c.M.d'Azeglio 42, 10125 Torino (ITALIA)
/                               magni at omega.ien.it
\                               Fax (39)11-6507611
/                               Tel (39)11-3919757
\                               Homepage at:
http://alpha.ien.it/~magni/home.html
/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at amadeus.statistik.uni-dortmund.de  Wed Jun 30 11:12:24 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Wed, 30 Jun 1999 11:12:24 +0200 (MET DST)
Subject: [R] qr and Moore-Penrose
In-Reply-To: <Pine.GSO.4.05.9906300738070.5595-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.9906301105540.6099-100000@atlas>


yesterday I had a little shock using qr (or lm). having a matrix 

X <- cbind(1,diag(3))
y <- 1:3

the qr.coef returns one NA (because X is singular). So I computed the
Moore-Penrose inverse of X (just from the definition) and I get a correct
result. Whats wrong about qr in this situation?

here is the code:

mpinv <- function(X)
{
	# Moore-Penrose inverse

	Eps <- 100 * .Machine$double.eps;
	
	# singular value decomposition

	s <- svd(X);
	d <- s$d;
	m <- length(d);

	if (!(is.vector(d)))
		return(t(s$v%*%(1/d)%*%t(s$u)));

	# remove eigenvalues equal zero

	d <- d[d > Eps];
	notnull <- length(d);	

	if (notnull == 1)
	{
		inv <- 1/d;
	} else {
		inv <- solve(diag(d));
	}

	# add rows, columns of zeros if needed 

	if (notnull != m)
	{
		inv <- cbind(inv, matrix(0, nrow=notnull, ncol=(m - notnull)));
		inv <- rbind(inv, matrix(0, nrow=(m-notnull), ncol=m));
	} 
	
	# compute Moore-Penrose

	mp <- s$v%*%inv%*%t(s$u);
	
	# set very small values to zero

 	mp[abs(mp) < Eps] <- 0;
	return(mp);
};

X <- cbind(1, diag(3));	# singular matrix
y <- 1:3
Xp <- qr(X);
b1 <- qr.coef(Xp, y);	# contains NA 
b2 <- mpinv(X)%*%y	# least square fit using Moore-Penrose
X%*%b2			# == y 
  


Torsten 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 30 11:04:10 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 30 Jun 1999 11:04:10 +0200
Subject: [R] grid command
In-Reply-To: <3779D39D.21D053AE@omega.ien.it> (message from Alessandro Magni
	on Wed, 30 Jun 1999 10:21:49 +0200)
References: <3779D39D.21D053AE@omega.ien.it>
Message-ID: <199906300904.LAA12164@sophie.ethz.ch>

>>>>> On Wed, 30 Jun 1999 10:21:49 +0200, Alessandro Magni <magni at omega.ien.it> said:

    Alessandro> I'd like to know if there is a way to plot your stuff and
    Alessandro> have a grid on the plot, in which the grid falls exactly
    Alessandro> where it should, i.e. on the axis labels.  E.g., if on x
    Alessandro> axis I have the labels -4,-2,0,2,4 and on y -1,-0.5,0,0.5,1
    Alessandro> the command grid(5,5) puts the grid out of place, just on 0
    Alessandro> it falls right.  Any hint?

I didn't even remember  grid()... 
If you look at it, you see that it's a basic interface to  abline.   -> 

1st) solution:

   abline(h= y.vec, v = x.vec,  col = .., lty =.., lwd = ...)

2nd) solution, more closely linked with asking for
    ``grid where the labels are'' : Use the "tck"  par() :

   plot(1:10,axes=F, frame=T)
   axis(1, at=1:10, tck = 1)
   axis(2, at=2*(1:5), tck=1)

  However, I don't think you can set `col', 'lty',... of these

  [--> Do we need more  par()s , such as   col.tck, lwd.tck, lty.tck ,
      or at least new axis arguments ?   Paul ? 
  ] 

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Wed Jun 30 12:17:58 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Wed, 30 Jun 1999 11:17:58 +0100
Subject: [R] grid command
Message-ID: <00a001bec2e1$d53c94e0$54566f83@capc03t.medlan.cam.ac.uk>

hi

>I'd like to know if there is a way to plot your stuff and have a grid on
>the plot, in which
>the grid falls exactly where it should, i.e. on the axis labels.
>E.g., if on x axis I have the labels -4,-2,0,2,4 and on y
>-1,-0.5,0,0.5,1
>the command grid(5,5) puts the grid out of place, just on 0 it falls
>right.
>Any hint?


does something like ...

abline(h=seq(-1,1,.5), v=seq(-4,4,2), lty=3)

... or possibly ...

abline(h=seq(-1,1,.5), v=seq(-4,4,2), col="gray80")

... do what you want ?

paul




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 30 12:41:51 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jun 1999 12:41:51 +0200
Subject: [R] S v. 5
In-Reply-To: Thomas Lumley's message of "Tue, 29 Jun 1999 12:43:04 -0700 (PDT)"
References: <Pine.GSO.4.10.9906291241350.5997-100000@wompom.biostat.washington.edu>
Message-ID: <x2hfnqhswg.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> On Tue, 29 Jun 1999, John Thaden wrote:
> 
> > Does R, or will R, be integrating the changes to the Chambers/Lucent S
> > language under their version 5.0?  If not already, then when?
> 
> Perhaps, but Probably not. (Neither the Chambers et al changes to their
> version 4 or the Mathsoft changes to _their_ version 5).

Yes. I'm fairly sure we won't start messing with the language syntax.
We might lift off some of the features, like connections, etc. 

However, the point of developing R should not be just to clone
existing systems. Although we try to be compatible with S, we are more
interested in using it as the foundation for new and interesting
features.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Jun 30 13:03:04 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 30 Jun 1999 13:03:04 +0200 (MET DST)
Subject: [R] S v. 5
In-Reply-To: <x2hfnqhswg.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Jun 30, 99 12:41:51 pm
Message-ID: <199906301103.NAA09494@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1276 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990630/fa6b9469/attachment.pl

From p.dalgaard at biostat.ku.dk  Wed Jun 30 13:35:13 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jun 1999 13:35:13 +0200
Subject: [R] qr and Moore-Penrose
In-Reply-To: Torsten Hothorn's message of "Wed, 30 Jun 1999 11:12:24 +0200 (MET DST)"
References: <Pine.GSO.4.05.9906301105540.6099-100000@atlas>
Message-ID: <x2g139j4zy.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <hothorn at amadeus.statistik.uni-dortmund.de> writes:

> yesterday I had a little shock using qr (or lm). having a matrix 
> 
> X <- cbind(1,diag(3))
> y <- 1:3
> 
> the qr.coef returns one NA (because X is singular). So I computed the
> Moore-Penrose inverse of X (just from the definition) and I get a correct
> result. Whats wrong about qr in this situation?

Ummm, what exactly do you perceive as a problem here?

> X <- cbind(1, diag(3));	# singular matrix
> y <- 1:3
> Xp <- qr(X);
> b1 <- qr.coef(Xp, y);	# contains NA 
> b2 <- mpinv(X)%*%y	# least square fit using Moore-Penrose
> X%*%b2			# == y 

...and so is X[,-4] %*% b1[-4] (or, equivalently, X%*%b1 if you
replace the NA with a 0). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 30 13:51:56 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jun 1999 13:51:56 +0200
Subject: [R] S v. 5
In-Reply-To: Jim Lindsey's message of "Wed, 30 Jun 1999 13:03:04 +0200 (MET DST)"
References: <199906301103.NAA09494@alpha.luc.ac.be>
Message-ID: <x2d7ydj483.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> > However, the point of developing R should not be just to clone
> > existing systems. Although we try to be compatible with S, we are more
> > interested in using it as the foundation for new and interesting
> > features.
> 
> That is what I have been wanting to hear for the last 3 or 4 years! Jim

We've been saying it all along, Jim. The problem lies in getting down
to actually doing it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 30 14:15:08 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Jun 1999 13:15:08 +0100 (BST)
Subject: [R] qr and Moore-Penrose
Message-ID: <199906301215.NAA01410@toucan.stats.ox.ac.uk>

> Date: Wed, 30 Jun 1999 11:12:24 +0200 (MET DST)
> From: Torsten Hothorn <hothorn at amadeus.statistik.uni-dortmund.de>
> 
> yesterday I had a little shock using qr (or lm). having a matrix 
> 
> X <- cbind(1,diag(3))
> y <- 1:3
> 
> the qr.coef returns one NA (because X is singular). So I computed the
> Moore-Penrose inverse of X (just from the definition) and I get a correct
> result. Whats wrong about qr in this situation?

What is a correct result, by the way?  There are infinitely many solutions
for the regression of y on X, and the Moore-Penrose one is just one choice
(that assumes that the coefficients are somehow comparable).

> X <- cbind(1, diag(3));	# singular matrix
> y <- 1:3
> Xp <- qr(X);
> b1 <- qr.coef(Xp, y);	# contains NA 
> b2 <- mpinv(X)%*%y	# least square fit using Moore-Penrose
> X%*%b2			# == y 

Those `;' are unnecessary: either CR or ; separates expressions in
S-like languages.

I find
> drop(b2)
[1]  1.5 -0.5  0.5  1.5
> b1    
[1]  3 -2 -1 NA
> lm(y ~ X + 0)

Call:
lm(formula = y ~ X + 0)

Coefficients:
X1  X2  X3  X4  
 3  -2  -1  NA  
> lm(y ~ X)

Call:
lm(formula = y ~ X)

Coefficients:
(Intercept)           X1           X2           X3           X4  
        2.5           NA         -1.5           NA           NA  
[sic]

whereas S gives

> qr.coef(qr(X), y)
[1]  3 -2 -1  0
> lm(y ~ X, singular.ok=T)
Call:
lm(formula = y ~ X, singular.ok = T)

Coefficients: (2 not defined because of singularities)
 (Intercept) X2 X3 
           3 -2 -1

Now, I can see the problem with lm under R, but what is wrong with qr.coef?

#--------

In R:

> qr(cbind(1,1,diag(3)))
$qr
           [,1]       [,2]      [,3]       [,4]       [,5]
[1,] -1.7320508 -0.5773503 -1.732051 -0.5773503 -0.5773503
[2,]  0.5773503  0.8164966  0.000000 -0.4082483 -0.4082483
[3,]  0.5773503  0.7071068  0.000000 -0.7071068  0.7071068

$rank
[1] 2

$qraux
[1] 1.5773503 1.7071068 0.0000000 0.7071068 0.7071068

$pivot
[1] 1 3 2 4 5

It seems that there is a problem here (and S gets this right). I think
the changes to the Linpack pivoting strategy in dqrdc2 fail in this
example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at amadeus.statistik.uni-dortmund.de  Wed Jun 30 15:44:58 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Wed, 30 Jun 1999 15:44:58 +0200 (MET DST)
Subject: [R] qr and Moore-Penrose
In-Reply-To: <199906301215.NAA01410@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.05.9906301534190.4799-100000@amadeus.statistik.uni-dortmund.de>


> What is a correct result, by the way?  There are infinitely many solutions
> for the regression of y on X, and the Moore-Penrose one is just one choice
> (that assumes that the coefficients are somehow comparable).

hm, 1.5, -0.5, 0.5, 1.5 should be a unique solution to Xb = y (with
minimal 2-norm). 

> Those `;' are unnecessary: either CR or ; separates expressions in
> S-like languages.

:-) teachers forced me learing pascal, it's just styling

> > drop(b2)
> [1]  1.5 -0.5  0.5  1.5
> > b1    
> [1]  3 -2 -1 NA
> > lm(y ~ X + 0)
> 
> Call:
> lm(formula = y ~ X + 0)
> 
> Coefficients:
> X1  X2  X3  X4  
>  3  -2  -1  NA  
> > lm(y ~ X)
> 
> Call:
> lm(formula = y ~ X)
> 
> Coefficients:
> (Intercept)           X1           X2           X3           X4  
>         2.5           NA         -1.5           NA           NA  
> [sic]
> 
> whereas S gives
> 
> > qr.coef(qr(X), y)
> [1]  3 -2 -1  0
> > lm(y ~ X, singular.ok=T)
> Call:
> lm(formula = y ~ X, singular.ok = T)
> 
> Coefficients: (2 not defined because of singularities)
>  (Intercept) X2 X3 
>            3 -2 -1
> 
> Now, I can see the problem with lm under R, but what is wrong with qr.coef?

well ok, that's a problem of lm when using anova design matrix. I found
this phenomenon doing a anova analysis.

Torsten 

> 
> #--------
> 
> In R:
> 
> > qr(cbind(1,1,diag(3)))
> $qr
>            [,1]       [,2]      [,3]       [,4]       [,5]
> [1,] -1.7320508 -0.5773503 -1.732051 -0.5773503 -0.5773503
> [2,]  0.5773503  0.8164966  0.000000 -0.4082483 -0.4082483
> [3,]  0.5773503  0.7071068  0.000000 -0.7071068  0.7071068
> 
> $rank
> [1] 2
> 
> $qraux
> [1] 1.5773503 1.7071068 0.0000000 0.7071068 0.7071068
> 
> $pivot
> [1] 1 3 2 4 5
> 
> It seems that there is a problem here (and S gets this right). I think
> the changes to the Linpack pivoting strategy in dqrdc2 fail in this
> example.
> 




> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 30 16:12:25 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Jun 1999 15:12:25 +0100 (BST)
Subject: [R] qr and Moore-Penrose
Message-ID: <199906301412.PAA17620@toucan.stats.ox.ac.uk>


> Date: Wed, 30 Jun 1999 15:44:58 +0200 (MET DST)
> From: Torsten Hothorn <hothorn at amadeus.statistik.uni-dortmund.de>
> To: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] qr and Moore-Penrose
> 
> 
> > What is a correct result, by the way?  There are infinitely many solutions
> > for the regression of y on X, and the Moore-Penrose one is just one choice
> > (that assumes that the coefficients are somehow comparable).
> 
> hm, 1.5, -0.5, 0.5, 1.5 should be a unique solution to Xb = y (with
> minimal 2-norm). 

And my point was `what has `minimal 2-norm' got to do with this'?
Regression coefficients are not necessarily in the same units: they are
not in a Euclidean space.  There are lots of other solutions with
claims to be reasonable, including those which use just `rank' of the
columns. qr gives one of the latter.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jun 30 16:35:58 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 30 Jun 1999 09:35:58 -0500
Subject: [R] postscript
Message-ID: <199906301435.JAA37724@mean.stat.purdue.edu>


I have been playing with the postscript graphics in 64.1 and don't
seem to be able to get the character size right.  It doesn't seem to
respond to size options such as cex.  Am I missing something that is
specific to R?

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Wed Jun 30 22:53:02 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Wed, 30 Jun 1999 16:53:02 -0400
Subject: [R] using R interactively
In-Reply-To: <NABBLIOAJNIMENKGLDDGCEBMCNAA.twestley@buffalo.veridian.com>
Message-ID: <NABBLIOAJNIMENKGLDDGMECHCNAA.twestley@buffalo.veridian.com>

Thanks for your suggestions to my questions:
> 1) Is it possible to erase data points, legends, and/or text
>    from an R plot?

Several of you suggested to the method I finally chose: rewrite
the data point to be erased with the background color.

> 2) What's the best way to find the closest data point to
>    what locator() returns?

Thanks to Charles Berry for his suggestion on using the Euclidian
distance method.  I had to modify his idea to convert the position
of my data points to inches in order to account for non-square
plots and non-equal axes lengths.  Below is the code for a simple
test version of what I did.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

#-----------------------------------------------------------------------
loc.prev <- list(x=NA, y=NA)

# Creates two vectors, x and y, of n runif
# data points and plots them -- this is just
# used for testing functions plotdist and
# closest.
#------------------------------------------
newplot <- function (n) {
  x <<- 1:n
  y <<- runif(n)
  plot(x, y, pch="o")
}

# Computes vector of distances between
# x0,y0 and x1,y1 data points.  Get usr
# and pin each time to account for user
# resizing the window.
#-----------------------------------------
plotdist <- function (x0, y0, x1, y1, usr=par("usr"), pin=par("pin")) {
  # xpi means X coordinates Per Inch
  xpi <- (usr[2] - usr[1]) / pin[1]
  ypi <- (usr[4] - usr[3]) / pin[2]
  (((x0-x1)/xpi)^2 + ((y0-y1)/ypi)^2)^0.5
}

# Determines which vector element in x,y is
# closest to lx, ly.
#------------------------------------------
closest <- function (x, y, lx, ly) {
  dist <- plotdist(x, y, lx, ly)
  dist.min <- min(dist)
  seq(along=x)[dist == dist.min]
}

# Let user click on a plot, then show
# details of the data point.
#------------------------------------
show <- function () {
  while (1) {

    # get location user clicked on and
    # determine index in x,y
    #---------------------------------
    l <- locator(1)
    index <- closest(x, y, l$x, l$y)

    # Erase marker on previous point,
    # redraw previous point and save
    # newly selected data point for
    # next erase.
    #-------------------------------
    if (!is.na(loc.prev$x)) {
      points(x=loc.prev$x, y=loc.prev$y,
        pch="X", col="white")
      points(x=loc.prev$x, y=loc.prev$y,
        pch="o", col="black")
    }
    loc.prev <- list(x=x[index], y=y[index])

    # Display a marker of which data point
    # the user selected and a legend with
    # details of the data.
    #-------------------------------------
    points(x=x[index], y=y[index], pch="X")
    legend (x=1, y=max(y),
      legend=paste("y[", index, "]=", y[index], sep=""))
  }
}

# demonstrate with a plot of 50 random numbers
#---------------------------------------------
newplot(50)
show()

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


